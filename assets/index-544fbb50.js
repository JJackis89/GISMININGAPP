import{g as vi}from"./customElement-02927a25.js";import{i as pt,L as ht,x as G,a as X,c as vt,y as Ve,D as hr,f as vr,E as Je,z as Qa,b as ye,d as Ja,A as Ee}from"./IdentityManager-44f94195.js";import{c as Rt,a as _t,n as xe,e as gi,b as Bt,g as ro,d as oo}from"./component-35725f44.js";import{d as es,g as ts,e as ao,j as ns,f as mi,t as so,q as is,k as rs,a as Te,l as gr,m as tn}from"./dom-ca36a00c.js";import{i as he,a as co}from"./key-8ddd5569.js";import{u as lo,I as uo,s as os,i as as,a as ss}from"./interactive-dc3b177b.js";import{o as fo}from"./openCloseComponent-d534c302.js";import"./index-f00bd99f.js";import"./sanitizerUtils-d00433fc.js";/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const mr={scrim:"scrim",content:"content"},br={s:72,l:480},cs=pt`:host{position:absolute;inset:0;z-index:var(--calcite-z-index-overlay);display:flex;block-size:100%;inline-size:100%;flex-direction:column;align-items:stretch}@keyframes calcite-scrim-fade-in{0%{--tw-bg-opacity: 0 }to{--tw-text-opacity: 1 }}.scrim{position:absolute;inset:0;display:flex;flex-direction:column;align-content:center;align-items:center;justify-content:center;overflow:hidden;animation:calcite-scrim-fade-in var(--calcite-internal-animation-timing-medium) ease-in-out;background-color:var(--calcite-scrim-background, var(--calcite-color-transparent-scrim))}.content{padding:1rem}:host([hidden]){display:none}[hidden]{display:none}`,yn=class yn extends ht{constructor(){super(...arguments),this.resizeObserver=Rt("resize",()=>this.handleResize()),this.messages=_t(),this.hasContent=!1,this.loading=!1}connectedCallback(){super.connectedCallback(),this.resizeObserver?.observe(this.el)}disconnectedCallback(){super.disconnectedCallback(),this.resizeObserver?.disconnect()}handleDefaultSlotChange(i){this.hasContent=es(i)}storeLoaderEl(i){this.loaderEl=i,this.handleResize()}getScale(i){return i<br.s?"s":i>=br.l?"l":"m"}handleResize(){const{loaderEl:i,el:s}=this;i&&(this.loaderScale=this.getScale(Math.min(s.clientHeight,s.clientWidth)??0))}render(){const{hasContent:i,loading:s,messages:l}=this;return G`<div class=${X(mr.scrim)}>${s?G`<calcite-loader .label=${l.loading} .scale=${this.loaderScale} ${xe(this.storeLoaderEl)}></calcite-loader>`:null}<div class=${X(mr.content)} .hidden=${!i}><slot @slotchange=${this.handleDefaultSlotChange}></slot></div></div>`}};yn.properties={hasContent:[16,{},{state:!0}],loaderScale:[16,{},{state:!0}],loading:[7,{},{reflect:!0,type:Boolean}],messageOverrides:[0,{},{attribute:!1}]},yn.styles=cs;let ni=yn;vt("calcite-scrim",ni);/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const Ce={button:"button",buttonTextVisible:"button--text-visible",buttonCompact:"button--compact",indicatorText:"indicator-text",iconContainer:"icon-container",slotContainer:"slot-container",slotContainerHidden:"slot-container--hidden",textContainer:"text-container",textContainerVisible:"text-container--visible",indicatorWithIcon:"indicator-with-icon",indicatorWithoutIcon:"indicator-without-icon"},ls={tooltip:"tooltip"},us=pt`:host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex;cursor:pointer;background-color:transparent;--calcite-internal-action-text-color: var(--calcite-color-text-3);border-radius:var(--calcite-action-corner-radius, var(--calcite-action-corner-radius-start-start, var(--calcite-corner-radius)) var(--calcite-action-corner-radius-start-end, var(--calcite-corner-radius)) var(--calcite-action-corner-radius-end-end, var(--calcite-corner-radius)) var(--calcite-action-corner-radius-end-start, var(--calcite-corner-radius)))}.interaction-container{border-radius:inherit}:host([drag-handle]){cursor:move;--calcite-internal-action-text-color: var(--calcite-color-border-input);--calcite-internal-action-padding-inline: var(--calcite-spacing-xxs)}.button{border-radius:inherit;position:relative;margin:0;display:flex;inline-size:auto;align-items:center;justify-content:flex-start;border-style:none;font-family:var(--calcite-font-family);font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-medium);outline-color:transparent;background-color:var(--calcite-action-background-color, var(--calcite-color-foreground-1));color:var(--calcite-action-text-color, var(--calcite-internal-action-text-color));text-align:unset;flex:1 0 auto;cursor:inherit}.button:hover{background-color:var(--calcite-action-background-color-hover, var(--calcite-color-foreground-2));color:var(--calcite-action-text-color-press, var(--calcite-action-text-color-pressed, var(--calcite-color-text-1)))}.button:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.button:active{background-color:var(--calcite-action-background-color-press, var(--calcite-action-background-color-pressed, var(--calcite-color-foreground-3)))}.icon-container{pointer-events:none;margin:0;display:flex;align-items:center;justify-content:center;min-inline-size:1rem;min-block-size:1.5rem}.text-container{margin:0;inline-size:0px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.5rem;opacity:0;transition-property:opacity;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-property:margin;transition-property:inline-size}.text-container--visible{inline-size:auto;flex:1 1 auto;opacity:1}:host([active]) .button,:host([active]) .button:hover,:host([active]) .button:focus{color:var(--calcite-action-text-color-press, var(--calcite-action-text-color-pressed, var(--calcite-color-text-1)));background-color:var(--calcite-action-background-color-press, var(--calcite-action-background-color-pressed, var(--calcite-color-foreground-3)))}:host([active]) .button:active{background-color:var(--calcite-action-background-color, var(--calcite-color-foreground-1))}:host([loading]) .button:hover,:host([loading]) .button:focus{background-color:var(--calcite-action-background-color, var(--calcite-color-foreground-1))}:host([loading]) .text-container{opacity:var(--calcite-opacity-disabled)}:host([loading]) calcite-loader[inline]{margin-inline-end:0px}:host([appearance=transparent]):host([active]) .button{background-color:var(--calcite-color-transparent-press)}:host([appearance=transparent]) .button{background-color:transparent;transition-property:box-shadow;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1)}:host([appearance=transparent]) .button:hover{background-color:var(--calcite-color-transparent-hover)}:host([appearance=transparent]) .button:active{background-color:var(--calcite-color-transparent-press)}:host([data-active]) .button{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([scale=s]) .button{font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-normal);padding-inline:var(--calcite-internal-action-padding-inline, .5rem);padding-block:var(--calcite-internal-action-padding-block, var(--calcite-spacing-xxs))}:host([scale=s]) .button--text-visible .icon-container{margin-inline-end:.5rem}:host([scale=m]) .button{font-size:var(--calcite-font-size--1);line-height:1rem;font-weight:var(--calcite-font-weight-normal);padding-inline:var(--calcite-internal-action-padding-inline, 1rem);padding-block:var(--calcite-internal-action-padding-block, var(--calcite-spacing-md))}:host([scale=m]) .button--text-visible .icon-container{margin-inline-end:.75rem}:host([scale=l]) .button{font-size:var(--calcite-font-size-0);line-height:1.25rem;font-weight:var(--calcite-font-weight-normal);padding-inline:var(--calcite-internal-action-padding-inline, 1.25rem);padding-block:var(--calcite-internal-action-padding-block, var(--calcite-spacing-xl))}:host([scale=l]) .button--text-visible .icon-container{margin-inline-end:1rem}:host([alignment=center]) .button{justify-content:center}:host([alignment=end]) .button{justify-content:flex-end}:host([alignment=center]) .button .text-container--visible,:host([alignment=end]) .button .text-container--visible{flex:0 1 auto}:host([scale=s][compact]) .button,:host([scale=m][compact]) .button,:host([scale=l][compact]) .button{padding-inline:0px}.slot-container{display:flex}.slot-container--hidden{display:none}.button--text-visible{inline-size:100%}.indicator-with-icon{position:relative}.indicator-with-icon:after{content:"";position:absolute;block-size:.5rem;inline-size:.5rem;border-radius:9999px;inset-block-end:-.275rem;inset-inline-end:-.275rem;background-color:var(--calcite-action-indicator-color, var(--calcite-color-brand))}.indicator-without-icon{margin-inline:.25rem;inline-size:1rem;position:relative}.indicator-without-icon:after{content:"";position:absolute;block-size:.5rem;inline-size:.5rem;border-radius:9999px;inset-block-end:-.275rem;inset-inline-end:-.275rem;background-color:var(--calcite-action-indicator-color, var(--calcite-color-brand))}.indicator-text{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}:host([hidden]){display:none}[hidden]{display:none}:host([disabled]) .button,:host([disabled]) .button:hover,:host([disabled]) .button:focus{cursor:default;opacity:var(--calcite-opacity-disabled);background-color:var(--calcite-action-background-color, var(--calcite-action-background-color, var(--calcite-color-foreground-1)))}:host([disabled]):host([active]) .button,:host([disabled]):host([active]) .button:hover,:host([disabled]):host([active]) .button:focus{opacity:var(--calcite-opacity-disabled);background-color:var(--calcite-action-background-color-press, var(--calcite-action-background-color-press, var(--calcite-action-background-color-pressed, var(--calcite-color-foreground-3))))}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}`,xn=class xn extends ht{constructor(){super(...arguments),this.guid=`calcite-action-${vi()}`,this.buttonEl=gi(),this.buttonId=`${this.guid}-button`,this.indicatorId=`${this.guid}-indicator`,this.mutationObserver=Rt("mutation",()=>this.requestUpdate()),this.messages=_t({blocking:!0}),this.active=!1,this.appearance="solid",this.compact=!1,this.disabled=!1,this.dragHandle=!1,this.iconFlipRtl=!1,this.indicator=!1,this.loading=!1,this.scale="m",this.textEnabled=!1}async setFocus(){await Bt(this),this.buttonEl.value?.focus()}connectedCallback(){super.connectedCallback(),this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0})}updated(){lo(this)}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver?.disconnect()}handleTooltipSlotChange(i){const l=i.target.assignedElements({flatten:!0}).filter(f=>f?.matches("calcite-tooltip"))[0];l&&(l.referenceElement=this.buttonEl.value)}renderTextContainer(){const{text:i,textEnabled:s}=this,l={[Ce.textContainer]:!0,[Ce.textContainerVisible]:s};return i?he("text-container",G`<div class=${X(l)}>${i}</div>`):null}renderIndicatorText(){const{indicator:i,messages:s,indicatorId:l,buttonId:f}=this;return G`<div aria-labelledby=${f??Ve} aria-live=polite class=${X(Ce.indicatorText)} id=${l??Ve} role=region>${i?s.indicator:null}</div>`}renderIconContainer(){const{loading:i,icon:s,scale:l,el:f,iconFlipRtl:g,indicator:v}=this,b=l==="l"?"l":"m",x=i?G`<calcite-loader inline .label=${this.messages.loading} .scale=${b}></calcite-loader>`:null,E=s?G`<calcite-icon class=${X({[Ce.indicatorWithIcon]:v})} .flipRtl=${g} .icon=${s} .scale=${ro(this.scale)}></calcite-icon>`:null,A=x||E,P=A||f.children?.length,z=G`<div class=${X({[Ce.slotContainer]:!0,[Ce.slotContainerHidden]:i})}><slot></slot></div>`;return P?he("icon-container",G`<div aria-hidden=true class=${X(Ce.iconContainer)}>${A}${z}</div>`):null}renderButton(){const{active:i,compact:s,disabled:l,icon:f,loading:g,textEnabled:v,label:b,text:x,indicator:E,indicatorId:A,buttonId:P,messages:z}=this,D=b||x||"",R=E?z.indicatorLabel.replace("{label}",D):D,L={[Ce.button]:!0,[Ce.buttonTextVisible]:v,[Ce.buttonCompact]:s},U=G`${this.renderIconContainer()}${this.renderTextContainer()}${!f&&E&&he("indicator-no-icon",G`<div class=${X(Ce.indicatorWithoutIcon)}></div>`)||""}`;return this.dragHandle?G`<span aria-controls=${(E?A:null)??Ve} .ariaBusy=${g} .ariaDisabled=${this.disabled?this.disabled:null} .ariaLabel=${R} .ariaPressed=${i} class=${X(L)} id=${P??Ve} role=button tabindex=${(this.disabled?null:0)??Ve} ${xe(this.buttonEl)}>${U}</span>`:G`<button aria-controls=${(E?A:null)??Ve} .ariaBusy=${g} .ariaLabel=${R} .ariaPressed=${i} class=${X(L)} .disabled=${l} id=${P??Ve} tabindex=${(l?null:0)??Ve} ${xe(this.buttonEl)}>${U}</button>`}render(){return uo({disabled:this.disabled,children:G`${this.renderButton()}<slot name=${ls.tooltip} @slotchange=${this.handleTooltipSlotChange}></slot>${this.renderIndicatorText()}`})}};xn.properties={active:[7,{},{reflect:!0,type:Boolean}],alignment:[3,{},{reflect:!0}],appearance:[3,{},{reflect:!0}],compact:[7,{},{reflect:!0,type:Boolean}],disabled:[7,{},{reflect:!0,type:Boolean}],dragHandle:[7,{},{reflect:!0,type:Boolean}],icon:[3,{},{reflect:!0}],iconFlipRtl:[7,{},{reflect:!0,type:Boolean}],indicator:[7,{},{reflect:!0,type:Boolean}],label:1,loading:[7,{},{reflect:!0,type:Boolean}],messageOverrides:[0,{},{attribute:!1}],scale:[3,{},{reflect:!0}],text:1,textEnabled:[7,{},{reflect:!0,type:Boolean}]},xn.styles=us;let ii=xn;vt("calcite-action",ii);const po=["top","right","bottom","left"],yr=["start","end"],xr=po.reduce((a,i)=>a.concat(i,i+"-"+yr[0],i+"-"+yr[1]),[]),dt=Math.min,et=Math.max,ln=Math.round,nn=Math.floor,De=a=>({x:a,y:a}),ds={left:"right",right:"left",bottom:"top",top:"bottom"},fs={start:"end",end:"start"};function ri(a,i,s){return et(a,dt(i,s))}function it(a,i){return typeof a=="function"?a(i):a}function Le(a){return a.split("-")[0]}function ze(a){return a.split("-")[1]}function ho(a){return a==="x"?"y":"x"}function bi(a){return a==="y"?"height":"width"}const ps=new Set(["top","bottom"]);function qe(a){return ps.has(Le(a))?"y":"x"}function yi(a){return ho(qe(a))}function vo(a,i,s){s===void 0&&(s=!1);const l=ze(a),f=yi(a),g=bi(f);let v=f==="x"?l===(s?"end":"start")?"right":"left":l==="start"?"bottom":"top";return i.reference[g]>i.floating[g]&&(v=dn(v)),[v,dn(v)]}function hs(a){const i=dn(a);return[un(a),i,un(i)]}function un(a){return a.replace(/start|end/g,i=>fs[i])}const wr=["left","right"],Er=["right","left"],vs=["top","bottom"],gs=["bottom","top"];function ms(a,i,s){switch(a){case"top":case"bottom":return s?i?Er:wr:i?wr:Er;case"left":case"right":return i?vs:gs;default:return[]}}function bs(a,i,s,l){const f=ze(a);let g=ms(Le(a),s==="start",l);return f&&(g=g.map(v=>v+"-"+f),i&&(g=g.concat(g.map(un)))),g}function dn(a){return a.replace(/left|right|bottom|top/g,i=>ds[i])}function ys(a){return{top:0,right:0,bottom:0,left:0,...a}}function go(a){return typeof a!="number"?ys(a):{top:a,right:a,bottom:a,left:a}}function fn(a){const{x:i,y:s,width:l,height:f}=a;return{width:l,height:f,top:s,left:i,right:i+l,bottom:s+f,x:i,y:s}}function Sr(a,i,s){let{reference:l,floating:f}=a;const g=qe(i),v=yi(i),b=bi(v),x=Le(i),E=g==="y",A=l.x+l.width/2-f.width/2,P=l.y+l.height/2-f.height/2,z=l[b]/2-f[b]/2;let D;switch(x){case"top":D={x:A,y:l.y-f.height};break;case"bottom":D={x:A,y:l.y+l.height};break;case"right":D={x:l.x+l.width,y:P};break;case"left":D={x:l.x-f.width,y:P};break;default:D={x:l.x,y:l.y}}switch(ze(i)){case"start":D[v]-=z*(s&&E?-1:1);break;case"end":D[v]+=z*(s&&E?-1:1);break}return D}const xs=async(a,i,s)=>{const{placement:l="bottom",strategy:f="absolute",middleware:g=[],platform:v}=s,b=g.filter(Boolean),x=await(v.isRTL==null?void 0:v.isRTL(i));let E=await v.getElementRects({reference:a,floating:i,strategy:f}),{x:A,y:P}=Sr(E,l,x),z=l,D={},R=0;for(let L=0;L<b.length;L++){const{name:U,fn:j}=b[L],{x:W,y:re,data:te,reset:ne}=await j({x:A,y:P,initialPlacement:l,placement:z,strategy:f,middlewareData:D,rects:E,platform:v,elements:{reference:a,floating:i}});A=W??A,P=re??P,D={...D,[U]:{...D[U],...te}},ne&&R<=50&&(R++,typeof ne=="object"&&(ne.placement&&(z=ne.placement),ne.rects&&(E=ne.rects===!0?await v.getElementRects({reference:a,floating:i,strategy:f}):ne.rects),{x:A,y:P}=Sr(E,z,x)),L=-1)}return{x:A,y:P,placement:z,strategy:f,middlewareData:D}};async function It(a,i){var s;i===void 0&&(i={});const{x:l,y:f,platform:g,rects:v,elements:b,strategy:x}=a,{boundary:E="clippingAncestors",rootBoundary:A="viewport",elementContext:P="floating",altBoundary:z=!1,padding:D=0}=it(i,a),R=go(D),U=b[z?P==="floating"?"reference":"floating":P],j=fn(await g.getClippingRect({element:(s=await(g.isElement==null?void 0:g.isElement(U)))==null||s?U:U.contextElement||await(g.getDocumentElement==null?void 0:g.getDocumentElement(b.floating)),boundary:E,rootBoundary:A,strategy:x})),W=P==="floating"?{x:l,y:f,width:v.floating.width,height:v.floating.height}:v.reference,re=await(g.getOffsetParent==null?void 0:g.getOffsetParent(b.floating)),te=await(g.isElement==null?void 0:g.isElement(re))?await(g.getScale==null?void 0:g.getScale(re))||{x:1,y:1}:{x:1,y:1},ne=fn(g.convertOffsetParentRelativeRectToViewportRelativeRect?await g.convertOffsetParentRelativeRectToViewportRelativeRect({elements:b,rect:W,offsetParent:re,strategy:x}):W);return{top:(j.top-ne.top+R.top)/te.y,bottom:(ne.bottom-j.bottom+R.bottom)/te.y,left:(j.left-ne.left+R.left)/te.x,right:(ne.right-j.right+R.right)/te.x}}const ws=a=>({name:"arrow",options:a,async fn(i){const{x:s,y:l,placement:f,rects:g,platform:v,elements:b,middlewareData:x}=i,{element:E,padding:A=0}=it(a,i)||{};if(E==null)return{};const P=go(A),z={x:s,y:l},D=yi(f),R=bi(D),L=await v.getDimensions(E),U=D==="y",j=U?"top":"left",W=U?"bottom":"right",re=U?"clientHeight":"clientWidth",te=g.reference[R]+g.reference[D]-z[D]-g.floating[R],ne=z[D]-g.reference[D],Z=await(v.getOffsetParent==null?void 0:v.getOffsetParent(E));let w=Z?Z[re]:0;(!w||!await(v.isElement==null?void 0:v.isElement(Z)))&&(w=b.floating[re]||g.floating[R]);const de=te/2-ne/2,fe=w/2-L[R]/2-1,ae=dt(P[j],fe),pe=dt(P[W],fe),K=ae,k=w-L[R]-pe,T=w/2-L[R]/2+de,M=ri(K,T,k),N=!x.arrow&&ze(f)!=null&&T!==M&&g.reference[R]/2-(T<K?ae:pe)-L[R]/2<0,V=N?T<K?T-K:T-k:0;return{[D]:z[D]+V,data:{[D]:M,centerOffset:T-M-V,...N&&{alignmentOffset:V}},reset:N}}});function Es(a,i,s){return(a?[...s.filter(f=>ze(f)===a),...s.filter(f=>ze(f)!==a)]:s.filter(f=>Le(f)===f)).filter(f=>a?ze(f)===a||(i?un(f)!==f:!1):!0)}const Ss=function(a){return a===void 0&&(a={}),{name:"autoPlacement",options:a,async fn(i){var s,l,f;const{rects:g,middlewareData:v,placement:b,platform:x,elements:E}=i,{crossAxis:A=!1,alignment:P,allowedPlacements:z=xr,autoAlignment:D=!0,...R}=it(a,i),L=P!==void 0||z===xr?Es(P||null,D,z):z,U=await It(i,R),j=((s=v.autoPlacement)==null?void 0:s.index)||0,W=L[j];if(W==null)return{};const re=vo(W,g,await(x.isRTL==null?void 0:x.isRTL(E.floating)));if(b!==W)return{reset:{placement:L[0]}};const te=[U[Le(W)],U[re[0]],U[re[1]]],ne=[...((l=v.autoPlacement)==null?void 0:l.overflows)||[],{placement:W,overflows:te}],Z=L[j+1];if(Z)return{data:{index:j+1,overflows:ne},reset:{placement:Z}};const w=ne.map(ae=>{const pe=ze(ae.placement);return[ae.placement,pe&&A?ae.overflows.slice(0,2).reduce((K,k)=>K+k,0):ae.overflows[0],ae.overflows]}).sort((ae,pe)=>ae[1]-pe[1]),fe=((f=w.filter(ae=>ae[2].slice(0,ze(ae[0])?2:3).every(pe=>pe<=0))[0])==null?void 0:f[0])||w[0][0];return fe!==b?{data:{index:j+1,overflows:ne},reset:{placement:fe}}:{}}}},ks=function(a){return a===void 0&&(a={}),{name:"flip",options:a,async fn(i){var s,l;const{placement:f,middlewareData:g,rects:v,initialPlacement:b,platform:x,elements:E}=i,{mainAxis:A=!0,crossAxis:P=!0,fallbackPlacements:z,fallbackStrategy:D="bestFit",fallbackAxisSideDirection:R="none",flipAlignment:L=!0,...U}=it(a,i);if((s=g.arrow)!=null&&s.alignmentOffset)return{};const j=Le(f),W=qe(b),re=Le(b)===b,te=await(x.isRTL==null?void 0:x.isRTL(E.floating)),ne=z||(re||!L?[dn(b)]:hs(b)),Z=R!=="none";!z&&Z&&ne.push(...bs(b,L,R,te));const w=[b,...ne],de=await It(i,U),fe=[];let ae=((l=g.flip)==null?void 0:l.overflows)||[];if(A&&fe.push(de[j]),P){const T=vo(f,v,te);fe.push(de[T[0]],de[T[1]])}if(ae=[...ae,{placement:f,overflows:fe}],!fe.every(T=>T<=0)){var pe,K;const T=(((pe=g.flip)==null?void 0:pe.index)||0)+1,M=w[T];if(M&&(!(P==="alignment"?W!==qe(M):!1)||ae.every(ee=>ee.overflows[0]>0&&qe(ee.placement)===W)))return{data:{index:T,overflows:ae},reset:{placement:M}};let N=(K=ae.filter(V=>V.overflows[0]<=0).sort((V,ee)=>V.overflows[1]-ee.overflows[1])[0])==null?void 0:K.placement;if(!N)switch(D){case"bestFit":{var k;const V=(k=ae.filter(ee=>{if(Z){const H=qe(ee.placement);return H===W||H==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(H=>H>0).reduce((H,oe)=>H+oe,0)]).sort((ee,H)=>ee[1]-H[1])[0])==null?void 0:k[0];V&&(N=V);break}case"initialPlacement":N=b;break}if(f!==N)return{reset:{placement:N}}}return{}}}};function kr(a,i){return{top:a.top-i.height,right:a.right-i.width,bottom:a.bottom-i.height,left:a.left-i.width}}function Tr(a){return po.some(i=>a[i]>=0)}const Ts=function(a){return a===void 0&&(a={}),{name:"hide",options:a,async fn(i){const{rects:s}=i,{strategy:l="referenceHidden",...f}=it(a,i);switch(l){case"referenceHidden":{const g=await It(i,{...f,elementContext:"reference"}),v=kr(g,s.reference);return{data:{referenceHiddenOffsets:v,referenceHidden:Tr(v)}}}case"escaped":{const g=await It(i,{...f,altBoundary:!0}),v=kr(g,s.floating);return{data:{escapedOffsets:v,escaped:Tr(v)}}}default:return{}}}}},Cs=new Set(["left","top"]);async function Os(a,i){const{placement:s,platform:l,elements:f}=a,g=await(l.isRTL==null?void 0:l.isRTL(f.floating)),v=Le(s),b=ze(s),x=qe(s)==="y",E=Cs.has(v)?-1:1,A=g&&x?-1:1,P=it(i,a);let{mainAxis:z,crossAxis:D,alignmentAxis:R}=typeof P=="number"?{mainAxis:P,crossAxis:0,alignmentAxis:null}:{mainAxis:P.mainAxis||0,crossAxis:P.crossAxis||0,alignmentAxis:P.alignmentAxis};return b&&typeof R=="number"&&(D=b==="end"?R*-1:R),x?{x:D*A,y:z*E}:{x:z*E,y:D*A}}const Ps=function(a){return a===void 0&&(a=0),{name:"offset",options:a,async fn(i){var s,l;const{x:f,y:g,placement:v,middlewareData:b}=i,x=await Os(i,a);return v===((s=b.offset)==null?void 0:s.placement)&&(l=b.arrow)!=null&&l.alignmentOffset?{}:{x:f+x.x,y:g+x.y,data:{...x,placement:v}}}}},$s=function(a){return a===void 0&&(a={}),{name:"shift",options:a,async fn(i){const{x:s,y:l,placement:f}=i,{mainAxis:g=!0,crossAxis:v=!1,limiter:b={fn:U=>{let{x:j,y:W}=U;return{x:j,y:W}}},...x}=it(a,i),E={x:s,y:l},A=await It(i,x),P=qe(Le(f)),z=ho(P);let D=E[z],R=E[P];if(g){const U=z==="y"?"top":"left",j=z==="y"?"bottom":"right",W=D+A[U],re=D-A[j];D=ri(W,D,re)}if(v){const U=P==="y"?"top":"left",j=P==="y"?"bottom":"right",W=R+A[U],re=R-A[j];R=ri(W,R,re)}const L=b.fn({...i,[z]:D,[P]:R});return{...L,data:{x:L.x-s,y:L.y-l,enabled:{[z]:g,[P]:v}}}}}};function Tn(){return typeof window<"u"}function gt(a){return mo(a)?(a.nodeName||"").toLowerCase():"#document"}function we(a){var i;return(a==null||(i=a.ownerDocument)==null?void 0:i.defaultView)||window}function Me(a){var i;return(i=(mo(a)?a.ownerDocument:a.document)||window.document)==null?void 0:i.documentElement}function mo(a){return Tn()?a instanceof Node||a instanceof we(a).Node:!1}function Pe(a){return Tn()?a instanceof Element||a instanceof we(a).Element:!1}function Ie(a){return Tn()?a instanceof HTMLElement||a instanceof we(a).HTMLElement:!1}function Cr(a){return!Tn()||typeof ShadowRoot>"u"?!1:a instanceof ShadowRoot||a instanceof we(a).ShadowRoot}const As=new Set(["inline","contents"]);function Nt(a){const{overflow:i,overflowX:s,overflowY:l,display:f}=$e(a);return/auto|scroll|overlay|hidden|clip/.test(i+l+s)&&!As.has(f)}const Ds=new Set(["table","td","th"]);function zs(a){return Ds.has(gt(a))}const Is=[":popover-open",":modal"];function Cn(a){return Is.some(i=>{try{return a.matches(i)}catch{return!1}})}const Ms=["transform","translate","scale","rotate","perspective"],Fs=["transform","translate","scale","rotate","perspective","filter"],Rs=["paint","layout","strict","content"];function On(a){const i=xi(),s=Pe(a)?$e(a):a;return Ms.some(l=>s[l]?s[l]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!i&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!i&&(s.filter?s.filter!=="none":!1)||Fs.some(l=>(s.willChange||"").includes(l))||Rs.some(l=>(s.contain||"").includes(l))}function _s(a){let i=Ye(a);for(;Ie(i)&&!ft(i);){if(On(i))return i;if(Cn(i))return null;i=Ye(i)}return null}function xi(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Bs=new Set(["html","body","#document"]);function ft(a){return Bs.has(gt(a))}function $e(a){return we(a).getComputedStyle(a)}function Pn(a){return Pe(a)?{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}:{scrollLeft:a.scrollX,scrollTop:a.scrollY}}function Ye(a){if(gt(a)==="html")return a;const i=a.assignedSlot||a.parentNode||Cr(a)&&a.host||Me(a);return Cr(i)?i.host:i}function bo(a){const i=Ye(a);return ft(i)?a.ownerDocument?a.ownerDocument.body:a.body:Ie(i)&&Nt(i)?i:bo(i)}function Mt(a,i,s){var l;i===void 0&&(i=[]),s===void 0&&(s=!0);const f=bo(a),g=f===((l=a.ownerDocument)==null?void 0:l.body),v=we(f);if(g){const b=oi(v);return i.concat(v,v.visualViewport||[],Nt(f)?f:[],b&&s?Mt(b):[])}return i.concat(f,Mt(f,[],s))}function oi(a){return a.parent&&Object.getPrototypeOf(a.parent)?a.frameElement:null}function yo(a){const i=$e(a);let s=parseFloat(i.width)||0,l=parseFloat(i.height)||0;const f=Ie(a),g=f?a.offsetWidth:s,v=f?a.offsetHeight:l,b=ln(s)!==g||ln(l)!==v;return b&&(s=g,l=v),{width:s,height:l,$:b}}function wi(a){return Pe(a)?a:a.contextElement}function ut(a){const i=wi(a);if(!Ie(i))return De(1);const s=i.getBoundingClientRect(),{width:l,height:f,$:g}=yo(i);let v=(g?ln(s.width):s.width)/l,b=(g?ln(s.height):s.height)/f;return(!v||!Number.isFinite(v))&&(v=1),(!b||!Number.isFinite(b))&&(b=1),{x:v,y:b}}const Ns=De(0);function xo(a){const i=we(a);return!xi()||!i.visualViewport?Ns:{x:i.visualViewport.offsetLeft,y:i.visualViewport.offsetTop}}function Ls(a,i,s){return i===void 0&&(i=!1),!s||i&&s!==we(a)?!1:i}function tt(a,i,s,l){i===void 0&&(i=!1),s===void 0&&(s=!1);const f=a.getBoundingClientRect(),g=wi(a);let v=De(1);i&&(l?Pe(l)&&(v=ut(l)):v=ut(a));const b=Ls(g,s,l)?xo(g):De(0);let x=(f.left+b.x)/v.x,E=(f.top+b.y)/v.y,A=f.width/v.x,P=f.height/v.y;if(g){const z=we(g),D=l&&Pe(l)?we(l):l;let R=z,L=oi(R);for(;L&&l&&D!==R;){const U=ut(L),j=L.getBoundingClientRect(),W=$e(L),re=j.left+(L.clientLeft+parseFloat(W.paddingLeft))*U.x,te=j.top+(L.clientTop+parseFloat(W.paddingTop))*U.y;x*=U.x,E*=U.y,A*=U.x,P*=U.y,x+=re,E+=te,R=we(L),L=oi(R)}}return fn({width:A,height:P,x,y:E})}function Ei(a,i){const s=Pn(a).scrollLeft;return i?i.left+s:tt(Me(a)).left+s}function wo(a,i,s){s===void 0&&(s=!1);const l=a.getBoundingClientRect(),f=l.left+i.scrollLeft-(s?0:Ei(a,l)),g=l.top+i.scrollTop;return{x:f,y:g}}function js(a){let{elements:i,rect:s,offsetParent:l,strategy:f}=a;const g=f==="fixed",v=Me(l),b=i?Cn(i.floating):!1;if(l===v||b&&g)return s;let x={scrollLeft:0,scrollTop:0},E=De(1);const A=De(0),P=Ie(l);if((P||!P&&!g)&&((gt(l)!=="body"||Nt(v))&&(x=Pn(l)),Ie(l))){const D=tt(l);E=ut(l),A.x=D.x+l.clientLeft,A.y=D.y+l.clientTop}const z=v&&!P&&!g?wo(v,x,!0):De(0);return{width:s.width*E.x,height:s.height*E.y,x:s.x*E.x-x.scrollLeft*E.x+A.x+z.x,y:s.y*E.y-x.scrollTop*E.y+A.y+z.y}}function Hs(a){return Array.from(a.getClientRects())}function Us(a){const i=Me(a),s=Pn(a),l=a.ownerDocument.body,f=et(i.scrollWidth,i.clientWidth,l.scrollWidth,l.clientWidth),g=et(i.scrollHeight,i.clientHeight,l.scrollHeight,l.clientHeight);let v=-s.scrollLeft+Ei(a);const b=-s.scrollTop;return $e(l).direction==="rtl"&&(v+=et(i.clientWidth,l.clientWidth)-f),{width:f,height:g,x:v,y:b}}function Ws(a,i){const s=we(a),l=Me(a),f=s.visualViewport;let g=l.clientWidth,v=l.clientHeight,b=0,x=0;if(f){g=f.width,v=f.height;const E=xi();(!E||E&&i==="fixed")&&(b=f.offsetLeft,x=f.offsetTop)}return{width:g,height:v,x:b,y:x}}const Vs=new Set(["absolute","fixed"]);function Ks(a,i){const s=tt(a,!0,i==="fixed"),l=s.top+a.clientTop,f=s.left+a.clientLeft,g=Ie(a)?ut(a):De(1),v=a.clientWidth*g.x,b=a.clientHeight*g.y,x=f*g.x,E=l*g.y;return{width:v,height:b,x,y:E}}function Or(a,i,s){let l;if(i==="viewport")l=Ws(a,s);else if(i==="document")l=Us(Me(a));else if(Pe(i))l=Ks(i,s);else{const f=xo(a);l={x:i.x-f.x,y:i.y-f.y,width:i.width,height:i.height}}return fn(l)}function Eo(a,i){const s=Ye(a);return s===i||!Pe(s)||ft(s)?!1:$e(s).position==="fixed"||Eo(s,i)}function qs(a,i){const s=i.get(a);if(s)return s;let l=Mt(a,[],!1).filter(b=>Pe(b)&&gt(b)!=="body"),f=null;const g=$e(a).position==="fixed";let v=g?Ye(a):a;for(;Pe(v)&&!ft(v);){const b=$e(v),x=On(v);!x&&b.position==="fixed"&&(f=null),(g?!x&&!f:!x&&b.position==="static"&&!!f&&Vs.has(f.position)||Nt(v)&&!x&&Eo(a,v))?l=l.filter(A=>A!==v):f=b,v=Ye(v)}return i.set(a,l),l}function Ys(a){let{element:i,boundary:s,rootBoundary:l,strategy:f}=a;const v=[...s==="clippingAncestors"?Cn(i)?[]:qs(i,this._c):[].concat(s),l],b=v[0],x=v.reduce((E,A)=>{const P=Or(i,A,f);return E.top=et(P.top,E.top),E.right=dt(P.right,E.right),E.bottom=dt(P.bottom,E.bottom),E.left=et(P.left,E.left),E},Or(i,b,f));return{width:x.right-x.left,height:x.bottom-x.top,x:x.left,y:x.top}}function Xs(a){const{width:i,height:s}=yo(a);return{width:i,height:s}}function Gs(a,i,s){const l=Ie(i),f=Me(i),g=s==="fixed",v=tt(a,!0,g,i);let b={scrollLeft:0,scrollTop:0};const x=De(0);function E(){x.x=Ei(f)}if(l||!l&&!g)if((gt(i)!=="body"||Nt(f))&&(b=Pn(i)),l){const D=tt(i,!0,g,i);x.x=D.x+i.clientLeft,x.y=D.y+i.clientTop}else f&&E();g&&!l&&f&&E();const A=f&&!l&&!g?wo(f,b):De(0),P=v.left+b.scrollLeft-x.x-A.x,z=v.top+b.scrollTop-x.y-A.y;return{x:P,y:z,width:v.width,height:v.height}}function Qn(a){return $e(a).position==="static"}function Pr(a,i){if(!Ie(a)||$e(a).position==="fixed")return null;if(i)return i(a);let s=a.offsetParent;return Me(a)===s&&(s=s.ownerDocument.body),s}function So(a,i){const s=we(a);if(Cn(a))return s;if(!Ie(a)){let f=Ye(a);for(;f&&!ft(f);){if(Pe(f)&&!Qn(f))return f;f=Ye(f)}return s}let l=Pr(a,i);for(;l&&zs(l)&&Qn(l);)l=Pr(l,i);return l&&ft(l)&&Qn(l)&&!On(l)?s:l||_s(a)||s}const Zs=async function(a){const i=this.getOffsetParent||So,s=this.getDimensions,l=await s(a.floating);return{reference:Gs(a.reference,await i(a.floating),a.strategy),floating:{x:0,y:0,width:l.width,height:l.height}}};function Qs(a){return $e(a).direction==="rtl"}const ai={convertOffsetParentRelativeRectToViewportRelativeRect:js,getDocumentElement:Me,getClippingRect:Ys,getOffsetParent:So,getElementRects:Zs,getClientRects:Hs,getDimensions:Xs,getScale:ut,isElement:Pe,isRTL:Qs};function ko(a,i){return a.x===i.x&&a.y===i.y&&a.width===i.width&&a.height===i.height}function Js(a,i){let s=null,l;const f=Me(a);function g(){var b;clearTimeout(l),(b=s)==null||b.disconnect(),s=null}function v(b,x){b===void 0&&(b=!1),x===void 0&&(x=1),g();const E=a.getBoundingClientRect(),{left:A,top:P,width:z,height:D}=E;if(b||i(),!z||!D)return;const R=nn(P),L=nn(f.clientWidth-(A+z)),U=nn(f.clientHeight-(P+D)),j=nn(A),re={rootMargin:-R+"px "+-L+"px "+-U+"px "+-j+"px",threshold:et(0,dt(1,x))||1};let te=!0;function ne(Z){const w=Z[0].intersectionRatio;if(w!==x){if(!te)return v();w?v(!1,w):l=setTimeout(()=>{v(!1,1e-7)},1e3)}w===1&&!ko(E,a.getBoundingClientRect())&&v(),te=!1}try{s=new IntersectionObserver(ne,{...re,root:f.ownerDocument})}catch{s=new IntersectionObserver(ne,re)}s.observe(a)}return v(!0),g}function ec(a,i,s,l){l===void 0&&(l={});const{ancestorScroll:f=!0,ancestorResize:g=!0,elementResize:v=typeof ResizeObserver=="function",layoutShift:b=typeof IntersectionObserver=="function",animationFrame:x=!1}=l,E=wi(a),A=f||g?[...E?Mt(E):[],...Mt(i)]:[];A.forEach(j=>{f&&j.addEventListener("scroll",s,{passive:!0}),g&&j.addEventListener("resize",s)});const P=E&&b?Js(E,s):null;let z=-1,D=null;v&&(D=new ResizeObserver(j=>{let[W]=j;W&&W.target===E&&D&&(D.unobserve(i),cancelAnimationFrame(z),z=requestAnimationFrame(()=>{var re;(re=D)==null||re.observe(i)})),s()}),E&&!x&&D.observe(E),D.observe(i));let R,L=x?tt(a):null;x&&U();function U(){const j=tt(a);L&&!ko(L,j)&&s(),L=j,R=requestAnimationFrame(U)}return s(),()=>{var j;A.forEach(W=>{f&&W.removeEventListener("scroll",s),g&&W.removeEventListener("resize",s)}),P?.(),(j=D)==null||j.disconnect(),D=null,x&&cancelAnimationFrame(R)}}const tc=Ps,nc=Ss,ic=$s,$r=ks,rc=Ts,oc=ws,ac=(a,i,s)=>{const l=new Map,f={platform:ai,...s},g={...f.platform,_c:l};return xs(a,i,{...f,platform:g})};var sc=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;const cc=sc;var lc=typeof self=="object"&&self&&self.Object===Object&&self,uc=cc||lc||Function("return this")();const To=uc;var dc=To.Symbol;const pn=dc;var Co=Object.prototype,fc=Co.hasOwnProperty,pc=Co.toString,$t=pn?pn.toStringTag:void 0;function hc(a){var i=fc.call(a,$t),s=a[$t];try{a[$t]=void 0;var l=!0}catch{}var f=pc.call(a);return l&&(i?a[$t]=s:delete a[$t]),f}var vc=Object.prototype,gc=vc.toString;function mc(a){return gc.call(a)}var bc="[object Null]",yc="[object Undefined]",Ar=pn?pn.toStringTag:void 0;function xc(a){return a==null?a===void 0?yc:bc:Ar&&Ar in Object(a)?hc(a):mc(a)}function wc(a){return a!=null&&typeof a=="object"}var Ec="[object Symbol]";function Sc(a){return typeof a=="symbol"||wc(a)&&xc(a)==Ec}var kc=/\s/;function Tc(a){for(var i=a.length;i--&&kc.test(a.charAt(i)););return i}var Cc=/^\s+/;function Oc(a){return a&&a.slice(0,Tc(a)+1).replace(Cc,"")}function si(a){var i=typeof a;return a!=null&&(i=="object"||i=="function")}var Dr=0/0,Pc=/^[-+]0x[0-9a-f]+$/i,$c=/^0b[01]+$/i,Ac=/^0o[0-7]+$/i,Dc=parseInt;function zr(a){if(typeof a=="number")return a;if(Sc(a))return Dr;if(si(a)){var i=typeof a.valueOf=="function"?a.valueOf():a;a=si(i)?i+"":i}if(typeof a!="string")return a===0?a:+a;a=Oc(a);var s=$c.test(a);return s||Ac.test(a)?Dc(a.slice(2),s?2:8):Pc.test(a)?Dr:+a}var zc=function(){return To.Date.now()};const Jn=zc;var Ic="Expected a function",Mc=Math.max,Fc=Math.min;function Rc(a,i,s){var l,f,g,v,b,x,E=0,A=!1,P=!1,z=!0;if(typeof a!="function")throw new TypeError(Ic);i=zr(i)||0,si(s)&&(A=!!s.leading,P="maxWait"in s,g=P?Mc(zr(s.maxWait)||0,i):g,z="trailing"in s?!!s.trailing:z);function D(Z){var w=l,de=f;return l=f=void 0,E=Z,v=a.apply(de,w),v}function R(Z){return E=Z,b=setTimeout(j,i),A?D(Z):v}function L(Z){var w=Z-x,de=Z-E,fe=i-w;return P?Fc(fe,g-de):fe}function U(Z){var w=Z-x,de=Z-E;return x===void 0||w>=i||w<0||P&&de>=g}function j(){var Z=Jn();if(U(Z))return W(Z);b=setTimeout(j,L(Z))}function W(Z){return b=void 0,z&&l?D(Z):(l=f=void 0,v)}function re(){b!==void 0&&clearTimeout(b),E=0,l=x=f=b=void 0}function te(){return b===void 0?v:W(Jn())}function ne(){var Z=Jn(),w=U(Z);if(l=arguments,f=this,x=Z,w){if(b===void 0)return R(x);if(P)return clearTimeout(b),b=setTimeout(j,i),D(x)}return b===void 0&&(b=setTimeout(j,i)),v}return ne.cancel=re,ne.flush=te,ne}function _c(a){return Bc(a)}function ei(a){return a.assignedSlot?a.assignedSlot:a.parentNode instanceof ShadowRoot?a.parentNode.host:a.parentNode}function Bc(a){for(let i=a;i;i=ei(i))if(i instanceof Element&&getComputedStyle(i).display==="none")return null;for(let i=ei(a);i;i=ei(i)){if(!(i instanceof Element))continue;const s=getComputedStyle(i);if(s.display!=="contents"&&(s.position!=="static"||On(s)||i.tagName==="BODY"))return i}return null}/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */(function(){{const i=ai.getOffsetParent;ai.getOffsetParent=s=>i(s,_c)}})();function Ir(a){const i=window.devicePixelRatio||1;return Math.round(a*i)/i}const Oo=async(a,{referenceEl:i,floatingEl:s,overlayPositioning:l="absolute",placement:f,flipDisabled:g,flipPlacements:v,offsetDistance:b,offsetSkidding:x,arrowEl:E,type:A})=>{if(!i||!s)return;const P=ts(s)==="rtl",{x:z,y:D,placement:R,strategy:L,middlewareData:U}=await ac(i,s,{strategy:l,placement:f==="auto"||f==="auto-start"||f==="auto-end"?void 0:Rr(f,P),middleware:jc({placement:f,flipDisabled:g,flipPlacements:v?.map(te=>Rr(te,P)),offsetDistance:b,offsetSkidding:x,arrowEl:E,type:A})});if(E&&U.arrow){const{x:te,y:ne}=U.arrow,Z=R.split("-")[0],w=te!=null?"left":"top",de=Vc[Z],fe={left:"",top:"",bottom:"",right:""};"floatingLayout"in a&&(a.floatingLayout=Z==="left"||Z==="right"?"horizontal":"vertical"),Object.assign(E.style,{...fe,[w]:`${w=="left"?te:ne}px`,[Z]:"100%",transform:de})}const W=U.hide?.referenceHidden?"hidden":null,re=W?"none":null;s.setAttribute(Nc,R),Object.assign(s.style,{pointerEvents:re,position:L,transform:`translate(${Ir(z)}px,${Ir(D)}px)`,visibility:W})},Nc="data-placement",Mr=["top","bottom","right","left","top-start","top-end","bottom-start","bottom-end","right-start","right-end","left-start","left-end","leading","trailing","leading-start","leading-end","trailing-start","trailing-end"],Lc="bottom-end",Fr={animation:"calcite-floating-ui-anim",animationActive:"calcite-floating-ui-anim--active"};function jc({placement:a,flipDisabled:i,flipPlacements:s,offsetDistance:l,offsetSkidding:f,arrowEl:g,type:v}){const b=[ic(),rc()];return v==="menu"&&b.push($r({fallbackPlacements:s||["top-start","top","top-end","bottom-start","bottom","bottom-end"]})),b.push(tc({mainAxis:typeof l=="number"?l:0,crossAxis:typeof f=="number"?f:0})),a==="auto"||a==="auto-start"||a==="auto-end"?b.push(nc({alignment:a==="auto-start"?"start":a==="auto-end"?"end":null})):i||b.push($r(s?{fallbackPlacements:s}:{})),g&&b.push(oc({element:g})),b}function Hc(a,i){const s=a.filter(l=>Mr.includes(l));return s.length!==a.length&&console.warn(`${i.tagName}: Invalid value found in: flipPlacements. Try any of these: ${Mr.map(l=>`"${l}"`).join(", ").trim()}`,{el:i}),s}function Rr(a,i=!1){const s=["left","right"];return i&&s.reverse(),a.replace(/leading/gi,s[0]).replace(/trailing/gi,s[1])}async function Uc(a,i,s=!1){if(!a.open||!i.floatingEl||!i.referenceEl)return;if(Object.assign(i.floatingEl.style,{display:"block",position:i.overlayPositioning??"absolute"}),!Ft.get(a))return Po(a);await(s?Wc(a):Oo)(a,i)}function Wc(a){let i=hn.get(a);return i||(i=Rc(Oo,hr.reposition,{leading:!0,maxWait:hr.reposition}),hn.set(a,i),i)}const Vc={top:"",left:"rotate(-90deg)",bottom:"rotate(180deg)",right:"rotate(90deg)"},Ft=new WeakMap,hn=new WeakMap;async function Po(a){const{referenceEl:i,floatingEl:s}=a;if(!s.isConnected)return;const l=ec;Ft.set(a,{state:"pending"});let f;const g=l(i,s,()=>{const v=a.reposition();f||(f=v)});return Ft.set(a,{state:"active",cleanUp:g}),f}function $o(a){const{floatingEl:i}=a;i&&Object.assign(i.style,{display:"",pointerEvents:"",position:"",transform:"",visibility:""})}async function Kc(a){const{floatingEl:i,referenceEl:s}=a;if($o(a),!(!i||!s)&&(Ao(a),!!a.open))return Po(a)}function Ao(a){const i=Ft.get(a);i?.state==="active"&&i.cleanUp(),Ft.delete(a),hn.get(a)?.cancel(),hn.delete(a)}const _r=4,Br=Math.ceil(Math.hypot(_r,_r));/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const Do=({children:a,...i})=>{const s=i.level?os(`h${i.level}`):as`div`;return he(i.key,ss`<${s} class=${X(i.class)}>${a}</${s}>`)};/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const Nr={arrow:"calcite-floating-ui-arrow",arrowStroke:"calcite-floating-ui-arrow__stroke"},qc={width:12,height:6,strokeWidth:1},Yc=({floatingLayout:a,key:i,ref:s})=>{const{width:l,height:f,strokeWidth:g}=qc,v=l/2,b=a==="vertical",x=`M0,0 H${l} L${l-v},${f} Q${v},${f} ${v},${f} Z`;return he(i,G`<svg aria-hidden=true class=${X(Nr.arrow)} height=${l} viewBox=${`0 0 ${l} ${l+(b?0:g)}`} width=${l+(b?g:0)} ${xe(s)}>${vr`${vr`<path class=${X(Nr.arrowStroke)} d=${x??Je} fill=none stroke-width=${g+1} />`||""}<path d=${x??Je} stroke=none />`}</svg>`)};/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var zo=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],vn=zo.join(","),Io=typeof Element>"u",nt=Io?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,gn=!Io&&Element.prototype.getRootNode?function(a){var i;return a==null||(i=a.getRootNode)===null||i===void 0?void 0:i.call(a)}:function(a){return a?.ownerDocument},mn=function a(i,s){var l;s===void 0&&(s=!0);var f=i==null||(l=i.getAttribute)===null||l===void 0?void 0:l.call(i,"inert"),g=f===""||f==="true",v=g||s&&i&&a(i.parentNode);return v},Xc=function(i){var s,l=i==null||(s=i.getAttribute)===null||s===void 0?void 0:s.call(i,"contenteditable");return l===""||l==="true"},Mo=function(i,s,l){if(mn(i))return[];var f=Array.prototype.slice.apply(i.querySelectorAll(vn));return s&&nt.call(i,vn)&&f.unshift(i),f=f.filter(l),f},Fo=function a(i,s,l){for(var f=[],g=Array.from(i);g.length;){var v=g.shift();if(!mn(v,!1))if(v.tagName==="SLOT"){var b=v.assignedElements(),x=b.length?b:v.children,E=a(x,!0,l);l.flatten?f.push.apply(f,E):f.push({scopeParent:v,candidates:E})}else{var A=nt.call(v,vn);A&&l.filter(v)&&(s||!i.includes(v))&&f.push(v);var P=v.shadowRoot||typeof l.getShadowRoot=="function"&&l.getShadowRoot(v),z=!mn(P,!1)&&(!l.shadowRootFilter||l.shadowRootFilter(v));if(P&&z){var D=a(P===!0?v.children:P.children,!0,l);l.flatten?f.push.apply(f,D):f.push({scopeParent:v,candidates:D})}else g.unshift.apply(g,v.children)}}return f},Ro=function(i){return!isNaN(parseInt(i.getAttribute("tabindex"),10))},Qe=function(i){if(!i)throw new Error("No node provided");return i.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(i.tagName)||Xc(i))&&!Ro(i)?0:i.tabIndex},Gc=function(i,s){var l=Qe(i);return l<0&&s&&!Ro(i)?0:l},Zc=function(i,s){return i.tabIndex===s.tabIndex?i.documentOrder-s.documentOrder:i.tabIndex-s.tabIndex},_o=function(i){return i.tagName==="INPUT"},Qc=function(i){return _o(i)&&i.type==="hidden"},Jc=function(i){var s=i.tagName==="DETAILS"&&Array.prototype.slice.apply(i.children).some(function(l){return l.tagName==="SUMMARY"});return s},el=function(i,s){for(var l=0;l<i.length;l++)if(i[l].checked&&i[l].form===s)return i[l]},tl=function(i){if(!i.name)return!0;var s=i.form||gn(i),l=function(b){return s.querySelectorAll('input[type="radio"][name="'+b+'"]')},f;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")f=l(window.CSS.escape(i.name));else try{f=l(i.name)}catch(v){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",v.message),!1}var g=el(f,i.form);return!g||g===i},nl=function(i){return _o(i)&&i.type==="radio"},il=function(i){return nl(i)&&!tl(i)},rl=function(i){var s,l=i&&gn(i),f=(s=l)===null||s===void 0?void 0:s.host,g=!1;if(l&&l!==i){var v,b,x;for(g=!!((v=f)!==null&&v!==void 0&&(b=v.ownerDocument)!==null&&b!==void 0&&b.contains(f)||i!=null&&(x=i.ownerDocument)!==null&&x!==void 0&&x.contains(i));!g&&f;){var E,A,P;l=gn(f),f=(E=l)===null||E===void 0?void 0:E.host,g=!!((A=f)!==null&&A!==void 0&&(P=A.ownerDocument)!==null&&P!==void 0&&P.contains(f))}}return g},Lr=function(i){var s=i.getBoundingClientRect(),l=s.width,f=s.height;return l===0&&f===0},ol=function(i,s){var l=s.displayCheck,f=s.getShadowRoot;if(getComputedStyle(i).visibility==="hidden")return!0;var g=nt.call(i,"details>summary:first-of-type"),v=g?i.parentElement:i;if(nt.call(v,"details:not([open]) *"))return!0;if(!l||l==="full"||l==="legacy-full"){if(typeof f=="function"){for(var b=i;i;){var x=i.parentElement,E=gn(i);if(x&&!x.shadowRoot&&f(x)===!0)return Lr(i);i.assignedSlot?i=i.assignedSlot:!x&&E!==i.ownerDocument?i=E.host:i=x}i=b}if(rl(i))return!i.getClientRects().length;if(l!=="legacy-full")return!0}else if(l==="non-zero-area")return Lr(i);return!1},al=function(i){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(i.tagName))for(var s=i.parentElement;s;){if(s.tagName==="FIELDSET"&&s.disabled){for(var l=0;l<s.children.length;l++){var f=s.children.item(l);if(f.tagName==="LEGEND")return nt.call(s,"fieldset[disabled] *")?!0:!f.contains(i)}return!0}s=s.parentElement}return!1},bn=function(i,s){return!(s.disabled||mn(s)||Qc(s)||ol(s,i)||Jc(s)||al(s))},ci=function(i,s){return!(il(s)||Qe(s)<0||!bn(i,s))},sl=function(i){var s=parseInt(i.getAttribute("tabindex"),10);return!!(isNaN(s)||s>=0)},cl=function a(i){var s=[],l=[];return i.forEach(function(f,g){var v=!!f.scopeParent,b=v?f.scopeParent:f,x=Gc(b,v),E=v?a(f.candidates):b;x===0?v?s.push.apply(s,E):s.push(b):l.push({documentOrder:g,tabIndex:x,item:f,isScope:v,content:E})}),l.sort(Zc).reduce(function(f,g){return g.isScope?f.push.apply(f,g.content):f.push(g.content),f},[]).concat(s)},ll=function(i,s){s=s||{};var l;return s.getShadowRoot?l=Fo([i],s.includeContainer,{filter:ci.bind(null,s),flatten:!1,getShadowRoot:s.getShadowRoot,shadowRootFilter:sl}):l=Mo(i,s.includeContainer,ci.bind(null,s)),cl(l)},ul=function(i,s){s=s||{};var l;return s.getShadowRoot?l=Fo([i],s.includeContainer,{filter:bn.bind(null,s),flatten:!0,getShadowRoot:s.getShadowRoot}):l=Mo(i,s.includeContainer,bn.bind(null,s)),l},lt=function(i,s){if(s=s||{},!i)throw new Error("No node provided");return nt.call(i,vn)===!1?!1:ci(s,i)},dl=zo.concat("iframe").join(","),ti=function(i,s){if(s=s||{},!i)throw new Error("No node provided");return nt.call(i,dl)===!1?!1:bn(s,i)};/*!
* focus-trap 7.6.5
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function li(a,i){(i==null||i>a.length)&&(i=a.length);for(var s=0,l=Array(i);s<i;s++)l[s]=a[s];return l}function fl(a){if(Array.isArray(a))return li(a)}function pl(a,i,s){return(i=bl(i))in a?Object.defineProperty(a,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[i]=s,a}function hl(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function vl(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jr(a,i){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);i&&(l=l.filter(function(f){return Object.getOwnPropertyDescriptor(a,f).enumerable})),s.push.apply(s,l)}return s}function Hr(a){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?jr(Object(s),!0).forEach(function(l){pl(a,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):jr(Object(s)).forEach(function(l){Object.defineProperty(a,l,Object.getOwnPropertyDescriptor(s,l))})}return a}function gl(a){return fl(a)||hl(a)||yl(a)||vl()}function ml(a,i){if(typeof a!="object"||!a)return a;var s=a[Symbol.toPrimitive];if(s!==void 0){var l=s.call(a,i);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(a)}function bl(a){var i=ml(a,"string");return typeof i=="symbol"?i:i+""}function yl(a,i){if(a){if(typeof a=="string")return li(a,i);var s={}.toString.call(a).slice(8,-1);return s==="Object"&&a.constructor&&(s=a.constructor.name),s==="Map"||s==="Set"?Array.from(a):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?li(a,i):void 0}}var Ur={activateTrap:function(i,s){if(i.length>0){var l=i[i.length-1];l!==s&&l._setPausedState(!0)}var f=i.indexOf(s);f===-1||i.splice(f,1),i.push(s)},deactivateTrap:function(i,s){var l=i.indexOf(s);l!==-1&&i.splice(l,1),i.length>0&&!i[i.length-1]._isManuallyPaused()&&i[i.length-1]._setPausedState(!1)}},xl=function(i){return i.tagName&&i.tagName.toLowerCase()==="input"&&typeof i.select=="function"},wl=function(i){return i?.key==="Escape"||i?.key==="Esc"||i?.keyCode===27},zt=function(i){return i?.key==="Tab"||i?.keyCode===9},El=function(i){return zt(i)&&!i.shiftKey},Sl=function(i){return zt(i)&&i.shiftKey},Wr=function(i){return setTimeout(i,0)},At=function(i){for(var s=arguments.length,l=new Array(s>1?s-1:0),f=1;f<s;f++)l[f-1]=arguments[f];return typeof i=="function"?i.apply(void 0,l):i},rn=function(i){return i.target.shadowRoot&&typeof i.composedPath=="function"?i.composedPath()[0]:i.target},kl=[],Tl=function(i,s){var l=s?.document||document,f=s?.trapStack||kl,g=Hr({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:El,isKeyBackward:Sl},s),v={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},b,x=function(k,T,M){return k&&k[T]!==void 0?k[T]:g[M||T]},E=function(k,T){var M=typeof T?.composedPath=="function"?T.composedPath():void 0;return v.containerGroups.findIndex(function(N){var V=N.container,ee=N.tabbableNodes;return V.contains(k)||M?.includes(V)||ee.find(function(H){return H===k})})},A=function(k){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M=T.hasFallback,N=M===void 0?!1:M,V=T.params,ee=V===void 0?[]:V,H=g[k];if(typeof H=="function"&&(H=H.apply(void 0,gl(ee))),H===!0&&(H=void 0),!H){if(H===void 0||H===!1)return H;throw new Error("`".concat(k,"` was specified but was not a node, or did not return a node"))}var oe=H;if(typeof H=="string"){try{oe=l.querySelector(H)}catch(ue){throw new Error("`".concat(k,'` appears to be an invalid selector; error="').concat(ue.message,'"'))}if(!oe&&!N)throw new Error("`".concat(k,"` as selector refers to no known node"))}return oe},P=function(){var k=A("initialFocus",{hasFallback:!0});if(k===!1)return!1;if(k===void 0||k&&!ti(k,g.tabbableOptions))if(E(l.activeElement)>=0)k=l.activeElement;else{var T=v.tabbableGroups[0],M=T&&T.firstTabbableNode;k=M||A("fallbackFocus")}else k===null&&(k=A("fallbackFocus"));if(!k)throw new Error("Your focus-trap needs to have at least one focusable element");return k},z=function(){if(v.containerGroups=v.containers.map(function(k){var T=ll(k,g.tabbableOptions),M=ul(k,g.tabbableOptions),N=T.length>0?T[0]:void 0,V=T.length>0?T[T.length-1]:void 0,ee=M.find(function(ue){return lt(ue)}),H=M.slice().reverse().find(function(ue){return lt(ue)}),oe=!!T.find(function(ue){return Qe(ue)>0});return{container:k,tabbableNodes:T,focusableNodes:M,posTabIndexesFound:oe,firstTabbableNode:N,lastTabbableNode:V,firstDomTabbableNode:ee,lastDomTabbableNode:H,nextTabbableNode:function(Ae){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Se=T.indexOf(Ae);return Se<0?Fe?M.slice(M.indexOf(Ae)+1).find(function(Re){return lt(Re)}):M.slice(0,M.indexOf(Ae)).reverse().find(function(Re){return lt(Re)}):T[Se+(Fe?1:-1)]}}}),v.tabbableGroups=v.containerGroups.filter(function(k){return k.tabbableNodes.length>0}),v.tabbableGroups.length<=0&&!A("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(v.containerGroups.find(function(k){return k.posTabIndexesFound})&&v.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},D=function(k){var T=k.activeElement;if(T)return T.shadowRoot&&T.shadowRoot.activeElement!==null?D(T.shadowRoot):T},R=function(k){if(k!==!1&&k!==D(document)){if(!k||!k.focus){R(P());return}k.focus({preventScroll:!!g.preventScroll}),v.mostRecentlyFocusedNode=k,xl(k)&&k.select()}},L=function(k){var T=A("setReturnFocus",{params:[k]});return T||(T===!1?!1:k)},U=function(k){var T=k.target,M=k.event,N=k.isBackward,V=N===void 0?!1:N;T=T||rn(M),z();var ee=null;if(v.tabbableGroups.length>0){var H=E(T,M),oe=H>=0?v.containerGroups[H]:void 0;if(H<0)V?ee=v.tabbableGroups[v.tabbableGroups.length-1].lastTabbableNode:ee=v.tabbableGroups[0].firstTabbableNode;else if(V){var ue=v.tabbableGroups.findIndex(function(ot){var at=ot.firstTabbableNode;return T===at});if(ue<0&&(oe.container===T||ti(T,g.tabbableOptions)&&!lt(T,g.tabbableOptions)&&!oe.nextTabbableNode(T,!1))&&(ue=H),ue>=0){var Ae=ue===0?v.tabbableGroups.length-1:ue-1,Fe=v.tabbableGroups[Ae];ee=Qe(T)>=0?Fe.lastTabbableNode:Fe.lastDomTabbableNode}else zt(M)||(ee=oe.nextTabbableNode(T,!1))}else{var Se=v.tabbableGroups.findIndex(function(ot){var at=ot.lastTabbableNode;return T===at});if(Se<0&&(oe.container===T||ti(T,g.tabbableOptions)&&!lt(T,g.tabbableOptions)&&!oe.nextTabbableNode(T))&&(Se=H),Se>=0){var Re=Se===v.tabbableGroups.length-1?0:Se+1,rt=v.tabbableGroups[Re];ee=Qe(T)>=0?rt.firstTabbableNode:rt.firstDomTabbableNode}else zt(M)||(ee=oe.nextTabbableNode(T))}}else ee=A("fallbackFocus");return ee},j=function(k){var T=rn(k);if(!(E(T,k)>=0)){if(At(g.clickOutsideDeactivates,k)){b.deactivate({returnFocus:g.returnFocusOnDeactivate});return}At(g.allowOutsideClick,k)||k.preventDefault()}},W=function(k){var T=rn(k),M=E(T,k)>=0;if(M||T instanceof Document)M&&(v.mostRecentlyFocusedNode=T);else{k.stopImmediatePropagation();var N,V=!0;if(v.mostRecentlyFocusedNode)if(Qe(v.mostRecentlyFocusedNode)>0){var ee=E(v.mostRecentlyFocusedNode),H=v.containerGroups[ee].tabbableNodes;if(H.length>0){var oe=H.findIndex(function(ue){return ue===v.mostRecentlyFocusedNode});oe>=0&&(g.isKeyForward(v.recentNavEvent)?oe+1<H.length&&(N=H[oe+1],V=!1):oe-1>=0&&(N=H[oe-1],V=!1))}}else v.containerGroups.some(function(ue){return ue.tabbableNodes.some(function(Ae){return Qe(Ae)>0})})||(V=!1);else V=!1;V&&(N=U({target:v.mostRecentlyFocusedNode,isBackward:g.isKeyBackward(v.recentNavEvent)})),R(N||v.mostRecentlyFocusedNode||P())}v.recentNavEvent=void 0},re=function(k){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;v.recentNavEvent=k;var M=U({event:k,isBackward:T});M&&(zt(k)&&k.preventDefault(),R(M))},te=function(k){(g.isKeyForward(k)||g.isKeyBackward(k))&&re(k,g.isKeyBackward(k))},ne=function(k){wl(k)&&At(g.escapeDeactivates,k)!==!1&&(k.preventDefault(),b.deactivate())},Z=function(k){var T=rn(k);E(T,k)>=0||At(g.clickOutsideDeactivates,k)||At(g.allowOutsideClick,k)||(k.preventDefault(),k.stopImmediatePropagation())},w=function(){if(v.active)return Ur.activateTrap(f,b),v.delayInitialFocusTimer=g.delayInitialFocus?Wr(function(){R(P())}):R(P()),l.addEventListener("focusin",W,!0),l.addEventListener("mousedown",j,{capture:!0,passive:!1}),l.addEventListener("touchstart",j,{capture:!0,passive:!1}),l.addEventListener("click",Z,{capture:!0,passive:!1}),l.addEventListener("keydown",te,{capture:!0,passive:!1}),l.addEventListener("keydown",ne),b},de=function(){if(v.active)return l.removeEventListener("focusin",W,!0),l.removeEventListener("mousedown",j,!0),l.removeEventListener("touchstart",j,!0),l.removeEventListener("click",Z,!0),l.removeEventListener("keydown",te,!0),l.removeEventListener("keydown",ne),b},fe=function(k){var T=k.some(function(M){var N=Array.from(M.removedNodes);return N.some(function(V){return V===v.mostRecentlyFocusedNode})});T&&R(P())},ae=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(fe):void 0,pe=function(){ae&&(ae.disconnect(),v.active&&!v.paused&&v.containers.map(function(k){ae.observe(k,{subtree:!0,childList:!0})}))};return b={get active(){return v.active},get paused(){return v.paused},activate:function(k){if(v.active)return this;var T=x(k,"onActivate"),M=x(k,"onPostActivate"),N=x(k,"checkCanFocusTrap");N||z(),v.active=!0,v.paused=!1,v.nodeFocusedBeforeActivation=D(l),T?.();var V=function(){N&&z(),w(),pe(),M?.()};return N?(N(v.containers.concat()).then(V,V),this):(V(),this)},deactivate:function(k){if(!v.active)return this;var T=Hr({onDeactivate:g.onDeactivate,onPostDeactivate:g.onPostDeactivate,checkCanReturnFocus:g.checkCanReturnFocus},k);clearTimeout(v.delayInitialFocusTimer),v.delayInitialFocusTimer=void 0,de(),v.active=!1,v.paused=!1,pe(),Ur.deactivateTrap(f,b);var M=x(T,"onDeactivate"),N=x(T,"onPostDeactivate"),V=x(T,"checkCanReturnFocus"),ee=x(T,"returnFocus","returnFocusOnDeactivate");M?.();var H=function(){Wr(function(){ee&&R(L(v.nodeFocusedBeforeActivation)),N?.()})};return ee&&V?(V(L(v.nodeFocusedBeforeActivation)).then(H,H),this):(H(),this)},pause:function(k){return v.active?(v.manuallyPaused=!0,this._setPausedState(!0,k)):this},unpause:function(k){return v.active?(v.manuallyPaused=!1,f[f.length-1]!==this?this:this._setPausedState(!1,k)):this},updateContainerElements:function(k){var T=[].concat(k).filter(Boolean);return v.containers=T.map(function(M){return typeof M=="string"?l.querySelector(M):M}),v.active&&z(),pe(),this}},Object.defineProperties(b,{_isManuallyPaused:{value:function(){return v.manuallyPaused}},_setPausedState:{value:function(k,T){if(v.paused===k)return this;if(v.paused=k,k){var M=x(T,"onPause"),N=x(T,"onPostPause");M?.(),de(),pe(),N?.()}else{var V=x(T,"onUnpause"),ee=x(T,"onPostUnpause");V?.(),z(),w(),pe(),ee?.()}return this}}}),b.updateContainerElements(i),b};/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const on=new WeakSet;function Cl(a,i){const s=i?.fallbackFocus||a,l=i?.clickOutsideDeactivates??!0;return{fallbackFocus:s,setReturnFocus:f=>(on.has(a)||ao(f),!1),...i,document:a.ownerDocument,tabbableOptions:ns,trapStack:Qa,clickOutsideDeactivates:f=>(on.has(a)||on.add(a),typeof l=="function"?l(f):l),onPostDeactivate:()=>{on.delete(a)}}}function Vr(a,{focusTrapOptions:i},s){return!i?.extraContainers&&!s?a:[a,...Kr(i?.extraContainers),...Kr(s)]}function Kr(a=[]){return Array.isArray(a)?a:[a]}const Bo=a=>oo((i,s)=>{let l,f,g;const v=a.focusTrapOptions;s.onConnected(()=>{i[a.triggerProp]&&l&&b.activate()}),s.onUpdate(x=>{i.hasUpdated&&x.has("focusTrapDisabled")&&(i.focusTrapDisabled?b.deactivate():b.activate())}),s.onDisconnected(()=>b.deactivate());const b={activate:()=>{const x=f||i.el;if(x.isConnected){if(!l){const E={...v,...i.focusTrapOptions};g||(g=Vr(x,i)),l=Tl(g,Cl(x,E))}(typeof i.focusTrapDisabledOverride=="function"?!i.focusTrapDisabledOverride():!i.focusTrapDisabled)&&l.activate()}},deactivate:()=>l?.deactivate(),overrideFocusTrapEl:x=>{if(l)throw new Error("Focus trap already created");f=x},setExtraContainers:x=>{const E=f||i.el;g=Vr(E,i,x)},updateContainerElements:()=>l?.updateContainerElements(g)};return b});/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */class Ol{constructor(){this.registeredElements=new Map,this.registeredElementCount=0,this.queryPopover=i=>{const{registeredElements:s}=this,l=i.find(f=>s.has(f));return s.get(l)},this.togglePopovers=i=>{const s=i.composedPath(),l=this.queryPopover(s);l&&!l.triggerDisabled&&(l.open=!l.open),Array.from(this.registeredElements.values()).filter(f=>f!==l&&f.autoClose&&f.open&&!s.includes(f)).forEach(f=>f.open=!1)},this.keyDownHandler=i=>{i.defaultPrevented||(i.key==="Escape"?this.closeAllPopovers():co(i.key)&&this.togglePopovers(i))},this.clickHandler=i=>{rs(i)||i.defaultPrevented||this.togglePopovers(i)}}registerElement(i,s){this.registeredElementCount++,this.registeredElements.set(i,s),this.registeredElementCount===1&&this.addListeners()}unregisterElement(i){this.registeredElements.delete(i)&&this.registeredElementCount--,this.registeredElementCount===0&&this.removeListeners()}closeAllPopovers(){Array.from(this.registeredElements.values()).forEach(i=>i.open=!1)}addListeners(){window.addEventListener("click",this.clickHandler),window.addEventListener("keydown",this.keyDownHandler)}removeListeners(){window.removeEventListener("click",this.clickHandler),window.removeEventListener("keydown",this.keyDownHandler)}}const Oe={positionContainer:"position-container",container:"container",closeButtonContainer:"close-button-container",closeButton:"close-button",content:"content",hasHeader:"has-header",header:"header",headerContainer:"header-container",heading:"heading"},qr="auto",Yr="aria-controls",Xr="aria-expanded",Pl=pt`:host{display:contents;--calcite-floating-ui-z-index: var(--calcite-popover-z-index, var(--calcite-z-index-popup))}.position-container{inline-size:max-content;display:none;max-inline-size:100vw;max-block-size:100vh;inset-block-start:0;left:0;z-index:var(--calcite-floating-ui-z-index)}.position-container .calcite-floating-ui-anim{position:relative;transition:var(--calcite-floating-ui-transition);transition-property:inset,left,opacity;opacity:0;box-shadow:0 0 16px #00000029;z-index:var(--calcite-z-index);border-radius:.25rem}.position-container[data-placement^=bottom] .calcite-floating-ui-anim{inset-block-start:-5px}.position-container[data-placement^=top] .calcite-floating-ui-anim{inset-block-start:5px}.position-container[data-placement^=left] .calcite-floating-ui-anim{left:5px}.position-container[data-placement^=right] .calcite-floating-ui-anim{left:-5px}.position-container[data-placement] .calcite-floating-ui-anim--active{opacity:1;inset-block-start:0;left:0}.calcite-floating-ui-arrow{pointer-events:none;position:absolute;z-index:calc(var(--calcite-z-index) * -1);fill:var(--calcite-color-foreground-1)}.calcite-floating-ui-arrow__stroke{stroke:var(--calcite-color-border-3)}:host([scale=s]) .heading{padding:.5rem .75rem;font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=m]) .heading{padding:.75rem 1rem;font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=l]) .heading{padding:1rem 1.25rem;font-size:var(--calcite-font-size-1);line-height:1.375}.position-container .calcite-floating-ui-anim{border-width:1px;border-style:solid;background-color:var(--calcite-popover-background-color, var(--calcite-color-foreground-1));border-color:var(--calcite-popover-border-color, var(--calcite-color-border-3));border-radius:var(--calcite-popover-corner-radius, var(--calcite-corner-radius-round))}.calcite-floating-ui-arrow{fill:var(--calcite-popover-background-color, var(--calcite-color-foreground-1))}.calcite-floating-ui-arrow__stroke{stroke:var(--calcite-popover-border-color, var(--calcite-color-border-3))}.header{display:flex;flex:1 1 auto;align-items:stretch;justify-content:flex-start;border-width:0px;border-bottom-width:1px;border-style:solid;border-block-end-color:var(--calcite-popover-border-color, var(--calcite-color-border-3))}.heading{margin:0;display:block;flex:1 1 auto;align-self:center;white-space:normal;font-weight:var(--calcite-font-weight-medium);word-wrap:break-word;word-break:break-word;color:var(--calcite-popover-text-color, var(--calcite-color-text-1))}.header-container{position:relative;display:flex;height:100%;flex-direction:row;flex-wrap:nowrap;border-radius:.25rem;color:var(--calcite-popover-text-color, var(--calcite-color-text-1))}.header-container.has-header{flex-direction:column}.content{display:flex;height:100%;width:100%;flex-direction:column;flex-wrap:nowrap;align-self:center;word-wrap:break-word;word-break:break-word}.close-button-container{display:flex;overflow:hidden;flex:0 0 auto;border-start-end-radius:var(--calcite-popover-corner-radius, var(--calcite-corner-radius-round));border-end-end-radius:var(--calcite-popover-corner-radius, var(--calcite-corner-radius-round));--calcite-action-corner-radius-start-end: var(--calcite-popover-corner-radius, var(--calcite-corner-radius-sharp));--calcite-action-corner-radius-end-end: var(--calcite-popover-corner-radius, var(--calcite-corner-radius-sharp))}::slotted(calcite-panel),::slotted(calcite-flow){height:100%}:host([hidden]){display:none}[hidden]{display:none}`,Gr=new Ol,wn=class wn extends ht{constructor(){super(...arguments),this.closeButtonEl=gi(),this.focusTrap=Bo({triggerProp:"open",focusTrapOptions:{allowOutsideClick:!0,escapeDeactivates:i=>(i.defaultPrevented||(this.open=!1,i.preventDefault()),!1)}})(this),this.guid=`calcite-popover-${vi()}`,this.hasLoaded=!1,this.mutationObserver=Rt("mutation",()=>this.focusTrap.updateContainerElements()),this.transitionProp="opacity",this.messages=_t(),this.floatingLayout="vertical",this.autoClose=!1,this.closable=!1,this.flipDisabled=!1,this.focusTrapDisabled=!1,this.offsetDistance=Br,this.offsetSkidding=0,this.open=!1,this.overlayPositioning="absolute",this.placement=qr,this.pointerDisabled=!1,this.scale="m",this.triggerDisabled=!1,this.calcitePopoverBeforeClose=ye({cancelable:!1}),this.calcitePopoverBeforeOpen=ye({cancelable:!1}),this.calcitePopoverClose=ye({cancelable:!1}),this.calcitePopoverOpen=ye({cancelable:!1})}async reposition(i=!1){const{referenceEl:s,placement:l,overlayPositioning:f,flipDisabled:g,filteredFlipPlacements:v,offsetDistance:b,offsetSkidding:x,arrowEl:E,floatingEl:A}=this;return Uc(this,{floatingEl:A,referenceEl:s,overlayPositioning:f,placement:l,flipDisabled:g,flipPlacements:v,offsetDistance:b,offsetSkidding:x,arrowEl:E,type:"popover"},i)}async setFocus(){await Bt(this),this.requestUpdate(),mi(this.el)}async updateFocusTrapElements(){this.focusTrap.updateContainerElements()}connectedCallback(){super.connectedCallback(),this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0}),this.setFilteredPlacements(),requestAnimationFrame(()=>this.setUpReferenceElement(this.hasLoaded))}willUpdate(i){i.has("flipPlacements")&&this.flipPlacementsHandler(),i.has("open")&&(this.hasUpdated||this.open!==!1)&&this.openHandler(),(i.has("offsetDistance")&&(this.hasUpdated||this.offsetDistance!==Br)||i.has("offsetSkidding")&&(this.hasUpdated||this.offsetSkidding!==0)||i.has("overlayPositioning")&&(this.hasUpdated||this.overlayPositioning!=="absolute")||i.has("placement")&&(this.hasUpdated||this.placement!==qr))&&this.reposition(!0),i.has("referenceElement")&&this.referenceElementHandler()}loaded(){this.referenceElement&&!this.referenceEl&&this.setUpReferenceElement(),this.hasLoaded=!0}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver?.disconnect(),this.removeReferences(),Ao(this)}flipPlacementsHandler(){this.setFilteredPlacements(),this.reposition(!0)}openHandler(){fo(this),this.reposition(!0),this.setExpandedAttr()}referenceElementHandler(){this.setUpReferenceElement(),this.reposition(!0)}setFloatingEl(i){this.floatingEl=i,i&&requestAnimationFrame(()=>this.setUpReferenceElement())}setTransitionEl(i){i&&(this.transitionEl=i)}setFilteredPlacements(){const{el:i,flipPlacements:s}=this;this.filteredFlipPlacements=s?Hc(s,i):null}setUpReferenceElement(i=!0){this.removeReferences(),this.referenceEl=this.getReferenceElement(),Kc(this);const{el:s,referenceElement:l,referenceEl:f}=this;i&&l&&!f&&console.warn(`${s.tagName}: reference-element id "${l}" was not found.`,{el:s}),this.addReferences()}getId(){return this.el.id||this.guid}setExpandedAttr(){const{referenceEl:i,open:s}=this;i&&"setAttribute"in i&&i.setAttribute(Xr,so(s))}addReferences(){const{referenceEl:i}=this;if(!i)return;const s=this.getId();"setAttribute"in i&&i.setAttribute(Yr,s),Gr.registerElement(i,this.el),this.setExpandedAttr()}removeReferences(){const{referenceEl:i}=this;i&&("removeAttribute"in i&&(i.removeAttribute(Yr),i.removeAttribute(Xr)),Gr.unregisterElement(i))}getReferenceElement(){const{referenceElement:i,el:s}=this;return(typeof i=="string"?is(s,{id:i}):i)||null}hide(){this.open=!1}onBeforeOpen(){this.calcitePopoverBeforeOpen.emit()}onOpen(){this.calcitePopoverOpen.emit(),this.focusTrap.activate()}onBeforeClose(){this.calcitePopoverBeforeClose.emit()}onClose(){this.calcitePopoverClose.emit(),$o(this),this.focusTrap.deactivate()}storeArrowEl(i){this.arrowEl=i,this.reposition(!0)}renderCloseButton(){const{messages:i,closable:s}=this;return s?he(Oe.closeButtonContainer,G`<div class=${X(Oe.closeButtonContainer)}><calcite-action appearance=transparent class=${X(Oe.closeButton)} @click=${this.hide} .scale=${this.scale} .text=${i.close} ${xe(this.closeButtonEl)}><calcite-icon icon=x .scale=${ro(this.scale)}></calcite-icon></calcite-action></div>`):null}renderHeader(){const{heading:i,headingLevel:s}=this,l=i?Do({class:Oe.heading,level:s,children:i}):null;return l?he(Oe.header,G`<div class=${X(Oe.header)}>${l}${this.renderCloseButton()}</div>`):null}render(){const{referenceEl:i,heading:s,label:l,open:f,pointerDisabled:g,floatingLayout:v}=this,b=i&&f,x=!b,E=g?null:he("floating-arrow",Yc({floatingLayout:v,ref:this.storeArrowEl}));return this.el.inert=x,this.el.ariaLabel=l,this.el.ariaLive="polite",Ja(this.el,"id",this.getId()),this.el.role="dialog",G`<div class=${X(Oe.positionContainer)} ${xe(this.setFloatingEl)}><div class=${X({[Oe.container]:!0,[Fr.animation]:!0,[Fr.animationActive]:b})} ${xe(this.setTransitionEl)}>${E}<div class=${X({[Oe.hasHeader]:!!s,[Oe.headerContainer]:!0})}>${this.renderHeader()}<div class=${X(Oe.content)}><slot></slot></div>${s?null:this.renderCloseButton()}</div></div></div>`}};wn.properties={floatingLayout:[16,{},{state:!0}],referenceEl:[16,{},{state:!0}],autoClose:[7,{},{reflect:!0,type:Boolean}],closable:[7,{},{reflect:!0,type:Boolean}],flipDisabled:[7,{},{reflect:!0,type:Boolean}],flipPlacements:[0,{},{attribute:!1}],focusTrapDisabled:[7,{},{reflect:!0,type:Boolean}],focusTrapOptions:[0,{},{attribute:!1}],heading:1,headingLevel:[11,{},{type:Number,reflect:!0}],label:1,messageOverrides:[0,{},{attribute:!1}],offsetDistance:[11,{},{type:Number,reflect:!0}],offsetSkidding:[11,{},{reflect:!0,type:Number}],open:[7,{},{reflect:!0,type:Boolean}],overlayPositioning:[3,{},{reflect:!0}],placement:[3,{},{reflect:!0}],pointerDisabled:[7,{},{reflect:!0,type:Boolean}],referenceElement:1,scale:[3,{},{reflect:!0}],triggerDisabled:[7,{},{reflect:!0,type:Boolean}]},wn.styles=Pl;let ui=wn;vt("calcite-popover",ui);/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */function Zr(a,i){return(a+i)%i}/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const Qr={menu:"menu",defaultTrigger:"default-trigger"},di={tooltip:"tooltip",trigger:"trigger"},$l={menu:"ellipsis"},Al="data-active";/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const Dl=pt`:host{box-sizing:border-box;display:flex;flex-direction:column;font-size:var(--calcite-font-size-1)}::slotted(calcite-action-group:not(:last-of-type)){border-block-end-width:var(--calcite-border-width-sm)}.default-trigger{position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}slot[name=trigger]::slotted(calcite-action),calcite-action::slotted([slot=trigger]){position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}.menu{display:flex;max-block-size:45vh;flex-direction:column;flex-wrap:nowrap;overflow-y:auto;overflow-x:hidden;outline:2px solid transparent;outline-offset:2px;gap:var(--calcite-action-menu-items-space, 0)}:host([hidden]){display:none}[hidden]{display:none}`,zl=["ArrowUp","ArrowDown","End","Home"],En=class En extends ht{constructor(){super(...arguments),this.guid=`calcite-action-menu-${vi()}`,this.actionElements=[],this.menuButtonClick=()=>{this.toggleOpen()},this.menuButtonId=`${this.guid}-menu-button`,this.menuButtonKeyDown=i=>{const{key:s}=i,{actionElements:l,activeMenuItemIndex:f,open:g}=this;if(l.length){if(co(s)){if(i.preventDefault(),!g){this.toggleOpen();return}const v=l[f];v?v.click():this.toggleOpen(!1)}if(s==="Tab"){this.open=!1;return}if(s==="Escape"){this.toggleOpen(!1),i.preventDefault();return}this.handleActionNavigation(i,s,l)}},this.menuId=`${this.guid}-menu`,this._open=!1,this.updateAction=(i,s)=>{const{guid:l,activeMenuItemIndex:f}=this,g=`${l}-action-${s}`;i.tabIndex=-1,i.setAttribute("role","menuitem"),i.id||(i.id=g),i.toggleAttribute(Al,s===f)},this.activeMenuItemIndex=-1,this.appearance="solid",this.expanded=!1,this.overlayPositioning="absolute",this.placement="auto",this.scale="m",this.calciteActionMenuOpen=ye({cancelable:!1})}get open(){return this._open}set open(i){const s=this._open;i!==s&&(this._open=i,this.openHandler(i))}async setFocus(){return await Bt(this),ao(this.menuButtonEl)}connectedCallback(){super.connectedCallback(),this.connectMenuButtonEl()}willUpdate(i){i.has("expanded")&&(this.hasUpdated||this.expanded!==!1)&&this.expandedHandler(),i.has("activeMenuItemIndex")&&(this.hasUpdated||this.activeMenuItemIndex!==-1)&&this.updateActions(this.actionElements)}disconnectedCallback(){super.disconnectedCallback(),this.disconnectMenuButtonEl()}expandedHandler(){this.open=!1,this.setTooltipReferenceElement()}openHandler(i){this.menuButtonEl&&(this.menuButtonEl.active=i),this.popoverEl&&(this.popoverEl.open=i),this.activeMenuItemIndex=this.open?0:-1,this.calciteActionMenuOpen.emit(),this.setTooltipReferenceElement()}connectMenuButtonEl(){const{menuButtonId:i,menuId:s,open:l,label:f}=this,g=this.slottedMenuButtonEl||this.defaultMenuButtonEl;this.menuButtonEl!==g&&(this.disconnectMenuButtonEl(),this.menuButtonEl=g,this.setTooltipReferenceElement(),g&&(g.active=l,g.setAttribute("aria-controls",s),g.setAttribute("aria-expanded",so(l)),g.setAttribute("aria-haspopup","true"),g.id||(g.id=i),g.label||(g.label=f),g.text||(g.text=f),g.addEventListener("click",this.menuButtonClick),g.addEventListener("keydown",this.menuButtonKeyDown)))}disconnectMenuButtonEl(){const{menuButtonEl:i}=this;i&&(i.removeEventListener("click",this.menuButtonClick),i.removeEventListener("keydown",this.menuButtonKeyDown),this.menuButtonEl=null)}setMenuButtonEl(i){const s=i.target.assignedElements({flatten:!0}).filter(l=>l?.matches("calcite-action"));this.slottedMenuButtonEl=s[0],this.connectMenuButtonEl()}setDefaultMenuButtonEl(i){this.defaultMenuButtonEl=i,i&&this.connectMenuButtonEl()}setPopoverEl(i){i&&(this.popoverEl=i,i.open=this.open)}handleCalciteActionClick(){this.open=!1,this.setFocus()}updateTooltip(i){const s=i.target.assignedElements({flatten:!0}).filter(l=>l?.matches("calcite-tooltip"));this.tooltipEl=s[0],this.setTooltipReferenceElement()}setTooltipReferenceElement(){const{tooltipEl:i,expanded:s,menuButtonEl:l,open:f}=this;i&&(i.referenceElement=!s&&!f?l:null)}updateActions(i){i?.forEach(this.updateAction)}handleDefaultSlotChange(i){const s=i.target.assignedElements({flatten:!0}).reduce((l,f)=>f?.matches("calcite-action")?(l.push(f),l):f?.matches("calcite-action-group")?l.concat(Array.from(f.querySelectorAll("calcite-action"))):l,[]);this.actionElements=s.filter(l=>!l.disabled&&!l.hidden)}isValidKey(i,s){return!!s.find(l=>l===i)}handleActionNavigation(i,s,l){if(!this.isValidKey(s,zl))return;if(i.preventDefault(),!this.open){this.toggleOpen(),(s==="Home"||s==="ArrowDown")&&(this.activeMenuItemIndex=0),(s==="End"||s==="ArrowUp")&&(this.activeMenuItemIndex=l.length-1);return}s==="Home"&&(this.activeMenuItemIndex=0),s==="End"&&(this.activeMenuItemIndex=l.length-1);const f=this.activeMenuItemIndex;s==="ArrowUp"&&(this.activeMenuItemIndex=Zr(Math.max(f-1,-1),l.length)),s==="ArrowDown"&&(this.activeMenuItemIndex=Zr(f+1,l.length))}toggleOpen(i=!this.open){this.open=i}handlePopoverOpen(i){i.stopPropagation(),this.open=!0,this.setFocus()}handlePopoverClose(i){i.stopPropagation(),this.open=!1}renderMenuButton(){const{appearance:i,label:s,scale:l,expanded:f}=this;return G`<slot name=${di.trigger} @slotchange=${this.setMenuButtonEl}><calcite-action .appearance=${i} class=${X(Qr.defaultTrigger)} .icon=${$l.menu} .scale=${l} .text=${s} .textEnabled=${f} ${xe(this.setDefaultMenuButtonEl)}></calcite-action></slot>`}renderMenuItems(){const{actionElements:i,activeMenuItemIndex:s,menuId:l,menuButtonEl:f,label:g,placement:v,overlayPositioning:b,flipPlacements:x}=this,A=i[s]?.id||null;return G`<calcite-popover auto-close .flipPlacements=${x} focus-trap-disabled .label=${g} offset-distance=0 @calcitePopoverClose=${this.handlePopoverClose} @calcitePopoverOpen=${this.handlePopoverOpen} .overlayPositioning=${b} .placement=${v} pointer-disabled .referenceElement=${f} trigger-disabled ${xe(this.setPopoverEl)}><div aria-activedescendant=${A??Je} aria-labelledby=${f?.id??Je} class=${X(Qr.menu)} id=${l??Je} @click=${this.handleCalciteActionClick} role=menu tabindex=-1><slot @slotchange=${this.handleDefaultSlotChange}></slot></div></calcite-popover>`}render(){return G`${this.renderMenuButton()}${this.renderMenuItems()}<slot name=${di.tooltip} @slotchange=${this.updateTooltip}></slot>`}};En.properties={activeMenuItemIndex:[16,{},{state:!0}],menuButtonEl:[16,{},{state:!0}],appearance:[3,{},{reflect:!0}],expanded:[7,{},{reflect:!0,type:Boolean}],flipPlacements:[0,{},{attribute:!1}],label:1,open:[7,{},{reflect:!0,type:Boolean}],overlayPositioning:[3,{},{reflect:!0}],placement:[3,{},{reflect:!0}],scale:[3,{},{reflect:!0}]},En.styles=Dl;let fi=En;vt("calcite-action-menu",fi);/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const le={actionBarContainer:"action-bar-container",container:"container",contentBottom:"content-bottom",contentTop:"content-top",header:"header",headerContainer:"header-container",headerContainerBorderEnd:"header-container--border-end",heading:"heading",description:"description",headerContent:"header-content",headerActions:"header-actions",headerActionsEnd:"header-actions--end",headerActionsStart:"header-actions--start",contentWrapper:"content-wrapper",fabContainer:"fab-container",footer:"footer",footerContent:"footer-content",footerActions:"footer-actions",footerStart:"footer-start",footerEnd:"footer-end",headerSlottedContent:"header-slotted-content",menuAction:"menu-action"},Jr={close:"close",collapse:"collapse"},an={close:"x",menu:"ellipsis",expand:"chevron-down",collapse:"chevron-up"},se={actionBar:"action-bar",alerts:"alerts",contentBottom:"content-bottom",contentTop:"content-top",headerActionsStart:"header-actions-start",headerActionsEnd:"header-actions-end",headerMenuActions:"header-menu-actions",headerContent:"header-content",fab:"fab",footer:"footer",footerEnd:"footer-end",footerStart:"footer-start",footerActions:"footer-actions"};/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const Il=pt`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{position:relative;box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;flex:1 1 auto;overflow:hidden;--calcite-min-header-height: calc(var(--calcite-icon-size) * 3);border-radius:var(--calcite-panel-corner-radius, var(--calcite-corner-radius-sharp))}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.header{margin:0;display:flex;align-content:space-between;align-items:center;fill:var(--calcite-color-text-2);color:var(--calcite-color-text-2)}.heading{margin:0;padding:0;font-weight:var(--calcite-font-weight-medium)}.header .heading{flex:1 1 auto;padding:.5rem}:host([scale=s]){--calcite-internal-panel-default-space: var(--calcite-spacing-sm);--calcite-internal-panel-header-vertical-padding: var(--calcite-spacing-sm-plus)}:host([scale=s]) .header-content .heading{font-size:var(--calcite-font-size--1)}:host([scale=s]) .header-content .description{font-size:var(--calcite-font-size--2)}:host([scale=m]){--calcite-internal-panel-default-space: var(--calcite-spacing-md);--calcite-internal-panel-header-vertical-padding: var(--calcite-spacing-md-plus)}:host([scale=m]) .header-content .heading{font-size:var(--calcite-font-size-0)}:host([scale=m]) .header-content .description{font-size:var(--calcite-font-size--1)}:host([scale=l]){--calcite-internal-panel-default-space: var(--calcite-spacing-lg);--calcite-internal-panel-header-vertical-padding: var(--calcite-spacing-xl)}:host([scale=l]) .header-content .heading{font-size:var(--calcite-font-size-1)}:host([scale=l]) .header-content .description{font-size:var(--calcite-font-size-0)}.content-top,.content-bottom{display:flex;align-items:flex-start;align-self:stretch;padding:var(--calcite-internal-panel-default-space);border-block-start:1px solid var(--calcite-panel-border-color, var(--calcite-color-border-3));background-color:var(--calcite-panel-background-color, var(--calcite-color-foreground-1))}.container{position:relative;margin:0;display:flex;inline-size:100%;flex:1 1 auto;flex-direction:column;align-items:stretch;overflow:hidden;background-color:var(--calcite-color-background);padding:0;color:var(--calcite-color-text-2);transition:max-block-size var(--calcite-animation-timing),inline-size var(--calcite-animation-timing);box-sizing:border-box;font-size:var(--calcite-font-size--1)}.container *{box-sizing:border-box}.container[hidden]{display:none}.header{z-index:var(--calcite-z-index-header);display:flex;flex-direction:column;background-color:var(--calcite-panel-header-background-color, var(--calcite-color-foreground-1));border-block-end:1px solid var(--calcite-panel-border-color, var(--calcite-panel-header-border-block-end, var(--calcite-color-border-3)))}.header-container{display:flex;inline-size:100%;flex-direction:row;align-items:stretch;justify-content:flex-start;flex:0 0 auto}.header-container--border-end{border-block-end:1px solid var(--calcite-panel-border-color, var(--calcite-color-border-3))}.action-bar-container{inline-size:100%}.action-bar-container ::slotted(calcite-action-bar){inline-size:100%}.header-content{display:flex;flex-direction:column;overflow:hidden;padding-inline:.75rem;padding-block:.875rem;margin-inline-end:auto;justify-content:center}.header-content .heading,.header-content .description{display:block;flex:none;overflow-wrap:break-word;padding:0;line-height:var(--calcite-font-line-height-relative-snug)}.header-content .heading{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-panel-heading-text-color, var(--calcite-color-text-1))}.header-content .heading:only-child{margin-block-end:0px}.header-content .description{color:var(--calcite-panel-description-text-color, var(--calcite-color-text-2))}#close,#collapse,.back-button,calcite-action-menu{--calcite-action-background-color: var(--calcite-panel-header-action-background-color);--calcite-action-background-color-hover: var(--calcite-panel-header-action-background-color-hover);--calcite-action-background-color-press: var(--calcite-panel-header-action-background-color-press);--calcite-action-text-color: var(--calcite-panel-header-action-text-color);--calcite-action-text-color-press: var(--calcite-panel-header-action-text-color-press)}.back-button{border-width:0px;border-style:solid;border-inline-end-width:1px;border-color:var(--calcite-panel-border-color, var(--calcite-color-border-3))}.header-actions{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch}.header-actions--end{margin-inline-start:auto}.content-wrapper{position:relative;display:flex;block-size:100%;flex:1 1 auto;flex-direction:column;flex-wrap:nowrap;align-items:stretch;overflow:auto;color:var(--calcite-color-text-2);outline-color:transparent;padding:var(--calcite-panel-space, var(--calcite-panel-content-space, 0));background:var(--calcite-panel-background-color, var(--calcite-color-background))}.content-wrapper:focus-visible{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.header-content{flex:1 1 auto;justify-content:center;padding-block:var(--calcite-internal-panel-header-vertical-padding);padding-inline:var(--calcite-internal-panel-default-space)}.header-content.header-slotted-content{padding:var(--calcite-panel-header-content-space, var(--calcite-internal-panel-header-vertical-padding) var(--calcite-internal-panel-default-space))}.footer{margin-block-start:auto;display:flex;flex-direction:row;align-content:space-between;align-items:center;justify-content:center;font-size:var(--calcite-font-size--2);line-height:1.375;border-block-start:1px solid var(--calcite-panel-border-color, var(--calcite-color-border-3));padding:var(--calcite-panel-footer-space, var(--calcite-panel-footer-padding, var(--calcite-internal-panel-default-space)));background-color:var(--calcite-panel-footer-background-color, var(--calcite-color-foreground-1))}.footer-content{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:center}.footer-actions{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:space-evenly;gap:var(--calcite-internal-panel-default-space)}.footer-start{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:flex-start;margin-inline-end:auto;gap:var(--calcite-internal-panel-default-space)}.footer-end{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:flex-end;margin-inline-start:auto;gap:var(--calcite-internal-panel-default-space)}.fab-container{position:sticky;inset-block-end:0px;z-index:var(--calcite-z-index-sticky);margin-block:0px;margin-inline:auto;display:block;padding:.5rem;inset-inline:0;inline-size:fit-content}:host([hidden]){display:none}[hidden]{display:none}`,Sn=class Sn extends ht{constructor(){super(),this.resizeObserver=Rt("resize",()=>this.resizeHandler()),this.messages=_t(),this.hasActionBar=!1,this.hasContentBottom=!1,this.hasContentTop=!1,this.hasEndActions=!1,this.hasFab=!1,this.hasFooterActions=!1,this.hasFooterContent=!1,this.hasFooterEndContent=!1,this.hasFooterStartContent=!1,this.hasHeaderContent=!1,this.hasMenuItems=!1,this.hasStartActions=!1,this.isClosed=!1,this.showHeaderContent=!1,this.closable=!1,this.closed=!1,this.collapseDirection="down",this.collapsed=!1,this.collapsible=!1,this.disabled=!1,this.loading=!1,this.menuOpen=!1,this.menuPlacement=Lc,this.overlayPositioning="absolute",this.scale="m",this.calcitePanelClose=ye({cancelable:!1}),this.calcitePanelScroll=ye({cancelable:!1}),this.calcitePanelToggle=ye({cancelable:!1}),this.listen("keydown",this.panelKeyDownHandler)}async scrollContentTo(i){this.panelScrollEl?.scrollTo(i)}async setFocus(){await Bt(this),mi(this.containerEl)}async load(){this.isClosed=this.closed}willUpdate(i){i.has("closed")&&this.hasUpdated&&(this.closed?this.close():this.open())}updated(){lo(this)}disconnectedCallback(){super.disconnectedCallback(),this.resizeObserver?.disconnect()}resizeHandler(){const{panelScrollEl:i}=this;if(!i||typeof i.scrollHeight!="number"||typeof i.offsetHeight!="number")return;i.scrollHeight>i.offsetHeight?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex")}setContainerRef(i){this.containerEl=i}panelKeyDownHandler(i){this.closable&&i.key==="Escape"&&!i.defaultPrevented&&(this.handleUserClose(),i.preventDefault())}handleUserClose(){this.closed=!0,this.calcitePanelClose.emit()}open(){this.isClosed=!1}async close(){const i=this.beforeClose??(()=>Promise.resolve());try{await i()}catch{requestAnimationFrame(()=>{this.closed=!1});return}this.isClosed=!0}collapse(){this.collapsed=!this.collapsed,this.calcitePanelToggle.emit()}panelScrollHandler(){this.calcitePanelScroll.emit()}handleHeaderActionsStartSlotChange(i){this.hasStartActions=Te(i)}handleHeaderActionsEndSlotChange(i){this.hasEndActions=Te(i)}handleHeaderMenuActionsSlotChange(i){this.hasMenuItems=Te(i)}handleActionBarSlotChange(i){const s=gr(i).filter(l=>l?.matches("calcite-action-bar"));s.forEach(l=>l.layout="horizontal"),this.hasActionBar=!!s.length}handleHeaderContentSlotChange(i){this.hasHeaderContent=Te(i)}handleFabSlotChange(i){this.hasFab=Te(i)}handleFooterActionsSlotChange(i){this.hasFooterActions=Te(i)}handleFooterEndSlotChange(i){this.hasFooterEndContent=Te(i)}handleFooterStartSlotChange(i){this.hasFooterStartContent=Te(i)}handleFooterSlotChange(i){this.hasFooterContent=Te(i)}contentBottomSlotChangeHandler(i){this.hasContentBottom=Te(i)}contentTopSlotChangeHandler(i){this.hasContentTop=Te(i)}setPanelScrollEl(i){this.panelScrollEl=i,this.resizeObserver?.disconnect(),i&&(this.resizeObserver?.observe(i),this.resizeHandler())}handleAlertsSlotChange(i){gr(i)?.map(s=>{s.nodeName==="CALCITE-ALERT"&&(s.embedded=!0)})}renderHeaderContent(){const{heading:i,headingLevel:s,description:l,hasHeaderContent:f}=this,g=i?Do({class:le.heading,level:s,children:i}):null,v=l?G`<span class=${X(le.description)}>${l}</span>`:null;return!f&&(g||v)?he("header-content",G`<div class=${X(le.headerContent)}>${g}${v}</div>`):null}renderActionBar(){return G`<div class=${X(le.actionBarContainer)} .hidden=${!this.hasActionBar}><slot name=${se.actionBar} @slotchange=${this.handleActionBarSlotChange}></slot></div>`}renderHeaderSlottedContent(){return he("slotted-header-content",G`<div class=${X({[le.headerContent]:!0,[le.headerSlottedContent]:!0})} .hidden=${!this.hasHeaderContent}><slot name=${se.headerContent} @slotchange=${this.handleHeaderContentSlotChange}></slot></div>`)}renderHeaderStartActions(){const{hasStartActions:i}=this;return he("header-actions-start",G`<div class=${X({[le.headerActionsStart]:!0,[le.headerActions]:!0})} .hidden=${!i}><slot name=${se.headerActionsStart} @slotchange=${this.handleHeaderActionsStartSlotChange}></slot></div>`)}renderHeaderActionsEnd(){const{hasEndActions:i,messages:s,closable:l,collapsed:f,collapseDirection:g,collapsible:v,hasMenuItems:b}=this,{collapse:x,expand:E,close:A}=s,P=[an.expand,an.collapse];g==="up"&&P.reverse();const z=v?G`<calcite-action .ariaExpanded=${!f} .ariaLabel=${x} .icon=${f?P[0]:P[1]} id=${Jr.collapse} @click=${this.collapse} .scale=${this.scale} .text=${x} title=${(f?E:x)??Je}></calcite-action>`:null,D=l?G`<calcite-action .ariaLabel=${A} .icon=${an.close} id=${Jr.close} @click=${this.handleUserClose} .scale=${this.scale} .text=${A} title=${A??Je}></calcite-action>`:null,R=G`<slot name=${se.headerActionsEnd} @slotchange=${this.handleHeaderActionsEndSlotChange}></slot>`,L=i||z||D||b;return he("header-actions-end",G`<div class=${X({[le.headerActionsEnd]:!0,[le.headerActions]:!0})} .hidden=${!L}>${R}${this.renderMenu()}${z}${D}</div>`)}renderMenu(){const{hasMenuItems:i,messages:s,menuOpen:l,menuFlipPlacements:f,menuPlacement:g}=this;return he("menu",G`<calcite-action-menu .flipPlacements=${f??["top","bottom"]} .hidden=${!i} .label=${s.options} .open=${l} .overlayPositioning=${this.overlayPositioning} .placement=${g}><calcite-action class=${X(le.menuAction)} .icon=${an.menu} .scale=${this.scale} slot=${di.trigger} .text=${s.options}></calcite-action><slot name=${se.headerMenuActions} @slotchange=${this.handleHeaderMenuActionsSlotChange}></slot></calcite-action-menu>`)}renderHeaderNode(){const{hasHeaderContent:i,hasStartActions:s,hasEndActions:l,closable:f,collapsible:g,hasMenuItems:v,hasActionBar:b}=this,x=this.renderHeaderContent(),E=i||!!x||s||l||g||f||v;return this.showHeaderContent=E,G`<header class=${X(le.header)} .hidden=${!(E||b)}><div class=${X({[le.headerContainer]:!0,[le.headerContainerBorderEnd]:b})} .hidden=${!E}>${this.renderHeaderStartActions()}${this.renderHeaderSlottedContent()}${x}${this.renderHeaderActionsEnd()}</div>${this.renderActionBar()}${this.renderContentTop()}</header>`}renderFooterNode(){const{hasFooterEndContent:i,hasFooterStartContent:s,hasFooterContent:l,hasFooterActions:f}=this,g=s||i||l||f;return G`<footer class=${X(le.footer)} .hidden=${!g}><div class=${X(le.footerContent)} .hidden=${!l}><slot name=${se.footer} @slotchange=${this.handleFooterSlotChange}></slot></div><div class=${X(le.footerStart)} .hidden=${l||!s}><slot name=${se.footerStart} @slotchange=${this.handleFooterStartSlotChange}></slot></div><div class=${X(le.footerEnd)} .hidden=${l||!i}><slot name=${se.footerEnd} @slotchange=${this.handleFooterEndSlotChange}></slot></div><div class=${X(le.footerActions)} .hidden=${l||!f}>${he("footer-actions-slot",G`<slot name=${se.footerActions} @slotchange=${this.handleFooterActionsSlotChange}></slot>`)}</div></footer>`}renderContent(){return G`<div class=${X(le.contentWrapper)} .hidden=${this.collapsible&&this.collapsed} @scroll=${this.panelScrollHandler} ${xe(this.setPanelScrollEl)}><slot></slot>${this.renderFab()}</div>`}renderContentBottom(){return G`<div class=${X(le.contentBottom)} .hidden=${!this.hasContentBottom}><slot name=${se.contentBottom} @slotchange=${this.contentBottomSlotChangeHandler}></slot></div>`}renderContentTop(){return G`<div class=${X(le.contentTop)} .hidden=${!this.hasContentTop}><slot name=${se.contentTop} @slotchange=${this.contentTopSlotChangeHandler}></slot></div>`}renderFab(){return G`<div class=${X(le.fabContainer)} .hidden=${!this.hasFab}><slot name=${se.fab} @slotchange=${this.handleFabSlotChange}></slot></div>`}render(){const{disabled:i,loading:s,isClosed:l}=this,f=G`<article .ariaBusy=${s} class=${X(le.container)} .hidden=${l} ${xe(this.setContainerRef)}>${this.renderHeaderNode()}${this.renderContent()}${this.renderContentBottom()}${this.renderFooterNode()}${he("alerts",G`<slot name=${se.alerts} @slotchange=${this.handleAlertsSlotChange}></slot>`)}</article>`;return uo({disabled:i,children:G`${s?G`<calcite-scrim .loading=${s}></calcite-scrim>`:null}${f}`})}};Sn.properties={hasActionBar:[16,{},{state:!0}],hasContentBottom:[16,{},{state:!0}],hasContentTop:[16,{},{state:!0}],hasEndActions:[16,{},{state:!0}],hasFab:[16,{},{state:!0}],hasFooterActions:[16,{},{state:!0}],hasFooterContent:[16,{},{state:!0}],hasFooterEndContent:[16,{},{state:!0}],hasFooterStartContent:[16,{},{state:!0}],hasHeaderContent:[16,{},{state:!0}],hasMenuItems:[16,{},{state:!0}],hasStartActions:[16,{},{state:!0}],isClosed:[16,{},{state:!0}],showHeaderContent:[16,{},{state:!0}],beforeClose:[0,{},{attribute:!1}],closable:[7,{},{reflect:!0,type:Boolean}],closed:[7,{},{reflect:!0,type:Boolean}],collapseDirection:1,collapsed:[7,{},{reflect:!0,type:Boolean}],collapsible:[7,{},{reflect:!0,type:Boolean}],description:1,disabled:[7,{},{reflect:!0,type:Boolean}],heading:1,headingLevel:[11,{},{type:Number,reflect:!0}],loading:[7,{},{reflect:!0,type:Boolean}],menuFlipPlacements:[0,{},{attribute:!1}],menuOpen:[7,{},{reflect:!0,type:Boolean}],menuPlacement:[3,{},{reflect:!0}],messageOverrides:[0,{},{attribute:!1}],overlayPositioning:[3,{},{reflect:!0}],scale:[3,{},{reflect:!0}]},Sn.styles=Il;let pi=Sn;vt("calcite-panel",pi);/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */function Ml(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Dt={exports:{}},Fl=Dt.exports,eo;function Rl(){return eo||(eo=1,function(a,i){(function(s,l){a.exports=l()})(Fl,function(){function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s(Object(n),!0).forEach(function(r){x(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f(t){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(t)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L(r.key),r)}}function b(t,e,n){return e&&v(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function x(t,e,n){return(e=L(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P(t,e)}function A(t){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(t)}function P(t,e){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},P(t,e)}function z(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=A(t);if(e){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(c,u){if(u&&(typeof u=="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z(c)}(this,n)}}function R(){return R=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(c,u){for(;!Object.prototype.hasOwnProperty.call(c,u)&&(c=A(c))!==null;);return c}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},R.apply(this,arguments)}function L(t){var e=function(n,r){if(typeof n!="object"||n===null)return n;var o=n[Symbol.toPrimitive];if(o!==void 0){var c=o.call(n,r);if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(t,"string");return typeof e=="symbol"?e:e+""}var U=function(t){return!(!t||!t.Window)&&t instanceof t.Window},j=void 0,W=void 0;function re(t){j=t;var e=t.document.createTextNode("");e.ownerDocument!==t.document&&typeof t.wrap=="function"&&t.wrap(e)===e&&(t=t.wrap(t)),W=t}function te(t){return U(t)?t:(t.ownerDocument||t).defaultView||W.window}typeof window<"u"&&window&&re(window);var ne=function(t){return!!t&&f(t)==="object"},Z=function(t){return typeof t=="function"},w={window:function(t){return t===W||U(t)},docFrag:function(t){return ne(t)&&t.nodeType===11},object:ne,func:Z,number:function(t){return typeof t=="number"},bool:function(t){return typeof t=="boolean"},string:function(t){return typeof t=="string"},element:function(t){if(!t||f(t)!=="object")return!1;var e=te(t)||W;return/object|function/.test(typeof Element>"u"?"undefined":f(Element))?t instanceof Element||t instanceof e.Element:t.nodeType===1&&typeof t.nodeName=="string"},plainObject:function(t){return ne(t)&&!!t.constructor&&/function Object\b/.test(t.constructor.toString())},array:function(t){return ne(t)&&t.length!==void 0&&Z(t.splice)}};function de(t){var e=t.interaction;if(e.prepared.name==="drag"){var n=e.prepared.axis;n==="x"?(e.coords.cur.page.y=e.coords.start.page.y,e.coords.cur.client.y=e.coords.start.client.y,e.coords.velocity.client.y=0,e.coords.velocity.page.y=0):n==="y"&&(e.coords.cur.page.x=e.coords.start.page.x,e.coords.cur.client.x=e.coords.start.client.x,e.coords.velocity.client.x=0,e.coords.velocity.page.x=0)}}function fe(t){var e=t.iEvent,n=t.interaction;if(n.prepared.name==="drag"){var r=n.prepared.axis;if(r==="x"||r==="y"){var o=r==="x"?"y":"x";e.page[o]=n.coords.start.page[o],e.client[o]=n.coords.start.client[o],e.delta[o]=0}}}var ae={id:"actions/drag",install:function(t){var e=t.actions,n=t.Interactable,r=t.defaults;n.prototype.draggable=ae.draggable,e.map.drag=ae,e.methodDict.drag="draggable",r.actions.drag=ae.defaults},listeners:{"interactions:before-action-move":de,"interactions:action-resume":de,"interactions:action-move":fe,"auto-start:check":function(t){var e=t.interaction,n=t.interactable,r=t.buttons,o=n.options.drag;if(o&&o.enabled&&(!e.pointerIsDown||!/mouse|pointer/.test(e.pointerType)||r&n.options.drag.mouseButtons))return t.action={name:"drag",axis:o.lockAxis==="start"?o.startAxis:o.lockAxis},!1}},draggable:function(t){return w.object(t)?(this.options.drag.enabled=t.enabled!==!1,this.setPerAction("drag",t),this.setOnEvents("drag",t),/^(xy|x|y|start)$/.test(t.lockAxis)&&(this.options.drag.lockAxis=t.lockAxis),/^(xy|x|y)$/.test(t.startAxis)&&(this.options.drag.startAxis=t.startAxis),this):w.bool(t)?(this.options.drag.enabled=t,this):this.options.drag},beforeMove:de,move:fe,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(t){return t.search("drag")===0}},pe=ae,K={init:function(t){var e=t;K.document=e.document,K.DocumentFragment=e.DocumentFragment||k,K.SVGElement=e.SVGElement||k,K.SVGSVGElement=e.SVGSVGElement||k,K.SVGElementInstance=e.SVGElementInstance||k,K.Element=e.Element||k,K.HTMLElement=e.HTMLElement||K.Element,K.Event=e.Event,K.Touch=e.Touch||k,K.PointerEvent=e.PointerEvent||e.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function k(){}var T=K,M={init:function(t){var e=T.Element,n=t.navigator||{};M.supportsTouch="ontouchstart"in t||w.func(t.DocumentTouch)&&T.document instanceof t.DocumentTouch,M.supportsPointerEvent=n.pointerEnabled!==!1&&!!T.PointerEvent,M.isIOS=/iP(hone|od|ad)/.test(n.platform),M.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),M.isIe9=/MSIE 9/.test(n.userAgent),M.isOperaMobile=n.appName==="Opera"&&M.supportsTouch&&/Presto/.test(n.userAgent),M.prefixedMatchesSelector="matches"in e.prototype?"matches":"webkitMatchesSelector"in e.prototype?"webkitMatchesSelector":"mozMatchesSelector"in e.prototype?"mozMatchesSelector":"oMatchesSelector"in e.prototype?"oMatchesSelector":"msMatchesSelector",M.pEventTypes=M.supportsPointerEvent?T.PointerEvent===t.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,M.wheelEvent=T.document&&"onmousewheel"in T.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},N=M;function V(t,e){if(t.contains)return t.contains(e);for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function ee(t,e){for(;w.element(t);){if(oe(t,e))return t;t=H(t)}return null}function H(t){var e=t.parentNode;if(w.docFrag(e)){for(;(e=e.host)&&w.docFrag(e););return e}return e}function oe(t,e){return W!==j&&(e=e.replace(/\/deep\//g," ")),t[N.prefixedMatchesSelector](e)}var ue=function(t){return t.parentNode||t.host};function Ae(t,e){for(var n,r=[],o=t;(n=ue(o))&&o!==e&&n!==o.ownerDocument;)r.unshift(o),o=n;return r}function Fe(t,e,n){for(;w.element(t);){if(oe(t,e))return!0;if((t=H(t))===n)return oe(t,e)}return!1}function Se(t){return t.correspondingUseElement||t}function Re(t){var e=t instanceof T.SVGElement?t.getBoundingClientRect():t.getClientRects()[0];return e&&{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top}}function rt(t){var e,n=Re(t);if(!N.isIOS7&&n){var r={x:(e=(e=te(t))||W).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop};n.left+=r.x,n.right+=r.x,n.top+=r.y,n.bottom+=r.y}return n}function ot(t){for(var e=[];t;)e.push(t),t=H(t);return e}function at(t){return!!w.string(t)&&(T.document.querySelector(t),!0)}function B(t,e){for(var n in e)t[n]=e[n];return t}function Si(t,e,n){return t==="parent"?H(n):t==="self"?e.getRect(n):ee(n,t)}function mt(t,e,n,r){var o=t;return w.string(o)?o=Si(o,e,n):w.func(o)&&(o=o.apply(void 0,r)),w.element(o)&&(o=rt(o)),o}function Lt(t){return t&&{x:"x"in t?t.x:t.left,y:"y"in t?t.y:t.top}}function $n(t){return!t||"x"in t&&"y"in t||((t=B({},t)).x=t.left||0,t.y=t.top||0,t.width=t.width||(t.right||0)-t.x,t.height=t.height||(t.bottom||0)-t.y),t}function jt(t,e,n){t.left&&(e.left+=n.x),t.right&&(e.right+=n.x),t.top&&(e.top+=n.y),t.bottom&&(e.bottom+=n.y),e.width=e.right-e.left,e.height=e.bottom-e.top}function bt(t,e,n){var r=n&&t.options[n];return Lt(mt(r&&r.origin||t.options.origin,t,e,[t&&e]))||{x:0,y:0}}function Xe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(p){return!0},r=arguments.length>3?arguments[3]:void 0;if(r=r||{},w.string(t)&&t.search(" ")!==-1&&(t=ki(t)),w.array(t))return t.forEach(function(p){return Xe(p,e,n,r)}),r;if(w.object(t)&&(e=t,t=""),w.func(e)&&n(t))r[t]=r[t]||[],r[t].push(e);else if(w.array(e))for(var o=0,c=e;o<c.length;o++){var u=c[o];Xe(t,u,n,r)}else if(w.object(e))for(var d in e)Xe(ki(d).map(function(p){return"".concat(t).concat(p)}),e[d],n,r);return r}function ki(t){return t.trim().split(/ +/)}var yt=function(t,e){return Math.sqrt(t*t+e*e)},No=["webkit","moz"];function Ht(t,e){t.__set||(t.__set={});var n=function(o){if(No.some(function(c){return o.indexOf(c)===0}))return 1;typeof t[o]!="function"&&o!=="__set"&&Object.defineProperty(t,o,{get:function(){return o in t.__set?t.__set[o]:t.__set[o]=e[o]},set:function(c){t.__set[o]=c},configurable:!0})};for(var r in e)n(r);return t}function Ut(t,e){t.page=t.page||{},t.page.x=e.page.x,t.page.y=e.page.y,t.client=t.client||{},t.client.x=e.client.x,t.client.y=e.client.y,t.timeStamp=e.timeStamp}function Ti(t){t.page.x=0,t.page.y=0,t.client.x=0,t.client.y=0}function Ci(t){return t instanceof T.Event||t instanceof T.Touch}function Wt(t,e,n){return t=t||"page",(n=n||{}).x=e[t+"X"],n.y=e[t+"Y"],n}function Oi(t,e){return e=e||{x:0,y:0},N.isOperaMobile&&Ci(t)?(Wt("screen",t,e),e.x+=window.scrollX,e.y+=window.scrollY):Wt("page",t,e),e}function xt(t){return w.number(t.pointerId)?t.pointerId:t.identifier}function Lo(t,e,n){var r=e.length>1?Pi(e):e[0];Oi(r,t.page),function(o,c){c=c||{},N.isOperaMobile&&Ci(o)?Wt("screen",o,c):Wt("client",o,c)}(r,t.client),t.timeStamp=n}function An(t){var e=[];return w.array(t)?(e[0]=t[0],e[1]=t[1]):t.type==="touchend"?t.touches.length===1?(e[0]=t.touches[0],e[1]=t.changedTouches[0]):t.touches.length===0&&(e[0]=t.changedTouches[0],e[1]=t.changedTouches[1]):(e[0]=t.touches[0],e[1]=t.touches[1]),e}function Pi(t){for(var e={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<t.length;n++){var r=t[n];for(var o in e)e[o]+=r[o]}for(var c in e)e[c]/=t.length;return e}function Dn(t){if(!t.length)return null;var e=An(t),n=Math.min(e[0].pageX,e[1].pageX),r=Math.min(e[0].pageY,e[1].pageY),o=Math.max(e[0].pageX,e[1].pageX),c=Math.max(e[0].pageY,e[1].pageY);return{x:n,y:r,left:n,top:r,right:o,bottom:c,width:o-n,height:c-r}}function zn(t,e){var n=e+"X",r=e+"Y",o=An(t),c=o[0][n]-o[1][n],u=o[0][r]-o[1][r];return yt(c,u)}function In(t,e){var n=e+"X",r=e+"Y",o=An(t),c=o[1][n]-o[0][n],u=o[1][r]-o[0][r];return 180*Math.atan2(u,c)/Math.PI}function $i(t){return w.string(t.pointerType)?t.pointerType:w.number(t.pointerType)?[void 0,void 0,"touch","pen","mouse"][t.pointerType]:/touch/.test(t.type||"")||t instanceof T.Touch?"touch":"mouse"}function Ai(t){var e=w.func(t.composedPath)?t.composedPath():t.path;return[Se(e?e[0]:t.target),Se(t.currentTarget)]}var Vt=function(){function t(e){g(this,t),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=e}return b(t,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),t}();Object.defineProperty(Vt.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var Di=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];t.push(r)}return t},zi=function(t){return Di([],t)},wt=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1},Et=function(t,e){return t[wt(t,e)]},st=function(t){E(n,t);var e=D(n);function n(r,o,c){var u;g(this,n),(u=e.call(this,o._interaction)).dropzone=void 0,u.dragEvent=void 0,u.relatedTarget=void 0,u.draggable=void 0,u.propagationStopped=!1,u.immediatePropagationStopped=!1;var d=c==="dragleave"?r.prev:r.cur,p=d.element,m=d.dropzone;return u.type=c,u.target=p,u.currentTarget=p,u.dropzone=m,u.dragEvent=o,u.relatedTarget=o.target,u.draggable=o.interactable,u.timeStamp=o.timeStamp,u}return b(n,[{key:"reject",value:function(){var r=this,o=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&o.cur.dropzone===this.dropzone&&o.cur.element===this.target)if(o.prev.dropzone=this.dropzone,o.prev.element=this.target,o.rejected=!0,o.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var c=o.activeDrops,u=wt(c,function(p){var m=p.dropzone,h=p.element;return m===r.dropzone&&h===r.target});o.activeDrops.splice(u,1);var d=new n(o,this.dragEvent,"dropdeactivate");d.dropzone=this.dropzone,d.target=this.target,this.dropzone.fire(d)}else this.dropzone.fire(new n(o,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),n}(Vt);function Ii(t,e){for(var n=0,r=t.slice();n<r.length;n++){var o=r[n],c=o.dropzone,u=o.element;e.dropzone=c,e.target=u,c.fire(e),e.propagationStopped=e.immediatePropagationStopped=!1}}function Mn(t,e){for(var n=function(c,u){for(var d=[],p=0,m=c.interactables.list;p<m.length;p++){var h=m[p];if(h.options.drop.enabled){var y=h.options.drop.accept;if(!(w.element(y)&&y!==u||w.string(y)&&!oe(u,y)||w.func(y)&&!y({dropzone:h,draggableElement:u})))for(var S=0,O=h.getAllElements();S<O.length;S++){var C=O[S];C!==u&&d.push({dropzone:h,element:C,rect:h.getRect(C)})}}}return d}(t,e),r=0;r<n.length;r++){var o=n[r];o.rect=o.dropzone.getRect(o.element)}return n}function Mi(t,e,n){for(var r=t.dropState,o=t.interactable,c=t.element,u=[],d=0,p=r.activeDrops;d<p.length;d++){var m=p[d],h=m.dropzone,y=m.element,S=m.rect,O=h.dropCheck(e,n,o,c,y,S);u.push(O?y:null)}var C=function($){for(var F,I,_,Q=[],ie=0;ie<$.length;ie++){var q=$[ie],J=$[F];if(q&&ie!==F)if(J){var ge=ue(q),ce=ue(J);if(ge!==q.ownerDocument)if(ce!==q.ownerDocument)if(ge!==ce){Q=Q.length?Q:Ae(J);var be=void 0;if(J instanceof T.HTMLElement&&q instanceof T.SVGElement&&!(q instanceof T.SVGSVGElement)){if(q===ce)continue;be=q.ownerSVGElement}else be=q;for(var ke=Ae(be,J.ownerDocument),Ne=0;ke[Ne]&&ke[Ne]===Q[Ne];)Ne++;var en=[ke[Ne-1],ke[Ne],Q[Ne]];if(en[0])for(var Pt=en[0].lastChild;Pt;){if(Pt===en[1]){F=ie,Q=ke;break}if(Pt===en[2])break;Pt=Pt.previousSibling}}else _=J,(parseInt(te(I=q).getComputedStyle(I).zIndex,10)||0)>=(parseInt(te(_).getComputedStyle(_).zIndex,10)||0)&&(F=ie);else F=ie}else F=ie}return F}(u);return r.activeDrops[C]||null}function Fn(t,e,n){var r=t.dropState,o={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return n.type==="dragstart"&&(o.activate=new st(r,n,"dropactivate"),o.activate.target=null,o.activate.dropzone=null),n.type==="dragend"&&(o.deactivate=new st(r,n,"dropdeactivate"),o.deactivate.target=null,o.deactivate.dropzone=null),r.rejected||(r.cur.element!==r.prev.element&&(r.prev.dropzone&&(o.leave=new st(r,n,"dragleave"),n.dragLeave=o.leave.target=r.prev.element,n.prevDropzone=o.leave.dropzone=r.prev.dropzone),r.cur.dropzone&&(o.enter=new st(r,n,"dragenter"),n.dragEnter=r.cur.element,n.dropzone=r.cur.dropzone)),n.type==="dragend"&&r.cur.dropzone&&(o.drop=new st(r,n,"drop"),n.dropzone=r.cur.dropzone,n.relatedTarget=r.cur.element),n.type==="dragmove"&&r.cur.dropzone&&(o.move=new st(r,n,"dropmove"),n.dropzone=r.cur.dropzone)),o}function Rn(t,e){var n=t.dropState,r=n.activeDrops,o=n.cur,c=n.prev;e.leave&&c.dropzone.fire(e.leave),e.enter&&o.dropzone.fire(e.enter),e.move&&o.dropzone.fire(e.move),e.drop&&o.dropzone.fire(e.drop),e.deactivate&&Ii(r,e.deactivate),n.prev.dropzone=o.dropzone,n.prev.element=o.element}function Fi(t,e){var n=t.interaction,r=t.iEvent,o=t.event;if(r.type==="dragmove"||r.type==="dragend"){var c=n.dropState;e.dynamicDrop&&(c.activeDrops=Mn(e,n.element));var u=r,d=Mi(n,u,o);c.rejected=c.rejected&&!!d&&d.dropzone===c.cur.dropzone&&d.element===c.cur.element,c.cur.dropzone=d&&d.dropzone,c.cur.element=d&&d.element,c.events=Fn(n,0,u)}}var Ri={id:"actions/drop",install:function(t){var e=t.actions,n=t.interactStatic,r=t.Interactable,o=t.defaults;t.usePlugin(pe),r.prototype.dropzone=function(c){return function(u,d){if(w.object(d)){if(u.options.drop.enabled=d.enabled!==!1,d.listeners){var p=Xe(d.listeners),m=Object.keys(p).reduce(function(y,S){return y[/^(enter|leave)/.test(S)?"drag".concat(S):/^(activate|deactivate|move)/.test(S)?"drop".concat(S):S]=p[S],y},{}),h=u.options.drop.listeners;h&&u.off(h),u.on(m),u.options.drop.listeners=m}return w.func(d.ondrop)&&u.on("drop",d.ondrop),w.func(d.ondropactivate)&&u.on("dropactivate",d.ondropactivate),w.func(d.ondropdeactivate)&&u.on("dropdeactivate",d.ondropdeactivate),w.func(d.ondragenter)&&u.on("dragenter",d.ondragenter),w.func(d.ondragleave)&&u.on("dragleave",d.ondragleave),w.func(d.ondropmove)&&u.on("dropmove",d.ondropmove),/^(pointer|center)$/.test(d.overlap)?u.options.drop.overlap=d.overlap:w.number(d.overlap)&&(u.options.drop.overlap=Math.max(Math.min(1,d.overlap),0)),"accept"in d&&(u.options.drop.accept=d.accept),"checker"in d&&(u.options.drop.checker=d.checker),u}return w.bool(d)?(u.options.drop.enabled=d,u):u.options.drop}(this,c)},r.prototype.dropCheck=function(c,u,d,p,m,h){return function(y,S,O,C,$,F,I){var _=!1;if(!(I=I||y.getRect(F)))return!!y.options.drop.checker&&y.options.drop.checker(S,O,_,y,F,C,$);var Q=y.options.drop.overlap;if(Q==="pointer"){var ie=bt(C,$,"drag"),q=Oi(S);q.x+=ie.x,q.y+=ie.y;var J=q.x>I.left&&q.x<I.right,ge=q.y>I.top&&q.y<I.bottom;_=J&&ge}var ce=C.getRect($);if(ce&&Q==="center"){var be=ce.left+ce.width/2,ke=ce.top+ce.height/2;_=be>=I.left&&be<=I.right&&ke>=I.top&&ke<=I.bottom}return ce&&w.number(Q)&&(_=Math.max(0,Math.min(I.right,ce.right)-Math.max(I.left,ce.left))*Math.max(0,Math.min(I.bottom,ce.bottom)-Math.max(I.top,ce.top))/(ce.width*ce.height)>=Q),y.options.drop.checker&&(_=y.options.drop.checker(S,O,_,y,F,C,$)),_}(this,c,u,d,p,m,h)},n.dynamicDrop=function(c){return w.bool(c)?(t.dynamicDrop=c,n):t.dynamicDrop},B(e.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),e.methodDict.drop="dropzone",t.dynamicDrop=!1,o.actions.drop=Ri.defaults},listeners:{"interactions:before-action-start":function(t){var e=t.interaction;e.prepared.name==="drag"&&(e.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(t,e){var n=t.interaction,r=(t.event,t.iEvent);if(n.prepared.name==="drag"){var o=n.dropState;o.activeDrops=[],o.events={},o.activeDrops=Mn(e,n.element),o.events=Fn(n,0,r),o.events.activate&&(Ii(o.activeDrops,o.events.activate),e.fire("actions/drop:start",{interaction:n,dragEvent:r}))}},"interactions:action-move":Fi,"interactions:after-action-move":function(t,e){var n=t.interaction,r=t.iEvent;if(n.prepared.name==="drag"){var o=n.dropState;Rn(n,o.events),e.fire("actions/drop:move",{interaction:n,dragEvent:r}),o.events={}}},"interactions:action-end":function(t,e){if(t.interaction.prepared.name==="drag"){var n=t.interaction,r=t.iEvent;Fi(t,e),Rn(n,n.dropState.events),e.fire("actions/drop:end",{interaction:n,dragEvent:r})}},"interactions:stop":function(t){var e=t.interaction;if(e.prepared.name==="drag"){var n=e.dropState;n&&(n.activeDrops=null,n.events=null,n.cur.dropzone=null,n.cur.element=null,n.prev.dropzone=null,n.prev.element=null,n.rejected=!1)}}},getActiveDrops:Mn,getDrop:Mi,getDropEvents:Fn,fireDropEvents:Rn,filterEventType:function(t){return t.search("drag")===0||t.search("drop")===0},defaults:{enabled:!1,accept:null,overlap:"pointer"}},jo=Ri;function _n(t){var e=t.interaction,n=t.iEvent,r=t.phase;if(e.prepared.name==="gesture"){var o=e.pointers.map(function(m){return m.pointer}),c=r==="start",u=r==="end",d=e.interactable.options.deltaSource;if(n.touches=[o[0],o[1]],c)n.distance=zn(o,d),n.box=Dn(o),n.scale=1,n.ds=0,n.angle=In(o,d),n.da=0,e.gesture.startDistance=n.distance,e.gesture.startAngle=n.angle;else if(u||e.pointers.length<2){var p=e.prevEvent;n.distance=p.distance,n.box=p.box,n.scale=p.scale,n.ds=0,n.angle=p.angle,n.da=0}else n.distance=zn(o,d),n.box=Dn(o),n.scale=n.distance/e.gesture.startDistance,n.angle=In(o,d),n.ds=n.scale-e.gesture.scale,n.da=n.angle-e.gesture.angle;e.gesture.distance=n.distance,e.gesture.angle=n.angle,w.number(n.scale)&&n.scale!==1/0&&!isNaN(n.scale)&&(e.gesture.scale=n.scale)}}var Bn={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(t){var e=t.actions,n=t.Interactable,r=t.defaults;n.prototype.gesturable=function(o){return w.object(o)?(this.options.gesture.enabled=o.enabled!==!1,this.setPerAction("gesture",o),this.setOnEvents("gesture",o),this):w.bool(o)?(this.options.gesture.enabled=o,this):this.options.gesture},e.map.gesture=Bn,e.methodDict.gesture="gesturable",r.actions.gesture=Bn.defaults},listeners:{"interactions:action-start":_n,"interactions:action-move":_n,"interactions:action-end":_n,"interactions:new":function(t){t.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(t){if(!(t.interaction.pointers.length<2)){var e=t.interactable.options.gesture;if(e&&e.enabled)return t.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(t){return t.search("gesture")===0}},Ho=Bn;function Uo(t,e,n,r,o,c,u){if(!e)return!1;if(e===!0){var d=w.number(c.width)?c.width:c.right-c.left,p=w.number(c.height)?c.height:c.bottom-c.top;if(u=Math.min(u,Math.abs((t==="left"||t==="right"?d:p)/2)),d<0&&(t==="left"?t="right":t==="right"&&(t="left")),p<0&&(t==="top"?t="bottom":t==="bottom"&&(t="top")),t==="left"){var m=d>=0?c.left:c.right;return n.x<m+u}if(t==="top"){var h=p>=0?c.top:c.bottom;return n.y<h+u}if(t==="right")return n.x>(d>=0?c.right:c.left)-u;if(t==="bottom")return n.y>(p>=0?c.bottom:c.top)-u}return!!w.element(r)&&(w.element(e)?e===r:Fe(r,e,o))}function _i(t){var e=t.iEvent,n=t.interaction;if(n.prepared.name==="resize"&&n.resizeAxes){var r=e;n.interactable.options.resize.square?(n.resizeAxes==="y"?r.delta.x=r.delta.y:r.delta.y=r.delta.x,r.axes="xy"):(r.axes=n.resizeAxes,n.resizeAxes==="x"?r.delta.y=0:n.resizeAxes==="y"&&(r.delta.x=0))}}var _e,Ge,Be={id:"actions/resize",before:["actions/drag"],install:function(t){var e=t.actions,n=t.browser,r=t.Interactable,o=t.defaults;Be.cursors=function(c){return c.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(n),Be.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,r.prototype.resizable=function(c){return function(u,d,p){return w.object(d)?(u.options.resize.enabled=d.enabled!==!1,u.setPerAction("resize",d),u.setOnEvents("resize",d),w.string(d.axis)&&/^x$|^y$|^xy$/.test(d.axis)?u.options.resize.axis=d.axis:d.axis===null&&(u.options.resize.axis=p.defaults.actions.resize.axis),w.bool(d.preserveAspectRatio)?u.options.resize.preserveAspectRatio=d.preserveAspectRatio:w.bool(d.square)&&(u.options.resize.square=d.square),u):w.bool(d)?(u.options.resize.enabled=d,u):u.options.resize}(this,c,t)},e.map.resize=Be,e.methodDict.resize="resizable",o.actions.resize=Be.defaults},listeners:{"interactions:new":function(t){t.interaction.resizeAxes="xy"},"interactions:action-start":function(t){(function(e){var n=e.iEvent,r=e.interaction;if(r.prepared.name==="resize"&&r.prepared.edges){var o=n,c=r.rect;r._rects={start:B({},c),corrected:B({},c),previous:B({},c),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},o.edges=r.prepared.edges,o.rect=r._rects.corrected,o.deltaRect=r._rects.delta}})(t),_i(t)},"interactions:action-move":function(t){(function(e){var n=e.iEvent,r=e.interaction;if(r.prepared.name==="resize"&&r.prepared.edges){var o=n,c=r.interactable.options.resize.invert,u=c==="reposition"||c==="negate",d=r.rect,p=r._rects,m=p.start,h=p.corrected,y=p.delta,S=p.previous;if(B(S,h),u){if(B(h,d),c==="reposition"){if(h.top>h.bottom){var O=h.top;h.top=h.bottom,h.bottom=O}if(h.left>h.right){var C=h.left;h.left=h.right,h.right=C}}}else h.top=Math.min(d.top,m.bottom),h.bottom=Math.max(d.bottom,m.top),h.left=Math.min(d.left,m.right),h.right=Math.max(d.right,m.left);for(var $ in h.width=h.right-h.left,h.height=h.bottom-h.top,h)y[$]=h[$]-S[$];o.edges=r.prepared.edges,o.rect=h,o.deltaRect=y}})(t),_i(t)},"interactions:action-end":function(t){var e=t.iEvent,n=t.interaction;if(n.prepared.name==="resize"&&n.prepared.edges){var r=e;r.edges=n.prepared.edges,r.rect=n._rects.corrected,r.deltaRect=n._rects.delta}},"auto-start:check":function(t){var e=t.interaction,n=t.interactable,r=t.element,o=t.rect,c=t.buttons;if(o){var u=B({},e.coords.cur.page),d=n.options.resize;if(d&&d.enabled&&(!e.pointerIsDown||!/mouse|pointer/.test(e.pointerType)||c&d.mouseButtons)){if(w.object(d.edges)){var p={left:!1,right:!1,top:!1,bottom:!1};for(var m in p)p[m]=Uo(m,d.edges[m],u,e._latestPointer.eventTarget,r,o,d.margin||Be.defaultMargin);p.left=p.left&&!p.right,p.top=p.top&&!p.bottom,(p.left||p.right||p.top||p.bottom)&&(t.action={name:"resize",edges:p})}else{var h=d.axis!=="y"&&u.x>o.right-Be.defaultMargin,y=d.axis!=="x"&&u.y>o.bottom-Be.defaultMargin;(h||y)&&(t.action={name:"resize",axes:(h?"x":"")+(y?"y":"")})}return!t.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(t){var e=t.edges,n=t.axis,r=t.name,o=Be.cursors,c=null;if(n)c=o[r+n];else if(e){for(var u="",d=0,p=["top","bottom","left","right"];d<p.length;d++){var m=p[d];e[m]&&(u+=m)}c=o[u]}return c},filterEventType:function(t){return t.search("resize")===0},defaultMargin:null},Wo=Be,Vo={id:"actions",install:function(t){t.usePlugin(Ho),t.usePlugin(Wo),t.usePlugin(pe),t.usePlugin(jo)}},Bi=0,je={request:function(t){return _e(t)},cancel:function(t){return Ge(t)},init:function(t){if(_e=t.requestAnimationFrame,Ge=t.cancelAnimationFrame,!_e)for(var e=["ms","moz","webkit","o"],n=0;n<e.length;n++){var r=e[n];_e=t["".concat(r,"RequestAnimationFrame")],Ge=t["".concat(r,"CancelAnimationFrame")]||t["".concat(r,"CancelRequestAnimationFrame")]}_e=_e&&_e.bind(t),Ge=Ge&&Ge.bind(t),_e||(_e=function(o){var c=Date.now(),u=Math.max(0,16-(c-Bi)),d=t.setTimeout(function(){o(c+u)},u);return Bi=c+u,d},Ge=function(o){return clearTimeout(o)})}},Y={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(t){Y.isScrolling=!0,je.cancel(Y.i),t.autoScroll=Y,Y.interaction=t,Y.prevTime=Y.now(),Y.i=je.request(Y.scroll)},stop:function(){Y.isScrolling=!1,Y.interaction&&(Y.interaction.autoScroll=null),je.cancel(Y.i)},scroll:function(){var t=Y.interaction,e=t.interactable,n=t.element,r=t.prepared.name,o=e.options[r].autoScroll,c=Ni(o.container,e,n),u=Y.now(),d=(u-Y.prevTime)/1e3,p=o.speed*d;if(p>=1){var m={x:Y.x*p,y:Y.y*p};if(m.x||m.y){var h=Li(c);w.window(c)?c.scrollBy(m.x,m.y):c&&(c.scrollLeft+=m.x,c.scrollTop+=m.y);var y=Li(c),S={x:y.x-h.x,y:y.y-h.y};(S.x||S.y)&&e.fire({type:"autoscroll",target:n,interactable:e,delta:S,interaction:t,container:c})}Y.prevTime=u}Y.isScrolling&&(je.cancel(Y.i),Y.i=je.request(Y.scroll))},check:function(t,e){var n;return(n=t.options[e].autoScroll)==null?void 0:n.enabled},onInteractionMove:function(t){var e=t.interaction,n=t.pointer;if(e.interacting()&&Y.check(e.interactable,e.prepared.name))if(e.simulation)Y.x=Y.y=0;else{var r,o,c,u,d=e.interactable,p=e.element,m=e.prepared.name,h=d.options[m].autoScroll,y=Ni(h.container,d,p);if(w.window(y))u=n.clientX<Y.margin,r=n.clientY<Y.margin,o=n.clientX>y.innerWidth-Y.margin,c=n.clientY>y.innerHeight-Y.margin;else{var S=Re(y);u=n.clientX<S.left+Y.margin,r=n.clientY<S.top+Y.margin,o=n.clientX>S.right-Y.margin,c=n.clientY>S.bottom-Y.margin}Y.x=o?1:u?-1:0,Y.y=c?1:r?-1:0,Y.isScrolling||(Y.margin=h.margin,Y.speed=h.speed,Y.start(e))}}};function Ni(t,e,n){return(w.string(t)?Si(t,e,n):t)||te(n)}function Li(t){return w.window(t)&&(t=window.document.body),{x:t.scrollLeft,y:t.scrollTop}}var Ko={id:"auto-scroll",install:function(t){var e=t.defaults,n=t.actions;t.autoScroll=Y,Y.now=function(){return t.now()},n.phaselessTypes.autoscroll=!0,e.perAction.autoScroll=Y.defaults},listeners:{"interactions:new":function(t){t.interaction.autoScroll=null},"interactions:destroy":function(t){t.interaction.autoScroll=null,Y.stop(),Y.interaction&&(Y.interaction=null)},"interactions:stop":Y.stop,"interactions:action-move":function(t){return Y.onInteractionMove(t)}}},qo=Ko;function St(t,e){var n=!1;return function(){return n||(W.console.warn(e),n=!0),t.apply(this,arguments)}}function Nn(t,e){return t.name=e.name,t.axis=e.axis,t.edges=e.edges,t}function Yo(t){return w.bool(t)?(this.options.styleCursor=t,this):t===null?(delete this.options.styleCursor,this):this.options.styleCursor}function Xo(t){return w.func(t)?(this.options.actionChecker=t,this):t===null?(delete this.options.actionChecker,this):this.options.actionChecker}var Go={id:"auto-start/interactableMethods",install:function(t){var e=t.Interactable;e.prototype.getAction=function(n,r,o,c){var u=function(d,p,m,h,y){var S=d.getRect(h),O=p.buttons||{0:1,1:4,3:8,4:16}[p.button],C={action:null,interactable:d,interaction:m,element:h,rect:S,buttons:O};return y.fire("auto-start:check",C),C.action}(this,r,o,c,t);return this.options.actionChecker?this.options.actionChecker(n,r,u,this,c,o):u},e.prototype.ignoreFrom=St(function(n){return this._backCompatOption("ignoreFrom",n)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),e.prototype.allowFrom=St(function(n){return this._backCompatOption("allowFrom",n)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),e.prototype.actionChecker=Xo,e.prototype.styleCursor=Yo}};function ji(t,e,n,r,o){return e.testIgnoreAllow(e.options[t.name],n,r)&&e.options[t.name].enabled&&Kt(e,n,t,o)?t:null}function Zo(t,e,n,r,o,c,u){for(var d=0,p=r.length;d<p;d++){var m=r[d],h=o[d],y=m.getAction(e,n,t,h);if(y){var S=ji(y,m,h,c,u);if(S)return{action:S,interactable:m,element:h}}}return{action:null,interactable:null,element:null}}function Hi(t,e,n,r,o){var c=[],u=[],d=r;function p(h){c.push(h),u.push(d)}for(;w.element(d);){c=[],u=[],o.interactables.forEachMatch(d,p);var m=Zo(t,e,n,c,u,r,o);if(m.action&&!m.interactable.options[m.action.name].manualStart)return m;d=H(d)}return{action:null,interactable:null,element:null}}function Ui(t,e,n){var r=e.action,o=e.interactable,c=e.element;r=r||{name:null},t.interactable=o,t.element=c,Nn(t.prepared,r),t.rect=o&&r.name?o.getRect(c):null,Vi(t,n),n.fire("autoStart:prepared",{interaction:t})}function Kt(t,e,n,r){var o=t.options,c=o[n.name].max,u=o[n.name].maxPerElement,d=r.autoStart.maxInteractions,p=0,m=0,h=0;if(!(c&&u&&d))return!1;for(var y=0,S=r.interactions.list;y<S.length;y++){var O=S[y],C=O.prepared.name;if(O.interacting()&&(++p>=d||O.interactable===t&&((m+=C===n.name?1:0)>=c||O.element===e&&(h++,C===n.name&&h>=u))))return!1}return d>0}function Wi(t,e){return w.number(t)?(e.autoStart.maxInteractions=t,this):e.autoStart.maxInteractions}function Ln(t,e,n){var r=n.autoStart.cursorElement;r&&r!==t&&(r.style.cursor=""),t.ownerDocument.documentElement.style.cursor=e,t.style.cursor=e,n.autoStart.cursorElement=e?t:null}function Vi(t,e){var n=t.interactable,r=t.element,o=t.prepared;if(t.pointerType==="mouse"&&n&&n.options.styleCursor){var c="";if(o.name){var u=n.options[o.name].cursorChecker;c=w.func(u)?u(o,n,r,t._interacting):e.actions.map[o.name].getCursor(o)}Ln(t.element,c||"",e)}else e.autoStart.cursorElement&&Ln(e.autoStart.cursorElement,"",e)}var Qo={id:"auto-start/base",before:["actions"],install:function(t){var e=t.interactStatic,n=t.defaults;t.usePlugin(Go),n.base.actionChecker=null,n.base.styleCursor=!0,B(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),e.maxInteractions=function(r){return Wi(r,t)},t.autoStart={maxInteractions:1/0,withinInteractionLimit:Kt,cursorElement:null}},listeners:{"interactions:down":function(t,e){var n=t.interaction,r=t.pointer,o=t.event,c=t.eventTarget;n.interacting()||Ui(n,Hi(n,r,o,c,e),e)},"interactions:move":function(t,e){(function(n,r){var o=n.interaction,c=n.pointer,u=n.event,d=n.eventTarget;o.pointerType!=="mouse"||o.pointerIsDown||o.interacting()||Ui(o,Hi(o,c,u,d,r),r)})(t,e),function(n,r){var o=n.interaction;if(o.pointerIsDown&&!o.interacting()&&o.pointerWasMoved&&o.prepared.name){r.fire("autoStart:before-start",n);var c=o.interactable,u=o.prepared.name;u&&c&&(c.options[u].manualStart||!Kt(c,o.element,o.prepared,r)?o.stop():(o.start(o.prepared,c,o.element),Vi(o,r)))}}(t,e)},"interactions:stop":function(t,e){var n=t.interaction,r=n.interactable;r&&r.options.styleCursor&&Ln(n.element,"",e)}},maxInteractions:Wi,withinInteractionLimit:Kt,validateAction:ji},jn=Qo,Jo={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(t,e){var n=t.interaction,r=t.eventTarget,o=t.dx,c=t.dy;if(n.prepared.name==="drag"){var u=Math.abs(o),d=Math.abs(c),p=n.interactable.options.drag,m=p.startAxis,h=u>d?"x":u<d?"y":"xy";if(n.prepared.axis=p.lockAxis==="start"?h[0]:p.lockAxis,h!=="xy"&&m!=="xy"&&m!==h){n.prepared.name=null;for(var y=r,S=function(C){if(C!==n.interactable){var $=n.interactable.options.drag;if(!$.manualStart&&C.testIgnoreAllow($,y,r)){var F=C.getAction(n.downPointer,n.downEvent,n,y);if(F&&F.name==="drag"&&function(I,_){if(!_)return!1;var Q=_.options.drag.startAxis;return I==="xy"||Q==="xy"||Q===I}(h,C)&&jn.validateAction(F,C,y,r,e))return C}}};w.element(y);){var O=e.interactables.forEachMatch(y,S);if(O){n.prepared.name="drag",n.interactable=O,n.element=y;break}y=H(y)}}}}}};function Hn(t){var e=t.prepared&&t.prepared.name;if(!e)return null;var n=t.interactable.options;return n[e].hold||n[e].delay}var ea={id:"auto-start/hold",install:function(t){var e=t.defaults;t.usePlugin(jn),e.perAction.hold=0,e.perAction.delay=0},listeners:{"interactions:new":function(t){t.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(t){var e=t.interaction,n=Hn(e);n>0&&(e.autoStartHoldTimer=setTimeout(function(){e.start(e.prepared,e.interactable,e.element)},n))},"interactions:move":function(t){var e=t.interaction,n=t.duplicate;e.autoStartHoldTimer&&e.pointerWasMoved&&!n&&(clearTimeout(e.autoStartHoldTimer),e.autoStartHoldTimer=null)},"autoStart:before-start":function(t){var e=t.interaction;Hn(e)>0&&(e.prepared.name=null)}},getHoldDuration:Hn},ta=ea,na={id:"auto-start",install:function(t){t.usePlugin(jn),t.usePlugin(ta),t.usePlugin(Jo)}},ia=function(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):w.bool(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault};function ra(t){var e=t.interaction,n=t.event;e.interactable&&e.interactable.checkAndPreventDefault(n)}var Ki={id:"core/interactablePreventDefault",install:function(t){var e=t.Interactable;e.prototype.preventDefault=ia,e.prototype.checkAndPreventDefault=function(n){return function(r,o,c){var u=r.options.preventDefault;if(u!=="never")if(u!=="always"){if(o.events.supportsPassive&&/^touch(start|move)$/.test(c.type)){var d=te(c.target).document,p=o.getDocOptions(d);if(!p||!p.events||p.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(c.type)||w.element(c.target)&&oe(c.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||c.preventDefault()}else c.preventDefault()}(this,t,n)},t.interactions.docEvents.push({type:"dragstart",listener:function(n){for(var r=0,o=t.interactions.list;r<o.length;r++){var c=o[r];if(c.element&&(c.element===n.target||V(c.element,n.target)))return void c.interactable.checkAndPreventDefault(n)}}})},listeners:["down","move","up","cancel"].reduce(function(t,e){return t["interactions:".concat(e)]=ra,t},{})};function qt(t,e){if(e.phaselessTypes[t])return!0;for(var n in e.map)if(t.indexOf(n)===0&&t.substr(n.length)in e.phases)return!0;return!1}function ct(t){var e={};for(var n in t){var r=t[n];w.plainObject(r)?e[n]=ct(r):w.array(r)?e[n]=zi(r):e[n]=r}return e}var Un=function(){function t(e){g(this,t),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=e,this.result=Yt(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return b(t,[{key:"start",value:function(e,n){var r,o,c=e.phase,u=this.interaction,d=function(m){var h=m.interactable.options[m.prepared.name],y=h.modifiers;return y&&y.length?y:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(S){var O=h[S];return O&&O.enabled&&{options:O,methods:O._methods}}).filter(function(S){return!!S})}(u);this.prepareStates(d),this.startEdges=B({},u.edges),this.edges=B({},this.startEdges),this.startOffset=(r=u.rect,o=n,r?{left:o.x-r.left,top:o.y-r.top,right:r.right-o.x,bottom:r.bottom-o.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var p=this.fillArg({phase:c,pageCoords:n,preEnd:!1});return this.result=Yt(),this.startAll(p),this.result=this.setAll(p)}},{key:"fillArg",value:function(e){var n=this.interaction;return e.interaction=n,e.interactable=n.interactable,e.element=n.element,e.rect||(e.rect=n.rect),e.edges||(e.edges=this.startEdges),e.startOffset=this.startOffset,e}},{key:"startAll",value:function(e){for(var n=0,r=this.states;n<r.length;n++){var o=r[n];o.methods.start&&(e.state=o,o.methods.start(e))}}},{key:"setAll",value:function(e){var n=e.phase,r=e.preEnd,o=e.skipModifiers,c=e.rect,u=e.edges;e.coords=B({},e.pageCoords),e.rect=B({},c),e.edges=B({},u);for(var d=o?this.states.slice(o):this.states,p=Yt(e.coords,e.rect),m=0;m<d.length;m++){var h,y=d[m],S=y.options,O=B({},e.coords),C=null;(h=y.methods)!=null&&h.set&&this.shouldDo(S,r,n)&&(e.state=y,C=y.methods.set(e),jt(e.edges,e.rect,{x:e.coords.x-O.x,y:e.coords.y-O.y})),p.eventProps.push(C)}B(this.edges,e.edges),p.delta.x=e.coords.x-e.pageCoords.x,p.delta.y=e.coords.y-e.pageCoords.y,p.rectDelta.left=e.rect.left-c.left,p.rectDelta.right=e.rect.right-c.right,p.rectDelta.top=e.rect.top-c.top,p.rectDelta.bottom=e.rect.bottom-c.bottom;var $=this.result.coords,F=this.result.rect;if($&&F){var I=p.rect.left!==F.left||p.rect.right!==F.right||p.rect.top!==F.top||p.rect.bottom!==F.bottom;p.changed=I||$.x!==p.coords.x||$.y!==p.coords.y}return p}},{key:"applyToInteraction",value:function(e){var n=this.interaction,r=e.phase,o=n.coords.cur,c=n.coords.start,u=this.result,d=this.startDelta,p=u.delta;r==="start"&&B(this.startDelta,u.delta);for(var m=0,h=[[c,d],[o,p]];m<h.length;m++){var y=h[m],S=y[0],O=y[1];S.page.x+=O.x,S.page.y+=O.y,S.client.x+=O.x,S.client.y+=O.y}var C=this.result.rectDelta,$=e.rect||n.rect;$.left+=C.left,$.right+=C.right,$.top+=C.top,$.bottom+=C.bottom,$.width=$.right-$.left,$.height=$.bottom-$.top}},{key:"setAndApply",value:function(e){var n=this.interaction,r=e.phase,o=e.preEnd,c=e.skipModifiers,u=this.setAll(this.fillArg({preEnd:o,phase:r,pageCoords:e.modifiedCoords||n.coords.cur.page}));if(this.result=u,!u.changed&&(!c||c<this.states.length)&&n.interacting())return!1;if(e.modifiedCoords){var d=n.coords.cur.page,p={x:e.modifiedCoords.x-d.x,y:e.modifiedCoords.y-d.y};u.coords.x+=p.x,u.coords.y+=p.y,u.delta.x+=p.x,u.delta.y+=p.y}this.applyToInteraction(e)}},{key:"beforeEnd",value:function(e){var n=e.interaction,r=e.event,o=this.states;if(o&&o.length){for(var c=!1,u=0;u<o.length;u++){var d=o[u];e.state=d;var p=d.options,m=d.methods,h=m.beforeEnd&&m.beforeEnd(e);if(h)return this.endResult=h,!1;c=c||!c&&this.shouldDo(p,!0,e.phase,!0)}c&&n.move({event:r,preEnd:!0})}}},{key:"stop",value:function(e){var n=e.interaction;if(this.states&&this.states.length){var r=B({states:this.states,interactable:n.interactable,element:n.element,rect:null},e);this.fillArg(r);for(var o=0,c=this.states;o<c.length;o++){var u=c[o];r.state=u,u.methods.stop&&u.methods.stop(r)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(e){this.states=[];for(var n=0;n<e.length;n++){var r=e[n],o=r.options,c=r.methods,u=r.name;this.states.push({options:o,methods:c,index:n,name:u})}return this.states}},{key:"restoreInteractionCoords",value:function(e){var n=e.interaction,r=n.coords,o=n.rect,c=n.modification;if(c.result){for(var u=c.startDelta,d=c.result,p=d.delta,m=d.rectDelta,h=0,y=[[r.start,u],[r.cur,p]];h<y.length;h++){var S=y[h],O=S[0],C=S[1];O.page.x-=C.x,O.page.y-=C.y,O.client.x-=C.x,O.client.y-=C.y}o.left-=m.left,o.right-=m.right,o.top-=m.top,o.bottom-=m.bottom}}},{key:"shouldDo",value:function(e,n,r,o){return!(!e||e.enabled===!1||o&&!e.endOnly||e.endOnly&&!n||r==="start"&&!e.setStart)}},{key:"copyFrom",value:function(e){this.startOffset=e.startOffset,this.startDelta=e.startDelta,this.startEdges=e.startEdges,this.edges=e.edges,this.states=e.states.map(function(n){return ct(n)}),this.result=Yt(B({},e.result.coords),B({},e.result.rect))}},{key:"destroy",value:function(){for(var e in this)this[e]=null}}]),t}();function Yt(t,e){return{rect:e,coords:t,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function He(t,e){var n=t.defaults,r={start:t.start,set:t.set,beforeEnd:t.beforeEnd,stop:t.stop},o=function(c){var u=c||{};for(var d in u.enabled=u.enabled!==!1,n)d in u||(u[d]=n[d]);var p={options:u,methods:r,name:e,enable:function(){return u.enabled=!0,p},disable:function(){return u.enabled=!1,p}};return p};return e&&typeof e=="string"&&(o._defaults=n,o._methods=r),o}function kt(t){var e=t.iEvent,n=t.interaction.modification.result;n&&(e.modifiers=n.eventProps)}var oa={id:"modifiers/base",before:["actions"],install:function(t){t.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(t){var e=t.interaction;e.modification=new Un(e)},"interactions:before-action-start":function(t){var e=t.interaction,n=t.interaction.modification;n.start(t,e.coords.start.page),e.edges=n.edges,n.applyToInteraction(t)},"interactions:before-action-move":function(t){var e=t.interaction,n=e.modification,r=n.setAndApply(t);return e.edges=n.edges,r},"interactions:before-action-end":function(t){var e=t.interaction,n=e.modification,r=n.beforeEnd(t);return e.edges=n.startEdges,r},"interactions:action-start":kt,"interactions:action-move":kt,"interactions:action-end":kt,"interactions:after-action-start":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:after-action-move":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:stop":function(t){return t.interaction.modification.stop(t)}}},qi=oa,Yi={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},Wn=function(t){E(n,t);var e=D(n);function n(r,o,c,u,d,p,m){var h;g(this,n),(h=e.call(this,r)).relatedTarget=null,h.screenX=void 0,h.screenY=void 0,h.button=void 0,h.buttons=void 0,h.ctrlKey=void 0,h.shiftKey=void 0,h.altKey=void 0,h.metaKey=void 0,h.page=void 0,h.client=void 0,h.delta=void 0,h.rect=void 0,h.x0=void 0,h.y0=void 0,h.t0=void 0,h.dt=void 0,h.duration=void 0,h.clientX0=void 0,h.clientY0=void 0,h.velocity=void 0,h.speed=void 0,h.swipe=void 0,h.axes=void 0,h.preEnd=void 0,d=d||r.element;var y=r.interactable,S=(y&&y.options||Yi).deltaSource,O=bt(y,d,c),C=u==="start",$=u==="end",F=C?z(h):r.prevEvent,I=C?r.coords.start:$?{page:F.page,client:F.client,timeStamp:r.coords.cur.timeStamp}:r.coords.cur;return h.page=B({},I.page),h.client=B({},I.client),h.rect=B({},r.rect),h.timeStamp=I.timeStamp,$||(h.page.x-=O.x,h.page.y-=O.y,h.client.x-=O.x,h.client.y-=O.y),h.ctrlKey=o.ctrlKey,h.altKey=o.altKey,h.shiftKey=o.shiftKey,h.metaKey=o.metaKey,h.button=o.button,h.buttons=o.buttons,h.target=d,h.currentTarget=d,h.preEnd=p,h.type=m||c+(u||""),h.interactable=y,h.t0=C?r.pointers[r.pointers.length-1].downTime:F.t0,h.x0=r.coords.start.page.x-O.x,h.y0=r.coords.start.page.y-O.y,h.clientX0=r.coords.start.client.x-O.x,h.clientY0=r.coords.start.client.y-O.y,h.delta=C||$?{x:0,y:0}:{x:h[S].x-F[S].x,y:h[S].y-F[S].y},h.dt=r.coords.delta.timeStamp,h.duration=h.timeStamp-h.t0,h.velocity=B({},r.coords.velocity[S]),h.speed=yt(h.velocity.x,h.velocity.y),h.swipe=$||u==="inertiastart"?h.getSwipe():null,h}return b(n,[{key:"getSwipe",value:function(){var r=this._interaction;if(r.prevEvent.speed<600||this.timeStamp-r.prevEvent.timeStamp>150)return null;var o=180*Math.atan2(r.prevEvent.velocityY,r.prevEvent.velocityX)/Math.PI;o<0&&(o+=360);var c=112.5<=o&&o<247.5,u=202.5<=o&&o<337.5;return{up:u,down:!u&&22.5<=o&&o<157.5,left:c,right:!c&&(292.5<=o||o<67.5),angle:o,speed:r.prevEvent.speed,velocity:{x:r.prevEvent.velocityX,y:r.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),n}(Vt);Object.defineProperties(Wn.prototype,{pageX:{get:function(){return this.page.x},set:function(t){this.page.x=t}},pageY:{get:function(){return this.page.y},set:function(t){this.page.y=t}},clientX:{get:function(){return this.client.x},set:function(t){this.client.x=t}},clientY:{get:function(){return this.client.y},set:function(t){this.client.y=t}},dx:{get:function(){return this.delta.x},set:function(t){this.delta.x=t}},dy:{get:function(){return this.delta.y},set:function(t){this.delta.y=t}},velocityX:{get:function(){return this.velocity.x},set:function(t){this.velocity.x=t}},velocityY:{get:function(){return this.velocity.y},set:function(t){this.velocity.y=t}}});var aa=b(function t(e,n,r,o,c){g(this,t),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=e,this.pointer=n,this.event=r,this.downTime=o,this.downTarget=c}),sa=function(t){return t.interactable="",t.element="",t.prepared="",t.pointerIsDown="",t.pointerWasMoved="",t._proxy="",t}({}),Xi=function(t){return t.start="",t.move="",t.end="",t.stop="",t.interacting="",t}({}),ca=0,la=function(){function t(e){var n=this,r=e.pointerType,o=e.scopeFire;g(this,t),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=St(function(h){this.move(h)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=ca++,this._scopeFire=o,this.pointerType=r;var c=this;this._proxy={};var u=function(h){Object.defineProperty(n._proxy,h,{get:function(){return c[h]}})};for(var d in sa)u(d);var p=function(h){Object.defineProperty(n._proxy,h,{value:function(){return c[h].apply(c,arguments)}})};for(var m in Xi)p(m);this._scopeFire("interactions:new",{interaction:this})}return b(t,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(e,n,r){var o=this.updatePointer(e,n,r,!0),c=this.pointers[o];this._scopeFire("interactions:down",{pointer:e,event:n,eventTarget:r,pointerIndex:o,pointerInfo:c,type:"down",interaction:this})}},{key:"start",value:function(e,n,r){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(e.name==="gesture"?2:1)||!n.options[e.name].enabled)&&(Nn(this.prepared,e),this.interactable=n,this.element=r,this.rect=n.getRect(r),this.edges=this.prepared.edges?B({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(e,n,r){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(e,n,r,!1);var o,c,u=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(o=this.coords.cur.client.x-this.coords.start.client.x,c=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=yt(o,c)>this.pointerMoveTolerance);var d,p,m,h=this.getPointerIndex(e),y={pointer:e,pointerIndex:h,pointerInfo:this.pointers[h],event:n,type:"move",eventTarget:r,dx:o,dy:c,duplicate:u,interaction:this};u||(d=this.coords.velocity,p=this.coords.delta,m=Math.max(p.timeStamp/1e3,.001),d.page.x=p.page.x/m,d.page.y=p.page.y/m,d.client.x=p.client.x/m,d.client.y=p.client.y/m,d.timeStamp=m),this._scopeFire("interactions:move",y),u||this.simulation||(this.interacting()&&(y.type=null,this.move(y)),this.pointerWasMoved&&Ut(this.coords.prev,this.coords.cur))}},{key:"move",value:function(e){e&&e.event||Ti(this.coords.delta),(e=B({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},e||{})).phase="move",this._doPhase(e)}},{key:"pointerUp",value:function(e,n,r,o){var c=this.getPointerIndex(e);c===-1&&(c=this.updatePointer(e,n,r,!1));var u=/cancel$/i.test(n.type)?"cancel":"up";this._scopeFire("interactions:".concat(u),{pointer:e,pointerIndex:c,pointerInfo:this.pointers[c],event:n,eventTarget:r,type:u,curEventTarget:o,interaction:this}),this.simulation||this.end(n),this.removePointer(e,n)}},{key:"documentBlur",value:function(e){this.end(e),this._scopeFire("interactions:blur",{event:e,type:"blur",interaction:this})}},{key:"end",value:function(e){var n;this._ending=!0,e=e||this._latestPointer.event,this.interacting()&&(n=this._doPhase({event:e,interaction:this,phase:"end"})),this._ending=!1,n===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(e){var n=xt(e);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:wt(this.pointers,function(r){return r.id===n})}},{key:"getPointerInfo",value:function(e){return this.pointers[this.getPointerIndex(e)]}},{key:"updatePointer",value:function(e,n,r,o){var c,u,d,p=xt(e),m=this.getPointerIndex(e),h=this.pointers[m];return o=o!==!1&&(o||/(down|start)$/i.test(n.type)),h?h.pointer=e:(h=new aa(p,e,n,null,null),m=this.pointers.length,this.pointers.push(h)),Lo(this.coords.cur,this.pointers.map(function(y){return y.pointer}),this._now()),c=this.coords.delta,u=this.coords.prev,d=this.coords.cur,c.page.x=d.page.x-u.page.x,c.page.y=d.page.y-u.page.y,c.client.x=d.client.x-u.client.x,c.client.y=d.client.y-u.client.y,c.timeStamp=d.timeStamp-u.timeStamp,o&&(this.pointerIsDown=!0,h.downTime=this.coords.cur.timeStamp,h.downTarget=r,Ht(this.downPointer,e),this.interacting()||(Ut(this.coords.start,this.coords.cur),Ut(this.coords.prev,this.coords.cur),this.downEvent=n,this.pointerWasMoved=!1)),this._updateLatestPointer(e,n,r),this._scopeFire("interactions:update-pointer",{pointer:e,event:n,eventTarget:r,down:o,pointerInfo:h,pointerIndex:m,interaction:this}),m}},{key:"removePointer",value:function(e,n){var r=this.getPointerIndex(e);if(r!==-1){var o=this.pointers[r];this._scopeFire("interactions:remove-pointer",{pointer:e,event:n,eventTarget:null,pointerIndex:r,pointerInfo:o,interaction:this}),this.pointers.splice(r,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(e,n,r){this._latestPointer.pointer=e,this._latestPointer.event=n,this._latestPointer.eventTarget=r}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(e,n,r,o){return new Wn(this,e,this.prepared.name,n,this.element,r,o)}},{key:"_fireEvent",value:function(e){var n;(n=this.interactable)==null||n.fire(e),(!this.prevEvent||e.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=e)}},{key:"_doPhase",value:function(e){var n=e.event,r=e.phase,o=e.preEnd,c=e.type,u=this.rect;if(u&&r==="move"&&(jt(this.edges,u,this.coords.delta[this.interactable.options.deltaSource]),u.width=u.right-u.left,u.height=u.bottom-u.top),this._scopeFire("interactions:before-action-".concat(r),e)===!1)return!1;var d=e.iEvent=this._createPreparedEvent(n,r,o,c);return this._scopeFire("interactions:action-".concat(r),e),r==="start"&&(this.prevEvent=d),this._fireEvent(d),this._scopeFire("interactions:after-action-".concat(r),e),!0}},{key:"_now",value:function(){return Date.now()}}]),t}();function Gi(t){Zi(t.interaction)}function Zi(t){if(!function(n){return!(!n.offset.pending.x&&!n.offset.pending.y)}(t))return!1;var e=t.offset.pending;return Vn(t.coords.cur,e),Vn(t.coords.delta,e),jt(t.edges,t.rect,e),e.x=0,e.y=0,!0}function ua(t){var e=t.x,n=t.y;this.offset.pending.x+=e,this.offset.pending.y+=n,this.offset.total.x+=e,this.offset.total.y+=n}function Vn(t,e){var n=t.page,r=t.client,o=e.x,c=e.y;n.x+=o,n.y+=c,r.x+=o,r.y+=c}Xi.offsetBy="";var da={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(t){t.Interaction.prototype.offsetBy=ua},listeners:{"interactions:new":function(t){t.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(t){return function(e){e.pointerIsDown&&(Vn(e.coords.cur,e.offset.total),e.offset.pending.x=0,e.offset.pending.y=0)}(t.interaction)},"interactions:before-action-start":Gi,"interactions:before-action-move":Gi,"interactions:before-action-end":function(t){var e=t.interaction;if(Zi(e))return e.move({offset:!0}),e.end(),!1},"interactions:stop":function(t){var e=t.interaction;e.offset.total.x=0,e.offset.total.y=0,e.offset.pending.x=0,e.offset.pending.y=0}}},Qi=da,fa=function(){function t(e){g(this,t),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=e}return b(t,[{key:"start",value:function(e){var n=this.interaction,r=Xt(n);if(!r||!r.enabled)return!1;var o=n.coords.velocity.client,c=yt(o.x,o.y),u=this.modification||(this.modification=new Un(n));if(u.copyFrom(n.modification),this.t0=n._now(),this.allowResume=r.allowResume,this.v0=c,this.currentOffset={x:0,y:0},this.startCoords=n.coords.cur.page,this.modifierArg=u.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-n.coords.cur.timeStamp<50&&c>r.minSpeed&&c>r.endSpeed)this.startInertia();else{if(u.result=u.setAll(this.modifierArg),!u.result.changed)return!1;this.startSmoothEnd()}return n.modification.result.rect=null,n.offsetBy(this.targetOffset),n._doPhase({interaction:n,event:e,phase:"inertiastart"}),n.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),n.modification.result.rect=null,this.active=!0,n.simulation=this,!0}},{key:"startInertia",value:function(){var e=this,n=this.interaction.coords.velocity.client,r=Xt(this.interaction),o=r.resistance,c=-Math.log(r.endSpeed/this.v0)/o;this.targetOffset={x:(n.x-c)/o,y:(n.y-c)/o},this.te=c,this.lambda_v0=o/this.v0,this.one_ve_v0=1-r.endSpeed/this.v0;var u=this.modification,d=this.modifierArg;d.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},u.result=u.setAll(d),u.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+u.result.delta.x,y:this.targetOffset.y+u.result.delta.y}),this.onNextFrame(function(){return e.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var e=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return e.smoothEndTick()})}},{key:"onNextFrame",value:function(e){var n=this;this.timeout=je.request(function(){n.active&&e()})}},{key:"inertiaTick",value:function(){var e,n,r,o,c,u,d,p=this,m=this.interaction,h=Xt(m).resistance,y=(m._now()-this.t0)/1e3;if(y<this.te){var S,O=1-(Math.exp(-h*y)-this.lambda_v0)/this.one_ve_v0;this.isModified?(e=0,n=0,r=this.targetOffset.x,o=this.targetOffset.y,c=this.modifiedOffset.x,u=this.modifiedOffset.y,S={x:Ji(d=O,e,r,c),y:Ji(d,n,o,u)}):S={x:this.targetOffset.x*O,y:this.targetOffset.y*O};var C={x:S.x-this.currentOffset.x,y:S.y-this.currentOffset.y};this.currentOffset.x+=C.x,this.currentOffset.y+=C.y,m.offsetBy(C),m.move(),this.onNextFrame(function(){return p.inertiaTick()})}else m.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var e=this,n=this.interaction,r=n._now()-this.t0,o=Xt(n).smoothEndDuration;if(r<o){var c={x:er(r,0,this.targetOffset.x,o),y:er(r,0,this.targetOffset.y,o)},u={x:c.x-this.currentOffset.x,y:c.y-this.currentOffset.y};this.currentOffset.x+=u.x,this.currentOffset.y+=u.y,n.offsetBy(u),n.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return e.smoothEndTick()})}else n.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(e){var n=e.pointer,r=e.event,o=e.eventTarget,c=this.interaction;c.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),c.updatePointer(n,r,o,!0),c._doPhase({interaction:c,event:r,phase:"resume"}),Ut(c.coords.prev,c.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,je.cancel(this.timeout)}}]),t}();function Xt(t){var e=t.interactable,n=t.prepared;return e&&e.options&&n.name&&e.options[n.name].inertia}var pa={id:"inertia",before:["modifiers","actions"],install:function(t){var e=t.defaults;t.usePlugin(Qi),t.usePlugin(qi),t.actions.phases.inertiastart=!0,t.actions.phases.resume=!0,e.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(t){var e=t.interaction;e.inertia=new fa(e)},"interactions:before-action-end":function(t){var e=t.interaction,n=t.event;return(!e._interacting||e.simulation||!e.inertia.start(n))&&null},"interactions:down":function(t){var e=t.interaction,n=t.eventTarget,r=e.inertia;if(r.active)for(var o=n;w.element(o);){if(o===e.element){r.resume(t);break}o=H(o)}},"interactions:stop":function(t){var e=t.interaction.inertia;e.active&&e.stop()},"interactions:before-action-resume":function(t){var e=t.interaction.modification;e.stop(t),e.start(t,t.interaction.coords.cur.page),e.applyToInteraction(t)},"interactions:before-action-inertiastart":function(t){return t.interaction.modification.setAndApply(t)},"interactions:action-resume":kt,"interactions:action-inertiastart":kt,"interactions:after-action-inertiastart":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:after-action-resume":function(t){return t.interaction.modification.restoreInteractionCoords(t)}}};function Ji(t,e,n,r){var o=1-t;return o*o*e+2*o*t*n+t*t*r}function er(t,e,n,r){return-n*(t/=r)*(t-2)+e}var ha=pa;function tr(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(t.immediatePropagationStopped)break;r(t)}}var nr=function(){function t(e){g(this,t),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=B({},e||{})}return b(t,[{key:"fire",value:function(e){var n,r=this.global;(n=this.types[e.type])&&tr(e,n),!e.propagationStopped&&r&&(n=r[e.type])&&tr(e,n)}},{key:"on",value:function(e,n){var r=Xe(e,n);for(e in r)this.types[e]=Di(this.types[e]||[],r[e])}},{key:"off",value:function(e,n){var r=Xe(e,n);for(e in r){var o=this.types[e];if(o&&o.length)for(var c=0,u=r[e];c<u.length;c++){var d=u[c],p=o.indexOf(d);p!==-1&&o.splice(p,1)}}}},{key:"getRect",value:function(e){return null}}]),t}(),va=function(){function t(e){g(this,t),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=e,Ht(this,e)}return b(t,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),t}();function Tt(t){return w.object(t)?{capture:!!t.capture,passive:!!t.passive}:{capture:!!t,passive:!1}}function Gt(t,e){return t===e||(typeof t=="boolean"?!!e.capture===t&&!e.passive:!!t.capture==!!e.capture&&!!t.passive==!!e.passive)}var ga={id:"events",install:function(t){var e,n=[],r={},o=[],c={add:u,remove:d,addDelegate:function(h,y,S,O,C){var $=Tt(C);if(!r[S]){r[S]=[];for(var F=0;F<o.length;F++){var I=o[F];u(I,S,p),u(I,S,m,!0)}}var _=r[S],Q=Et(_,function(ie){return ie.selector===h&&ie.context===y});Q||(Q={selector:h,context:y,listeners:[]},_.push(Q)),Q.listeners.push({func:O,options:$})},removeDelegate:function(h,y,S,O,C){var $,F=Tt(C),I=r[S],_=!1;if(I)for($=I.length-1;$>=0;$--){var Q=I[$];if(Q.selector===h&&Q.context===y){for(var ie=Q.listeners,q=ie.length-1;q>=0;q--){var J=ie[q];if(J.func===O&&Gt(J.options,F)){ie.splice(q,1),ie.length||(I.splice($,1),d(y,S,p),d(y,S,m,!0)),_=!0;break}}if(_)break}}},delegateListener:p,delegateUseCapture:m,delegatedEvents:r,documents:o,targets:n,supportsOptions:!1,supportsPassive:!1};function u(h,y,S,O){if(h.addEventListener){var C=Tt(O),$=Et(n,function(F){return F.eventTarget===h});$||($={eventTarget:h,events:{}},n.push($)),$.events[y]||($.events[y]=[]),Et($.events[y],function(F){return F.func===S&&Gt(F.options,C)})||(h.addEventListener(y,S,c.supportsOptions?C:C.capture),$.events[y].push({func:S,options:C}))}}function d(h,y,S,O){if(h.addEventListener&&h.removeEventListener){var C=wt(n,function(ge){return ge.eventTarget===h}),$=n[C];if($&&$.events)if(y!=="all"){var F=!1,I=$.events[y];if(I){if(S==="all"){for(var _=I.length-1;_>=0;_--){var Q=I[_];d(h,y,Q.func,Q.options)}return}for(var ie=Tt(O),q=0;q<I.length;q++){var J=I[q];if(J.func===S&&Gt(J.options,ie)){h.removeEventListener(y,S,c.supportsOptions?ie:ie.capture),I.splice(q,1),I.length===0&&(delete $.events[y],F=!0);break}}}F&&!Object.keys($.events).length&&n.splice(C,1)}else for(y in $.events)$.events.hasOwnProperty(y)&&d(h,y,"all")}}function p(h,y){for(var S=Tt(y),O=new va(h),C=r[h.type],$=Ai(h)[0],F=$;w.element(F);){for(var I=0;I<C.length;I++){var _=C[I],Q=_.selector,ie=_.context;if(oe(F,Q)&&V(ie,$)&&V(ie,F)){var q=_.listeners;O.currentTarget=F;for(var J=0;J<q.length;J++){var ge=q[J];Gt(ge.options,S)&&ge.func(O)}}}F=H(F)}}function m(h){return p(h,!0)}return(e=t.document)==null||e.createElement("div").addEventListener("test",null,{get capture(){return c.supportsOptions=!0},get passive(){return c.supportsPassive=!0}}),t.events=c,c}},Kn={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(t){for(var e=0,n=Kn.methodOrder;e<n.length;e++){var r=n[e],o=Kn[r](t);if(o)return o}return null},simulationResume:function(t){var e=t.pointerType,n=t.eventType,r=t.eventTarget,o=t.scope;if(!/down|start/i.test(n))return null;for(var c=0,u=o.interactions.list;c<u.length;c++){var d=u[c],p=r;if(d.simulation&&d.simulation.allowResume&&d.pointerType===e)for(;p;){if(p===d.element)return d;p=H(p)}}return null},mouseOrPen:function(t){var e,n=t.pointerId,r=t.pointerType,o=t.eventType,c=t.scope;if(r!=="mouse"&&r!=="pen")return null;for(var u=0,d=c.interactions.list;u<d.length;u++){var p=d[u];if(p.pointerType===r){if(p.simulation&&!ir(p,n))continue;if(p.interacting())return p;e||(e=p)}}if(e)return e;for(var m=0,h=c.interactions.list;m<h.length;m++){var y=h[m];if(!(y.pointerType!==r||/down/i.test(o)&&y.simulation))return y}return null},hasPointer:function(t){for(var e=t.pointerId,n=0,r=t.scope.interactions.list;n<r.length;n++){var o=r[n];if(ir(o,e))return o}return null},idle:function(t){for(var e=t.pointerType,n=0,r=t.scope.interactions.list;n<r.length;n++){var o=r[n];if(o.pointers.length===1){var c=o.interactable;if(c&&(!c.options.gesture||!c.options.gesture.enabled))continue}else if(o.pointers.length>=2)continue;if(!o.interacting()&&e===o.pointerType)return o}return null}};function ir(t,e){return t.pointers.some(function(n){return n.id===e})}var ma=Kn,qn=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function rr(t,e){return function(n){var r=e.interactions.list,o=$i(n),c=Ai(n),u=c[0],d=c[1],p=[];if(/^touch/.test(n.type)){e.prevTouchTime=e.now();for(var m=0,h=n.changedTouches;m<h.length;m++){var y=h[m],S={pointer:y,pointerId:xt(y),pointerType:o,eventType:n.type,eventTarget:u,curEventTarget:d,scope:e},O=or(S);p.push([S.pointer,S.eventTarget,S.curEventTarget,O])}}else{var C=!1;if(!N.supportsPointerEvent&&/mouse/.test(n.type)){for(var $=0;$<r.length&&!C;$++)C=r[$].pointerType!=="mouse"&&r[$].pointerIsDown;C=C||e.now()-e.prevTouchTime<500||n.timeStamp===0}if(!C){var F={pointer:n,pointerId:xt(n),pointerType:o,eventType:n.type,curEventTarget:d,eventTarget:u,scope:e},I=or(F);p.push([F.pointer,F.eventTarget,F.curEventTarget,I])}}for(var _=0;_<p.length;_++){var Q=p[_],ie=Q[0],q=Q[1],J=Q[2];Q[3][t](ie,n,q,J)}}}function or(t){var e=t.pointerType,n=t.scope,r={interaction:ma.search(t),searchDetails:t};return n.fire("interactions:find",r),r.interaction||n.interactions.new({pointerType:e})}function Yn(t,e){var n=t.doc,r=t.scope,o=t.options,c=r.interactions.docEvents,u=r.events,d=u[e];for(var p in r.browser.isIOS&&!o.events&&(o.events={passive:!1}),u.delegatedEvents)d(n,p,u.delegateListener),d(n,p,u.delegateUseCapture,!0);for(var m=o&&o.events,h=0;h<c.length;h++){var y=c[h];d(n,y.type,y.listener,m)}}var ba={id:"core/interactions",install:function(t){for(var e={},n=0;n<qn.length;n++){var r=qn[n];e[r]=rr(r,t)}var o,c=N.pEventTypes;function u(){for(var d=0,p=t.interactions.list;d<p.length;d++){var m=p[d];if(m.pointerIsDown&&m.pointerType==="touch"&&!m._interacting)for(var h=function(){var O=S[y];t.documents.some(function(C){return V(C.doc,O.downTarget)})||m.removePointer(O.pointer,O.event)},y=0,S=m.pointers;y<S.length;y++)h()}}(o=T.PointerEvent?[{type:c.down,listener:u},{type:c.down,listener:e.pointerDown},{type:c.move,listener:e.pointerMove},{type:c.up,listener:e.pointerUp},{type:c.cancel,listener:e.pointerUp}]:[{type:"mousedown",listener:e.pointerDown},{type:"mousemove",listener:e.pointerMove},{type:"mouseup",listener:e.pointerUp},{type:"touchstart",listener:u},{type:"touchstart",listener:e.pointerDown},{type:"touchmove",listener:e.pointerMove},{type:"touchend",listener:e.pointerUp},{type:"touchcancel",listener:e.pointerUp}]).push({type:"blur",listener:function(d){for(var p=0,m=t.interactions.list;p<m.length;p++)m[p].documentBlur(d)}}),t.prevTouchTime=0,t.Interaction=function(d){E(m,d);var p=D(m);function m(){return g(this,m),p.apply(this,arguments)}return b(m,[{key:"pointerMoveTolerance",get:function(){return t.interactions.pointerMoveTolerance},set:function(h){t.interactions.pointerMoveTolerance=h}},{key:"_now",value:function(){return t.now()}}]),m}(la),t.interactions={list:[],new:function(d){d.scopeFire=function(m,h){return t.fire(m,h)};var p=new t.Interaction(d);return t.interactions.list.push(p),p},listeners:e,docEvents:o,pointerMoveTolerance:1},t.usePlugin(Ki)},listeners:{"scope:add-document":function(t){return Yn(t,"add")},"scope:remove-document":function(t){return Yn(t,"remove")},"interactable:unset":function(t,e){for(var n=t.interactable,r=e.interactions.list.length-1;r>=0;r--){var o=e.interactions.list[r];o.interactable===n&&(o.stop(),e.fire("interactions:destroy",{interaction:o}),o.destroy(),e.interactions.list.length>2&&e.interactions.list.splice(r,1))}}},onDocSignal:Yn,doOnInteractions:rr,methodNames:qn},ya=ba,Ue=function(t){return t[t.On=0]="On",t[t.Off=1]="Off",t}(Ue||{}),xa=function(){function t(e,n,r,o){g(this,t),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new nr,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=n.actions,this.target=e,this._context=n.context||r,this._win=te(at(e)?this._context:e),this._doc=this._win.document,this._scopeEvents=o,this.set(n)}return b(t,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(e,n){return w.func(n.onstart)&&this.on("".concat(e,"start"),n.onstart),w.func(n.onmove)&&this.on("".concat(e,"move"),n.onmove),w.func(n.onend)&&this.on("".concat(e,"end"),n.onend),w.func(n.oninertiastart)&&this.on("".concat(e,"inertiastart"),n.oninertiastart),this}},{key:"updatePerActionListeners",value:function(e,n,r){var o,c=this,u=(o=this._actions.map[e])==null?void 0:o.filterEventType,d=function(p){return(u==null||u(p))&&qt(p,c._actions)};(w.array(n)||w.object(n))&&this._onOff(Ue.Off,e,n,void 0,d),(w.array(r)||w.object(r))&&this._onOff(Ue.On,e,r,void 0,d)}},{key:"setPerAction",value:function(e,n){var r=this._defaults;for(var o in n){var c=o,u=this.options[e],d=n[c];c==="listeners"&&this.updatePerActionListeners(e,u.listeners,d),w.array(d)?u[c]=zi(d):w.plainObject(d)?(u[c]=B(u[c]||{},ct(d)),w.object(r.perAction[c])&&"enabled"in r.perAction[c]&&(u[c].enabled=d.enabled!==!1)):w.bool(d)&&w.object(r.perAction[c])?u[c].enabled=d:u[c]=d}}},{key:"getRect",value:function(e){return e=e||(w.element(this.target)?this.target:null),w.string(this.target)&&(e=e||this._context.querySelector(this.target)),rt(e)}},{key:"rectChecker",value:function(e){var n=this;return w.func(e)?(this.getRect=function(r){var o=B({},e.apply(n,r));return"width"in o||(o.width=o.right-o.left,o.height=o.bottom-o.top),o},this):e===null?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(e,n){if(at(n)||w.object(n)){for(var r in this.options[e]=n,this._actions.map)this.options[r][e]=n;return this}return this.options[e]}},{key:"origin",value:function(e){return this._backCompatOption("origin",e)}},{key:"deltaSource",value:function(e){return e==="page"||e==="client"?(this.options.deltaSource=e,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var e=this.target;return w.string(e)?Array.from(this._context.querySelectorAll(e)):w.func(e)&&e.getAllElements?e.getAllElements():w.element(e)?[e]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(e){return this._context===e.ownerDocument||V(this._context,e)}},{key:"testIgnoreAllow",value:function(e,n,r){return!this.testIgnore(e.ignoreFrom,n,r)&&this.testAllow(e.allowFrom,n,r)}},{key:"testAllow",value:function(e,n,r){return!e||!!w.element(r)&&(w.string(e)?Fe(r,e,n):!!w.element(e)&&V(e,r))}},{key:"testIgnore",value:function(e,n,r){return!(!e||!w.element(r))&&(w.string(e)?Fe(r,e,n):!!w.element(e)&&V(e,r))}},{key:"fire",value:function(e){return this.events.fire(e),this}},{key:"_onOff",value:function(e,n,r,o,c){w.object(n)&&!w.array(n)&&(o=r,r=null);var u=Xe(n,r,c);for(var d in u){d==="wheel"&&(d=N.wheelEvent);for(var p=0,m=u[d];p<m.length;p++){var h=m[p];qt(d,this._actions)?this.events[e===Ue.On?"on":"off"](d,h):w.string(this.target)?this._scopeEvents[e===Ue.On?"addDelegate":"removeDelegate"](this.target,this._context,d,h,o):this._scopeEvents[e===Ue.On?"add":"remove"](this.target,d,h,o)}}return this}},{key:"on",value:function(e,n,r){return this._onOff(Ue.On,e,n,r)}},{key:"off",value:function(e,n,r){return this._onOff(Ue.Off,e,n,r)}},{key:"set",value:function(e){var n=this._defaults;for(var r in w.object(e)||(e={}),this.options=ct(n.base),this._actions.methodDict){var o=r,c=this._actions.methodDict[o];this.options[o]={},this.setPerAction(o,B(B({},n.perAction),n.actions[o])),this[c](e[o])}for(var u in e)u!=="getRect"?w.func(this[u])&&this[u](e[u]):this.rectChecker(e.getRect);return this}},{key:"unset",value:function(){if(w.string(this.target))for(var e in this._scopeEvents.delegatedEvents)for(var n=this._scopeEvents.delegatedEvents[e],r=n.length-1;r>=0;r--){var o=n[r],c=o.selector,u=o.context,d=o.listeners;c===this.target&&u===this._context&&n.splice(r,1);for(var p=d.length-1;p>=0;p--)this._scopeEvents.removeDelegate(this.target,this._context,e,d[p][0],d[p][1])}else this._scopeEvents.remove(this.target,"all")}}]),t}(),wa=function(){function t(e){var n=this;g(this,t),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=e,e.addListeners({"interactable:unset":function(r){var o=r.interactable,c=o.target,u=w.string(c)?n.selectorMap[c]:c[n.scope.id],d=wt(u,function(p){return p===o});u.splice(d,1)}})}return b(t,[{key:"new",value:function(e,n){n=B(n||{},{actions:this.scope.actions});var r=new this.scope.Interactable(e,n,this.scope.document,this.scope.events);return this.scope.addDocument(r._doc),this.list.push(r),w.string(e)?(this.selectorMap[e]||(this.selectorMap[e]=[]),this.selectorMap[e].push(r)):(r.target[this.scope.id]||Object.defineProperty(e,this.scope.id,{value:[],configurable:!0}),e[this.scope.id].push(r)),this.scope.fire("interactable:new",{target:e,options:n,interactable:r,win:this.scope._win}),r}},{key:"getExisting",value:function(e,n){var r=n&&n.context||this.scope.document,o=w.string(e),c=o?this.selectorMap[e]:e[this.scope.id];if(c)return Et(c,function(u){return u._context===r&&(o||u.inContext(e))})}},{key:"forEachMatch",value:function(e,n){for(var r=0,o=this.list;r<o.length;r++){var c=o[r],u=void 0;if((w.string(c.target)?w.element(e)&&oe(e,c.target):e===c.target)&&c.inContext(e)&&(u=n(c)),u!==void 0)return u}}}]),t}(),Ea=function(){function t(){var e=this;g(this,t),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=N,this.defaults=ct(Yi),this.Eventable=nr,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=function(r){var o=function c(u,d){var p=r.interactables.getExisting(u,d);return p||((p=r.interactables.new(u,d)).events.global=c.globalEvents),p};return o.getPointerAverage=Pi,o.getTouchBBox=Dn,o.getTouchDistance=zn,o.getTouchAngle=In,o.getElementRect=rt,o.getElementClientRect=Re,o.matchesSelector=oe,o.closest=ee,o.globalEvents={},o.version="1.10.27",o.scope=r,o.use=function(c,u){return this.scope.usePlugin(c,u),this},o.isSet=function(c,u){return!!this.scope.interactables.get(c,u&&u.context)},o.on=St(function(c,u,d){if(w.string(c)&&c.search(" ")!==-1&&(c=c.trim().split(/ +/)),w.array(c)){for(var p=0,m=c;p<m.length;p++){var h=m[p];this.on(h,u,d)}return this}if(w.object(c)){for(var y in c)this.on(y,c[y],u);return this}return qt(c,this.scope.actions)?this.globalEvents[c]?this.globalEvents[c].push(u):this.globalEvents[c]=[u]:this.scope.events.add(this.scope.document,c,u,{options:d}),this},"The interact.on() method is being deprecated"),o.off=St(function(c,u,d){if(w.string(c)&&c.search(" ")!==-1&&(c=c.trim().split(/ +/)),w.array(c)){for(var p=0,m=c;p<m.length;p++){var h=m[p];this.off(h,u,d)}return this}if(w.object(c)){for(var y in c)this.off(y,c[y],u);return this}var S;return qt(c,this.scope.actions)?c in this.globalEvents&&(S=this.globalEvents[c].indexOf(u))!==-1&&this.globalEvents[c].splice(S,1):this.scope.events.remove(this.scope.document,c,u,d),this},"The interact.off() method is being deprecated"),o.debug=function(){return this.scope},o.supportsTouch=function(){return N.supportsTouch},o.supportsPointerEvent=function(){return N.supportsPointerEvent},o.stop=function(){for(var c=0,u=this.scope.interactions.list;c<u.length;c++)u[c].stop();return this},o.pointerMoveTolerance=function(c){return w.number(c)?(this.scope.interactions.pointerMoveTolerance=c,this):this.scope.interactions.pointerMoveTolerance},o.addDocument=function(c,u){this.scope.addDocument(c,u)},o.removeDocument=function(c){this.scope.removeDocument(c)},o}(this),this.InteractEvent=Wn,this.Interactable=void 0,this.interactables=new wa(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(r){return e.removeDocument(r.target)};var n=this;this.Interactable=function(r){E(c,r);var o=D(c);function c(){return g(this,c),o.apply(this,arguments)}return b(c,[{key:"_defaults",get:function(){return n.defaults}},{key:"set",value:function(u){return R(A(c.prototype),"set",this).call(this,u),n.fire("interactable:set",{options:u,interactable:this}),this}},{key:"unset",value:function(){R(A(c.prototype),"unset",this).call(this);var u=n.interactables.list.indexOf(this);u<0||(n.interactables.list.splice(u,1),n.fire("interactable:unset",{interactable:this}))}}]),c}(xa)}return b(t,[{key:"addListeners",value:function(e,n){this.listenerMaps.push({id:n,map:e})}},{key:"fire",value:function(e,n){for(var r=0,o=this.listenerMaps;r<o.length;r++){var c=o[r].map[e];if(c&&c(n,this,e)===!1)return!1}}},{key:"init",value:function(e){return this.isInitialized?this:function(n,r){return n.isInitialized=!0,w.window(r)&&re(r),T.init(r),N.init(r),je.init(r),n.window=r,n.document=r.document,n.usePlugin(ya),n.usePlugin(ga),n}(this,e)}},{key:"pluginIsInstalled",value:function(e){var n=e.id;return n?!!this._plugins.map[n]:this._plugins.list.indexOf(e)!==-1}},{key:"usePlugin",value:function(e,n){if(!this.isInitialized)return this;if(this.pluginIsInstalled(e))return this;if(e.id&&(this._plugins.map[e.id]=e),this._plugins.list.push(e),e.install&&e.install(this,n),e.listeners&&e.before){for(var r=0,o=this.listenerMaps.length,c=e.before.reduce(function(d,p){return d[p]=!0,d[ar(p)]=!0,d},{});r<o;r++){var u=this.listenerMaps[r].id;if(u&&(c[u]||c[ar(u)]))break}this.listenerMaps.splice(r,0,{id:e.id,map:e.listeners})}else e.listeners&&this.listenerMaps.push({id:e.id,map:e.listeners});return this}},{key:"addDocument",value:function(e,n){if(this.getDocIndex(e)!==-1)return!1;var r=te(e);n=n?B({},n):{},this.documents.push({doc:e,options:n}),this.events.documents.push(e),e!==this.document&&this.events.add(r,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:e,window:r,scope:this,options:n})}},{key:"removeDocument",value:function(e){var n=this.getDocIndex(e),r=te(e),o=this.documents[n].options;this.events.remove(r,"unload",this.onWindowUnload),this.documents.splice(n,1),this.events.documents.splice(n,1),this.fire("scope:remove-document",{doc:e,window:r,scope:this,options:o})}},{key:"getDocIndex",value:function(e){for(var n=0;n<this.documents.length;n++)if(this.documents[n].doc===e)return n;return-1}},{key:"getDocOptions",value:function(e){var n=this.getDocIndex(e);return n===-1?null:this.documents[n].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),t}();function ar(t){return t&&t.replace(/\/.*$/,"")}var sr=new Ea,ve=sr.interactStatic,Sa=typeof globalThis<"u"?globalThis:window;sr.init(Sa);var ka=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(t){var e=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(r){var o=r[0],c=r[1];return o in t||c in t}),n=function(r,o){for(var c=t.range,u=t.limits,d=u===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:u,p=t.offset,m=p===void 0?{x:0,y:0}:p,h={range:c,grid:t,x:null,y:null},y=0;y<e.length;y++){var S=e[y],O=S[0],C=S[1],$=Math.round((r-m.x)/t[O]),F=Math.round((o-m.y)/t[C]);h[O]=Math.max(d.left,Math.min(d.right,$*t[O]+m.x)),h[C]=Math.max(d.top,Math.min(d.bottom,F*t[C]+m.y))}return h};return n.grid=t,n.coordFields=e,n}}),Ta={id:"snappers",install:function(t){var e=t.interactStatic;e.snappers=B(e.snappers||{},ka),e.createSnapGrid=e.snappers.grid}},Ca=Ta,Oa={start:function(t){var e=t.state,n=t.rect,r=t.edges,o=t.pageCoords,c=e.options,u=c.ratio,d=c.enabled,p=e.options,m=p.equalDelta,h=p.modifiers;u==="preserve"&&(u=n.width/n.height),e.startCoords=B({},o),e.startRect=B({},n),e.ratio=u,e.equalDelta=m;var y=e.linkedEdges={top:r.top||r.left&&!r.bottom,left:r.left||r.top&&!r.right,bottom:r.bottom||r.right&&!r.top,right:r.right||r.bottom&&!r.left};if(e.xIsPrimaryAxis=!(!r.left&&!r.right),e.equalDelta){var S=(y.left?1:-1)*(y.top?1:-1);e.edgeSign={x:S,y:S}}else e.edgeSign={x:y.left?-1:1,y:y.top?-1:1};if(d!==!1&&B(r,y),h!=null&&h.length){var O=new Un(t.interaction);O.copyFrom(t.interaction.modification),O.prepareStates(h),e.subModification=O,O.startAll(l({},t))}},set:function(t){var e=t.state,n=t.rect,r=t.coords,o=e.linkedEdges,c=B({},r),u=e.equalDelta?Pa:$a;if(B(t.edges,o),u(e,e.xIsPrimaryAxis,r,n),!e.subModification)return null;var d=B({},n);jt(o,d,{x:r.x-c.x,y:r.y-c.y});var p=e.subModification.setAll(l(l({},t),{},{rect:d,edges:o,pageCoords:r,prevCoords:r,prevRect:d})),m=p.delta;return p.changed&&(u(e,Math.abs(m.x)>Math.abs(m.y),p.coords,p.rect),B(r,p.coords)),p.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Pa(t,e,n){var r=t.startCoords,o=t.edgeSign;e?n.y=r.y+(n.x-r.x)*o.y:n.x=r.x+(n.y-r.y)*o.x}function $a(t,e,n,r){var o=t.startRect,c=t.startCoords,u=t.ratio,d=t.edgeSign;if(e){var p=r.width/u;n.y=c.y+(p-o.height)*d.y}else{var m=r.height*u;n.x=c.x+(m-o.width)*d.x}}var Aa=He(Oa,"aspectRatio"),cr=function(){};cr._defaults={};var Zt=cr;function Ze(t,e,n){return w.func(t)?mt(t,e.interactable,e.element,[n.x,n.y,e]):mt(t,e.interactable,e.element)}var Qt={start:function(t){var e=t.rect,n=t.startOffset,r=t.state,o=t.interaction,c=t.pageCoords,u=r.options,d=u.elementRect,p=B({left:0,top:0,right:0,bottom:0},u.offset||{});if(e&&d){var m=Ze(u.restriction,o,c);if(m){var h=m.right-m.left-e.width,y=m.bottom-m.top-e.height;h<0&&(p.left+=h,p.right+=h),y<0&&(p.top+=y,p.bottom+=y)}p.left+=n.left-e.width*d.left,p.top+=n.top-e.height*d.top,p.right+=n.right-e.width*(1-d.right),p.bottom+=n.bottom-e.height*(1-d.bottom)}r.offset=p},set:function(t){var e=t.coords,n=t.interaction,r=t.state,o=r.options,c=r.offset,u=Ze(o.restriction,n,e);if(u){var d=function(p){return!p||"left"in p&&"top"in p||((p=B({},p)).left=p.x||0,p.top=p.y||0,p.right=p.right||p.left+p.width,p.bottom=p.bottom||p.top+p.height),p}(u);e.x=Math.max(Math.min(d.right-c.right,e.x),d.left+c.left),e.y=Math.max(Math.min(d.bottom-c.bottom,e.y),d.top+c.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},Da=He(Qt,"restrict"),lr={top:1/0,left:1/0,bottom:-1/0,right:-1/0},ur={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function dr(t,e){for(var n=0,r=["top","left","bottom","right"];n<r.length;n++){var o=r[n];o in t||(t[o]=e[o])}return t}var Ct={noInner:lr,noOuter:ur,start:function(t){var e,n=t.interaction,r=t.startOffset,o=t.state,c=o.options;c&&(e=Lt(Ze(c.offset,n,n.coords.start.page))),e=e||{x:0,y:0},o.offset={top:e.y+r.top,left:e.x+r.left,bottom:e.y-r.bottom,right:e.x-r.right}},set:function(t){var e=t.coords,n=t.edges,r=t.interaction,o=t.state,c=o.offset,u=o.options;if(n){var d=B({},e),p=Ze(u.inner,r,d)||{},m=Ze(u.outer,r,d)||{};dr(p,lr),dr(m,ur),n.top?e.y=Math.min(Math.max(m.top+c.top,d.y),p.top+c.top):n.bottom&&(e.y=Math.max(Math.min(m.bottom+c.bottom,d.y),p.bottom+c.bottom)),n.left?e.x=Math.min(Math.max(m.left+c.left,d.x),p.left+c.left):n.right&&(e.x=Math.max(Math.min(m.right+c.right,d.x),p.right+c.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},za=He(Ct,"restrictEdges"),Ia=B({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(t){}},Qt.defaults),Ma=He({start:Qt.start,set:Qt.set,defaults:Ia},"restrictRect"),Fa={width:-1/0,height:-1/0},Ra={width:1/0,height:1/0},_a=He({start:function(t){return Ct.start(t)},set:function(t){var e=t.interaction,n=t.state,r=t.rect,o=t.edges,c=n.options;if(o){var u=$n(Ze(c.min,e,t.coords))||Fa,d=$n(Ze(c.max,e,t.coords))||Ra;n.options={endOnly:c.endOnly,inner:B({},Ct.noInner),outer:B({},Ct.noOuter)},o.top?(n.options.inner.top=r.bottom-u.height,n.options.outer.top=r.bottom-d.height):o.bottom&&(n.options.inner.bottom=r.top+u.height,n.options.outer.bottom=r.top+d.height),o.left?(n.options.inner.left=r.right-u.width,n.options.outer.left=r.right-d.width):o.right&&(n.options.inner.right=r.left+u.width,n.options.outer.right=r.left+d.width),Ct.set(t),n.options=c}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),Xn={start:function(t){var e,n=t.interaction,r=t.interactable,o=t.element,c=t.rect,u=t.state,d=t.startOffset,p=u.options,m=p.offsetWithOrigin?function(S){var O=S.interaction.element,C=Lt(mt(S.state.options.origin,null,null,[O])),$=C||bt(S.interactable,O,S.interaction.prepared.name);return $}(t):{x:0,y:0};if(p.offset==="startCoords")e={x:n.coords.start.page.x,y:n.coords.start.page.y};else{var h=mt(p.offset,r,o,[n]);(e=Lt(h)||{x:0,y:0}).x+=m.x,e.y+=m.y}var y=p.relativePoints;u.offsets=c&&y&&y.length?y.map(function(S,O){return{index:O,relativePoint:S,x:d.left-c.width*S.x+e.x,y:d.top-c.height*S.y+e.y}}):[{index:0,relativePoint:null,x:e.x,y:e.y}]},set:function(t){var e=t.interaction,n=t.coords,r=t.state,o=r.options,c=r.offsets,u=bt(e.interactable,e.element,e.prepared.name),d=B({},n),p=[];o.offsetWithOrigin||(d.x-=u.x,d.y-=u.y);for(var m=0,h=c;m<h.length;m++)for(var y=h[m],S=d.x-y.x,O=d.y-y.y,C=0,$=o.targets.length;C<$;C++){var F=o.targets[C],I=void 0;(I=w.func(F)?F(S,O,e._proxy,y,C):F)&&p.push({x:(w.number(I.x)?I.x:S)+y.x,y:(w.number(I.y)?I.y:O)+y.y,range:w.number(I.range)?I.range:o.range,source:F,index:C,offset:y})}for(var _={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},Q=0;Q<p.length;Q++){var ie=p[Q],q=ie.range,J=ie.x-d.x,ge=ie.y-d.y,ce=yt(J,ge),be=ce<=q;q===1/0&&_.inRange&&_.range!==1/0&&(be=!1),_.target&&!(be?_.inRange&&q!==1/0?ce/q<_.distance/_.range:q===1/0&&_.range!==1/0||ce<_.distance:!_.inRange&&ce<_.distance)||(_.target=ie,_.distance=ce,_.range=q,_.inRange=be,_.delta.x=J,_.delta.y=ge)}return _.inRange&&(n.x=_.target.x,n.y=_.target.y),r.closest=_,_},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},Ba=He(Xn,"snap"),Jt={start:function(t){var e=t.state,n=t.edges,r=e.options;if(!n)return null;t.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:r.offset||"self",origin:{x:0,y:0},range:r.range}},e.targetFields=e.targetFields||[["width","height"],["x","y"]],Xn.start(t),e.offsets=t.state.offsets,t.state=e},set:function(t){var e=t.interaction,n=t.state,r=t.coords,o=n.options,c=n.offsets,u={x:r.x-c[0].x,y:r.y-c[0].y};n.options=B({},o),n.options.targets=[];for(var d=0,p=o.targets||[];d<p.length;d++){var m=p[d],h=void 0;if(h=w.func(m)?m(u.x,u.y,e):m){for(var y=0,S=n.targetFields;y<S.length;y++){var O=S[y],C=O[0],$=O[1];if(C in h||$ in h){h.x=h[C],h.y=h[$];break}}n.options.targets.push(h)}}var F=Xn.set(t);return n.options=o,F},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},Na=He(Jt,"snapSize"),Gn={aspectRatio:Aa,restrictEdges:za,restrict:Da,restrictRect:Ma,restrictSize:_a,snapEdges:He({start:function(t){var e=t.edges;return e?(t.state.targetFields=t.state.targetFields||[[e.left?"left":"right",e.top?"top":"bottom"]],Jt.start(t)):null},set:Jt.set,defaults:B(ct(Jt.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:Ba,snapSize:Na,spring:Zt,avoid:Zt,transform:Zt,rubberband:Zt},La={id:"modifiers",install:function(t){var e=t.interactStatic;for(var n in t.usePlugin(qi),t.usePlugin(Ca),e.modifiers=Gn,Gn){var r=Gn[n],o=r._defaults,c=r._methods;o._methods=c,t.defaults.perAction[n]=o}}},ja=La,fr=function(t){E(n,t);var e=D(n);function n(r,o,c,u,d,p){var m;if(g(this,n),Ht(z(m=e.call(this,d)),c),c!==o&&Ht(z(m),o),m.timeStamp=p,m.originalEvent=c,m.type=r,m.pointerId=xt(o),m.pointerType=$i(o),m.target=u,m.currentTarget=null,r==="tap"){var h=d.getPointerIndex(o);m.dt=m.timeStamp-d.pointers[h].downTime;var y=m.timeStamp-d.tapTime;m.double=!!d.prevTap&&d.prevTap.type!=="doubletap"&&d.prevTap.target===m.target&&y<500}else r==="doubletap"&&(m.dt=o.timeStamp-d.tapTime,m.double=!0);return m}return b(n,[{key:"_subtractOrigin",value:function(r){var o=r.x,c=r.y;return this.pageX-=o,this.pageY-=c,this.clientX-=o,this.clientY-=c,this}},{key:"_addOrigin",value:function(r){var o=r.x,c=r.y;return this.pageX+=o,this.pageY+=c,this.clientX+=o,this.clientY+=c,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),n}(Vt),Ot={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(t){t.pointerEvents=Ot,t.defaults.actions.pointerEvents=Ot.defaults,B(t.actions.phaselessTypes,Ot.types)},listeners:{"interactions:new":function(t){var e=t.interaction;e.prevTap=null,e.tapTime=0},"interactions:update-pointer":function(t){var e=t.down,n=t.pointerInfo;!e&&n.hold||(n.hold={duration:1/0,timeout:null})},"interactions:move":function(t,e){var n=t.interaction,r=t.pointer,o=t.event,c=t.eventTarget;t.duplicate||n.pointerIsDown&&!n.pointerWasMoved||(n.pointerIsDown&&Zn(t),We({interaction:n,pointer:r,event:o,eventTarget:c,type:"move"},e))},"interactions:down":function(t,e){(function(n,r){for(var o=n.interaction,c=n.pointer,u=n.event,d=n.eventTarget,p=n.pointerIndex,m=o.pointers[p].hold,h=ot(d),y={interaction:o,pointer:c,event:u,eventTarget:d,type:"hold",targets:[],path:h,node:null},S=0;S<h.length;S++){var O=h[S];y.node=O,r.fire("pointerEvents:collect-targets",y)}if(y.targets.length){for(var C=1/0,$=0,F=y.targets;$<F.length;$++){var I=F[$].eventable.options.holdDuration;I<C&&(C=I)}m.duration=C,m.timeout=setTimeout(function(){We({interaction:o,eventTarget:d,pointer:c,event:u,type:"hold"},r)},C)}})(t,e),We(t,e)},"interactions:up":function(t,e){Zn(t),We(t,e),function(n,r){var o=n.interaction,c=n.pointer,u=n.event,d=n.eventTarget;o.pointerWasMoved||We({interaction:o,eventTarget:d,pointer:c,event:u,type:"tap"},r)}(t,e)},"interactions:cancel":function(t,e){Zn(t),We(t,e)}},PointerEvent:fr,fire:We,collectEventTargets:pr,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function We(t,e){var n=t.interaction,r=t.pointer,o=t.event,c=t.eventTarget,u=t.type,d=t.targets,p=d===void 0?pr(t,e):d,m=new fr(u,r,o,c,n,e.now());e.fire("pointerEvents:new",{pointerEvent:m});for(var h={interaction:n,pointer:r,event:o,eventTarget:c,targets:p,type:u,pointerEvent:m},y=0;y<p.length;y++){var S=p[y];for(var O in S.props||{})m[O]=S.props[O];var C=bt(S.eventable,S.node);if(m._subtractOrigin(C),m.eventable=S.eventable,m.currentTarget=S.node,S.eventable.fire(m),m._addOrigin(C),m.immediatePropagationStopped||m.propagationStopped&&y+1<p.length&&p[y+1].node!==m.currentTarget)break}if(e.fire("pointerEvents:fired",h),u==="tap"){var $=m.double?We({interaction:n,pointer:r,event:o,eventTarget:c,type:"doubletap"},e):m;n.prevTap=$,n.tapTime=$.timeStamp}return m}function pr(t,e){var n=t.interaction,r=t.pointer,o=t.event,c=t.eventTarget,u=t.type,d=n.getPointerIndex(r),p=n.pointers[d];if(u==="tap"&&(n.pointerWasMoved||!p||p.downTarget!==c))return[];for(var m=ot(c),h={interaction:n,pointer:r,event:o,eventTarget:c,type:u,path:m,targets:[],node:null},y=0;y<m.length;y++){var S=m[y];h.node=S,e.fire("pointerEvents:collect-targets",h)}return u==="hold"&&(h.targets=h.targets.filter(function(O){var C,$;return O.eventable.options.holdDuration===((C=n.pointers[d])==null||($=C.hold)==null?void 0:$.duration)})),h.targets}function Zn(t){var e=t.interaction,n=t.pointerIndex,r=e.pointers[n].hold;r&&r.timeout&&(clearTimeout(r.timeout),r.timeout=null)}var Ha=Object.freeze({__proto__:null,default:Ot});function Ua(t){var e=t.interaction;e.holdIntervalHandle&&(clearInterval(e.holdIntervalHandle),e.holdIntervalHandle=null)}var Wa={id:"pointer-events/holdRepeat",install:function(t){t.usePlugin(Ot);var e=t.pointerEvents;e.defaults.holdRepeatInterval=0,e.types.holdrepeat=t.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(t,e){return t["pointerEvents:".concat(e)]=Ua,t},{"pointerEvents:new":function(t){var e=t.pointerEvent;e.type==="hold"&&(e.count=(e.count||0)+1)},"pointerEvents:fired":function(t,e){var n=t.interaction,r=t.pointerEvent,o=t.eventTarget,c=t.targets;if(r.type==="hold"&&c.length){var u=c[0].eventable.options.holdRepeatInterval;u<=0||(n.holdIntervalHandle=setTimeout(function(){e.pointerEvents.fire({interaction:n,eventTarget:o,type:"hold",pointer:r,event:r},e)},u))}}})},Va=Wa,Ka={id:"pointer-events/interactableTargets",install:function(t){var e=t.Interactable;e.prototype.pointerEvents=function(r){return B(this.events.options,r),this};var n=e.prototype._backCompatOption;e.prototype._backCompatOption=function(r,o){var c=n.call(this,r,o);return c===this&&(this.events.options[r]=o),c}},listeners:{"pointerEvents:collect-targets":function(t,e){var n=t.targets,r=t.node,o=t.type,c=t.eventTarget;e.interactables.forEachMatch(r,function(u){var d=u.events,p=d.options;d.types[o]&&d.types[o].length&&u.testIgnoreAllow(p,r,c)&&n.push({node:r,eventable:d,props:{interactable:u}})})},"interactable:new":function(t){var e=t.interactable;e.events.getRect=function(n){return e.getRect(n)}},"interactable:set":function(t,e){var n=t.interactable,r=t.options;B(n.events.options,e.pointerEvents.defaults),B(n.events.options,r.pointerEvents||{})}}},qa=Ka,Ya={id:"pointer-events",install:function(t){t.usePlugin(Ha),t.usePlugin(Va),t.usePlugin(qa)}},Xa=Ya,Ga={id:"reflow",install:function(t){var e=t.Interactable;t.actions.phases.reflow=!0,e.prototype.reflow=function(n){return function(r,o,c){for(var u=r.getAllElements(),d=c.window.Promise,p=d?[]:null,m=function(){var y=u[h],S=r.getRect(y);if(!S)return 1;var O,C=Et(c.interactions.list,function(I){return I.interacting()&&I.interactable===r&&I.element===y&&I.prepared.name===o.name});if(C)C.move(),p&&(O=C._reflowPromise||new d(function(I){C._reflowResolve=I}));else{var $=$n(S),F=function(I){return{coords:I,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}}({page:{x:$.x,y:$.y},client:{x:$.x,y:$.y},timeStamp:c.now()});O=function(I,_,Q,ie,q){var J=I.interactions.new({pointerType:"reflow"}),ge={interaction:J,event:q,pointer:q,eventTarget:Q,phase:"reflow"};J.interactable=_,J.element=Q,J.prevEvent=q,J.updatePointer(q,q,Q,!0),Ti(J.coords.delta),Nn(J.prepared,ie),J._doPhase(ge);var ce=I.window,be=ce.Promise,ke=be?new be(function(Ne){J._reflowResolve=Ne}):void 0;return J._reflowPromise=ke,J.start(ie,_,Q),J._interacting?(J.move(ge),J.end(q)):(J.stop(),J._reflowResolve()),J.removePointer(q,q),ke}(c,r,y,o,F)}p&&p.push(O)},h=0;h<u.length&&!m();h++);return p&&d.all(p).then(function(){return r})}(this,n,t)}},listeners:{"interactions:stop":function(t,e){var n=t.interaction;n.pointerType==="reflow"&&(n._reflowResolve&&n._reflowResolve(),function(r,o){r.splice(r.indexOf(o),1)}(e.interactions.list,n))}}},Za=Ga;if(ve.use(Ki),ve.use(Qi),ve.use(Xa),ve.use(ha),ve.use(ja),ve.use(na),ve.use(Vo),ve.use(qo),ve.use(Za),ve.default=ve,f(a)==="object"&&a)try{a.exports=ve}catch{}return ve.default=ve,ve})}(Dt,Dt.exports)),Dt.exports}var _l=Rl();const sn=Ml(_l);/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */function Bl(a,i,s){return i?`${a}-${i}`:s?`${a}-${s}`:`${a}-m`}/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */let cn=0,to="";const Nl=()=>{function a(){cn++,cn===1&&(to=document.documentElement.style.overflow,document.documentElement.style.overflow="hidden")}function i(){cn--,cn===0&&(document.documentElement.style.overflow=to)}return oo((s,l)=>{l.onConnected(()=>{s.opened&&s.preventDocumentScroll&&a()}),l.onUpdate(f=>{s.hasUpdated&&(f.has("opened")&&s.preventDocumentScroll?s.opened?a():i():f.has("preventDocumentScroll")&&s.opened&&(s.preventDocumentScroll?a():i()))}),l.onDisconnected(()=>{s.opened&&s.preventDocumentScroll&&i()})})};/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const Ke={dialog:"dialog",panel:"panel",scrim:"scrim",container:"container",containerOpen:"container--open",containerEmbedded:"container--embedded",assistiveText:"assistive-text",openingActive:"dialog--opening-active"},me={actionBar:"action-bar",alerts:"alerts",content:"content",customContent:"custom-content",contentTop:"content-top",contentBottom:"content-bottom",headerActionsStart:"header-actions-start",headerActionsEnd:"header-actions-end",headerMenuActions:"header-menu-actions",headerContent:"header-content",fab:"fab",footer:"footer",footerStart:"footer-start",footerEnd:"footer-end"},no={x:null,y:null},io={top:null,right:null,bottom:null,left:null},Ll=pt`:host{--calcite-dialog-scrim-background-color: rgba(0, 0, 0, .85);pointer-events:none;inset:0;z-index:var(--calcite-z-index-overlay);display:flex;--calcite-internal-dialog-animation-offset: 20px}:host([modal]){position:absolute}.container{pointer-events:auto;position:fixed;inset:0;z-index:var(--calcite-z-index-overlay);display:flex;align-items:center;justify-content:center;overflow:hidden;color:var(--calcite-color-text-2);opacity:0;visibility:hidden;transition:visibility 0ms linear var(--calcite-internal-animation-timing-slow),opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(.215,.44,.42,.88)}:host([placement=top]) .container{align-items:flex-start;justify-content:center}:host([placement=top-start]) .container{align-items:flex-start;justify-content:flex-start}:host([placement=top-end]) .container{align-items:flex-start;justify-content:flex-end}:host([placement=bottom]) .container{align-items:flex-end;justify-content:center}:host([placement=bottom-start]) .container{align-items:flex-end;justify-content:flex-start}:host([placement=bottom-end]) .container{align-items:flex-end;justify-content:flex-end}:host(:not([modal])) .container{pointer-events:none}:host([scale=s]){--calcite-internal-dialog-content-padding: var(--calcite-dialog-content-space, var(--calcite-spacing-sm));--calcite-internal-dialog-min-size-x: 198px;--calcite-internal-dialog-min-size-y: 140px}:host([scale=m]){--calcite-internal-dialog-content-padding: var(--calcite-dialog-content-space, var(--calcite-spacing-md));--calcite-internal-dialog-min-size-x: 288px;--calcite-internal-dialog-min-size-y: 180px}:host([scale=l]){--calcite-internal-dialog-content-padding: var(--calcite-dialog-content-space, var(--calcite-spacing-md-plus));--calcite-internal-dialog-min-size-x: 388px;--calcite-internal-dialog-min-size-y: 220px}.scrim{--calcite-scrim-background: var(--calcite-dialog-scrim-background-color, var(--calcite-color-transparent-scrim));--calcite-scrim-background-color: var( --calcite-dialog-scrim-background-color, var(--calcite-color-transparent-scrim) );position:fixed;inset:0;display:flex;overflow-y:hidden}calcite-panel{--calcite-panel-content-space: var(--calcite-dialog-content-space, var(--calcite-internal-dialog-content-padding));--calcite-panel-footer-space: var(--calcite-dialog-footer-space);--calcite-panel-border-color: var(--calcite-dialog-border-color);--calcite-panel-background-color: var(--calcite-dialog-background-color, var(--calcite-color-foreground-1))}::slotted(*){--calcite-panel-background-color: initial}.dialog{pointer-events:none;position:relative;z-index:var(--calcite-z-index-modal);margin:1.5rem;box-sizing:border-box;display:flex;inline-size:100%;flex-direction:column;border-radius:.25rem;opacity:0;--tw-shadow: 0 2px 12px -4px rgba(0, 0, 0, .2), 0 2px 4px -2px rgba(0, 0, 0, .16);--tw-shadow-colored: 0 2px 12px -4px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);-webkit-overflow-scrolling:touch;visibility:hidden;transition:inset-block var(--calcite-internal-animation-timing-slow) cubic-bezier(.215,.44,.42,.88),opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(.215,.44,.42,.88);min-inline-size:var(--calcite-dialog-min-size-x, var(--calcite-internal-dialog-min-size-x));max-inline-size:var(--calcite-dialog-max-size-x, 100%);min-block-size:var(--calcite-dialog-min-size-y, var(--calcite-internal-dialog-min-size-y));max-block-size:var(--calcite-dialog-max-size-y, 100%);--calcite-internal-dialog-hidden-position: calc( var(--calcite-dialog-offset-y, 0px) + var(--calcite-internal-dialog-animation-offset) );--calcite-internal-dialog-shown-position: var(--calcite-dialog-offset-y, 0);inset-inline-start:var(--calcite-dialog-offset-x, 0);inset-block-start:var(--calcite-internal-dialog-hidden-position)}.dialog--opening-active{inset-block-start:var(--calcite-internal-dialog-shown-position)}:host([menu-open]) .dialog{transition:visibility 0ms linear var(--calcite-internal-animation-timing-slow),opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(.215,.44,.42,.88)}.panel{border-radius:.25rem}.container--open{opacity:1;visibility:visible;transition-delay:0ms}.container--open .dialog{pointer-events:auto;visibility:visible;opacity:1;transition:inset-block var(--calcite-internal-animation-timing-slow) cubic-bezier(.215,.44,.42,.88),opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(.215,.44,.42,.88);transition-delay:0ms}.width-s{inline-size:auto;inline-size:var(--calcite-dialog-size-x, 32rem);block-size:var(--calcite-dialog-size-y, auto)}@media screen and (max-width: 35rem){.width-s{margin:0;block-size:100%;max-block-size:100%;inline-size:100%;max-inline-size:100%;inset-inline-start:0;inset-block-start:var(--calcite-internal-dialog-animation-offset)}.width-s.dialog--opening-active{inset-block-start:0}}.width-m{inline-size:var(--calcite-dialog-size-x, 48rem);block-size:var(--calcite-dialog-size-y, auto)}@media screen and (max-width: 51rem){.width-m{margin:0;block-size:100%;max-block-size:100%;inline-size:100%;max-inline-size:100%;inset-inline-start:0;inset-block-start:var(--calcite-internal-dialog-animation-offset)}.width-m.dialog--opening-active{inset-block-start:0}}.width-l{inline-size:var(--calcite-dialog-size-x, 94rem);block-size:var(--calcite-dialog-size-y, auto)}@media screen and (max-width: 97rem){.width-l{margin:0;block-size:100%;max-block-size:100%;inline-size:100%;max-inline-size:100%;inset-inline-start:0;inset-block-start:var(--calcite-internal-dialog-animation-offset)}.width-l.dialog--opening-active{inset-block-start:0}}:host([placement=cover]) .dialog{margin:0;block-size:100%;max-block-size:100%;inline-size:100%;max-inline-size:100%;border-radius:0}:host([placement=cover]) .panel{border-radius:0}:host([kind]) .panel{border-start-start-radius:0px;border-start-end-radius:0px}:host([kind=brand]) .dialog{border-color:var(--calcite-color-brand)}:host([kind=danger]) .dialog{border-color:var(--calcite-color-status-danger)}:host([kind=info]) .dialog{border-color:var(--calcite-color-status-info)}:host([kind=success]) .dialog{border-color:var(--calcite-color-status-success)}:host([kind=warning]) .dialog{border-color:var(--calcite-color-status-warning)}:host([kind=brand][open]) .dialog,:host([kind=danger][open]) .dialog,:host([kind=info][open]) .dialog,:host([kind=success][open]) .dialog,:host([kind=warning][open]) .dialog{border-width:0px;border-block-start-width:4px;border-style:solid}.container--embedded{position:absolute;pointer-events:auto}.container--embedded calcite-scrim{position:absolute}.assistive-text{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}:host([hidden]){display:none}[hidden]{display:none}`,kn=class kn extends ht{constructor(){super(...arguments),this.dragPosition={...no},this.focusTrap=Bo({triggerProp:"open",focusTrapOptions:{clickOutsideDeactivates:()=>!this.modal||this.embedded,escapeDeactivates:i=>(!i.defaultPrevented&&!this.escapeDisabled&&(this.open=!1,i.preventDefault()),!1)}})(this),this.usePreventDocumentScroll=Nl()(this),this.ignoreOpenChange=!1,this.mutationObserver=Rt("mutation",()=>this.handleMutationObserver()),this._open=!1,this.openProp="opened",this.transitionProp="opacity",this.panelEl=gi(),this.resizePosition={...io},this.messages=_t(),this.assistiveText=null,this.hasContentBottom=!1,this.hasContentTop=!1,this.hasFooter=!0,this.opened=!1,this.closeDisabled=!1,this.dragEnabled=!1,this.embedded=!1,this.escapeDisabled=!1,this.loading=!1,this.menuOpen=!1,this.modal=!1,this.focusTrapDisabled=!1,this.outsideCloseDisabled=!1,this.overlayPositioning="absolute",this.placement="center",this.resizable=!1,this.scale="m",this.widthScale="m",this.calciteDialogBeforeClose=ye({cancelable:!1}),this.calciteDialogBeforeOpen=ye({cancelable:!1}),this.calciteDialogClose=ye({cancelable:!1}),this.calciteDialogOpen=ye({cancelable:!1}),this.calciteDialogScroll=ye({cancelable:!1})}get preventDocumentScroll(){return!this.embedded&&this.modal}get open(){return this._open}set open(i){const s=this._open;i!==s&&(this._open=i,this.toggleDialog(i))}async scrollContentTo(i){await this.panelEl.value?.scrollContentTo(i)}async setFocus(){return await Bt(this),this.panelEl.value?.setFocus()??mi(this.el)}async updateFocusTrapElements(i){this.focusTrap.setExtraContainers(i),this.focusTrap.updateContainerElements()}connectedCallback(){super.connectedCallback(),this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0}),this.setupInteractions()}willUpdate(i){(i.has("open")&&(this.hasUpdated||this.open!==!1)||i.has("placement")&&(this.hasUpdated||this.placement!=="center")||i.has("resizable")&&(this.hasUpdated||this.resizable!==!1)||i.has("dragEnabled")&&(this.hasUpdated||this.dragEnabled!==!1))&&this.setupInteractions(),(i.has("messages")||i.has("dragEnabled")&&(this.hasUpdated||this.dragEnabled!==!1)||i.has("resizable")&&(this.hasUpdated||this.resizable!==!1))&&this.updateAssistiveText(),i.has("opened")&&(this.hasUpdated||this.opened!==!1)&&this.handleOpenedChange(this.opened)}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver?.disconnect(),this.embedded=!1,this.cleanupInteractions()}focusTrapDisabledOverride(){return!this.modal&&this.focusTrapDisabled}updateAssistiveText(){const{messages:i}=this;this.assistiveText=i&&(this.dragEnabled||this.resizable)?`${this.dragEnabled?i.dragEnabled:""} ${this.resizable?i.resizeEnabled:""}`:null}onBeforeOpen(){this.calciteDialogBeforeOpen.emit()}onOpen(){this.focusTrapDisabled&&this.setFocus(),this.focusTrap.activate(),this.calciteDialogOpen.emit()}onBeforeClose(){this.calciteDialogBeforeClose.emit()}onClose(){this.focusTrap.deactivate(),this.calciteDialogClose.emit()}toggleDialog(i){this.ignoreOpenChange||(i?this.openDialog():this.closeDialog())}handleOpenedChange(i){const{transitionEl:s}=this;s&&(s.classList.toggle(Ke.openingActive,i),fo(this))}async triggerInteractModifiers(){const{interaction:i}=this;i&&(await i.reflow({name:"drag"}),await i.reflow({name:"resize"}))}getTransitionElDOMRect(){return this.transitionEl.getBoundingClientRect()}handleKeyDown(i){const{key:s,shiftKey:l,defaultPrevented:f}=i,{dragEnabled:g,resizable:v,resizePosition:b,dragPosition:x,transitionEl:E}=this;if(!(f||!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(s)))switch(s){case"ArrowUp":l&&v&&E?(this.updateSize({size:this.getTransitionElDOMRect().height-Ee,type:"blockSize"}),b.bottom-=Ee,this.updateTransform(),this.triggerInteractModifiers(),i.preventDefault()):g&&(x.y-=Ee,this.updateTransform(),this.triggerInteractModifiers(),i.preventDefault());break;case"ArrowDown":l&&v&&E?(this.updateSize({size:this.getTransitionElDOMRect().height+Ee,type:"blockSize"}),b.bottom+=Ee,this.updateTransform(),this.triggerInteractModifiers(),i.preventDefault()):g&&(x.y+=Ee,this.updateTransform(),this.triggerInteractModifiers(),i.preventDefault());break;case"ArrowLeft":l&&v&&E?(this.updateSize({size:this.getTransitionElDOMRect().width-Ee,type:"inlineSize"}),b.right-=Ee,this.updateTransform(),this.triggerInteractModifiers(),i.preventDefault()):g&&(x.x-=Ee,this.updateTransform(),this.triggerInteractModifiers(),i.preventDefault());break;case"ArrowRight":l&&v&&E?(this.updateSize({size:this.getTransitionElDOMRect().width+Ee,type:"inlineSize"}),b.right+=Ee,this.updateTransform(),this.triggerInteractModifiers(),i.preventDefault()):g&&(x.x+=Ee,this.updateTransform(),this.triggerInteractModifiers(),i.preventDefault());break}}updateTransform(){const{dragPosition:{x:i,y:s},resizePosition:l,transitionEl:f,dragEnabled:g,resizable:v}=this;if(!f)return;if(!g&&!v){f.style.transform=null;return}const{top:b,right:x,bottom:E,left:A}=this.getAdjustedResizePosition(l),P=Math.round(i+A+x),z=Math.round(s+b+E);f.style.transform=P||z?`translate(${P}px, ${z}px)`:null}updateSize({type:i,size:s}){const{transitionEl:l}=this;l&&(l.style[i]=s!==null?`${Math.round(s)}px`:null)}cleanupInteractions(){this.interaction?.unset(),this.updateSize({size:null,type:"inlineSize"}),this.updateSize({size:null,type:"blockSize"}),this.dragPosition={...no},this.resizePosition={...io},this.updateTransform()}async setupInteractions(){this.cleanupInteractions();const{el:i,transitionEl:s,resizable:l,dragEnabled:f,resizePosition:g,dragPosition:v}=this;if(!(!s||!this.open)){if((l||f)&&(this.interaction=sn(s,{context:i.ownerDocument})),l){await this.el.componentOnReady();const{minInlineSize:b,minBlockSize:x,maxInlineSize:E,maxBlockSize:A}=window.getComputedStyle(s);this.interaction.resizable({edges:{top:!0,right:!0,bottom:!0,left:!0},modifiers:[sn.modifiers.restrictSize({min:{width:tn(b),height:tn(x)},max:{width:tn(E)||window.innerWidth,height:tn(A)||window.innerHeight}}),sn.modifiers.restrict({restriction:"parent"})],listeners:{move:({rect:P,deltaRect:z})=>{z&&(g.top+=z.top,g.right+=z.right,g.bottom+=z.bottom,g.left+=z.left),this.updateSize({size:P.width,type:"inlineSize"}),this.updateSize({size:P.height,type:"blockSize"}),this.updateTransform()}}})}f&&this.interaction.draggable({modifiers:[sn.modifiers.restrictRect({restriction:"parent"})],listeners:{move:({dx:b,dy:x})=>{v.x+=b,v.y+=x,this.updateTransform()}}})}}getAdjustedResizePosition({top:i,right:s,bottom:l,left:f}){const g=i/2,v=s/2,b=l/2,x=f/2;switch(this.placement){case"top":return{top:i,right:v,bottom:0,left:x};case"top-start":return{top:i,right:0,bottom:0,left:f};case"top-end":return{top:i,right:s,bottom:0,left:0};case"bottom":return{top:0,right:v,bottom:l,left:x};case"bottom-start":return{top:0,right:0,bottom:l,left:f};case"bottom-end":return{top:0,right:s,bottom:l,left:0};case"cover":case"center":default:return{top:g,right:v,bottom:b,left:x}}}setTransitionEl(i){i&&(this.transitionEl=i,this.setupInteractions())}handleInternalPanelScroll(i){i.target===this.panelEl.value&&(i.stopPropagation(),this.calciteDialogScroll.emit())}handleInternalPanelCloseClick(i){i.target===this.panelEl.value&&(i.stopPropagation(),this.open=!1)}handlePanelKeyDown(i){this.escapeDisabled&&i.key==="Escape"&&i.preventDefault()}async openDialog(){await this.componentOnReady(),this.opened=!0}handleOutsideClose(){this.outsideCloseDisabled||(this.open=!1)}async closeDialog(){if(this.beforeClose)try{await this.beforeClose()}catch{requestAnimationFrame(()=>{this.ignoreOpenChange=!0,this.open=!0,this.ignoreOpenChange=!1});return}this.opened=!1}handleMutationObserver(){this.focusTrap.updateContainerElements()}render(){const{assistiveText:i,description:s,heading:l,opened:f}=this;return G`<div class=${X({[Ke.container]:!0,[Ke.containerOpen]:f,[Ke.containerEmbedded]:this.embedded})}>${this.modal?G`<calcite-scrim class=${X(Ke.scrim)} @click=${this.handleOutsideClose}></calcite-scrim>`:null}<div .ariaDescription=${s} .ariaLabel=${l} .ariaModal=${this.modal} class=${X({[Ke.dialog]:!0,[Bl("width",this.width,this.widthScale)]:!!(this.width||this.widthScale)})} @keydown=${this.handleKeyDown} role=dialog ${xe(this.setTransitionEl)}>${i?he("assistive-text",G`<div aria-live=polite class=${X(Ke.assistiveText)}>${i}</div>`):null}<slot name=${me.customContent}><slot name=${me.content}><calcite-panel .beforeClose=${this.beforeClose} class=${X(Ke.panel)} .closable=${!this.closeDisabled} .closed=${!f} .description=${s} .heading=${l} .headingLevel=${this.headingLevel} .loading=${this.loading} .menuOpen=${this.menuOpen} .messageOverrides=${this.messageOverrides} @keydown=${this.handlePanelKeyDown} @calcitePanelClose=${this.handleInternalPanelCloseClick} @calcitePanelScroll=${this.handleInternalPanelScroll} .overlayPositioning=${this.overlayPositioning} .scale=${this.scale} ${xe(this.panelEl)}><slot name=${me.actionBar} slot=${se.actionBar}></slot><slot name=${me.alerts} slot=${se.alerts}></slot><slot name=${me.headerActionsStart} slot=${se.headerActionsStart}></slot><slot name=${me.headerActionsEnd} slot=${se.headerActionsEnd}></slot><slot name=${me.headerContent} slot=${se.headerContent}></slot><slot name=${me.headerMenuActions} slot=${se.headerMenuActions}></slot><slot name=${me.fab} slot=${se.fab}></slot><slot name=${me.contentTop} slot=${se.contentTop}></slot><slot name=${me.contentBottom} slot=${se.contentBottom}></slot><slot name=${me.footerStart} slot=${se.footerStart}></slot><slot name=${me.footer} slot=${se.footer}></slot><slot name=${me.footerEnd} slot=${se.footerEnd}></slot><slot></slot></calcite-panel></slot></slot></div></div>`}};kn.properties={assistiveText:[16,{},{state:!0}],hasContentBottom:[16,{},{state:!0}],hasContentTop:[16,{},{state:!0}],hasFooter:[16,{},{state:!0}],opened:[16,{},{state:!0}],preventDocumentScroll:[16,{},{state:!0}],beforeClose:[0,{},{attribute:!1}],closeDisabled:[7,{},{reflect:!0,type:Boolean}],description:1,dragEnabled:[7,{},{reflect:!0,type:Boolean}],embedded:[5,{},{type:Boolean}],escapeDisabled:[7,{},{reflect:!0,type:Boolean}],focusTrapOptions:[0,{},{attribute:!1}],heading:1,headingLevel:[11,{},{type:Number,reflect:!0}],kind:[3,{},{reflect:!0}],loading:[7,{},{reflect:!0,type:Boolean}],menuOpen:[7,{},{reflect:!0,type:Boolean}],messageOverrides:[0,{},{attribute:!1}],modal:[7,{},{reflect:!0,type:Boolean}],focusTrapDisabled:[7,{},{reflect:!0,type:Boolean}],open:[7,{},{reflect:!0,type:Boolean}],outsideCloseDisabled:[7,{},{reflect:!0,type:Boolean}],overlayPositioning:[3,{},{reflect:!0}],placement:[3,{},{reflect:!0}],resizable:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],widthScale:[3,{},{reflect:!0}],width:[3,{},{reflect:!0}]},kn.styles=Ll;let hi=kn;vt("calcite-dialog",hi);export{hi as Dialog};
