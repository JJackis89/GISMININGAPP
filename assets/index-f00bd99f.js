var sne=Object.defineProperty;var ane=(e,t,r)=>t in e?sne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Op=(e,t,r)=>(ane(e,typeof t!="symbol"?t+"":t,r),r);function lne(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var eHe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function yt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xB={exports:{}},i_={},SB={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l1=Symbol.for("react.element"),une=Symbol.for("react.portal"),cne=Symbol.for("react.fragment"),dne=Symbol.for("react.strict_mode"),pne=Symbol.for("react.profiler"),fne=Symbol.for("react.provider"),hne=Symbol.for("react.context"),yne=Symbol.for("react.forward_ref"),mne=Symbol.for("react.suspense"),gne=Symbol.for("react.memo"),vne=Symbol.for("react.lazy"),x4=Symbol.iterator;function bne(e){return e===null||typeof e!="object"?null:(e=x4&&e[x4]||e["@@iterator"],typeof e=="function"?e:null)}var _B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$B=Object.assign,TB={};function vy(e,t,r){this.props=e,this.context=t,this.refs=TB,this.updater=r||_B}vy.prototype.isReactComponent={};vy.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vy.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function OB(){}OB.prototype=vy.prototype;function fM(e,t,r){this.props=e,this.context=t,this.refs=TB,this.updater=r||_B}var hM=fM.prototype=new OB;hM.constructor=fM;$B(hM,vy.prototype);hM.isPureReactComponent=!0;var S4=Array.isArray,EB=Object.prototype.hasOwnProperty,yM={current:null},jB={key:!0,ref:!0,__self:!0,__source:!0};function IB(e,t,r){var n,i={},o=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)EB.call(t,n)&&!jB.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:l1,type:e,key:o,ref:s,props:i,_owner:yM.current}}function wne(e,t){return{$$typeof:l1,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mM(e){return typeof e=="object"&&e!==null&&e.$$typeof===l1}function xne(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var _4=/\/+/g;function yT(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xne(""+e.key):t.toString(36)}function hw(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case l1:case une:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+yT(s,0):n,S4(i)?(r="",e!=null&&(r=e.replace(_4,"$&/")+"/"),hw(i,t,r,"",function(c){return c})):i!=null&&(mM(i)&&(i=wne(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(_4,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",S4(e))for(var a=0;a<e.length;a++){o=e[a];var l=n+yT(o,a);s+=hw(o,t,r,l,i)}else if(l=bne(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=n+yT(o,a++),s+=hw(o,t,r,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function W1(e,t,r){if(e==null)return e;var n=[],i=0;return hw(e,n,"","",function(o){return t.call(r,o,i++)}),n}function Sne(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qn={current:null},yw={transition:null},_ne={ReactCurrentDispatcher:Qn,ReactCurrentBatchConfig:yw,ReactCurrentOwner:yM};function AB(){throw Error("act(...) is not supported in production builds of React.")}We.Children={map:W1,forEach:function(e,t,r){W1(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return W1(e,function(){t++}),t},toArray:function(e){return W1(e,function(t){return t})||[]},only:function(e){if(!mM(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};We.Component=vy;We.Fragment=cne;We.Profiler=pne;We.PureComponent=fM;We.StrictMode=dne;We.Suspense=mne;We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_ne;We.act=AB;We.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=$B({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=yM.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)EB.call(t,l)&&!jB.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:l1,type:e.type,key:i,ref:o,props:n,_owner:s}};We.createContext=function(e){return e={$$typeof:hne,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fne,_context:e},e.Consumer=e};We.createElement=IB;We.createFactory=function(e){var t=IB.bind(null,e);return t.type=e,t};We.createRef=function(){return{current:null}};We.forwardRef=function(e){return{$$typeof:yne,render:e}};We.isValidElement=mM;We.lazy=function(e){return{$$typeof:vne,_payload:{_status:-1,_result:e},_init:Sne}};We.memo=function(e,t){return{$$typeof:gne,type:e,compare:t===void 0?null:t}};We.startTransition=function(e){var t=yw.transition;yw.transition={};try{e()}finally{yw.transition=t}};We.unstable_act=AB;We.useCallback=function(e,t){return Qn.current.useCallback(e,t)};We.useContext=function(e){return Qn.current.useContext(e)};We.useDebugValue=function(){};We.useDeferredValue=function(e){return Qn.current.useDeferredValue(e)};We.useEffect=function(e,t){return Qn.current.useEffect(e,t)};We.useId=function(){return Qn.current.useId()};We.useImperativeHandle=function(e,t,r){return Qn.current.useImperativeHandle(e,t,r)};We.useInsertionEffect=function(e,t){return Qn.current.useInsertionEffect(e,t)};We.useLayoutEffect=function(e,t){return Qn.current.useLayoutEffect(e,t)};We.useMemo=function(e,t){return Qn.current.useMemo(e,t)};We.useReducer=function(e,t,r){return Qn.current.useReducer(e,t,r)};We.useRef=function(e){return Qn.current.useRef(e)};We.useState=function(e){return Qn.current.useState(e)};We.useSyncExternalStore=function(e,t,r){return Qn.current.useSyncExternalStore(e,t,r)};We.useTransition=function(){return Qn.current.useTransition()};We.version="18.3.1";SB.exports=We;var M=SB.exports;const L=yt(M),$ne=lne({__proto__:null,default:L},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tne=M,One=Symbol.for("react.element"),Ene=Symbol.for("react.fragment"),jne=Object.prototype.hasOwnProperty,Ine=Tne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ane={key:!0,ref:!0,__self:!0,__source:!0};function PB(e,t,r){var n,i={},o=null,s=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)jne.call(t,n)&&!Ane.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:One,type:e,key:o,ref:s,props:i,_owner:Ine.current}}i_.Fragment=Ene;i_.jsx=PB;i_.jsxs=PB;xB.exports=i_;var v=xB.exports,xE={},NB={exports:{}},Hi={},MB={exports:{}},CB={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,Q){var oe=V.length;V.push(Q);e:for(;0<oe;){var fe=oe-1>>>1,ae=V[fe];if(0<i(ae,Q))V[fe]=Q,V[oe]=ae,oe=fe;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var Q=V[0],oe=V.pop();if(oe!==Q){V[0]=oe;e:for(var fe=0,ae=V.length,Oe=ae>>>1;fe<Oe;){var Je=2*(fe+1)-1,_t=V[Je],Bt=Je+1,ei=V[Bt];if(0>i(_t,oe))Bt<ae&&0>i(ei,_t)?(V[fe]=ei,V[Bt]=oe,fe=Bt):(V[fe]=_t,V[Je]=oe,fe=Je);else if(Bt<ae&&0>i(ei,oe))V[fe]=ei,V[Bt]=oe,fe=Bt;else break e}}return Q}function i(V,Q){var oe=V.sortIndex-Q.sortIndex;return oe!==0?oe:V.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],p=1,h=null,y=3,m=!1,g=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(V){for(var Q=r(c);Q!==null;){if(Q.callback===null)n(c);else if(Q.startTime<=V)n(c),Q.sortIndex=Q.expirationTime,t(l,Q);else break;Q=r(c)}}function O(V){if(b=!1,S(V),!g)if(r(l)!==null)g=!0,K($);else{var Q=r(c);Q!==null&&ee(O,Q.startTime-V)}}function $(V,Q){g=!1,b&&(b=!1,x(A),A=-1),m=!0;var oe=y;try{for(S(Q),h=r(l);h!==null&&(!(h.expirationTime>Q)||V&&!C());){var fe=h.callback;if(typeof fe=="function"){h.callback=null,y=h.priorityLevel;var ae=fe(h.expirationTime<=Q);Q=e.unstable_now(),typeof ae=="function"?h.callback=ae:h===r(l)&&n(l),S(Q)}else n(l);h=r(l)}if(h!==null)var Oe=!0;else{var Je=r(c);Je!==null&&ee(O,Je.startTime-Q),Oe=!1}return Oe}finally{h=null,y=oe,m=!1}}var T=!1,j=null,A=-1,N=5,k=-1;function C(){return!(e.unstable_now()-k<N)}function F(){if(j!==null){var V=e.unstable_now();k=V;var Q=!0;try{Q=j(!0,V)}finally{Q?G():(T=!1,j=null)}}else T=!1}var G;if(typeof _=="function")G=function(){_(F)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,W=B.port2;B.port1.onmessage=F,G=function(){W.postMessage(null)}}else G=function(){w(F,0)};function K(V){j=V,T||(T=!0,G())}function ee(V,Q){A=w(function(){V(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,K($))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(V){switch(y){case 1:case 2:case 3:var Q=3;break;default:Q=y}var oe=y;y=Q;try{return V()}finally{y=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,Q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var oe=y;y=V;try{return Q()}finally{y=oe}},e.unstable_scheduleCallback=function(V,Q,oe){var fe=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?fe+oe:fe):oe=fe,V){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=oe+ae,V={id:p++,callback:Q,priorityLevel:V,startTime:oe,expirationTime:ae,sortIndex:-1},oe>fe?(V.sortIndex=oe,t(c,V),r(l)===null&&V===r(c)&&(b?(x(A),A=-1):b=!0,ee(O,oe-fe))):(V.sortIndex=ae,t(l,V),g||m||(g=!0,K($))),V},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(V){var Q=y;return function(){var oe=y;y=Q;try{return V.apply(this,arguments)}finally{y=oe}}}})(CB);MB.exports=CB;var Pne=MB.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nne=M,Wi=Pne;function se(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kB=new Set,hg={};function pp(e,t){xh(e,t),xh(e+"Capture",t)}function xh(e,t){for(hg[e]=t,e=0;e<t.length;e++)kB.add(t[e])}var _l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),SE=Object.prototype.hasOwnProperty,Mne=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$4={},T4={};function Cne(e){return SE.call(T4,e)?!0:SE.call($4,e)?!1:Mne.test(e)?T4[e]=!0:($4[e]=!0,!1)}function kne(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Rne(e,t,r,n){if(t===null||typeof t>"u"||kne(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xn(e,t,r,n,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var cn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){cn[e]=new Xn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];cn[t]=new Xn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){cn[e]=new Xn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){cn[e]=new Xn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){cn[e]=new Xn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){cn[e]=new Xn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){cn[e]=new Xn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){cn[e]=new Xn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){cn[e]=new Xn(e,5,!1,e.toLowerCase(),null,!1,!1)});var gM=/[\-:]([a-z])/g;function vM(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gM,vM);cn[t]=new Xn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gM,vM);cn[t]=new Xn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gM,vM);cn[t]=new Xn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){cn[e]=new Xn(e,1,!1,e.toLowerCase(),null,!1,!1)});cn.xlinkHref=new Xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){cn[e]=new Xn(e,1,!1,e.toLowerCase(),null,!0,!0)});function bM(e,t,r,n){var i=cn.hasOwnProperty(t)?cn[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Rne(t,r,i,n)&&(r=null),n||i===null?Cne(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ml=Nne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H1=Symbol.for("react.element"),$f=Symbol.for("react.portal"),Tf=Symbol.for("react.fragment"),wM=Symbol.for("react.strict_mode"),_E=Symbol.for("react.profiler"),RB=Symbol.for("react.provider"),LB=Symbol.for("react.context"),xM=Symbol.for("react.forward_ref"),$E=Symbol.for("react.suspense"),TE=Symbol.for("react.suspense_list"),SM=Symbol.for("react.memo"),su=Symbol.for("react.lazy"),DB=Symbol.for("react.offscreen"),O4=Symbol.iterator;function em(e){return e===null||typeof e!="object"?null:(e=O4&&e[O4]||e["@@iterator"],typeof e=="function"?e:null)}var Wt=Object.assign,mT;function Nm(e){if(mT===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);mT=t&&t[1]||""}return`
`+mT+e}var gT=!1;function vT(e,t){if(!e||gT)return"";gT=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{gT=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Nm(e):""}function Lne(e){switch(e.tag){case 5:return Nm(e.type);case 16:return Nm("Lazy");case 13:return Nm("Suspense");case 19:return Nm("SuspenseList");case 0:case 2:case 15:return e=vT(e.type,!1),e;case 11:return e=vT(e.type.render,!1),e;case 1:return e=vT(e.type,!0),e;default:return""}}function OE(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Tf:return"Fragment";case $f:return"Portal";case _E:return"Profiler";case wM:return"StrictMode";case $E:return"Suspense";case TE:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case LB:return(e.displayName||"Context")+".Consumer";case RB:return(e._context.displayName||"Context")+".Provider";case xM:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case SM:return t=e.displayName||null,t!==null?t:OE(e.type)||"Memo";case su:t=e._payload,e=e._init;try{return OE(e(t))}catch{}}return null}function Dne(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return OE(t);case 8:return t===wM?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function FB(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fne(e){var t=FB(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function J1(e){e._valueTracker||(e._valueTracker=Fne(e))}function UB(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=FB(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Fx(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function EE(e,t){var r=t.checked;return Wt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function E4(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Xu(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zB(e,t){t=t.checked,t!=null&&bM(e,"checked",t,!1)}function jE(e,t){zB(e,t);var r=Xu(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?IE(e,t.type,r):t.hasOwnProperty("defaultValue")&&IE(e,t.type,Xu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function j4(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function IE(e,t,r){(t!=="number"||Fx(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Mm=Array.isArray;function Yf(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Xu(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function AE(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(se(91));return Wt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function I4(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(se(92));if(Mm(r)){if(1<r.length)throw Error(se(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Xu(r)}}function BB(e,t){var r=Xu(t.value),n=Xu(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function A4(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function VB(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function PE(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?VB(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Z1,qB=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Z1=Z1||document.createElement("div"),Z1.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Z1.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yg(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var I0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Une=["Webkit","ms","Moz","O"];Object.keys(I0).forEach(function(e){Une.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),I0[t]=I0[e]})});function GB(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||I0.hasOwnProperty(e)&&I0[e]?(""+t).trim():t+"px"}function WB(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=GB(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var zne=Wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function NE(e,t){if(t){if(zne[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(se(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(se(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(se(61))}if(t.style!=null&&typeof t.style!="object")throw Error(se(62))}}function ME(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var CE=null;function _M(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var kE=null,Qf=null,Xf=null;function P4(e){if(e=d1(e)){if(typeof kE!="function")throw Error(se(280));var t=e.stateNode;t&&(t=u_(t),kE(e.stateNode,e.type,t))}}function HB(e){Qf?Xf?Xf.push(e):Xf=[e]:Qf=e}function JB(){if(Qf){var e=Qf,t=Xf;if(Xf=Qf=null,P4(e),t)for(e=0;e<t.length;e++)P4(t[e])}}function ZB(e,t){return e(t)}function KB(){}var bT=!1;function YB(e,t,r){if(bT)return e(t,r);bT=!0;try{return ZB(e,t,r)}finally{bT=!1,(Qf!==null||Xf!==null)&&(KB(),JB())}}function mg(e,t){var r=e.stateNode;if(r===null)return null;var n=u_(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(se(231,t,typeof r));return r}var RE=!1;if(_l)try{var tm={};Object.defineProperty(tm,"passive",{get:function(){RE=!0}}),window.addEventListener("test",tm,tm),window.removeEventListener("test",tm,tm)}catch{RE=!1}function Bne(e,t,r,n,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(p){this.onError(p)}}var A0=!1,Ux=null,zx=!1,LE=null,Vne={onError:function(e){A0=!0,Ux=e}};function qne(e,t,r,n,i,o,s,a,l){A0=!1,Ux=null,Bne.apply(Vne,arguments)}function Gne(e,t,r,n,i,o,s,a,l){if(qne.apply(this,arguments),A0){if(A0){var c=Ux;A0=!1,Ux=null}else throw Error(se(198));zx||(zx=!0,LE=c)}}function fp(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function QB(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function N4(e){if(fp(e)!==e)throw Error(se(188))}function Wne(e){var t=e.alternate;if(!t){if(t=fp(e),t===null)throw Error(se(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return N4(i),e;if(o===n)return N4(i),t;o=o.sibling}throw Error(se(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s)throw Error(se(189))}}if(r.alternate!==n)throw Error(se(190))}if(r.tag!==3)throw Error(se(188));return r.stateNode.current===r?e:t}function XB(e){return e=Wne(e),e!==null?eV(e):null}function eV(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=eV(e);if(t!==null)return t;e=e.sibling}return null}var tV=Wi.unstable_scheduleCallback,M4=Wi.unstable_cancelCallback,Hne=Wi.unstable_shouldYield,Jne=Wi.unstable_requestPaint,fr=Wi.unstable_now,Zne=Wi.unstable_getCurrentPriorityLevel,$M=Wi.unstable_ImmediatePriority,rV=Wi.unstable_UserBlockingPriority,Bx=Wi.unstable_NormalPriority,Kne=Wi.unstable_LowPriority,nV=Wi.unstable_IdlePriority,o_=null,aa=null;function Yne(e){if(aa&&typeof aa.onCommitFiberRoot=="function")try{aa.onCommitFiberRoot(o_,e,void 0,(e.current.flags&128)===128)}catch{}}var ms=Math.clz32?Math.clz32:eie,Qne=Math.log,Xne=Math.LN2;function eie(e){return e>>>=0,e===0?32:31-(Qne(e)/Xne|0)|0}var K1=64,Y1=4194304;function Cm(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vx(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,s=r&268435455;if(s!==0){var a=s&~i;a!==0?n=Cm(a):(o&=s,o!==0&&(n=Cm(o)))}else s=r&~i,s!==0?n=Cm(s):o!==0&&(n=Cm(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ms(t),i=1<<r,n|=e[r],t&=~i;return n}function tie(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rie(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-ms(o),a=1<<s,l=i[s];l===-1?(!(a&r)||a&n)&&(i[s]=tie(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function DE(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function iV(){var e=K1;return K1<<=1,!(K1&4194240)&&(K1=64),e}function wT(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function u1(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ms(t),e[t]=r}function nie(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-ms(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}function TM(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ms(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var ht=0;function oV(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var sV,OM,aV,lV,uV,FE=!1,Q1=[],Uu=null,zu=null,Bu=null,gg=new Map,vg=new Map,bu=[],iie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C4(e,t){switch(e){case"focusin":case"focusout":Uu=null;break;case"dragenter":case"dragleave":zu=null;break;case"mouseover":case"mouseout":Bu=null;break;case"pointerover":case"pointerout":gg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vg.delete(t.pointerId)}}function rm(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=d1(t),t!==null&&OM(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function oie(e,t,r,n,i){switch(t){case"focusin":return Uu=rm(Uu,e,t,r,n,i),!0;case"dragenter":return zu=rm(zu,e,t,r,n,i),!0;case"mouseover":return Bu=rm(Bu,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return gg.set(o,rm(gg.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,vg.set(o,rm(vg.get(o)||null,e,t,r,n,i)),!0}return!1}function cV(e){var t=gd(e.target);if(t!==null){var r=fp(t);if(r!==null){if(t=r.tag,t===13){if(t=QB(r),t!==null){e.blockedOn=t,uV(e.priority,function(){aV(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mw(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=UE(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);CE=n,r.target.dispatchEvent(n),CE=null}else return t=d1(r),t!==null&&OM(t),e.blockedOn=r,!1;t.shift()}return!0}function k4(e,t,r){mw(e)&&r.delete(t)}function sie(){FE=!1,Uu!==null&&mw(Uu)&&(Uu=null),zu!==null&&mw(zu)&&(zu=null),Bu!==null&&mw(Bu)&&(Bu=null),gg.forEach(k4),vg.forEach(k4)}function nm(e,t){e.blockedOn===t&&(e.blockedOn=null,FE||(FE=!0,Wi.unstable_scheduleCallback(Wi.unstable_NormalPriority,sie)))}function bg(e){function t(i){return nm(i,e)}if(0<Q1.length){nm(Q1[0],e);for(var r=1;r<Q1.length;r++){var n=Q1[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Uu!==null&&nm(Uu,e),zu!==null&&nm(zu,e),Bu!==null&&nm(Bu,e),gg.forEach(t),vg.forEach(t),r=0;r<bu.length;r++)n=bu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<bu.length&&(r=bu[0],r.blockedOn===null);)cV(r),r.blockedOn===null&&bu.shift()}var eh=Ml.ReactCurrentBatchConfig,qx=!0;function aie(e,t,r,n){var i=ht,o=eh.transition;eh.transition=null;try{ht=1,EM(e,t,r,n)}finally{ht=i,eh.transition=o}}function lie(e,t,r,n){var i=ht,o=eh.transition;eh.transition=null;try{ht=4,EM(e,t,r,n)}finally{ht=i,eh.transition=o}}function EM(e,t,r,n){if(qx){var i=UE(e,t,r,n);if(i===null)AT(e,t,n,Gx,r),C4(e,n);else if(oie(i,e,t,r,n))n.stopPropagation();else if(C4(e,n),t&4&&-1<iie.indexOf(e)){for(;i!==null;){var o=d1(i);if(o!==null&&sV(o),o=UE(e,t,r,n),o===null&&AT(e,t,n,Gx,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else AT(e,t,n,null,r)}}var Gx=null;function UE(e,t,r,n){if(Gx=null,e=_M(n),e=gd(e),e!==null)if(t=fp(e),t===null)e=null;else if(r=t.tag,r===13){if(e=QB(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gx=e,null}function dV(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zne()){case $M:return 1;case rV:return 4;case Bx:case Kne:return 16;case nV:return 536870912;default:return 16}default:return 16}}var Eu=null,jM=null,gw=null;function pV(){if(gw)return gw;var e,t=jM,r=t.length,n,i="value"in Eu?Eu.value:Eu.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[o-n];n++);return gw=i.slice(e,1<n?1-n:void 0)}function vw(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function X1(){return!0}function R4(){return!1}function Ji(e){function t(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?X1:R4,this.isPropagationStopped=R4,this}return Wt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=X1)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=X1)},persist:function(){},isPersistent:X1}),t}var by={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},IM=Ji(by),c1=Wt({},by,{view:0,detail:0}),uie=Ji(c1),xT,ST,im,s_=Wt({},c1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:AM,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==im&&(im&&e.type==="mousemove"?(xT=e.screenX-im.screenX,ST=e.screenY-im.screenY):ST=xT=0,im=e),xT)},movementY:function(e){return"movementY"in e?e.movementY:ST}}),L4=Ji(s_),cie=Wt({},s_,{dataTransfer:0}),die=Ji(cie),pie=Wt({},c1,{relatedTarget:0}),_T=Ji(pie),fie=Wt({},by,{animationName:0,elapsedTime:0,pseudoElement:0}),hie=Ji(fie),yie=Wt({},by,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mie=Ji(yie),gie=Wt({},by,{data:0}),D4=Ji(gie),vie={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bie={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wie={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xie(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wie[e])?!!t[e]:!1}function AM(){return xie}var Sie=Wt({},c1,{key:function(e){if(e.key){var t=vie[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vw(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bie[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:AM,charCode:function(e){return e.type==="keypress"?vw(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vw(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_ie=Ji(Sie),$ie=Wt({},s_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F4=Ji($ie),Tie=Wt({},c1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:AM}),Oie=Ji(Tie),Eie=Wt({},by,{propertyName:0,elapsedTime:0,pseudoElement:0}),jie=Ji(Eie),Iie=Wt({},s_,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Aie=Ji(Iie),Pie=[9,13,27,32],PM=_l&&"CompositionEvent"in window,P0=null;_l&&"documentMode"in document&&(P0=document.documentMode);var Nie=_l&&"TextEvent"in window&&!P0,fV=_l&&(!PM||P0&&8<P0&&11>=P0),U4=String.fromCharCode(32),z4=!1;function hV(e,t){switch(e){case"keyup":return Pie.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yV(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Of=!1;function Mie(e,t){switch(e){case"compositionend":return yV(t);case"keypress":return t.which!==32?null:(z4=!0,U4);case"textInput":return e=t.data,e===U4&&z4?null:e;default:return null}}function Cie(e,t){if(Of)return e==="compositionend"||!PM&&hV(e,t)?(e=pV(),gw=jM=Eu=null,Of=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fV&&t.locale!=="ko"?null:t.data;default:return null}}var kie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function B4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kie[e.type]:t==="textarea"}function mV(e,t,r,n){HB(n),t=Wx(t,"onChange"),0<t.length&&(r=new IM("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var N0=null,wg=null;function Rie(e){EV(e,0)}function a_(e){var t=If(e);if(UB(t))return e}function Lie(e,t){if(e==="change")return t}var gV=!1;if(_l){var $T;if(_l){var TT="oninput"in document;if(!TT){var V4=document.createElement("div");V4.setAttribute("oninput","return;"),TT=typeof V4.oninput=="function"}$T=TT}else $T=!1;gV=$T&&(!document.documentMode||9<document.documentMode)}function q4(){N0&&(N0.detachEvent("onpropertychange",vV),wg=N0=null)}function vV(e){if(e.propertyName==="value"&&a_(wg)){var t=[];mV(t,wg,e,_M(e)),YB(Rie,t)}}function Die(e,t,r){e==="focusin"?(q4(),N0=t,wg=r,N0.attachEvent("onpropertychange",vV)):e==="focusout"&&q4()}function Fie(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return a_(wg)}function Uie(e,t){if(e==="click")return a_(t)}function zie(e,t){if(e==="input"||e==="change")return a_(t)}function Bie(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ts=typeof Object.is=="function"?Object.is:Bie;function xg(e,t){if(Ts(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!SE.call(t,i)||!Ts(e[i],t[i]))return!1}return!0}function G4(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function W4(e,t){var r=G4(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=G4(r)}}function bV(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bV(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wV(){for(var e=window,t=Fx();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Fx(e.document)}return t}function NM(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Vie(e){var t=wV(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&bV(r.ownerDocument.documentElement,r)){if(n!==null&&NM(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=W4(r,o);var s=W4(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qie=_l&&"documentMode"in document&&11>=document.documentMode,Ef=null,zE=null,M0=null,BE=!1;function H4(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;BE||Ef==null||Ef!==Fx(n)||(n=Ef,"selectionStart"in n&&NM(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),M0&&xg(M0,n)||(M0=n,n=Wx(zE,"onSelect"),0<n.length&&(t=new IM("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ef)))}function eb(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var jf={animationend:eb("Animation","AnimationEnd"),animationiteration:eb("Animation","AnimationIteration"),animationstart:eb("Animation","AnimationStart"),transitionend:eb("Transition","TransitionEnd")},OT={},xV={};_l&&(xV=document.createElement("div").style,"AnimationEvent"in window||(delete jf.animationend.animation,delete jf.animationiteration.animation,delete jf.animationstart.animation),"TransitionEvent"in window||delete jf.transitionend.transition);function l_(e){if(OT[e])return OT[e];if(!jf[e])return e;var t=jf[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in xV)return OT[e]=t[r];return e}var SV=l_("animationend"),_V=l_("animationiteration"),$V=l_("animationstart"),TV=l_("transitionend"),OV=new Map,J4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pc(e,t){OV.set(e,t),pp(t,[e])}for(var ET=0;ET<J4.length;ET++){var jT=J4[ET],Gie=jT.toLowerCase(),Wie=jT[0].toUpperCase()+jT.slice(1);pc(Gie,"on"+Wie)}pc(SV,"onAnimationEnd");pc(_V,"onAnimationIteration");pc($V,"onAnimationStart");pc("dblclick","onDoubleClick");pc("focusin","onFocus");pc("focusout","onBlur");pc(TV,"onTransitionEnd");xh("onMouseEnter",["mouseout","mouseover"]);xh("onMouseLeave",["mouseout","mouseover"]);xh("onPointerEnter",["pointerout","pointerover"]);xh("onPointerLeave",["pointerout","pointerover"]);pp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pp("onBeforeInput",["compositionend","keypress","textInput","paste"]);pp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var km="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hie=new Set("cancel close invalid load scroll toggle".split(" ").concat(km));function Z4(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Gne(n,t,void 0,e),e.currentTarget=null}function EV(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var s=n.length-1;0<=s;s--){var a=n[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Z4(i,a,c),o=l}else for(s=0;s<n.length;s++){if(a=n[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Z4(i,a,c),o=l}}}if(zx)throw e=LE,zx=!1,LE=null,e}function Pt(e,t){var r=t[HE];r===void 0&&(r=t[HE]=new Set);var n=e+"__bubble";r.has(n)||(jV(t,e,2,!1),r.add(n))}function IT(e,t,r){var n=0;t&&(n|=4),jV(r,e,n,t)}var tb="_reactListening"+Math.random().toString(36).slice(2);function Sg(e){if(!e[tb]){e[tb]=!0,kB.forEach(function(r){r!=="selectionchange"&&(Hie.has(r)||IT(r,!1,e),IT(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[tb]||(t[tb]=!0,IT("selectionchange",!1,t))}}function jV(e,t,r,n){switch(dV(t)){case 1:var i=aie;break;case 4:i=lie;break;default:i=EM}r=i.bind(null,t,r,e),i=void 0,!RE||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function AT(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=gd(a),s===null)return;if(l=s.tag,l===5||l===6){n=o=s;continue e}a=a.parentNode}}n=n.return}YB(function(){var c=o,p=_M(r),h=[];e:{var y=OV.get(e);if(y!==void 0){var m=IM,g=e;switch(e){case"keypress":if(vw(r)===0)break e;case"keydown":case"keyup":m=_ie;break;case"focusin":g="focus",m=_T;break;case"focusout":g="blur",m=_T;break;case"beforeblur":case"afterblur":m=_T;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=L4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=die;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Oie;break;case SV:case _V:case $V:m=hie;break;case TV:m=jie;break;case"scroll":m=uie;break;case"wheel":m=Aie;break;case"copy":case"cut":case"paste":m=mie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=F4}var b=(t&4)!==0,w=!b&&e==="scroll",x=b?y!==null?y+"Capture":null:y;b=[];for(var _=c,S;_!==null;){S=_;var O=S.stateNode;if(S.tag===5&&O!==null&&(S=O,x!==null&&(O=mg(_,x),O!=null&&b.push(_g(_,O,S)))),w)break;_=_.return}0<b.length&&(y=new m(y,g,null,r,p),h.push({event:y,listeners:b}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",y&&r!==CE&&(g=r.relatedTarget||r.fromElement)&&(gd(g)||g[$l]))break e;if((m||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=c,g=g?gd(g):null,g!==null&&(w=fp(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(b=L4,O="onMouseLeave",x="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(b=F4,O="onPointerLeave",x="onPointerEnter",_="pointer"),w=m==null?y:If(m),S=g==null?y:If(g),y=new b(O,_+"leave",m,r,p),y.target=w,y.relatedTarget=S,O=null,gd(p)===c&&(b=new b(x,_+"enter",g,r,p),b.target=S,b.relatedTarget=w,O=b),w=O,m&&g)t:{for(b=m,x=g,_=0,S=b;S;S=Ep(S))_++;for(S=0,O=x;O;O=Ep(O))S++;for(;0<_-S;)b=Ep(b),_--;for(;0<S-_;)x=Ep(x),S--;for(;_--;){if(b===x||x!==null&&b===x.alternate)break t;b=Ep(b),x=Ep(x)}b=null}else b=null;m!==null&&K4(h,y,m,b,!1),g!==null&&w!==null&&K4(h,w,g,b,!0)}}e:{if(y=c?If(c):window,m=y.nodeName&&y.nodeName.toLowerCase(),m==="select"||m==="input"&&y.type==="file")var $=Lie;else if(B4(y))if(gV)$=zie;else{$=Fie;var T=Die}else(m=y.nodeName)&&m.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&($=Uie);if($&&($=$(e,c))){mV(h,$,r,p);break e}T&&T(e,y,c),e==="focusout"&&(T=y._wrapperState)&&T.controlled&&y.type==="number"&&IE(y,"number",y.value)}switch(T=c?If(c):window,e){case"focusin":(B4(T)||T.contentEditable==="true")&&(Ef=T,zE=c,M0=null);break;case"focusout":M0=zE=Ef=null;break;case"mousedown":BE=!0;break;case"contextmenu":case"mouseup":case"dragend":BE=!1,H4(h,r,p);break;case"selectionchange":if(qie)break;case"keydown":case"keyup":H4(h,r,p)}var j;if(PM)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Of?hV(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(fV&&r.locale!=="ko"&&(Of||A!=="onCompositionStart"?A==="onCompositionEnd"&&Of&&(j=pV()):(Eu=p,jM="value"in Eu?Eu.value:Eu.textContent,Of=!0)),T=Wx(c,A),0<T.length&&(A=new D4(A,e,null,r,p),h.push({event:A,listeners:T}),j?A.data=j:(j=yV(r),j!==null&&(A.data=j)))),(j=Nie?Mie(e,r):Cie(e,r))&&(c=Wx(c,"onBeforeInput"),0<c.length&&(p=new D4("onBeforeInput","beforeinput",null,r,p),h.push({event:p,listeners:c}),p.data=j))}EV(h,t)})}function _g(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Wx(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=mg(e,r),o!=null&&n.unshift(_g(e,o,i)),o=mg(e,t),o!=null&&n.push(_g(e,o,i))),e=e.return}return n}function Ep(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function K4(e,t,r,n,i){for(var o=t._reactName,s=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,i?(l=mg(r,o),l!=null&&s.unshift(_g(r,l,a))):i||(l=mg(r,o),l!=null&&s.push(_g(r,l,a)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var Jie=/\r\n?/g,Zie=/\u0000|\uFFFD/g;function Y4(e){return(typeof e=="string"?e:""+e).replace(Jie,`
`).replace(Zie,"")}function rb(e,t,r){if(t=Y4(t),Y4(e)!==t&&r)throw Error(se(425))}function Hx(){}var VE=null,qE=null;function GE(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var WE=typeof setTimeout=="function"?setTimeout:void 0,Kie=typeof clearTimeout=="function"?clearTimeout:void 0,Q4=typeof Promise=="function"?Promise:void 0,Yie=typeof queueMicrotask=="function"?queueMicrotask:typeof Q4<"u"?function(e){return Q4.resolve(null).then(e).catch(Qie)}:WE;function Qie(e){setTimeout(function(){throw e})}function PT(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),bg(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);bg(t)}function Vu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function X4(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var wy=Math.random().toString(36).slice(2),ra="__reactFiber$"+wy,$g="__reactProps$"+wy,$l="__reactContainer$"+wy,HE="__reactEvents$"+wy,Xie="__reactListeners$"+wy,eoe="__reactHandles$"+wy;function gd(e){var t=e[ra];if(t)return t;for(var r=e.parentNode;r;){if(t=r[$l]||r[ra]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=X4(e);e!==null;){if(r=e[ra])return r;e=X4(e)}return t}e=r,r=e.parentNode}return null}function d1(e){return e=e[ra]||e[$l],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function If(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(se(33))}function u_(e){return e[$g]||null}var JE=[],Af=-1;function fc(e){return{current:e}}function Lt(e){0>Af||(e.current=JE[Af],JE[Af]=null,Af--)}function It(e,t){Af++,JE[Af]=e.current,e.current=t}var ec={},Rn=fc(ec),mi=fc(!1),Bd=ec;function Sh(e,t){var r=e.type.contextTypes;if(!r)return ec;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function gi(e){return e=e.childContextTypes,e!=null}function Jx(){Lt(mi),Lt(Rn)}function eL(e,t,r){if(Rn.current!==ec)throw Error(se(168));It(Rn,t),It(mi,r)}function IV(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(se(108,Dne(e)||"Unknown",i));return Wt({},r,n)}function Zx(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ec,Bd=Rn.current,It(Rn,e),It(mi,mi.current),!0}function tL(e,t,r){var n=e.stateNode;if(!n)throw Error(se(169));r?(e=IV(e,t,Bd),n.__reactInternalMemoizedMergedChildContext=e,Lt(mi),Lt(Rn),It(Rn,e)):Lt(mi),It(mi,r)}var rl=null,c_=!1,NT=!1;function AV(e){rl===null?rl=[e]:rl.push(e)}function toe(e){c_=!0,AV(e)}function hc(){if(!NT&&rl!==null){NT=!0;var e=0,t=ht;try{var r=rl;for(ht=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}rl=null,c_=!1}catch(i){throw rl!==null&&(rl=rl.slice(e+1)),tV($M,hc),i}finally{ht=t,NT=!1}}return null}var Pf=[],Nf=0,Kx=null,Yx=0,po=[],fo=0,Vd=null,cl=1,dl="";function Nc(e,t){Pf[Nf++]=Yx,Pf[Nf++]=Kx,Kx=e,Yx=t}function PV(e,t,r){po[fo++]=cl,po[fo++]=dl,po[fo++]=Vd,Vd=e;var n=cl;e=dl;var i=32-ms(n)-1;n&=~(1<<i),r+=1;var o=32-ms(t)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,cl=1<<32-ms(t)+i|r<<i|n,dl=o+e}else cl=1<<o|r<<i|n,dl=e}function MM(e){e.return!==null&&(Nc(e,1),PV(e,1,0))}function CM(e){for(;e===Kx;)Kx=Pf[--Nf],Pf[Nf]=null,Yx=Pf[--Nf],Pf[Nf]=null;for(;e===Vd;)Vd=po[--fo],po[fo]=null,dl=po[--fo],po[fo]=null,cl=po[--fo],po[fo]=null}var zi=null,Di=null,Ut=!1,ls=null;function NV(e,t){var r=go(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function rL(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,zi=e,Di=Vu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,zi=e,Di=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Vd!==null?{id:cl,overflow:dl}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=go(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,zi=e,Di=null,!0):!1;default:return!1}}function ZE(e){return(e.mode&1)!==0&&(e.flags&128)===0}function KE(e){if(Ut){var t=Di;if(t){var r=t;if(!rL(e,t)){if(ZE(e))throw Error(se(418));t=Vu(r.nextSibling);var n=zi;t&&rL(e,t)?NV(n,r):(e.flags=e.flags&-4097|2,Ut=!1,zi=e)}}else{if(ZE(e))throw Error(se(418));e.flags=e.flags&-4097|2,Ut=!1,zi=e}}}function nL(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;zi=e}function nb(e){if(e!==zi)return!1;if(!Ut)return nL(e),Ut=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!GE(e.type,e.memoizedProps)),t&&(t=Di)){if(ZE(e))throw MV(),Error(se(418));for(;t;)NV(e,t),t=Vu(t.nextSibling)}if(nL(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(se(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Di=Vu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Di=null}}else Di=zi?Vu(e.stateNode.nextSibling):null;return!0}function MV(){for(var e=Di;e;)e=Vu(e.nextSibling)}function _h(){Di=zi=null,Ut=!1}function kM(e){ls===null?ls=[e]:ls.push(e)}var roe=Ml.ReactCurrentBatchConfig;function om(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(se(309));var n=r.stateNode}if(!n)throw Error(se(147,e));var i=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(se(284));if(!r._owner)throw Error(se(290,e))}return e}function ib(e,t){throw e=Object.prototype.toString.call(t),Error(se(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function iL(e){var t=e._init;return t(e._payload)}function CV(e){function t(x,_){if(e){var S=x.deletions;S===null?(x.deletions=[_],x.flags|=16):S.push(_)}}function r(x,_){if(!e)return null;for(;_!==null;)t(x,_),_=_.sibling;return null}function n(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function i(x,_){return x=Hu(x,_),x.index=0,x.sibling=null,x}function o(x,_,S){return x.index=S,e?(S=x.alternate,S!==null?(S=S.index,S<_?(x.flags|=2,_):S):(x.flags|=2,_)):(x.flags|=1048576,_)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,_,S,O){return _===null||_.tag!==6?(_=FT(S,x.mode,O),_.return=x,_):(_=i(_,S),_.return=x,_)}function l(x,_,S,O){var $=S.type;return $===Tf?p(x,_,S.props.children,O,S.key):_!==null&&(_.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===su&&iL($)===_.type)?(O=i(_,S.props),O.ref=om(x,_,S),O.return=x,O):(O=Tw(S.type,S.key,S.props,null,x.mode,O),O.ref=om(x,_,S),O.return=x,O)}function c(x,_,S,O){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=UT(S,x.mode,O),_.return=x,_):(_=i(_,S.children||[]),_.return=x,_)}function p(x,_,S,O,$){return _===null||_.tag!==7?(_=Nd(S,x.mode,O,$),_.return=x,_):(_=i(_,S),_.return=x,_)}function h(x,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=FT(""+_,x.mode,S),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case H1:return S=Tw(_.type,_.key,_.props,null,x.mode,S),S.ref=om(x,null,_),S.return=x,S;case $f:return _=UT(_,x.mode,S),_.return=x,_;case su:var O=_._init;return h(x,O(_._payload),S)}if(Mm(_)||em(_))return _=Nd(_,x.mode,S,null),_.return=x,_;ib(x,_)}return null}function y(x,_,S,O){var $=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return $!==null?null:a(x,_,""+S,O);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case H1:return S.key===$?l(x,_,S,O):null;case $f:return S.key===$?c(x,_,S,O):null;case su:return $=S._init,y(x,_,$(S._payload),O)}if(Mm(S)||em(S))return $!==null?null:p(x,_,S,O,null);ib(x,S)}return null}function m(x,_,S,O,$){if(typeof O=="string"&&O!==""||typeof O=="number")return x=x.get(S)||null,a(_,x,""+O,$);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case H1:return x=x.get(O.key===null?S:O.key)||null,l(_,x,O,$);case $f:return x=x.get(O.key===null?S:O.key)||null,c(_,x,O,$);case su:var T=O._init;return m(x,_,S,T(O._payload),$)}if(Mm(O)||em(O))return x=x.get(S)||null,p(_,x,O,$,null);ib(_,O)}return null}function g(x,_,S,O){for(var $=null,T=null,j=_,A=_=0,N=null;j!==null&&A<S.length;A++){j.index>A?(N=j,j=null):N=j.sibling;var k=y(x,j,S[A],O);if(k===null){j===null&&(j=N);break}e&&j&&k.alternate===null&&t(x,j),_=o(k,_,A),T===null?$=k:T.sibling=k,T=k,j=N}if(A===S.length)return r(x,j),Ut&&Nc(x,A),$;if(j===null){for(;A<S.length;A++)j=h(x,S[A],O),j!==null&&(_=o(j,_,A),T===null?$=j:T.sibling=j,T=j);return Ut&&Nc(x,A),$}for(j=n(x,j);A<S.length;A++)N=m(j,x,A,S[A],O),N!==null&&(e&&N.alternate!==null&&j.delete(N.key===null?A:N.key),_=o(N,_,A),T===null?$=N:T.sibling=N,T=N);return e&&j.forEach(function(C){return t(x,C)}),Ut&&Nc(x,A),$}function b(x,_,S,O){var $=em(S);if(typeof $!="function")throw Error(se(150));if(S=$.call(S),S==null)throw Error(se(151));for(var T=$=null,j=_,A=_=0,N=null,k=S.next();j!==null&&!k.done;A++,k=S.next()){j.index>A?(N=j,j=null):N=j.sibling;var C=y(x,j,k.value,O);if(C===null){j===null&&(j=N);break}e&&j&&C.alternate===null&&t(x,j),_=o(C,_,A),T===null?$=C:T.sibling=C,T=C,j=N}if(k.done)return r(x,j),Ut&&Nc(x,A),$;if(j===null){for(;!k.done;A++,k=S.next())k=h(x,k.value,O),k!==null&&(_=o(k,_,A),T===null?$=k:T.sibling=k,T=k);return Ut&&Nc(x,A),$}for(j=n(x,j);!k.done;A++,k=S.next())k=m(j,x,A,k.value,O),k!==null&&(e&&k.alternate!==null&&j.delete(k.key===null?A:k.key),_=o(k,_,A),T===null?$=k:T.sibling=k,T=k);return e&&j.forEach(function(F){return t(x,F)}),Ut&&Nc(x,A),$}function w(x,_,S,O){if(typeof S=="object"&&S!==null&&S.type===Tf&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case H1:e:{for(var $=S.key,T=_;T!==null;){if(T.key===$){if($=S.type,$===Tf){if(T.tag===7){r(x,T.sibling),_=i(T,S.props.children),_.return=x,x=_;break e}}else if(T.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===su&&iL($)===T.type){r(x,T.sibling),_=i(T,S.props),_.ref=om(x,T,S),_.return=x,x=_;break e}r(x,T);break}else t(x,T);T=T.sibling}S.type===Tf?(_=Nd(S.props.children,x.mode,O,S.key),_.return=x,x=_):(O=Tw(S.type,S.key,S.props,null,x.mode,O),O.ref=om(x,_,S),O.return=x,x=O)}return s(x);case $f:e:{for(T=S.key;_!==null;){if(_.key===T)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){r(x,_.sibling),_=i(_,S.children||[]),_.return=x,x=_;break e}else{r(x,_);break}else t(x,_);_=_.sibling}_=UT(S,x.mode,O),_.return=x,x=_}return s(x);case su:return T=S._init,w(x,_,T(S._payload),O)}if(Mm(S))return g(x,_,S,O);if(em(S))return b(x,_,S,O);ib(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(r(x,_.sibling),_=i(_,S),_.return=x,x=_):(r(x,_),_=FT(S,x.mode,O),_.return=x,x=_),s(x)):r(x,_)}return w}var $h=CV(!0),kV=CV(!1),Qx=fc(null),Xx=null,Mf=null,RM=null;function LM(){RM=Mf=Xx=null}function DM(e){var t=Qx.current;Lt(Qx),e._currentValue=t}function YE(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function th(e,t){Xx=e,RM=Mf=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(fi=!0),e.firstContext=null)}function Oo(e){var t=e._currentValue;if(RM!==e)if(e={context:e,memoizedValue:t,next:null},Mf===null){if(Xx===null)throw Error(se(308));Mf=e,Xx.dependencies={lanes:0,firstContext:e}}else Mf=Mf.next=e;return t}var vd=null;function FM(e){vd===null?vd=[e]:vd.push(e)}function RV(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,FM(t)):(r.next=i.next,i.next=r),t.interleaved=r,Tl(e,n)}function Tl(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var au=!1;function UM(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LV(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qu(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Xe&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Tl(e,r)}return i=n.interleaved,i===null?(t.next=t,FM(n)):(t.next=i.next,i.next=t),n.interleaved=t,Tl(e,r)}function bw(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,TM(e,r)}}function oL(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function eS(e,t,r,n){var i=e.updateQueue;au=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var p=e.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==s&&(a===null?p.firstBaseUpdate=c:a.next=c,p.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,p=c=l=null,a=o;do{var y=a.lane,m=a.eventTime;if((n&y)===y){p!==null&&(p=p.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,b=a;switch(y=t,m=r,b.tag){case 1:if(g=b.payload,typeof g=="function"){h=g.call(m,h,y);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=b.payload,y=typeof g=="function"?g.call(m,h,y):g,y==null)break e;h=Wt({},h,y);break e;case 2:au=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,y=i.effects,y===null?i.effects=[a]:y.push(a))}else m={eventTime:m,lane:y,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(c=p=m,l=h):p=p.next=m,s|=y;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;y=a,a=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(1);if(p===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=p,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Gd|=s,e.lanes=s,e.memoizedState=h}}function sL(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(se(191,i));i.call(n)}}}var p1={},la=fc(p1),Tg=fc(p1),Og=fc(p1);function bd(e){if(e===p1)throw Error(se(174));return e}function zM(e,t){switch(It(Og,t),It(Tg,e),It(la,p1),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:PE(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=PE(t,e)}Lt(la),It(la,t)}function Th(){Lt(la),Lt(Tg),Lt(Og)}function DV(e){bd(Og.current);var t=bd(la.current),r=PE(t,e.type);t!==r&&(It(Tg,e),It(la,r))}function BM(e){Tg.current===e&&(Lt(la),Lt(Tg))}var qt=fc(0);function tS(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var MT=[];function VM(){for(var e=0;e<MT.length;e++)MT[e]._workInProgressVersionPrimary=null;MT.length=0}var ww=Ml.ReactCurrentDispatcher,CT=Ml.ReactCurrentBatchConfig,qd=0,Gt=null,Lr=null,Kr=null,rS=!1,C0=!1,Eg=0,noe=0;function yn(){throw Error(se(321))}function qM(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ts(e[r],t[r]))return!1;return!0}function GM(e,t,r,n,i,o){if(qd=o,Gt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ww.current=e===null||e.memoizedState===null?aoe:loe,e=r(n,i),C0){o=0;do{if(C0=!1,Eg=0,25<=o)throw Error(se(301));o+=1,Kr=Lr=null,t.updateQueue=null,ww.current=uoe,e=r(n,i)}while(C0)}if(ww.current=nS,t=Lr!==null&&Lr.next!==null,qd=0,Kr=Lr=Gt=null,rS=!1,t)throw Error(se(300));return e}function WM(){var e=Eg!==0;return Eg=0,e}function Hs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kr===null?Gt.memoizedState=Kr=e:Kr=Kr.next=e,Kr}function Eo(){if(Lr===null){var e=Gt.alternate;e=e!==null?e.memoizedState:null}else e=Lr.next;var t=Kr===null?Gt.memoizedState:Kr.next;if(t!==null)Kr=t,Lr=e;else{if(e===null)throw Error(se(310));Lr=e,e={memoizedState:Lr.memoizedState,baseState:Lr.baseState,baseQueue:Lr.baseQueue,queue:Lr.queue,next:null},Kr===null?Gt.memoizedState=Kr=e:Kr=Kr.next=e}return Kr}function jg(e,t){return typeof t=="function"?t(e):t}function kT(e){var t=Eo(),r=t.queue;if(r===null)throw Error(se(311));r.lastRenderedReducer=e;var n=Lr,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var a=s=null,l=null,c=o;do{var p=c.lane;if((qd&p)===p)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:p,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,s=n):l=l.next=h,Gt.lanes|=p,Gd|=p}c=c.next}while(c!==null&&c!==o);l===null?s=n:l.next=a,Ts(n,t.memoizedState)||(fi=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do o=i.lane,Gt.lanes|=o,Gd|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function RT(e){var t=Eo(),r=t.queue;if(r===null)throw Error(se(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Ts(o,t.memoizedState)||(fi=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function FV(){}function UV(e,t){var r=Gt,n=Eo(),i=t(),o=!Ts(n.memoizedState,i);if(o&&(n.memoizedState=i,fi=!0),n=n.queue,HM(VV.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Kr!==null&&Kr.memoizedState.tag&1){if(r.flags|=2048,Ig(9,BV.bind(null,r,n,i,t),void 0,null),Xr===null)throw Error(se(349));qd&30||zV(r,t,i)}return i}function zV(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Gt.updateQueue,t===null?(t={lastEffect:null,stores:null},Gt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function BV(e,t,r,n){t.value=r,t.getSnapshot=n,qV(t)&&GV(e)}function VV(e,t,r){return r(function(){qV(t)&&GV(e)})}function qV(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ts(e,r)}catch{return!0}}function GV(e){var t=Tl(e,1);t!==null&&gs(t,e,1,-1)}function aL(e){var t=Hs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jg,lastRenderedState:e},t.queue=e,e=e.dispatch=soe.bind(null,Gt,e),[t.memoizedState,e]}function Ig(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Gt.updateQueue,t===null?(t={lastEffect:null,stores:null},Gt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function WV(){return Eo().memoizedState}function xw(e,t,r,n){var i=Hs();Gt.flags|=e,i.memoizedState=Ig(1|t,r,void 0,n===void 0?null:n)}function d_(e,t,r,n){var i=Eo();n=n===void 0?null:n;var o=void 0;if(Lr!==null){var s=Lr.memoizedState;if(o=s.destroy,n!==null&&qM(n,s.deps)){i.memoizedState=Ig(t,r,o,n);return}}Gt.flags|=e,i.memoizedState=Ig(1|t,r,o,n)}function lL(e,t){return xw(8390656,8,e,t)}function HM(e,t){return d_(2048,8,e,t)}function HV(e,t){return d_(4,2,e,t)}function JV(e,t){return d_(4,4,e,t)}function ZV(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function KV(e,t,r){return r=r!=null?r.concat([e]):null,d_(4,4,ZV.bind(null,t,e),r)}function JM(){}function YV(e,t){var r=Eo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&qM(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function QV(e,t){var r=Eo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&qM(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function XV(e,t,r){return qd&21?(Ts(r,t)||(r=iV(),Gt.lanes|=r,Gd|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,fi=!0),e.memoizedState=r)}function ioe(e,t){var r=ht;ht=r!==0&&4>r?r:4,e(!0);var n=CT.transition;CT.transition={};try{e(!1),t()}finally{ht=r,CT.transition=n}}function eq(){return Eo().memoizedState}function ooe(e,t,r){var n=Wu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},tq(e))rq(t,r);else if(r=RV(e,t,r,n),r!==null){var i=Kn();gs(r,e,n,i),nq(r,t,n)}}function soe(e,t,r){var n=Wu(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(tq(e))rq(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,r);if(i.hasEagerState=!0,i.eagerState=a,Ts(a,s)){var l=t.interleaved;l===null?(i.next=i,FM(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=RV(e,t,i,n),r!==null&&(i=Kn(),gs(r,e,n,i),nq(r,t,n))}}function tq(e){var t=e.alternate;return e===Gt||t!==null&&t===Gt}function rq(e,t){C0=rS=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function nq(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,TM(e,r)}}var nS={readContext:Oo,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useInsertionEffect:yn,useLayoutEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useMutableSource:yn,useSyncExternalStore:yn,useId:yn,unstable_isNewReconciler:!1},aoe={readContext:Oo,useCallback:function(e,t){return Hs().memoizedState=[e,t===void 0?null:t],e},useContext:Oo,useEffect:lL,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,xw(4194308,4,ZV.bind(null,t,e),r)},useLayoutEffect:function(e,t){return xw(4194308,4,e,t)},useInsertionEffect:function(e,t){return xw(4,2,e,t)},useMemo:function(e,t){var r=Hs();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Hs();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ooe.bind(null,Gt,e),[n.memoizedState,e]},useRef:function(e){var t=Hs();return e={current:e},t.memoizedState=e},useState:aL,useDebugValue:JM,useDeferredValue:function(e){return Hs().memoizedState=e},useTransition:function(){var e=aL(!1),t=e[0];return e=ioe.bind(null,e[1]),Hs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Gt,i=Hs();if(Ut){if(r===void 0)throw Error(se(407));r=r()}else{if(r=t(),Xr===null)throw Error(se(349));qd&30||zV(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,lL(VV.bind(null,n,o,e),[e]),n.flags|=2048,Ig(9,BV.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Hs(),t=Xr.identifierPrefix;if(Ut){var r=dl,n=cl;r=(n&~(1<<32-ms(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Eg++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=noe++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},loe={readContext:Oo,useCallback:YV,useContext:Oo,useEffect:HM,useImperativeHandle:KV,useInsertionEffect:HV,useLayoutEffect:JV,useMemo:QV,useReducer:kT,useRef:WV,useState:function(){return kT(jg)},useDebugValue:JM,useDeferredValue:function(e){var t=Eo();return XV(t,Lr.memoizedState,e)},useTransition:function(){var e=kT(jg)[0],t=Eo().memoizedState;return[e,t]},useMutableSource:FV,useSyncExternalStore:UV,useId:eq,unstable_isNewReconciler:!1},uoe={readContext:Oo,useCallback:YV,useContext:Oo,useEffect:HM,useImperativeHandle:KV,useInsertionEffect:HV,useLayoutEffect:JV,useMemo:QV,useReducer:RT,useRef:WV,useState:function(){return RT(jg)},useDebugValue:JM,useDeferredValue:function(e){var t=Eo();return Lr===null?t.memoizedState=e:XV(t,Lr.memoizedState,e)},useTransition:function(){var e=RT(jg)[0],t=Eo().memoizedState;return[e,t]},useMutableSource:FV,useSyncExternalStore:UV,useId:eq,unstable_isNewReconciler:!1};function Qo(e,t){if(e&&e.defaultProps){t=Wt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function QE(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Wt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var p_={isMounted:function(e){return(e=e._reactInternals)?fp(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Kn(),i=Wu(e),o=vl(n,i);o.payload=t,r!=null&&(o.callback=r),t=qu(e,o,i),t!==null&&(gs(t,e,i,n),bw(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Kn(),i=Wu(e),o=vl(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=qu(e,o,i),t!==null&&(gs(t,e,i,n),bw(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Kn(),n=Wu(e),i=vl(r,n);i.tag=2,t!=null&&(i.callback=t),t=qu(e,i,n),t!==null&&(gs(t,e,n,r),bw(t,e,n))}};function uL(e,t,r,n,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,s):t.prototype&&t.prototype.isPureReactComponent?!xg(r,n)||!xg(i,o):!0}function iq(e,t,r){var n=!1,i=ec,o=t.contextType;return typeof o=="object"&&o!==null?o=Oo(o):(i=gi(t)?Bd:Rn.current,n=t.contextTypes,o=(n=n!=null)?Sh(e,i):ec),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=p_,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function cL(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&p_.enqueueReplaceState(t,t.state,null)}function XE(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},UM(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Oo(o):(o=gi(t)?Bd:Rn.current,i.context=Sh(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(QE(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&p_.enqueueReplaceState(i,i.state,null),eS(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Oh(e,t){try{var r="",n=t;do r+=Lne(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function LT(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ej(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var coe=typeof WeakMap=="function"?WeakMap:Map;function oq(e,t,r){r=vl(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){oS||(oS=!0,cj=n),ej(e,t)},r}function sq(e,t,r){r=vl(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){ej(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){ej(e,t),typeof n!="function"&&(Gu===null?Gu=new Set([this]):Gu.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function dL(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new coe;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=$oe.bind(null,e,t,r),t.then(e,e))}function pL(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fL(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=vl(-1,1),t.tag=2,qu(r,t,1))),r.lanes|=1),e)}var doe=Ml.ReactCurrentOwner,fi=!1;function Un(e,t,r,n){t.child=e===null?kV(t,null,r,n):$h(t,e.child,r,n)}function hL(e,t,r,n,i){r=r.render;var o=t.ref;return th(t,i),n=GM(e,t,r,n,o,i),r=WM(),e!==null&&!fi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ol(e,t,i)):(Ut&&r&&MM(t),t.flags|=1,Un(e,t,n,i),t.child)}function yL(e,t,r,n,i){if(e===null){var o=r.type;return typeof o=="function"&&!rC(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,aq(e,t,o,n,i)):(e=Tw(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(r=r.compare,r=r!==null?r:xg,r(s,n)&&e.ref===t.ref)return Ol(e,t,i)}return t.flags|=1,e=Hu(o,n),e.ref=t.ref,e.return=t,t.child=e}function aq(e,t,r,n,i){if(e!==null){var o=e.memoizedProps;if(xg(o,n)&&e.ref===t.ref)if(fi=!1,t.pendingProps=n=o,(e.lanes&i)!==0)e.flags&131072&&(fi=!0);else return t.lanes=e.lanes,Ol(e,t,i)}return tj(e,t,r,n,i)}function lq(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},It(kf,Mi),Mi|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,It(kf,Mi),Mi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,It(kf,Mi),Mi|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,It(kf,Mi),Mi|=n;return Un(e,t,i,r),t.child}function uq(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function tj(e,t,r,n,i){var o=gi(r)?Bd:Rn.current;return o=Sh(t,o),th(t,i),r=GM(e,t,r,n,o,i),n=WM(),e!==null&&!fi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ol(e,t,i)):(Ut&&n&&MM(t),t.flags|=1,Un(e,t,r,i),t.child)}function mL(e,t,r,n,i){if(gi(r)){var o=!0;Zx(t)}else o=!1;if(th(t,i),t.stateNode===null)Sw(e,t),iq(t,r,n),XE(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=Oo(c):(c=gi(r)?Bd:Rn.current,c=Sh(t,c));var p=r.getDerivedStateFromProps,h=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||l!==c)&&cL(t,s,n,c),au=!1;var y=t.memoizedState;s.state=y,eS(t,n,s,i),l=t.memoizedState,a!==n||y!==l||mi.current||au?(typeof p=="function"&&(QE(t,r,p,n),l=t.memoizedState),(a=au||uL(t,r,a,n,y,l,c))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,LV(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Qo(t.type,a),s.props=c,h=t.pendingProps,y=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Oo(l):(l=gi(r)?Bd:Rn.current,l=Sh(t,l));var m=r.getDerivedStateFromProps;(p=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||y!==l)&&cL(t,s,n,l),au=!1,y=t.memoizedState,s.state=y,eS(t,n,s,i);var g=t.memoizedState;a!==h||y!==g||mi.current||au?(typeof m=="function"&&(QE(t,r,m,n),g=t.memoizedState),(c=au||uL(t,r,c,n,y,g,l)||!1)?(p||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),n=!1)}return rj(e,t,r,n,o,i)}function rj(e,t,r,n,i,o){uq(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&tL(t,r,!1),Ol(e,t,o);n=t.stateNode,doe.current=t;var a=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=$h(t,e.child,null,o),t.child=$h(t,null,a,o)):Un(e,t,a,o),t.memoizedState=n.state,i&&tL(t,r,!0),t.child}function cq(e){var t=e.stateNode;t.pendingContext?eL(e,t.pendingContext,t.pendingContext!==t.context):t.context&&eL(e,t.context,!1),zM(e,t.containerInfo)}function gL(e,t,r,n,i){return _h(),kM(i),t.flags|=256,Un(e,t,r,n),t.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function ij(e){return{baseLanes:e,cachePool:null,transitions:null}}function dq(e,t,r){var n=t.pendingProps,i=qt.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),It(qt,i&1),e===null)return KE(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,o?(n=t.mode,o=t.child,s={mode:"hidden",children:s},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=y_(s,n,0,null),e=Nd(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ij(r),t.memoizedState=nj,e):ZM(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return poe(e,t,s,n,a,i,r);if(o){o=n.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Hu(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Hu(a,o):(o=Nd(o,s,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,s=e.child.memoizedState,s=s===null?ij(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~r,t.memoizedState=nj,n}return o=e.child,e=o.sibling,n=Hu(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ZM(e,t){return t=y_({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ob(e,t,r,n){return n!==null&&kM(n),$h(t,e.child,null,r),e=ZM(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function poe(e,t,r,n,i,o,s){if(r)return t.flags&256?(t.flags&=-257,n=LT(Error(se(422))),ob(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=y_({mode:"visible",children:n.children},i,0,null),o=Nd(o,i,s,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&$h(t,e.child,null,s),t.child.memoizedState=ij(s),t.memoizedState=nj,o);if(!(t.mode&1))return ob(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(se(419)),n=LT(o,n,void 0),ob(e,t,s,n)}if(a=(s&e.childLanes)!==0,fi||a){if(n=Xr,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Tl(e,i),gs(n,e,i,-1))}return tC(),n=LT(Error(se(421))),ob(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Toe.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Di=Vu(i.nextSibling),zi=t,Ut=!0,ls=null,e!==null&&(po[fo++]=cl,po[fo++]=dl,po[fo++]=Vd,cl=e.id,dl=e.overflow,Vd=t),t=ZM(t,n.children),t.flags|=4096,t)}function vL(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),YE(e.return,t,r)}function DT(e,t,r,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function pq(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Un(e,t,n.children,r),n=qt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vL(e,r,t);else if(e.tag===19)vL(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(It(qt,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&tS(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),DT(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&tS(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}DT(t,!0,r,null,o);break;case"together":DT(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sw(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ol(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Gd|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(se(153));if(t.child!==null){for(e=t.child,r=Hu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Hu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function foe(e,t,r){switch(t.tag){case 3:cq(t),_h();break;case 5:DV(t);break;case 1:gi(t.type)&&Zx(t);break;case 4:zM(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;It(Qx,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(It(qt,qt.current&1),t.flags|=128,null):r&t.child.childLanes?dq(e,t,r):(It(qt,qt.current&1),e=Ol(e,t,r),e!==null?e.sibling:null);It(qt,qt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return pq(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),It(qt,qt.current),n)break;return null;case 22:case 23:return t.lanes=0,lq(e,t,r)}return Ol(e,t,r)}var fq,oj,hq,yq;fq=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};oj=function(){};hq=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,bd(la.current);var o=null;switch(r){case"input":i=EE(e,i),n=EE(e,n),o=[];break;case"select":i=Wt({},i,{value:void 0}),n=Wt({},n,{value:void 0}),o=[];break;case"textarea":i=AE(e,i),n=AE(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Hx)}NE(r,n);var s;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(hg.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(a=i?.[c],n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(hg.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Pt("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};yq=function(e,t,r,n){r!==n&&(t.flags|=4)};function sm(e,t){if(!Ut)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function mn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function hoe(e,t,r){var n=t.pendingProps;switch(CM(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(t),null;case 1:return gi(t.type)&&Jx(),mn(t),null;case 3:return n=t.stateNode,Th(),Lt(mi),Lt(Rn),VM(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(nb(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ls!==null&&(fj(ls),ls=null))),oj(e,t),mn(t),null;case 5:BM(t);var i=bd(Og.current);if(r=t.type,e!==null&&t.stateNode!=null)hq(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(se(166));return mn(t),null}if(e=bd(la.current),nb(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[ra]=t,n[$g]=o,e=(t.mode&1)!==0,r){case"dialog":Pt("cancel",n),Pt("close",n);break;case"iframe":case"object":case"embed":Pt("load",n);break;case"video":case"audio":for(i=0;i<km.length;i++)Pt(km[i],n);break;case"source":Pt("error",n);break;case"img":case"image":case"link":Pt("error",n),Pt("load",n);break;case"details":Pt("toggle",n);break;case"input":E4(n,o),Pt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Pt("invalid",n);break;case"textarea":I4(n,o),Pt("invalid",n)}NE(r,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&rb(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&rb(n.textContent,a,e),i=["children",""+a]):hg.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Pt("scroll",n)}switch(r){case"input":J1(n),j4(n,o,!0);break;case"textarea":J1(n),A4(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Hx)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=VB(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[ra]=t,e[$g]=n,fq(e,t,!1,!1),t.stateNode=e;e:{switch(s=ME(r,n),r){case"dialog":Pt("cancel",e),Pt("close",e),i=n;break;case"iframe":case"object":case"embed":Pt("load",e),i=n;break;case"video":case"audio":for(i=0;i<km.length;i++)Pt(km[i],e);i=n;break;case"source":Pt("error",e),i=n;break;case"img":case"image":case"link":Pt("error",e),Pt("load",e),i=n;break;case"details":Pt("toggle",e),i=n;break;case"input":E4(e,n),i=EE(e,n),Pt("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Wt({},n,{value:void 0}),Pt("invalid",e);break;case"textarea":I4(e,n),i=AE(e,n),Pt("invalid",e);break;default:i=n}NE(r,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?WB(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qB(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&yg(e,l):typeof l=="number"&&yg(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(hg.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Pt("scroll",e):l!=null&&bM(e,o,l,s))}switch(r){case"input":J1(e),j4(e,n,!1);break;case"textarea":J1(e),A4(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Xu(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Yf(e,!!n.multiple,o,!1):n.defaultValue!=null&&Yf(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Hx)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return mn(t),null;case 6:if(e&&t.stateNode!=null)yq(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(se(166));if(r=bd(Og.current),bd(la.current),nb(t)){if(n=t.stateNode,r=t.memoizedProps,n[ra]=t,(o=n.nodeValue!==r)&&(e=zi,e!==null))switch(e.tag){case 3:rb(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&rb(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ra]=t,t.stateNode=n}return mn(t),null;case 13:if(Lt(qt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ut&&Di!==null&&t.mode&1&&!(t.flags&128))MV(),_h(),t.flags|=98560,o=!1;else if(o=nb(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(se(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(se(317));o[ra]=t}else _h(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;mn(t),o=!1}else ls!==null&&(fj(ls),ls=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||qt.current&1?Fr===0&&(Fr=3):tC())),t.updateQueue!==null&&(t.flags|=4),mn(t),null);case 4:return Th(),oj(e,t),e===null&&Sg(t.stateNode.containerInfo),mn(t),null;case 10:return DM(t.type._context),mn(t),null;case 17:return gi(t.type)&&Jx(),mn(t),null;case 19:if(Lt(qt),o=t.memoizedState,o===null)return mn(t),null;if(n=(t.flags&128)!==0,s=o.rendering,s===null)if(n)sm(o,!1);else{if(Fr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=tS(e),s!==null){for(t.flags|=128,sm(o,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return It(qt,qt.current&1|2),t.child}e=e.sibling}o.tail!==null&&fr()>Eh&&(t.flags|=128,n=!0,sm(o,!1),t.lanes=4194304)}else{if(!n)if(e=tS(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),sm(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ut)return mn(t),null}else 2*fr()-o.renderingStartTime>Eh&&r!==1073741824&&(t.flags|=128,n=!0,sm(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(r=o.last,r!==null?r.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=fr(),t.sibling=null,r=qt.current,It(qt,n?r&1|2:r&1),t):(mn(t),null);case 22:case 23:return eC(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Mi&1073741824&&(mn(t),t.subtreeFlags&6&&(t.flags|=8192)):mn(t),null;case 24:return null;case 25:return null}throw Error(se(156,t.tag))}function yoe(e,t){switch(CM(t),t.tag){case 1:return gi(t.type)&&Jx(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Th(),Lt(mi),Lt(Rn),VM(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return BM(t),null;case 13:if(Lt(qt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(se(340));_h()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Lt(qt),null;case 4:return Th(),null;case 10:return DM(t.type._context),null;case 22:case 23:return eC(),null;case 24:return null;default:return null}}var sb=!1,An=!1,moe=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Cf(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Xt(e,t,n)}else r.current=null}function sj(e,t,r){try{r()}catch(n){Xt(e,t,n)}}var bL=!1;function goe(e,t){if(VE=qx,e=wV(),NM(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var s=0,a=-1,l=-1,c=0,p=0,h=e,y=null;t:for(;;){for(var m;h!==r||i!==0&&h.nodeType!==3||(a=s+i),h!==o||n!==0&&h.nodeType!==3||(l=s+n),h.nodeType===3&&(s+=h.nodeValue.length),(m=h.firstChild)!==null;)y=h,h=m;for(;;){if(h===e)break t;if(y===r&&++c===i&&(a=s),y===o&&++p===n&&(l=s),(m=h.nextSibling)!==null)break;h=y,y=h.parentNode}h=m}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(qE={focusedElem:e,selectionRange:r},qx=!1,ve=t;ve!==null;)if(t=ve,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ve=e;else for(;ve!==null;){t=ve;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var b=g.memoizedProps,w=g.memoizedState,x=t.stateNode,_=x.getSnapshotBeforeUpdate(t.elementType===t.type?b:Qo(t.type,b),w);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(O){Xt(t,t.return,O)}if(e=t.sibling,e!==null){e.return=t.return,ve=e;break}ve=t.return}return g=bL,bL=!1,g}function k0(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&sj(t,r,o)}i=i.next}while(i!==n)}}function f_(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function aj(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function mq(e){var t=e.alternate;t!==null&&(e.alternate=null,mq(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ra],delete t[$g],delete t[HE],delete t[Xie],delete t[eoe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gq(e){return e.tag===5||e.tag===3||e.tag===4}function wL(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gq(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Hx));else if(n!==4&&(e=e.child,e!==null))for(lj(e,t,r),e=e.sibling;e!==null;)lj(e,t,r),e=e.sibling}function uj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(uj(e,t,r),e=e.sibling;e!==null;)uj(e,t,r),e=e.sibling}var an=null,Xo=!1;function zl(e,t,r){for(r=r.child;r!==null;)vq(e,t,r),r=r.sibling}function vq(e,t,r){if(aa&&typeof aa.onCommitFiberUnmount=="function")try{aa.onCommitFiberUnmount(o_,r)}catch{}switch(r.tag){case 5:An||Cf(r,t);case 6:var n=an,i=Xo;an=null,zl(e,t,r),an=n,Xo=i,an!==null&&(Xo?(e=an,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):an.removeChild(r.stateNode));break;case 18:an!==null&&(Xo?(e=an,r=r.stateNode,e.nodeType===8?PT(e.parentNode,r):e.nodeType===1&&PT(e,r),bg(e)):PT(an,r.stateNode));break;case 4:n=an,i=Xo,an=r.stateNode.containerInfo,Xo=!0,zl(e,t,r),an=n,Xo=i;break;case 0:case 11:case 14:case 15:if(!An&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&sj(r,t,s),i=i.next}while(i!==n)}zl(e,t,r);break;case 1:if(!An&&(Cf(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Xt(r,t,a)}zl(e,t,r);break;case 21:zl(e,t,r);break;case 22:r.mode&1?(An=(n=An)||r.memoizedState!==null,zl(e,t,r),An=n):zl(e,t,r);break;default:zl(e,t,r)}}function xL(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new moe),t.forEach(function(n){var i=Ooe.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Co(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:an=a.stateNode,Xo=!1;break e;case 3:an=a.stateNode.containerInfo,Xo=!0;break e;case 4:an=a.stateNode.containerInfo,Xo=!0;break e}a=a.return}if(an===null)throw Error(se(160));vq(o,s,i),an=null,Xo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Xt(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bq(t,e),t=t.sibling}function bq(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Co(t,e),Ns(e),n&4){try{k0(3,e,e.return),f_(3,e)}catch(b){Xt(e,e.return,b)}try{k0(5,e,e.return)}catch(b){Xt(e,e.return,b)}}break;case 1:Co(t,e),Ns(e),n&512&&r!==null&&Cf(r,r.return);break;case 5:if(Co(t,e),Ns(e),n&512&&r!==null&&Cf(r,r.return),e.flags&32){var i=e.stateNode;try{yg(i,"")}catch(b){Xt(e,e.return,b)}}if(n&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=r!==null?r.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&zB(i,o),ME(a,s);var c=ME(a,o);for(s=0;s<l.length;s+=2){var p=l[s],h=l[s+1];p==="style"?WB(i,h):p==="dangerouslySetInnerHTML"?qB(i,h):p==="children"?yg(i,h):bM(i,p,h,c)}switch(a){case"input":jE(i,o);break;case"textarea":BB(i,o);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Yf(i,!!o.multiple,m,!1):y!==!!o.multiple&&(o.defaultValue!=null?Yf(i,!!o.multiple,o.defaultValue,!0):Yf(i,!!o.multiple,o.multiple?[]:"",!1))}i[$g]=o}catch(b){Xt(e,e.return,b)}}break;case 6:if(Co(t,e),Ns(e),n&4){if(e.stateNode===null)throw Error(se(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(b){Xt(e,e.return,b)}}break;case 3:if(Co(t,e),Ns(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{bg(t.containerInfo)}catch(b){Xt(e,e.return,b)}break;case 4:Co(t,e),Ns(e);break;case 13:Co(t,e),Ns(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(QM=fr())),n&4&&xL(e);break;case 22:if(p=r!==null&&r.memoizedState!==null,e.mode&1?(An=(c=An)||p,Co(t,e),An=c):Co(t,e),Ns(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!p&&e.mode&1)for(ve=e,p=e.child;p!==null;){for(h=ve=p;ve!==null;){switch(y=ve,m=y.child,y.tag){case 0:case 11:case 14:case 15:k0(4,y,y.return);break;case 1:Cf(y,y.return);var g=y.stateNode;if(typeof g.componentWillUnmount=="function"){n=y,r=y.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(b){Xt(n,r,b)}}break;case 5:Cf(y,y.return);break;case 22:if(y.memoizedState!==null){_L(h);continue}}m!==null?(m.return=y,ve=m):_L(h)}p=p.sibling}e:for(p=null,h=e;;){if(h.tag===5){if(p===null){p=h;try{i=h.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=GB("display",s))}catch(b){Xt(e,e.return,b)}}}else if(h.tag===6){if(p===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(b){Xt(e,e.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Co(t,e),Ns(e),n&4&&xL(e);break;case 21:break;default:Co(t,e),Ns(e)}}function Ns(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(gq(r)){var n=r;break e}r=r.return}throw Error(se(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(yg(i,""),n.flags&=-33);var o=wL(e);uj(e,o,i);break;case 3:case 4:var s=n.stateNode.containerInfo,a=wL(e);lj(e,a,s);break;default:throw Error(se(161))}}catch(l){Xt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function voe(e,t,r){ve=e,wq(e)}function wq(e,t,r){for(var n=(e.mode&1)!==0;ve!==null;){var i=ve,o=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||sb;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||An;a=sb;var c=An;if(sb=s,(An=l)&&!c)for(ve=i;ve!==null;)s=ve,l=s.child,s.tag===22&&s.memoizedState!==null?$L(i):l!==null?(l.return=s,ve=l):$L(i);for(;o!==null;)ve=o,wq(o),o=o.sibling;ve=i,sb=a,An=c}SL(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ve=o):SL(e)}}function SL(e){for(;ve!==null;){var t=ve;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:An||f_(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!An)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Qo(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&sL(t,o,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}sL(t,s,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var p=c.memoizedState;if(p!==null){var h=p.dehydrated;h!==null&&bg(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}An||t.flags&512&&aj(t)}catch(y){Xt(t,t.return,y)}}if(t===e){ve=null;break}if(r=t.sibling,r!==null){r.return=t.return,ve=r;break}ve=t.return}}function _L(e){for(;ve!==null;){var t=ve;if(t===e){ve=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ve=r;break}ve=t.return}}function $L(e){for(;ve!==null;){var t=ve;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{f_(4,t)}catch(l){Xt(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Xt(t,i,l)}}var o=t.return;try{aj(t)}catch(l){Xt(t,o,l)}break;case 5:var s=t.return;try{aj(t)}catch(l){Xt(t,s,l)}}}catch(l){Xt(t,t.return,l)}if(t===e){ve=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ve=a;break}ve=t.return}}var boe=Math.ceil,iS=Ml.ReactCurrentDispatcher,KM=Ml.ReactCurrentOwner,So=Ml.ReactCurrentBatchConfig,Xe=0,Xr=null,Sr=null,un=0,Mi=0,kf=fc(0),Fr=0,Ag=null,Gd=0,h_=0,YM=0,R0=null,pi=null,QM=0,Eh=1/0,qa=null,oS=!1,cj=null,Gu=null,ab=!1,ju=null,sS=0,L0=0,dj=null,_w=-1,$w=0;function Kn(){return Xe&6?fr():_w!==-1?_w:_w=fr()}function Wu(e){return e.mode&1?Xe&2&&un!==0?un&-un:roe.transition!==null?($w===0&&($w=iV()),$w):(e=ht,e!==0||(e=window.event,e=e===void 0?16:dV(e.type)),e):1}function gs(e,t,r,n){if(50<L0)throw L0=0,dj=null,Error(se(185));u1(e,r,n),(!(Xe&2)||e!==Xr)&&(e===Xr&&(!(Xe&2)&&(h_|=r),Fr===4&&wu(e,un)),vi(e,n),r===1&&Xe===0&&!(t.mode&1)&&(Eh=fr()+500,c_&&hc()))}function vi(e,t){var r=e.callbackNode;rie(e,t);var n=Vx(e,e===Xr?un:0);if(n===0)r!==null&&M4(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&M4(r),t===1)e.tag===0?toe(TL.bind(null,e)):AV(TL.bind(null,e)),Yie(function(){!(Xe&6)&&hc()}),r=null;else{switch(oV(n)){case 1:r=$M;break;case 4:r=rV;break;case 16:r=Bx;break;case 536870912:r=nV;break;default:r=Bx}r=jq(r,xq.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function xq(e,t){if(_w=-1,$w=0,Xe&6)throw Error(se(327));var r=e.callbackNode;if(rh()&&e.callbackNode!==r)return null;var n=Vx(e,e===Xr?un:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=aS(e,n);else{t=n;var i=Xe;Xe|=2;var o=_q();(Xr!==e||un!==t)&&(qa=null,Eh=fr()+500,Pd(e,t));do try{Soe();break}catch(a){Sq(e,a)}while(1);LM(),iS.current=o,Xe=i,Sr!==null?t=0:(Xr=null,un=0,t=Fr)}if(t!==0){if(t===2&&(i=DE(e),i!==0&&(n=i,t=pj(e,i))),t===1)throw r=Ag,Pd(e,0),wu(e,n),vi(e,fr()),r;if(t===6)wu(e,n);else{if(i=e.current.alternate,!(n&30)&&!woe(i)&&(t=aS(e,n),t===2&&(o=DE(e),o!==0&&(n=o,t=pj(e,o))),t===1))throw r=Ag,Pd(e,0),wu(e,n),vi(e,fr()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(se(345));case 2:Mc(e,pi,qa);break;case 3:if(wu(e,n),(n&130023424)===n&&(t=QM+500-fr(),10<t)){if(Vx(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Kn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=WE(Mc.bind(null,e,pi,qa),t);break}Mc(e,pi,qa);break;case 4:if(wu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-ms(n);o=1<<s,s=t[s],s>i&&(i=s),n&=~o}if(n=i,n=fr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*boe(n/1960))-n,10<n){e.timeoutHandle=WE(Mc.bind(null,e,pi,qa),n);break}Mc(e,pi,qa);break;case 5:Mc(e,pi,qa);break;default:throw Error(se(329))}}}return vi(e,fr()),e.callbackNode===r?xq.bind(null,e):null}function pj(e,t){var r=R0;return e.current.memoizedState.isDehydrated&&(Pd(e,t).flags|=256),e=aS(e,t),e!==2&&(t=pi,pi=r,t!==null&&fj(t)),e}function fj(e){pi===null?pi=e:pi.push.apply(pi,e)}function woe(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!Ts(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wu(e,t){for(t&=~YM,t&=~h_,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ms(t),n=1<<r;e[r]=-1,t&=~n}}function TL(e){if(Xe&6)throw Error(se(327));rh();var t=Vx(e,0);if(!(t&1))return vi(e,fr()),null;var r=aS(e,t);if(e.tag!==0&&r===2){var n=DE(e);n!==0&&(t=n,r=pj(e,n))}if(r===1)throw r=Ag,Pd(e,0),wu(e,t),vi(e,fr()),r;if(r===6)throw Error(se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mc(e,pi,qa),vi(e,fr()),null}function XM(e,t){var r=Xe;Xe|=1;try{return e(t)}finally{Xe=r,Xe===0&&(Eh=fr()+500,c_&&hc())}}function Wd(e){ju!==null&&ju.tag===0&&!(Xe&6)&&rh();var t=Xe;Xe|=1;var r=So.transition,n=ht;try{if(So.transition=null,ht=1,e)return e()}finally{ht=n,So.transition=r,Xe=t,!(Xe&6)&&hc()}}function eC(){Mi=kf.current,Lt(kf)}function Pd(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Kie(r)),Sr!==null)for(r=Sr.return;r!==null;){var n=r;switch(CM(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Jx();break;case 3:Th(),Lt(mi),Lt(Rn),VM();break;case 5:BM(n);break;case 4:Th();break;case 13:Lt(qt);break;case 19:Lt(qt);break;case 10:DM(n.type._context);break;case 22:case 23:eC()}r=r.return}if(Xr=e,Sr=e=Hu(e.current,null),un=Mi=t,Fr=0,Ag=null,YM=h_=Gd=0,pi=R0=null,vd!==null){for(t=0;t<vd.length;t++)if(r=vd[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var s=o.next;o.next=i,n.next=s}r.pending=n}vd=null}return e}function Sq(e,t){do{var r=Sr;try{if(LM(),ww.current=nS,rS){for(var n=Gt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}rS=!1}if(qd=0,Kr=Lr=Gt=null,C0=!1,Eg=0,KM.current=null,r===null||r.return===null){Fr=1,Ag=t,Sr=null;break}e:{var o=e,s=r.return,a=r,l=t;if(t=un,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,p=a,h=p.tag;if(!(p.mode&1)&&(h===0||h===11||h===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var m=pL(s);if(m!==null){m.flags&=-257,fL(m,s,a,o,t),m.mode&1&&dL(o,c,t),t=m,l=c;var g=t.updateQueue;if(g===null){var b=new Set;b.add(l),t.updateQueue=b}else g.add(l);break e}else{if(!(t&1)){dL(o,c,t),tC();break e}l=Error(se(426))}}else if(Ut&&a.mode&1){var w=pL(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),fL(w,s,a,o,t),kM(Oh(l,a));break e}}o=l=Oh(l,a),Fr!==4&&(Fr=2),R0===null?R0=[o]:R0.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var x=oq(o,l,t);oL(o,x);break e;case 1:a=l;var _=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Gu===null||!Gu.has(S)))){o.flags|=65536,t&=-t,o.lanes|=t;var O=sq(o,a,t);oL(o,O);break e}}o=o.return}while(o!==null)}Tq(r)}catch($){t=$,Sr===r&&r!==null&&(Sr=r=r.return);continue}break}while(1)}function _q(){var e=iS.current;return iS.current=nS,e===null?nS:e}function tC(){(Fr===0||Fr===3||Fr===2)&&(Fr=4),Xr===null||!(Gd&268435455)&&!(h_&268435455)||wu(Xr,un)}function aS(e,t){var r=Xe;Xe|=2;var n=_q();(Xr!==e||un!==t)&&(qa=null,Pd(e,t));do try{xoe();break}catch(i){Sq(e,i)}while(1);if(LM(),Xe=r,iS.current=n,Sr!==null)throw Error(se(261));return Xr=null,un=0,Fr}function xoe(){for(;Sr!==null;)$q(Sr)}function Soe(){for(;Sr!==null&&!Hne();)$q(Sr)}function $q(e){var t=Eq(e.alternate,e,Mi);e.memoizedProps=e.pendingProps,t===null?Tq(e):Sr=t,KM.current=null}function Tq(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=yoe(r,t),r!==null){r.flags&=32767,Sr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fr=6,Sr=null;return}}else if(r=hoe(r,t,Mi),r!==null){Sr=r;return}if(t=t.sibling,t!==null){Sr=t;return}Sr=t=e}while(t!==null);Fr===0&&(Fr=5)}function Mc(e,t,r){var n=ht,i=So.transition;try{So.transition=null,ht=1,_oe(e,t,r,n)}finally{So.transition=i,ht=n}return null}function _oe(e,t,r,n){do rh();while(ju!==null);if(Xe&6)throw Error(se(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(se(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(nie(e,o),e===Xr&&(Sr=Xr=null,un=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ab||(ab=!0,jq(Bx,function(){return rh(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=So.transition,So.transition=null;var s=ht;ht=1;var a=Xe;Xe|=4,KM.current=null,goe(e,r),bq(r,e),Vie(qE),qx=!!VE,qE=VE=null,e.current=r,voe(r),Jne(),Xe=a,ht=s,So.transition=o}else e.current=r;if(ab&&(ab=!1,ju=e,sS=i),o=e.pendingLanes,o===0&&(Gu=null),Yne(r.stateNode),vi(e,fr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(oS)throw oS=!1,e=cj,cj=null,e;return sS&1&&e.tag!==0&&rh(),o=e.pendingLanes,o&1?e===dj?L0++:(L0=0,dj=e):L0=0,hc(),null}function rh(){if(ju!==null){var e=oV(sS),t=So.transition,r=ht;try{if(So.transition=null,ht=16>e?16:e,ju===null)var n=!1;else{if(e=ju,ju=null,sS=0,Xe&6)throw Error(se(331));var i=Xe;for(Xe|=4,ve=e.current;ve!==null;){var o=ve,s=o.child;if(ve.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ve=c;ve!==null;){var p=ve;switch(p.tag){case 0:case 11:case 15:k0(8,p,o)}var h=p.child;if(h!==null)h.return=p,ve=h;else for(;ve!==null;){p=ve;var y=p.sibling,m=p.return;if(mq(p),p===c){ve=null;break}if(y!==null){y.return=m,ve=y;break}ve=m}}}var g=o.alternate;if(g!==null){var b=g.child;if(b!==null){g.child=null;do{var w=b.sibling;b.sibling=null,b=w}while(b!==null)}}ve=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ve=s;else e:for(;ve!==null;){if(o=ve,o.flags&2048)switch(o.tag){case 0:case 11:case 15:k0(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,ve=x;break e}ve=o.return}}var _=e.current;for(ve=_;ve!==null;){s=ve;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,ve=S;else e:for(s=_;ve!==null;){if(a=ve,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:f_(9,a)}}catch($){Xt(a,a.return,$)}if(a===s){ve=null;break e}var O=a.sibling;if(O!==null){O.return=a.return,ve=O;break e}ve=a.return}}if(Xe=i,hc(),aa&&typeof aa.onPostCommitFiberRoot=="function")try{aa.onPostCommitFiberRoot(o_,e)}catch{}n=!0}return n}finally{ht=r,So.transition=t}}return!1}function OL(e,t,r){t=Oh(r,t),t=oq(e,t,1),e=qu(e,t,1),t=Kn(),e!==null&&(u1(e,1,t),vi(e,t))}function Xt(e,t,r){if(e.tag===3)OL(e,e,r);else for(;t!==null;){if(t.tag===3){OL(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Gu===null||!Gu.has(n))){e=Oh(r,e),e=sq(t,e,1),t=qu(t,e,1),e=Kn(),t!==null&&(u1(t,1,e),vi(t,e));break}}t=t.return}}function $oe(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Kn(),e.pingedLanes|=e.suspendedLanes&r,Xr===e&&(un&r)===r&&(Fr===4||Fr===3&&(un&130023424)===un&&500>fr()-QM?Pd(e,0):YM|=r),vi(e,t)}function Oq(e,t){t===0&&(e.mode&1?(t=Y1,Y1<<=1,!(Y1&130023424)&&(Y1=4194304)):t=1);var r=Kn();e=Tl(e,t),e!==null&&(u1(e,t,r),vi(e,r))}function Toe(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Oq(e,r)}function Ooe(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(se(314))}n!==null&&n.delete(t),Oq(e,r)}var Eq;Eq=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||mi.current)fi=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return fi=!1,foe(e,t,r);fi=!!(e.flags&131072)}else fi=!1,Ut&&t.flags&1048576&&PV(t,Yx,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Sw(e,t),e=t.pendingProps;var i=Sh(t,Rn.current);th(t,r),i=GM(null,t,n,e,i,r);var o=WM();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(n)?(o=!0,Zx(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,UM(t),i.updater=p_,t.stateNode=i,i._reactInternals=t,XE(t,n,e,r),t=rj(null,t,n,!0,o,r)):(t.tag=0,Ut&&o&&MM(t),Un(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Sw(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=joe(n),e=Qo(n,e),i){case 0:t=tj(null,t,n,e,r);break e;case 1:t=mL(null,t,n,e,r);break e;case 11:t=hL(null,t,n,e,r);break e;case 14:t=yL(null,t,n,Qo(n.type,e),r);break e}throw Error(se(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qo(n,i),tj(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qo(n,i),mL(e,t,n,i,r);case 3:e:{if(cq(t),e===null)throw Error(se(387));n=t.pendingProps,o=t.memoizedState,i=o.element,LV(e,t),eS(t,n,null,r);var s=t.memoizedState;if(n=s.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Oh(Error(se(423)),t),t=gL(e,t,n,r,i);break e}else if(n!==i){i=Oh(Error(se(424)),t),t=gL(e,t,n,r,i);break e}else for(Di=Vu(t.stateNode.containerInfo.firstChild),zi=t,Ut=!0,ls=null,r=kV(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_h(),n===i){t=Ol(e,t,r);break e}Un(e,t,n,r)}t=t.child}return t;case 5:return DV(t),e===null&&KE(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,GE(n,i)?s=null:o!==null&&GE(n,o)&&(t.flags|=32),uq(e,t),Un(e,t,s,r),t.child;case 6:return e===null&&KE(t),null;case 13:return dq(e,t,r);case 4:return zM(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=$h(t,null,n,r):Un(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qo(n,i),hL(e,t,n,i,r);case 7:return Un(e,t,t.pendingProps,r),t.child;case 8:return Un(e,t,t.pendingProps.children,r),t.child;case 12:return Un(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,It(Qx,n._currentValue),n._currentValue=s,o!==null)if(Ts(o.value,s)){if(o.children===i.children&&!mi.current){t=Ol(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=vl(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var p=c.pending;p===null?l.next=l:(l.next=p.next,p.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),YE(o.return,r,t),a.lanes|=r;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(se(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),YE(s,r,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Un(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,th(t,r),i=Oo(i),n=n(i),t.flags|=1,Un(e,t,n,r),t.child;case 14:return n=t.type,i=Qo(n,t.pendingProps),i=Qo(n.type,i),yL(e,t,n,i,r);case 15:return aq(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qo(n,i),Sw(e,t),t.tag=1,gi(n)?(e=!0,Zx(t)):e=!1,th(t,r),iq(t,n,i),XE(t,n,i,r),rj(null,t,n,!0,e,r);case 19:return pq(e,t,r);case 22:return lq(e,t,r)}throw Error(se(156,t.tag))};function jq(e,t){return tV(e,t)}function Eoe(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function go(e,t,r,n){return new Eoe(e,t,r,n)}function rC(e){return e=e.prototype,!(!e||!e.isReactComponent)}function joe(e){if(typeof e=="function")return rC(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xM)return 11;if(e===SM)return 14}return 2}function Hu(e,t){var r=e.alternate;return r===null?(r=go(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Tw(e,t,r,n,i,o){var s=2;if(n=e,typeof e=="function")rC(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Tf:return Nd(r.children,i,o,t);case wM:s=8,i|=8;break;case _E:return e=go(12,r,t,i|2),e.elementType=_E,e.lanes=o,e;case $E:return e=go(13,r,t,i),e.elementType=$E,e.lanes=o,e;case TE:return e=go(19,r,t,i),e.elementType=TE,e.lanes=o,e;case DB:return y_(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case RB:s=10;break e;case LB:s=9;break e;case xM:s=11;break e;case SM:s=14;break e;case su:s=16,n=null;break e}throw Error(se(130,e==null?e:typeof e,""))}return t=go(s,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function Nd(e,t,r,n){return e=go(7,e,n,t),e.lanes=r,e}function y_(e,t,r,n){return e=go(22,e,n,t),e.elementType=DB,e.lanes=r,e.stateNode={isHidden:!1},e}function FT(e,t,r){return e=go(6,e,null,t),e.lanes=r,e}function UT(e,t,r){return t=go(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ioe(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wT(0),this.expirationTimes=wT(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wT(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function nC(e,t,r,n,i,o,s,a,l){return e=new Ioe(e,t,r,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=go(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},UM(o),e}function Aoe(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$f,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Iq(e){if(!e)return ec;e=e._reactInternals;e:{if(fp(e)!==e||e.tag!==1)throw Error(se(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(gi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(se(171))}if(e.tag===1){var r=e.type;if(gi(r))return IV(e,r,t)}return t}function Aq(e,t,r,n,i,o,s,a,l){return e=nC(r,n,!0,e,i,o,s,a,l),e.context=Iq(null),r=e.current,n=Kn(),i=Wu(r),o=vl(n,i),o.callback=t??null,qu(r,o,i),e.current.lanes=i,u1(e,i,n),vi(e,n),e}function m_(e,t,r,n){var i=t.current,o=Kn(),s=Wu(i);return r=Iq(r),t.context===null?t.context=r:t.pendingContext=r,t=vl(o,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=qu(i,t,s),e!==null&&(gs(e,i,s,o),bw(e,i,s)),s}function lS(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function EL(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function iC(e,t){EL(e,t),(e=e.alternate)&&EL(e,t)}function Poe(){return null}var Pq=typeof reportError=="function"?reportError:function(e){console.error(e)};function oC(e){this._internalRoot=e}g_.prototype.render=oC.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(se(409));m_(e,t,null,null)};g_.prototype.unmount=oC.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wd(function(){m_(null,e,null,null)}),t[$l]=null}};function g_(e){this._internalRoot=e}g_.prototype.unstable_scheduleHydration=function(e){if(e){var t=lV();e={blockedOn:null,target:e,priority:t};for(var r=0;r<bu.length&&t!==0&&t<bu[r].priority;r++);bu.splice(r,0,e),r===0&&cV(e)}};function sC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function v_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jL(){}function Noe(e,t,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var c=lS(s);o.call(c)}}var s=Aq(t,n,e,0,null,!1,!1,"",jL);return e._reactRootContainer=s,e[$l]=s.current,Sg(e.nodeType===8?e.parentNode:e),Wd(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var c=lS(l);a.call(c)}}var l=nC(e,0,!1,null,null,!1,!1,"",jL);return e._reactRootContainer=l,e[$l]=l.current,Sg(e.nodeType===8?e.parentNode:e),Wd(function(){m_(t,l,r,n)}),l}function b_(e,t,r,n,i){var o=r._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=lS(s);a.call(l)}}m_(t,s,e,i)}else s=Noe(r,t,e,i,n);return lS(s)}sV=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Cm(t.pendingLanes);r!==0&&(TM(t,r|1),vi(t,fr()),!(Xe&6)&&(Eh=fr()+500,hc()))}break;case 13:Wd(function(){var n=Tl(e,1);if(n!==null){var i=Kn();gs(n,e,1,i)}}),iC(e,1)}};OM=function(e){if(e.tag===13){var t=Tl(e,134217728);if(t!==null){var r=Kn();gs(t,e,134217728,r)}iC(e,134217728)}};aV=function(e){if(e.tag===13){var t=Wu(e),r=Tl(e,t);if(r!==null){var n=Kn();gs(r,e,t,n)}iC(e,t)}};lV=function(){return ht};uV=function(e,t){var r=ht;try{return ht=e,t()}finally{ht=r}};kE=function(e,t,r){switch(t){case"input":if(jE(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=u_(n);if(!i)throw Error(se(90));UB(n),jE(n,i)}}}break;case"textarea":BB(e,r);break;case"select":t=r.value,t!=null&&Yf(e,!!r.multiple,t,!1)}};ZB=XM;KB=Wd;var Moe={usingClientEntryPoint:!1,Events:[d1,If,u_,HB,JB,XM]},am={findFiberByHostInstance:gd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Coe={bundleType:am.bundleType,version:am.version,rendererPackageName:am.rendererPackageName,rendererConfig:am.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ml.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=XB(e),e===null?null:e.stateNode},findFiberByHostInstance:am.findFiberByHostInstance||Poe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lb.isDisabled&&lb.supportsFiber)try{o_=lb.inject(Coe),aa=lb}catch{}}Hi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Moe;Hi.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sC(t))throw Error(se(200));return Aoe(e,t,null,r)};Hi.createRoot=function(e,t){if(!sC(e))throw Error(se(299));var r=!1,n="",i=Pq;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=nC(e,1,!1,null,null,r,!1,n,i),e[$l]=t.current,Sg(e.nodeType===8?e.parentNode:e),new oC(t)};Hi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(se(188)):(e=Object.keys(e).join(","),Error(se(268,e)));return e=XB(t),e=e===null?null:e.stateNode,e};Hi.flushSync=function(e){return Wd(e)};Hi.hydrate=function(e,t,r){if(!v_(t))throw Error(se(200));return b_(null,e,t,!0,r)};Hi.hydrateRoot=function(e,t,r){if(!sC(e))throw Error(se(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",s=Pq;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=Aq(t,null,e,1,r??null,i,!1,o,s),e[$l]=t.current,Sg(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new g_(t)};Hi.render=function(e,t,r){if(!v_(t))throw Error(se(200));return b_(null,e,t,!1,r)};Hi.unmountComponentAtNode=function(e){if(!v_(e))throw Error(se(40));return e._reactRootContainer?(Wd(function(){b_(null,null,e,!1,function(){e._reactRootContainer=null,e[$l]=null})}),!0):!1};Hi.unstable_batchedUpdates=XM;Hi.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!v_(r))throw Error(se(200));if(e==null||e._reactInternals===void 0)throw Error(se(38));return b_(e,t,r,!1,n)};Hi.version="18.3.1-next-f1338f8080-20240426";function Nq(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nq)}catch(e){console.error(e)}}Nq(),NB.exports=Hi;var koe=NB.exports,IL=koe;xE.createRoot=IL.createRoot,xE.hydrateRoot=IL.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pg(){return Pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pg.apply(this,arguments)}var Iu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Iu||(Iu={}));const AL="popstate";function Roe(e){e===void 0&&(e={});function t(n,i){let{pathname:o,search:s,hash:a}=n.location;return hj("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Cq(i)}return Doe(t,r,null,e)}function $r(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Mq(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Loe(){return Math.random().toString(36).substr(2,8)}function PL(e,t){return{usr:e.state,key:e.key,idx:t}}function hj(e,t,r,n){return r===void 0&&(r=null),Pg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?xy(t):t,{state:r,key:t&&t.key||n||Loe()})}function Cq(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function xy(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Doe(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,s=i.history,a=Iu.Pop,l=null,c=p();c==null&&(c=0,s.replaceState(Pg({},s.state,{idx:c}),""));function p(){return(s.state||{idx:null}).idx}function h(){a=Iu.Pop;let w=p(),x=w==null?null:w-c;c=w,l&&l({action:a,location:b.location,delta:x})}function y(w,x){a=Iu.Push;let _=hj(b.location,w,x);r&&r(_,w),c=p()+1;let S=PL(_,c),O=b.createHref(_);try{s.pushState(S,"",O)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(O)}o&&l&&l({action:a,location:b.location,delta:1})}function m(w,x){a=Iu.Replace;let _=hj(b.location,w,x);r&&r(_,w),c=p();let S=PL(_,c),O=b.createHref(_);s.replaceState(S,"",O),o&&l&&l({action:a,location:b.location,delta:0})}function g(w){let x=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof w=="string"?w:Cq(w);return _=_.replace(/ $/,"%20"),$r(x,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,x)}let b={get action(){return a},get location(){return e(i,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(AL,h),l=w,()=>{i.removeEventListener(AL,h),l=null}},createHref(w){return t(i,w)},createURL:g,encodeLocation(w){let x=g(w);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:y,replace:m,go(w){return s.go(w)}};return b}var NL;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(NL||(NL={}));function Foe(e,t,r){return r===void 0&&(r="/"),Uoe(e,t,r,!1)}function Uoe(e,t,r,n){let i=typeof t=="string"?xy(t):t,o=Lq(i.pathname||"/",r);if(o==null)return null;let s=kq(e);zoe(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=Qoe(o);a=Koe(s[l],c,n)}return a}function kq(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&($r(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Md([n,l.relativePath]),p=r.concat(l);o.children&&o.children.length>0&&($r(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),kq(o.children,t,p,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:Joe(c,o.index),routesMeta:p})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of Rq(o.path))i(o,s,l)}),t}function Rq(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let s=Rq(n.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function zoe(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Zoe(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Boe=/^:[\w-]+$/,Voe=3,qoe=2,Goe=1,Woe=10,Hoe=-2,ML=e=>e==="*";function Joe(e,t){let r=e.split("/"),n=r.length;return r.some(ML)&&(n+=Hoe),t&&(n+=qoe),r.filter(i=>!ML(i)).reduce((i,o)=>i+(Boe.test(o)?Voe:o===""?Goe:Woe),n)}function Zoe(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Koe(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,i={},o="/",s=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,p=o==="/"?t:t.slice(o.length)||"/",h=CL({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},p),y=l.route;if(!h&&c&&r&&!n[n.length-1].route.index&&(h=CL({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},p)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:Md([o,h.pathname]),pathnameBase:rse(Md([o,h.pathnameBase])),route:y}),h.pathnameBase!=="/"&&(o=Md([o,h.pathnameBase]))}return s}function CL(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Yoe(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((c,p,h)=>{let{paramName:y,isOptional:m}=p;if(y==="*"){let b=a[h]||"";s=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const g=a[h];return m&&!g?c[y]=void 0:c[y]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:e}}function Yoe(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Mq(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function Qoe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Mq(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Lq(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Xoe(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?xy(e):e;return{pathname:r?r.startsWith("/")?r:ese(r,t):t,search:nse(n),hash:ise(i)}}function ese(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function zT(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tse(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Dq(e,t){let r=tse(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Fq(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=xy(e):(i=Pg({},e),$r(!i.pathname||!i.pathname.includes("?"),zT("?","pathname","search",i)),$r(!i.pathname||!i.pathname.includes("#"),zT("#","pathname","hash",i)),$r(!i.search||!i.search.includes("#"),zT("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=r;else{let h=t.length-1;if(!n&&s.startsWith("..")){let y=s.split("/");for(;y[0]==="..";)y.shift(),h-=1;i.pathname=y.join("/")}a=h>=0?t[h]:"/"}let l=Xoe(i,a),c=s&&s!=="/"&&s.endsWith("/"),p=(o||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||p)&&(l.pathname+="/"),l}const Md=e=>e.join("/").replace(/\/\/+/g,"/"),rse=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nse=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ise=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ose(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Uq=["post","put","patch","delete"];new Set(Uq);const sse=["get",...Uq];new Set(sse);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ng.apply(this,arguments)}const aC=M.createContext(null),ase=M.createContext(null),f1=M.createContext(null),w_=M.createContext(null),hp=M.createContext({outlet:null,matches:[],isDataRoute:!1}),zq=M.createContext(null);function h1(){return M.useContext(w_)!=null}function x_(){return h1()||$r(!1),M.useContext(w_).location}function Bq(e){M.useContext(f1).static||M.useLayoutEffect(e)}function Vq(){let{isDataRoute:e}=M.useContext(hp);return e?wse():lse()}function lse(){h1()||$r(!1);let e=M.useContext(aC),{basename:t,future:r,navigator:n}=M.useContext(f1),{matches:i}=M.useContext(hp),{pathname:o}=x_(),s=JSON.stringify(Dq(i,r.v7_relativeSplatPath)),a=M.useRef(!1);return Bq(()=>{a.current=!0}),M.useCallback(function(c,p){if(p===void 0&&(p={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let h=Fq(c,JSON.parse(s),o,p.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Md([t,h.pathname])),(p.replace?n.replace:n.push)(h,p.state,p)},[t,n,s,o,e])}function use(e,t){return cse(e,t)}function cse(e,t,r,n){h1()||$r(!1);let{navigator:i}=M.useContext(f1),{matches:o}=M.useContext(hp),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=x_(),p;if(t){var h;let w=typeof t=="string"?xy(t):t;l==="/"||(h=w.pathname)!=null&&h.startsWith(l)||$r(!1),p=w}else p=c;let y=p.pathname||"/",m=y;if(l!=="/"){let w=l.replace(/^\//,"").split("/");m="/"+y.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=Foe(e,{pathname:m}),b=yse(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Md([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Md([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,r,n);return t&&b?M.createElement(w_.Provider,{value:{location:Ng({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Iu.Pop}},b):b}function dse(){let e=bse(),t=ose(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),r?M.createElement("pre",{style:i},r):null,o)}const pse=M.createElement(dse,null);class fse extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?M.createElement(hp.Provider,{value:this.props.routeContext},M.createElement(zq.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hse(e){let{routeContext:t,match:r,children:n}=e,i=M.useContext(aC);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),M.createElement(hp.Provider,{value:t},n)}function yse(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,a=(i=r)==null?void 0:i.errors;if(a!=null){let p=s.findIndex(h=>h.route.id&&a?.[h.route.id]!==void 0);p>=0||$r(!1),s=s.slice(0,Math.min(s.length,p+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<s.length;p++){let h=s[p];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=p),h.route.id){let{loaderData:y,errors:m}=r,g=h.route.loader&&y[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((p,h,y)=>{let m,g=!1,b=null,w=null;r&&(m=a&&h.route.id?a[h.route.id]:void 0,b=h.route.errorElement||pse,l&&(c<0&&y===0?(xse("route-fallback",!1),g=!0,w=null):c===y&&(g=!0,w=h.route.hydrateFallbackElement||null)));let x=t.concat(s.slice(0,y+1)),_=()=>{let S;return m?S=b:g?S=w:h.route.Component?S=M.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=p,M.createElement(hse,{match:h,routeContext:{outlet:p,matches:x,isDataRoute:r!=null},children:S})};return r&&(h.route.ErrorBoundary||h.route.errorElement||y===0)?M.createElement(fse,{location:r.location,revalidation:r.revalidation,component:b,error:m,children:_(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):_()},null)}var qq=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(qq||{}),uS=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(uS||{});function mse(e){let t=M.useContext(aC);return t||$r(!1),t}function gse(e){let t=M.useContext(ase);return t||$r(!1),t}function vse(e){let t=M.useContext(hp);return t||$r(!1),t}function Gq(e){let t=vse(),r=t.matches[t.matches.length-1];return r.route.id||$r(!1),r.route.id}function bse(){var e;let t=M.useContext(zq),r=gse(uS.UseRouteError),n=Gq(uS.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function wse(){let{router:e}=mse(qq.UseNavigateStable),t=Gq(uS.UseNavigateStable),r=M.useRef(!1);return Bq(()=>{r.current=!0}),M.useCallback(function(i,o){o===void 0&&(o={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ng({fromRouteId:t},o)))},[e,t])}const kL={};function xse(e,t,r){!t&&!kL[e]&&(kL[e]=!0)}function Sse(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function _se(e){let{to:t,replace:r,state:n,relative:i}=e;h1()||$r(!1);let{future:o,static:s}=M.useContext(f1),{matches:a}=M.useContext(hp),{pathname:l}=x_(),c=Vq(),p=Fq(t,Dq(a,o.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(p);return M.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:i}),[c,h,i,r,n]),null}function Kl(e){$r(!1)}function $se(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Iu.Pop,navigator:o,static:s=!1,future:a}=e;h1()&&$r(!1);let l=t.replace(/^\/*/,"/"),c=M.useMemo(()=>({basename:l,navigator:o,static:s,future:Ng({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof n=="string"&&(n=xy(n));let{pathname:p="/",search:h="",hash:y="",state:m=null,key:g="default"}=n,b=M.useMemo(()=>{let w=Lq(p,l);return w==null?null:{location:{pathname:w,search:h,hash:y,state:m,key:g},navigationType:i}},[l,p,h,y,m,g,i]);return b==null?null:M.createElement(f1.Provider,{value:c},M.createElement(w_.Provider,{children:r,value:b}))}function Tse(e){let{children:t,location:r}=e;return use(yj(t),r)}new Promise(()=>{});function yj(e,t){t===void 0&&(t=[]);let r=[];return M.Children.forEach(e,(n,i)=>{if(!M.isValidElement(n))return;let o=[...t,i];if(n.type===M.Fragment){r.push.apply(r,yj(n.props.children,o));return}n.type!==Kl&&$r(!1),!n.props.index||!n.props.children||$r(!1);let s={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=yj(n.props.children,o)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Ose="6";try{window.__reactRouterVersion=Ose}catch{}const Ese="startTransition",RL=$ne[Ese];function jse(e){let{basename:t,children:r,future:n,window:i}=e,o=M.useRef();o.current==null&&(o.current=Roe({window:i,v5Compat:!0}));let s=o.current,[a,l]=M.useState({action:s.action,location:s.location}),{v7_startTransition:c}=n||{},p=M.useCallback(h=>{c&&RL?RL(()=>l(h)):l(h)},[l,c]);return M.useLayoutEffect(()=>s.listen(p),[s,p]),M.useEffect(()=>Sse(n),[n]),M.createElement($se,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:s,future:n})}var LL;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(LL||(LL={}));var DL;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(DL||(DL={}));const Wq=M.createContext(void 0);function Ise({children:e}){const[t,r]=M.useState(null),[n,i]=M.useState(null),[o,s]=M.useState(null),[a,l]=M.useState(!0);M.useEffect(()=>{console.log("🔐 Initializing auth (demo mode)...");const y=localStorage.getItem("miningUser");if(y)try{const m=JSON.parse(y);r(m),console.log("✅ Restored user from localStorage:",m.username)}catch(m){console.error("Error parsing stored user:",m)}else{const m={id:"demo-user-1",username:"demo_admin",email:"admin@epa.gov.gh",role:"admin",firstName:"Demo",lastName:"Administrator"};r(m),localStorage.setItem("miningUser",JSON.stringify(m)),console.log("✅ Created demo user:",m.username)}l(!1)},[]);const c=async(y,m)=>{try{console.log("🔓 Demo login for:",y);const g={id:`demo-${Date.now()}`,username:y.split("@")[0],email:y,role:y.includes("admin")?"admin":"staff",firstName:"Demo",lastName:"User"};return r(g),localStorage.setItem("miningUser",JSON.stringify(g)),{success:!0}}catch(g){return{success:!1,error:g instanceof Error?g.message:"Login failed"}}},p=async(y,m,g)=>{try{console.log("📝 Demo signup for:",y);const[b,w]=g.split(" "),x={id:`demo-${Date.now()}`,username:y.split("@")[0],email:y,role:"staff",firstName:b||"User",lastName:w||""};return r(x),localStorage.setItem("miningUser",JSON.stringify(x)),{success:!0}}catch(b){return{success:!1,error:b instanceof Error?b.message:"Signup failed"}}},h=async()=>{r(null),i(null),s(null),localStorage.removeItem("miningUser"),console.log("👋 User logged out")};return v.jsx(Wq.Provider,{value:{user:t,supabaseUser:n,session:o,login:c,signUp:p,logout:h,loading:a},children:e})}function S_(){const e=M.useContext(Wq);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}var Ase={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Pse=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Nse=(e,t)=>{const r=M.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,children:a,...l},c)=>M.createElement("svg",{ref:c,...Ase,width:i,height:i,stroke:n,strokeWidth:s?Number(o)*24/Number(i):o,className:`lucide lucide-${Pse(e)}`,...l},[...t.map(([p,h])=>M.createElement(p,h)),...(Array.isArray(a)?a:[a])||[]]));return r.displayName=`${e}`,r};var St=Nse;const Mse=St("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Mg=St("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),cS=St("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Cse=St("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),kse=St("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),lC=St("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Rse=St("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Lse=St("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Dse=St("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Fse=St("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),__=St("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Use=St("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ui=St("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),mj=St("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),gj=St("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),zse=St("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Hq=St("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),dS=St("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Bse=St("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),Jq=St("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),Vse=St("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),vj=St("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),qse=St("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Zq=St("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]),$_=St("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Kq=St("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Gse=St("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);function Wse({onBackToLogin:e}){const[t,r]=M.useState(""),[n,i]=M.useState(""),[o,s]=M.useState(""),[a,l]=M.useState(""),[c,p]=M.useState(""),[h,y]=M.useState(""),[m,g]=M.useState(!1),{signUp:b}=S_(),w=async x=>{if(x.preventDefault(),g(!0),p(""),y(""),n!==o){p("Passwords do not match"),g(!1);return}if(n.length<6){p("Password must be at least 6 characters"),g(!1);return}const _=await b(t,n,a);_.success?y("Registration successful! Please check your email to verify your account."):p(_.error||"Registration failed"),g(!1)};return v.jsxs("div",{className:"min-h-screen flex",children:[v.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:'url("/images/mining-operation.svg")'},children:v.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40"})}),v.jsxs("div",{className:"relative z-10 flex flex-col justify-end p-12 text-white",children:[v.jsxs("div",{className:"mb-8",children:[v.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Join EPA Mining Oversight"}),v.jsx("p",{className:"text-xl opacity-90 mb-4",children:"Register for Mining Concessions Management System"}),v.jsx("p",{className:"text-lg opacity-80",children:"Get access to Ghana's comprehensive mining oversight platform"})]}),v.jsx("div",{className:"border-t border-white/20 pt-6",children:v.jsx("p",{className:"text-sm opacity-70",children:"Environmental protection • Compliance monitoring • Resource management"})})]})]}),v.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-4 bg-gradient-to-br from-epa-orange-50 to-epa-green-50",children:v.jsxs("div",{className:"max-w-md w-full space-y-8",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"mx-auto h-20 w-20 mb-4",children:v.jsx("img",{src:"/epa-logo.png",alt:"EPA Logo",className:"h-full w-full"})}),v.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Create Account"}),v.jsx("p",{className:"mt-2 text-gray-600",children:"Environmental Protection Authority"}),v.jsx("p",{className:"text-gray-600",children:"Mining Concession Management System"})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[v.jsxs("form",{className:"space-y-6",onSubmit:w,children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),v.jsxs("div",{className:"mt-1 relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx(Kq,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{id:"fullName",name:"fullName",type:"text",required:!0,value:a,onChange:x=>l(x.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-epa-orange-500 focus:border-epa-orange-500",placeholder:"Enter your full name"})]})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),v.jsxs("div",{className:"mt-1 relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx(Hq,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:t,onChange:x=>r(x.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-epa-orange-500 focus:border-epa-orange-500",placeholder:"Enter your email"})]})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),v.jsxs("div",{className:"mt-1 relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx(gj,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:n,onChange:x=>i(x.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-epa-orange-500 focus:border-epa-orange-500",placeholder:"Create a password",minLength:6})]})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),v.jsxs("div",{className:"mt-1 relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx(gj,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:o,onChange:x=>s(x.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-epa-orange-500 focus:border-epa-orange-500",placeholder:"Confirm your password",minLength:6})]})]}),c&&v.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md text-sm",children:c}),h&&v.jsx("div",{className:"bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-md text-sm",children:h}),v.jsx("button",{type:"submit",disabled:m,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-epa-orange-600 hover:bg-epa-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-epa-orange-500 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Creating Account...":"Create Account"})]}),v.jsx("div",{className:"mt-6 border-t border-gray-200 pt-6",children:v.jsx("div",{className:"text-center",children:v.jsx("button",{onClick:e,className:"text-sm text-epa-orange-600 hover:text-epa-orange-700 font-medium",children:"Already have an account? Sign in"})})})]})]})})]})}function Hse(){const[e,t]=M.useState(""),[r,n]=M.useState(""),[i,o]=M.useState(""),[s,a]=M.useState(!1),[l,c]=M.useState(!1),{login:p}=S_(),h=async y=>{y.preventDefault(),a(!0),o("");const m=await p(e,r);m.success||o(m.error||"Login failed"),a(!1)};return l?v.jsx(Wse,{onBackToLogin:()=>c(!1)}):v.jsxs("div",{className:"min-h-screen flex",children:[v.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:'url("/images/mining-operation.svg")'},children:v.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40"})}),v.jsxs("div",{className:"relative z-10 flex flex-col justify-end p-12 text-white",children:[v.jsxs("div",{className:"mb-8",children:[v.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Ghana EPA Mining Concessions"}),v.jsx("p",{className:"text-xl opacity-90 mb-4",children:"Environmental Protection & Mining Operations Management"}),v.jsx("p",{className:"text-lg opacity-80",children:"Comprehensive oversight and regulation of mining activities across Ghana"})]}),v.jsx("div",{className:"border-t border-white/20 pt-6",children:v.jsx("p",{className:"text-sm opacity-70",children:"Monitoring environmental compliance • Managing permits • Protecting Ghana's resources"})})]})]}),v.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-4 bg-gradient-to-br from-epa-orange-50 to-epa-green-50",children:v.jsxs("div",{className:"max-w-md w-full space-y-8",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"mx-auto h-20 w-20 mb-4",children:v.jsx("img",{src:"/epa-logo.png",alt:"EPA Logo",className:"h-full w-full"})}),v.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Welcome Back"}),v.jsx("p",{className:"mt-2 text-gray-600",children:"Environmental Protection Authority"}),v.jsx("p",{className:"text-gray-600",children:"Mining Concession Management System"})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[v.jsxs("form",{className:"space-y-6",onSubmit:h,children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),v.jsxs("div",{className:"mt-1 relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx(Hq,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e,onChange:y=>t(y.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-epa-orange-500 focus:border-epa-orange-500",placeholder:"Enter your email"})]})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),v.jsxs("div",{className:"mt-1 relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx(gj,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:r,onChange:y=>n(y.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-epa-orange-500 focus:border-epa-orange-500",placeholder:"Enter password"})]})]}),i&&v.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md text-sm",children:i}),v.jsx("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-epa-orange-600 hover:bg-epa-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-epa-orange-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Signing in...":"Sign in"})]}),v.jsx("div",{className:"mt-6 border-t border-gray-200 pt-6",children:v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Don't have an account?"}),v.jsx("button",{onClick:()=>c(!0),className:"w-full bg-white border border-epa-orange-600 text-epa-orange-600 hover:bg-epa-orange-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-epa-orange-500 font-medium py-2 px-4 rounded-md transition duration-150 ease-in-out",children:"Create New Account"}),v.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Contact your EPA administrator for access approval"})]})})]})]})})]})}function Jse(){const{user:e,logout:t}=S_();return v.jsx("nav",{className:"bg-white shadow-sm border-b-2 border-epa-orange-500",children:v.jsx("div",{className:"px-6 py-4",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("img",{src:"/epa-logo.png",alt:"EPA Logo",className:"h-10 w-10"}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"EPA Mining Concessions"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Environmental Protection Agency"})]})]}),v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsxs("button",{className:"relative p-2 text-gray-400 hover:text-gray-600 transition-colors",children:[v.jsx(kse,{className:"h-5 w-5"}),v.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 bg-red-500 rounded-full"})]}),v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Kq,{className:"h-5 w-5 text-gray-400"}),v.jsxs("div",{className:"text-sm",children:[v.jsxs("p",{className:"font-medium text-gray-900",children:[e?.firstName," ",e?.lastName]}),v.jsx("p",{className:"text-gray-500 capitalize",children:e?.role})]})]}),v.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Logout",children:v.jsx(zse,{className:"h-5 w-5"})})]})]})]})})})}const Zse=[{icon:Bse,label:"Map View",path:"/map-view"},{icon:Zq,label:"Concessions",path:"/concessions"},{icon:mj,label:"Filters",path:"/filters"},{icon:cS,label:"Analytics",path:"/analytics"},{icon:ui,label:"Reports",path:"/reports"},{icon:qse,label:"Admin",path:"/admin"}];function Kse(){const[e,t]=M.useState(!1),r=Vq(),n=x_(),i=o=>{r(o)};return v.jsx("div",{className:`bg-white shadow-sm border-r border-gray-200 transition-all duration-300 ${e?"w-16":"w-64"}`,children:v.jsxs("div",{className:"h-full flex flex-col",children:[v.jsx("div",{className:"p-4 border-b border-gray-200",children:v.jsx("button",{onClick:()=>t(!e),className:"w-full flex items-center justify-end text-gray-500 hover:text-gray-700",children:e?v.jsx(Dse,{className:"h-5 w-5"}):v.jsx(Lse,{className:"h-5 w-5"})})}),v.jsx("nav",{className:"flex-1 p-4 space-y-2",children:Zse.map(o=>{const s=o.icon,a=n.pathname===o.path;return v.jsxs("button",{onClick:()=>i(o.path),className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left transition-colors ${a?"bg-epa-orange-50 text-epa-orange-700 border border-epa-orange-200":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[v.jsx(s,{className:"h-5 w-5 flex-shrink-0"}),!e&&v.jsx("span",{className:"font-medium",children:o.label})]},o.path)})})]})})}const Yse=({className:e="",selectedConcessions:t=[],onZoomToSelected:r,onDataLoaded:n})=>{const i=M.useRef(null),o=M.useRef(null),[s,a]=M.useState("loading"),[l,c]=M.useState(""),p=M.useRef(!1),h=M.useRef(null),y=M.useRef(null),m=M.useRef(null),g=M.useRef(null),b=M.useRef(null),w=M.useRef(null),x=M.useRef(null),_=M.useRef(null);return M.useEffect(()=>{if(p.current)return;p.current=!0;let S=!0,O=0;const $=50,T=()=>{if(console.log("🔍 Checking ArcGIS and DOM readiness..."),console.log("window.require:",typeof window.require),console.log("mapRef.current:",!!i.current),console.log("DOM element:",i.current),!S){console.log("❌ Component unmounted, stopping initialization");return}if(!window.require){console.log("❌ ArcGIS require not found, waiting..."),O<$?(O++,setTimeout(T,100)):(a("error"),c("ArcGIS API failed to load after 5 seconds"));return}if(!i.current){console.log("❌ mapRef not ready, waiting..."),O<$?(O++,setTimeout(T,100)):(a("error"),c("DOM element not ready after 5 seconds"));return}console.log("✅ Both ArcGIS and DOM are ready! Initializing map..."),j()},j=()=>{const C=window.require;try{C(["esri/Map","esri/views/MapView"],(F,G)=>{if(console.log("✅ ArcGIS modules loaded successfully"),!S||!i.current){console.log("❌ Component unmounted or mapRef missing during initialization");return}try{console.log("🗺️ Creating map...");const B=new F({basemap:"topo-vector"});console.log("📱 Creating map view with container:",i.current);const W=new G({container:i.current,map:B,center:[-1,7.9],zoom:7});o.current=W,console.log("⏳ Waiting for view to be ready..."),W.when(()=>{if(console.log("🎉 SUCCESS! Map view is ready!"),S){a("loaded"),console.log("🎯 Initializing widgets before adding layers..."),k(W),setTimeout(()=>{A(B,W)},500);try{N(W)}catch(K){console.warn("⚠️ Popup configuration failed, but continuing:",K)}}}).catch(K=>{console.error("❌ View.when() failed:",K),S&&(a("error"),c(`Map view error: ${K.message}`))})}catch(B){console.error("❌ Error creating map/view:",B),S&&(a("error"),c(`Map creation error: ${B instanceof Error?B.message:"Unknown error"}`))}},F=>{console.error("❌ Failed to load ArcGIS modules:",F),S&&(a("error"),c(`Module load error: ${F.message}`))})}catch(F){console.error("❌ Error in require call:",F),S&&(a("error"),c(`Require error: ${F instanceof Error?F.message:"Unknown error"}`))}},A=(C,F)=>{const G=window.require;G(["esri/layers/FeatureLayer"],B=>{console.log("🏭 Adding mining concessions layer...");const W=new B({url:"https://services6.arcgis.com/Av3KhOzUMUMSORVt/arcgis/rest/services/Mining_Concessions/FeatureServer/0",title:"Mining Concessions",outFields:["*"],renderer:{type:"simple",symbol:{type:"simple-fill",color:[255,165,0,.4],outline:{color:[255,140,0,1],width:2}}},popupTemplate:{title:"{Name}",content:[{type:"fields",fieldInfos:[{fieldName:"PermitNumber",label:"Permit Number",visible:!0},{fieldName:"ContactPerson",label:"Contact Person",visible:!0},{fieldName:"LicenseStatus",label:"Status",visible:!0},{fieldName:"LicenseType",label:"License Type",visible:!0},{fieldName:"Size",label:"Size",visible:!0},{fieldName:"Town",label:"Town",visible:!0},{fieldName:"District",label:"District",visible:!0},{fieldName:"Region",label:"Region",visible:!0}]}],actions:[{title:"Print Concession Details",id:"print-concession",className:"esri-icon-printer"}]},labelingInfo:[{labelExpressionInfo:{expression:"$feature.Name"},symbol:{type:"text",color:"black",backgroundColor:[255,255,255,.8],borderLineColor:"black",borderLineSize:1,font:{family:"Arial",size:10,weight:"bold"},haloColor:"white",haloSize:1},minScale:5e5,maxScale:0}]});C.add(W),x.current=W,console.log("✅ Mining concessions layer added successfully"),W.when(()=>{if(console.log("🏭 Mining layer loaded successfully"),console.log("📊 Layer extent:",W.fullExtent),console.log("🏷️ Layer fields:",W.fields.map(K=>K.name)),b.current){console.log("🔍 Adding mining layer to search widget...");const K=window.require;K(["esri/widgets/Search"],ee=>{const V={layer:W,searchFields:["Name","ContactPerson","Town","District","Region"],displayField:"Name",exactMatch:!1,outFields:["*"],name:"Mining Concessions",placeholder:"Search mining concessions...",maxResults:6,maxSuggestions:6,suggestionsEnabled:!0,minSuggestCharacters:2};b.current.sources.add(V),console.log("✅ Mining concessions added to search widget")})}}).catch(K=>{console.error("❌ Error loading mining layer:",K)})})},N=C=>{try{console.log("� Configuring basic map events..."),C.on("click",F=>{console.log("🖱️ Map clicked at:",F.mapPoint),C.hitTest(F).then(G=>{if(console.log("🎯 Hit test results:",G.results),G.results.length>0){const B=G.results[0].graphic;console.log("📋 Feature clicked:",B.attributes)}})}),console.log("✅ Basic map events configured successfully")}catch(F){console.error("❌ Error configuring events:",F)}},k=C=>{console.log("🔧 Setting up simplified map controls...");const F=window.require;F(["esri/widgets/Zoom"],G=>{try{const B=new G({view:C});C.ui.add(B,"top-right"),B.domNode.style.display="none",console.log("✅ Basic zoom widget added (hidden)")}catch(B){console.error("❌ Error adding zoom widget:",B)}}),console.log("✅ Simplified map controls initialized")};return setTimeout(T,300),()=>{if(console.log("🧹 Cleaning up map..."),S=!1,o.current)try{o.current.destroy(),o.current=null}catch(C){console.error("Error destroying map view:",C)}h.current=null,y.current=null,m.current=null,g.current=null,b.current=null,w.current=null,x.current=null,_.current=null}},[]),M.useEffect(()=>{if(!o.current||!t.length)return;setTimeout(()=>{const O=window.require;O&&O(["esri/rest/support/Query"],$=>{const T=o.current.map.layers.find(A=>A.url?.includes("Mining_Concessions"));if(!T)return;const j=new $({where:t.map(A=>`ConcessionID = '${A.id}'`).join(" OR "),returnGeometry:!0});T.queryFeatures(j).then(A=>{A.features.length>0&&O(["esri/geometry/geometryEngine"],N=>{const k=N.union(A.features.map(C=>C.geometry)).extent;o.current.goTo(k.expand(1.2)),r&&setTimeout(()=>r(),2e3)})}).catch(A=>{console.error("Error querying features:",A)})})},1e3)},[t,r]),v.jsxs("div",{className:`relative h-full ${e}`,children:[v.jsx("div",{ref:i,className:"w-full h-full"}),s==="loaded"&&v.jsxs("div",{className:"absolute top-2 left-2 z-50 flex flex-col space-y-1",children:[v.jsx("div",{className:"bg-white rounded shadow-md border border-gray-200 p-1",children:v.jsx("input",{type:"text",placeholder:"🔍 Search concessions...",className:"w-48 px-2 py-1 border-0 rounded text-xs focus:outline-none focus:ring-1 focus:ring-blue-400",onKeyPress:S=>{if(S.key==="Enter"){const O=S.target.value;if(O&&x.current){console.log("🔍 Searching for:",O);const $=window.require;$(["esri/rest/support/Query"],T=>{const j=new T({where:`Name LIKE '%${O}%' OR ContactPerson LIKE '%${O}%' OR Town LIKE '%${O}%' OR District LIKE '%${O}%' OR Region LIKE '%${O}%'`,returnGeometry:!0,outFields:["*"]});x.current.queryFeatures(j).then(A=>{A.features.length>0?(o.current.goTo(A.features[0].geometry.extent.expand(2)),o.current.popup.open({features:[A.features[0]],location:A.features[0].geometry.centroid}),alert(`Found ${A.features.length} matching concessions. Zoomed to first result.`)):alert("No matching concessions found.")}).catch(A=>{console.error("Search error:",A),alert("Search failed. Please try again.")})})}}}})}),v.jsx("button",{onClick:()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(S=>{const{latitude:O,longitude:$}=S.coords;o.current&&(o.current.center=[$,O],o.current.zoom=12,console.log("📍 Located user at:",O,$),alert("Found your location!"))},S=>{console.error("Geolocation error:",S),alert("Could not get your location. Please enable location services.")}):alert("Geolocation not supported by this browser.")},className:"bg-white hover:bg-gray-100 border border-gray-300 rounded shadow-md px-2 py-1 text-gray-700 text-xs font-medium flex items-center justify-center",title:"Find My Location",children:"📍"})]}),s==="loaded"&&v.jsxs("div",{className:"absolute top-2 right-2 z-50 flex flex-col space-y-1",children:[v.jsxs("div",{className:"bg-white rounded shadow-md border border-gray-200 flex flex-col",children:[v.jsx("button",{onClick:()=>{o.current&&(o.current.zoom=o.current.zoom+1)},className:"hover:bg-gray-100 rounded-t px-2 py-1 text-gray-700 text-sm font-bold border-b border-gray-200",title:"Zoom In",children:"+"}),v.jsx("button",{onClick:()=>{o.current&&(o.current.zoom=o.current.zoom-1)},className:"hover:bg-gray-100 rounded-b px-2 py-1 text-gray-700 text-sm font-bold",title:"Zoom Out",children:"−"})]}),v.jsx("button",{onClick:()=>{if(o.current&&o.current.map){const O=o.current.map.basemap.id==="topo-vector"?"satellite":"topo-vector";o.current.map.basemap=O,console.log("🗺️ Switched basemap to:",O)}},className:"bg-white hover:bg-gray-100 border border-gray-300 rounded shadow-md px-2 py-1 text-gray-700 text-xs",title:"Toggle Basemap",children:"🗺️"}),v.jsx("button",{onClick:()=>{if(x.current){const S=x.current.labelsVisible;x.current.labelsVisible=!S,console.log("🏷️ Labels:",S?"OFF":"ON"),alert(`Labels turned ${S?"OFF":"ON"}`)}},className:"bg-white hover:bg-gray-100 border border-gray-300 rounded shadow-md px-2 py-1 text-gray-700 text-xs",title:"Toggle Labels",children:"🏷️"}),v.jsx("button",{onClick:()=>{o.current&&(console.log("🖨️ Initiating print..."),o.current.takeScreenshot({format:"png",quality:90,width:1200,height:800}).then(S=>{const O=window.open("","_blank");O&&(O.document.write(`
                      <html>
                        <head>
                          <title>Ghana Mining Concessions Map</title>
                          <style>
                            body { margin: 0; text-align: center; }
                            img { max-width: 100%; height: auto; }
                            h1 { font-family: Arial, sans-serif; color: #333; }
                            @media print { body { margin: 0; } }
                          </style>
                        </head>
                        <body>
                          <h1>Ghana Mining Concessions Map</h1>
                          <p>Environmental Protection Agency - ${new Date().toLocaleDateString()}</p>
                          <img src="${S.dataUrl}" alt="Mining Concessions Map">
                          <script>window.onload = () => window.print();<\/script>
                        </body>
                      </html>
                    `),O.document.close())}).catch(S=>{console.error("Screenshot error:",S),alert("Print feature temporarily unavailable.")}))},className:"bg-white hover:bg-gray-100 border border-gray-300 rounded shadow-md px-2 py-1 text-gray-700 text-xs",title:"Print Map",children:"🖨️"})]}),s==="loaded"&&v.jsx("div",{className:"absolute bottom-2 left-2 z-50 bg-green-600 text-white rounded px-2 py-1 text-xs font-medium shadow-md",children:"✅ Live Data"}),s==="loading"&&v.jsx("div",{className:"absolute inset-0 bg-gray-100 flex items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),v.jsx("p",{className:"text-gray-600",children:"Loading map..."})]})}),s==="error"&&v.jsx("div",{className:"absolute inset-0 bg-red-50 flex items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-red-600 mb-2",children:"Error loading map"}),v.jsx("p",{className:"text-red-500 text-sm",children:l})]})})]})};function Qse({dataService:e,concessions:t}){const[r,n]=M.useState(null),[i,o]=M.useState(!1);M.useEffect(()=>{e&&t.length>0&&s()},[e,t]);const s=async()=>{if(e){o(!0);try{const a=await e.getDashboardStats();n(a)}catch(a){console.error("Failed to load analytics:",a)}finally{o(!1)}}};return i?v.jsx("div",{className:"flex items-center justify-center h-48",children:v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-epa-orange-500"})}):r?v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsx("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-2xl font-bold text-blue-900",children:r.totalConcessions}),v.jsx("div",{className:"text-xs text-blue-700",children:"Total Concessions"})]}),v.jsx(cS,{className:"h-6 w-6 text-blue-600"})]})}),v.jsx("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-2xl font-bold text-green-900",children:r.activePermits}),v.jsx("div",{className:"text-xs text-green-700",children:"Active Permits"})]}),v.jsx($_,{className:"h-6 w-6 text-green-600"})]})}),v.jsx("div",{className:"bg-red-50 p-3 rounded-lg border border-red-200",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-2xl font-bold text-red-900",children:r.expiredPermits}),v.jsx("div",{className:"text-xs text-red-700",children:"Expired Permits"})]}),v.jsx(Mg,{className:"h-6 w-6 text-red-600"})]})}),v.jsx("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:r.soonToExpire}),v.jsx("div",{className:"text-xs text-yellow-700",children:"Expiring Soon"})]}),v.jsx(Mg,{className:"h-6 w-6 text-yellow-600"})]})})]}),v.jsx("div",{className:"bg-purple-50 p-3 rounded-lg border border-purple-200",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"text-xl font-bold text-purple-900",children:[r.totalAreaCovered.toLocaleString()," ha"]}),v.jsx("div",{className:"text-xs text-purple-700",children:"Total Area Covered"})]}),v.jsx(Jq,{className:"h-6 w-6 text-purple-600"})]})}),v.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200",children:[v.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Concessions by Region"}),v.jsx("div",{className:"space-y-2",children:Object.entries(r.concessionsByRegion).sort(([,a],[,l])=>l-a).map(([a,l])=>v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"text-xs text-gray-700",children:a}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("div",{className:"bg-blue-200 h-2 rounded",style:{width:`${l/Math.max(...Object.values(r.concessionsByRegion))*60}px`,minWidth:"8px"}}),v.jsx("span",{className:"text-xs font-medium text-gray-900 w-6 text-right",children:l})]})]},a))})]}),v.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200",children:[v.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Concessions by Type"}),v.jsx("div",{className:"space-y-2",children:Object.entries(r.concessionsByType).map(([a,l])=>v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"text-xs text-gray-700 capitalize",children:a.replace("-"," ")}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("div",{className:"bg-green-200 h-2 rounded",style:{width:`${l/Math.max(...Object.values(r.concessionsByType))*60}px`,minWidth:"8px"}}),v.jsx("span",{className:"text-xs font-medium text-gray-900 w-6 text-right",children:l})]})]},a))})]}),v.jsx("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:v.jsxs("div",{className:"text-xs text-gray-600",children:[v.jsx("div",{className:"font-medium",children:"📊 Real-time Analytics"}),v.jsxs("div",{className:"mt-1",children:["• Data source: EPA Mining Database via ArcGIS • Last updated: ",new Date().toLocaleTimeString(),"• Refresh rate: Every 5 minutes"]})]})})]}):v.jsxs("div",{className:"text-center text-gray-500 py-8",children:[v.jsx(cS,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),v.jsx("p",{children:"Analytics will appear when data is loaded"})]})}function Xse({dataService:e,concessions:t}){const[r,n]=M.useState(!1),[i,o]=M.useState({expiringConcessions:[],regionSummary:{},complianceStatus:{compliant:0,expiring:0,expired:0}});M.useEffect(()=>{e&&t.length>0&&s()},[e,t]);const s=async()=>{n(!0);try{const l=new Date;l.setMonth(l.getMonth()+6);const c=t.filter(g=>new Date(g.permitExpiryDate)<=l&&g.status==="active"),p={};t.forEach(g=>{p[g.region]||(p[g.region]={count:0,totalArea:0}),p[g.region].count+=1,p[g.region].totalArea+=g.size});const h=t.filter(g=>g.status==="active").length,y=t.filter(g=>g.status==="expired").length,m=c.length;o({expiringConcessions:c.slice(0,10),regionSummary:p,complianceStatus:{compliant:h,expiring:m,expired:y}})}catch(l){console.error("Failed to generate report data:",l)}finally{n(!1)}},a=()=>{const l=["ID,Name,Owner,Region,District,Size (ha),Permit Type,Status,Expiry Date",...t.map(y=>`${y.id},"${y.name}","${y.owner}",${y.region},${y.district},${y.size},${y.permitType},${y.status},${y.permitExpiryDate}`)].join(`
`),c=new Blob([l],{type:"text/csv"}),p=window.URL.createObjectURL(c),h=document.createElement("a");h.href=p,h.download=`mining-concessions-report-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(h),h.click(),document.body.removeChild(h),window.URL.revokeObjectURL(p)};return r?v.jsx("div",{className:"flex items-center justify-center h-48",children:v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-epa-orange-500"})}):!e||t.length===0?v.jsxs("div",{className:"text-center text-gray-500 py-8",children:[v.jsx(ui,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),v.jsx("p",{children:"Reports will be generated when data is loaded"})]}):v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex space-x-2",children:[v.jsxs("button",{onClick:a,className:"flex items-center space-x-2 px-3 py-2 bg-epa-orange-600 text-white rounded-md text-sm hover:bg-epa-orange-700 transition-colors",children:[v.jsx(__,{className:"h-4 w-4"}),v.jsx("span",{children:"Export CSV"})]}),v.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 transition-colors",children:[v.jsx(ui,{className:"h-4 w-4"}),v.jsx("span",{children:"Full Report"})]})]}),v.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[v.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[v.jsx($_,{className:"h-4 w-4 mr-2"}),"Compliance Overview"]}),v.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[v.jsxs("div",{className:"text-center p-3 bg-green-50 rounded border border-green-200",children:[v.jsx("div",{className:"text-lg font-bold text-green-900",children:i.complianceStatus.compliant}),v.jsx("div",{className:"text-xs text-green-700",children:"Compliant"})]}),v.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded border border-yellow-200",children:[v.jsx("div",{className:"text-lg font-bold text-yellow-900",children:i.complianceStatus.expiring}),v.jsx("div",{className:"text-xs text-yellow-700",children:"Expiring Soon"})]}),v.jsxs("div",{className:"text-center p-3 bg-red-50 rounded border border-red-200",children:[v.jsx("div",{className:"text-lg font-bold text-red-900",children:i.complianceStatus.expired}),v.jsx("div",{className:"text-xs text-red-700",children:"Expired"})]})]})]}),i.expiringConcessions.length>0&&v.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[v.jsxs("h4",{className:"text-sm font-semibold text-yellow-900 mb-3 flex items-center",children:[v.jsx(Mg,{className:"h-4 w-4 mr-2"}),"Permits Expiring Soon (Next 6 Months)"]}),v.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:i.expiringConcessions.map(l=>v.jsxs("div",{className:"p-2 bg-yellow-100 rounded text-xs",children:[v.jsx("div",{className:"font-medium text-yellow-900",children:l.name}),v.jsx("div",{className:"text-yellow-800",children:l.owner}),v.jsxs("div",{className:"text-yellow-700 flex items-center space-x-4 mt-1",children:[v.jsxs("span",{className:"flex items-center",children:[v.jsx(lC,{className:"h-3 w-3 mr-1"}),"Expires: ",new Date(l.permitExpiryDate).toLocaleDateString()]}),v.jsxs("span",{className:"flex items-center",children:[v.jsx(dS,{className:"h-3 w-3 mr-1"}),l.region]})]})]},l.id))})]}),v.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[v.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[v.jsx(dS,{className:"h-4 w-4 mr-2"}),"Regional Summary"]}),v.jsx("div",{className:"space-y-3",children:Object.entries(i.regionSummary).sort(([,l],[,c])=>c.count-l.count).map(([l,c])=>v.jsx("div",{className:"p-3 bg-gray-50 rounded",children:v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsxs("div",{children:[v.jsx("div",{className:"font-medium text-gray-900",children:l}),v.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[c.count," concessions • ",c.totalArea.toLocaleString()," hectares"]})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("div",{className:"text-sm font-bold text-blue-900",children:c.count}),v.jsx("div",{className:"text-xs text-gray-500",children:"permits"})]})]})},l))})]}),v.jsx("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:v.jsxs("div",{className:"text-xs text-gray-600",children:[v.jsx("div",{className:"font-medium",children:"📋 Report Summary"}),v.jsxs("div",{className:"mt-2 space-y-1",children:[v.jsxs("div",{children:["• Total concessions analyzed: ",t.length]}),v.jsx("div",{children:"• Data source: EPA Mining Database via ArcGIS"}),v.jsxs("div",{children:["• Report generated: ",new Date().toLocaleString()]}),v.jsx("div",{children:"• Coverage: All active mining regions in Ghana"})]})]})})]})}function FL(){const[e,t]=M.useState(!1),[r,n]=M.useState(!1),[i,o]=M.useState(!1),[s,a]=M.useState(!1),[l,c]=M.useState(null),[p,h]=M.useState([]),[y,m]=M.useState([]),[g,b]=M.useState({name:"",owner:"",region:""});M.useEffect(()=>{l&&w()},[l]);const w=async()=>{if(l)try{const S=await l.getMiningConcessions();h(S),m(S)}catch(S){console.error("Failed to load concessions:",S)}},x=async()=>{if(l)try{const S=await l.searchConcessions(g);m(S),console.log(`Found ${S.length} matching concessions`)}catch(S){console.error("Search failed:",S)}},_=S=>{c(S)};return v.jsxs("div",{className:"h-[calc(100vh-120px)] bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 relative",children:[e&&v.jsxs("div",{className:"absolute top-16 left-4 z-10 w-64 bg-white rounded-lg shadow-lg border border-gray-200 p-4",children:[v.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:["Map Layers ",l&&`(${p.length} concessions)`]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("label",{className:"flex items-center space-x-2",children:[v.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300"}),v.jsxs("span",{className:"text-sm text-gray-700",children:["Mining Concessions",l&&v.jsx("span",{className:"text-green-600 text-xs",children:" ✓ Real Data"})]})]}),v.jsxs("label",{className:"flex items-center space-x-2",children:[v.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300"}),v.jsx("span",{className:"text-sm text-gray-700",children:"Administrative Boundaries"})]}),v.jsxs("label",{className:"flex items-center space-x-2",children:[v.jsx("input",{type:"checkbox",className:"rounded border-gray-300"}),v.jsx("span",{className:"text-sm text-gray-700",children:"Protected Areas"})]}),v.jsxs("label",{className:"flex items-center space-x-2",children:[v.jsx("input",{type:"checkbox",className:"rounded border-gray-300"}),v.jsx("span",{className:"text-sm text-gray-700",children:"Water Bodies"})]}),v.jsxs("label",{className:"flex items-center space-x-2",children:[v.jsx("input",{type:"checkbox",className:"rounded border-gray-300"}),v.jsx("span",{className:"text-sm text-gray-700",children:"Road Network"})]})]}),l&&v.jsxs("div",{className:"mt-4 p-3 bg-green-50 rounded border border-green-200",children:[v.jsx("div",{className:"text-xs font-medium text-green-800",children:"Real ArcGIS Data Active"}),v.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["• ",p.length," mining concessions loaded • Data refreshed every 5 minutes • Source: EPA Mining Database"]})]})]}),r&&v.jsxs("div",{className:"absolute top-16 left-4 z-10 w-80 bg-white rounded-lg shadow-lg border border-gray-200 p-4",children:[v.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:["Search Mining Concessions (",y.length," found)"]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Concession Name"}),v.jsx("input",{type:"text",placeholder:"Search by name...",value:g.name,onChange:S=>b({...g,name:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-epa-orange-500 focus:border-epa-orange-500"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Owner/Company"}),v.jsx("input",{type:"text",placeholder:"Search by owner...",value:g.owner,onChange:S=>b({...g,owner:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-epa-orange-500 focus:border-epa-orange-500"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Region"}),v.jsxs("select",{value:g.region,onChange:S=>b({...g,region:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-epa-orange-500 focus:border-epa-orange-500",children:[v.jsx("option",{value:"",children:"All Regions"}),v.jsx("option",{value:"Ashanti",children:"Ashanti"}),v.jsx("option",{value:"Western",children:"Western"}),v.jsx("option",{value:"Eastern",children:"Eastern"}),v.jsx("option",{value:"Central",children:"Central"}),v.jsx("option",{value:"Northern",children:"Northern"}),v.jsx("option",{value:"Upper East",children:"Upper East"}),v.jsx("option",{value:"Upper West",children:"Upper West"}),v.jsx("option",{value:"Volta",children:"Volta"}),v.jsx("option",{value:"Greater Accra",children:"Greater Accra"}),v.jsx("option",{value:"Brong Ahafo",children:"Brong Ahafo"})]})]}),v.jsx("button",{onClick:x,className:"w-full px-3 py-2 bg-epa-orange-600 text-white rounded-md text-sm hover:bg-epa-orange-700 transition-colors",children:"Search & Zoom"}),y.length>0&&v.jsxs("div",{className:"mt-4 max-h-48 overflow-y-auto border-t pt-3",children:[v.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-2",children:"Search Results:"}),v.jsxs("div",{className:"space-y-2",children:[y.slice(0,10).map(S=>v.jsxs("div",{className:"p-2 bg-gray-50 rounded text-xs",children:[v.jsx("div",{className:"font-medium text-gray-900",children:S.name}),v.jsx("div",{className:"text-gray-600",children:S.owner}),v.jsxs("div",{className:"text-gray-500",children:[S.region," - ",S.size," ha"]})]},S.id)),y.length>10&&v.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["...and ",y.length-10," more"]})]})]})]})]}),i&&v.jsxs("div",{className:"absolute top-16 left-4 z-10 w-96 bg-white rounded-lg shadow-lg border border-gray-200 max-h-[calc(100vh-200px)] overflow-y-auto",children:[v.jsxs("div",{className:"p-4 border-b border-gray-200",children:[v.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Mining Concessions Analytics"}),v.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Real-time data from EPA database"})]}),v.jsx("div",{className:"p-4",children:v.jsx(Qse,{dataService:l,concessions:p})})]}),s&&v.jsxs("div",{className:"absolute top-16 left-4 z-10 w-96 bg-white rounded-lg shadow-lg border border-gray-200 max-h-[calc(100vh-200px)] overflow-y-auto",children:[v.jsxs("div",{className:"p-4 border-b border-gray-200",children:[v.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Mining Concessions Reports"}),v.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Generate and export compliance reports"})]}),v.jsx("div",{className:"p-4",children:v.jsx(Xse,{dataService:l,concessions:p})})]}),v.jsx("div",{className:"absolute bottom-4 left-4 z-10 bg-black text-yellow-400 rounded-lg shadow-xl border-2 border-yellow-400 px-4 py-3",children:v.jsxs("div",{className:"flex items-center space-x-4 text-sm font-mono",children:[v.jsx("span",{children:"🗺️ Ghana Mining Concessions"}),v.jsx("span",{children:"📍 Live Coordinate Tracking"}),v.jsx("span",{children:"🔍 Professional GIS Scale"}),v.jsx("span",{className:"animate-pulse",children:"● LIVE"})]})}),v.jsx("div",{className:"w-full h-full rounded-lg overflow-hidden border-2 border-blue-600 shadow-lg bg-blue-900",children:v.jsx("div",{className:"relative w-full h-full",children:v.jsx(Yse,{className:"w-full h-full rounded",onDataLoaded:_})})})]})}function Yq({concessions:e}){const[t,r]=M.useState("name"),[n,i]=M.useState("asc"),[o,s]=M.useState(null),a=m=>{m===t?i(n==="asc"?"desc":"asc"):(r(m),i("asc"))},l=[...e].sort((m,g)=>{const b=m[t],w=g[t];return b==null||w==null?0:b<w?n==="asc"?-1:1:b>w?n==="asc"?1:-1:0}),c=m=>{switch(m){case"active":return"bg-green-100 text-green-800";case"expired":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},p=m=>m==="large-scale"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800",h=m=>{const g=new Date(m),b=new Date,w=new Date(b.getTime()+30*24*60*60*1e3);return g<=w&&g>=b},y=({field:m,children:g})=>v.jsxs("button",{onClick:()=>a(m),className:"flex items-center space-x-1 text-left font-medium text-gray-900 hover:text-gray-700",children:[v.jsx("span",{children:g}),t===m&&(n==="asc"?v.jsx(Fse,{className:"h-4 w-4"}):v.jsx(Rse,{className:"h-4 w-4"}))]});return v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[v.jsx("thead",{className:"bg-gray-50",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:v.jsx(y,{field:"name",children:"Name"})}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:v.jsx(y,{field:"id",children:"ID"})}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:v.jsx(y,{field:"size",children:"Size (ha)"})}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:v.jsx(y,{field:"owner",children:"Owner"})}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:v.jsx(y,{field:"permitType",children:"Type"})}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:v.jsx(y,{field:"permitExpiryDate",children:"Expiry Date"})}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:v.jsx(y,{field:"region",children:"Region"})}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:v.jsx(y,{field:"status",children:"Status"})}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),v.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(m=>v.jsxs("tr",{className:"hover:bg-gray-50",children:[v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx(dS,{className:"h-4 w-4 text-gray-400 mr-2"}),v.jsx("div",{className:"text-sm font-medium text-gray-900",children:m.name})]})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m.id}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.size.toLocaleString()}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx(Gse,{className:"h-4 w-4 text-gray-400 mr-2"}),v.jsx("div",{className:"text-sm text-gray-900",children:m.owner})]})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p(m.permitType)}`,children:m.permitType.replace("-"," ")})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx(lC,{className:"h-4 w-4 text-gray-400 mr-2"}),v.jsx("div",{className:"text-sm text-gray-900",children:new Date(m.permitExpiryDate).toLocaleDateString()}),h(m.permitExpiryDate)&&m.status==="active"&&v.jsx(Mg,{className:"h-4 w-4 text-yellow-500 ml-2"})]})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.region}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c(m.status)}`,children:m.status})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:v.jsxs("button",{onClick:()=>s(m),className:"text-primary-600 hover:text-primary-900 flex items-center",children:[v.jsx(Use,{className:"h-4 w-4 mr-1"}),"View"]})})]},m.id))})]})}),o&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:v.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-96 overflow-y-auto",children:v.jsxs("div",{className:"p-6",children:[v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o.name}),v.jsx("button",{onClick:()=>s(null),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-gray-700",children:"ID:"}),v.jsx("p",{className:"text-gray-900",children:o.id})]}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-gray-700",children:"Size:"}),v.jsxs("p",{className:"text-gray-900",children:[o.size," hectares"]})]}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-gray-700",children:"Owner:"}),v.jsx("p",{className:"text-gray-900",children:o.owner})]}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-gray-700",children:"Permit Type:"}),v.jsx("p",{className:"text-gray-900 capitalize",children:o.permitType.replace("-"," ")})]}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-gray-700",children:"Expiry Date:"}),v.jsx("p",{className:"text-gray-900",children:new Date(o.permitExpiryDate).toLocaleDateString()})]}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-gray-700",children:"Status:"}),v.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c(o.status)}`,children:o.status})]}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-gray-700",children:"District:"}),v.jsx("p",{className:"text-gray-900",children:o.district})]}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-gray-700",children:"Region:"}),v.jsx("p",{className:"text-gray-900",children:o.region})]}),o.contactInfo&&v.jsxs("div",{className:"col-span-2 mt-4",children:[v.jsx("p",{className:"font-medium text-gray-700 mb-2",children:"Contact Information:"}),v.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[o.contactInfo.phone&&v.jsxs("p",{className:"text-sm",children:[v.jsx("span",{className:"font-medium",children:"Phone:"})," ",o.contactInfo.phone]}),o.contactInfo.email&&v.jsxs("p",{className:"text-sm",children:[v.jsx("span",{className:"font-medium",children:"Email:"})," ",o.contactInfo.email]}),o.contactInfo.address&&v.jsxs("p",{className:"text-sm",children:[v.jsx("span",{className:"font-medium",children:"Address:"})," ",o.contactInfo.address]})]})]})]})]})})})]})}function eae({value:e,onChange:t}){return v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx(vj,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{type:"text",value:e,onChange:r=>t(r.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500",placeholder:"Search by name, ID, region, or owner..."})]})}const tae=["Western","Ashanti","Northern","Eastern","Volta","Central","Upper East","Greater Accra"],rae=["active","expired","pending"],nae=["small-scale","large-scale"],iae=[{label:"Next 30 days",value:"30"},{label:"Next 60 days",value:"60"},{label:"Next 90 days",value:"90"},{label:"Next 6 months",value:"180"},{label:"Next year",value:"365"}];function Qq({filters:e,onFiltersChange:t}){const r=(i,o)=>{t({...e,[i]:o})},n=()=>{t({region:"",status:"",type:"",expiryWindow:""})};return v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filters"}),v.jsx("button",{onClick:n,className:"text-sm text-epa-orange-600 hover:text-epa-orange-700 font-medium",children:"Clear All"})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Region"}),v.jsxs("select",{value:e.region,onChange:i=>r("region",i.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[v.jsx("option",{value:"",children:"All Regions"}),tae.map(i=>v.jsx("option",{value:i,children:i},i))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),v.jsxs("select",{value:e.status,onChange:i=>r("status",i.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[v.jsx("option",{value:"",children:"All Statuses"}),rae.map(i=>v.jsx("option",{value:i,className:"capitalize",children:i},i))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Permit Type"}),v.jsxs("select",{value:e.type,onChange:i=>r("type",i.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[v.jsx("option",{value:"",children:"All Types"}),nae.map(i=>v.jsx("option",{value:i,className:"capitalize",children:i.replace("-"," ")},i))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiry Window"}),v.jsxs("select",{value:e.expiryWindow,onChange:i=>r("expiryWindow",i.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[v.jsx("option",{value:"",children:"All Permits"}),iae.map(i=>v.jsx("option",{value:i.value,children:i.label},i.value))]})]})]})]})}const oae="modulepreload",sae=function(e){return"/GISMININGAPP/"+e},UL={},ue=function(t,r,n){if(!r||r.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(r.map(o=>{if(o=sae(o),o in UL)return;UL[o]=!0;const s=o.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!n)for(let p=i.length-1;p>=0;p--){const h=i[p];if(h.href===o&&(!s||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":oae,s||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),s)return new Promise((p,h)=>{c.addEventListener("load",p),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};function aae({concessions:e}){const t=()=>{const o=[["ID","Name","Size (ha)","Owner","Permit Type","Expiry Date","District","Region","Status"].join(","),...e.map(c=>[c.id,`"${c.name}"`,c.size,`"${c.owner}"`,c.permitType,c.permitExpiryDate,c.district,c.region,c.status].join(","))].join(`
`),s=new Blob([o],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),l=URL.createObjectURL(s);a.setAttribute("href",l),a.setAttribute("download",`mining-concessions-${new Date().toISOString().split("T")[0]}.csv`),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},r=()=>{const i={type:"FeatureCollection",features:e.map(l=>({type:"Feature",properties:{id:l.id,name:l.name,size:l.size,owner:l.owner,permitType:l.permitType,permitExpiryDate:l.permitExpiryDate,district:l.district,region:l.region,status:l.status},geometry:{type:"Polygon",coordinates:[l.coordinates.map(c=>[c[1],c[0]])]}}))},o=new Blob([JSON.stringify(i,null,2)],{type:"application/json"}),s=document.createElement("a"),a=URL.createObjectURL(o);s.setAttribute("href",a),s.setAttribute("download",`mining-concessions-${new Date().toISOString().split("T")[0]}.geojson`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)},n=async()=>{try{const{jsPDF:i}=await ue(()=>import("./jspdf.es.min-d5b94388.js").then(l=>l.j),[]),o=(await ue(()=>import("./html2canvas.esm-f16e60ff.js"),[])).default,s=new i;s.setFontSize(20),s.text("Mining Concessions Report",20,20),s.setFontSize(12),s.text(`Generated on: ${new Date().toLocaleDateString()}`,20,35),s.text(`Total Concessions: ${e.length}`,20,50),s.text(`Active Permits: ${e.filter(l=>l.status==="active").length}`,20,60),s.text(`Expired Permits: ${e.filter(l=>l.status==="expired").length}`,20,70);const a=document.querySelector(".map-container");if(a)try{const c=(await o(a)).toDataURL("image/png");s.addPage(),s.text("Map View",20,20),s.addImage(c,"PNG",20,30,170,120)}catch(l){console.warn("Could not capture map:",l)}s.save(`mining-concessions-report-${new Date().toISOString().split("T")[0]}.pdf`)}catch(i){console.error("Error generating PDF:",i),alert("Error generating PDF report. Please try again.")}};return v.jsxs("div",{className:"flex flex-wrap gap-2",children:[v.jsxs("button",{onClick:t,className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[v.jsx(Zq,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),v.jsxs("button",{onClick:r,className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[v.jsx(__,{className:"h-4 w-4 mr-2"}),"Export GeoJSON"]}),v.jsxs("button",{onClick:n,className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[v.jsx(ui,{className:"h-4 w-4 mr-2"}),"PDF Report"]})]})}function u(e,t,r,n){var i,o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function tHe(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var lae=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function rHe(e){function t(o){e.error=e.hasError?new lae(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(i,function(s){return t(s),i()})}else n|=1}catch(s){t(s)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}let Au;function q(e){return typeof Au[e]=="function"?Au[e]=Au[e](globalThis):Au[e]}Au=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},q.add=(e,t,r,n)=>{(n||Au[e]===void 0)&&(Au[e]=t),r&&q(e)},q.cache=Au,q.add("big-integer-warning-enabled",!0),q.add("esri-deprecation-warnings",!0),q.add("esri-tests-disable-screenshots",!1),q.add("esri-tests-use-full-window",!1),q.add("esri-tests-post-to-influx",!0),q.add("esri-cim-animations-enable-status","enabled"),q.add("esri-cim-animations-spotlight",!1),q.add("esri-cim-animations-freeze-time",!1),(()=>{q.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(q.add("host-browser",e),q.add("host-node",typeof globalThis.process=="object"&&globalThis.process.versions?.node&&globalThis.process.versions.v8),q.add("dom",e),q("host-browser")){const t=navigator,r=t.userAgent,n=t.appVersion,i=parseFloat(n);if(q.add("wp",parseFloat(r.split("Windows Phone")[1])||void 0),q.add("msapp",parseFloat(r.split("MSAppHost/")[1])||void 0),q.add("khtml",n.includes("Konqueror")?i:void 0),q.add("edge",parseFloat(r.split("Edge/")[1])||void 0),q.add("opr",parseFloat(r.split("OPR/")[1])||void 0),q.add("webkit",!q("wp")&&!q("edge")&&parseFloat(r.split("WebKit/")[1])||void 0),q.add("chrome",!q("edge")&&!q("opr")&&parseFloat(r.split("Chrome/")[1])||void 0),q.add("android",!q("wp")&&parseFloat(r.split("Android ")[1])||void 0),q.add("safari",!n.includes("Safari")||q("wp")||q("chrome")||q("android")||q("edge")||q("opr")?void 0:parseFloat(n.split("Version/")[1])),q.add("mac",n.includes("Macintosh")),!q("wp")&&/(iPhone|iPod|iPad)/.test(r)){const o=RegExp.$1.replace(/P/,"p"),s=/OS ([\d_]+)/.test(r)?RegExp.$1:"1",a=parseFloat(s.replace(/_/,".").replaceAll("_",""));q.add(o,a),q.add("ios",a)}q("webkit")||(!r.includes("Gecko")||q("wp")||q("khtml")||q("edge")||q.add("mozilla",i),q("mozilla")&&q.add("ff",parseFloat(r.split("Firefox/")[1]||r.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),r=/iPhone/i.test(e);t&&q.add("esri-mobile",t),r&&q.add("esri-iPhone",r),q.add("esri-geolocation",!!navigator.geolocation)}q.add("esri-wasm","WebAssembly"in globalThis),q.add("esri-performance-mode-frames-between-render",20),q.add("esri-force-performance-mode",!1),q.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),q.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),q.add("esri-atomics","Atomics"in globalThis),q.add("esri-workers","Worker"in globalThis),q.add("web-feat:cache","caches"in globalThis),q.add("esri-workers-arraybuffer-transfer",!q("safari")||Number(q("safari"))>=12),q.add("workers-pool-size",8),q.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),q.add("featurelayer-simplify-payload-size-factors",[1,1,4]),q.add("featurelayer-fast-triangulation-enabled",!0),q.add("featurelayer-animation-enabled",!0),q.add("featurelayer-snapshot-enabled",!0),q.add("featurelayer-snapshot-initial-tolerance",0),q.add("featurelayer-snapshot-point-min-threshold",8e4),q.add("featurelayer-snapshot-point-max-threshold",4e5),q.add("featurelayer-snapshot-multipoint-min-threshold",2e4),q.add("featurelayer-snapshot-multipoint-max-threshold",1e5),q.add("featurelayer-snapshot-polygon-min-threshold",1e3),q.add("featurelayer-snapshot-polygon-max-threshold",2e3),q.add("featurelayer-snapshot-polyline-min-threshold",1e3),q.add("featurelayer-snapshot-polyline-max-threshold",2e3),q.add("featurelayer-snapshot-max-vertex-count",25e4),q.add("featurelayer-snapshot-non-hosted-exceedslimit-enabled",!1),q.add("featurelayer-snapshot-concurrency",4),q.add("featurelayer-snapshot-coverage",.1),q.add("featurelayer-query-max-depth",4),q.add("featurelayer-query-pausing-enabled",!1),q.add("featurelayer-query-tile-concurrency",4),q.add("featurelayer-query-tile-max-features",6e5),q.add("featurelayer-advanced-symbols",!1),q.add("featurelayer-pbf",!0),q.add("featurelayer-pbf-statistics",!1),q.add("feature-layers-workers",!0),q.add("feature-polyline-generalization-factor",1),q.add("mapview-transitions-duration",200),q.add("mapview-essential-goto-duration",200),q.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),q.add("mapserver-pbf-version-support",10.81),q.add("mapservice-popup-identify-max-tolerance",20),q.add("request-queue-concurrency-hosted",16),q.add("request-queue-concurrency-non-hosted",4),q.add("curve-densification-coarse-segments",128),q.add("curve-densification-max-segments",2e3),q.add("curve-densification-min-segments",3),q.add("curve-densification-pixel-deviation",.5),q.add("view-readyState-waiting-delay",1e3),q.add("gradient-depth-bias",.01),q.add("gradient-depth-epsilon",1e-8),q.add("enable-feature:esri-compress-textures",!0),q("host-webworker")||q("host-browser")&&(q.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),q.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{q.add("esri-image-decode",!0,!0,!0)}).catch(()=>{q.add("esri-image-decode",!1,!0,!0)})}return!1}),q.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();function nHe(e){}function uae(e){return()=>e}function iHe(e){return e}var Ni;let cae=(Ni=class{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*Ni._m}getInt(){return this._seed=(Ni._a*this._seed+Ni._c)%Ni._m,this._seed}getFloat(){return this.getInt()/(Ni._m-1)}getIntRange(t,r){return Math.round(this.getFloatRange(t,r))}getFloatRange(t,r){const n=r-t;return t+this.getInt()/Ni._m*n}},Ni._m=2147483647,Ni._a=48271,Ni._c=0,Ni);function dae(e,t,r,n,i,o,s){if(e==null&&n==null)return!0;t=Math.max(0,t),i=Math.max(0,i),r=Math.max(0,r<0?(e?.length??0)+r:r),o=Math.max(0,o<0?(n?.length??0)+o:o);const a=r-t;if(e==null||n==null||a!==o-i)return!1;if(s){for(let l=0;l<a;l++)if(!s(e[t+l],n[i+l]))return!1}else for(let l=0;l<a;l++)if(e[t+l]!==n[i+l])return!1;return!0}function T_(e,t,r){return dae(e,0,e?.length??0,t,0,t?.length??0,r)}function oHe(e,t,r){let n,i;return r?(n=t.filter(o=>!e.some(s=>r(s,o))),i=e.filter(o=>!t.some(s=>r(s,o)))):(n=t.filter(o=>!e.includes(o)),i=e.filter(o=>!t.includes(o))),{added:n,removed:i}}let Xq=class{constructor(){this.last=0}};const eG=new Xq;function bj(e,t,r,n){n=n||eG;const i=Math.max(0,n.last-10);for(let s=i;s<r;++s)if(e[s]===t)return n.last=s,s;const o=Math.min(i,r);for(let s=0;s<o;++s)if(e[s]===t)return n.last=s,s;return-1}function pae(e,t,r,n){const i=r??e.length,o=bj(e,t,i,n);if(o!==-1)return e[o]=e[i-1],r==null&&e.pop(),t}const ko=new Set;function fae(e,t,r=e.length,n=t.length,i,o){if(n===0||r===0)return r;ko.clear();for(let a=0;a<n;++a)ko.add(t[a]);i=i||eG;const s=Math.max(0,i.last-10);for(let a=s;a<r;++a)if(ko.has(e[a])&&(o?.push(e[a]),ko.delete(e[a]),e[a]=e[r-1],--r,--a,ko.size===0||r===0))return ko.clear(),r;for(let a=0;a<s;++a)if(ko.has(e[a])&&(o?.push(e[a]),ko.delete(e[a]),e[a]=e[r-1],--r,--a,ko.size===0||r===0))return ko.clear(),r;return ko.clear(),r}function hae(e){return e?(zL.seed=e,()=>zL.getFloat()):Math.random}const zL=new cae;function aHe(e,t){if(!e)return e;const r=hae(t);for(let n=e.length-1;n>0;n--){const i=Math.floor(r()*(n+1)),o=e[n];e[n]=e[i],e[i]=o}return e}function tG(e,t){const r=e.indexOf(t);return r!==-1?(e.splice(r,1),t):null}function y1(e,t){return e!=null}function lHe(e){return e instanceof ArrayBuffer}function uC(e){return e?.constructor?.name==="Int8Array"}function rG(e){return e?.constructor?.name==="Uint8Array"}function nG(e){return e?.constructor?.name==="Uint8ClampedArray"}function cC(e){return e?.constructor?.name==="Int16Array"}function iG(e){return e?.constructor?.name==="Uint16Array"}function dC(e){return e?.constructor?.name==="Int32Array"}function oG(e){return e?.constructor?.name==="Uint32Array"}function yae(e){return e?.constructor?.name==="Float16Array"}function O_(e){return e?.constructor?.name==="Float32Array"}function E_(e){return e?.constructor?.name==="Float64Array"}function mae(e){return"buffer"in e}const sG=1024;function uHe(e){return E_(e)||O_(e)||dC(e)||cC(e)||uC(e)}function cHe(e){return E_(e)||O_(e)}function dHe(e){return E_(e)?179769e303:yae(e)?65504:O_(e)?3402823e32:oG(e)?4294967295:iG(e)?65535:rG(e)||nG(e)?255:dC(e)?2147483647:cC(e)?32767:uC(e)?127:256}const pHe=-32768,fHe=-2147483648;function aG(e,t){let r;if(t)for(r in e)e.hasOwnProperty(r)&&(e[r]===void 0?delete e[r]:e[r]instanceof Object&&aG(e[r],!0));else for(r in e)e.hasOwnProperty(r)&&e[r]===void 0&&delete e[r];return e}function D(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=cG(e);if(t!=null)return t;if(pS(e))return e.clone();if(lG(e))return e.map(D);if(uG(e))throw new Error("Trying to clone an unclonable Accessor instance");const r={};for(const n of Object.getOwnPropertyNames(e))r[n]=D(e[n]);return r}function wj(e){if(!e||typeof e!="object"||typeof e=="function"||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=cG(e);if(t!=null)return t;if(lG(e)){let n=!0;const i=e.map(o=>{const s=wj(o);return o!=null&&s==null&&(n=!1),s});return n?i:null}if(pS(e))return e.clone();if(e instanceof File||e instanceof Blob)return e;if(uG(e))return null;const r=new(Object.getPrototypeOf(e)).constructor;for(const n of Object.getOwnPropertyNames(e)){const i=e[n],o=wj(i);if(i!=null&&o==null)return null;r[n]=o}return r}function pS(e){return typeof e.clone=="function"}function lG(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function uG(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function BL(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function cG(e){if(uC(e)||rG(e)||nG(e)||cC(e)||iG(e)||dC(e)||oG(e)||O_(e)||E_(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[r,n]of e)t.set(r,D(n));return t}if(e instanceof Set){const t=new Set;for(const r of e)t.add(D(r));return t}return null}function pC(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof e?.getTime=="function"&&typeof t?.getTime=="function"&&e.getTime()===t.getTime()||!1}function gae(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&T_(e,t):e instanceof Set?t instanceof Set&&bae(e,t):e instanceof Map?t instanceof Map&&wae(e,t):!!BL(e)&&BL(t)&&vae(e,t))}function vae(e,t){if(e===null||t===null)return!1;const r=Object.keys(e);if(t===null||Object.keys(t).length!==r.length)return!1;for(const n of r)if(e[n]!==t[n]||!Object.prototype.hasOwnProperty.call(t,n))return!1;return!0}function bae(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function wae(e,t){if(e.size!==t.size)return!1;for(const[r,n]of e){const i=t.get(r);if(i!==n||i===void 0&&!t.has(r))return!1}return!0}function fC(e,t,r=!1){return pG(e,t,r)}function j_(e,t){if(t!=null)return t[e]||dG(e.split("."),!1,t)}function nr(e,t,r){const n=e.split("."),i=n.pop(),o=dG(n,!0,r);o&&i&&(o[i]=t)}function VL(e,t){if(e==null&&t==null)return!1;if(e==null||t==null)return!0;if(typeof e=="object"){if(Array.isArray(e)){const r=t;if(e.length!==r.length)return!0;for(let n=0;n<e.length;n++)if(VL(e[n],r[n]))return!0;return!1}if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const r in e)if(VL(e[r],t[r]))return!0;return!1}return e!==t}function dG(e,t,r){let n=r;for(const i of e){if(n==null)return;if(!(i in n)){if(!t)return;n[i]={}}n=n[i]}return n}function pG(e,t,r){return t?Object.keys(t).reduce((n,i)=>{if(i==="__proto__")return n;let o=n[i],s=t[i];return o===s?n:o===void 0?(n[i]=D(s),n):(Array.isArray(s)||Array.isArray(n)?(o=o?Array.isArray(o)?n[i]=o.slice():n[i]=[o]:n[i]=[],s&&(Array.isArray(s)||(s=[s]),r?s.forEach(a=>{o.includes(a)||o.push(a)}):n[i]=s.slice())):s&&typeof s=="object"?n[i]=pG(o,s,r):n.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(n[i]=s),n)},e||{}):e}const Ye={apiKey:void 0,apiKeys:{scopes:[]},applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(fC(Ye,globalThis.esriConfig,!0),delete Ye.has),!Ye.assetsPath){{const e="4.33";Ye.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}Ye.defaultAssetsPath=Ye.assetsPath}const xae=/\{([^}]+)\}/g;function qL(e){return e??""}function yp(e,t){return t?e.replaceAll(xae,typeof t=="object"?(r,n)=>qL(j_(n,t)):(r,n)=>qL(t(n))):e}function hHe(e,t){return e.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,r=>t?.includes(r)?r:`\\${r}`)}function fG(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}let GL;function yHe(e){return GL??(GL=new DOMParser),GL.parseFromString(e||"","text/html").body.innerText||""}const WL={info:0,warn:1,error:2,none:3};var vr;let ce=(vr=class{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,vr._loggers.set(this.module,this);const r=this.module.lastIndexOf(".");r!==-1&&(this._parent=vr.getLogger(this.module.slice(0,r)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){}static get test(){}static getLogger(t){return t=typeof t!="string"?t.declaredClass:t,vr._loggers.get(t)||new vr({module:t})}_log(t,r,...n){if(this._matchLevel(t)){if(r!=="always"&&!vr._throttlingDisabled){const i=_ae(n),o=this._loggedMessages[t].get(i);if(r==="once"&&o!=null||r==="oncePerTick"&&o&&o>=vr._tickCounter)return;this._loggedMessages[t].set(i,vr._tickCounter),vr._scheduleTickCounterIncrement()}for(const i of Ye.log.interceptors)if(i(t,this.module,...n))return;this._inheritedWriter()(t,this.module,...n)}}_parentWithMember(t,r){let n=this;for(;n!=null;){const i=n[t];if(i!=null)return i;n=n.parent}return r}_inheritedWriter(){return this._parentWithMember("writer",Sae)}_matchLevel(t){const r=Ye.log.level||"warn";return WL[this._parentWithMember("level",r)]<=WL[t]}static _scheduleTickCounterIncrement(){vr._tickCounterScheduled||(vr._tickCounterScheduled=!0,Promise.resolve().then(()=>{vr._tickCounter++,vr._tickCounterScheduled=!1}))}},vr._loggers=new Map,vr._tickCounter=0,vr._tickCounterScheduled=!1,vr._throttlingDisabled=!1,vr);function Sae(e,t,...r){console[e](`[${t}]`,...r)}function _ae(...e){return fG(JSON.stringify(e,(r,n)=>typeof n!="object"||Array.isArray(n)?n:"[Object]"))}function $ae(e,t){return e.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(r,n)=>n===""?"$":(j_(n,t)??"").toString())}let hG=class{constructor(t,r,n=void 0){this.name=t,this.details=n,this.message=(r&&$ae(r,n))??""}toString(){return"["+this.name+"]: "+this.message}},Z=class yG extends hG{constructor(t,r,n){super(t,r,n)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,r)=>{if(r&&typeof r=="object"&&typeof r.toJSON=="function")return r;try{return D(r)}catch{return"[object]"}}))}}catch(t){throw ce.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new yG(t.name,t.message,t.details)}};Z.prototype.type="error";function Cg(e){return e&&typeof e=="object"&&"toJSON"in e&&typeof e.toJSON=="function"}const Tae=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,Oae={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function HL(e){const t=e?.match(Tae);if(!t)return null;const[,r,n,i]=t;if(!r)return null;let o=null,s=null,a=null;const{devext:l,qaext:c,www:p}=Oae;if(n)if(o=r,i)switch(i.toLowerCase()){case"devext":({customBaseUrl:s,portalHostname:a}=l);break;case"qa":({customBaseUrl:s,portalHostname:a}=c);break;default:return null}else({customBaseUrl:s,portalHostname:a}=p);else switch(r.toLowerCase()){case"devext":({customBaseUrl:s,portalHostname:a}=l);break;case"qaext":({customBaseUrl:s,portalHostname:a}=c);break;case"www":({customBaseUrl:s,portalHostname:a}=p);break;default:return null}return{customBaseUrl:s,isPortal:!1,portalHostname:a,urlKey:o}}function mG(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function gG(e){const t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,r=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,n=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):r.test(e)?e=e.replace(r,"https://devext.arcgis.com"):n.test(e)&&(e=e.replace(n,"https://qaext.arcgis.com")),e}function Eae(e){const t=atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r.buffer}function jae(e){const t=new Uint8Array(e);let r="";for(let n=0;n<t.length;n++)r+=String.fromCharCode(t[n]);return btoa(r)}const Iae=()=>ce.getLogger("esri.core.urlUtils"),Sy=Ye.request,JL="esri/config: esriConfig.request.proxyUrl is not set.",vG=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,bG=/^\s*http:/i,Aae=/^\s*https:/i,Pae=/^\s*file:/i,wG=/:\d+$/,Nae=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,Mae=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),Cae=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let Cd=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let r=this.uri.match(Mae);this.scheme=r[2]||(r[1]?"":null),this.authority=r[4]||(r[3]?"":null),this.path=r[5],this.query=r[7]||(r[6]?"":null),this.fragment=r[9]||(r[8]?"":null),this.authority!=null&&(r=this.authority.match(Cae),this.user=r[3]||null,this.password=r[4]||null,this.host=r[6]||r[7],this.port=r[9]||null)}toString(){return this.uri}};const ub={},kae=new Cd(Ye.applicationUrl);let Nn=kae;const Rae=Lae();let hC=Rae;const yC=()=>Nn,vHe=()=>hC;function Lae(){const e=Nn.path,t=e.slice(0,e.lastIndexOf("/")+1);return`${`${Nn.scheme}://${Nn.host}${Nn.port!=null?`:${Nn.port}`:""}`}${t}`}function en(e){if(!e)return null;const t={path:null,query:null},r=new Cd(e),n=e.indexOf("?");return r.query===null?t.path=e:(t.path=e.slice(0,n),t.query=mC(r.query)),r.fragment&&(t.hash=r.fragment,r.query===null&&(t.path=t.path.slice(0,t.path.length-(r.fragment.length+1)))),t}function mC(e){const t=e.split("&"),r={};for(const n of t){if(!n)continue;const i=n.indexOf("=");let o,s;i<0?(o=decodeURIComponent(n),s=""):(o=decodeURIComponent(n.slice(0,i)),s=decodeURIComponent(n.slice(i+1)));let a=r[o];typeof a=="string"&&(a=r[o]=[a]),Array.isArray(a)?a.push(s):r[o]=s}return r}function kg(e,t){return e?t&&typeof t=="function"?Object.keys(e).map(r=>encodeURIComponent(r)+"="+encodeURIComponent(t(r,e[r]))).join("&"):Object.keys(e).map(r=>{const n=e[r];if(n==null)return"";const i=encodeURIComponent(r)+"=",o=t?.[r];return o?i+encodeURIComponent(o(n)):Array.isArray(n)?n.map(s=>Cg(s)?i+encodeURIComponent(JSON.stringify(s)):i+encodeURIComponent(s)).join("&"):Cg(n)?i+encodeURIComponent(JSON.stringify(n)):i+encodeURIComponent(n)}).filter(r=>r).join("&"):""}function xG(e=!1){let t,r=Sy.proxyUrl;if(typeof e=="string"){t=TG(e);const n=I_(e);n&&(r=n.proxyUrl)}else t=!!e;if(!r)throw Iae().warn(JL),new Z("urlUtils:proxy-not-set",JL);return t&&Sj()&&(r=xC(r)),en(r)}function bHe(e,t=!1){const r=I_(e);let n,i;if(r){const o=gC(r.proxyUrl);n=o.path,i=o.query?mC(o.query):null}else if(t){const o=xG(e);n=o.path,i=o.query}if(n){const o=en(e);e=n+"?"+o.path;const s=kg({...i,...o.query});s&&(e=`${e}?${s}`)}return e}const lm={path:"",query:""};function gC(e){const t=e.indexOf("?");return t!==-1?(lm.path=e.slice(0,t),lm.query=e.slice(t+1)):(lm.path=e,lm.query=null),lm}function SG(e){return e=(e=hS(e=Zae(e=gC(e).path),!0)).toLowerCase()}function Dae(e){const t={proxyUrl:e.proxyUrl,urlPrefix:SG(e.urlPrefix)},r=Sy.proxyRules,n=t.urlPrefix;let i=r.length;for(let o=0;o<r.length;o++){const s=r[o].urlPrefix;if(n.indexOf(s)===0){if(n.length===s.length)return-1;i=o;break}s.indexOf(n)===0&&(i=o+1)}return r.splice(i,0,t),i}function I_(e){const t=Sy.proxyRules,r=SG(e);for(let n=0;n<t.length;n++)if(r.indexOf(t[n].urlPrefix)===0)return t[n]}function Fae(e,t){if(!e||!t)return!1;e=fS(e),t=fS(t);const r=HL(e),n=HL(t);return r!=null&&n!=null?r.portalHostname===n.portalHostname:r==null&&n==null&&ua(e,t,!0)}function _G(e,t){return e=fS(e),t=fS(t),hS(e)===hS(t)}function fS(e){const t=(e=vs(e)).indexOf("/sharing");return t>0?e.slice(0,t):e.replace(/\/+$/,"")}function xj(e,t=Sy.interceptors){const r=n=>n instanceof RegExp?n.test(e):typeof n=="string"?e.startsWith(n):n==null;if(t){for(const n of t)if(Array.isArray(n.urls)){if(n.urls.some(r))return n}else if(r(n.urls))return n}return null}function ua(e,t,r=!1){if(!e||!t)return!1;const n=$j(e),i=$j(t);return!(!r&&n.scheme!==i.scheme)&&n.host!=null&&i.host!=null&&n.host.toLowerCase()===i.host.toLowerCase()&&n.port===i.port}function vC(e){if(typeof e=="string"){if(!bi(e))return!0;e=$j(e)}if(ua(e,Nn))return!0;const t=Sy.trustedServers||[];for(let r=0;r<t.length;r++){const n=Uae(t[r]);for(let i=0;i<n.length;i++)if(ua(e,n[i]))return!0}return!1}function Uae(e){return ub[e]||(wC(e)||fa(e)?ub[e]=[new Cd(yo(e))]:ub[e]=[new Cd(`http://${e}`),new Cd(`https://${e}`)]),ub[e]}function yo(e,t=hC,r){return fa(e)?r?.preserveProtocolRelative?e:Nn.scheme==="http"&&Nn.authority===Bi(e).slice(2)?`http:${e}`:`https:${e}`:wC(e)?e:Hd(e[0]==="/"?Hae(t):t,e)}function bC(e,t=hC,r){if(e==null||!bi(e))return e;const n=vs(e),i=n.toLowerCase(),o=vs(t).toLowerCase().replace(/\/+$/,""),s=r?vs(r).toLowerCase().replace(/\/+$/,""):null;if(s&&o.indexOf(s)!==0)return e;const a=(h,y,m)=>(m=h.indexOf(y,m))===-1?h.length:m;let l=a(i,"/",i.indexOf("//")+2),c=-1;for(;i.slice(0,l+1)===o.slice(0,l)+"/"&&(c=l+1,l!==i.length);)l=a(i,"/",l+1);if(c===-1||s&&c<s.length)return e;e=n.slice(c);const p=o.slice(c-1).replaceAll(/[^/]+/g,"").length;if(p>0)for(let h=0;h<p;h++)e=`../${e}`;else e=`./${e}`;return e}function vs(e){return e=Qae(e=Yae(e=Kae(e=yo(e=e.trim()))))}function Hd(...e){const t=e.filter(y1);if(!t?.length)return;const r=[];if(bi(t[0])){const i=t[0],o=i.indexOf("//");o!==-1&&(r.push(i.slice(0,o+1)),Gae(t[0])&&(r[0]+="/"),t[0]=i.slice(o+2))}else t[0][0]==="/"&&r.push("");const n=t.reduce((i,o)=>o?i.concat(o.split("/")):i,[]);for(let i=0;i<n.length;i++){const o=n[i];o===".."&&r.length>0&&r[r.length-1]!==".."?r.pop():(!o&&i===n.length-1||o&&(o!=="."||r.length===0))&&r.push(o)}return r.join("/")}function Bi(e,t=!1){if(e==null||_y(e)||Cl(e))return null;let r=e.indexOf("://");if(r===-1&&fa(e))r=2;else{if(r===-1)return null;r+=3}const n=e.indexOf("/",r);return n!==-1&&(e=e.slice(0,n)),t&&(e=hS(e,!0)),e}function bi(e){return fa(e)||wC(e)}function _y(e){return e!=null&&e.slice(0,5)==="blob:"}function Cl(e){return e!=null&&e.slice(0,5)==="data:"}function zae(e){const t=jh(e);return t?.isBase64?Eae(t.data):null}function wHe(e){return jae(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const Bae=/^data:(.*?)(;base64)?,(.*)$/;function jh(e){const t=e.match(Bae);if(!t)return null;const[,r,n,i]=t;return{mediaType:r,isBase64:!!n,data:i}}function $G(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function Vae(e){return(await fetch(e)).blob()}function xHe(e){const t=zae(e);if(!t)return null;const r=jh(e);return new Blob([t],{type:r.mediaType})}function fa(e){return e!=null&&e[0]==="/"&&e[1]==="/"}function wC(e){return e!=null&&vG.test(e)}function TG(e){return e!=null&&Aae.test(e)||Nn.scheme==="https"&&fa(e)}function qae(e){return e!=null&&bG.test(e)||Nn.scheme==="http"&&fa(e)}function Gae(e){return e!=null&&Pae.test(e)}function xC(e){return fa(e)?`https:${e}`:e.replace(bG,"https:")}function Wae(){return Nn.scheme==="http"}function Sj(){return Nn.scheme==="https"}function hS(e,t=!1){return fa(e)?e.slice(2):(e=e.replace(vG,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function Hae(e){const t=e.indexOf("//"),r=e.indexOf("/",t+2);return r===-1?e:e.slice(0,r)}function Jae(e){let t=0;if(bi(e)){const n=e.indexOf("//");n!==-1&&(t=n+2)}const r=e.lastIndexOf("/");return r<t?e:e.slice(0,r+1)}function SHe(e,t){if(!e)return"";const r=en(e).path.replace(/\/+$/,""),n=r.slice(r.lastIndexOf("/")+1);if(!t?.length)return n;const i=new RegExp(`\\.(${t.join("|")})$`,"i");return n.replace(i,"")}function Zae(e){return e.endsWith("/")?e:`${e}/`}function OG(e){return e.replace(/\/+$/,"")}function Kae(e){if(/^https?:\/\//i.test(e)){const t=gC(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function Yae(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function Qae(e){const t=Sy.httpsDomains;if(!qae(e))return e;const r=e.indexOf("/",7);let n;if(n=r===-1?e:e.slice(0,r),n=n.toLowerCase().slice(7),wG.test(n)){if(!n.endsWith(":80"))return e;n=n.slice(0,-3),e=e.replace(":80","")}return Wae()&&n===Nn.authority&&!Nae.test(e)||(Sj()&&n===Nn.authority||t&&t.some(i=>n===i||n.endsWith(`.${i}`))||Sj()&&!I_(e))&&(e=xC(e)),e}function _j(e,t,r){if(!(t&&r&&e&&bi(e)))return e;const n=e.indexOf("//"),i=e.indexOf("/",n+2),o=e.indexOf(":",n+2),s=Math.min(i<0?e.length:i,o<0?e.length:o);return e.slice(n+2,s).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,n+2)}${r}${e.slice(s)}`}function EG(e,t){const r=new URL(e);return r.host=t,r.port&&!wG.test(t)&&(r.port=""),r.toString()}function Xae(e){return new URL(e).host}function $j(e){return typeof e=="string"?new Cd(yo(e)):(e.scheme||(e.scheme=Nn.scheme),e)}function jG(e,t){const r=en(e),n=Object.keys(r.query||{});return n.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${n.join(", ")}.`),r.path}function IG(e,t,r){const n=en(e),i=n.query||{};return i[t]=String(r),`${n.path}?${kg(i)}`}function BT(e,t){if(!t)return e;const r=en(e),n=r.query||{};for(const[o,s]of Object.entries(t))s!=null&&(n[o]=s);const i=kg(n);return i?`${r.path}?${i}`:r.path}function AG(e){if(e==null)return null;const t=e.match(PG);return t?t[2]:null}function ZL(e){if(e==null)return null;const t=e.match(PG);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function _He(e){return typeof e=="string"?jh(e)??{data:e}:new Promise((t,r)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>t(jh(n.result)),n.onerror=i=>r(i)})}const PG=/([^.]*)\.([^/]*)$/,NG="20250708",MG="3f313cd890df21896088a60e19e9d26665f8c30f";Symbol.dispose??(Symbol.dispose=Symbol("Symbol.dispose")),Symbol.asyncDispose??(Symbol.asyncDispose=Symbol("Symbol.asyncDispose"));const CG="4.33";let He,SC=CG;SC="4.33.9";function $He(e){He=e}function THe(e){const t=He?.findCredential(e);return t?.token?IG(e,"token",t.token):e}q("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),q("host-webworker");function OHe(e,t){for(const r of e.values())if(t(r))return!0;return!1}function A_(e,t,r){const n=e.get(t);if(n!==void 0)return n;const i=r();return e.set(t,i),i}function EHe(e){const t=new Map;return r=>(t.has(r)||t.set(r,e(r)),t.get(r))}const ele={remove:()=>{}};function yr(e){return e?{remove(){e&&(e(),e=void 0)}}:ele}function tle(e){e.forEach(t=>t?.remove())}function P_(e){return yr(()=>tle(e))}function jHe(e){return yr(()=>e?.abort())}function IHe(e){return{[Symbol.dispose](){e.remove()}}}function rle(e){return{setTimeout:(t,r)=>{const n=e.setTimeout(t,r);return yr(()=>e.clearTimeout(n))}}}const nle=rle(globalThis);function _C(e){return ile(e)||kG(e)}function ile(e){return e!=null&&typeof e=="object"&&"on"in e&&typeof e.on=="function"}function kG(e){return e!=null&&typeof e=="object"&&"addEventListener"in e&&typeof e.addEventListener=="function"}function $C(e,t,r){if(!_C(e))throw new TypeError("target is not a Evented or EventTarget object");return kG(e)?ole(e,t,r):e.on(t,r)}function ole(e,t,r,n){if(Array.isArray(t)){const i=t.slice();for(const o of i)e.addEventListener(o,r,n);return yr(()=>{for(const o of i)e.removeEventListener(o,r,n)})}return e.addEventListener(t,r,n),yr(()=>e.removeEventListener(t,r,n))}function RG(e,t,r){if(!_C(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);const n=$C(e,t,i=>{n.remove(),r.call(e,i)});return n}function sle(e,t){if(e==null)throw new Error(t??"value is None")}function _o(e){return e?.destroy(),null}function AHe(e){return e?.dispose(),null}function bs(e){return e?.remove(),null}function LG(e){return e?.abort(),null}function PHe(e){return e?.release(),null}function ale(e,t,r){return e!=null&&t!=null?r!=null?r(e,t):e.equals(t):e===t}function lle(e,t){let r;return e.some((n,i)=>(r=t(n,i),r!=null)),r??void 0}function hr(e="Aborted"){return new Z("AbortError",e)}function kn(e,t="Aborted"){if(El(e))throw hr(t)}function N_(e){return e instanceof AbortSignal?e:e?.signal??void 0}function El(e){const t=N_(e);return t!=null&&t.aborted}function ea(e){if(Ao(e))throw e}function NHe(e){if(!Ao(e))throw e}function Jd(e,t){const r=N_(e);if(r!=null){if(!r.aborted)return RG(r,"abort",()=>t());t()}}function DG(e,t){const r=N_(e);if(r!=null)return kn(r),RG(r,"abort",()=>t(hr()))}function ule(e,t){return N_(t)==null?e:new Promise((r,n)=>{let i=Jd(t,()=>n(hr()));const o=()=>{i=bs(i)};e.then(o,o),e.then(r,n)})}function Ao(e){return e?.name==="AbortError"}async function cle(e){try{return await e}catch(t){if(!Ao(t))throw t;return}}async function TC(e){if(!e)return;if(typeof e.forEach!="function"){const r=Object.keys(e),n=r.map(s=>e[s]),i=await TC(n),o={};return r.map((s,a)=>o[s]=i[a]),o}const t=e;return Promise.allSettled(t).then(r=>Array.from(t,(n,i)=>{const o=r[i];return o.status==="fulfilled"?{promise:n,value:o.value}:{promise:n,error:o.reason}}))}async function MHe(e){return(await Promise.allSettled(e)).filter(t=>t.status==="fulfilled").map(t=>t.value)}async function CHe(e){return(await Promise.allSettled(e)).filter(t=>t.status==="rejected").map(t=>t.reason)}function dle(e,t=void 0,r){const n=new AbortController;return Jd(r,()=>n.abort()),new Promise((i,o)=>{let s=setTimeout(()=>{s=0,i(t)},e);Jd(n,()=>{s&&(clearTimeout(s),o(hr()))})})}function $y(e){return e&&typeof e.then=="function"}function KL(e){return $y(e)?e:Promise.resolve(e)}function OC(e,t=-1){let r,n,i,o,s=null;const a=(...l)=>{if(r){n=l,o&&o.reject(hr()),o=tc();const y=o.promise;if(s){const m=s;s=null,m.abort()}return y}if(i=o||tc(),o=null,t>0){const y=new AbortController;r=KL(e(...l,y.signal));const m=r;dle(t).then(()=>{r===m&&(o?y.abort():s=y)})}else r=1,r=KL(e(...l));const c=()=>{const y=n;n=i=r=s=null,y!=null&&a(...y)},p=r,h=i;return p.then(c,c),p.then(h.resolve,h.reject),h.promise};return a}function tc(){let e,t;const r=new Promise((i,o)=>{e=i,t=o}),n=i=>{e(i)};return n.resolve=i=>e(i),n.reject=i=>t(i),n.timeout=(i,o)=>nle.setTimeout(()=>n.reject(o),i),n.promise=r,n}function kHe(e,t){t.then(e.resolve,e.reject)}async function YL(e){await Promise.resolve(),kn(e)}function mp(e,t){const r=t?.url?.path;if(e&&r&&(e=yo(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const n=bC(e,t.portalItem.itemUrl);n!=null&&ple.test(n)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(n).path)}return(e=Tj(e,t?.portal))&&C_.test(e)?EC(e):e}function Zd(e,t,r=Ih.YES){if((e=e&&C_.test(e)?BG(e):e)==null)return e;!bi(e)&&t?.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let n=yo(e);if(t){const i=t.verifyItemRelativeUrls?.rootPath||t.url?.path;if(i){const o=Tj(i,t.portal),s=Tj(n,t.portal);n=bC(s,o,o),n!=null&&n!==s&&n!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=zG(n,t?.portal),bi(n)&&(n=vs(n)),t?.resources&&t?.portalItem&&!bi(n)&&!Cl(n)&&r===Ih.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(n),compress:!1}),n}function M_(e,t,r){return mp(e,r)}function Kd(e,t,r,n){const i=Zd(e,n);i!==void 0&&(t[r]=i)}const C_=/\/items\/([^/]+)\/resources\/(.*)/,ple=/^\.\/resources\//;function FG(e){return(e?.match(C_)??null)?.[1]??null}function UG(e){const t=e?.match(C_)??null;if(t==null)return null;const r=t[2],n=r.lastIndexOf("/");if(n===-1){const{path:s,extension:a}=ZL(r);return{prefix:null,filename:s,extension:a}}const{path:i,extension:o}=ZL(r.slice(n+1));return{prefix:r.slice(0,n),filename:i,extension:o}}function zG(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?_j(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function Tj(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const r=`${t.urlKey}.${t.customBaseUrl}`,n=yC();return ua(n,`${n.scheme}://${r}`)?_j(e,t.portalHostname,r):_j(e,r,t.portalHostname)}function EC(e){if(!e)return e||null;let t=e;return t&&He&&!He.findCredential(t)&&(t=gG(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function BG(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&He&&!He.findCredential(t)&&(t=gG(t)),t}var Ih;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(Ih||(Ih={}));const fle=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return Ih},ensureMainOnlineDomain:zG,fromCDNUrl:BG,fromJSON:mp,itemIdFromResourceUrl:FG,prefixAndFilenameFromResourceUrl:UG,read:M_,toCDNUrl:EC,toJSON:Zd,write:Kd},Symbol.toStringTag,{value:"Module"})),VG={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},qG=Object.values(VG),GG=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${qG.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),hle=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${qG.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),yle=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function RHe(e){return GG.test(e)}function jl(e){if(e==null)return null;const t=en(e),r=t?.path.match(GG)||t?.path.match(hle);if(!r)return null;const[,n,i,o,s]=r,a=i.indexOf("/");return{title:jC(a!==-1?i.slice(a+1):i),serverType:VG[o.toLowerCase()],sublayer:s!=null&&s!==""?parseInt(s,10):null,url:{path:n}}}function mle(e){const t=en(e).path.match(yle);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function jC(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function gle(e,t){const r=[];if(e){const n=jl(e);n!=null&&n.title&&r.push(n.title)}if(t){const n=jC(t);r.push(n)}if(r.length===2){if(r[0].toLowerCase().includes(r[1].toLowerCase()))return r[0];if(r[1].toLowerCase().includes(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function yS(e){let t=Bi(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(".arcgis.com")&&(t.startsWith("services")||t.startsWith("tiles")||t.startsWith("features")||/^[a-z\d-]+\.svcs[a-z\d-]*\./.test(t)))}function vle(e,t){return e&&OG(jG(e,t))}function ble(e){let{url:t}=e;if(!t)return{url:t};t=jG(t,e.logger);const r=en(t),n=jl(r.path);let i;if(n!=null)n.sublayer!=null&&e.layer.layerId==null&&(i=n.sublayer),t=n.url.path;else if(e.nonStandardUrlAllowed){const o=mle(r.path);o!=null&&(t=o.serviceUrl,i=o.sublayerId)}return{url:OG(t),layerId:i}}function wle(e,t,r,n,i){Kd(t,n,"url",i),n.url&&e.layerId!=null&&(n.url=Hd(n.url,r,e.layerId.toString()))}function LHe(e){if(!e)return!1;const t=e.toLowerCase(),r=t.includes("/services/"),n=t.includes("/mapserver/wmsserver"),i=t.includes("/imageserver/wmsserver"),o=t.includes("/wmsserver");return r&&(n||i||o)}function DHe(e){if(!e)return!1;const t=new Cd(yo(e)),r=t.authority?.toLowerCase();return r==="server.arcgisonline.com"||r==="services.arcgisonline.com"}const xle=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function IC(e){if(!AC(e))return null;const t=n=>n instanceof RegExp?n.test(e):typeof n=="string"&&e.startsWith(n),r=Ye.apiKeys;if(Array.isArray(r.scopes)){for(const n of r.scopes)if(Array.isArray(n.urls)){if(n.urls.some(t))return n.token}else if(t(n.urls))return n.token}return r.basemapStyles&&/^https?:\/\/(i?basemaps|basemapstyles)-api\.arcgis\.com\//i.test(e)?r.basemapStyles:Ye.apiKey&&/^https?:\/\/.+\.arcgis\.com(\/|$)/i.test(e)?Ye.apiKey:null}function Oj(){return Ye.apiKey!=null||Ye.apiKeys.basemapStyles!=null}function Sle(e,t){return t?AC(e):IC(e)!=null}function AC(e){const t=Bi(e,!0);return!!t&&!xle.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function _le(e,t,r=!1,n){return new Promise((i,o)=>{if(El(n))return void o(QL());let s=()=>{c(),o(new Error(`Unable to load ${t}`))},a=()=>{const p=e;c(),i(p)},l=()=>{if(!e)return;const p=e;c(),p.src="",o(QL())};const c=()=>{q("esri-image-decode")||(e.removeEventListener("error",s),e.removeEventListener("load",a)),s=null,a=null,e=null,n?.removeEventListener("abort",l),l=null,r&&URL.revokeObjectURL(t)};n?.addEventListener("abort",l),q("esri-image-decode")?e.decode().then(a,s):(e.addEventListener("error",s),e.addEventListener("load",a))})}function QL(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const WG="Timeout exceeded";function $le(){return new Error(WG)}function FHe(e){return typeof e=="object"&&!!e&&"message"in e&&e.message===WG}function Tle(e){Ye.request.crossOriginNoCorsDomains||(Ye.request.crossOriginNoCorsDomains={});const t=Ye.request.crossOriginNoCorsDomains;for(let r of e)r=r.toLowerCase(),/^https?:\/\//.test(r)?t[Bi(r)??""]=0:(t[Bi("http://"+r)??""]=0,t[Bi("https://"+r)??""]=0)}function Ole(e){const t=Ye.request.crossOriginNoCorsDomains;if(t){let r=Bi(e);if(r)return r=r.toLowerCase(),!ua(r,yC())&&t[r]<Date.now()-36e5}return!1}async function Ele(e){const t=en(e);e=t.path,t.query?.f==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}const r=Ye.request.crossOriginNoCorsDomains,n=Bi(e);r&&n&&(r[n.toLowerCase()]=Date.now())}const Ej=new Map;function jle(e,t){const r=t?.preferredHost;if(!r||ua(e,`https://${r}`,!0))return;const n=jl(e);if(!n||n.serverType!=="FeatureServer"||mG(e))return;const i=n.url.path.toLowerCase();Ej.has(i)||Ej.set(i,r)}function XL(e){const t=jl(e)?.url.path.toLowerCase();if(!t)return e;const r=Ej.get(t);return r?EG(e,r):e}async function tt(e,t){e instanceof URL&&(e=e.toString()),t?.query instanceof URLSearchParams&&(t.query=mC(t.query.toString().replaceAll("+"," ")));const r=Cl(e),n=_y(e);n||r||(e=vs(e));const i={url:e,requestOptions:{...t}},o=m=>({data:m,getAllHeaders:Ah,getHeader:Ah,httpStatus:200,requestOptions:i.requestOptions,url:i.url}),s=xj(e,lo.internalInterceptors);if(s){const m=await t5(s,i);if(m!=null)return o(m)}let a=xj(e);if(a){const m=await t5(a,i);if(m!=null)return o(m);a.after||a.error||(a=null)}if(e=i.url,(t=i.requestOptions).responseType==="image"&&(q("host-webworker")||q("host-node")))throw ws("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),i);if(t.method==="head"){if(t.body)throw ws("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),i);if(r||n)throw ws("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),i)}if(await Mle(),mS)return mS.execute(e,t);const l=new AbortController,c=Jd(t,()=>l.abort()),p={controller:l,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:a,params:i,redoRequest:!1,useIdentity:lo.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},h=t.useRequestQueue?Dle(p):Ij(p),y=await h.finally(()=>c?.remove());return a?.after?.(y),y}let mS,HG=!1;const lo=Ye.request,JG="FormData"in globalThis,Ile=new Set([499,498,403,401]),Ale=new Set(["COM_0056","COM_0057","SB_0008"]),Ple=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Ah=()=>null,gS=Symbol();function Nle(e){const t=Bi(e);t&&!tt._corsServers.includes(t)&&tt._corsServers.push(t)}function e5(e){const t=Bi(e);return!t||t.endsWith(".arcgis.com")||tt._corsServers.includes(t)||vC(t)}function ws(e,t,r,n){let i;const o={url:r.url,requestOptions:r.requestOptions,getAllHeaders:Ah,getHeader:Ah,ssl:!1};if(t instanceof Z)return t.details?(t.details=D(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=o,t;if(t){const s=n&&(()=>Array.from(n.headers)),a=n&&(p=>n.headers.get(p)),l=n?.status,c=t.message;c&&(i=c),s&&a&&(o.getAllHeaders=s,o.getHeader=a),o.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||l||0,o.subCode=t.subcode,o.messageCode=t.messageCode,typeof t.details=="string"?(o.messages=[t.details],i??(i=t.details)):(o.messages=t.details,i??(i=o.messages?.[0])),o.raw=gS in t?t[gS]:t}return i??(i="Error"),Ao(t)?hr():new Z(e,i,o)}async function Mle(){q("host-webworker")&&(!mS&&globalThis.invokeStaticMessage?mS=await ue(()=>import("./request-936687fe.js"),[]):HG=!0)}async function jj(){He||await ue(()=>import("./IdentityManager-44f94195.js").then(e=>e.I),["assets/IdentityManager-44f94195.js","assets/sanitizerUtils-d00433fc.js"])}async function Cle(e){const t=e.params.url,r=e.params.requestOptions,n=e.controller.signal,i=r.body;let o=null,s=null;if(JG&&"HTMLFormElement"in globalThis&&(i instanceof FormData?o=i:i instanceof HTMLFormElement&&(o=new FormData(i))),typeof i=="string"&&(s=i),e.fetchOptions={cache:r.cacheBust?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:r.method==="head"?"HEAD":"GET",mode:"cors",priority:lo.priority,redirect:"follow",signal:n},(o||s)&&(e.fetchOptions.body=o||s),(HG||r.authMode==="anonymous")&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||r.query?.token||o?.get("token")),!e.hasToken){const a=IC(t);a&&(r.query??(r.query={}),r.query.token=a,e.hasToken=!0)}if(e.useIdentity&&!e.hasToken&&!e.credential&&!e.credentialToken&&!ZG(t)&&!El(n)){let a;r.authMode==="immediate"?(await jj(),a=await He.getCredential(t,{signal:n})):r.authMode==="no-prompt"?(await jj(),a=await He.getCredential(t,{prompt:!1,signal:n}).catch(()=>{})):He&&(a=He.findCredential(t)),a&&(e.credential=a,e.credentialToken=a.token,e.useSSL=!!a.ssl)}}function ZG(e){return Ple.some(t=>t.test(e))}async function kle(e){let t=e.params.url,r=XL(t);const n=e.params.requestOptions,i=e.fetchOptions??{},o=_y(t)||Cl(t),s=n.responseType||"json",a=o?0:n.timeout!=null?n.timeout:lo.timeout;let l=!1;if(!o){e.useSSL&&(t=xC(t));let m={...n.query};e.credentialToken&&(m.token=e.credentialToken);let g=kg(m);q("esri-url-encodes-apostrophe")&&(g=g.replaceAll("'","%27"));const b=r.length+1+g.length;let w;l=n.method==="delete"||n.method==="post"||n.method==="put"||!!n.body||b>lo.maxUrlLength;const x=n.useProxy||!!I_(t);if(x){const _=xG(t);w=_.path,!l&&w.length+1+b>lo.maxUrlLength&&(l=!0),_.query&&(m={..._.query,...m})}if(i.method==="HEAD"&&(l||x)){if(l)throw b>lo.maxUrlLength?ws("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):ws("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(x)throw ws("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}l?(i.method=n.method==="delete"?"DELETE":n.method==="put"?"PUT":"POST",n.body?t=BT(t,m):(i.body=kg(m),i.headers||(i.headers={}),i.headers["Content-Type"]="application/x-www-form-urlencoded")):t=BT(t,m),x&&(e.useProxy=!0,t=`${w}?${t}`),m.token&&JG&&i.body instanceof FormData&&!mG(t)&&i.body.set("token",m.token),n.hasOwnProperty("withCredentials")?e.withCredentials=n.withCredentials:ua(t,yC())||(vC(t)||He&&He.findServerInfo(t)?.webTierAuth)&&(e.withCredentials=!0),e.withCredentials&&(i.credentials="include",Ole(t)&&await Ele(l?BT(t,m):t)),r=XL(t)}let c,p,h=0,y=!1;a>0&&(h=setTimeout(()=>{y=!0,e.controller.abort()},a));try{if(n.responseType==="native-request-init")p=i,p.url=r,n.signal?p.signal=n.signal:delete p.signal;else if(n.responseType!=="image"||i.cache!=="default"||i.method!=="GET"||l||Rle(n.headers)||!o&&!e.useProxy&&lo.proxyUrl&&!e5(t)){if(tt._beforeFetch&&await tt._beforeFetch(t,i),c=await fetch(r,i),tt._afterFetch&&await tt._afterFetch(c),e.useProxy||Nle(t),n.responseType==="native")p=c;else if(i.method!=="HEAD")if(c.ok){switch(s){case"array-buffer":p=await c.arrayBuffer();break;case"blob":case"image":p=await c.blob();break;default:p=await c.text()}if(h&&(clearTimeout(h),h=0),s==="json"||s==="xml"||s==="document")if(p)switch(s){case"json":p=JSON.parse(p);break;case"xml":p=r5(p,"application/xml");break;case"document":p=r5(p,"text/html")}else p=null;if(p){if(s==="array-buffer"||s==="blob"){const m=c.headers.get("Content-Type");if(m&&/application\/json|text\/plain/i.test(m)&&p[s==="blob"?"size":"byteLength"]<=750)try{const g=await new Response(p).json();g.error&&(p=g)}catch{}}s==="image"&&p instanceof Blob&&(p=await n5(URL.createObjectURL(p),e,!0))}}else{p=await c.text();try{p=JSON.parse(p)}catch{}}}else p=await n5(r,e)}catch(m){if(m.name==="AbortError")throw y?$le():hr("Request canceled");if(!(!c&&m instanceof TypeError&&lo.proxyUrl)||n.body||n.method==="delete"||n.method==="head"||n.method==="post"||n.method==="put"||e.useProxy||e5(t))throw m;e.redoRequest=!0,Dae({proxyUrl:lo.proxyUrl,urlPrefix:Bi(t)??""})}finally{h&&clearTimeout(h)}return[c,p]}async function t5(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,n;try{n=await e.before(t)}catch(i){r=ws("request:interceptor",i,t)}if((n instanceof Error||n instanceof Z)&&(r=ws("request:interceptor",n,t)),r)throw e.error&&e.error(r),r;return n}}function Rle(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function r5(e,t){let r;try{r=new DOMParser().parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}tt._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],tt._beforeFetch=void 0,tt._afterFetch=void 0;const Lle=new Map;async function Dle(e){const t=Ule(e.params.url);if(!t)return Ij(e);const{QueueProcessor:r}=await ue(()=>import("./QueueProcessor-0cfbd20f.js"),["assets/QueueProcessor-0cfbd20f.js","assets/ReactiveMap-a4187365.js","assets/signal-f297c7bf.js"]);return A_(Lle,t.origin,()=>{const i=t.isHosted?q("request-queue-concurrency-hosted"):q("request-queue-concurrency-non-hosted");return new r({concurrency:i,process:o=>{if(El(o.params.requestOptions))throw ws("",hr("Request canceled"),o.params);return Ij(o)}})}).push(e)}async function Ij(e){let t,r;await Cle(e);try{do[t,r]=await kle(e);while(!await Fle(e,t,r))}catch(o){const s=ws("request:server",o,e.params,t);throw s.details.ssl=e.useSSL,e.interceptor?.error&&e.interceptor.error(s),s}const n=e.params.url;if(r)if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(n)){if(!e.hasToken&&!e.credentialToken&&r.user?.username&&!vC(n)){const o=Bi(n,!0);o&&lo.trustedServers.push(o)}Array.isArray(r.authorizedCrossOriginNoCorsDomains)&&Tle(r.authorizedCrossOriginNoCorsDomains)}else(e.params.requestOptions.responseType||"json")==="json"&&jle(n,r);const i=e.credential;if(i&&He){let s=He.findServerInfo(i.server)?.owningSystemUrl;if(s){s=s.replace(/\/?$/,"/sharing");const a=He.findCredential(s,i.userId);a&&He._getIdenticalSvcIdx(s,a)===-1&&a.resources.unshift(s)}}return{data:r,getAllHeaders:t?()=>Array.from(t.headers):Ah,getHeader:t?o=>t.headers.get(o):Ah,httpStatus:t?.status??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function Fle(e,t,r){if(e.redoRequest)return e.redoRequest=!1,!1;const n=e.params.requestOptions;if(!t||n.responseType==="native"||n.responseType==="native-request-init")return!0;let i,o;if(r&&(r.error&&typeof r.error=="object"?i=r.error:r.status==="error"&&Array.isArray(r.messages)&&(i={...r},i[gS]=r,i.details=r.messages)),!i&&!t.ok)throw i=new Error(`Unable to load ${t.url} status: ${t.status}`),i[gS]=r,i;let s,a=null;i&&(o=Number(i.code),a=i.hasOwnProperty("subcode")?Number(i.subcode):null,s=i.messageCode,s=s?.toUpperCase());const l=n.authMode;if(o===403&&(a===4||i.message?.toLowerCase().includes("ssl")&&!i.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(l!=="no-prompt"||o===498)&&o!==void 0&&Ile.has(o)&&!ZG(e.params.url)&&(o!==403||(!s||!Ale.has(s))&&(a==null||a===2&&e.credentialToken))){await jj();try{const c=await He.getCredential(e.params.url,{error:ws("request:server",i,e.params),credential:e.credential,prompt:l!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=c,e.credentialToken=c.token,e.useSSL=e.useSSL||c.ssl,!1}catch(c){if(l==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;i=c}}if(i)throw i;return!0}function n5(e,t,r=!1){const n=t.controller.signal,i=new Image;return t.withCredentials?i.crossOrigin="use-credentials":i.crossOrigin="anonymous",i.alt="",i.fetchPriority=lo.priority,i.src=e,_le(i,e,r,n)}function Ule(e){let t,r;return typeof e=="string"?(t=Bi(e,!0),r=yS(e)):(t=e.origin,r=yS(e.toString())),t==null?null:{origin:t,isHosted:r}}function zle(e){return e?.release&&typeof e.release=="function"}function Ble(e){return e?.acquire&&typeof e.acquire=="function"}var Ud;let k_=(Ud=class{constructor(t,r,n,i=1,o=0){this._ctor=t,this._acquireFunction=r,this._releaseFunction=n,this.allocationSize=i,this._pool=new Array(o),this._initialSize=o;for(let s=0;s<o;s++)this._pool[s]=new this._ctor;this.allocationSize=Math.max(i,1)}destroy(){this.prune(0)}acquire(...t){let r;if(Ud.test.disabled)r=new this._ctor;else{if(this._pool.length===0){const n=this.allocationSize;for(let i=0;i<n;i++)this._pool[i]=new this._ctor}r=this._pool.pop()}return this._acquireFunction?this._acquireFunction(r,...t):Ble(r)&&r.acquire(...t),r}release(t){t&&!Ud.test.disabled&&(this._releaseFunction?this._releaseFunction(t):zle(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let r=t;r<this._pool.length;++r){const n=this._pool[r];this._dispose(n)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}},Ud.test={disabled:!1},Ud);function Vle(e){e.length=0}let lu=class{constructor(t=50,r=50){this._pool=new k_(Array,void 0,Vle,r,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return VT.acquire()}static release(t){return VT.release(t)}static prune(){VT.prune()}};const VT=new lu(100),i5=new WeakMap;function qle(e,t,r=!1){const n=`🛑 DEPRECATED - ${t}`;if(!r)return void e.warn(n);let i=i5.get(e);i||(i=new Set,i5.set(e,i)),i.has(t)||(i.add(t),e.warn(n))}function zHe(e,t,r={}){q("esri-deprecation-warnings")&&Ph(e,`Module: ${t}`,r)}function KG(e,t,r={}){if(q("esri-deprecation-warnings")){const{moduleName:n}=r;Ph(e,`Function: ${(n?n+"::":"")+t+"()"}`,r)}}function Gle(e,t,r={}){if(q("esri-deprecation-warnings")){const{moduleName:n}=r;Ph(e,`Property: ${(n?n+"::":"")+t}`,r)}}function Wle(e,t,r={}){q("esri-deprecation-warnings")&&Ph(e,`Multiple argument constructor: ${t}`,{warnOnce:!0,replacement:`new ${t}({ <your properties here> })`,...r})}function Ph(e,t,r={}){if(q("esri-deprecation-warnings")){const{replacement:n,version:i,see:o,warnOnce:s}=r;let a=t;if(n&&(a+=`
	🛠️ Replacement: ${n}`),i&&(a+=`
	⚙️ Version: ${i}`),o)if(Array.isArray(o)){a+=`
	🔗 See for more details:`;for(const l of o)a+=`
		${l}`}else a+=`
	🔗 See ${o} for more details.`;qle(e,a,s)}}function BHe(e){const t=[];return function*(){yield*t;for(const r of e)t.push(r),yield r}}function VHe(e,t){for(const r of e)if(r!=null&&t(r))return r}function o5(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let PC=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(r=>{t+=r.length}),t}add(t,r){if(o5(t)){const n=this._getOrCreateGroup(r);for(const i of t)a5(i)&&n.push(i)}else a5(t)&&this._getOrCreateGroup(r).push(t);return this}forEach(t,r){if(typeof t=="function")this._groups.forEach(n=>n.forEach(t));else{const n=this._getGroup(t);n&&r&&n.forEach(r)}}has(t){return this._groups.has(cb(t))}remove(t){if(typeof t!="string"&&o5(t)){for(const r of t)this.remove(r);return this}return this.has(t)?(s5(this._getGroup(t)),this._groups.delete(cb(t)),this):this}removeAll(){return this._groups.forEach(s5),this._groups.clear(),this}removeReference(t){return this._groups.delete(t),this}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const r=[];return this._groups.set(cb(t),r),r}_getGroup(t){return this._groups.get(cb(t))}};function cb(e){return e||"_default_"}function s5(e){for(const t of e)t instanceof PC?t.removeAll():t.remove()}function a5(e){return e!=null&&(!!e.remove||e instanceof PC)}const YG=Symbol("Accessor-beforeDestroy");function Yn(e){return e.__accessor__??null}function Hle(e,t){return e?.metadata?.[t]!=null}function Ow(e,t,r){return r?vS(e,t,{policy:r,path:""}):vS(e,t,null)}function vS(e,t,r){return t?Object.keys(t).reduce((n,i)=>{const o=i;if(o==="__proto__")return n;let s=null,a="merge";if(r&&(s=r.path?`${r.path}.${i}`:i,a=r.policy(s)),a==="replace"||a==="replace-arrays"&&Array.isArray(n[o]))return n[o]=t[o],n;if(n[o]===void 0)return n[o]=D(t[o]),n;let l=n[o],c=t[o];if(l===c)return n;if(Array.isArray(c)||Array.isArray(n))l=l?Array.isArray(l)?n[o]=l.slice():n[o]=[l]:n[o]=[],c&&(Array.isArray(c)||(c=[c]),c.forEach(p=>{l.includes(p)||l.push(p)}));else if(c&&typeof c=="object")if(r){const p=r.path;r.path=s,n[o]=vS(l,c,r),r.path=p}else n[o]=vS(l,c,null);else n.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(n[o]=c);return n},e||{}):e}function QG(e){return Array.isArray(e)?e:e.split(".")}function l5(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function Jle(e){if(Array.isArray(e)){const t=[];for(const r of e)t.push(...l5(r));return t}return l5(e)}function XG(e,t,r,n){const i=Jle(t);if(i.length!==1){const o=i.map(s=>n(e,s,r));return P_(o)}return n(e,i[0],r)}function eW(e,t){const r=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const i=parseInt(r,10);if(!isNaN(i))return Array.isArray(t)?t[i]:t.at(i)}const n=Yn(t);return Hle(n,r)?n.get(r):t[r]}function tW(e,t,r){if(e==null)return e;const n=eW(t[r],e);return!n&&r<t.length-1?void 0:r===t.length-1?n:tW(n,t,r+1)}function m1(e,t,r=0){return typeof t!="string"||t.includes(".")?tW(e,QG(t),r):eW(t,e)}function Yd(e,t){return m1(e,t)}function u5(e,t){return m1(t,e)!==void 0}const ki={INITIALIZING:0,CONSTRUCTING:1,CONSTRUCTED:2,DESTROYING:3,DESTROYED:4};function g1(e){let t=e.constructor.__accessorMetadata__;const r=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!r){t=Object.create(t);for(const n in t)t[n]=D(t[n]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function v1(e,t){const r=g1(e);let n=r[t];return n||(n=r[t]={}),n}function Zle(e,t){return Ow(e,t,Yle)}const Kle=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function Yle(e){return Kle.test(e)?"replace":"merge"}let Qle=class{constructor(t,r){this._observers=t,this._observer=r}remove(){tG(this._observers,this._observer)}},rW=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return Xle;this._observers==null&&(this._observers=[]);const r=this._observers;let n=!1,i=!1;const o=r.length;for(let s=0;s<o;++s){const a=r[s];if(a.destroyed)i=!0;else if(a===t){n=!0;break}}return n||(r.push(t),i&&this._removeDestroyedObservers()),new Qle(r,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const r=t.length;let n=0;for(let i=0;i<r;++i){for(;i+n<r&&t[i+n].destroyed;)++n;if(n>0){if(!(i+n<r))break;t[i]=t[i+n]}}t.length=r-n}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const r of t)r.onCommitted();this._observers=null}}};const Xle=yr();var Re;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER"})(Re||(Re={}));const Aj=Re.USER+1;function pl(e){switch(e){case"defaults":return Re.DEFAULTS;case"service":return Re.SERVICE;case"portal-item":return Re.PORTAL_ITEM;case"web-scene":return Re.WEB_SCENE;case"web-map":return Re.WEB_MAP;case"link-chart":return Re.LINK_CHART;case"user":return Re.USER;default:return null}}function Rg(e){switch(e){case Re.DEFAULTS:return"defaults";case Re.SERVICE:return"service";case Re.PORTAL_ITEM:return"portal-item";case Re.WEB_SCENE:return"web-scene";case Re.WEB_MAP:return"web-map";case Re.LINK_CHART:return"link-chart";case Re.USER:return"user"}}function eue(e){return Rg(e)}const lt={Dirty:1,Overridden:2,Computing:4,NonNullable:8,HasDefaultValue:16,DepTrackingInitialized:32,AutoTracked:64,ExplicitlyTracking:128};let R_=class{constructor(t){this.accessed=void 0,this._handles=void 0,this._observer=t}destroy(){this.accessed?.clear(),this.clear()}onAccessed(t){this._observer!=null&&t!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(t))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(t=>{this._handles.push(t.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let t=0;t<this._handles.length;++t)this._handles[t].remove();this._handles.length=0}}};const bS=new R_,Rm=[];let D0=bS;function Ie(e){D0.onAccessed(e)}let Ew=!1,jw=!1;function rc(e,t,r){if(Ew)return NC(e,t,r);let n=null;return nW(e),n=t.call(r),iW(),n}function tue(e,t){return rc(bS,e,t)}function NC(e,t,r){const n=Ew;Ew=!0,nW(e);let i=null;try{i=t.call(r)}catch(o){jw&&ce.getLogger("esri.core.accessorSupport.tracking").error(o)}return iW(),Ew=n,i}function nW(e){D0=e,Rm.push(e)}function iW(){const e=Rm.length;if(e>1){const t=Rm.pop();D0=Rm[e-2],t.onTrackingEnd()}else if(e===1){const t=Rm.pop();D0=bS,t.onTrackingEnd()}else D0=bS}function oW(e,t){if(t.flags&lt.DepTrackingInitialized)return;t.flags|=lt.DepTrackingInitialized;const r=jw;jw=!1,t.flags&lt.AutoTracked?NC(t.trackingTarget,t.metadata.get,e):sW(e,t),jw=r}const rue=[];function sW(e,t){t.flags&lt.ExplicitlyTracking||(t.flags|=lt.ExplicitlyTracking,NC(t.trackingTarget,()=>{const r=t.metadata.dependsOn||rue;for(const n of r)if(typeof n!="string"||n.includes(".")){const i=QG(n);for(let o=0,s=e;o<i.length&&s!=null&&typeof s=="object";++o)s=c5(s,i[o],o!==i.length-1)}else c5(e,n,!1)}),t.flags&=~lt.ExplicitlyTracking)}function c5(e,t,r){const n=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const o=parseInt(n,10);if(!isNaN(o))return Array.isArray(e)?e[o]:e.at(o)}const i=Yn(e);if(i){const o=i.propertiesByName.get(n);o&&(Ie(o),oW(e,o))}return r?e[n]:void 0}let d5=class extends rW{constructor(t,r){super(),this.propertyName=t,this.metadata=r,this.trackingTarget=new R_(this),this.flags=0,this.flags=lt.Dirty|(r.nonNullable?lt.NonNullable:0)|(r.hasOwnProperty("value")?lt.HasDefaultValue:0)|(r.get===void 0?lt.DepTrackingInitialized:0)|(r.dependsOn===void 0?lt.AutoTracked:0)}destroy(){this.flags&lt.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(t){t.mutable&&Ie(this);const r=t.store,n=this.propertyName,i=this.flags,o=r.get(n);if(i&lt.Computing||~i&lt.Dirty&&r.has(n))return o;this.flags|=lt.Computing;const s=t.host;let a;i&lt.AutoTracked?a=rc(this.trackingTarget,this.metadata.get,s):(sW(s,this),a=this.metadata.get.call(s)),this.flags|=lt.DepTrackingInitialized,r.set(n,a,Re.COMPUTED);const l=r.get(n);return l===o?this.flags&=~lt.Dirty:tue(this.commit,this),this.flags&=~lt.Computing,l}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~lt.Dirty,this.onCommitted()}onInvalidated(){~this.flags&lt.Overridden&&(this.flags|=lt.Dirty);const t=this._observers;if(t&&t.length>0)for(const r of t)r.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const r=t.slice();for(const n of r)n.onCommitted()}}},nue=class aW{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new aW;return this._values.forEach((n,i)=>{t&&t.has(i)||r.set(i,D(n))}),r}get(t){return this._values.get(t)}originOf(){return Re.USER}keys(){return[...this._values.keys()]}set(t,r){this._values.set(t,r)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}isAtOrigin(t,r){return this.has(t)}isBelowOrigin(t,r){return!this.has(t)}forEach(t){this._values.forEach(t)}};function jp(e,t,r){return e!==void 0}function p5(e,t,r,n){return e!==void 0&&(!(r==null&&e.flags&lt.NonNullable)||(n.lifecycle,!1))}let iue=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=ki.INITIALIZING,this.store=new nue,this.mutable=!0,this._origin=Re.USER;const r=this.host.constructor.__accessorMetadata__;for(const n in r){const i=new d5(n,r[n]);this.propertiesByName.set(n,i)}this.metadata=r}initialize(){this.lifecycle=ki.CONSTRUCTING}constructed(){this.lifecycle=ki.CONSTRUCTED}destroy(){this.lifecycle=ki.DESTROYED,this.propertiesByName.forEach(t=>t.destroy())}get initialized(){return this.lifecycle!==ki.INITIALIZING}get(t){const r=this.propertiesByName.get(t);if(!jp(r))return;if(r.metadata.get)return r.getComputed(this);this.mutable&&Ie(r);const n=this.store;return n.has(t)?n.get(t):r.metadata.value}originOf(t){const r=this.store.originOf(t);if(r===void 0){const n=this.propertiesByName.get(t);if(n!==void 0&&n.flags&lt.HasDefaultValue)return"defaults"}return Rg(r)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const r=this.propertiesByName.get(t);if(jp(r))return this.store.has(t)?this.store.get(t):r.metadata.value}internalSet(t,r){const n=this.propertiesByName.get(t);jp(n)&&this._internalSet(n,r)}getDependsInfo(t,r,n){const i=this.propertiesByName.get(r);if(!jp(i))return"";const o=new R_,s=rc(o,()=>i.metadata.get?.call(t));let a=`${n}${t.declaredClass.split(".").pop()}.${r}: ${s}
`;const l=o.accessed??new Set;if(l.size===0)return a;n+="  ";for(const c of l)c instanceof d5&&(a+=`${n}${c.propertyName}: undefined
`);return a}setAtOrigin(t,r,n){const i=this.propertiesByName.get(t);if(jp(i))return this._setAtOrigin(i,r,n)}isOverridden(t){const r=this.propertiesByName.get(t);return r!==void 0&&!!(r.flags&lt.Overridden)}clearOrigin(t,r){const n=this.store,i=this.propertiesByName.get(t);if(!jp(i))return;const o=n.isAtOrigin(t,r)&&!(i.flags&lt.Overridden);n.delete(t,r),o&&i.notifyChange()}clearOverride(t){const r=this.propertiesByName.get(t);r&&r.flags&lt.Overridden&&(r.flags&=~lt.Overridden,r.notifyChange())}override(t,r){const n=this.propertiesByName.get(t);if(!p5(n,t,r,this))return;const i=n.metadata.cast;if(i){const o=this._cast(i,r),{valid:s,value:a}=o;if(qT.release(o),!s)return;r=a}n.flags|=lt.Overridden,this._internalSet(n,r)}set(t,r){const n=this.propertiesByName.get(t);if(!p5(n,t,r,this))return;const i=n.metadata.cast;if(i){const s=this._cast(i,r),{valid:a,value:l}=s;if(qT.release(s),!a)return;r=l}const o=n.metadata.set;o?o.call(this.host,r):this._internalSet(n,r)}setDefaultOrigin(t){this._origin=pl(t)}getDefaultOrigin(){return Rg(this._origin)}notifyChange(t){const r=this.propertiesByName.get(t);r!==void 0&&r.notifyChange()}invalidate(t){const r=this.propertiesByName.get(t);r!==void 0&&r.invalidate()}commit(t){const r=this.propertiesByName.get(t);r!==void 0&&r.commit()}_internalSet(t,r){const n=this.lifecycle!==ki.INITIALIZING?this._origin:Re.DEFAULTS;this._setAtOrigin(t,r,n)}_setAtOrigin(t,r,n){const i=this.store,o=t.propertyName;if(i.isAtOrigin(o,n)&&pC(r,i.get(o))&&~t.flags&lt.Overridden)return;const s=i.isBelowOrigin(o,n)||i.isAtOrigin(o,n);s&&t.invalidate(),i.set(o,r,n),s&&t.commit(),oW(this.host,t)}_cast(t,r){const n=qT.acquire();return n.valid=!0,n.value=r,t&&(n.value=t.call(this.host,r,n)),n}},oue=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const qT=new k_(oue);function wS(e,t,r){if(e&&t)if(typeof t=="object")for(const n of Object.getOwnPropertyNames(t))wS(e,n,t[n]);else{if(t.includes(".")){const i=t.split("."),o=i.splice(-1,1)[0];return void wS(Yd(e,i),o,r)}const n=e.__accessor__;n!=null&&sue(t,n),e[t]=r}}function sue(e,t){if(q("esri-unknown-property-errors")&&!aue(e,t))throw new Z("set:unknown-property",lue(e,t))}function aue(e,t){return t.metadata[e]!=null}function lue(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}let uue;function cue(){return uue}var f5;(function(e){e[e.Ignore=0]="Ignore",e[e.Destroy=1]="Destroy",e[e.ThrowError=2]="ThrowError"})(f5||(f5={}));let due=class extends k_{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const r=super.acquire(...t);return this._set.delete(r),r}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const db=[];function xS(e){db.push(e),db.length===1&&queueMicrotask(()=>{const t=db.slice();db.length=0;for(const r of t)r()})}let lW=class{constructor(t,r=30){this.name=t,this._counter=0,this._samples=new Array(r)}push(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}set(t){t!=null&&(this._samples[this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,r)=>t-r)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,r)=>t+r,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var Pj;(function(e){const t=(o,s,a,l)=>{let c=s,p=s;const h=a>>>1,y=o[c-1];for(;p<=h;){p=c<<1,p<a&&l(o[p-1],o[p])<0&&++p;const m=o[p-1];if(l(m,y)<=0)break;o[c-1]=m,c=p}o[c-1]=y},r=(o,s)=>o<s?-1:o>s?1:0;function n(o,s,a,l){s===void 0&&(s=0),a===void 0&&(a=o.length),l===void 0&&(l=r);for(let p=a>>>1;p>s;p--)t(o,p,a,l);const c=s+1;for(let p=a-1;p>s;p--){const h=o[s];o[s]=o[p],o[p]=h,t(o,c,p,l)}}function*i(o,s,a,l){s===void 0&&(s=0),a===void 0&&(a=o.length),l===void 0&&(l=r);for(let p=a>>>1;p>s;p--)t(o,p,a,l),yield;const c=s+1;for(let p=a-1;p>s;p--){const h=o[s];o[s]=o[p],o[p]=h,t(o,c,p,l),yield}}e.sort=n,e.iterableSort=i})(Pj||(Pj={}));const h5=Pj,pue=1.5,fue=1.1;let uW=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new Xq,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>y5(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const r=new Array;for(let n=0;n<this._length;n++){const i=this.data[n];t(i)&&r.push(i)}return r}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,r){const n=this.data.indexOf(t,r);return n!==-1&&n<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let r=t;r<this._length;++r)this.data[r]=this._deallocator(this.data[r]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,r=t.length){for(let n=0;n<r;n++)this.data[this._length++]=t[n]}fill(t,r){for(let n=0;n<r;n++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,y5(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const r=bj(this.data,t,this.length,this._hint);if(r!==-1)return this.data.splice(r,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(bj(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,r=t.length,n){this.length=fae(this.data,t,this.length,r,this._hint,n),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,r){if(t>=this.length||r>=this.length||t===r)return;const n=this.data[t];this.data[t]=this.data[r],this.data[r]=n}sort(t){h5.sort(this.data,0,this.length,t)}iterableSort(t){return h5.iterableSort(this.data,0,this.length,t)}some(t,r){for(let n=0;n<this.length;++n)if(t.call(r,this.data[n],n,this.data))return!0;return!1}find(t,r){const{data:n,length:i}=this;for(let o=0;o<i;++o)if(t.call(r,n[o]))return n[o]}filterInPlace(t,r){let n=0;for(let i=0;i<this._length;++i){const o=this.data[i];t.call(r,o,i,this.data)&&(this.data[i]=this.data[n],this.data[n]=o,n++)}if(this._deallocator)for(let i=n;i<this._length;i++)this.data[i]=this._deallocator(this.data[i]);return this._length=n,this._shrink(),this}forAll(t,r){const{data:n,length:i}=this;for(let o=0;o<i;++o)t.call(r,n[o],o,n)}forEach(t,r){this.data.slice(0,this.length).forEach(t,r)}map(t,r){const n=new Array(this.length);for(let i=0;i<this.length;++i)n[i]=t.call(r,this.data[i],i,this.data);return n}reduce(t,r){let n=r;for(let i=0;i<this.length;++i)n=t(n,this.data[i],i,this.data);return n}has(t){const r=this.length,n=this.data;for(let i=0;i<r;++i)if(n[i]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function y5(e){e.data.length>pue*e.length&&(e.data.length=Math.floor(e.length*fue))}function eJe(e){return e}function tJe(e){return 1e3*e}function rJe(e){return e}let hue=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},m5=0;const um={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},Nj=["prepare","preRender","render","postRender","update","finish"],Mj=[],Lg=new uW;function yue(){}const Cj={frameTasks:Lg,willDispatch:!1,clearFrameTasks:mue,dispatch:pW,executeFrameTasks:gue,reschedule:yue};function cW(e){const t=new hue(e);return Mj.push(t),Cj.willDispatch||(Cj.willDispatch=!0,xS(pW)),t}function mue(e=!1){Lg.forAll(t=>{t.removed=!0}),e&&dW()}function gue(e){const t=e-m5;m5=e;const r=1e3/60,n=Math.max(0,t-r);um.time=e,um.frameDuration=r-n;for(let i=0;i<Nj.length;i++){const o=performance.now(),s=Nj[i];Lg.forAll(a=>{a.paused||a.removed||(i===0&&a.ticks++,a.phases[s]&&(um.elapsedFrameTime=performance.now()-e,um.deltaTime=a.ticks===0?0:t,a.phases[s]?.call(a,um)))}),wue[i].push(performance.now()-o)}dW(),xue.push(performance.now()-e)}const pb=new uW;function dW(){Lg.forAll(e=>{e.removed&&pb.push(e)}),Lg.removeUnorderedMany(pb.data,pb.length),pb.clear()}function pW(){for(;Mj.length;){const e=Mj.shift();e.isActive&&e.callback()}Cj.willDispatch=!1}function vue(e=1,t){const r=tc(),n=()=>{El(t)?r.reject(hr()):e===0?r():(--e,xS(()=>n()))};return n(),r.promise}function bue(e){return vue(1,e)}async function iJe(e){await bue(e),await new Promise(t=>requestAnimationFrame(()=>{e?.aborted||t()}))}const wue=Nj.map(e=>new lW(e)),xue=new lW("total");function oJe(e,t){for(const r of e.values())if(t(r))return!0;return!1}function SS(e,t){if(!t)return e;for(const r of t)r!=null&&e.add(r);return e}function g5(e,t){return t!=null&&e.add(t),e}function fW(e,t){const r=new Set;return SS(r,e),SS(r,t),r}function sJe(e,t){const r=new Set;for(const n of t)e.has(n)&&r.add(n);return r}function aJe(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const r of e)if(!t.has(r))return!1;return!0}function lJe(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function uJe(e,t){const r=new Set(e);for(const n of t)r.delete(n);return r}let Sue=0;function Iw(){return++Sue}let MC=class extends R_{constructor(t){super(new _ue(t)),this._observer&&v5.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&v5.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}},_ue=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=$ue}};const v5=new FinalizationRegistry(e=>{e.deref()?.destroy()});function $ue(){}let nh=!1;const _S=[];function hW(e,t){let r=new MC(o),n=null,i=!1;function o(){if(!r||i)return;if(nh)return void gW(o);const a=n;r.clear(),nh=!0,i=!0,n=rc(r,e),i=!1,nh=!1,t(n,a),vW()}function s(){r&&(r.destroy(),r=null,n=null)}return i=!0,n=rc(r,e),i=!1,yr(s)}function yW(e,t){let r=new MC(i),n=null;function i(){t(n,s)}function o(){r&&(r.destroy(),r=null),n=null}function s(){return r?(r.clear(),n=rc(r,e),n):null}return s(),yr(o)}function mW(e,t){let r=!1,n=!1;const i=!!t?.sync;let o=new MC(()=>{r||n||(n=!0,i?s():queueMicrotask(s))});function s(){n=!1,o&&!r&&(nh?gW(s):(o.clear(),nh=!0,r=!0,rc(o,e),r=!1,nh=!1,vW()))}function a(){o&&(o.destroy(),o=null)}return r=!0,rc(o,e),r=!1,yr(a)}function gW(e){_S.includes(e)||_S.unshift(e)}function vW(){for(;_S.length;)_S.pop()()}var F0;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(F0||(F0={}));var yy;let CC=(yy=class{constructor(){this.uid=Iw(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,r,n,i,o){return this.pool.acquire(F0.Untracked,t,r,n,i,o,pC)}static acquireTracked(t,r,n,i){return this.pool.acquire(F0.Tracked,t,r,n,null,null,i)}notify(t,r){this.type===F0.Untracked?this.callback.call(this.target,t,r,this.path,this.target):this.callback.call(null,t,r,void 0,void 0)}acquire(t,r,n,i,o,s,a){this.uid=Iw(),this.removed=!1,this.type=t,this.oldValue=r,this.callback=n,this.getValue=i,this.target=o,this.path=s,this.equals=a}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=Iw(),this.removed=!0}},yy.pool=new due(yy),yy);const Aw=new lu,Ju=new Set;let $S;function TS(e){Ju.delete(e),Ju.add(e),$S||($S=cW(Eue))}function Tue(e){if(e.removed)return;const t=e.oldValue,r=e.getValue();e.equals(t,r)||(e.oldValue=r,e.notify(r,t))}function Oue(e){for(const t of Ju.values())t.target===e&&(t.removed=!0)}function Eue(){let e=10;for(;$S&&e--;){$S=null;const t=jue(),r=Aw.acquire();for(const n of t){const i=n.uid;Tue(n),i===n.uid&&n.removed&&r.push(n)}for(const n of Ju)n.removed&&(r.push(n),Ju.delete(n));for(const n of r)CC.pool.release(n);Aw.release(r),Aw.release(t),Iue.forEach(n=>n())}}function jue(){const e=Aw.acquire();e.length=Ju.size;let t=0;for(const r of Ju)e[t]=r,++t;return Ju.clear(),e}const Iue=new Set;function Aue(e,t,r){let n=XG(e,t,r,(i,o,s)=>{let a,l,c=yW(()=>m1(i,o),(p,h)=>{i.__accessor__?.lifecycle===ki.DESTROYED||a&&a.uid!==l?n.remove():(a||(a=CC.acquireUntracked(p,s,h,i,o),l=a.uid),TS(a))});return yr(()=>{c.remove(),a&&(a.uid!==l||a.removed||(a.removed=!0,TS(a)),a=null),n=c=null})});return n}function Pue(e,t,r){const n=XG(e,t,r,(i,o,s)=>{let a=!1;return hW(()=>m1(i,o),(l,c)=>{i.__accessor__.lifecycle!==ki.DESTROYED?a||(a=!0,pC(c,l)||s.call(i,l,c,o,i),a=!1):n.remove()})});return n}function Nue(e,t,r,n=!1){return e.__accessor__&&e.__accessor__.lifecycle!==ki.DESTROYED?n?Pue(e,t,r):Aue(e,t,r):yr()}function Mue(e,t,r){let n,i,o=yW(e,(s,a)=>{n&&n.uid!==i?o.remove():(n||(n=CC.acquireTracked(s,t,a,r),i=n.uid),TS(n))});return yr(()=>{o.remove(),n&&(n.uid!==i||n.removed||(n.removed=!0,TS(n)),n=null),o=null})}function Cue(e,t,r){let n=!1;return hW(e,(i,o)=>{n||(n=!0,r(o,i)||t(i,o),n=!1)})}function kue(e,t,r=!1,n=gae){return r?Cue(e,t,n):Mue(e,t,n)}const kd=()=>ce.getLogger("esri.core.accessorSupport.ensureTypes");function Rue(e){if(e==null)return e;const t=new Date(e);return isNaN(t.getTime())?(kd().error("Accessor#set",`Invalid date value: '${e}', falling back to current date`),new Date):t}function Lue(e){return e==null?e:!!e}function b1(e){return e==null?e:e.toString()}function Vn(e,t=0){return e==null?e:(e=parseFloat(e),isNaN(e)?t:e)}function kC(e){return e==null?e:Math.round(parseFloat(e))}function Due(e){return null}function Fue(e,t){return r=>{let n=e(r);return t.step!=null&&(n=Math.round(n/t.step)*t.step),t.min!=null&&(n=Math.max(t.min,n)),t.max!=null&&(n=Math.min(t.max,n)),n}}function bW(e){return e?.constructor&&e.constructor.__accessorMetadata__!==void 0}function OS(e,t){return t!=null&&e&&!(t instanceof e)}function wW(e){return e&&"isCollection"in e}function b5(e){return e?.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function Uue(e,t){if(!t?.constructor||!wW(t.constructor))return kj(e,t)?t:new e(t);const r=b5(e.prototype.itemType),n=b5(t.constructor.prototype.itemType);return r?n?r===n?t:r.prototype.isPrototypeOf(n.prototype)?new e(t):(kj(e,t),t):new e(t):t}function kj(e,t){return!!bW(t)&&(kd().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+D_(e)+"'"),!0)}function L_(e,t){return t==null?t:wW(e)?Uue(e,t):OS(e,t)?kj(e,t)?t:new e(t):t}function D_(e){return e?.prototype?.declaredClass||"unknown"}const zue=new WeakMap;function Bue(e){switch(e){case Number:return t=>Vn(t);case ze:return kC;case Boolean:return Lue;case String:return b1;case Date:return Rue;case Ty:return Due;default:return A_(zue,e,()=>L_.bind(null,e))}}function mr(e,t){const r=Bue(e);return arguments.length===1?r:r(t)}function Dg(e,t,r){return arguments.length===1?Dg.bind(null,e):t&&(Array.isArray(t)?t.map(n=>e(n,r)):[e(t,r)])}function Vue(e,t){return arguments.length===1?Dg(r=>mr(e,r)):Dg(r=>mr(e,r),t)}function xW(e,t,r){return t!==0&&Array.isArray(r)?r.map(n=>xW(e,t-1,n)):e(r)}function ES(e,t,r){if(arguments.length===2)return o=>ES(e,t,o);if(!r)return r;r=xW(e,t,r);let n=t,i=r;for(;n>0&&Array.isArray(i);)n--,i=i[0];if(i!==void 0)for(let o=0;o<n;o++)r=[r];return r}function que(e,t,r){return arguments.length===2?ES(n=>mr(e,n),t):ES(n=>mr(e,n),t,r)}function SW(e){return!!Array.isArray(e)&&!e.some(t=>{const r=typeof t;return!(r==="string"||r==="number"||r==="function"&&e.length>1)})}function Rj(e,t){if(arguments.length===2)return Rj(e).call(null,t);const r=new Set,n=e.filter(a=>typeof a!="function"),i=e.filter(a=>typeof a=="function");for(const a of e)typeof a!="string"&&typeof a!="number"||r.add(a);let o=null,s=null;return(a,l)=>{if(a==null)return a;const c=typeof a,p=c==="string"||c==="number";return p&&(r.has(a)||i.some(h=>c==="string"&&h===String||c==="number"&&h===Number))||c==="object"&&i.some(h=>!OS(a,h))?a:(p&&n.length?(o||(o=n.map(h=>typeof h=="string"?`'${h}'`:`${h}`).join(", ")),kd().error("Accessor#set",`'${a}' is not a valid value for this property, only the following values are valid: ${o}`)):typeof a=="object"&&i.length?(s||(s=i.map(h=>D_(h)).join(", ")),kd().error("Accessor#set",`'${a}' is not a valid value for this property, value must be one of ${s}`)):kd().error("Accessor#set",`'${a}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function ha(e,t){if(arguments.length===2)return ha(e).call(null,t);const r={},n=[],i=[];for(const l in e.typeMap){const c=e.typeMap[l];r[l]=mr(c),n.push(D_(c)),i.push(l)}const o=()=>`'${n.join("', '")}'`,s=()=>`'${i.join("', '")}'`,a=typeof e.key=="string"?l=>l[e.key]:e.key;return l=>{if(e.base&&!OS(e.base,l)||l==null)return l;const c=a(l)||e.defaultKeyValue,p=r[c];if(!p)return kd().error("Accessor#set",`Invalid property value, value needs to be one of ${o()}, or a plain object that can autocast (having .type = ${s()})`),null;if(!OS(e.typeMap[c],l))return l;if(typeof e.key=="string"&&!bW(l)){const h={};for(const y in l)y!==e.key&&(h[y]=l[y]);return p(h)}return p(l)}}let ze=class{},Ty=class{};const hJe={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function Gue(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function _W(e){switch(e.type){case"native":return mr(e.value);case"array":return Dg(_W(e.value));case"one-of":return Wue(e);default:return null}}function Wue(e){let t=null;return(r,n)=>Dj(r,e)?r:(t==null&&(t=Lj(e)),kd().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),n&&(n.valid=!1),null)}function Lj(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case ze:return"integer";case Date:return"date";case Ty:return"null";default:return D_(e.value)}case"array":return`array of ${Lj(e.value)}`;case"one-of":{const t=e.values.map(r=>Lj(r));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function Dj(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case ze:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string";case Ty:return e===null}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(r=>!Dj(r,t.value));case"one-of":return t.values.some(r=>Dj(e,r))}}function d(e={}){return(t,r)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${r}. Accessor does not support static properties.`);const n=Object.getOwnPropertyDescriptor(t,r),i=v1(t,r);n&&(n.get||n.set?(i.get=n.get||i.get,i.set=n.set||i.set):"value"in n&&("value"in e&&ce.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${r}" on "${t.constructor.name}" already defined in the metadata`,e),i.value=e.value=n.value)),e.readOnly!=null&&(i.readOnly=e.readOnly);const o=e.aliasOf;if(o){const l=typeof o=="string"?o:o.source,c=typeof o=="string"?null:o.overridable===!0;let p;i.dependsOn=[l],i.get=function(){let h=Yd(this,l);if(typeof h=="function"){p||(p=l.split(".").slice(0,-1).join("."));const y=Yd(this,p);y&&(h=h.bind(y))}return h},i.readOnly||(i.set=c?function(h){this._override(r,h)}:function(h){wS(this,l,h)})}const s=e.type,a=e.types;if(!i.cast){let l;s?l=Hue(s):a&&(l=Array.isArray(a)?Dg(ha(a[0])):ha(a)),e.cast=Jue(e.cast,l)}Zle(i,e),e.range&&(i.cast=Fue(i.cast,e.range))}}function RC(e,t,r){const n=v1(e,r);n.json||(n.json={});let i=n.json;return t!==void 0&&(i.origins||(i.origins={}),i.origins[t]||(i.origins[t]={}),i=i.origins[t]),i}function Hue(e){let t=0,r=e;if(Gue(e))return _W(e);for(;Array.isArray(r)&&r.length===1&&typeof r[0]!="string"&&typeof r[0]!="number";)r=r[0],t++;const n=r;if(SW(n))return t===0?Rj(n):ES(Rj(n),t);if(t===1)return Vue(n);if(t>1)return que(n,t);const i=e;return i.from?i.from:mr(i)}function Jue(e,t){if(e||t)return e?t?(r,n)=>t(e(r,n),n):e:t}function Zue(e){if(e.json&&e.json.origins){const t=e.json.origins,r={"web-document":["web-scene","web-map"]};for(const n in r)if(t[n]){const i=t[n];r[n].forEach(o=>{t[o]=i}),delete t[n]}}}let Os=class extends hG{constructor(t,r,n){super(t,r,n)}};Os.prototype.type="warning";function $W(e){return!!e&&e.prototype?.declaredClass&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const Fj=()=>ce.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function w5(e,t,r){e&&(!r&&!t.read||t.read?.reader||t.read?.enabled===!1||Que(e)&&nr("read.reader",Oy(e),t))}function Oy(e){const t=e.ndimArray??0;if(t>1)return Yue(e);if(t===1)return x5(e);if("type"in e&&OW(e.type)){const r=e.type.prototype?.itemType?.Type,n=x5(typeof r=="function"?{type:r}:{types:r});return(i,o,s)=>{const a=n(i,o,s);return a&&new e.type(a)}}return LC(e)}function LC(e){return"type"in e?Kue(e.type):Xue(e.types)}function Kue(e){return e.prototype.read?(t,r,n)=>{if(t==null)return t;const i=typeof t;if(i!=="object")return void Fj().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${i}'`);const o=new e;return o.read(t,n),o}:e.fromJSON}function TW(e,t,r,n){return n!==0&&Array.isArray(t)?t.map(i=>TW(e,i,r,n-1)):e(t,void 0,r)}function Yue(e){const t=LC(e),r=TW.bind(null,t),n=e.ndimArray??0;return(i,o,s)=>{if(i==null)return i;i=r(i,s,n);let a=n,l=i;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let c=0;c<a;c++)i=[i];return i}}function x5(e){const t=LC(e);return(r,n,i)=>{if(r==null)return r;if(Array.isArray(r)){const s=[];for(const a of r){const l=t(a,void 0,i);l!==void 0&&s.push(l)}return s}const o=t(r,void 0,i);return o!==void 0?[o]:void 0}}function OW(e){if(!$W(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?DC(t.Type):EW(t.Type))}function Que(e){return"types"in e?EW(e.types):DC(e.type)}function DC(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||OW(e))}function EW(e){for(const t in e.typeMap)if(!DC(e.typeMap[t]))return!1;return!0}function Xue(e){let t=null;const r=e.errorContext??"type",n=e.validate;return(i,o,s)=>{if(i==null)return i;const a=typeof i;if(a!=="object")return void Fj().error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);t||(t=ece(e));const l=e.key;if(typeof l!="string")return;const c=i[l],p=c?t[c]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!p){const y=`Type '${c||"unknown"}' is not supported`;return s?.messages&&i&&s.messages.push(new Os(`${r}:unsupported`,y,{definition:i,context:s})),void Fj().error(y)}const h=new p;return h.read(i,s),n?n(h):h}}function ece(e){const t={};for(const r in e.typeMap){const n=e.typeMap[r],i=g1(n.prototype);if(typeof e.key=="function")continue;const o=i[e.key];if(!o)continue;if(o.json?.type&&Array.isArray(o.json.type)&&o.json.type.length===1&&typeof o.json.type[0]=="string"){t[o.json.type[0]]=n;continue}const s=o.json?.write;if(!s?.writer){t[r]=n;continue}const a=s.target,l=typeof a=="string"?a:e.key,c={};s.writer(r,c,l),c[l]&&(t[c[l]]=n)}return t}function tce(e){if(e.json||(e.json={}),_5(e.json),$5(e.json),S5(e.json),e.json.origins)for(const t in e.json.origins)_5(e.json.origins[t]),$5(e.json.origins[t]),S5(e.json.origins[t]);return!0}function S5(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function _5(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function $5(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function T5(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const r=e?.ndimArray??0;e&&(r===1||"type"in e&&$W(e.type))?t.write.writer=ice:r>1?t.write.writer=oce(r):t.types?Array.isArray(t.types)?t.write.writer=nce(t.types[0]):t.write.writer=rce(t.types):t.write.writer=Fg}function rce(e){return(t,r,n,i)=>t?jW(t,e,i)?Fg(t,r,n,i):void 0:Fg(t,r,n,i)}function jW(e,t,r){for(const n in t.typeMap)if(e instanceof t.typeMap[n])return!0;if(r?.messages){const n=t.errorContext??"type",i=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;r&&r.messages&&e&&r.messages.push(new Z(`${n}:unsupported`,i,{definition:e,context:r})),ce.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(i)}return!1}function nce(e){return(t,r,n,i)=>!t||!Array.isArray(t)?Fg(t,r,n,i):Fg(t.filter(o=>jW(o,e,i)),r,n,i)}function Fg(e,t,r,n){nr(r,jS(e,n),t)}function jS(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?IS(e):e}function IS(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function ice(e,t,r,n){let i;e===null?i=null:e&&typeof e.map=="function"?(i=e.map(o=>jS(o,n)),typeof i.toArray=="function"&&(i=i.toArray())):i=[jS(e,n)],nr(r,i,t)}function IW(e,t,r){return r!==0&&Array.isArray(e)?e.map(n=>IW(n,t,r-1)):jS(e,t)}function oce(e){return(t,r,n,i)=>{let o;if(t===null)o=null;else{o=IW(t,i,e);let s=e,a=o;for(;s>0&&Array.isArray(a);)s--,a=a[0];if(a!==void 0)for(let l=0;l<s;l++)o=[o]}nr(n,o,r)}}function sce(e,t){return FC(e,"any",t?.origin)}function Uj(e,t){return FC(e,"read",t?.origin)}function AW(e,t){return FC(e,"write",t?.origin)}function FC(e,t,r){let n=e?.json;if(n?.origins&&r){let i;i=r==="link-chart"?n.origins[r]&&(t==="any"||t in n.origins[r])?n.origins[r]:n.origins["web-map"]:n.origins[r],i&&(t==="any"||t in i)&&(n=i)}return n}function ace(e){const t=lce(e);if(e.json.origins)for(const r in e.json.origins){const n=e.json.origins[r],i=n.types?uce(n):t;w5(i,n,!1),n.types&&!n.write&&e.json.write?.enabled&&(n.write={...e.json.write}),T5(i,n)}w5(t,e.json,!0),T5(t,e.json)}function lce(e){return e.json.types?zj(e.json):e.type?PW(e):zj(e)}function uce(e){return e.type?PW(e):zj(e)}function PW(e){if(!e.type)return;let t=0,r=e.type;for(;Array.isArray(r)&&!SW(r);)r=r[0],t++;return{type:r,ndimArray:t}}function zj(e){if(!e.types)return;let t=0,r=e.types;for(;Array.isArray(r);)r=r[0],t++;return{types:r,ndimArray:t}}function cce(e){tce(e)&&(Zue(e),ace(e))}const GT=new Set,WT=new Set;function I(e){return t=>{e??(e="esri.core.Accessor"),t.prototype.declaredClass=e,pce(t);const r=[],n=[];let i=t.prototype;for(;i;)i.hasOwnProperty("initialize")&&!GT.has(i.initialize)&&(GT.add(i.initialize),r.push(i.initialize)),i.hasOwnProperty("destroy")&&!WT.has(i.destroy)&&(WT.add(i.destroy),n.push(i.destroy)),i=Object.getPrototypeOf(i);GT.clear(),WT.clear();const o=class extends t{constructor(...a){if(super(...a),this.constructor===o&&typeof this.postscript=="function"){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=r.length-1;l>=0;l--)r[l].call(this)}}),n.length){let l=!1;const c=this[YG];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){this.__accessor__.lifecycle=ki.DESTROYING,l=!0,c.call(this);for(let p=0;p<n.length;p++)n[p].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};o.__accessorMetadata__=g1(t.prototype),o.prototype.declaredClass=e;const s=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(o,"name",{value:s,configurable:!0}),o}}function dce(e,t){return t.get==null?function(){const r=this.__accessor__,n=r.propertiesByName.get(e);if(n===void 0)return;r.mutable&&Ie(n);const i=r.store;return i.has(e)?i.get(e):n.metadata.value}:function(){const r=this.__accessor__,n=r.propertiesByName.get(e);if(n!==void 0)return n.getComputed(r)}}function pce(e){const t=e.prototype,r=g1(t),n={};for(const i of Object.getOwnPropertyNames(r)){const o=r[i];cce(o),n[i]={enumerable:!0,configurable:!0,get:dce(i,o),set(s){const a=this.__accessor__;if(a!==void 0){if(a.mutable)return a.initialized&&o.readOnly?O5("read-only",i):a.lifecycle===ki.CONSTRUCTED&&o.constructOnly?O5("construct-only",i):void a.set(i,s)}else Object.defineProperty(this,i,{enumerable:!0,configurable:!0,writable:!0,value:s})}}}Object.defineProperties(e.prototype,n)}const O5=(e,t)=>{ce.getLogger("esri.core.Accessor").error(`cannot assign to ${e} property '${t}'`)};var E5,j5;function fce(e){if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor?.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const Ms=Symbol("Accessor-Handles"),HT=Symbol("Accessor-Initialized");var zd;let dt=(zd=class{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:r,declaredClass:n,constructor:i}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const o=this;class s extends o{constructor(...l){super(...l),this.inherited=null,i&&i.apply(this,l)}}g1(s.prototype);for(const a in t){const l=t[a];s.prototype[a]=typeof l=="function"?function(...c){const p=this.inherited;let h;this.inherited=function(...y){if(o.prototype[a])return o.prototype[a].apply(this,y)};try{h=l.apply(this,c)}catch(y){throw this.inherited=p,y}return this.inherited=p,h}:t[a]}for(const a in r){const l=fce(r[a]);d(l)(s.prototype,a)}return I(n)(s)}static freeze(t){return t instanceof zd?t.__accessor__.mutable=!1:Object.freeze(t),t}static isFrozen(t){return t instanceof zd?!t.__accessor__.mutable:Object.isFrozen(t)}constructor(...t){if(this[E5]=null,this[j5]=!1,this.constructor===zd)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const r=new iue(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:r}),t.length>0&&(r.ctorArgs=this.normalizeCtorArgs?.apply(this,t)??t[0])}postscript(){const t=this.__accessor__,r=t.ctorArgs;t.initialize(),r&&(this.set(r),t.ctorArgs=null),t.constructed(),this.initialize(),this[HT]=!0}initialize(){}[YG](){this[Ms]=_o(this[Ms])}destroy(){this.destroyed||(Oue(this),this.__accessor__.destroy(),cue()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[HT]}get destroyed(){return this.__accessor__?.lifecycle===ki.DESTROYED||!1}get destroying(){return this.__accessor__?.lifecycle===ki.DESTROYING||!1}commitProperty(t){Yd(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,r){return wS(this,t,r),this}watch(t,r,n){return KG(ce.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://arcg.is/1vaqf42#watch",warnOnce:!0}),Nue(this,t,r,n)}addHandles(t,r){if(this.destroyed){const n=Array.isArray(t)?t:[t];for(const i of n)i.remove();return}(this[Ms]??(this[Ms]=new PC)).add(t,r)}removeHandles(t){this[Ms]?.remove(t)}removeAllHandles(){this[Ms]?.removeAll()}removeHandlesReference(t){this[Ms]?.removeReference(t)}hasHandles(t){return this[Ms]?.has(t)===!0}_override(t,r){r===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,r){r==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,r){return this.__accessor__.internalSet(t,r),this}},E5=Ms,j5=HT,zd),Pw=class NW{constructor(){this._emitter=new NW.EventEmitter(this)}emit(t,r){return this._emitter.emit(t,r)}on(t,r){return this._emitter.on(t,r)}once(t,r){return this._emitter.once(t,r)}hasEventListener(t){return this._emitter.hasEventListener(t)}};(function(e){class t{constructor(i=null){this._target=i,this._listenersMap=null}clear(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clear()}emit(i,o){let s=this._listenersMap?.get(i);if(!s)return!1;const a=this._target||this;let l=!1;for(const c of s.slice()){const p="deref"in c?c.deref():c;p?p?.call(a,o):l=!0}return l&&(s=s.filter(c=>!("deref"in c)||c.deref()!=null),this._listenersMap.set(i,s)),s.length>0}on(i,o){if(Array.isArray(i)){const a=i.map(l=>this.on(l,o));return P_(a)}if(i.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??(this._listenersMap=new Map);const s=this._listenersMap.get(i)||[];return s.push(o),this._listenersMap.set(i,s),yr(()=>{const a=this._listenersMap?.get(i),l=a?.indexOf(o)??-1;l>=0&&a.splice(l,1)})}once(i,o){const s=this.on(i,a=>{s.remove(),("deref"in o?o.deref():o)?.call(null,a)});return s}hasEventListener(i){const o=this._listenersMap?.get(i);return o!=null&&o.length>0}}e.EventEmitter=t,e.EventedMixin=n=>{let i=class extends n{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(o,s){return this._emitter.emit(o,s)}on(o,s){return this._emitter.on(o,s)}once(o,s){return this._emitter.once(o,s)}hasEventListener(o){return this._emitter.hasEventListener(o)}};return i=u([I("esri.core.Evented")],i),i};let r=class extends dt{constructor(){super(...arguments),this._emitter=new Pw.EventEmitter(this)}destroy(){this._emitter.clear()}emit(n,i){return this._emitter.emit(n,i)}on(n,i){return this._emitter.on(n,i)}once(n,i){return this._emitter.once(n,i)}hasEventListener(n){return this._emitter.hasEventListener(n)}};r=u([I("esri.core.Evented.EventedAccessor")],r),e.EventedAccessor=r})(Pw||(Pw={}));const F_=Pw;var et;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(et||(et={}));function MW(e){return(t,r)=>{t[r]=e}}let UC=class extends rW{notify(){const t=this._observers;if(t&&t.length>0){const r=t.slice();for(const n of r)n.onInvalidated(),n.onCommitted()}}};var Oa;let hce=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}},yce=class{constructor(t,r,n,i,o){this.target=t,this.added=r,this.removed=n,this.start=i,this.deleteCount=o}};const Ki=new k_(hce,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1});function I5(e){e&&typeof e=="object"&&"destroy"in e&&typeof e.destroy=="function"&&e.destroy()}function JT(e){return e?e instanceof uu?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function ZT(e){if(e?.length)return e[0]}function mce(e,t,r,n){const i=Math.min(e.length-r,t.length-n);let o=0;for(;o<i&&e[r+o]===t[n+o];)o++;return o}function CW(e,t,r,n){t&&t.forEach((i,o,s)=>{e.push(i),CW(e,r.call(n,i,o,s),r,n)})}const Bl=new Set,Vl=new Set,ql=new Set,KT=new Map;let gce=0;var my;let uu=(my=class extends F_.EventedAccessor{static isCollection(t){return t!=null&&t instanceof Oa}constructor(t){super(t),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new UC,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:gce++})}normalizeCtorArgs(t){return t?Array.isArray(t)||t instanceof Oa?{items:t}:t:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return Ie(this._observable),this._items}set items(t){this._emitBeforeChanges(et.ADD)||(this._splice(0,this.length,JT(t)),this._emitAfterChanges(et.ADD))}hasEventListener(t){return!this.destroyed&&(t==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(t))}on(t,r){if(this.destroyed)return yr();if(t==="change"){const n=this._chgListeners,i={removed:!1,callback:r};return n.push(i),this._notifications&&this._notifications.push({listeners:n.slice(),items:this._items.slice(),changes:[]}),yr(()=>{i.removed=!0,n.splice(n.indexOf(i),1)})}return this._emitter.on(t,r)}once(t,r){const n="deref"in r?()=>r.deref():()=>r,i=this.on(t,o=>{n()?.call(null,o),i.remove()});return i}add(t,r){if(Ie(this._observable),this._emitBeforeChanges(et.ADD))return this;const n=this.getNextIndex(r??null);return this._splice(n,0,[t]),this._emitAfterChanges(et.ADD),this}addMany(t,r=this._items.length){if(Ie(this._observable),!t?.length)return this;if(this._emitBeforeChanges(et.ADD))return this;const n=this.getNextIndex(r);return this._splice(n,0,JT(t)),this._emitAfterChanges(et.ADD),this}at(t){if(Ie(this._observable),(t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length))return this._items[t]}removeAll(){if(Ie(this._observable),!this.length||this._emitBeforeChanges(et.REMOVE))return[];const t=this._removeAllRaw();return this._emitAfterChanges(et.REMOVE),t}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return Ie(this._observable),this._createNewInstance({items:this._items.map(D)})}concat(...t){Ie(this._observable);const r=t.map(JT);return this._createNewInstance({items:this._items.concat(...r)})}drain(t,r){if(Ie(this._observable),!this.length||this._emitBeforeChanges(et.REMOVE))return;const n=this._splice(0,this.length),i=n.length;for(let o=0;o<i;o++)t.call(r,n[o],o,n);this._emitAfterChanges(et.REMOVE)}destroyAll(){this.drain(I5)}destroyMany(t){const r=this.removeMany(t);return r.forEach(I5),r}every(t,r){return Ie(this._observable),this._items.every(t,r)}filter(t,r){Ie(this._observable);const n=arguments.length===2?this._items.filter(t,r):this._items.filter(t);return this._createNewInstance({items:n})}find(t,r){return Ie(this._observable),this._items.find(t,r)}findIndex(t,r){return Ie(this._observable),this._items.findIndex(t,r)}flatten(t,r){Ie(this._observable);const n=[];return CW(n,this,t,r),new Oa(n)}forEach(t,r){return Ie(this._observable),this._items.forEach(t,r)}getItemAt(t){return Ie(this._observable),this._items[t]}getNextIndex(t){Ie(this._observable);const r=this.length;return(t=t??r)<0?t=0:t>r&&(t=r),t}includes(t,r=0){return Ie(this._observable),this._items.includes(t,r)}indexOf(t,r=0){return Ie(this._observable),this._items.indexOf(t,r)}join(t=","){return Ie(this._observable),this._items.join(t)}lastIndexOf(t,r=this.length-1){return Ie(this._observable),this._items.lastIndexOf(t,r)}map(t,r){Ie(this._observable);const n=this._items.map(t,r);return new Oa({items:n})}reorder(t,r=this.length-1){Ie(this._observable);const n=this.indexOf(t);if(n!==-1){if(r<0?r=0:r>=this.length&&(r=this.length-1),n!==r){if(this._emitBeforeChanges(et.MOVE))return t;this._splice(n,1),this._splice(r,0,[t]),this._emitAfterChanges(et.MOVE)}return t}}pop(){if(Ie(this._observable),!this.length||this._emitBeforeChanges(et.REMOVE))return;const t=ZT(this._splice(this.length-1,1));return this._emitAfterChanges(et.REMOVE),t}push(...t){return Ie(this._observable),this._emitBeforeChanges(et.ADD)||(this._splice(this.length,0,t),this._emitAfterChanges(et.ADD)),this.length}reduce(t,r){Ie(this._observable);const n=this._items;return arguments.length===2?n.reduce(t,r):n.reduce(t)}reduceRight(t,r){Ie(this._observable);const n=this._items;return arguments.length===2?n.reduceRight(t,r):n.reduceRight(t)}remove(t){return Ie(this._observable),this.removeAt(this.indexOf(t))}removeAt(t){if(Ie(this._observable),t<0||t>=this.length||this._emitBeforeChanges(et.REMOVE))return;const r=ZT(this._splice(t,1));return this._emitAfterChanges(et.REMOVE),r}removeMany(t){if(Ie(this._observable),!t?.length||this._emitBeforeChanges(et.REMOVE))return[];const r=t instanceof Oa?t.toArray():t,n=this._items,i=[],o=r.length;for(let s=0;s<o;s++){const a=r[s],l=n.indexOf(a);if(l>-1){const c=1+mce(r,n,s+1,l+1),p=this._splice(l,c);p&&p.length>0&&i.push.apply(i,p),s+=c-1}}return this._emitAfterChanges(et.REMOVE),i}reverse(){if(Ie(this._observable),this._emitBeforeChanges(et.MOVE))return this;const t=this._splice(0,this.length);return t&&(t.reverse(),this._splice(0,0,t)),this._emitAfterChanges(et.MOVE),this}shift(){if(Ie(this._observable),!this.length||this._emitBeforeChanges(et.REMOVE))return;const t=ZT(this._splice(0,1));return this._emitAfterChanges(et.REMOVE),t}slice(t=0,r=this.length){return Ie(this._observable),this._createNewInstance({items:this._items.slice(t,r)})}some(t,r){return Ie(this._observable),this._items.some(t,r)}sort(t){if(Ie(this._observable),!this.length||this._emitBeforeChanges(et.MOVE)||!this._requiresSort(t))return this;const r=this._splice(0,this.length);return arguments.length?r.sort(t):r.sort(),this._splice(0,0,r),this._emitAfterChanges(et.MOVE),this}_requiresSort(t=(r,n)=>r===n?0:r<n?-1:1){const r=this.length-1;for(let n=0;n<r;n++)if(t(this.items[n],this.items[n+1])>0)return!0;return!1}splice(t,r,...n){Ie(this._observable),arguments.length===1&&(r=this.length),r??(r=0);const i=(r?et.REMOVE:0)|(n.length?et.ADD:0);if(this._emitBeforeChanges(i))return[];const o=this._splice(t,r,n)||[];return this._emitAfterChanges(i),o}toArray(){return Ie(this._observable),this._items.slice()}toJSON(t){return Ie(this._observable),this.toArray().map(r=>Cg(r)?r.toJSON(t):r)}toLocaleString(){return Ie(this._observable),this._items.toLocaleString()}toString(){return Ie(this._observable),this._items.toString()}unshift(...t){return Ie(this._observable),!t.length||this._emitBeforeChanges(et.ADD)||(this._splice(0,0,t),this._emitAfterChanges(et.ADD)),this.length}_createNewInstance(t){return new this.constructor(t)}_splice(t,r,n){const i=this._items,o=this.itemType;let s,a;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=cW(()=>this._dispatchChange())),t<0&&(t+=this.length),r){if(a=i.splice(t,r),this.hasEventListener("before-remove")){const l=Ki.acquire();l.target=this,l.cancellable=!0;for(let c=0,p=a.length;c<p;c++)s=a[c],l.reset(s),this.emit("before-remove",l),l.defaultPrevented&&(a.splice(c,1),i.splice(t,0,s),t+=1,c-=1,p-=1);Ki.release(l)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const l=Ki.acquire();l.target=this,l.cancellable=!1;const c=a.length;for(let p=0;p<c;p++)l.reset(a[p]),this.emit("after-remove",l);Ki.release(l)}}if(n?.length){if(o){const h=[];for(const y of n){const m=o.ensureType(y);m==null&&y!=null||h.push(m)}n=h}const l=this.hasEventListener("before-add"),c=this.hasEventListener("after-add"),p=t===this.length;if(l||c){const h=Ki.acquire();h.target=this,h.cancellable=!0;const y=Ki.acquire();y.target=this,y.cancellable=!1;for(const m of n)l?(h.reset(m),this.emit("before-add",h),h.defaultPrevented||(p?i.push(m):i.splice(t++,0,m),this._set("length",i.length),c&&(y.reset(m),this.emit("after-add",y)))):(p?i.push(m):i.splice(t++,0,m),this._set("length",i.length),y.reset(m),this.emit("after-add",y));Ki.release(y),Ki.release(h)}else{if(p)for(const h of n)i.push(h);else i.splice(t,0,...n);this._set("length",i.length)}}if((n?.length||a?.length)&&this._notifyChangeEvent(n,a),this.hasEventListener("after-splice")){const l=new yce(this,n,a,t,r);this.emit("after-splice",l)}return a}_emitBeforeChanges(t){let r=!1;if(this.hasEventListener("before-changes")){const n=Ki.acquire();n.target=this,n.cancellable=!0,n.type=t,this.emit("before-changes",n),r=n.defaultPrevented,Ki.release(n)}return r}_emitAfterChanges(t){if(this.hasEventListener("after-changes")){const r=Ki.acquire();r.target=this,r.cancellable=!1,r.type=t,this.emit("after-changes",r),Ki.release(r)}this._observable.notify()}_notifyChangeEvent(t,r){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:t,removed:r})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const t=this._notifications;this._notifications=null;for(const r of t){const n=r.changes;Bl.clear(),Vl.clear(),ql.clear();for(const{added:c,removed:p}of n){if(c)if(ql.size===0&&Vl.size===0)for(const h of c)Bl.add(h);else for(const h of c)Vl.has(h)?(ql.add(h),Vl.delete(h)):ql.has(h)||Bl.add(h);if(p)if(ql.size===0&&Bl.size===0)for(const h of p)Vl.add(h);else for(const h of p)Bl.has(h)?Bl.delete(h):(ql.delete(h),Vl.add(h))}const i=lu.acquire();Bl.forEach(c=>{i.push(c)});const o=lu.acquire();Vl.forEach(c=>{o.push(c)});const s=this._items,a=r.items,l=lu.acquire();if(ql.forEach(c=>{a.indexOf(c)!==s.indexOf(c)&&l.push(c)}),r.listeners&&(i.length||o.length||l.length)){const c={target:this,added:i,removed:o,moved:l},p=r.listeners.length;for(let h=0;h<p;h++){const y=r.listeners[h];y.removed||y.callback.call(this,c)}}lu.release(i),lu.release(o),lu.release(l)}Bl.clear(),Vl.clear(),ql.clear()}},Oa=my,my.ofType=t=>{if(!t)return Oa;if(KT.has(t))return KT.get(t);let r=null;if(typeof t=="function")r=t.prototype.declaredClass;else if(t.base)r=t.base.prototype.declaredClass;else for(const i in t.typeMap){const o=t.typeMap[i].prototype.declaredClass;r?r+=` | ${o}`:r=o}let n=class extends Oa{};return u([MW({Type:t,ensureType:typeof t=="function"?mr(t):ha(t)})],n.prototype,"itemType",void 0),n=u([I(`esri.core.Collection<${r}>`)],n),KT.set(t,n),n},my);u([d()],uu.prototype,"_updating",void 0),u([d()],uu.prototype,"length",void 0),u([d()],uu.prototype,"items",null),u([d({readOnly:!0})],uu.prototype,"updating",null),uu=Oa=u([I("esri.core.Collection")],uu);const Te=uu;function Nh(e,t,r=Te){return t||(t=new r),t===e||(t.removeAll(),bce(e)?t.addMany(e):e&&t.add(e)),t}function vce(e){return e}function bce(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}let wce=class kW{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new kW;return this._values.forEach((n,i)=>{t&&t.has(i)||r.set(i,D(n.value),n.origin)}),r}get(t,r){r=this._normalizeOrigin(r);const n=this._values.get(t);return r==null||n?.origin===r?n?.value:void 0}originOf(t){return this._values.get(t)?.origin??Re.USER}keys(t){t=this._normalizeOrigin(t);const r=[...this._values.keys()];return t==null?r:r.filter(n=>this._values.get(n)?.origin===t)}set(t,r,n){if((n=this._normalizeOrigin(n))===Re.DEFAULTS){const i=this._values.get(t);if(i?.origin!=null&&i.origin>n)return}this._values.set(t,new xce(r,n))}delete(t,r){(r=this._normalizeOrigin(r))!=null&&this._values.get(t)?.origin!==r||this._values.delete(t)}has(t,r){return(r=this._normalizeOrigin(r))!=null?this._values.get(t)?.origin===r:this._values.has(t)}isAtOrigin(t,r){return r=this._normalizeOrigin(r),this.has(t,r)&&this.originOf(t)===r}isBelowOrigin(t,r){return r=this._normalizeOrigin(r),!this.has(t)||this.originOf(t)<r}forEach(t){this._values.forEach(({value:r},n)=>t(r,n))}_normalizeOrigin(t){if(t!=null)return t===Re.DEFAULTS?t:Re.USER}},xce=class{constructor(t,r){this.value=t,this.origin=r}};function RW(e,t,r){t.keys().forEach(i=>{r.set(i,t.get(i),Re.DEFAULTS)});const n=e.metadata;Object.keys(n).forEach(i=>{e.internalGet(i)&&r.set(i,e.internalGet(i),Re.DEFAULTS)})}function Sce(e,t,r){if(!e?.read||e.read.enabled===!1||!e.read.source)return!1;const n=e.read.source;if(typeof n=="string"){if(n===t||n.includes(".")&&n.indexOf(t)===0&&u5(n,r))return!0}else for(const i of n)if(i===t||i.includes(".")&&i.indexOf(t)===0&&u5(i,r))return!0;return!1}function _ce(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function $ce(e,t,r,n,i){let o=Uj(t[r],i);_ce(o)&&(e[r]=!0);for(const s of Object.getOwnPropertyNames(t))o=Uj(t[s],i),Sce(o,r,n)&&(e[s]=!0)}function Tce(e,t,r,n){const i=r.metadata,o=sce(i[t],n),s=o?.default;if(s===void 0)return;const a=typeof s=="function"?s.call(e,t,n):s;a!==void 0&&r.set(t,a)}const LW={origin:"service"};function DW(e,t,r=LW){if(!t||typeof t!="object")return;const n=Yn(e),i=n.metadata,o={};for(const s of Object.getOwnPropertyNames(t))$ce(o,i,s,t,r);n.setDefaultOrigin(r.origin);for(const s of Object.getOwnPropertyNames(o)){const a=Uj(i[s],r).read,l=a?.source;let c;c=l&&typeof l=="string"?m1(t,l):t[s],a?.reader&&(c=a.reader.call(e,c,t,r)),c!==void 0&&n.set(s,c)}if(!r||!r.ignoreDefaults){n.setDefaultOrigin("defaults");for(const s of Object.getOwnPropertyNames(i))o[s]||Tce(e,s,n,r)}n.setDefaultOrigin("user")}function FW(e,t,r,n=LW){const i={...n,messages:[]};r(i),i.messages?.forEach(o=>{o.type!=="warning"||e.loaded?n?.messages&&n.messages.push(o):e.loadWarnings.push(o)})}function Oce(e,t,r,n,i){const o={};return t.write?.writer?.call(e,n,o,r,i),o}function UW(e,t,r,n,i,o){if(!n?.write)return!1;const s=Yd(e,r);if(!i&&n.write.overridePolicy){const a=n.write.overridePolicy.call(e,s,r,o??void 0);a!==void 0&&(i=a)}if(i||(i=n.write),!i||i.enabled===!1||i.layerContainerTypes&&o?.layerContainerType&&!i.layerContainerTypes.includes(o.layerContainerType))return!1;if((s===null&&!i.allowNull&&!i.writerEnsuresNonNull||s===void 0)&&i.isRequired){const a=new Z("web-document-write:property-required",`Missing value for required property '${r}' on '${e.declaredClass}'`,{propertyName:r,target:e});return a&&o?.messages?o.messages.push(a):a&&!o&&ce.getLogger("esri.core.accessorSupport.write").error(a.name,a.message),!1}return!(s===void 0||s===null&&!i.allowNull&&!i.writerEnsuresNonNull||!i.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(r)===Re.DEFAULTS)&&Ece(e,r,o,n,s)||!i.ignoreOrigin&&o?.origin&&t.store.multipleOriginsSupported&&t.store.originOf(r)<pl(o.origin))}function Ece(e,t,r,n,i){const o=n.default;if(o===void 0)return!1;if(n.defaultEquals!=null)return n.defaultEquals(i);if(typeof o=="function"){if(Array.isArray(i)){const s=o.call(e,t,r??void 0);return T_(s,i)}return!1}return o===i}function jce(e,t,r,n){const i=Yn(e),o=i.metadata,s=AW(o[t],n);return!!s&&UW(e,i,t,s,r,n)}function zW(e,t,r){if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return Ow(t,e.toJSON(r));const n=Yn(e),i=n.metadata;for(const o in i){const s=AW(i[o],r);if(!UW(e,n,o,s,void 0,r))continue;const a=Yd(e,o),l=Oce(e,s,s.write&&typeof s.write.target=="string"?s.write.target:o,a,r);Object.keys(l).length>0&&(t=Ow(t,l),r?.resources?.pendingOperations?.length&&r.resources.pendingOperations.push(Promise.all(r.resources.pendingOperations).then(()=>Ow(t,l,()=>"replace-arrays"))),r?.writtenProperties&&r.writtenProperties.push({target:e,propName:o,oldOrigin:eue(n.store.originOf(o)),newOrigin:r.origin}))}return t}const BW=e=>{let t=class extends e{constructor(...r){super(...r);const n=Yn(this),i=n.store,o=new wce;n.store=o,RW(n,i,o)}read(r,n){DW(this,r,n)}write(r,n){return zW(this,r??{},n)}toJSON(r){return this.write({},r)}static fromJSON(r,n){return Ice.call(this,r,n)}};return t=u([I("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function Ice(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const r=new this;return r.read(e,t),r}let Lm=class extends BW(dt){};Lm=u([I("esri.core.JSONSupport")],Lm),function(e){e.JSONSupportMixin=BW}(Lm||(Lm={}));const z=Lm;var cu;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(cu||(cu={}));let Ace=class{constructor(){this._resolver=tc(),this._status=cu.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=cu.RESOLVED,this._cleanUp()},()=>{this._status=cu.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===cu.RESOLVED}isRejected(){return this._status===cu.REJECTED}isFulfilled(){return this._status!==cu.PENDING}abort(){this._resolver.reject(hr())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=tc(),r=[...this._resolvingPromises,t.promise],n=this._allPromise=Promise.all(r);n.then(()=>{this.isFulfilled()||this._allPromise!==n||this._resolver.resolve()},i=>{this.isFulfilled()||this._allPromise!==n||Ao(i)||this._resolver.reject(i)}),t.resolve()}};const VW=e=>{let t=class extends e{constructor(...r){super(...r),this._promiseProps=new Ace,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(r,n){return this._promiseProps.promise.then(()=>this).then(r,n)}catch(r){return this.when(null,r)}addResolvingPromise(r){r&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in r?r.when():r)}};return t=u([I("esri.core.Promise")],t),t};let wd=class extends VW(dt){};wd=u([I("esri.core.Promise")],wd),function(e){e.EsriPromiseMixin=VW}(wd||(wd={}));const Pce="not-loaded",Nce="loading",Mce="failed",A5="loaded",qW=e=>{let t=class extends e{constructor(...r){super(...r),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(n=>{const i=this.load.bind(this);this.load=o=>{const s=new Promise((a,l)=>{const c=DG(o,l);this.destroyed&&l(new Z("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(a,l).finally(()=>{c&&c.remove()})});if(this.loadStatus===Pce){this._set("loadStatus",Nce);const a=this._loadController=new AbortController;i({signal:a.signal})}return n(),s}})),this.when(()=>{this._set("loadStatus",A5),this._loadController=null},n=>{this._set("loadStatus",Mce),this._set("loadError",n),this._loadController=null})}destroy(){this._loadController&&(this._loadController=LG(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===A5}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new Z("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return u([d({readOnly:!0})],t.prototype,"loaded",null),u([d({readOnly:!0})],t.prototype,"loadError",void 0),u([d({clonable:!1})],t.prototype,"loadStatus",void 0),u([d({type:[Os],readOnly:!0})],t.prototype,"loadWarnings",null),t=u([I("esri.core.Loadable")],t),t};let hi=class extends qW(wd){};hi=u([I("esri.core.Loadable")],hi),function(e){function t(r){return!(!r||!r.load)}e.LoadableMixin=qW,e.isLoadable=t}(hi||(hi={}));function $Je(e,t,r){return TC(e.map((n,i)=>t.apply(r,[n,i])))}async function Cce(e,t,r){return(await TC(e.map((n,i)=>t.apply(r,[n,i])))).map(n=>n.value)}function zC(e){return{ok:!0,value:e}}function BC(e){return{ok:!1,error:e}}function kce(e){return e!=null&&e.ok===!0?e.value:null}function Rce(e){return e!=null&&e.ok===!1?e.error:null}async function VC(e){if(e==null)return{ok:!1,error:new Error("no promise provided")};try{return zC(await e)}catch(t){return BC(t)}}async function Lce(e){try{return zC(await e)}catch(t){return ea(t),BC(t)}}function Dce(e,t){return new Yl(e,t)}let Yl=class extends dt{get value(){return kce(this._result)}get error(){return Rce(this._result)}get finished(){return this._result!=null}constructor(t,r){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=LG(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:n}=this._abortController;this.promise=t(n),this.promise.then(i=>{this._result=zC(i),this._cleanup()},i=>{this._result=BC(i),this._cleanup()}),this._abortHandle=Jd(r,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=bs(this._abortHandle),this._abortController=null}};u([d()],Yl.prototype,"value",null),u([d()],Yl.prototype,"error",null),u([d()],Yl.prototype,"finished",null),u([d()],Yl.prototype,"promise",void 0),u([d()],Yl.prototype,"_result",void 0),Yl=u([I("esri.core.asyncUtils.ReactiveTask")],Yl);async function U_(e,t){return await e.load(),Fce(e,t)}async function Fce(e,t){const r=[],n=(...o)=>{for(const s of o)s!=null&&(Array.isArray(s)?n(...s):Te.isCollection(s)?s.forEach(a=>n(a)):hi.isLoadable(s)&&r.push(s))};t(n);let i=null;if(await Cce(r,async o=>{const s=await VC(Uce(o)?o.loadAll():o.load());s.ok!==!1||i||(i=s)}),i)throw i.error;return e}function Uce(e){return"loadAll"in e&&typeof e.loadAll=="function"}function re(e,t,r){let n,i;return t===void 0?(i=e,n=[void 0]):typeof t!="string"?(i=e,n=[void 0],r=t):(i=t,n=Array.isArray(e)?e:[e]),(o,s)=>{const a=o.constructor.prototype;for(const l of n){const c=RC(o,l,i);c.write&&typeof c.write=="object"||(c.write={}),r&&(c.write.target=r),c.write.writer=a[s]}}}let Pe=class{constructor(t,r={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=r,this.apiValues=[],this.jsonValues=[],this._apiToJSON=zce(t),this.apiValues=P5(this._apiToJSON),this.jsonValues=P5(this._jsonToAPI),this.read=n=>this.fromJSON(n),this.write=(n,i,o)=>{const s=this.toJSON(n);s!==void 0&&nr(o,s,i)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const r=this._apiToJSON[t];return this._options.useNumericKeys?+r:r}return this._options.ignoreUnknown?null:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}};function zce(e){const t={};for(const r in e)t[e[r]]=r;return t}function P5(e){const t=[];for(const r in e)t.push(r);return t.sort(),t}function Or(){return function(e,t){return new Pe(e,{ignoreUnknown:!0,...t})}}let qC=class{constructor(t,r,n,i,o,s){this.semiMajorAxis=t,this.flattening=r,this.outerAtmosphereRimWidth=n,this.atmosphereHeight=i,this.scaleHeight=o;const a=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*a,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=s||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const Ht=new qC(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),ca=new qC(3396190,1/169.8944472236118,23e4,6e4,.111),nc=new qC(1737400,0,0,0,0);function cr(e){if(!Ye.assetsPath)throw ce.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new Z("assets:path-not-set","config.assetsPath is not set");return Hd(Ye.assetsPath,e)}let YT,R=null;function GW(){return!!R}function Bce(){return!!q("esri-wasm")}function WW(){return YT||(YT=ue(()=>import("./pe-wasm-aad81ace.js"),[]).then(({default:e})=>e({locateFile:t=>cr(`esri/geometry/support/${t}`)})).then(e=>{ZW(e)}),YT)}var Bj,kt;(function(e){function t(o,s,a){R.ensureCache.prepare();const l=cd(a),c=a===l,p=R.ensureFloat64(l),h=R._pe_geog_to_proj(R.getPointer(o),s,p);return h&&xu(a,s,p,c),h}function r(o,s,a,l){switch(l){case kt.PE_TRANSFORM_P_TO_G:return n(o,s,a);case kt.PE_TRANSFORM_G_TO_P:return t(o,s,a)}return 0}function n(o,s,a){return i(o,s,a,0)}function i(o,s,a,l){R.ensureCache.prepare();const c=cd(a),p=a===c,h=R.ensureFloat64(c),y=R._pe_proj_to_geog_center(R.getPointer(o),s,h,l);return y&&xu(a,s,h,p),y}e.geogToProj=t,e.projGeog=r,e.projToGeog=n,e.projToGeogCenter=i})(Bj||(Bj={})),function(e){function t(){e.PE_BUFFER_MAX=R.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=R.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=R.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=R.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=R.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=R.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=R.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=R.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=R.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=R.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=R.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=R.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=R.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=R.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=R.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=R.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=R.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=R.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=R.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=R.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_STR_FMT_WKT=R.PeDefs.prototype.PE_STR_FMT_WKT,e.PE_STR_FMT_WKT2=R.PeDefs.prototype.PE_STR_FMT_WKT2,e.PE_PARM_X0=R.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=R.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=R.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=R.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=R.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=R.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=R.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=R.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=R.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=R.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(kt||(kt={}));let HW=null;var Vj;(function(e){const t={},r={},n=m=>{const g=m.getType();switch(g){case kt.PE_TYPE_GEOGCS:m=R.castObject(m,R.PeGeogcs);break;case kt.PE_TYPE_PROJCS:m=R.castObject(m,R.PeProjcs);break;case kt.PE_TYPE_GEOGTRAN:m=R.castObject(m,R.PeGeogtran);break;default:g&kt.PE_TYPE_UNIT&&(m=R.castObject(m,R.PeUnit))}return m};function i(){R.PeFactory.prototype.initialize(null)}function o(m){return s(kt.PE_TYPE_COORDSYS,m)}function s(m,g){let b=null,w=t[m];if(w||(w={},t[m]=w),w.hasOwnProperty(String(g))&&(b=w[g],R.compare(b,R.NULL)&&(b=null)),!b){const x=R.PeFactory.prototype.factoryByType(m,g);R.compare(x,R.NULL)||(b=n(x),w[g]=b)}return b}function a(m,g){let b=null,w=r[m];if(w||(w={},r[m]=w),w.hasOwnProperty(g)&&(b=w[g],R.compare(b,R.NULL)&&(b=null)),!b){const x=R.PeFactory.prototype.fromString(m,g);R.compare(x,R.NULL)||(b=n(x),w[g]=b)}return b}function l(m){return s(kt.PE_TYPE_GEOGCS,m)}function c(m){return s(kt.PE_TYPE_GEOGTRAN,m)}function p(m){return R.PeFactory.prototype.getCode(m)}function h(m){return s(kt.PE_TYPE_PROJCS,m)}function y(m){return s(kt.PE_TYPE_UNIT,m)}e.initialize=i,e.coordsys=o,e.factoryByType=s,e.fromString=a,e.geogcs=l,e.geogtran=c,e.getCode=p,e.projcs=h,e.unit=y})(Vj||(Vj={}));let JW=null;var AS,qj,Gj,Wj,Hj,Jj,PS,Zj,NS,MS,Kj;function ZW(e){function t(o,s,a){o[s]=a(o[s])}R=e,kt.init(),AS.init(),PS.init(),NS.init(),MS.init(),HW=class extends R.PeDouble{constructor(o=NaN){super(o)}destroy(){R.destroy(this)}[Symbol.dispose](){this.destroy()}},JW=class extends R.PeGCSExtent{destroy(){R.destroy(this)}[Symbol.dispose](){this.destroy()}};const r=[R.PeAngunit,R.PeDatum,R.PeGeogcs,R.PeGeogtran,R.PeObject,R.PeParameter,R.PePrimem,R.PeProjcs,R.PeSpheroid,R.PeUnit];for(const o of r)t(o.prototype,"getName",s=>function(){return s.call(this,new Array(kt.PE_NAME_MAX))});for(const o of[R.PeGeogtran,R.PeProjcs])t(o.prototype,"getParameters",s=>function(){const a=new Array(kt.PE_PARM_MAX);let l=s.call(this);for(let c=0;c<a.length;c++){const p=R.getValue(l,"*");a[c]=p?R.wrapPointer(p,R.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return a});t(R.PeHorizon.prototype,"getCoord",o=>function(s=!1){const a=this.getSize();if(!a)return null;const l=[];return xu(l,a,o.call(this),s),l}),t(R.PeGTlistExtendedEntry.prototype,"getEntries",o=>{const s=R._pe_getPeGTlistExtendedGTsSize();return function(){let a=null;const l=o.call(this);if(!R.compare(l,R.NULL)){a=[l];const c=this.getSteps();if(c>1){const p=R.getPointer(l);for(let h=1;h<c;h++)a.push(R.wrapPointer(p+s*h,R.PeGTlistExtendedGTs))}}return a}});const n=R._pe_getPeHorizonSize(),i=o=>function(){let s=this._cache;if(s||(s=new Map,this._cache=s),s.has(o))return s.get(o);let a=null;const l=o.call(this);if(!R.compare(l,R.NULL)){a=[l];const c=l.getNump();if(c>1){const p=R.getPointer(l);for(let h=1;h<c;h++)a.push(R.wrapPointer(p+n*h,R.PeHorizon))}}return s.set(o,a),a};t(R.PeProjcs.prototype,"horizonGcsGenerate",i),t(R.PeProjcs.prototype,"horizonPcsGenerate",i),R.PeObject.prototype.toString=function(o=kt.PE_STR_OPTS_NONE){R.ensureCache.prepare();const s=R.getPointer(this),a=R.ensureInt8(new Array(kt.PE_BUFFER_MAX));return R.UTF8ToString(R._pe_object_to_string_ext(s,o,a))},R.PeGeogcs.prototype.destroy=function(){this.Delete(),Yo(this),this.ptr=0},R.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},R.PeProjcs.prototype.destroy=function(){this.Delete(),Yo(this),this.ptr=0},R.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function Yo(e){if(!e)return;const t=R.getClass(e);if(!t)return;const r=R.getCache(t);if(!r)return;const n=R.getPointer(e);n&&delete r[n]}function fb(e,t){const r=[],n=new Array(t);for(let i=0;i<e;i++)r.push(R.ensureInt8(n));return r}function cd(e){return ArrayBuffer.isView(e)?e:Array.isArray(e[0])?e.flat():e}function xu(e,t,r,n=!1){if(n)for(let i=0;i<2*t;i++)e[i]=R.getValue(r+i*Float64Array.BYTES_PER_ELEMENT,"double");else{const i=e.length===0;for(let o=0;o<t;o++)i&&(e[o]=new Array(2)),e[o][0]=R.getValue(r,"double"),e[o][1]=R.getValue(r+Float64Array.BYTES_PER_ELEMENT,"double"),r+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function r(){e.PE_GTLIST_OPTS_COMMON=R.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=R._pe_getPeGTlistExtendedEntrySize()}function n(i,o,s,a,l,c){let p=null;const h=new R.PeInteger(c);try{const y=R.PeGTlistExtended.prototype.getGTlist(i,o,s,a,l,h);if((c=h.val)&&(p=[y],c>1)){const m=R.getPointer(y);for(let g=1;g<c;g++)p.push(R.wrapPointer(m+t*g,R.PeGTlistExtendedEntry))}}finally{R.destroy(h)}return p}e.init=r,e.getGTlist=n})(AS||(AS={})),function(e){function t(r){if(r?.length){for(const n of r)Yo(n),n.getEntries().forEach(i=>{Yo(i);const o=i.getGeogtran();Yo(o),o.getParameters().forEach(Yo),[o.getGeogcs1(),o.getGeogcs2()].forEach(s=>{Yo(s);const a=s.getDatum();Yo(a),Yo(a.getSpheroid()),Yo(s.getPrimem()),Yo(s.getUnit())})});R.PeGTlistExtendedEntry.prototype.Delete(r[0])}}e.destroy=t}(qj||(qj={})),function(e){function t(r,n,i,o,s){R.ensureCache.prepare();const a=cd(i),l=i===a,c=R.ensureFloat64(a);let p=0;o&&(p=R.ensureFloat64(o));const h=R._pe_geog_to_geog(R.getPointer(r),n,c,p,s);return h&&xu(i,n,c,l),h}e.geogToGeog=t}(Gj||(Gj={})),function(e){function t(o,s,a,l,c,p,h,y){R.PeLineType.prototype.geodesic_coordinate(o,s,a,l,c,p,h,y)}function r(o,s,a,l,c,p,h,y,m){R.PeLineType.prototype.geodetic_coordinate(o,s,a,l,c,p,h,y,m)}function n(o,s,a,l,c,p,h,y,m,g){R.PeLineType.prototype.geodetic_distance(o,s,a,l,c,p,h,y,m,g)}function i(o,s,a,l,c,p,h,y,m){R.PeLineType.prototype.great_elliptic_distance(o,s,a,l,c,p,h,y,m)}e.geodesicCoordinate=t,e.geodeticCoordinate=r,e.geodeticDistance=n,e.greatEllipticDistance=i}(Wj||(Wj={})),function(e){function t(s,a){return R.PeMath.prototype.phi_to_eta(s,a)}function r(s,a){return R.PeMath.prototype.eta_to_phi(s,a)}function n(s,a){return R.PeMath.prototype.phi_to_phig(s,a)}function i(s,a,l){return R.PeMath.prototype.q(s,a,l)}function o(s,a){return R.PeMath.prototype.q90(s,a)}e.phiToEta=t,e.etaToPhi=r,e.phiToPhig=n,e.q=i,e.q90=o}(Hj||(Hj={})),function(e){const t=(c,p,h,y,m,g)=>{let b,w;switch(R.ensureCache.prepare(),c){case"dd":b=R._pe_geog_to_dd,w=kt.PE_DD_MAX;break;case"ddm":b=R._pe_geog_to_ddm,w=kt.PE_DDM_MAX;break;case"dms":b=R._pe_geog_to_dms,w=kt.PE_DMS_MAX}let x=0;p&&(x=R.getPointer(p));const _=cd(y),S=R.ensureFloat64(_),O=fb(h,w),$=b(x,h,S,m,R.ensureInt32(O));if($)for(let T=0;T<h;T++)g[T]=R.UTF8ToString(O[T]);return $},r=(c,p,h,y,m)=>{let g;switch(R.ensureCache.prepare(),c){case"dd":g=R._pe_dd_to_geog;break;case"ddm":g=R._pe_ddm_to_geog;break;case"dms":g=R._pe_dms_to_geog}let b=0;p&&(b=R.getPointer(p));const w=y.map(O=>R.ensureString(O)),x=R.ensureInt32(w),_=R.ensureFloat64(new Array(2*h)),S=g(b,h,x,_);return S&&xu(m,h,_),S};function n(c,p,h,y,m){return t("dms",c,p,h,y,m)}function i(c,p,h,y){return r("dms",c,p,h,y)}function o(c,p,h,y,m){return t("ddm",c,p,h,y,m)}function s(c,p,h,y){return r("ddm",c,p,h,y)}function a(c,p,h,y,m){return t("dd",c,p,h,y,m)}function l(c,p,h,y){return r("dd",c,p,h,y)}e.geogToDms=n,e.dmsToGeog=i,e.geogToDdm=o,e.ddmToGeog=s,e.geogToDd=a,e.ddToGeog=l}(Jj||(Jj={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=R.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=R.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=R.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=R.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=R.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function r(i,o,s,a,l,c,p){R.ensureCache.prepare();let h=0;i&&(h=R.getPointer(i));const y=cd(s),m=R.ensureFloat64(y),g=fb(o,kt.PE_MGRS_MAX),b=R.ensureInt32(g),w=R._pe_geog_to_mgrs_extended(h,o,m,a,l,c,b);if(w)for(let x=0;x<o;x++)p[x]=R.UTF8ToString(g[x]);return w}function n(i,o,s,a,l){R.ensureCache.prepare();let c=0;i&&(c=R.getPointer(i));const p=s.map(g=>R.ensureString(g)),h=R.ensureInt32(p),y=R.ensureFloat64(new Array(2*o)),m=R._pe_mgrs_to_geog_extended(c,o,h,a,y);return m&&xu(l,o,y),m}e.init=t,e.geogToMgrsExtended=r,e.mgrsToGeogExtended=n}(PS||(PS={})),function(e){function t(n,i,o,s,a,l,c){R.ensureCache.prepare();let p=0;n&&(p=R.getPointer(n));const h=cd(o),y=R.ensureFloat64(h),m=fb(i,kt.PE_MGRS_MAX),g=R.ensureInt32(m),b=R._pe_geog_to_usng(p,i,y,s,a,l,g);if(b)for(let w=0;w<i;w++)c[w]=R.UTF8ToString(m[w]);return b}function r(n,i,o,s){R.ensureCache.prepare();let a=0;n&&(a=R.getPointer(n));const l=o.map(y=>R.ensureString(y)),c=R.ensureInt32(l),p=R.ensureFloat64(new Array(2*i)),h=R._pe_usng_to_geog(a,i,c,p);return h&&xu(s,i,p),h}e.geogToUsng=t,e.usngToGeog=r}(Zj||(Zj={})),function(e){function t(){e.PE_UTM_OPTS_NONE=R.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=R.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=R.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function r(i,o,s,a,l){R.ensureCache.prepare();let c=0;i&&(c=R.getPointer(i));const p=cd(s),h=R.ensureFloat64(p),y=fb(o,kt.PE_UTM_MAX),m=R.ensureInt32(y),g=R._pe_geog_to_utm(c,o,h,a,m);if(g)for(let b=0;b<o;b++)l[b]=R.UTF8ToString(y[b]);return g}function n(i,o,s,a,l){R.ensureCache.prepare();let c=0;i&&(c=R.getPointer(i));const p=s.map(g=>R.ensureString(g)),h=R.ensureInt32(p),y=R.ensureFloat64(new Array(2*o)),m=R._pe_utm_to_geog(c,o,h,a,y);return m&&xu(l,o,y),m}e.init=t,e.geogToUtm=r,e.utmToGeog=n}(NS||(NS={})),function(e){const t=new Map;function r(){e.PE_PCSINFO_OPTION_NONE=R.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=R.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=R.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=R.PePCSInfo.prototype.PE_POLE_POINT}function n(i,o=e.PE_PCSINFO_OPTION_DOMAIN){let s=null,a=null;return t.has(i)&&(a=t.get(i),a[o]&&(s=a[o])),s||(s=R.PePCSInfo.prototype.generate(i,o),a||(a=[],t.set(i,a)),a[o]=s),s}e.init=r,e.generate=n}(MS||(MS={})),function(e){function t(){return R.PeVersion.prototype.version_string()}e.versionString=t}(Kj||(Kj={}));const Vce=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return Bj},get PeDefs(){return kt},get PeDouble(){return HW},get PeFactory(){return Vj},get PeGCSExtent(){return JW},get PeGTTransformations(){return Gj},get PeGTlistExtended(){return AS},get PeGTlistExtendedEntry(){return qj},get PeLineType(){return Wj},get PeMath(){return Hj},get PeNotationDms(){return Jj},get PeNotationMgrs(){return PS},get PeNotationUsng(){return Zj},get PeNotationUtm(){return NS},get PePCSInfo(){return MS},get PeVersion(){return Kj},_init:ZW,get _pe(){return R},isLoaded:GW,isSupported:Bce,load:WW},Symbol.toStringTag,{value:"Module"}));var Qd;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(Qd||(Qd={}));let f;const E={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10641:0,10665:0,10674:0,10744:0,10745:0,10759:0,10773:0,10802:0,10820:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,65061:2,65062:2,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(f=2e3;f<=2045;f++)E[f]=0;for(f=2056;f<=2065;f++)E[f]=0;for(f=2067;f<=2135;f++)E[f]=0;for(f=2137;f<=2154;f++)E[f]=0;for(f=2161;f<=2170;f++)E[f]=0;for(f=2172;f<=2193;f++)E[f]=0;for(f=2195;f<=2198;f++)E[f]=0;for(f=2200;f<=2203;f++)E[f]=0;for(f=2205;f<=2217;f++)E[f]=0;for(f=2222;f<=2224;f++)E[f]=1;for(f=2225;f<=2250;f++)E[f]=2;for(f=2251;f<=2253;f++)E[f]=1;for(f=2257;f<=2264;f++)E[f]=2;for(f=2274;f<=2279;f++)E[f]=2;for(f=2280;f<=2282;f++)E[f]=1;for(f=2283;f<=2289;f++)E[f]=2;for(f=2290;f<=2292;f++)E[f]=0;for(f=2308;f<=2313;f++)E[f]=0;for(f=2315;f<=2491;f++)E[f]=0;for(f=2494;f<=2866;f++)E[f]=0;for(f=2867;f<=2869;f++)E[f]=1;for(f=2870;f<=2888;f++)E[f]=2;for(f=2891;f<=2895;f++)E[f]=2;for(f=2896;f<=2898;f++)E[f]=1;for(f=2902;f<=2908;f++)E[f]=2;for(f=2915;f<=2920;f++)E[f]=2;for(f=2921;f<=2923;f++)E[f]=1;for(f=2924;f<=2930;f++)E[f]=2;for(f=2931;f<=2962;f++)E[f]=0;for(f=2964;f<=2968;f++)E[f]=2;for(f=2969;f<=2973;f++)E[f]=0;for(f=2975;f<=2991;f++)E[f]=0;for(f=2995;f<=3051;f++)E[f]=0;for(f=3054;f<=3079;f++)E[f]=0;for(f=3081;f<=3088;f++)E[f]=0;for(f=3092;f<=3101;f++)E[f]=0;for(f=3106;f<=3138;f++)E[f]=0;for(f=3146;f<=3151;f++)E[f]=0;for(f=3153;f<=3166;f++)E[f]=0;for(f=3168;f<=3172;f++)E[f]=0;for(f=3174;f<=3203;f++)E[f]=0;for(f=3294;f<=3358;f++)E[f]=0;for(f=3367;f<=3403;f++)E[f]=0;for(f=3408;f<=3416;f++)E[f]=0;for(f=3417;f<=3438;f++)E[f]=2;for(f=3441;f<=3446;f++)E[f]=2;for(f=3447;f<=3450;f++)E[f]=0;for(f=3451;f<=3459;f++)E[f]=2;for(f=3460;f<=3478;f++)E[f]=0;for(f=3554;f<=3559;f++)E[f]=0;for(f=3560;f<=3570;f++)E[f]=2;for(f=3571;f<=3581;f++)E[f]=0;for(f=3594;f<=3597;f++)E[f]=0;for(f=3601;f<=3604;f++)E[f]=0;for(f=3637;f<=3639;f++)E[f]=0;for(f=3665;f<=3667;f++)E[f]=0;for(f=3693;f<=3695;f++)E[f]=0;for(f=3701;f<=3727;f++)E[f]=0;for(f=3728;f<=3739;f++)E[f]=2;for(f=3740;f<=3751;f++)E[f]=0;for(f=3753;f<=3760;f++)E[f]=2;for(f=3761;f<=3773;f++)E[f]=0;for(f=3775;f<=3777;f++)E[f]=0;for(f=3779;f<=3781;f++)E[f]=0;for(f=3783;f<=3785;f++)E[f]=0;for(f=3788;f<=3791;f++)E[f]=0;for(f=3797;f<=3802;f++)E[f]=0;for(f=3814;f<=3816;f++)E[f]=0;for(f=3825;f<=3829;f++)E[f]=0;for(f=3832;f<=3841;f++)E[f]=0;for(f=3844;f<=3852;f++)E[f]=0;for(f=3873;f<=3885;f++)E[f]=0;for(f=3890;f<=3893;f++)E[f]=0;for(f=3907;f<=3912;f++)E[f]=0;for(f=3942;f<=3950;f++)E[f]=0;for(f=3968;f<=3970;f++)E[f]=0;for(f=3973;f<=3976;f++)E[f]=0;for(f=3986;f<=3989;f++)E[f]=0;for(f=3994;f<=3997;f++)E[f]=0;for(f=4048;f<=4051;f++)E[f]=0;for(f=4056;f<=4063;f++)E[f]=0;for(f=4093;f<=4096;f++)E[f]=0;for(f=4390;f<=4398;f++)E[f]=0;for(f=4399;f<=4413;f++)E[f]=2;for(f=4418;f<=4433;f++)E[f]=2;for(f=4455;f<=4457;f++)E[f]=2;for(f=4484;f<=4489;f++)E[f]=0;for(f=4491;f<=4554;f++)E[f]=0;for(f=4568;f<=4589;f++)E[f]=0;for(f=4652;f<=4656;f++)E[f]=0;for(f=4766;f<=4800;f++)E[f]=0;for(f=5014;f<=5016;f++)E[f]=0;for(f=5069;f<=5072;f++)E[f]=0;for(f=5105;f<=5130;f++)E[f]=0;for(f=5167;f<=5188;f++)E[f]=0;for(f=5253;f<=5259;f++)E[f]=0;for(f=5269;f<=5275;f++)E[f]=0;for(f=5292;f<=5311;f++)E[f]=0;for(f=5329;f<=5331;f++)E[f]=0;for(f=5343;f<=5349;f++)E[f]=0;for(f=5355;f<=5357;f++)E[f]=0;for(f=5387;f<=5389;f++)E[f]=0;for(f=5459;f<=5463;f++)E[f]=0;for(f=5479;f<=5482;f++)E[f]=0;for(f=5518;f<=5520;f++)E[f]=0;for(f=5530;f<=5539;f++)E[f]=0;for(f=5550;f<=5552;f++)E[f]=0;for(f=5562;f<=5583;f++)E[f]=0;for(f=5623;f<=5625;f++)E[f]=2;for(f=5631;f<=5639;f++)E[f]=0;for(f=5649;f<=5653;f++)E[f]=0;for(f=5663;f<=5680;f++)E[f]=0;for(f=5682;f<=5685;f++)E[f]=0;for(f=5875;f<=5877;f++)E[f]=0;for(f=5896;f<=5899;f++)E[f]=0;for(f=5921;f<=5940;f++)E[f]=0;for(f=6050;f<=6125;f++)E[f]=0;for(f=6244;f<=6275;f++)E[f]=0;for(f=6328;f<=6348;f++)E[f]=0;for(f=6350;f<=6356;f++)E[f]=0;for(f=6366;f<=6372;f++)E[f]=0;for(f=6381;f<=6387;f++)E[f]=0;for(f=6393;f<=6404;f++)E[f]=0;for(f=6480;f<=6483;f++)E[f]=0;for(f=6511;f<=6514;f++)E[f]=0;for(f=6579;f<=6581;f++)E[f]=0;for(f=6619;f<=6624;f++)E[f]=0;for(f=6625;f<=6627;f++)E[f]=2;for(f=6628;f<=6632;f++)E[f]=0;for(f=6634;f<=6637;f++)E[f]=0;for(f=6669;f<=6692;f++)E[f]=0;for(f=6707;f<=6709;f++)E[f]=0;for(f=6720;f<=6723;f++)E[f]=0;for(f=6732;f<=6738;f++)E[f]=0;for(f=6931;f<=6933;f++)E[f]=0;for(f=6956;f<=6959;f++)E[f]=0;for(f=7005;f<=7007;f++)E[f]=0;for(f=7057;f<=7070;f++)E[f]=2;for(f=7074;f<=7082;f++)E[f]=0;for(f=7109;f<=7118;f++)E[f]=0;for(f=7119;f<=7127;f++)E[f]=1;for(f=7374;f<=7376;f++)E[f]=0;for(f=7528;f<=7586;f++)E[f]=0;for(f=7587;f<=7645;f++)E[f]=2;for(f=7692;f<=7696;f++)E[f]=0;for(f=7755;f<=7787;f++)E[f]=0;for(f=7791;f<=7795;f++)E[f]=0;for(f=7799;f<=7801;f++)E[f]=0;for(f=7803;f<=7805;f++)E[f]=0;for(f=7825;f<=7831;f++)E[f]=0;for(f=7845;f<=7859;f++)E[f]=0;for(f=8013;f<=8032;f++)E[f]=0;for(f=8065;f<=8068;f++)E[f]=1;for(f=8518;f<=8529;f++)E[f]=2;for(f=8533;f<=8536;f++)E[f]=2;for(f=8538;f<=8540;f++)E[f]=2;for(f=8677;f<=8679;f++)E[f]=0;for(f=8836;f<=8840;f++)E[f]=0;for(f=8857;f<=8859;f++)E[f]=0;for(f=8908;f<=8910;f++)E[f]=0;for(f=9154;f<=9159;f++)E[f]=0;for(f=9205;f<=9218;f++)E[f]=0;for(f=9271;f<=9273;f++)E[f]=0;for(f=9295;f<=9297;f++)E[f]=0;for(f=9356;f<=9360;f++)E[f]=0;for(f=9404;f<=9407;f++)E[f]=0;for(f=9476;f<=9482;f++)E[f]=0;for(f=9487;f<=9494;f++)E[f]=0;for(f=9697;f<=9699;f++)E[f]=0;for(f=9821;f<=9865;f++)E[f]=0;for(f=10285;f<=10291;f++)E[f]=0;for(f=10314;f<=10317;f++)E[f]=0;for(f=10448;f<=10465;f++)E[f]=0;for(f=10726;f<=10729;f++)E[f]=0;for(f=10731;f<=10733;f++)E[f]=0;for(f=11114;f<=11118;f++)E[f]=0;for(f=20004;f<=20032;f++)E[f]=0;for(f=20047;f<=20049;f++)E[f]=0;for(f=20062;f<=20092;f++)E[f]=0;for(f=20135;f<=20138;f++)E[f]=0;for(f=20248;f<=20258;f++)E[f]=0;for(f=20348;f<=20358;f++)E[f]=0;for(f=20436;f<=20440;f++)E[f]=0;for(f=20822;f<=20824;f++)E[f]=0;for(f=20904;f<=20932;f++)E[f]=0;for(f=20934;f<=20936;f++)E[f]=0;for(f=21004;f<=21032;f++)E[f]=0;for(f=21035;f<=21037;f++)E[f]=0;for(f=21095;f<=21097;f++)E[f]=0;for(f=21148;f<=21150;f++)E[f]=0;for(f=21207;f<=21264;f++)E[f]=0;for(f=21307;f<=21364;f++)E[f]=0;for(f=21413;f<=21423;f++)E[f]=0;for(f=21453;f<=21463;f++)E[f]=0;for(f=21473;f<=21483;f++)E[f]=0;for(f=21780;f<=21782;f++)E[f]=0;for(f=21891;f<=21894;f++)E[f]=0;for(f=21896;f<=21899;f++)E[f]=0;for(f=22171;f<=22177;f++)E[f]=0;for(f=22181;f<=22187;f++)E[f]=0;for(f=22191;f<=22197;f++)E[f]=0;for(f=22207;f<=22222;f++)E[f]=0;for(f=22229;f<=22232;f++)E[f]=0;for(f=22234;f<=22236;f++)E[f]=0;for(f=22243;f<=22250;f++)E[f]=0;for(f=22262;f<=22265;f++)E[f]=0;for(f=22307;f<=22322;f++)E[f]=0;for(f=22348;f<=22357;f++)E[f]=0;for(f=22407;f<=22422;f++)E[f]=0;for(f=22462;f<=22465;f++)E[f]=0;for(f=22521;f<=22525;f++)E[f]=0;for(f=22607;f<=22622;f++)E[f]=0;for(f=22641;f<=22646;f++)E[f]=0;for(f=22648;f<=22657;f++)E[f]=0;for(f=22707;f<=22722;f++)E[f]=0;for(f=22762;f<=22765;f++)E[f]=0;for(f=22807;f<=22822;f++)E[f]=0;for(f=22991;f<=22994;f++)E[f]=0;for(f=23028;f<=23038;f++)E[f]=0;for(f=23301;f<=23333;f++)E[f]=2;for(f=23830;f<=23853;f++)E[f]=0;for(f=23866;f<=23872;f++)E[f]=0;for(f=23877;f<=23884;f++)E[f]=0;for(f=23886;f<=23894;f++)E[f]=0;for(f=23946;f<=23948;f++)E[f]=0;for(f=24311;f<=24313;f++)E[f]=0;for(f=24342;f<=24347;f++)E[f]=0;for(f=24370;f<=24374;f++)E[f]=10;for(f=24375;f<=24381;f++)E[f]=0;for(f=24718;f<=24721;f++)E[f]=0;for(f=24817;f<=24821;f++)E[f]=0;for(f=24877;f<=24882;f++)E[f]=0;for(f=24891;f<=24893;f++)E[f]=0;for(f=25391;f<=25395;f++)E[f]=0;for(f=25828;f<=25838;f++)E[f]=0;for(f=26191;f<=26195;f++)E[f]=0;for(f=26391;f<=26393;f++)E[f]=0;for(f=26701;f<=26722;f++)E[f]=0;for(f=26729;f<=26799;f++)E[f]=2;for(f=26801;f<=26803;f++)E[f]=2;for(f=26811;f<=26813;f++)E[f]=2;for(f=26847;f<=26870;f++)E[f]=2;for(f=26891;f<=26899;f++)E[f]=0;for(f=26901;f<=26923;f++)E[f]=0;for(f=26929;f<=26946;f++)E[f]=0;for(f=26948;f<=26998;f++)E[f]=0;for(f=27037;f<=27040;f++)E[f]=0;for(f=27205;f<=27232;f++)E[f]=0;for(f=27258;f<=27260;f++)E[f]=0;for(f=27391;f<=27398;f++)E[f]=0;for(f=27561;f<=27564;f++)E[f]=0;for(f=27571;f<=27574;f++)E[f]=0;for(f=27581;f<=27584;f++)E[f]=0;for(f=27591;f<=27594;f++)E[f]=0;for(f=27700;f<=27707;f++)E[f]=0;for(f=28191;f<=28193;f++)E[f]=0;for(f=28348;f<=28358;f++)E[f]=0;for(f=28402;f<=28432;f++)E[f]=0;for(f=28462;f<=28492;f++)E[f]=0;for(f=29118;f<=29122;f++)E[f]=0;for(f=29168;f<=29172;f++)E[f]=0;for(f=29177;f<=29185;f++)E[f]=0;for(f=29187;f<=29195;f++)E[f]=0;for(f=29900;f<=29903;f++)E[f]=0;for(f=30161;f<=30179;f++)E[f]=0;for(f=30491;f<=30494;f++)E[f]=0;for(f=30729;f<=30732;f++)E[f]=0;for(f=31251;f<=31259;f++)E[f]=0;for(f=31265;f<=31268;f++)E[f]=0;for(f=31275;f<=31279;f++)E[f]=0;for(f=31281;f<=31297;f++)E[f]=0;for(f=31461;f<=31469;f++)E[f]=0;for(f=31491;f<=31495;f++)E[f]=0;for(f=31917;f<=31922;f++)E[f]=0;for(f=31965;f<=32e3;f++)E[f]=0;for(f=32001;f<=32003;f++)E[f]=2;for(f=32005;f<=32031;f++)E[f]=2;for(f=32033;f<=32060;f++)E[f]=2;for(f=32064;f<=32067;f++)E[f]=2;for(f=32074;f<=32077;f++)E[f]=2;for(f=32081;f<=32086;f++)E[f]=0;for(f=32107;f<=32130;f++)E[f]=0;for(f=32133;f<=32159;f++)E[f]=0;for(f=32164;f<=32167;f++)E[f]=2;for(f=32180;f<=32199;f++)E[f]=0;for(f=32201;f<=32260;f++)E[f]=0;for(f=32301;f<=32360;f++)E[f]=0;for(f=32401;f<=32460;f++)E[f]=0;for(f=32501;f<=32560;f++)E[f]=0;for(f=32601;f<=32662;f++)E[f]=0;for(f=32664;f<=32667;f++)E[f]=2;for(f=32701;f<=32761;f++)E[f]=0;for(f=53001;f<=53004;f++)E[f]=0;for(f=53008;f<=53019;f++)E[f]=0;for(f=53021;f<=53032;f++)E[f]=0;for(f=53034;f<=53037;f++)E[f]=0;for(f=53042;f<=53046;f++)E[f]=0;for(f=53074;f<=53080;f++)E[f]=0;for(f=54001;f<=54004;f++)E[f]=0;for(f=54008;f<=54019;f++)E[f]=0;for(f=54021;f<=54032;f++)E[f]=0;for(f=54034;f<=54037;f++)E[f]=0;for(f=54042;f<=54046;f++)E[f]=0;for(f=54048;f<=54053;f++)E[f]=0;for(f=54074;f<=54080;f++)E[f]=0;for(f=54090;f<=54096;f++)E[f]=0;for(f=54098;f<=54101;f++)E[f]=0;for(f=65161;f<=65163;f++)E[f]=0;for(f=102001;f<=102040;f++)E[f]=0;for(f=102042;f<=102063;f++)E[f]=0;for(f=102065;f<=102067;f++)E[f]=0;for(f=102070;f<=102117;f++)E[f]=0;for(f=102122;f<=102216;f++)E[f]=0;for(f=102221;f<=102377;f++)E[f]=0;for(f=102382;f<=102388;f++)E[f]=0;for(f=102389;f<=102398;f++)E[f]=2;for(f=102399;f<=102444;f++)E[f]=0;for(f=102445;f<=102447;f++)E[f]=2;for(f=102448;f<=102458;f++)E[f]=0;for(f=102459;f<=102468;f++)E[f]=2;for(f=102469;f<=102499;f++)E[f]=0;for(f=102500;f<=102519;f++)E[f]=1;for(f=102520;f<=102524;f++)E[f]=0;for(f=102525;f<=102529;f++)E[f]=2;for(f=102530;f<=102588;f++)E[f]=0;for(f=102590;f<=102598;f++)E[f]=0;for(f=102601;f<=102603;f++)E[f]=0;for(f=102605;f<=102628;f++)E[f]=0;for(f=102629;f<=102646;f++)E[f]=2;for(f=102648;f<=102700;f++)E[f]=2;for(f=102701;f<=102703;f++)E[f]=0;for(f=102707;f<=102730;f++)E[f]=2;for(f=102733;f<=102758;f++)E[f]=2;for(f=102767;f<=102900;f++)E[f]=0;for(f=102901;f<=102933;f++)E[f]=2;for(f=102934;f<=102950;f++)E[f]=13;for(f=102951;f<=102963;f++)E[f]=0;for(f=102965;f<=102969;f++)E[f]=0;for(f=102971;f<=102973;f++)E[f]=0;for(f=102975;f<=102989;f++)E[f]=0;for(f=102990;f<=102992;f++)E[f]=1;for(f=102997;f<=103002;f++)E[f]=0;for(f=103003;f<=103008;f++)E[f]=2;for(f=103009;f<=103011;f++)E[f]=0;for(f=103012;f<=103014;f++)E[f]=2;for(f=103019;f<=103021;f++)E[f]=0;for(f=103022;f<=103024;f++)E[f]=2;for(f=103029;f<=103031;f++)E[f]=0;for(f=103032;f<=103034;f++)E[f]=2;for(f=103065;f<=103068;f++)E[f]=0;for(f=103074;f<=103076;f++)E[f]=0;for(f=103077;f<=103079;f++)E[f]=1;for(f=103080;f<=103082;f++)E[f]=0;for(f=103083;f<=103085;f++)E[f]=2;for(f=103090;f<=103093;f++)E[f]=0;for(f=103097;f<=103099;f++)E[f]=0;for(f=103100;f<=103102;f++)E[f]=2;for(f=103107;f<=103109;f++)E[f]=0;for(f=103110;f<=103112;f++)E[f]=2;for(f=103113;f<=103116;f++)E[f]=0;for(f=103117;f<=103120;f++)E[f]=2;for(f=103153;f<=103157;f++)E[f]=0;for(f=103158;f<=103162;f++)E[f]=2;for(f=103163;f<=103165;f++)E[f]=0;for(f=103166;f<=103168;f++)E[f]=1;for(f=103169;f<=103171;f++)E[f]=2;for(f=103186;f<=103188;f++)E[f]=0;for(f=103189;f<=103191;f++)E[f]=2;for(f=103192;f<=103195;f++)E[f]=0;for(f=103196;f<=103199;f++)E[f]=2;for(f=103200;f<=103224;f++)E[f]=0;for(f=103225;f<=103227;f++)E[f]=1;for(f=103232;f<=103237;f++)E[f]=0;for(f=103238;f<=103243;f++)E[f]=2;for(f=103244;f<=103246;f++)E[f]=0;for(f=103247;f<=103249;f++)E[f]=2;for(f=103254;f<=103256;f++)E[f]=0;for(f=103257;f<=103259;f++)E[f]=2;for(f=103264;f<=103266;f++)E[f]=0;for(f=103267;f<=103269;f++)E[f]=2;for(f=103300;f<=103375;f++)E[f]=0;for(f=103381;f<=103383;f++)E[f]=0;for(f=103384;f<=103386;f++)E[f]=1;for(f=103387;f<=103389;f++)E[f]=0;for(f=103390;f<=103392;f++)E[f]=2;for(f=103397;f<=103399;f++)E[f]=0;for(f=103400;f<=103471;f++)E[f]=2;for(f=103476;f<=103478;f++)E[f]=0;for(f=103479;f<=103481;f++)E[f]=2;for(f=103486;f<=103488;f++)E[f]=0;for(f=103489;f<=103491;f++)E[f]=2;for(f=103492;f<=103495;f++)E[f]=0;for(f=103496;f<=103499;f++)E[f]=2;for(f=103528;f<=103543;f++)E[f]=0;for(f=103544;f<=103548;f++)E[f]=2;for(f=103549;f<=103551;f++)E[f]=0;for(f=103552;f<=103554;f++)E[f]=1;for(f=103555;f<=103557;f++)E[f]=2;for(f=103558;f<=103560;f++)E[f]=0;for(f=103571;f<=103573;f++)E[f]=0;for(f=103574;f<=103576;f++)E[f]=2;for(f=103577;f<=103580;f++)E[f]=0;for(f=103581;f<=103583;f++)E[f]=2;for(f=103595;f<=103694;f++)E[f]=0;for(f=103696;f<=103699;f++)E[f]=0;for(f=103700;f<=103793;f++)E[f]=2;for(f=103794;f<=103890;f++)E[f]=0;for(f=103891;f<=103896;f++)E[f]=2;for(f=103900;f<=103971;f++)E[f]=2;for(f=103972;f<=103977;f++)E[f]=0;for(f=112e3;f<=112101;f++)E[f]=0;const KW=[102100,102113,3857,3785,900913],qce=[104905,104971],Gce=[4326,...KW,...qce],Ug=[-20037508342788905e-9,20037508342788905e-9],Yj=[-20037508342787e-6,20037508342787e-6],QT={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:Ug,origin:Yj,dx:1e-5},YW={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Ug,origin:Yj,dx:1e-5},102100:QT,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Ug,origin:Yj,dx:1e-5},3857:QT,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:QT};function wi(e,t){if(e===t)return!0;if(e==null||t==null)return!1;const r=e.wkid,n=t.wkid;if(r!=null||n!=null){if(r===n||ya(e)&&ya(t))return!0;const s=e.latestWkid;if(s!=null&&n===s)return!0;const a=t.latestWkid;return a!=null&&r===a}let i,o;return e.wkt2&&t.wkt2?(i=e.wkt2,o=t.wkt2):e.wkt&&t.wkt&&(i=e.wkt,o=t.wkt),!(!i||!o)&&i.toUpperCase()===o.toUpperCase()}function Nw(e){const t=e?.wkid;return t!=null&&t>=2e3&&YW[t]||null}function N5(e){if(!e)return;const{wkid:t,vcsWkid:r}=e;if(t)return r?JSON.stringify({wkid:t,vcsWkid:r}):String(t);const n=e.wkt||e.wkt2;return JSON.stringify(n?r?{wkt:n,vcsWkid:r}:{wkt:n}:{})}function w1(e){if(!ia(e))return!1;const{wkid:t}=e;if(t)return E[t]==null;const r=e.wkt2||e.wkt;return!!r&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(r)}function Wce(e){return!(QW(e)||XW(e))}function Xd(e){return e?.wkid===4326}function jJe(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function M5(e){return e?.wkid===Qd.CGCS2000}function ya(e){const t=e?.wkid;return t!=null&&t>=2e3&&KW.includes(t)}function Hce(e){return e?.wkid===32662}function z_(e){return e===Qd.GCSMARS2000||e===Qd.GCSMARS2000_SPHERE}function QW(e){return z_(e?.wkid)}function B_(e){return e===Qd.GCSMOON2000}function XW(e){return B_(e?.wkid)}function Jce(e){const t=e?.wkid;return t!=null&&t>=2e3&&Gce.includes(t)}function ia(e){if(e==null)return!1;const t=e.wkid;return t!=null&&t>=2e3||e.wkt2!=null||e.wkt!=null}const eH={wkid:4326,wkt:yp(YW[4326].wkTemplate,{Central_Meridian:"0.0"})},tH={wkid:102100,latestWkid:3857},Zce={wkid:32662};function GC(e){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const Kce=GC(Ht),WC=GC(ca),HC=GC(nc),Yce={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${Ht.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},Qce=WC.wkt.toUpperCase(),Xce=HC.wkt.toUpperCase();function ede(e){if(e!=null&&ia(e)){const t=e.wkid,r=e.wkt2??e.wkt;if(z_(t))return ca;const n=r?.toUpperCase();if(r&&n===Qce)return ca;if(B_(t)||n&&n===Xce)return nc}return Ht}function IJe(e){return z_(e)?ca:B_(e)?nc:Ht}function CS(e){return wi(e,Kce)}function ic(e){return CS(e)||wi(e,WC)||wi(e,HC)}const tde=39.37,rde=Ht.radius*Math.PI/200,rH=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,Mh=E,nH=/UNIT\[([^\]]+)]/i,nde=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),ide=Or()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),Ro=e=>e*e,Gl=e=>e*e*e,zg={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:Ro(.001)},"square-centimeters":{inBaseUnits:Ro(.01)},"square-decimeters":{inBaseUnits:Ro(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:Ro(1e3)},"square-inches":{inBaseUnits:Ro(.0254)},"square-feet":{inBaseUnits:Ro(.3048)},"square-yards":{inBaseUnits:Ro(.9144)},"square-miles":{inBaseUnits:Ro(1609.344)},"square-nautical-miles":{inBaseUnits:Ro(1852)},"square-us-feet":{inBaseUnits:Ro(1200/3937)},acres:{inBaseUnits:.0015625*Ro(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Gl(.001)},"cubic-centimeters":{inBaseUnits:1e3*Gl(.01)},"cubic-decimeters":{inBaseUnits:1e3*Gl(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Gl(1e3)},"cubic-inches":{inBaseUnits:1e3*Gl(.0254)},"cubic-feet":{inBaseUnits:1e3*Gl(.3048)},"cubic-yards":{inBaseUnits:1e3*Gl(.9144)},"cubic-miles":{inBaseUnits:1e3*Gl(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},ode=(()=>{const e={};for(const t in zg)for(const r in zg[t].units)e[r]=t;return e})();function sde(e,t,r){return e*zg[r].units[t].inBaseUnits}function ade(e,t,r){return e/zg[r].units[t].inBaseUnits}const lde=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function Qj(e){const t=ode[e];if(!t)throw new Error("unknown type");return t}function C5(e,t=null){return t=t||Qj(e),zg[t].baseUnit===e}function xn(e,t,r){if(t===r)return e;const n=Qj(t);if(n!==Qj(r))throw new Error("incompatible units");const i=C5(t,n)?e:sde(e,t,n);return C5(r,n)?i:ade(i,r,n)}function AJe(e,t,r,n=!1){if(!n&&w1(t))throw new Error("Unable to convert from an angular unit to a linear unit.");const i=x1(t);return i!==r&&(e=i?xn(e,i,r):xn(e*=yc(t),"meters",r)),e}function PJe(e,t,r,n=!1){if(!n&&w1(r))throw new Error("Unable to convert from a linear unit to an angular unit.");const i=x1(r);return t!==i&&(e=i?xn(e,t,i):xn(e,t,"meters")/yc(r)),e}function ude(e,t,r){return xn(e,t,"meters")/(r*Math.PI/180)}function JC(e){return ide.fromJSON(e.toLowerCase())||null}function kS(e){if(e!=null&&!Wce(e))return 1;const t=yc(e);return t>1e5?1:t}function cde(e){return yc(e)>=ede(e).metersPerDegree?"meters":x1(e)}function yc(e,t=Ht.metersPerDegree){return dde(e,!0)??t}function dde(e,t=!1){const r=e?.wkid??null,n=e?.wkt2??e?.wkt??null;let i=null;if(r){if(z_(r))return ca.metersPerDegree;if(B_(r))return nc.metersPerDegree;i=Mh.values[Mh[r]],!i&&t&&nde.has(r)&&(i=rde)}else n&&(sH(n)?i=k5(rH.exec(n),i):oH(n)&&(i=k5(nH.exec(n),i)));return i}function NJe(e){return w1(e)?1:yc(e)}function k5(e,t){return e?.[1]?iH(e[1]):t}function iH(e){return parseFloat(e.split(",")[1])}function x1(e){const t=e?.wkid??null,r=e?.wkt2??e?.wkt??null;let n=null;if(t)n=Mh.units[Mh[t]];else if(r){const i=sH(r)?rH:oH(r)?nH:null;if(i){const o=i.exec(r);o?.[1]&&(n=fde(o[1]))}}return n!=null?JC(n):null}function MJe(e){const t=x1(e);return t==null?null:lde.get(t)}function oH(e){return/^GEOCCS/i.test(e)}function sH(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const pde=1e-7;function fde(e){let r=/[\\"']{1}([^\\"']+)/.exec(e)?.[1];if(!r||!JC(r)){const n=iH(e);r=null;const i=Mh.values;for(let o=0;o<i.length;++o)if(Math.abs(n-i[o])<pde){r=Mh.units[o];break}}return r}const hde={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},yde={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},mde={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},gde=Or()(hde),vde=Or()(yde),CJe=Or()(mde);var ks,ll;let be=(ll=class extends z{static fromJSON(t){if(!t)return null;if(t?.wkid===102100)return ks.WebMercator;if(t?.wkid===4326)return ks.WGS84;const r=new ks;return r.read(t),r}constructor(t){super(t),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(t){return t&&typeof t=="object"?t:{[typeof t=="string"?"wkt":"wkid"]:t}}get isWGS84(){return Xd(this)}get isWebMercator(){return ya(this)}get isGeographic(){return w1(this)}get isWrappable(){return Jce(this)}get metersPerUnit(){return yc(this)}get unit(){return x1(this)||(this.isGeographic?"degrees":null)}writeWkt(t,r){this.wkid||(r.wkt=t)}clone(){if(this===ks.WGS84)return new ks(eH);if(this===ks.WebMercator)return new ks(tH);const t=new ks;return this.wkid!=null?(t.wkid=this.wkid,this.latestWkid!=null&&(t.latestWkid=this.latestWkid),this.vcsWkid!=null&&(t.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(t.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(t.wkt=this.wkt),this.wkt2!=null&&(t.wkt2=this.wkt2)),this.imageCoordinateSystem&&(t.imageCoordinateSystem=D(this.imageCoordinateSystem)),t}equals(t){if(t==null)return!1;if(this.imageCoordinateSystem||t.imageCoordinateSystem){if(this.imageCoordinateSystem==null||t.imageCoordinateSystem==null)return!1;const{id:r,referenceServiceName:n}=t.imageCoordinateSystem,{geodataXform:i}=t.imageCoordinateSystem,o=this.imageCoordinateSystem;return r==null||i?JSON.stringify(o)===JSON.stringify(t.imageCoordinateSystem):n?o.id===r&&o.referenceServiceName===n:o.id===r}return wi(this,t)}toJSON(t){return this.write(void 0,t)}},ks=ll,ll.GCS_NAD_1927=null,ll.WGS84=null,ll.WebMercator=null,ll.PlateCarree=null,ll);u([d({readOnly:!0})],be.prototype,"isWGS84",null),u([d({readOnly:!0})],be.prototype,"isWebMercator",null),u([d({readOnly:!0})],be.prototype,"isGeographic",null),u([d({readOnly:!0})],be.prototype,"isWrappable",null),u([d({type:ze,json:{write:!0}})],be.prototype,"latestWkid",void 0),u([d({readOnly:!0})],be.prototype,"metersPerUnit",null),u([d({readOnly:!0})],be.prototype,"unit",null),u([d({type:ze,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],be.prototype,"wkid",void 0),u([d({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],be.prototype,"wkt",void 0),u([re("wkt"),re("web-scene","wkt")],be.prototype,"writeWkt",null),u([d({type:String,json:{write:!1}})],be.prototype,"wkt2",void 0),u([d({type:ze,json:{write:!0}})],be.prototype,"vcsWkid",void 0),u([d({type:ze,json:{write:!0}})],be.prototype,"latestVcsWkid",void 0),u([d()],be.prototype,"imageCoordinateSystem",void 0),be=ks=u([I("esri.geometry.SpatialReference")],be),be.prototype.toJSON.isDefaultToJSON=!0,be.GCS_NAD_1927=dt.freeze(new be({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),be.WGS84=dt.freeze(new be(eH)),be.WebMercator=dt.freeze(new be(tH)),be.PlateCarree=dt.freeze(new be(Zce));function X(e,t,r){let n,i;return t===void 0||Array.isArray(t)?(i=e,r=t,n=[void 0]):(i=t,n=Array.isArray(e)?e:[e]),(o,s)=>{const a=o.constructor.prototype;n.forEach(l=>{const c=RC(o,l,i);c.read&&typeof c.read=="object"||(c.read={}),c.read.reader=a[s],r&&(c.read.source=(c.read.source||[]).concat(r))})}}let $n=class extends z{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=be.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,r){if(t instanceof be)return t;if(t!=null){const n=new be;return n.read(t,r),n}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,r){this.cache[t]=r}};u([d()],$n.prototype,"type",void 0),u([d({readOnly:!0})],$n.prototype,"cache",null),u([d({readOnly:!0})],$n.prototype,"extent",null),u([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],$n.prototype,"hasM",void 0),u([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],$n.prototype,"hasZ",void 0),u([d({type:be,json:{write:!0},value:be.WGS84})],$n.prototype,"spatialReference",void 0),u([X("spatialReference")],$n.prototype,"readSpatialReference",null),$n=u([I("esri.geometry.Geometry")],$n);const bde=Object.prototype.toString;function wde(e){const t="__accessorMetadata__"in e?mr(e):e;return function(...r){if(r.push(t),typeof r[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return xde.apply(this,r)}}function xde(e,t,r,n){v1(e,t).cast=n}function Sde(e){return(t,r)=>{v1(t,e).cast=t[r]}}function pt(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&bde.call(e[0])==="[object Function]"?wde(e[0]):e.length===1&&typeof e[0]=="string"?Sde(e[0]):void 0}function Ch(e){if(e&&typeof e=="object"&&"type"in e&&e.type==="mesh")throw new Z("internal:mesh","Mesh geometries are not supported for this operation")}function _de(e){e.forEach(Ch)}const $de=57.29577951308232,Tde=.017453292519943;function R5(e){return e*$de}function L5(e){return e*Tde}function RJe(e){return Math.PI/2-2*Math.atan(Math.exp(-e/Ht.radius))}function Xj(e){return e.wkid!=null||e.wkt!=null}const XT=[0,0];function RS(e,t,r,n,i){const o=e,s=i;if(s.spatialReference=r,"x"in o&&"x"in s)[s.x,s.y]=t(o.x,o.y,XT,n);else if("xmin"in o&&"xmin"in s)[s.xmin,s.ymin]=t(o.xmin,o.ymin,XT,n),[s.xmax,s.ymax]=t(o.xmax,o.ymax,XT,n);else if("paths"in o&&"paths"in s||"rings"in o&&"rings"in s){const a="paths"in o?o.paths:o.rings,l=[];let c;for(let p=0;p<a.length;p++){const h=a[p];c=[],l.push(c);for(let y=0;y<h.length;y++)c.push(t(h[y][0],h[y][1],[0,0],n)),h[y].length>2&&c[y].push(h[y][2]),h[y].length>3&&c[y].push(h[y][3])}"paths"in s?s.paths=l:s.rings=l}else if("points"in o&&"points"in s){const a=o.points,l=[];for(let c=0;c<a.length;c++)l[c]=t(a[c][0],a[c][1],[0,0],n),a[c].length>2&&l[c].push(a[c][2]),a[c].length>3&&l[c].push(a[c][3]);s.points=l}return i}function Mw(e,t){const r=e&&(Xj(e)?e:e.spatialReference),n=t&&(Xj(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!r||!n)&&(!!wi(n,r)||ya(n)&&Xd(r)||ya(r)&&Xd(n))}function aH(e,t){if(e==null)return null;const r=e.spatialReference,n=t&&(Xj(t)?t:t.spatialReference);return Mw(r,n)?wi(r,n)?D(e):ya(n)?RS(e,Rf,be.WebMercator,!1,D(e)):Xd(n)?RS(e,V_,be.WGS84,!1,D(e)):null:null}function Rf(e,t,r=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const n=L5(t);return r[0]=L5(e)*Ht.radius,r[1]=Ht.halfSemiMajorAxis*Math.log((1+Math.sin(n))/(1-Math.sin(n))),r}function V_(e,t,r=[0,0],n=!1){if(e===Ug[0])r[0]=-180;else if(e===Ug[1])r[0]=180;else{const i=R5(e/Ht.radius);r[0]=n?i:i-360*Math.floor((i+180)/360)}return r[1]=R5(Math.PI/2-2*Math.atan(Math.exp(-t/Ht.radius))),r}function Cw(e,t=!1,r=D(e)){return Ch(e),Ch(r),RS(e,Rf,be.WebMercator,t,r)}function Dm(e,t=!1,r=D(e)){return Ch(e),Ch(r),RS(e,V_,be.WGS84,t,r)}function Ode(e,t){const r=e.x-t.x,n=e.y-t.y,i=e.z!=null&&t.z!=null?e.z-t.z:0;return Math.sqrt(r*r+n*n+i*i)}function Ede(e){return lH(e,uH)?.[0]??null}function jde(e){return lH(e,uH)?.[1]??null}function lH({x:e,y:t,spatialReference:r},n=[0,0]){if(r){if(ya(r))return V_(e,t,n);if(w1(r))return n[0]=e,n[1]=t,n}return null}const uH=[0,0];var kw;const eO=[0,0];function D5(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Ve=kw=class extends $n{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const r=e._get("spatialReference");t._set("spatialReference",dt.isFrozen(r)?r:r.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,r,n,i){let o;if(Array.isArray(e))o=e,i=t,e=o[0],t=o[1],r=o[2],n=o[3];else if(e&&typeof e=="object"){if(o=e,e=o.x!=null?o.x:o.longitude,t=o.y!=null?o.y:o.latitude,r=o.z,n=o.m,(i=o.spatialReference)&&i.declaredClass!=="esri.geometry.SpatialReference"&&(i=new be(i)),o.longitude!=null||o.latitude!=null){if(o.longitude==null)ce.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(o.latitude==null)ce.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!o.declaredClass&&i?.isWebMercator){const a=Rf(o.longitude,o.latitude,eO);e=a[0],t=a[1]}}}else D5(r)?(i=r,r=null):D5(n)&&(i=n,n=null);const s={x:e,y:t};return s.x==null&&s.y!=null?ce.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):s.y==null&&s.x!=null&&ce.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),i!=null&&(s.spatialReference=i),r!=null&&(s.z=r),n!=null&&(s.m=n),s}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){return jde(this)}set latitude(e){const{spatialReference:t,x:r}=this;e!=null&&t&&(t.isWebMercator?this._set("y",Rf(r,e,eO)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){return Ede(this)}set longitude(e){const{y:t,spatialReference:r}=this;e!=null&&r&&(r.isWebMercator?this._set("x",Rf(e,t,eO)[0]):r.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,r){t[r]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new kw;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return kw.copy(e,this),this}equals(e){if(e==null)return!1;const{x:t,y:r,z:n,m:i,spatialReference:o}=this,{z:s,m:a}=e;let{x:l,y:c,spatialReference:p}=e;if(!o.equals(p))if(o.isWebMercator&&p.isWGS84)[l,c]=Rf(l,c),p=o;else{if(!o.isWGS84||!p.isWebMercator)return!1;[l,c]=V_(l,c),p=o}return t===l&&r===c&&n===s&&i===a&&o.wkid===p.wkid}offset(e,t,r){return this.x+=e,this.y+=t,r!=null&&(this.z=(this.z??0)+r),this}normalize(){if(!this.spatialReference)return this;const e=Nw(this.spatialReference);if(!e)return this;let t=this.x;const[r,n]=e.valid,i=2*n;let o;return t>n?(o=Math.ceil(Math.abs(t-n)/i),t-=o*i):t<r&&(o=Math.ceil(Math.abs(t-r)/i),t+=o*i),this._set("x",t),this}distance(e){return Ode(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};u([d({readOnly:!0})],Ve.prototype,"cache",null),u([d({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Ve.prototype,"hasM",null),u([d({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Ve.prototype,"hasZ",null),u([d({type:Number})],Ve.prototype,"latitude",null),u([d({type:Number})],Ve.prototype,"longitude",null),u([d({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),pt(e=>isNaN(e)?e:Vn(e))],Ve.prototype,"x",void 0),u([re("x")],Ve.prototype,"writeX",null),u([X("x")],Ve.prototype,"readX",null),u([d({type:Number,json:{write:!0}})],Ve.prototype,"y",void 0),u([d({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Ve.prototype,"z",void 0),u([d({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],Ve.prototype,"m",void 0),Ve=kw=u([I("esri.geometry.Point")],Ve),Ve.prototype.toJSON.isDefaultToJSON=!0;const tO=[0,0];function cH(e,t){return t!=null&&Dn(e,t.x,t.y,t.z)}function LJe(e,t){if(!t.points?.length)return!1;for(const r of t.points)if(!kh(e,r))return!1;return!0}function Ide(e,t){const{xmin:r,ymin:n,zmin:i,xmax:o,ymax:s,zmax:a}=t;return e.hasZ&&t.hasZ?Dn(e,r,n,i)&&Dn(e,r,s,i)&&Dn(e,o,s,i)&&Dn(e,o,n,i)&&Dn(e,r,n,a)&&Dn(e,r,s,a)&&Dn(e,o,s,a)&&Dn(e,o,n,a):Dn(e,r,n)&&Dn(e,r,s)&&Dn(e,o,s)&&Dn(e,o,n)}function kh(e,t){return Dn(e,t[0],t[1])}function Ade(e,t){return Dn(e,t[0],t[1],t[2])}function Dn(e,t,r,n){return t>=e.xmin&&t<=e.xmax&&r>=e.ymin&&r<=e.ymax&&(n==null||!e.hasZ||n>=e.zmin&&n<=e.zmax)}function Pde(e,t){return tO[1]=t.y,tO[0]=t.x,Nde(e,tO)}function Nde(e,t){return dH(e.rings,t)}function dH(e,t){if(!e)return!1;if(Mde(e))return F5(!1,e,t);let r=!1;for(let n=0,i=e.length;n<i;n++)r=F5(r,e[n],t);return r}function Mde(e){return!Array.isArray(e[0][0])}function F5(e,t,r){const[n,i]=r;let o=e,s=0;for(let a=0,l=t.length;a<l;a++){s++,s===l&&(s=0);const[c,p]=t[a],[h,y]=t[s];(p<i&&y>=i||y<i&&p>=i)&&c+(i-p)/(y-p)*(h-c)<n&&(o=!o)}return o}function Cde(e,t){return cH(e,t)}function kde(e,t){const r=e.hasZ&&t.hasZ;let n,i,o;if(e.xmin<=t.xmin){if(n=t.xmin,e.xmax<n)return!1}else if(n=e.xmin,t.xmax<n)return!1;if(e.ymin<=t.ymin){if(i=t.ymin,e.ymax<i)return!1}else if(i=e.ymin,t.ymax<i)return!1;if(r&&t.hasZ){if(e.zmin<=t.zmin){if(o=t.zmin,e.zmax<o)return!1}else if(o=e.zmin,t.zmax<o)return!1}return!0}function Rde(e,t){const{points:r,hasZ:n}=t,i=n?Ade:kh;for(const o of r)if(i(e,o))return!0;return!1}const ep=[0,0],tp=[0,0],rp=[0,0],np=[0,0],Lde=[ep,tp,rp,np],pH=[[rp,ep],[ep,tp],[tp,np],[np,rp]];function Dde(e,t){return Fde(e,t.rings)}function Fde(e,t){ep[0]=e.xmin,ep[1]=e.ymax,tp[0]=e.xmax,tp[1]=e.ymax,rp[0]=e.xmin,rp[1]=e.ymin,np[0]=e.xmax,np[1]=e.ymin;for(const r of Lde)if(dH(t,r))return!0;for(const r of t){if(!r.length)continue;let n=r[0];if(kh(e,n))return!0;for(let i=1;i<r.length;i++){const o=r[i];if(kh(e,o)||fH(n,o,pH))return!0;n=o}}return!1}function Ude(e,t){ep[0]=e.xmin,ep[1]=e.ymax,tp[0]=e.xmax,tp[1]=e.ymax,rp[0]=e.xmin,rp[1]=e.ymin,np[0]=e.xmax,np[1]=e.ymin;const r=t.paths;for(const n of r){if(!r.length)continue;let i=n[0];if(kh(e,i))return!0;for(let o=1;o<n.length;o++){const s=n[o];if(kh(e,s)||fH(i,s,pH))return!0;i=s}}return!1}const qr=[0,0];function zde(e){for(let t=0;t<e.length;t++){const r=e[t];for(let i=0;i<r.length-1;i++){const o=r[i],s=r[i+1];for(let a=t+1;a<e.length;a++)for(let l=0;l<e[a].length-1;l++){const c=e[a][l],p=e[a][l+1];if(eI(o,s,c,p,qr)&&!(qr[0]===o[0]&&qr[1]===o[1]||qr[0]===c[0]&&qr[1]===c[1]||qr[0]===s[0]&&qr[1]===s[1]||qr[0]===p[0]&&qr[1]===p[1]))return!0}}const n=r.length;if(!(n<=4))for(let i=0;i<n-3;i++){let o=n-1;i===0&&(o=n-2);const s=r[i],a=r[i+1];for(let l=i+2;l<o;l++){const c=r[l],p=r[l+1];if(eI(s,a,c,p,qr)&&!(qr[0]===s[0]&&qr[1]===s[1]||qr[0]===c[0]&&qr[1]===c[1]||qr[0]===a[0]&&qr[1]===a[1]||qr[0]===p[0]&&qr[1]===p[1]))return!0}}}return!1}function fH(e,t,r){for(let n=0;n<r.length;n++)if(eI(e,t,r[n][0],r[n][1]))return!0;return!1}function eI(e,t,r,n,i){const[o,s]=e,[a,l]=t,[c,p]=r,[h,y]=n,m=h-c,g=o-c,b=a-o,w=y-p,x=s-p,_=l-s,S=w*b-m*_;if(S===0)return!1;const O=(m*x-w*g)/S,$=(b*x-_*g)/S;return O>=0&&O<=1&&$>=0&&$<=1&&(i&&(i[0]=o+O*(a-o),i[1]=s+O*(l-s)),!0)}function Bde(e){switch(e){case"esriGeometryEnvelope":case"extent":return kde;case"esriGeometryMultipoint":case"multipoint":return Rde;case"esriGeometryPoint":case"point":return Cde;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return Dde;case"esriGeometryPolyline":case"polyline":return Ude}}var zo;function Vde(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function Wl(e,t,r){return t==null?r:r==null?t:e(t,r)}let Ue=zo=class extends $n{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,r,n,i){return Vde(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?be.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:r,ymax:n,spatialReference:i??be.WGS84}}static fromPoint(e){return new zo({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new Ve({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new zo;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&Mw(t,r)&&(e=t.isWebMercator?Cw(e):Dm(e,!0)),e.type==="point"?cH(this,e):e.type==="extent"&&Ide(this,e)}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&Mw(t,r)&&(e=t.isWebMercator?Cw(e):Dm(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),r=this.width*t,n=this.height*t;if(this.xmin+=r,this.ymin+=n,this.xmax-=r,this.ymax-=n,this.hasZ){const i=(this.zmax-this.zmin)*t;this.zmin+=i,this.zmax-=i}if(this.hasM){const i=(this.mmax-this.mmin)*t;this.mmin+=i,this.mmax-=i}return this}intersects(e){if(e==null)return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,r=e.spatialReference;return t&&r&&!wi(t,r)&&Mw(t,r)&&(e=t.isWebMercator?Cw(e):Dm(e,!0)),Bde(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,r){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,r!=null&&(this.zmin+=r,this.zmax+=r),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Wl(Math.min,this.zmin,e.zmin),this.zmax=Wl(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Wl(Math.min,this.mmin,e.mmin),this.mmax=Wl(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:e!=null&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Wl(Math.max,this.zmin,e.zmin),this.zmax=Wl(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Wl(Math.max,this.mmin,e.mmin),this.mmax=Wl(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=Nw(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,r=this._getCM(e);if(r){const n=t.isWebMercator?Dm(r):r;this.xmin-=r.x,this.xmax-=r.x,t.isWebMercator||(n.x=rO(n.x,e).x),this.spatialReference=new be(yp((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:n.x}))}return this}_getCM(e){let t=null;const[r,n]=e.valid,i=this.xmin,o=this.xmax;return i>=r&&i<=n&&o>=r&&o<=n||(t=this.center),t}_normalize(e,t,r){const n=this.spatialReference;if(!n)return this;const i=r??Nw(n);if(i==null)return this;const o=this._getParts(i).map(l=>l.extent);if(o.length<2)return o[0]||this;if(o.length>2)return e?this._shiftCM(i):this.set({xmin:i.valid[0],xmax:i.valid[1]});if(e)return this._shiftCM(i);if(t)return o;let s=!0,a=!0;return o.forEach(l=>{l.hasZ||(s=!1),l.hasM||(a=!1)}),{rings:o.map(l=>{const c=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(s){const p=(l.zmax-l.zmin)/2;for(let h=0;h<c.length;h++)c[h].push(p)}if(a){const p=(l.mmax-l.mmin)/2;for(let h=0;h<c.length;h++)c[h].push(p)}return c}),hasZ:s,hasM:a,spatialReference:n}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:i,ymax:o,spatialReference:s}=this,a=this.width,l=this.xmin,c=this.xmax;let p;e=e||Nw(s);const[h,y]=e.valid;p=rO(this.xmin,e);const m=p.x,g=p.frameId;p=rO(this.xmax,e);const b=p.x,w=p.frameId,x=m===b&&a>0;if(a>2*y){const _=new zo(l<c?m:b,i,y,o,s),S=new zo(h,i,l<c?b:m,o,s),O=new zo(0,i,y,o,s),$=new zo(h,i,0,o,s),T=[],j=[];_.contains(O)&&T.push(g),_.contains($)&&j.push(g),S.contains(O)&&T.push(w),S.contains($)&&j.push(w);for(let A=g+1;A<w;A++)T.push(A),j.push(A);t.push({extent:_,frameIds:[g]},{extent:S,frameIds:[w]},{extent:O,frameIds:T},{extent:$,frameIds:j})}else m>b||x?t.push({extent:new zo(m,i,y,o,s),frameIds:[g]},{extent:new zo(h,i,b,o,s),frameIds:[w]}):t.push({extent:new zo(m,i,b,o,s),frameIds:[g]});this.cache._parts=t}const r=this.hasZ,n=this.hasM;if(r||n){const i={};r&&(i.zmin=this.zmin,i.zmax=this.zmax),n&&(i.mmin=this.mmin,i.mmax=this.mmax);for(let o=0;o<t.length;o++)t[o].extent.set(i)}return t}};function rO(e,t){const[r,n]=t.valid,i=2*n;let o,s=0;return e>n?(o=Math.ceil(Math.abs(e-n)/i),e-=o*i,s=o):e<r&&(o=Math.ceil(Math.abs(e-r)/i),e+=o*i,s=-o),{x:e,frameId:s}}u([d({readOnly:!0})],Ue.prototype,"cache",null),u([d({readOnly:!0})],Ue.prototype,"center",null),u([d({readOnly:!0})],Ue.prototype,"extent",null),u([d({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Ue.prototype,"hasM",null),u([d({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Ue.prototype,"hasZ",null),u([d({readOnly:!0})],Ue.prototype,"height",null),u([d({readOnly:!0})],Ue.prototype,"width",null),u([d({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],Ue.prototype,"xmin",void 0),u([d({type:Number,json:{write:!0}})],Ue.prototype,"ymin",void 0),u([d({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Ue.prototype,"mmin",void 0),u([d({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Ue.prototype,"zmin",void 0),u([d({type:Number,json:{write:!0}})],Ue.prototype,"xmax",void 0),u([d({type:Number,json:{write:!0}})],Ue.prototype,"ymax",void 0),u([d({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Ue.prototype,"mmax",void 0),u([d({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Ue.prototype,"zmax",void 0),Ue=zo=u([I("esri.geometry.Extent")],Ue),Ue.prototype.toJSON.isDefaultToJSON=!0;let U0;const qde=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,tI=globalThis.document?.documentElement;function hH(){const e=tI?.getAttribute("lang"),t=globalThis.navigator?.language;return qde??e??t??"en"}function $o(){return U0===void 0&&(U0=hH()),U0}const Gde=/^(?<language>[a-z]{2,3})(?:-[a-z]{3})?(?:-[A-Z][a-z]{3})?(?:-(?<region>[A-Z]{2}|\d{3}))?(?:-.*)?$/;function ZC(e=$o()){return Gde.exec(e)?.groups}const Rw=[];function DJe(e){return Rw.push(e),yr(()=>{Rw.splice(Rw.indexOf(e),1)})}const Lw=[];function KC(e){return Lw.push(e),yr(()=>Lw.splice(Lw.indexOf(e),1))}function U5(){const e=hH();U0!==e&&([...Lw].forEach(t=>t(e)),U0=e,[...Rw].forEach(t=>t(e)))}globalThis.addEventListener?.("languagechange",U5),tI&&new MutationObserver(()=>{U5()}).observe(tI,{attributeFilter:["lang"]});let hb;function Wde(e){return hb&&!hb.destroyed||(hb=e()),hb}var rI;const Hde=new Pe({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let Yt=rI=class extends dt{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new rI({categories:this.categories?D(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let r=[];this.categories&&(r=this.categories.map(s=>Array.isArray(s)?JSON.stringify(s):s));let n="";if(this.extent){const s=aH(this.extent,be.WGS84);s!=null&&(n=`${s.xmin},${s.ymin},${s.xmax},${s.ymax}`)}let i=this.query;!this.disableExtraQuery&&e.extraQuery&&(i="("+i+")"+e.extraQuery);const o={categories:r,bbox:n,q:i,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(o.sortField=this.sortField.split(",").map(s=>Hde.toJSON(s.trim())).join(","),o.sortOrder=this.sortOrder),{query:{...t,...o}}}};u([d()],Yt.prototype,"categories",void 0),u([d()],Yt.prototype,"disableExtraQuery",void 0),u([d({type:Ue})],Yt.prototype,"extent",void 0),u([d()],Yt.prototype,"filter",void 0),u([d()],Yt.prototype,"num",void 0),u([d()],Yt.prototype,"query",void 0),u([d()],Yt.prototype,"sortField",void 0),u([d()],Yt.prototype,"sortOrder",null),u([d()],Yt.prototype,"start",void 0),Yt=rI=u([I("esri.portal.PortalQueryParams")],Yt);var nI;let Zt=nI=class extends z{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t&&this.portal?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.portal?.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then(t=>{const r=t.categorySchema||[];return r.some(n=>n.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):r})}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new Z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new nI({sourceJSON:e});return t.read(e),t}queryItems(e,t){let r=mr(Yt,e);const n=this.portal;return parseFloat(n.currentVersion)>5?(r=r||new Yt,n.queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",t)):(r=r?r.clone():new Yt,r.query="group:"+this.id+(r.query?" "+r.query:""),n.queryItems(r,t))}_fetchCategorySchemaSet(e,t){const r=this.portal;return r.fetchSelf(r.authMode,!0,t).then(n=>{const i=n.contentCategorySetsGroupQuery;if(i){const o=new Yt({disableExtraQuery:!0,num:1,query:i});return r.queryGroups(o,t)}throw new Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(n=>{if(n.total){const i=n.results[0],o=new Yt({num:1,query:`typekeywords:"${e}"`});return i.queryItems(o,t)}throw new Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(n=>n.total?n.results[0].fetchData("json",t).then(i=>{const o=i?.categorySchema;return o?.length?o:[]}):[])}};u([d()],Zt.prototype,"access",void 0),u([d({type:Date})],Zt.prototype,"created",void 0),u([d()],Zt.prototype,"description",void 0),u([d()],Zt.prototype,"id",void 0),u([d()],Zt.prototype,"isInvitationOnly",void 0),u([d({type:Date})],Zt.prototype,"modified",void 0),u([d()],Zt.prototype,"owner",void 0),u([d()],Zt.prototype,"portal",void 0),u([d()],Zt.prototype,"snippet",void 0),u([d()],Zt.prototype,"sortField",void 0),u([d()],Zt.prototype,"sortOrder",void 0),u([d()],Zt.prototype,"sourceJSON",void 0),u([d()],Zt.prototype,"tags",void 0),u([d()],Zt.prototype,"thumbnail",void 0),u([d({readOnly:!0})],Zt.prototype,"thumbnailUrl",null),u([d()],Zt.prototype,"title",void 0),u([d({readOnly:!0})],Zt.prototype,"url",null),Zt=nI=u([I("esri.portal.PortalGroup")],Zt);let Cc=class extends dt{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};u([d()],Cc.prototype,"nextQueryParams",void 0),u([d()],Cc.prototype,"queryParams",void 0),u([d()],Cc.prototype,"results",void 0),u([d()],Cc.prototype,"total",void 0),Cc=u([I("esri.portal.PortalQueryResult")],Cc);let Ea=class extends z{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const t=this.portal?.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new Z("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};u([d({type:Date})],Ea.prototype,"created",void 0),u([d()],Ea.prototype,"id",void 0),u([d()],Ea.prototype,"portal",void 0),u([d()],Ea.prototype,"title",void 0),u([d({readOnly:!0})],Ea.prototype,"url",null),u([d()],Ea.prototype,"username",void 0),Ea=u([I("esri.portal.PortalFolder")],Ea);var iI;let st=iI=class extends z{constructor(e){super(e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.id=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.id}`:null}get url(){const e=this.portal?.restUrl;return e?`${e}/community/users/${this.id}`:null}addItem(e){const t=e&&e.item,r=e?.data,n=e?.folder,i={method:"post"};t&&(i.query=t.createPostQuery(),r!=null&&(typeof r=="string"?i.query.text=r:typeof r=="object"&&(i.query.text=JSON.stringify(r))));let o=this.userContentUrl;return n&&(o+="/"+(typeof n=="string"?n:n.id)),this.portal.request(o+"/addItem",i).then(s=>(t.id=s.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}async deleteItem(e,t=!1){let r=this.userContentUrl;e.ownerFolder&&(r+="/"+e.ownerFolder);const n=t?{permanentDelete:!0}:{};await this.portal.request(r+`/items/${e.id}/delete`,{method:"post",query:n}),e.id=null,e.portal=null}async deleteItems(e,t=!1){e=e.slice();const r=this.userContentUrl+"/deleteItems",n=[],i=e.map(o=>o.id);if(i.length){const o={method:"post",query:{items:i.join(","),permanentDelete:t}},s=await this.portal.request(r,o);for(const a of s.results){const l=e.find(h=>a.itemId===h.id),c=a.success;let p=null;c?(l.id=null,l.portal=null):a.error&&(p=new Z("portal:delete-item-failed",a.error.message,a.error)),n.push({item:l,success:c,error:p})}}return n}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then(t=>{let r;return r=t&&t.folders?t.folders.map(n=>{const i=Ea.fromJSON(n);return i.portal=this.portal,i}):[],r})}fetchGroups(){return this.portal.request(this.url??"").then(e=>{let t;return t=e&&e.groups?e.groups.map(r=>{const n=Zt.fromJSON(r);return n.portal=this.portal,n}):[],t})}async fetchItems(e){e??(e={});let t=this.userContentUrl??"";e.folder&&(t+="/"+e.folder.id);const{default:r}=await ue(()=>Promise.resolve().then(()=>yH),void 0),n={folders:!1,inRecycleBin:!!e.inRecycleBin||null,foldersContent:!(e.folder||!e.includeSubfolderItems)||null,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"},i=await this.portal.request(t,{query:n});let o;return i?.items?(o=i.items.map(s=>{const a=r.fromJSON(s);return a.portal=this.portal,a}),await Promise.all(o.map(s=>s.load())),{items:o,nextStart:i.nextStart,total:i.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new Zt({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new Z("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(e,t){const r=this.userContentUrl,n=t?{folderID:typeof t=="string"?t:t.id}:null;await this.portal.request(r+`/items/${e.id}/restore`,{method:"post",query:n})}toJSON(){throw new Z("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new iI({sourceJSON:e});return t.read(e),t}};u([d()],st.prototype,"access",void 0),u([d({type:Date})],st.prototype,"created",void 0),u([d()],st.prototype,"culture",void 0),u([d()],st.prototype,"description",void 0),u([d()],st.prototype,"email",void 0),u([d()],st.prototype,"favGroupId",void 0),u([d()],st.prototype,"fullName",void 0),u([d()],st.prototype,"id",void 0),u([d({type:Date})],st.prototype,"modified",void 0),u([d()],st.prototype,"orgId",void 0),u([d()],st.prototype,"portal",void 0),u([d()],st.prototype,"preferredView",void 0),u([d()],st.prototype,"privileges",void 0),u([d()],st.prototype,"region",void 0),u([d()],st.prototype,"role",void 0),u([d()],st.prototype,"roleId",void 0),u([d()],st.prototype,"sourceJSON",void 0),u([d()],st.prototype,"thumbnail",void 0),u([d({readOnly:!0})],st.prototype,"thumbnailUrl",null),u([d()],st.prototype,"units",void 0),u([d({readOnly:!0})],st.prototype,"userContentUrl",null),u([d({readOnly:!0})],st.prototype,"url",null),u([d()],st.prototype,"username",void 0),u([d()],st.prototype,"userLicenseTypeId",void 0),u([d()],st.prototype,"userType",void 0),st=iI=u([I("esri.portal.PortalUser")],st);var _i;let cm;const z5={PortalGroup:()=>Promise.resolve({default:Zt}),PortalItem:()=>ue(()=>Promise.resolve().then(()=>yH),void 0),PortalUser:()=>Promise.resolve({default:st})};var ul;let te=(ul=class extends z.JSONSupportMixin(hi){constructor(t){super(t),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=Ye.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(t){return typeof t=="string"?{url:t}:t}destroy(){B5.unregister(this),this.defaultBasemap=_o(this.defaultBasemap),this.defaultDevBasemap=_o(this.defaultDevBasemap),this.defaultVectorBasemap=_o(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=bs(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(t){if(t)for(const r of t)Ye.request.trustedServers.includes(r)||Ye.request.trustedServers.push(r);return t}readDefaultBasemap(t){return this._readBasemap(t)}readDefaultDevBasemap(t){return this._readBasemap(t)}readDefaultVectorBasemap(t){return this._readBasemap(t)}get extraQuery(){const t=this.user?.orgId,r=!t||this.canSearchPublic;return this.id&&!r?` AND orgid:${this.id}`:null}get hasAPIKey(){return Sle(this.restUrl)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let t=this.url;if(t){const r=t.indexOf("/sharing");t=r>0?t.slice(0,r):this.url.replace(/\/+$/,""),t+="/sharing/rest"}return t}get thumbnailUrl(){const t=this.restUrl,r=this.thumbnail;return t&&r?this._normalizeSSL(t+"/portals/self/resources/"+r):null}readUrlKey(t){return t&&t.toLowerCase()}readUser(t){let r=null;return t&&(r=st.fromJSON(t),r.portal=this),r}load(t){const r=ue(()=>Promise.resolve().then(()=>zhe),void 0).then(({default:n})=>{kn(t),cm=n}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,t)).then(n=>{if(!this.hasAPIKey&&He){const i=He;this.credential=i.findCredential(this.restUrl),this.credential||this.authMode!==_i.AUTH_MODE_AUTO&&this.authMode!==_i.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=i.on("credential-create",Jde(new WeakRef(this))),B5.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=n,this.read(n)});return this.addResolvingPromise(r),Promise.resolve(this)}async createElevationLayers(){await this.load();const t=this._getHelperService("defaultElevationLayers"),r=(await ue(()=>import("./ElevationLayer-885376f6.js"),["assets/ElevationLayer-885376f6.js","assets/ArcGISCachedService-278fc9cd.js","assets/TileInfo-5e055ffe.js","assets/TileKey-e7ec6ed7.js","assets/TileInfoTilemapCache-2f899eec.js","assets/TilemapCache-d839aa9f.js","assets/ByteSizeUnit-d4757d40.js","assets/memoryEstimations-368c31a0.js"])).default;return t?t.map(n=>new r({id:n.id,url:n.url})):[]}async fetchBasemaps(t,r){const n=await this._fetchBasemaps(t,r);if(r?.include3d===!0&&this.use3dBasemaps!==!1){const i=await this._fetchBasemaps3D(t,r);n.unshift(...i)}return n}async fetchDefault3DBasemap(t){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const r=new Yt;r.query=this.default3DBasemapQuery,r.disableExtraQuery=!0;const n=(await this.queryItems(r,t)).results.find(i=>i.type==="Web Scene");return n?new cm({portalItem:n}):null}fetchCategorySchema(t){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",t).then(r=>r.categorySchema):El(t)?Promise.reject(hr()):Promise.resolve([])}async fetchClassificationSchema(t){return this.hasClassificationSchema?this.request(this.restUrl+"/portals/self/classification/classificationSchema",t).then(r=>r.classificationSchema):null}fetchFeaturedGroups(t){const r=this.featuredGroups,n=new Yt({num:100,sortField:"title"});if(r?.length){const i=[];for(const o of r)i.push(`(title:"${o.title}" AND owner:${o.owner})`);return n.query=i.join(" OR "),this.queryGroups(n,t).then(o=>o.results)}return El(t)?Promise.reject(hr()):Promise.resolve([])}fetchRegions(t){const r=this.user?.culture||this.culture||$o();return this.request(this.restUrl+"/portals/regions",{...t,query:{culture:r}})}fetchSettings(t){const r=this.user?.culture||this.culture||$o();return this.request(this.restUrl+"/portals/self/settings",{...t,query:{culture:r}})}static getDefault(){return Wde(()=>new _i)}queryGroups(t,r){return this.queryPortal("/community/groups",t,"PortalGroup",r)}queryItems(t,r){return this.queryPortal("/search",t,"PortalItem",r)}queryUsers(t,r){return t.sortField||(t.sortField="username"),this.queryPortal("/community/users",t,"PortalUser",r)}fetchSelf(t=this.authMode,r=!1,n){const i=this.restUrl+"/portals/self",o={authMode:t,query:{culture:$o().toLowerCase()},withCredentials:!0,...n};return o.authMode==="auto"&&(o.authMode="no-prompt"),r&&(o.query.default=!0),this.request(i,o)}queryPortal(t,r,n,i){const o=mr(Yt,r),s=a=>this.request(this.restUrl+t,{...o.toRequestOptions(this),...i}).then(l=>{const c=o.clone();return c.start=l.nextStart,new Cc({nextQueryParams:c,queryParams:o,total:l.total,results:_i._resultsToTypedArray(a,{portal:this},l,i)})}).then(l=>Promise.all(l.results.map(c=>typeof c.when=="function"?c.when():l)).then(()=>l,c=>(ea(c),l)));return n&&z5[n]?z5[n]().then(({default:a})=>(kn(i),s(a))):s()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new Z("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===_i.AUTH_MODE_ANONYMOUS||this.authMode===_i.AUTH_MODE_NO_PROMPT&&!He)return Promise.reject(new Z("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const t=r=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(r||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=r,this.fetchSelf("immediate"))):this.user&&this.credential===r?null:(this.credential=r,this.fetchSelf("immediate"))).then(n=>{n&&(this.sourceJSON=n,this.read(n))});return He?He.getCredential(this.restUrl,{prompt:this.authMode!==_i.AUTH_MODE_NO_PROMPT}).then(r=>t(r)):t(this.credential)}normalizeUrl(t){const r=this.credential?.token;return this._normalizeSSL(r?t+(t.includes("?")?"&":"?")+"token="+r:t)}requestToTypedArray(t,r,n){return this.request(t,r).then(i=>{const o=_i._resultsToTypedArray(n,{portal:this},i);return Promise.all(o.map(s=>typeof s.when=="function"?s.when():i)).then(()=>o,()=>o)})}request(t,r={}){const n={f:"json",...r.query},{authMode:i=this.authMode===_i.AUTH_MODE_ANONYMOUS||this.authMode===_i.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:o=null,cacheBust:s=!1,method:a="auto",responseType:l="json",signal:c}=r,p={authMode:i,body:o,cacheBust:s,method:a,query:n,responseType:l,timeout:0,signal:c};return r.withCredentials&&(p.withCredentials=!0),tt(this._normalizeSSL(t),p).then(h=>h.data)}toJSON(){throw new Z("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");return new _i({sourceJSON:t})}_getHelperService(t){const r=this.helperServices&&this.helperServices[t];if(!r)throw new Z("portal:service-not-found",`The \`helperServices\` do not include an entry named "${t}"`);return r}async _fetchBasemaps(t,r){const n=new Yt;n.query=t||(Oj()?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),n.disableExtraQuery=!0;const i=await this.queryGroups(n,r);if(!i.total)return[];const o=i.results[0];n.num=100,n.query='type:"Web Map" -type:"Web Application"',n.sortField=o.sortField||"name",n.sortOrder=o.sortOrder||"desc";const s=await o.queryItems(n,r);return s.total?s.results.filter(a=>a.type==="Web Map").map(a=>new cm({portalItem:a})):[]}async _fetchBasemaps3D(t,r){const n=t||this.basemapGalleryGroupQuery3D;if(!n)return[];if(Oj())return[];const i=new Yt({query:n,disableExtraQuery:!0}),o=await this.queryGroups(i,r);if(!o.total)return[];const s=o.results[0];i.num=100,i.query='type:"Web Scene"',i.sortField=s.sortField||"name",i.sortOrder=s.sortOrder||"desc";const a=await s.queryItems(i,r);return a.total?a.results.filter(l=>l.type==="Web Scene").map(l=>new cm({portalItem:l})):[]}_normalizeSSL(t){return t.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(t){if(t){const r=cm.fromJSON(t);return r.portalItem={portal:this},r}return null}static _resultsToTypedArray(t,r,n,i){let o;if(n){const s=i!=null?i.signal:null;o=n.listings||n.notifications||n.userInvitations||n.tags||n.items||n.groups||n.comments||n.provisions||n.results||n.relatedItems||n,(t||r)&&(o=o.map(a=>{const l=Object.assign(t?t.fromJSON(a):a,r);return typeof l.load=="function"&&l.load(s),l}))}else o=[];return o}},_i=ul,ul.AUTH_MODE_ANONYMOUS="anonymous",ul.AUTH_MODE_AUTO="auto",ul.AUTH_MODE_IMMEDIATE="immediate",ul.AUTH_MODE_NO_PROMPT="no-prompt",ul);u([d()],te.prototype,"access",void 0),u([d()],te.prototype,"allSSL",void 0),u([d()],te.prototype,"authMode",void 0),u([d()],te.prototype,"authorizedCrossOriginDomains",void 0),u([X("authorizedCrossOriginDomains")],te.prototype,"readAuthorizedCrossOriginDomains",null),u([d()],te.prototype,"basemapGalleryGroupQuery",void 0),u([d({json:{name:"3DBasemapGalleryGroupQuery"}})],te.prototype,"basemapGalleryGroupQuery3D",void 0),u([d()],te.prototype,"bingKey",void 0),u([d()],te.prototype,"canListApps",void 0),u([d()],te.prototype,"canListData",void 0),u([d()],te.prototype,"canListPreProvisionedItems",void 0),u([d()],te.prototype,"canProvisionDirectPurchase",void 0),u([d()],te.prototype,"canSearchPublic",void 0),u([d()],te.prototype,"canShareBingPublic",void 0),u([d()],te.prototype,"canSharePublic",void 0),u([d()],te.prototype,"canSignInArcGIS",void 0),u([d()],te.prototype,"canSignInIDP",void 0),u([d()],te.prototype,"colorSetsGroupQuery",void 0),u([d()],te.prototype,"commentsEnabled",void 0),u([d({type:Date})],te.prototype,"created",void 0),u([d()],te.prototype,"credential",void 0),u([d()],te.prototype,"culture",void 0),u([d()],te.prototype,"currentVersion",void 0),u([d()],te.prototype,"customBaseUrl",void 0),u([d()],te.prototype,"default3DBasemapQuery",void 0),u([d()],te.prototype,"defaultBasemap",void 0),u([X("defaultBasemap")],te.prototype,"readDefaultBasemap",null),u([d()],te.prototype,"defaultDevBasemap",void 0),u([X("defaultDevBasemap")],te.prototype,"readDefaultDevBasemap",null),u([d({type:Ue})],te.prototype,"defaultExtent",void 0),u([d()],te.prototype,"defaultVectorBasemap",void 0),u([X("defaultVectorBasemap")],te.prototype,"readDefaultVectorBasemap",null),u([d()],te.prototype,"description",void 0),u([d()],te.prototype,"devBasemapGalleryGroupQuery",void 0),u([d()],te.prototype,"eueiEnabled",void 0),u([d({readOnly:!0})],te.prototype,"extraQuery",null),u([d()],te.prototype,"featuredGroups",void 0),u([d()],te.prototype,"featuredItemsGroupQuery",void 0),u([d()],te.prototype,"galleryTemplatesGroupQuery",void 0),u([d()],te.prototype,"layoutGroupQuery",void 0),u([d()],te.prototype,"livingAtlasGroupQuery",void 0),u([d({readOnly:!0})],te.prototype,"hasAPIKey",null),u([d()],te.prototype,"hasCategorySchema",void 0),u([d()],te.prototype,"hasClassificationSchema",void 0),u([d()],te.prototype,"helpBase",void 0),u([d()],te.prototype,"helperServices",void 0),u([d()],te.prototype,"helpMap",void 0),u([d()],te.prototype,"homePageFeaturedContent",void 0),u([d()],te.prototype,"homePageFeaturedContentCount",void 0),u([d()],te.prototype,"httpPort",void 0),u([d()],te.prototype,"httpsPort",void 0),u([d()],te.prototype,"id",void 0),u([d()],te.prototype,"ipCntryCode",void 0),u([d({readOnly:!0})],te.prototype,"isOrganization",null),u([d()],te.prototype,"isPortal",void 0),u([d()],te.prototype,"isReadOnly",void 0),u([d({readOnly:!0})],te.prototype,"itemPageUrl",null),u([d()],te.prototype,"layerTemplatesGroupQuery",void 0),u([d()],te.prototype,"maxTokenExpirationMinutes",void 0),u([d({type:Date})],te.prototype,"modified",void 0),u([d()],te.prototype,"name",void 0),u([d()],te.prototype,"portalHostname",void 0),u([d()],te.prototype,"portalMode",void 0),u([d()],te.prototype,"portalProperties",void 0),u([d()],te.prototype,"region",void 0),u([d()],te.prototype,"recycleBinEnabled",void 0),u([d({readOnly:!0})],te.prototype,"restUrl",null),u([d()],te.prototype,"rotatorPanels",void 0),u([d()],te.prototype,"showHomePageDescription",void 0),u([d()],te.prototype,"sourceJSON",void 0),u([d()],te.prototype,"staticImagesUrl",void 0),u([d({json:{name:"2DStylesGroupQuery"}})],te.prototype,"stylesGroupQuery2d",void 0),u([d({json:{name:"stylesGroupQuery"}})],te.prototype,"stylesGroupQuery3d",void 0),u([d()],te.prototype,"supportsHostedServices",void 0),u([d()],te.prototype,"symbolSetsGroupQuery",void 0),u([d()],te.prototype,"templatesGroupQuery",void 0),u([d()],te.prototype,"thumbnail",void 0),u([d({readOnly:!0})],te.prototype,"thumbnailUrl",null),u([d()],te.prototype,"units",void 0),u([d()],te.prototype,"url",void 0),u([d()],te.prototype,"urlKey",void 0),u([X("urlKey")],te.prototype,"readUrlKey",null),u([d()],te.prototype,"user",void 0),u([X("user")],te.prototype,"readUser",null),u([d()],te.prototype,"use3dBasemaps",void 0),u([d()],te.prototype,"useDefault3dBasemap",void 0),u([d()],te.prototype,"useStandardizedQuery",void 0),u([d()],te.prototype,"useVectorBasemaps",void 0),u([d()],te.prototype,"vectorBasemapGalleryGroupQuery",void 0),te=_i=u([I("esri.portal.Portal")],te);const B5=new FinalizationRegistry(e=>{e.remove()});function Jde(e){const t=He;return()=>{const r=e.deref();r&&t.findCredential(r.restUrl)&&r.signIn().catch(()=>{})}}let ja=class extends dt{constructor(t){super(t),this.portalItem=null}normalizeCtorArgs(t){return t?.portalItem&&t.path?{...t,path:V5(t.path,t.portalItem)}:t}set path(t){t!=null&&bi(t)?ce.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",t)}_castPath(t){return V5(t,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(t="json",r){const n=this.cdnUrl;if(n==null)throw new Z("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(n,{responseType:t,query:{token:this.portalItem.apiKey,_ts:r?.cacheBust?Date.now():null},signal:r?.signal})}async update(t,r){const{addOrUpdateResources:n}=await ue(()=>import("./resourceUtils-15b5acad.js"),[]);return await n(this.portalItem,[{resource:this,content:t,compress:r?.compress,access:r?.access}],"update",r),this}hasPath(){return this.path!=null}};function V5(e,t){return e==null?e:(e=e.replace(/^\/+/,""),t!=null&&bi(e)&&(e=bC(e,t.itemUrl)),e?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}u([d()],ja.prototype,"portalItem",void 0),u([d({type:String,value:null})],ja.prototype,"path",null),u([pt("path")],ja.prototype,"_castPath",null),u([d({type:String,readOnly:!0})],ja.prototype,"url",null),u([d({type:String,readOnly:!0})],ja.prototype,"cdnUrl",null),u([d({type:String,readOnly:!0})],ja.prototype,"itemRelativeUrl",null),ja=u([I("esri.portal.PortalItemResource")],ja);let xd=class extends dt{constructor(t){super(t),this.created=null,this.rating=null}};u([d({type:Date})],xd.prototype,"created",void 0),u([d()],xd.prototype,"rating",void 0),xd=u([I("esri.portal.PortalRating")],xd);var kc;const Zde=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Knowledge Graph Layer","Map Service","Media Layer","Scene Service","Stream Service","Video Service","Vector Tile Service","WCS","WFS","WMS","WMTS"]),Kde=new Set(["KML","GeoJson","CSV"]);let $e=kc=class extends z.JSONSupportMixin(hi){static from(e){return L_(kc,e)}constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.classification=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let r=e;return e==="Feature Service"||e==="Feature Collection"?r=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":e==="Image Service"?r=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":e==="Scene Service"?r="Scene Layer":e==="Video Service"?r="Video Layer":e==="Scene Package"?r="Scene Layer Package":e==="Stream Service"?r="Feature Layer":e==="Geoprocessing Service"?r=t.includes("Web Tool")?"Tool":"Geoprocessing Service":e==="Geoenrichment Service"?r="GeoEnrichment Service":e==="Geocoding Service"?r="Locator":e==="Microsoft Powerpoint"?r="Microsoft PowerPoint":e==="GeoJson"?r="GeoJSON":e==="Globe Service"?r="Globe Layer":e==="Vector Tile Service"?r="Tile Layer":e==="netCDF"?r="NetCDF":e==="Map Service"?r=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e?.toLowerCase().includes("add in")?r=e.replaceAll(/(add in)/gi,"Add-In"):e==="datastore catalog service"?r="Big Data File Share":e==="Compact Tile Package"?r="Tile Package (tpkx)":e==="Raster function template"?r="Raster Function Template":e==="OGCFeatureServer"?r="OGC Feature Layer":e==="web mapping application"&&t.includes("configurableApp")?r="Instant App":e==="Insights Page"?r="Insights Report":e==="Excalibur Imagery Project"?r="Excalibur Project":e==="3DTiles Service"?r="3D tiles layer":e==="3DTiles Package"&&(r="3D tiles package"),r}readExtent(e){return e&&e.length?new Ue(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type?.toLowerCase()||"",t=this.typeKeywords||[],r="esri/images/portal/",n="16";let i,o=!1,s=!1,a=!1,l=!1,c=!1,p=!1,h=!1,y=!1;return e.indexOf("service")>0||e==="feature collection"||e==="kml"||e==="wms"||e==="wmts"||e==="wfs"?(o=t.includes("Hosted Service"),e==="feature service"||e==="feature collection"||e==="kml"||e==="wfs"?(s=t.includes("Table"),a=t.includes("Route Layer"),l=t.includes("Markup"),c=t.includes("Spatiotemporal"),p=t.includes("UtilityNetwork"),i=c&&s?"spatiotemporaltable":s?"table":a?"routelayer":l?"markup":c?"spatiotemporal":p?"utilitynetwork":o?"featureshosted":"features"):e==="map service"||e==="wms"||e==="wmts"?(c=t.includes("Spatiotemporal"),h=t.includes("Relational"),i=c||h?"mapimages":o||t.includes("Tiled")||e==="wmts"?"maptiles":"mapimages"):i=e==="scene service"?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":e==="image service"?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":e==="stream service"?"streamlayer":e==="vector tile service"?"vectortile":e==="datastore catalog service"?"datastorecollection":e==="geocoding service"?"geocodeservice":e==="video service"?t.includes("Live Stream")?"livestreamvideolayer":"videolayer":e==="geoprocessing service"?t.includes("Web Tool")?"tool":"layers":e==="geodata service"?"geodataservice":e==="3dtiles service"?t.includes("3DObject")?"3dobjecttileslayer":t.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):e==="web map"||e==="cityengine web scene"?i="maps":e==="web scene"?i=t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":e==="web mapping application"&&t.includes("configurableApp")?i="instantapps":e==="web mapping application"||e==="mobile application"||e==="application"||e==="operation view"||e==="desktop application"?i="apps":e==="map document"||e==="map package"||e==="published map"||e==="scene document"||e==="globe document"||e==="basemap package"||e==="mobile basemap package"||e==="mobile map package"||e==="project package"||e==="project template"||e==="pro map"||e==="layout"||e==="layer"&&t.includes("ArcGIS Pro")||e==="explorer map"&&t.indexOf("Explorer Document")?i="mapsgray":e==="service definition"||e==="shapefile"||e==="cad drawing"||e==="geojson"||e==="netcdf"||e==="administrative report"?i="datafiles":e==="360 vr experience"?i="360vr":e==="explorer add in"||e==="desktop add in"||e==="windows viewer add in"||e==="windows viewer configuration"?i="appsgray":e==="arcgis pro add in"||e==="arcgis pro configuration"?i="addindesktop":e==="pdf"?i="pdf":e==="microsoft word"?i="word":e==="microsoft excel"?i="excel":e==="microsoft powerpoint"?i="ppt":e==="rule package"||e==="file geodatabase"||e==="sqlite geodatabase"||e==="csv collection"||e==="kml collection"||e==="windows mobile package"||e==="map template"||e==="desktop application template"||e==="gml"||e==="arcpad package"||e==="code sample"||e==="document link"||e==="earth configuration"||e==="operations dashboard add in"||e==="rules package"||e==="workflow manager package"||e==="explorer map"&&t.includes("Explorer Mapping Application")||t.includes("Document")?i="datafilesgray":e==="network analysis service"||e==="geoprocessing service"||e==="geodata service"||e==="geometry service"||e==="geoprocessing package"||e==="locator package"||e==="geoprocessing sample"||e==="workflow manager service"?i="toolsgray":e==="layer"||e==="layer package"||e==="explorer layer"?i="layersgray":e==="analysis model"?i="analysismodel":e==="scene package"?i="scenepackage":e==="3dtiles package"?i="3dtileslayerpackage":e==="3dtiles service"?i="3dtileslayer":e==="mobile scene package"?i="mobilescenepackage":e==="tile package"||e==="compact tile package"?i="tilepackage":e==="task file"?i="taskfile":e==="report template"?i="report-template":e==="statistical data collection"?i="statisticaldatacollection":e==="insights workbook"?i="workbook":e==="insights model"?i="insightsmodel":e==="insights page"?i="insightspage":e==="insights theme"?i="insightstheme":e==="hub initiative"?i="hubinitiative":e==="hub page"?i="hubpage":e==="hub site application"?i="hubsite":e==="hub event"?i="hubevent":e==="hub project"?i="hubproject":e==="relational database connection"?i="relationaldatabaseconnection":e==="big data file share"?i="datastorecollection":e==="image collection"?i="imagecollection":e==="desktop style"?i="desktopstyle":e==="style"?i=t.includes("Dictionary")?"dictionarystyle":"style":e==="dashboard"?i="dashboard":e==="raster function template"?i="rasterprocessingtemplate":e==="vector tile package"?i="vectortilepackage":e==="ortho mapping project"?i="orthomappingproject":e==="ortho mapping template"?i="orthomappingtemplate":e==="solution"?i="solutions":e==="geopackage"?i="geopackage":e==="deep learning package"?i="deeplearningpackage":e==="real time analytic"?i="realtimeanalytics":e==="reality mapping project"?i="realitymappingproject":e==="big data analytic"?i="bigdataanalytics":e==="feed"?i="feed":e==="excalibur imagery project"?i="excaliburimageryproject":e==="notebook"?i="notebook":e==="storymap"?i="storymap":e==="survey123 add in"?i="survey123addin":e==="mission"?i="mission":e==="mission report"?i="missionreport":e==="mission template"?i="missiontemplate":e==="quickcapture project"?i="quickcaptureproject":e==="pro report"?i="proreport":e==="pro report template"?i="proreporttemplate":e==="urban model"?i="urbanmodel":e==="urban project"?i="urbanproject":e==="web experience"?i="experiencebuilder":e==="web experience template"?i="webexperiencetemplate":e==="experience builder widget"?i="experiencebuilderwidget":e==="experience builder widget package"?i="experiencebuilderwidgetpackage":e==="workflow"?i="workflow":e==="kernel gateway connection"?i="kernelgatewayconnection":e==="insights script"?i="insightsscript":e==="hub initiative template"?i="hubinitiativetemplate":e==="storymap theme"?i="storymaptheme":e==="knowledge graph"?i="knowledgegraph":e==="knowledge graph layer"?i="knowledgegraphlayer":e==="knowledge studio project"?i="knowledgestudio":e==="native application"?i="nativeapp":e==="native application installer"?i="nativeappinstaller":e==="web link chart"?i="linkchart":e==="knowledge graph web investigation"?i="investigation":e==="ogcfeatureserver"?i="features":e==="pro presentation"?i="propresentation":e==="pro project"?i="proproject":e==="insights workbook package"?i="insightsworkbookpackage":e==="apache parquet"?i="apacheparquet":e==="notebook code snippet library"?i="notebookcodesnippets":e==="suitability model"?i="suitabilitymodel":e==="esri classifier definition"?i="classifierdefinition":e==="esri classification schema"?i="classificationschema":e==="insights data engineering workbook"?i="dataengineeringworkbook":e==="insights data engineering model"?i="dataengineeringmodel":e==="deep learning studio project"?i="deeplearningproject":e==="discussion"?i="discussion":e==="allsource project"?i="allsourceproject":e==="api key"?i="apikey":e==="data pipeline"?i="datapipelines":e==="group layer"?(y=t.includes("Map"),i=y?"layergroup2d":"layergroup"):i=e==="media layer"?"onlinemedialayer":e==="form"?t.includes("Survey123")?"survey":"datafilesgray":e==="csv"?"csv":e==="image"?"image":"maps",i?cr(r+i+n+".png"):null}get isLayer(){return this.type!=null&&Zde.has(this.type)}get itemCdnUrl(){return EC(this.itemUrl)}get itemPageUrl(){const e=this.portal?.itemPageUrl;return e&&this.id?`${e}?id=${this.id}`:null}get itemUrl(){const e=this.portal?.restUrl;return e&&this.id?`${e}/content/items/${this.id}`:null}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`)??null:null}get userItemUrl(){const e=this.portal?.restUrl;if(!e)return null;const t=this.owner||this.portal?.user?.id;return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){const t=this.portal??(this.portal=te.getDefault()),r=t.load(e).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?t.request(this.itemUrl,{signal:e!=null?e.signal:null,query:{token:this.apiKey}}):{}).then(n=>{this.sourceJSON=n,this.read(n)});return this.addResolvingPromise(r),Promise.resolve(this)}async addRating(e){const t={method:"post",query:{}},r=e instanceof xd?e.rating:e;return r==null||isNaN(r)||typeof e!="number"||(t.query.rating=r),this.portal?(await this.portal.request(this.itemUrl+"/addRating",t),new xd({rating:r,created:new Date})):null}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:D(this.applicationProxies),avgRating:this.avgRating,categories:D(this.categories),classification:D(this.classification),created:D(this.created),culture:this.culture,description:this.description,extent:D(this.extent),groupCategories:D(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:D(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:D(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:D(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:D(this.typeKeywords),url:this.url};this.loaded&&(e.loadStatus="loaded");const t=new kc({sourceJSON:this.sourceJSON}).set(e);return t._set("isOrgItem",this.isOrgItem),t}createPostQuery(){const e=this.toJSON();for(const t of["tags","typeKeywords","categories"])e[t]=e[t]?.join(", ");for(const t of["extent","classification"]){const r=e[t];r&&(e[t]=JSON.stringify(r))}return e}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(e="json",t){return this.portal.request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}async fetchRating(e){const t=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e});return t.rating!=null?(t.created=new Date(t.created),new xd(t)):null}fetchRelatedItems(e,t){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},kc)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(e=>(this.applicationProxies&&!Object.hasOwn(e,"appProxies")&&(this.applicationProxies=null),this.sourceJSON=e,this.read(e),this))}update(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e?.data,r={method:"post"};r.query=this.createPostQuery();for(const n in r.query)r.query[n]===null&&(r.query[n]="");return r.query.clearEmptyFields=!0,t!=null&&(typeof t=="string"?r.query.text=t:typeof t=="object"&&(r.query.text=JSON.stringify(t))),this.portal.request(`${this.userItemUrl}/update`,r).then(()=>this.reload())}):Promise.reject(new Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(e){if(!this.id)throw new Z("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:t,itemUrl:r}=this;await t.signIn();const{copyResources:n,folder:i,tags:o,title:s}=e||{},a={method:"post",query:{copyPrivateResources:n==="all",folder:typeof i=="string"?i:i?.id,includeResources:!!n,tags:o?.join(","),title:s}},{itemId:l}=await t.request(`${r}/copy`,a);return new kc({id:l,portal:t})}updateThumbnail(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e.thumbnail,r=e.filename,n={method:"post"};if(typeof t=="string")Cl(t)?n.query={data:t}:n.query={url:yo(t)},r!=null&&(n.query.filename=r);else{const i=new FormData;r!=null?i.append("file",t,r):i.append("file",t),n.body=i}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,n).then(()=>this.reload())}):Promise.reject(new Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){const{fetchResources:r}=await ue(()=>import("./resourceUtils-15b5acad.js"),[]);return r(this,e,t)}async addResource(e,t,r){const{addOrUpdateResources:n}=await ue(()=>import("./resourceUtils-15b5acad.js"),[]);return e.portalItem=this,await n(this,[{resource:e,content:t,compress:r?.compress,access:r?.access}],"add",r),e}async removeResource(e,t){const{removeResource:r}=await ue(()=>import("./resourceUtils-15b5acad.js"),[]);if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new Z("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return r(this,e,t)}async removeAllResources(e){const{removeAllResources:t}=await ue(()=>import("./resourceUtils-15b5acad.js"),[]);return t(this,e)}resourceFromPath(e){return new ja({portalItem:this,path:e})}toJSON(){const e=this.extent,t={accessInformation:this.accessInformation,categories:D(this.categories),classification:D(this.classification),created:this.created?.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:D(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:D(this.typeKeywords),url:this.url};return aG(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new kc({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};u([d({type:["private","shared","org","public"]})],$e.prototype,"access",void 0),u([d()],$e.prototype,"accessInformation",void 0),u([d({type:String})],$e.prototype,"apiKey",void 0),u([d({json:{read:{source:"appProxies"}}})],$e.prototype,"applicationProxies",void 0),u([d()],$e.prototype,"avgRating",void 0),u([d()],$e.prototype,"categories",void 0),u([d()],$e.prototype,"classification",void 0),u([d({type:Date})],$e.prototype,"created",void 0),u([d()],$e.prototype,"culture",void 0),u([d()],$e.prototype,"description",void 0),u([d({readOnly:!0})],$e.prototype,"displayName",null),u([d({type:Ue})],$e.prototype,"extent",void 0),u([X("extent")],$e.prototype,"readExtent",null),u([d()],$e.prototype,"groupCategories",void 0),u([d({readOnly:!0})],$e.prototype,"iconUrl",null),u([d()],$e.prototype,"id",void 0),u([d({readOnly:!0})],$e.prototype,"isLayer",null),u([d({type:Boolean,readOnly:!0})],$e.prototype,"isOrgItem",void 0),u([d()],$e.prototype,"itemControl",void 0),u([d({readOnly:!0})],$e.prototype,"itemPageUrl",null),u([d({readOnly:!0})],$e.prototype,"itemUrl",null),u([d()],$e.prototype,"licenseInfo",void 0),u([d({type:Date})],$e.prototype,"modified",void 0),u([d()],$e.prototype,"name",void 0),u([d()],$e.prototype,"numComments",void 0),u([d()],$e.prototype,"numRatings",void 0),u([d()],$e.prototype,"numViews",void 0),u([d()],$e.prototype,"owner",void 0),u([d()],$e.prototype,"ownerFolder",void 0),u([d({type:te})],$e.prototype,"portal",void 0),u([d()],$e.prototype,"screenshots",void 0),u([d()],$e.prototype,"size",void 0),u([d()],$e.prototype,"snippet",void 0),u([d()],$e.prototype,"sourceJSON",void 0),u([d({type:String})],$e.prototype,"sourceUrl",void 0),u([d({type:String})],$e.prototype,"spatialReference",void 0),u([d()],$e.prototype,"tags",void 0),u([d()],$e.prototype,"thumbnail",void 0),u([d({readOnly:!0})],$e.prototype,"thumbnailUrl",null),u([d()],$e.prototype,"title",void 0),u([d()],$e.prototype,"type",void 0),u([d()],$e.prototype,"typeKeywords",void 0),u([d({type:String,json:{read(e,t){if(Kde.has(t.type)){const r=this.portal?.restUrl;e||(e=r&&this.id?`${r}/content/items/${this.id}/data`:null)}return e}}})],$e.prototype,"url",void 0),u([d({readOnly:!0})],$e.prototype,"userItemUrl",null),$e=kc=u([I("esri.portal.PortalItem")],$e);const yH=Object.freeze(Object.defineProperty({__proto__:null,get default(){return $e}},Symbol.toStringTag,{value:"Module"})),mH={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:"no",nl:!0,no:!0,nn:"no",pl:!0,pt:"pt-BR","pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,zh:"zh-CN","zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function Yde(e){return e in mH}function q5(e){if(Yde(e)){const t=mH[e];return t===!0?e:t}return null}const Fm=[],ih=new Map;function G5(e){for(const t of ih.keys())vH(e.pattern,t)&&ih.delete(t)}function Qde(e){return Fm.includes(e)||(G5(e),Fm.unshift(e)),yr(()=>{const t=Fm.indexOf(e);t>-1&&(Fm.splice(t,1),G5(e))})}async function Xde(e){const t=$o();ih.has(e)||ih.set(e,epe(e,t));const r=ih.get(e);return r&&await tpe.add(r),r}function gH(e){const t=ZC(e);return t?q5(e)??q5(t.language):null}async function epe(e,t){const r=[];for(const n of Fm)if(vH(n.pattern,e))try{return await n.fetchMessageBundle(e,t)}catch(i){r.push(i)}throw r.length?new Z("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:r}):new Z("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function vH(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}KC(()=>{ih.clear()});const tpe=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=tc())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function rpe(e){if(!e)return;const t=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):e.includes("-3d")?e.slice(0,e.indexOf("-3d")):e,r=await Xde("esri/t9n/basemaps");return r[e]||r[t]}const oI={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return cr("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return cr("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return cr("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return cr("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return cr("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return cr("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return cr("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return cr("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return cr("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return cr("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return cr("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return cr("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return cr("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return cr("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return cr("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return cr("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return cr("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]}},Es="system",oc="unknown",sc="UTC",npe=Intl.DateTimeFormat().resolvedOptions().timeZone,W5=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);class gp extends Error{}class ipe extends gp{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class ope extends gp{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class spe extends gp{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Lf extends gp{}class bH extends gp{constructor(t){super(`Invalid unit ${t}`)}}class On extends gp{}class Hl extends gp{constructor(){super("Zone is an abstract class")}}const pe="numeric",js="short",Vi="long",LS={year:pe,month:pe,day:pe},wH={year:pe,month:js,day:pe},ape={year:pe,month:js,day:pe,weekday:js},xH={year:pe,month:Vi,day:pe},SH={year:pe,month:Vi,day:pe,weekday:Vi},_H={hour:pe,minute:pe},$H={hour:pe,minute:pe,second:pe},TH={hour:pe,minute:pe,second:pe,timeZoneName:js},OH={hour:pe,minute:pe,second:pe,timeZoneName:Vi},EH={hour:pe,minute:pe,hourCycle:"h23"},jH={hour:pe,minute:pe,second:pe,hourCycle:"h23"},IH={hour:pe,minute:pe,second:pe,hourCycle:"h23",timeZoneName:js},AH={hour:pe,minute:pe,second:pe,hourCycle:"h23",timeZoneName:Vi},PH={year:pe,month:pe,day:pe,hour:pe,minute:pe},NH={year:pe,month:pe,day:pe,hour:pe,minute:pe,second:pe},MH={year:pe,month:js,day:pe,hour:pe,minute:pe},CH={year:pe,month:js,day:pe,hour:pe,minute:pe,second:pe},lpe={year:pe,month:js,day:pe,weekday:js,hour:pe,minute:pe},kH={year:pe,month:Vi,day:pe,hour:pe,minute:pe,timeZoneName:js},RH={year:pe,month:Vi,day:pe,hour:pe,minute:pe,second:pe,timeZoneName:js},LH={year:pe,month:Vi,day:pe,weekday:Vi,hour:pe,minute:pe,timeZoneName:Vi},DH={year:pe,month:Vi,day:pe,weekday:Vi,hour:pe,minute:pe,second:pe,timeZoneName:Vi};class vp{get type(){throw new Hl}get name(){throw new Hl}get ianaName(){return this.name}get isUniversal(){throw new Hl}offsetName(t,r){throw new Hl}formatOffset(t,r){throw new Hl}offset(t){throw new Hl}equals(t){throw new Hl}get isValid(){throw new Hl}}let nO=null;class q_ extends vp{static get instance(){return nO===null&&(nO=new q_),nO}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:r,locale:n}){return ZH(t,r,n)}formatOffset(t,r){return z0(this.offset(t),r)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}const sI=new Map;function upe(e){let t=sI.get(e);return t===void 0&&(t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),sI.set(e,t)),t}const cpe={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function dpe(e,t){const r=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,i,o,s,a,l,c,p]=n;return[s,i,o,a,l,c,p]}function ppe(e,t){const r=e.formatToParts(t),n=[];for(let i=0;i<r.length;i++){const{type:o,value:s}=r[i],a=cpe[o];o==="era"?n[a]=s:Me(a)||(n[a]=parseInt(s,10))}return n}const iO=new Map;class xi extends vp{static create(t){let r=iO.get(t);return r===void 0&&iO.set(t,r=new xi(t)),r}static resetCache(){iO.clear(),sI.clear()}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=xi.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:r,locale:n}){return ZH(t,r,n,this.name)}formatOffset(t,r){return z0(this.offset(t),r)}offset(t){if(!this.valid)return NaN;const r=new Date(t);if(isNaN(r))return NaN;const n=upe(this.name);let[i,o,s,a,l,c,p]=n.formatToParts?ppe(n,r):dpe(n,r);a==="BC"&&(i=-Math.abs(i)+1);const y=W_({year:i,month:o,day:s,hour:l===24?0:l,minute:c,second:p,millisecond:0});let m=+r;const g=m%1e3;return m-=g>=0?g:1e3+g,(y-m)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let H5={};function fpe(e,t={}){const r=JSON.stringify([e,t]);let n=H5[r];return n||(n=new Intl.ListFormat(e,t),H5[r]=n),n}const aI=new Map;function lI(e,t={}){const r=JSON.stringify([e,t]);let n=aI.get(r);return n===void 0&&(n=new Intl.DateTimeFormat(e,t),aI.set(r,n)),n}const uI=new Map;function hpe(e,t={}){const r=JSON.stringify([e,t]);let n=uI.get(r);return n===void 0&&(n=new Intl.NumberFormat(e,t),uI.set(r,n)),n}const cI=new Map;function ype(e,t={}){const{base:r,...n}=t,i=JSON.stringify([e,n]);let o=cI.get(i);return o===void 0&&(o=new Intl.RelativeTimeFormat(e,t),cI.set(i,o)),o}let Um=null;function mpe(){return Um||(Um=new Intl.DateTimeFormat().resolvedOptions().locale,Um)}const dI=new Map;function FH(e){let t=dI.get(e);return t===void 0&&(t=new Intl.DateTimeFormat(e).resolvedOptions(),dI.set(e,t)),t}const pI=new Map;function gpe(e){let t=pI.get(e);if(!t){const r=new Intl.Locale(e);t="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,"minimalDays"in t||(t={...UH,...t}),pI.set(e,t)}return t}function vpe(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const r=e.indexOf("-u-");if(r===-1)return[e];{let n,i;try{n=lI(e).resolvedOptions(),i=e}catch{const l=e.substring(0,r);n=lI(l).resolvedOptions(),i=l}const{numberingSystem:o,calendar:s}=n;return[i,o,s]}}function bpe(e,t,r){return(r||t)&&(e.includes("-u-")||(e+="-u"),r&&(e+=`-ca-${r}`),t&&(e+=`-nu-${t}`)),e}function wpe(e){const t=[];for(let r=1;r<=12;r++){const n=he.utc(2009,r,1);t.push(e(n))}return t}function xpe(e){const t=[];for(let r=1;r<=7;r++){const n=he.utc(2016,11,13+r);t.push(e(n))}return t}function yb(e,t,r,n){const i=e.listingMode();return i==="error"?null:i==="en"?r(t):n(t)}function Spe(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||FH(e.locale).numberingSystem==="latn"}class _pe{constructor(t,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:i,floor:o,...s}=n;if(!r||Object.keys(s).length>0){const a={useGrouping:!1,...n};n.padTo>0&&(a.minimumIntegerDigits=n.padTo),this.inf=hpe(t,a)}}format(t){if(this.inf){const r=this.floor?Math.floor(t):t;return this.inf.format(r)}else{const r=this.floor?Math.floor(t):tk(t,3);return xr(r,this.padTo)}}}class $pe{constructor(t,r,n){this.opts=n,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const s=-1*(t.offset/60),a=s>=0?`Etc/GMT+${s}`:`Etc/GMT${s}`;t.offset!==0&&xi.create(a).valid?(i=a,this.dt=t):(i="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,i=t.zone.name):(i="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const o={...this.opts};o.timeZone=o.timeZone||i,this.dtf=lI(r,o)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(r=>{if(r.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:n}}else return r}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class Tpe{constructor(t,r,n){this.opts={style:"long",...n},!r&&HH()&&(this.rtf=ype(t,n))}format(t,r){return this.rtf?this.rtf.format(t,r):Hpe(r,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,r){return this.rtf?this.rtf.formatToParts(t,r):[]}}const UH={firstDay:1,minimalDays:4,weekend:[6,7]};class ut{static fromOpts(t){return ut.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,r,n,i,o=!1){const s=t||Qt.defaultLocale,a=s||(o?"en-US":mpe()),l=r||Qt.defaultNumberingSystem,c=n||Qt.defaultOutputCalendar,p=hI(i)||Qt.defaultWeekSettings;return new ut(a,l,c,p,s)}static resetCache(){Um=null,aI.clear(),uI.clear(),cI.clear(),dI.clear(),pI.clear()}static fromObject({locale:t,numberingSystem:r,outputCalendar:n,weekSettings:i}={}){return ut.create(t,r,n,i)}constructor(t,r,n,i,o){const[s,a,l]=vpe(t);this.locale=s,this.numberingSystem=r||a||null,this.outputCalendar=n||l||null,this.weekSettings=i,this.intl=bpe(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Spe(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&r?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:ut.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,hI(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,r=!1){return yb(this,t,QH,()=>{const n=r?{month:t,day:"numeric"}:{month:t},i=r?"format":"standalone";return this.monthsCache[i][t]||(this.monthsCache[i][t]=wpe(o=>this.extract(o,n,"month"))),this.monthsCache[i][t]})}weekdays(t,r=!1){return yb(this,t,tJ,()=>{const n=r?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},i=r?"format":"standalone";return this.weekdaysCache[i][t]||(this.weekdaysCache[i][t]=xpe(o=>this.extract(o,n,"weekday"))),this.weekdaysCache[i][t]})}meridiems(){return yb(this,void 0,()=>rJ,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[he.utc(2016,11,13,9),he.utc(2016,11,13,19)].map(r=>this.extract(r,t,"dayperiod"))}return this.meridiemCache})}eras(t){return yb(this,t,nJ,()=>{const r={era:t};return this.eraCache[t]||(this.eraCache[t]=[he.utc(-40,1,1),he.utc(2017,1,1)].map(n=>this.extract(n,r,"era"))),this.eraCache[t]})}extract(t,r,n){const i=this.dtFormatter(t,r),o=i.formatToParts(),s=o.find(a=>a.type.toLowerCase()===n);return s?s.value:null}numberFormatter(t={}){return new _pe(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,r={}){return new $pe(t,this.intl,r)}relFormatter(t={}){return new Tpe(this.intl,this.isEnglish(),t)}listFormatter(t={}){return fpe(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||FH(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:JH()?gpe(this.locale):UH}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let oO=null;class _r extends vp{static get utcInstance(){return oO===null&&(oO=new _r(0)),oO}static instance(t){return t===0?_r.utcInstance:new _r(t)}static parseSpecifier(t){if(t){const r=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new _r(H_(r[1],r[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${z0(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${z0(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,r){return z0(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class Ope extends vp{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Su(e,t){if(Me(e)||e===null)return t;if(e instanceof vp)return e;if(Npe(e)){const r=e.toLowerCase();return r==="default"?t:r==="local"||r==="system"?q_.instance:r==="utc"||r==="gmt"?_r.utcInstance:_r.parseSpecifier(r)||xi.create(e)}else return Zu(e)?_r.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new Ope(e)}const YC={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},J5={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Epe=YC.hanidec.replace(/[\[|\]]/g,"").split("");function jpe(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);if(e[r].search(YC.hanidec)!==-1)t+=Epe.indexOf(e[r]);else for(const i in J5){const[o,s]=J5[i];n>=o&&n<=s&&(t+=n-o)}}return parseInt(t,10)}else return t}const fI=new Map;function Ipe(){fI.clear()}function Lo({numberingSystem:e},t=""){const r=e||"latn";let n=fI.get(r);n===void 0&&(n=new Map,fI.set(r,n));let i=n.get(t);return i===void 0&&(i=new RegExp(`${YC[r]}${t}`),n.set(t,i)),i}let Z5=()=>Date.now(),K5="system",Y5=null,Q5=null,X5=null,eD=60,tD,rD=null;class Qt{static get now(){return Z5}static set now(t){Z5=t}static set defaultZone(t){K5=t}static get defaultZone(){return Su(K5,q_.instance)}static get defaultLocale(){return Y5}static set defaultLocale(t){Y5=t}static get defaultNumberingSystem(){return Q5}static set defaultNumberingSystem(t){Q5=t}static get defaultOutputCalendar(){return X5}static set defaultOutputCalendar(t){X5=t}static get defaultWeekSettings(){return rD}static set defaultWeekSettings(t){rD=hI(t)}static get twoDigitCutoffYear(){return eD}static set twoDigitCutoffYear(t){eD=t%100}static get throwOnInvalid(){return tD}static set throwOnInvalid(t){tD=t}static resetCaches(){ut.resetCache(),xi.resetCache(),he.resetCache(),Ipe()}}class ps{constructor(t,r){this.reason=t,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const zH=[0,31,59,90,120,151,181,212,243,273,304,334],BH=[0,31,60,91,121,152,182,213,244,274,305,335];function vo(e,t){return new ps("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function QC(e,t,r){const n=new Date(Date.UTC(e,t-1,r));e<100&&e>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const i=n.getUTCDay();return i===0?7:i}function VH(e,t,r){return r+(S1(e)?BH:zH)[t-1]}function qH(e,t){const r=S1(e)?BH:zH,n=r.findIndex(o=>o<t),i=t-r[n];return{month:n+1,day:i}}function XC(e,t){return(e-t+7)%7+1}function DS(e,t=4,r=1){const{year:n,month:i,day:o}=e,s=VH(n,i,o),a=XC(QC(n,i,o),r);let l=Math.floor((s-a+14-t)/7),c;return l<1?(c=n-1,l=Bg(c,t,r)):l>Bg(n,t,r)?(c=n+1,l=1):c=n,{weekYear:c,weekNumber:l,weekday:a,...J_(e)}}function nD(e,t=4,r=1){const{weekYear:n,weekNumber:i,weekday:o}=e,s=XC(QC(n,1,t),r),a=oh(n);let l=i*7+o-s-7+t,c;l<1?(c=n-1,l+=oh(c)):l>a?(c=n+1,l-=oh(n)):c=n;const{month:p,day:h}=qH(c,l);return{year:c,month:p,day:h,...J_(e)}}function sO(e){const{year:t,month:r,day:n}=e,i=VH(t,r,n);return{year:t,ordinal:i,...J_(e)}}function iD(e){const{year:t,ordinal:r}=e,{month:n,day:i}=qH(t,r);return{year:t,month:n,day:i,...J_(e)}}function oD(e,t){if(!Me(e.localWeekday)||!Me(e.localWeekNumber)||!Me(e.localWeekYear)){if(!Me(e.weekday)||!Me(e.weekNumber)||!Me(e.weekYear))throw new Lf("Cannot mix locale-based week fields with ISO-based week fields");return Me(e.localWeekday)||(e.weekday=e.localWeekday),Me(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),Me(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function Ape(e,t=4,r=1){const n=G_(e.weekYear),i=bo(e.weekNumber,1,Bg(e.weekYear,t,r)),o=bo(e.weekday,1,7);return n?i?o?!1:vo("weekday",e.weekday):vo("week",e.weekNumber):vo("weekYear",e.weekYear)}function Ppe(e){const t=G_(e.year),r=bo(e.ordinal,1,oh(e.year));return t?r?!1:vo("ordinal",e.ordinal):vo("year",e.year)}function GH(e){const t=G_(e.year),r=bo(e.month,1,12),n=bo(e.day,1,FS(e.year,e.month));return t?r?n?!1:vo("day",e.day):vo("month",e.month):vo("year",e.year)}function WH(e){const{hour:t,minute:r,second:n,millisecond:i}=e,o=bo(t,0,23)||t===24&&r===0&&n===0&&i===0,s=bo(r,0,59),a=bo(n,0,59),l=bo(i,0,999);return o?s?a?l?!1:vo("millisecond",i):vo("second",n):vo("minute",r):vo("hour",t)}function Me(e){return typeof e>"u"}function Zu(e){return typeof e=="number"}function G_(e){return typeof e=="number"&&e%1===0}function Npe(e){return typeof e=="string"}function Mpe(e){return Object.prototype.toString.call(e)==="[object Date]"}function HH(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function JH(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Cpe(e){return Array.isArray(e)?e:[e]}function sD(e,t,r){if(e.length!==0)return e.reduce((n,i)=>{const o=[t(i),i];return n&&r(n[0],o[0])===n[0]?n:o},null)[1]}function kpe(e,t){return t.reduce((r,n)=>(r[n]=e[n],r),{})}function Rh(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function hI(e){if(e==null)return null;if(typeof e!="object")throw new On("Week settings must be an object");if(!bo(e.firstDay,1,7)||!bo(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(t=>!bo(t,1,7)))throw new On("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function bo(e,t,r){return G_(e)&&e>=t&&e<=r}function Rpe(e,t){return e-t*Math.floor(e/t)}function xr(e,t=2){const r=e<0;let n;return r?n="-"+(""+-e).padStart(t,"0"):n=(""+e).padStart(t,"0"),n}function du(e){if(!(Me(e)||e===null||e===""))return parseInt(e,10)}function Tc(e){if(!(Me(e)||e===null||e===""))return parseFloat(e)}function ek(e){if(!(Me(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function tk(e,t,r=!1){const n=10**t;return(r?Math.trunc:Math.round)(e*n)/n}function S1(e){return e%4===0&&(e%100!==0||e%400===0)}function oh(e){return S1(e)?366:365}function FS(e,t){const r=Rpe(t-1,12)+1,n=e+(t-r)/12;return r===2?S1(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function W_(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function aD(e,t,r){return-XC(QC(e,1,t),r)+t-1}function Bg(e,t=4,r=1){const n=aD(e,t,r),i=aD(e+1,t,r);return(oh(e)-n+i)/7}function yI(e){return e>99?e:e>Qt.twoDigitCutoffYear?1900+e:2e3+e}function ZH(e,t,r,n=null){const i=new Date(e),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(o.timeZone=n);const s={timeZoneName:t,...o},a=new Intl.DateTimeFormat(r,s).formatToParts(i).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function H_(e,t){let r=parseInt(e,10);Number.isNaN(r)&&(r=0);const n=parseInt(t,10)||0,i=r<0||Object.is(r,-0)?-n:n;return r*60+i}function KH(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new On(`Invalid unit value ${e}`);return t}function US(e,t){const r={};for(const n in e)if(Rh(e,n)){const i=e[n];if(i==null)continue;r[t(n)]=KH(i)}return r}function z0(e,t){const r=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),i=e>=0?"+":"-";switch(t){case"short":return`${i}${xr(r,2)}:${xr(n,2)}`;case"narrow":return`${i}${r}${n>0?`:${n}`:""}`;case"techie":return`${i}${xr(r,2)}${xr(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function J_(e){return kpe(e,["hour","minute","second","millisecond"])}const Lpe=["January","February","March","April","May","June","July","August","September","October","November","December"],YH=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Dpe=["J","F","M","A","M","J","J","A","S","O","N","D"];function QH(e){switch(e){case"narrow":return[...Dpe];case"short":return[...YH];case"long":return[...Lpe];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const XH=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],eJ=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Fpe=["M","T","W","T","F","S","S"];function tJ(e){switch(e){case"narrow":return[...Fpe];case"short":return[...eJ];case"long":return[...XH];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const rJ=["AM","PM"],Upe=["Before Christ","Anno Domini"],zpe=["BC","AD"],Bpe=["B","A"];function nJ(e){switch(e){case"narrow":return[...Bpe];case"short":return[...zpe];case"long":return[...Upe];default:return null}}function Vpe(e){return rJ[e.hour<12?0:1]}function qpe(e,t){return tJ(t)[e.weekday-1]}function Gpe(e,t){return QH(t)[e.month-1]}function Wpe(e,t){return nJ(t)[e.year<0?0:1]}function Hpe(e,t,r="always",n=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(e)===-1;if(r==="auto"&&o){const h=e==="days";switch(t){case 1:return h?"tomorrow":`next ${i[e][0]}`;case-1:return h?"yesterday":`last ${i[e][0]}`;case 0:return h?"today":`this ${i[e][0]}`}}const s=Object.is(t,-0)||t<0,a=Math.abs(t),l=a===1,c=i[e],p=n?l?c[1]:c[2]||c[1]:l?i[e][0]:e;return s?`${a} ${p} ago`:`in ${a} ${p}`}function lD(e,t){let r="";for(const n of e)n.literal?r+=n.val:r+=t(n.val);return r}const Jpe={D:LS,DD:wH,DDD:xH,DDDD:SH,t:_H,tt:$H,ttt:TH,tttt:OH,T:EH,TT:jH,TTT:IH,TTTT:AH,f:PH,ff:MH,fff:kH,ffff:LH,F:NH,FF:CH,FFF:RH,FFFF:DH};class Mn{static create(t,r={}){return new Mn(t,r)}static parseFormat(t){let r=null,n="",i=!1;const o=[];for(let s=0;s<t.length;s++){const a=t.charAt(s);a==="'"?(n.length>0&&o.push({literal:i||/^\s+$/.test(n),val:n}),r=null,n="",i=!i):i||a===r?n+=a:(n.length>0&&o.push({literal:/^\s+$/.test(n),val:n}),n=a,r=a)}return n.length>0&&o.push({literal:i||/^\s+$/.test(n),val:n}),o}static macroTokenToFormatOpts(t){return Jpe[t]}constructor(t,r){this.opts=r,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...r}).format()}dtFormatter(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r})}formatDateTime(t,r){return this.dtFormatter(t,r).format()}formatDateTimeParts(t,r){return this.dtFormatter(t,r).formatToParts()}formatInterval(t,r){return this.dtFormatter(t.start,r).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,r){return this.dtFormatter(t,r).resolvedOptions()}num(t,r=0){if(this.opts.forceSimple)return xr(t,r);const n={...this.opts};return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(t)}formatDateTimeFromString(t,r){const n=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",o=(m,g)=>this.loc.extract(t,m,g),s=m=>t.isOffsetFixed&&t.offset===0&&m.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,m.format):"",a=()=>n?Vpe(t):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(m,g)=>n?Gpe(t,m):o(g?{month:m}:{month:m,day:"numeric"},"month"),c=(m,g)=>n?qpe(t,m):o(g?{weekday:m}:{weekday:m,month:"long",day:"numeric"},"weekday"),p=m=>{const g=Mn.macroTokenToFormatOpts(m);return g?this.formatWithSystemDefault(t,g):m},h=m=>n?Wpe(t,m):o({era:m},"era"),y=m=>{switch(m){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return s({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return s({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return a();case"d":return i?o({day:"numeric"},"day"):this.num(t.day);case"dd":return i?o({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return i?o({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return i?o({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return i?o({month:"numeric"},"month"):this.num(t.month);case"MM":return i?o({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return i?o({year:"numeric"},"year"):this.num(t.year);case"yy":return i?o({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return i?o({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return i?o({year:"numeric"},"year"):this.num(t.year,6);case"G":return h("short");case"GG":return h("long");case"GGGGG":return h("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return p(m)}};return lD(Mn.parseFormat(r),y)}formatDurationFromString(t,r){const n=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=l=>c=>{const p=n(c);return p?this.num(l.get(p),c.length):c},o=Mn.parseFormat(r),s=o.reduce((l,{literal:c,val:p})=>c?l:l.concat(p),[]),a=t.shiftTo(...s.map(n).filter(l=>l));return lD(o,i(a))}}const iJ=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Ey(...e){const t=e.reduce((r,n)=>r+n.source,"");return RegExp(`^${t}$`)}function jy(...e){return t=>e.reduce(([r,n,i],o)=>{const[s,a,l]=o(t,i);return[{...r,...s},a||n,l]},[{},null,1]).slice(0,2)}function Iy(e,...t){if(e==null)return[null,null];for(const[r,n]of t){const i=r.exec(e);if(i)return n(i)}return[null,null]}function oJ(...e){return(t,r)=>{const n={};let i;for(i=0;i<e.length;i++)n[e[i]]=du(t[r+i]);return[n,null,r+i]}}const sJ=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Zpe=`(?:${sJ.source}?(?:\\[(${iJ.source})\\])?)?`,rk=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,aJ=RegExp(`${rk.source}${Zpe}`),nk=RegExp(`(?:T${aJ.source})?`),Kpe=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Ype=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Qpe=/(\d{4})-?(\d{3})/,Xpe=oJ("weekYear","weekNumber","weekDay"),efe=oJ("year","ordinal"),tfe=/(\d{4})-(\d\d)-(\d\d)/,lJ=RegExp(`${rk.source} ?(?:${sJ.source}|(${iJ.source}))?`),rfe=RegExp(`(?: ${lJ.source})?`);function sh(e,t,r){const n=e[t];return Me(n)?r:du(n)}function nfe(e,t){return[{year:sh(e,t),month:sh(e,t+1,1),day:sh(e,t+2,1)},null,t+3]}function Ay(e,t){return[{hours:sh(e,t,0),minutes:sh(e,t+1,0),seconds:sh(e,t+2,0),milliseconds:ek(e[t+3])},null,t+4]}function _1(e,t){const r=!e[t]&&!e[t+1],n=H_(e[t+1],e[t+2]),i=r?null:_r.instance(n);return[{},i,t+3]}function $1(e,t){const r=e[t]?xi.create(e[t]):null;return[{},r,t+1]}const ife=RegExp(`^T?${rk.source}$`),ofe=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function sfe(e){const[t,r,n,i,o,s,a,l,c]=e,p=t[0]==="-",h=l&&l[0]==="-",y=(m,g=!1)=>m!==void 0&&(g||m&&p)?-m:m;return[{years:y(Tc(r)),months:y(Tc(n)),weeks:y(Tc(i)),days:y(Tc(o)),hours:y(Tc(s)),minutes:y(Tc(a)),seconds:y(Tc(l),l==="-0"),milliseconds:y(ek(c),h)}]}const afe={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function ik(e,t,r,n,i,o,s){const a={year:t.length===2?yI(du(t)):du(t),month:YH.indexOf(r)+1,day:du(n),hour:du(i),minute:du(o)};return s&&(a.second=du(s)),e&&(a.weekday=e.length>3?XH.indexOf(e)+1:eJ.indexOf(e)+1),a}const lfe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function ufe(e){const[,t,r,n,i,o,s,a,l,c,p,h]=e,y=ik(t,i,n,r,o,s,a);let m;return l?m=afe[l]:c?m=0:m=H_(p,h),[y,new _r(m)]}function cfe(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const dfe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,pfe=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,ffe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function uD(e){const[,t,r,n,i,o,s,a]=e;return[ik(t,i,n,r,o,s,a),_r.utcInstance]}function hfe(e){const[,t,r,n,i,o,s,a]=e;return[ik(t,a,r,n,i,o,s),_r.utcInstance]}const yfe=Ey(Kpe,nk),mfe=Ey(Ype,nk),gfe=Ey(Qpe,nk),vfe=Ey(aJ),uJ=jy(nfe,Ay,_1,$1),bfe=jy(Xpe,Ay,_1,$1),wfe=jy(efe,Ay,_1,$1),xfe=jy(Ay,_1,$1);function Sfe(e){return Iy(e,[yfe,uJ],[mfe,bfe],[gfe,wfe],[vfe,xfe])}function _fe(e){return Iy(cfe(e),[lfe,ufe])}function $fe(e){return Iy(e,[dfe,uD],[pfe,uD],[ffe,hfe])}function Tfe(e){return Iy(e,[ofe,sfe])}const Ofe=jy(Ay);function Efe(e){return Iy(e,[ife,Ofe])}const jfe=Ey(tfe,rfe),Ife=Ey(lJ),Afe=jy(Ay,_1,$1);function Pfe(e){return Iy(e,[jfe,uJ],[Ife,Afe])}const cD="Invalid Duration",cJ={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Nfe={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...cJ},Yi=146097/400,Ip=146097/4800,Mfe={years:{quarters:4,months:12,weeks:Yi/7,days:Yi,hours:Yi*24,minutes:Yi*24*60,seconds:Yi*24*60*60,milliseconds:Yi*24*60*60*1e3},quarters:{months:3,weeks:Yi/28,days:Yi/4,hours:Yi*24/4,minutes:Yi*24*60/4,seconds:Yi*24*60*60/4,milliseconds:Yi*24*60*60*1e3/4},months:{weeks:Ip/7,days:Ip,hours:Ip*24,minutes:Ip*24*60,seconds:Ip*24*60*60,milliseconds:Ip*24*60*60*1e3},...cJ},Sd=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Cfe=Sd.slice(0).reverse();function Jl(e,t,r=!1){const n={values:r?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new Qe(n)}function dJ(e,t){let r=t.milliseconds??0;for(const n of Cfe.slice(1))t[n]&&(r+=t[n]*e[n].milliseconds);return r}function dD(e,t){const r=dJ(e,t)<0?-1:1;Sd.reduceRight((n,i)=>{if(Me(t[i]))return n;if(n){const o=t[n]*r,s=e[i][n],a=Math.floor(o/s);t[i]+=a*r,t[n]-=a*s*r}return i},null),Sd.reduce((n,i)=>{if(Me(t[i]))return n;if(n){const o=t[n]%1;t[n]-=o,t[i]+=o*e[n][i]}return i},null)}function kfe(e){const t={};for(const[r,n]of Object.entries(e))n!==0&&(t[r]=n);return t}class Qe{constructor(t){const r=t.conversionAccuracy==="longterm"||!1;let n=r?Mfe:Nfe;t.matrix&&(n=t.matrix),this.values=t.values,this.loc=t.loc||ut.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(t,r){return Qe.fromObject({milliseconds:t},r)}static fromObject(t,r={}){if(t==null||typeof t!="object")throw new On(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new Qe({values:US(t,Qe.normalizeUnit),loc:ut.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(t){if(Zu(t))return Qe.fromMillis(t);if(Qe.isDuration(t))return t;if(typeof t=="object")return Qe.fromObject(t);throw new On(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,r){const[n]=Tfe(t);return n?Qe.fromObject(n,r):Qe.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,r){const[n]=Efe(t);return n?Qe.fromObject(n,r):Qe.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,r=null){if(!t)throw new On("need to specify a reason the Duration is invalid");const n=t instanceof ps?t:new ps(t,r);if(Qt.throwOnInvalid)throw new spe(n);return new Qe({invalid:n})}static normalizeUnit(t){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!r)throw new bH(t);return r}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,r={}){const n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?Mn.create(this.loc,n).formatDurationFromString(this,t):cD}toHuman(t={}){if(!this.isValid)return cD;const r=Sd.map(n=>{const i=this.values[n];return Me(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:n.slice(0,-1)}).format(i)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=tk(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},he.fromMillis(r,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?dJ(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const r=Qe.fromDurationLike(t),n={};for(const i of Sd)(Rh(r.values,i)||Rh(this.values,i))&&(n[i]=r.get(i)+this.get(i));return Jl(this,{values:n},!0)}minus(t){if(!this.isValid)return this;const r=Qe.fromDurationLike(t);return this.plus(r.negate())}mapUnits(t){if(!this.isValid)return this;const r={};for(const n of Object.keys(this.values))r[n]=KH(t(this.values[n],n));return Jl(this,{values:r},!0)}get(t){return this[Qe.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const r={...this.values,...US(t,Qe.normalizeUnit)};return Jl(this,{values:r})}reconfigure({locale:t,numberingSystem:r,conversionAccuracy:n,matrix:i}={}){const s={loc:this.loc.clone({locale:t,numberingSystem:r}),matrix:i,conversionAccuracy:n};return Jl(this,s)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return dD(this.matrix,t),Jl(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=kfe(this.normalize().shiftToAll().toObject());return Jl(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(s=>Qe.normalizeUnit(s));const r={},n={},i=this.toObject();let o;for(const s of Sd)if(t.indexOf(s)>=0){o=s;let a=0;for(const c in n)a+=this.matrix[c][s]*n[c],n[c]=0;Zu(i[s])&&(a+=i[s]);const l=Math.trunc(a);r[s]=l,n[s]=(a*1e3-l*1e3)/1e3}else Zu(i[s])&&(n[s]=i[s]);for(const s in n)n[s]!==0&&(r[o]+=s===o?n[s]:n[s]/this.matrix[o][s]);return dD(this.matrix,r),Jl(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const r of Object.keys(this.values))t[r]=this.values[r]===0?0:-this.values[r];return Jl(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function r(n,i){return n===void 0||n===0?i===void 0||i===0:n===i}for(const n of Sd)if(!r(this.values[n],t.values[n]))return!1;return!0}}const Ap="Invalid Interval";function Rfe(e,t){return!e||!e.isValid?Kt.invalid("missing or invalid start"):!t||!t.isValid?Kt.invalid("missing or invalid end"):t<e?Kt.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class Kt{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,r=null){if(!t)throw new On("need to specify a reason the Interval is invalid");const n=t instanceof ps?t:new ps(t,r);if(Qt.throwOnInvalid)throw new ope(n);return new Kt({invalid:n})}static fromDateTimes(t,r){const n=dm(t),i=dm(r),o=Rfe(n,i);return o??new Kt({start:n,end:i})}static after(t,r){const n=Qe.fromDurationLike(r),i=dm(t);return Kt.fromDateTimes(i,i.plus(n))}static before(t,r){const n=Qe.fromDurationLike(r),i=dm(t);return Kt.fromDateTimes(i.minus(n),i)}static fromISO(t,r){const[n,i]=(t||"").split("/",2);if(n&&i){let o,s;try{o=he.fromISO(n,r),s=o.isValid}catch{s=!1}let a,l;try{a=he.fromISO(i,r),l=a.isValid}catch{l=!1}if(s&&l)return Kt.fromDateTimes(o,a);if(s){const c=Qe.fromISO(i,r);if(c.isValid)return Kt.after(o,c)}else if(l){const c=Qe.fromISO(n,r);if(c.isValid)return Kt.before(a,c)}}return Kt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",r){if(!this.isValid)return NaN;const n=this.start.startOf(t,r);let i;return r?.useLocaleWeeks?i=this.end.reconfigure({locale:n.locale}):i=this.end,i=i.startOf(t,r),Math.floor(i.diff(n,t).get(t))+(i.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:r}={}){return this.isValid?Kt.fromDateTimes(t||this.s,r||this.e):this}splitAt(...t){if(!this.isValid)return[];const r=t.map(dm).filter(s=>this.contains(s)).sort((s,a)=>s.toMillis()-a.toMillis()),n=[];let{s:i}=this,o=0;for(;i<this.e;){const s=r[o]||this.e,a=+s>+this.e?this.e:s;n.push(Kt.fromDateTimes(i,a)),i=a,o+=1}return n}splitBy(t){const r=Qe.fromDurationLike(t);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,i=1,o;const s=[];for(;n<this.e;){const a=this.start.plus(r.mapUnits(l=>l*i));o=+a>+this.e?this.e:a,s.push(Kt.fromDateTimes(n,o)),n=o,i+=1}return s}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const r=this.s>t.s?this.s:t.s,n=this.e<t.e?this.e:t.e;return r>=n?null:Kt.fromDateTimes(r,n)}union(t){if(!this.isValid)return this;const r=this.s<t.s?this.s:t.s,n=this.e>t.e?this.e:t.e;return Kt.fromDateTimes(r,n)}static merge(t){const[r,n]=t.sort((i,o)=>i.s-o.s).reduce(([i,o],s)=>o?o.overlaps(s)||o.abutsStart(s)?[i,o.union(s)]:[i.concat([o]),s]:[i,s],[[],null]);return n&&r.push(n),r}static xor(t){let r=null,n=0;const i=[],o=t.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),s=Array.prototype.concat(...o),a=s.sort((l,c)=>l.time-c.time);for(const l of a)n+=l.type==="s"?1:-1,n===1?r=l.time:(r&&+r!=+l.time&&i.push(Kt.fromDateTimes(r,l.time)),r=null);return Kt.merge(i)}difference(...t){return Kt.xor([this].concat(t)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Ap}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=LS,r={}){return this.isValid?Mn.create(this.s.loc.clone(r),t).formatInterval(this):Ap}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Ap}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Ap}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Ap}toFormat(t,{separator:r=" – "}={}){return this.isValid?`${this.s.toFormat(t)}${r}${this.e.toFormat(t)}`:Ap}toDuration(t,r){return this.isValid?this.e.diff(this.s,t,r):Qe.invalid(this.invalidReason)}mapEndpoints(t){return Kt.fromDateTimes(t(this.s),t(this.e))}}class mb{static hasDST(t=Qt.defaultZone){const r=he.now().setZone(t).set({month:12});return!t.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(t){return xi.isValidZone(t)}static normalizeZone(t){return Su(t,Qt.defaultZone)}static getStartOfWeek({locale:t=null,locObj:r=null}={}){return(r||ut.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:r=null}={}){return(r||ut.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:r=null}={}){return(r||ut.create(t)).getWeekendDays().slice()}static months(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:o="gregory"}={}){return(i||ut.create(r,n,o)).months(t)}static monthsFormat(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:o="gregory"}={}){return(i||ut.create(r,n,o)).months(t,!0)}static weekdays(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||ut.create(r,n,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||ut.create(r,n,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return ut.create(t).meridiems()}static eras(t="short",{locale:r=null}={}){return ut.create(r,null,"gregory").eras(t)}static features(){return{relative:HH(),localeWeek:JH()}}}function pD(e,t){const r=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(t)-r(e);return Math.floor(Qe.fromMillis(n).as("days"))}function Lfe(e,t,r){const n=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const p=pD(l,c);return(p-p%7)/7}],["days",pD]],i={},o=e;let s,a;for(const[l,c]of n)r.indexOf(l)>=0&&(s=l,i[l]=c(e,t),a=o.plus(i),a>t?(i[l]--,e=o.plus(i),e>t&&(a=e,i[l]--,e=o.plus(i))):e=a);return[e,i,a,s]}function Dfe(e,t,r,n){let[i,o,s,a]=Lfe(e,t,r);const l=t-i,c=r.filter(h=>["hours","minutes","seconds","milliseconds"].indexOf(h)>=0);c.length===0&&(s<t&&(s=i.plus({[a]:1})),s!==i&&(o[a]=(o[a]||0)+l/(s-i)));const p=Qe.fromObject(o,n);return c.length>0?Qe.fromMillis(l,n).shiftTo(...c).plus(p):p}const Ffe="missing Intl.DateTimeFormat.formatToParts support";function nt(e,t=r=>r){return{regex:e,deser:([r])=>t(jpe(r))}}const Ufe=String.fromCharCode(160),pJ=`[ ${Ufe}]`,fJ=new RegExp(pJ,"g");function zfe(e){return e.replace(/\./g,"\\.?").replace(fJ,pJ)}function fD(e){return e.replace(/\./g,"").replace(fJ," ").toLowerCase()}function Do(e,t){return e===null?null:{regex:RegExp(e.map(zfe).join("|")),deser:([r])=>e.findIndex(n=>fD(r)===fD(n))+t}}function hD(e,t){return{regex:e,deser:([,r,n])=>H_(r,n),groups:t}}function gb(e){return{regex:e,deser:([t])=>t}}function Bfe(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Vfe(e,t){const r=Lo(t),n=Lo(t,"{2}"),i=Lo(t,"{3}"),o=Lo(t,"{4}"),s=Lo(t,"{6}"),a=Lo(t,"{1,2}"),l=Lo(t,"{1,3}"),c=Lo(t,"{1,6}"),p=Lo(t,"{1,9}"),h=Lo(t,"{2,4}"),y=Lo(t,"{4,6}"),m=w=>({regex:RegExp(Bfe(w.val)),deser:([x])=>x,literal:!0}),b=(w=>{if(e.literal)return m(w);switch(w.val){case"G":return Do(t.eras("short"),0);case"GG":return Do(t.eras("long"),0);case"y":return nt(c);case"yy":return nt(h,yI);case"yyyy":return nt(o);case"yyyyy":return nt(y);case"yyyyyy":return nt(s);case"M":return nt(a);case"MM":return nt(n);case"MMM":return Do(t.months("short",!0),1);case"MMMM":return Do(t.months("long",!0),1);case"L":return nt(a);case"LL":return nt(n);case"LLL":return Do(t.months("short",!1),1);case"LLLL":return Do(t.months("long",!1),1);case"d":return nt(a);case"dd":return nt(n);case"o":return nt(l);case"ooo":return nt(i);case"HH":return nt(n);case"H":return nt(a);case"hh":return nt(n);case"h":return nt(a);case"mm":return nt(n);case"m":return nt(a);case"q":return nt(a);case"qq":return nt(n);case"s":return nt(a);case"ss":return nt(n);case"S":return nt(l);case"SSS":return nt(i);case"u":return gb(p);case"uu":return gb(a);case"uuu":return nt(r);case"a":return Do(t.meridiems(),0);case"kkkk":return nt(o);case"kk":return nt(h,yI);case"W":return nt(a);case"WW":return nt(n);case"E":case"c":return nt(r);case"EEE":return Do(t.weekdays("short",!1),1);case"EEEE":return Do(t.weekdays("long",!1),1);case"ccc":return Do(t.weekdays("short",!0),1);case"cccc":return Do(t.weekdays("long",!0),1);case"Z":case"ZZ":return hD(new RegExp(`([+-]${a.source})(?::(${n.source}))?`),2);case"ZZZ":return hD(new RegExp(`([+-]${a.source})(${n.source})?`),2);case"z":return gb(/[a-z_+-/]{1,256}?/i);case" ":return gb(/[^\S\n\r]/);default:return m(w)}})(e)||{invalidReason:Ffe};return b.token=e,b}const qfe={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Gfe(e,t,r){const{type:n,value:i}=e;if(n==="literal"){const l=/^\s+$/.test(i);return{literal:!l,val:l?" ":i}}const o=t[n];let s=n;n==="hour"&&(t.hour12!=null?s=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?s="hour12":s="hour24":s=r.hour12?"hour12":"hour24");let a=qfe[s];if(typeof a=="object"&&(a=a[o]),a)return{literal:!1,val:a}}function Wfe(e){return[`^${e.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,e]}function Hfe(e,t,r){const n=e.match(t);if(n){const i={};let o=1;for(const s in r)if(Rh(r,s)){const a=r[s],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(i[a.token.val[0]]=a.deser(n.slice(o,o+l))),o+=l}return[n,i]}else return[n,{}]}function Jfe(e){const t=o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,n;return Me(e.z)||(r=xi.create(e.z)),Me(e.Z)||(r||(r=new _r(e.Z)),n=e.Z),Me(e.q)||(e.M=(e.q-1)*3+1),Me(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),Me(e.u)||(e.S=ek(e.u)),[Object.keys(e).reduce((o,s)=>{const a=t(s);return a&&(o[a]=e[s]),o},{}),r,n]}let aO=null;function Zfe(){return aO||(aO=he.fromMillis(1555555555555)),aO}function Kfe(e,t){if(e.literal)return e;const r=Mn.macroTokenToFormatOpts(e.val),n=gJ(r,t);return n==null||n.includes(void 0)?e:n}function hJ(e,t){return Array.prototype.concat(...e.map(r=>Kfe(r,t)))}class yJ{constructor(t,r){if(this.locale=t,this.format=r,this.tokens=hJ(Mn.parseFormat(r),t),this.units=this.tokens.map(n=>Vfe(n,t)),this.disqualifyingUnit=this.units.find(n=>n.invalidReason),!this.disqualifyingUnit){const[n,i]=Wfe(this.units);this.regex=RegExp(n,"i"),this.handlers=i}}explainFromTokens(t){if(this.isValid){const[r,n]=Hfe(t,this.regex,this.handlers),[i,o,s]=n?Jfe(n):[null,null,void 0];if(Rh(n,"a")&&Rh(n,"H"))throw new Lf("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:n,result:i,zone:o,specificOffset:s}}else return{input:t,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function mJ(e,t,r){return new yJ(e,r).explainFromTokens(t)}function Yfe(e,t,r){const{result:n,zone:i,specificOffset:o,invalidReason:s}=mJ(e,t,r);return[n,i,o,s]}function gJ(e,t){if(!e)return null;const n=Mn.create(t,e).dtFormatter(Zfe()),i=n.formatToParts(),o=n.resolvedOptions();return i.map(s=>Gfe(s,e,o))}const lO="Invalid DateTime",yD=864e13;function zm(e){return new ps("unsupported zone",`the zone "${e.name}" is not supported`)}function uO(e){return e.weekData===null&&(e.weekData=DS(e.c)),e.weekData}function cO(e){return e.localWeekData===null&&(e.localWeekData=DS(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function Oc(e,t){const r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new he({...r,...t,old:r})}function vJ(e,t,r){let n=e-t*60*1e3;const i=r.offset(n);if(t===i)return[n,t];n-=(i-t)*60*1e3;const o=r.offset(n);return i===o?[n,i]:[e-Math.min(i,o)*60*1e3,Math.max(i,o)]}function vb(e,t){e+=t*60*1e3;const r=new Date(e);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function Dw(e,t,r){return vJ(W_(e),t,r)}function mD(e,t){const r=e.o,n=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,o={...e.c,year:n,month:i,day:Math.min(e.c.day,FS(n,i))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},s=Qe.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=W_(o);let[l,c]=vJ(a,r,e.zone);return s!==0&&(l+=s,c=e.zone.offset(l)),{ts:l,o:c}}function Pp(e,t,r,n,i,o){const{setZone:s,zone:a}=r;if(e&&Object.keys(e).length!==0||t){const l=t||a,c=he.fromObject(e,{...r,zone:l,specificOffset:o});return s?c:c.setZone(a)}else return he.invalid(new ps("unparsable",`the input "${i}" can't be parsed as ${n}`))}function bb(e,t,r=!0){return e.isValid?Mn.create(ut.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}function dO(e,t){const r=e.c.year>9999||e.c.year<0;let n="";return r&&e.c.year>=0&&(n+="+"),n+=xr(e.c.year,r?6:4),t?(n+="-",n+=xr(e.c.month),n+="-",n+=xr(e.c.day)):(n+=xr(e.c.month),n+=xr(e.c.day)),n}function gD(e,t,r,n,i,o){let s=xr(e.c.hour);return t?(s+=":",s+=xr(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!r)&&(s+=":")):s+=xr(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!r)&&(s+=xr(e.c.second),(e.c.millisecond!==0||!n)&&(s+=".",s+=xr(e.c.millisecond,3))),i&&(e.isOffsetFixed&&e.offset===0&&!o?s+="Z":e.o<0?(s+="-",s+=xr(Math.trunc(-e.o/60)),s+=":",s+=xr(Math.trunc(-e.o%60))):(s+="+",s+=xr(Math.trunc(e.o/60)),s+=":",s+=xr(Math.trunc(e.o%60)))),o&&(s+="["+e.zone.ianaName+"]"),s}const bJ={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Qfe={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Xfe={ordinal:1,hour:0,minute:0,second:0,millisecond:0},wJ=["year","month","day","hour","minute","second","millisecond"],ehe=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],the=["year","ordinal","hour","minute","second","millisecond"];function rhe(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new bH(e);return t}function vD(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return rhe(e)}}function nhe(e){if(Bm===void 0&&(Bm=Qt.now()),e.type!=="iana")return e.offset(Bm);const t=e.name;let r=mI.get(t);return r===void 0&&(r=e.offset(Bm),mI.set(t,r)),r}function bD(e,t){const r=Su(t.zone,Qt.defaultZone);if(!r.isValid)return he.invalid(zm(r));const n=ut.fromObject(t);let i,o;if(Me(e.year))i=Qt.now();else{for(const l of wJ)Me(e[l])&&(e[l]=bJ[l]);const s=GH(e)||WH(e);if(s)return he.invalid(s);const a=nhe(r);[i,o]=Dw(e,a,r)}return new he({ts:i,zone:r,loc:n,o})}function wD(e,t,r){const n=Me(r.round)?!0:r.round,i=(s,a)=>(s=tk(s,n||r.calendary?0:2,!0),t.loc.clone(r).relFormatter(r).format(s,a)),o=s=>r.calendary?t.hasSame(e,s)?0:t.startOf(s).diff(e.startOf(s),s).get(s):t.diff(e,s).get(s);if(r.unit)return i(o(r.unit),r.unit);for(const s of r.units){const a=o(s);if(Math.abs(a)>=1)return i(a,s)}return i(e>t?-0:0,r.units[r.units.length-1])}function xD(e){let t={},r;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],r=Array.from(e).slice(0,e.length-1)):r=Array.from(e),[t,r]}let Bm;const mI=new Map;class he{constructor(t){const r=t.zone||Qt.defaultZone;let n=t.invalid||(Number.isNaN(t.ts)?new ps("invalid input"):null)||(r.isValid?null:zm(r));this.ts=Me(t.ts)?Qt.now():t.ts;let i=null,o=null;if(!n)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(r))[i,o]=[t.old.c,t.old.o];else{const a=Zu(t.o)&&!t.old?t.o:r.offset(this.ts);i=vb(this.ts,a),n=Number.isNaN(i.year)?new ps("invalid input"):null,i=n?null:i,o=n?null:a}this._zone=r,this.loc=t.loc||ut.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=i,this.o=o,this.isLuxonDateTime=!0}static now(){return new he({})}static local(){const[t,r]=xD(arguments),[n,i,o,s,a,l,c]=r;return bD({year:n,month:i,day:o,hour:s,minute:a,second:l,millisecond:c},t)}static utc(){const[t,r]=xD(arguments),[n,i,o,s,a,l,c]=r;return t.zone=_r.utcInstance,bD({year:n,month:i,day:o,hour:s,minute:a,second:l,millisecond:c},t)}static fromJSDate(t,r={}){const n=Mpe(t)?t.valueOf():NaN;if(Number.isNaN(n))return he.invalid("invalid input");const i=Su(r.zone,Qt.defaultZone);return i.isValid?new he({ts:n,zone:i,loc:ut.fromObject(r)}):he.invalid(zm(i))}static fromMillis(t,r={}){if(Zu(t))return t<-yD||t>yD?he.invalid("Timestamp out of range"):new he({ts:t,zone:Su(r.zone,Qt.defaultZone),loc:ut.fromObject(r)});throw new On(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,r={}){if(Zu(t))return new he({ts:t*1e3,zone:Su(r.zone,Qt.defaultZone),loc:ut.fromObject(r)});throw new On("fromSeconds requires a numerical input")}static fromObject(t,r={}){t=t||{};const n=Su(r.zone,Qt.defaultZone);if(!n.isValid)return he.invalid(zm(n));const i=ut.fromObject(r),o=US(t,vD),{minDaysInFirstWeek:s,startOfWeek:a}=oD(o,i),l=Qt.now(),c=Me(r.specificOffset)?n.offset(l):r.specificOffset,p=!Me(o.ordinal),h=!Me(o.year),y=!Me(o.month)||!Me(o.day),m=h||y,g=o.weekYear||o.weekNumber;if((m||p)&&g)throw new Lf("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(y&&p)throw new Lf("Can't mix ordinal dates with month/day");const b=g||o.weekday&&!m;let w,x,_=vb(l,c);b?(w=ehe,x=Qfe,_=DS(_,s,a)):p?(w=the,x=Xfe,_=sO(_)):(w=wJ,x=bJ);let S=!1;for(const k of w){const C=o[k];Me(C)?S?o[k]=x[k]:o[k]=_[k]:S=!0}const O=b?Ape(o,s,a):p?Ppe(o):GH(o),$=O||WH(o);if($)return he.invalid($);const T=b?nD(o,s,a):p?iD(o):o,[j,A]=Dw(T,c,n),N=new he({ts:j,zone:n,o:A,loc:i});return o.weekday&&m&&t.weekday!==N.weekday?he.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${N.toISO()}`):N.isValid?N:he.invalid(N.invalid)}static fromISO(t,r={}){const[n,i]=Sfe(t);return Pp(n,i,r,"ISO 8601",t)}static fromRFC2822(t,r={}){const[n,i]=_fe(t);return Pp(n,i,r,"RFC 2822",t)}static fromHTTP(t,r={}){const[n,i]=$fe(t);return Pp(n,i,r,"HTTP",r)}static fromFormat(t,r,n={}){if(Me(t)||Me(r))throw new On("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:o=null}=n,s=ut.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0}),[a,l,c,p]=Yfe(s,t,r);return p?he.invalid(p):Pp(a,l,n,`format ${r}`,t,c)}static fromString(t,r,n={}){return he.fromFormat(t,r,n)}static fromSQL(t,r={}){const[n,i]=Pfe(t);return Pp(n,i,r,"SQL",t)}static invalid(t,r=null){if(!t)throw new On("need to specify a reason the DateTime is invalid");const n=t instanceof ps?t:new ps(t,r);if(Qt.throwOnInvalid)throw new ipe(n);return new he({invalid:n})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,r={}){const n=gJ(t,ut.fromObject(r));return n?n.map(i=>i?i.val:null).join(""):null}static expandFormat(t,r={}){return hJ(Mn.parseFormat(t),ut.fromObject(r)).map(i=>i.val).join("")}static resetCache(){Bm=void 0,mI.clear()}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?uO(this).weekYear:NaN}get weekNumber(){return this.isValid?uO(this).weekNumber:NaN}get weekday(){return this.isValid?uO(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?cO(this).weekday:NaN}get localWeekNumber(){return this.isValid?cO(this).weekNumber:NaN}get localWeekYear(){return this.isValid?cO(this).weekYear:NaN}get ordinal(){return this.isValid?sO(this.c).ordinal:NaN}get monthShort(){return this.isValid?mb.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?mb.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?mb.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?mb.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,r=6e4,n=W_(this.c),i=this.zone.offset(n-t),o=this.zone.offset(n+t),s=this.zone.offset(n-i*r),a=this.zone.offset(n-o*r);if(s===a)return[this];const l=n-s*r,c=n-a*r,p=vb(l,s),h=vb(c,a);return p.hour===h.hour&&p.minute===h.minute&&p.second===h.second&&p.millisecond===h.millisecond?[Oc(this,{ts:l}),Oc(this,{ts:c})]:[this]}get isInLeapYear(){return S1(this.year)}get daysInMonth(){return FS(this.year,this.month)}get daysInYear(){return this.isValid?oh(this.year):NaN}get weeksInWeekYear(){return this.isValid?Bg(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Bg(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:r,numberingSystem:n,calendar:i}=Mn.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:i}}toUTC(t=0,r={}){return this.setZone(_r.instance(t),r)}toLocal(){return this.setZone(Qt.defaultZone)}setZone(t,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(t=Su(t,Qt.defaultZone),t.equals(this.zone))return this;if(t.isValid){let i=this.ts;if(r||n){const o=t.offset(this.ts),s=this.toObject();[i]=Dw(s,o,t)}return Oc(this,{ts:i,zone:t})}else return he.invalid(zm(t))}reconfigure({locale:t,numberingSystem:r,outputCalendar:n}={}){const i=this.loc.clone({locale:t,numberingSystem:r,outputCalendar:n});return Oc(this,{loc:i})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const r=US(t,vD),{minDaysInFirstWeek:n,startOfWeek:i}=oD(r,this.loc),o=!Me(r.weekYear)||!Me(r.weekNumber)||!Me(r.weekday),s=!Me(r.ordinal),a=!Me(r.year),l=!Me(r.month)||!Me(r.day),c=a||l,p=r.weekYear||r.weekNumber;if((c||s)&&p)throw new Lf("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&s)throw new Lf("Can't mix ordinal dates with month/day");let h;o?h=nD({...DS(this.c,n,i),...r},n,i):Me(r.ordinal)?(h={...this.toObject(),...r},Me(r.day)&&(h.day=Math.min(FS(h.year,h.month),h.day))):h=iD({...sO(this.c),...r});const[y,m]=Dw(h,this.o,this.zone);return Oc(this,{ts:y,o:m})}plus(t){if(!this.isValid)return this;const r=Qe.fromDurationLike(t);return Oc(this,mD(this,r))}minus(t){if(!this.isValid)return this;const r=Qe.fromDurationLike(t).negate();return Oc(this,mD(this,r))}startOf(t,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const n={},i=Qe.normalizeUnit(t);switch(i){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(i==="weeks")if(r){const o=this.loc.getStartOfWeek(),{weekday:s}=this;s<o&&(n.weekNumber=this.weekNumber-1),n.weekday=o}else n.weekday=1;if(i==="quarters"){const o=Math.ceil(this.month/3);n.month=(o-1)*3+1}return this.set(n)}endOf(t,r){return this.isValid?this.plus({[t]:1}).startOf(t,r).minus(1):this}toFormat(t,r={}){return this.isValid?Mn.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,t):lO}toLocaleString(t=LS,r={}){return this.isValid?Mn.create(this.loc.clone(r),t).formatDateTime(this):lO}toLocaleParts(t={}){return this.isValid?Mn.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:i=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;const s=t==="extended";let a=dO(this,s);return a+="T",a+=gD(this,s,r,n,i,o),a}toISODate({format:t="extended"}={}){return this.isValid?dO(this,t==="extended"):null}toISOWeekDate(){return bb(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:i=!1,extendedZone:o=!1,format:s="extended"}={}){return this.isValid?(i?"T":"")+gD(this,s==="extended",r,t,n,o):null}toRFC2822(){return bb(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return bb(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?dO(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let i="HH:mm:ss.SSS";return(r||t)&&(n&&(i+=" "),r?i+="z":t&&(i+="ZZ")),bb(this,i,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():lO}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const r={...this.c};return t.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,r="milliseconds",n={}){if(!this.isValid||!t.isValid)return Qe.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...n},o=Cpe(r).map(Qe.normalizeUnit),s=t.valueOf()>this.valueOf(),a=s?this:t,l=s?t:this,c=Dfe(a,l,o,i);return s?c.negate():c}diffNow(t="milliseconds",r={}){return this.diff(he.now(),t,r)}until(t){return this.isValid?Kt.fromDateTimes(this,t):this}hasSame(t,r,n){if(!this.isValid)return!1;const i=t.valueOf(),o=this.setZone(t.zone,{keepLocalTime:!0});return o.startOf(r,n)<=i&&i<=o.endOf(r,n)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const r=t.base||he.fromObject({},{zone:this.zone}),n=t.padding?this<r?-t.padding:t.padding:0;let i=["years","months","days","hours","minutes","seconds"],o=t.unit;return Array.isArray(t.unit)&&(i=t.unit,o=void 0),wD(r,this.plus(n),{...t,numeric:"always",units:i,unit:o})}toRelativeCalendar(t={}){return this.isValid?wD(t.base||he.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(he.isDateTime))throw new On("min requires all arguments be DateTimes");return sD(t,r=>r.valueOf(),Math.min)}static max(...t){if(!t.every(he.isDateTime))throw new On("max requires all arguments be DateTimes");return sD(t,r=>r.valueOf(),Math.max)}static fromFormatExplain(t,r,n={}){const{locale:i=null,numberingSystem:o=null}=n,s=ut.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0});return mJ(s,t,r)}static fromStringExplain(t,r,n={}){return he.fromFormatExplain(t,r,n)}static buildFormatParser(t,r={}){const{locale:n=null,numberingSystem:i=null}=r,o=ut.fromOpts({locale:n,numberingSystem:i,defaultToEN:!0});return new yJ(o,t)}static fromFormatParser(t,r,n={}){if(Me(t)||Me(r))throw new On("fromFormatParser requires an input string and a format parser");const{locale:i=null,numberingSystem:o=null}=n,s=ut.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0});if(!s.equals(r.locale))throw new On(`fromFormatParser called with a locale of ${s}, but the format parser was created for ${r.locale}`);const{result:a,zone:l,specificOffset:c,invalidReason:p}=r.explainFromTokens(t);return p?he.invalid(p):Pp(a,l,n,`format ${r.format}`,t,c)}static get DATE_SHORT(){return LS}static get DATE_MED(){return wH}static get DATE_MED_WITH_WEEKDAY(){return ape}static get DATE_FULL(){return xH}static get DATE_HUGE(){return SH}static get TIME_SIMPLE(){return _H}static get TIME_WITH_SECONDS(){return $H}static get TIME_WITH_SHORT_OFFSET(){return TH}static get TIME_WITH_LONG_OFFSET(){return OH}static get TIME_24_SIMPLE(){return EH}static get TIME_24_WITH_SECONDS(){return jH}static get TIME_24_WITH_SHORT_OFFSET(){return IH}static get TIME_24_WITH_LONG_OFFSET(){return AH}static get DATETIME_SHORT(){return PH}static get DATETIME_SHORT_WITH_SECONDS(){return NH}static get DATETIME_MED(){return MH}static get DATETIME_MED_WITH_SECONDS(){return CH}static get DATETIME_MED_WITH_WEEKDAY(){return lpe}static get DATETIME_FULL(){return kH}static get DATETIME_FULL_WITH_SECONDS(){return RH}static get DATETIME_HUGE(){return LH}static get DATETIME_HUGE_WITH_SECONDS(){return DH}}function dm(e){if(he.isDateTime(e))return e;if(e&&e.valueOf&&Zu(e.valueOf()))return he.fromJSDate(e);if(e&&typeof e=="object")return he.fromObject(e);throw new On(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const ihe="shortOffset";function ohe(e){return"timeZoneIANA"in e}function she(e){return e.startsWith("UTC")}function zS(e,t=!1){return{json:{read:{source:e,reader:(r,n)=>n[e]?Fw(n[e]):null},write:!!t&&{allowNull:!0,writer(r,n){n[e]=r?ahe(r):null}}}}}function Fw(e,t=Es){return e?ohe(e)?e.timeZoneIANA:lhe(e,t):t}function ahe(e){return{timeZoneIANA:e}}function lhe(e,t=Es){if(!e||!W5.has(e.timeZone))return t;const r=W5.get(e.timeZone);return she(e.timeZone)||e.respectsDaylightSaving?r:uhe(r)}function uhe(e){const t=he.local().setZone(e),r=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return r===0?"Etc/UTC":`Etc/GMT${_r.instance(-r).formatOffset(0,"narrow")}`}function VJe(e,t,r,n,i){if(t&&i==="date")return{timeZone:sc,timeZoneName:void 0};const o=n.timeStyle||n.hour,s=r===oc;return{timeZone:s?i==="timestamp-offset"?void 0:e??sc:r,timeZoneName:s&&o?ihe:void 0}}function qJe(e){const t=new Set(["etc/utc","etc/gmt","gmt"]),r=new Set(Intl.supportedValuesOf("timeZone").map(n=>n.toLowerCase()));return e===Es||e===oc||t.has(e.toLowerCase())||r.has(e.toLowerCase())}const che={year:void 0,month:void 0,day:void 0,weekday:void 0},dhe={hour:void 0,minute:void 0,second:void 0},xJ={timeZone:sc},Cs={year:"numeric",month:"numeric",day:"numeric"},pm={year:"numeric",month:"long",day:"numeric"},fm={year:"numeric",month:"short",day:"numeric"},hm={year:"numeric",month:"long",weekday:"long",day:"numeric"},pu={hour:"numeric",minute:"numeric"},Rc={...pu,second:"numeric"},SJ={hourCycle:"h23"},ym={...pu,...SJ},mm={...Rc,...SJ},_J={"short-date":Cs,"short-date-short-time":{...Cs,...pu},"short-date-short-time-24":{...Cs,...ym},"short-date-long-time":{...Cs,...Rc},"short-date-long-time-24":{...Cs,...mm},"short-date-le":Cs,"short-date-le-short-time":{...Cs,...pu},"short-date-le-short-time-24":{...Cs,...ym},"short-date-le-long-time":{...Cs,...Rc},"short-date-le-long-time-24":{...Cs,...mm},"long-month-day-year":pm,"long-month-day-year-short-time":{...pm,...pu},"long-month-day-year-short-time-24":{...pm,...ym},"long-month-day-year-long-time":{...pm,...Rc},"long-month-day-year-long-time-24":{...pm,...mm},"day-short-month-year":fm,"day-short-month-year-short-time":{...fm,...pu},"day-short-month-year-short-time-24":{...fm,...ym},"day-short-month-year-long-time":{...fm,...Rc},"day-short-month-year-long-time-24":{...fm,...mm},"long-date":hm,"long-date-short-time":{...hm,...pu},"long-date-short-time-24":{...hm,...ym},"long-date-long-time":{...hm,...Rc},"long-date-long-time-24":{...hm,...mm},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":pu,"long-time":Rc},phe=Or()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),$J={ar:"ar-u-nu-latn-ca-gregory",nn:"no-NN"},fhe=new Intl.DateTimeFormat("bs",{month:"long"}).formatToParts(new Date(2025,2)),hhe=fhe.find(({type:e})=>e==="month")?.value.toLowerCase();function TJ(){const e=$o(),t=ZC(e)?.language;return(t&&$J[t])??e}hhe!=="mart"&&($J.bs="sr-Latn-CS");let gI=new WeakMap;const Z_=_J["short-date-short-time"];function yhe(e){let t=gI.get(e);if(!t){const r=TJ(),n=sk(e.timeZone??Es),i={...e,timeZone:n};t=new Intl.DateTimeFormat(r,i),gI.set(e,t)}return t}function GJe(e){return _J[e]}function ok(e,t=Z_){return yhe(t).format(e)}function WJe(e,t=Z_){return ok(new Date(e),{...t,...xJ,...dhe})}function HJe(e,t=Z_){return ok(new Date(`1970-01-01T${e}Z`),{...t,...xJ,...che})}function JJe(e,t=Z_){if(t.timeZone)return ok(new Date(e),t);const r=he.fromISO(e,{setZone:!0}),n=r.offset===0?sc:t.timeZone,i={...t,timeZone:n};return r.toLocaleString(i,{locale:TJ()})}function sk(e){switch(e){case Es:return npe;case oc:return sc;default:return e}}KC(()=>{gI=new WeakMap});const mhe={ar:"ar-u-nu-latn",bs:"sr-Latn-CS",nn:"no-NN"};let Uw=new WeakMap,OJ={};function ghe(e){const t=e||OJ;if(!Uw.has(t)){const r=$o(),n=ZC(r)?.language,i=n&&mhe[n]||r;Uw.set(t,new Intl.NumberFormat(i,e))}return Uw.get(t)}function ZJe(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function KJe(e,t){return Object.is(e,-0)&&(e=0),ghe(t).format(e)}KC(()=>{Uw=new WeakMap,OJ={}});async function vhe(e,t,r,n){const i=t.exec(r);if(!i)throw new Z("esri-intl:invalid-bundle",`Bundle id "${r}" is not compatible with the pattern "${t}"`);const o=i[1]?`${i[1]}/`:"",s=i[2],a=gH(n),l=`${o}${s}.json`,c=a?`${o}${s}_${a}.json`:l;let p;try{p=await SD(e(c))}catch(h){if(c===l)throw new Z("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:h});try{p=await SD(e(l))}catch(y){throw new Z("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:y})}}return p}async function SD(e){if(_D.fetchBundleAsset!=null)return _D.fetchBundleAsset(e);const t=await tt(e,{responseType:"text"});return JSON.parse(t.data)}let bhe=class{constructor({base:t="",pattern:r,location:n=new URL(window.location.href)}){let i;i=typeof n=="string"?o=>new URL(o,new URL(n,window.location.href)).href:n instanceof URL?o=>new URL(o,n).href:n,this.pattern=typeof r=="string"?new RegExp(`^${r}`):r,this.getAssetUrl=i,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(t,r){return vhe(this.getAssetUrl,this.matcher,t,r)}};function whe(e){return new bhe(e)}const _D={};Qde(whe({pattern:"esri/",location:cr}));let Ia=class extends dt{constructor(t){super(t),this.apiKey=null,this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2",this.worldview=null}get languageParameter(){const t=this.language;let r=t==="local"||t==="globalThis"?t:gH(t??$o())??"globalThis";return r=r==="no"?"nb":r,r}};u([d()],Ia.prototype,"apiKey",void 0),u([d()],Ia.prototype,"id",void 0),u([d()],Ia.prototype,"language",void 0),u([d()],Ia.prototype,"places",void 0),u([d()],Ia.prototype,"serviceUrl",void 0),u([d()],Ia.prototype,"worldview",void 0),Ia=u([I("esri.support.BasemapStyle")],Ia);const xhe=Ia;function ah(e,t,r={}){return ak(e,t,r,EJ)}function $D(e,t,r={}){return ak(e,t,r,jJ)}function ak(e,t,r={},n){let i=null;const o=r.once?(s,a)=>{n(s)&&(bs(i),t(s,a))}:(s,a)=>{n(s)&&t(s,a)};if(i=kue(e,o,r.sync,r.equals),r.initial){const s=e();o(s,s)}return i}function She(e,t,r,n={}){let i=null,o=null,s=null;function a(){i&&o&&(o.remove(),n.onListenerRemove?.(i),i=null,o=null)}function l(p){n.once&&n.once&&bs(s),r(p)}const c=ah(e,(p,h)=>{a(),_C(p)&&(i=p,o=$C(p,t,l),n.onListenerAdd?.(p))},{sync:n.sync,initial:!0});return s=yr(()=>{c.remove(),a()}),s}function _he(e,t){return $he(e,jJ,t)}function $he(e,t,r){if(El(r))return Promise.reject(hr());const n=e();if(t?.(n))return Promise.resolve(n);let i=null;function o(){i=bs(i)}return new Promise((s,a)=>{i=P_([Jd(r,()=>{o(),a(hr())}),ak(e,l=>{o(),s(l)},{sync:!1,once:!0},t??EJ)])})}function EJ(e){return!0}function jJ(e){return!!e}const K_={sync:!0},XJe={initial:!0},The={sync:!0,initial:!0},wb=new WeakMap;function lk(e){return!e.destroyed&&(wb.has(e)||e.addHandles([ah(()=>{const t=e.parent;return!(!t||!("type"in t))&&(t.type==="catalog-dynamic-group"||lk(t))},t=>wb.set(e,t),The),yr(()=>wb.delete(e))]),wb.get(e))}function Ohe(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="feature"}function IJ(e){return e?.type==="subtype-sublayer"}const eZe={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function vI(e){const t=e?.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function Y_(e){return e?.type==="feature"&&!e.url&&e.source?.type==="memory"}function tZe(e){const t=e?.type;return(t==="feature"||t==="subtype-group"||t==="oriented-imagery")&&e?.source?.type==="feature-layer"}async function AJ(e,t){const r=He?.findServerInfo(e);if(r?.currentVersion!=null)return r.owningSystemUrl||null;const n=e.toLowerCase().indexOf("/rest/services");if(n===-1)return null;const i=`${e.slice(0,n)}/rest/info`,o=t!=null?t.signal:null,{data:s}=await tt(i,{query:{f:"json"},responseType:"json",signal:o});return s?.owningSystemUrl||null}function Ehe(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function jhe(e){return Ehe(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function Ihe(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function Ahe(e){return!!Ihe(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}function rZe(e){const t=new Te;for(const r of e.allLayers.concat(e.allTables))r.type==="csv"||lk(r)||("charts"in r&&t.push(r),r.type==="subtype-group"&&t.push(...r.sublayers));return t}function Phe(e,t){return null}function nZe(e){return null}function bI(e){return!e||e.type==="Feature Service"&&!e.sourceUrl}function iZe(e,t){!t||!bI(e)||Phe(e.url)}const Nhe=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wcs","wms","wmts"]),PJ=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","video","web-tile","wcs","wfs","wms","wmts"]),Mhe=new Set([...PJ,"link-chart"]);function Che(e){switch(e.layerContainerType){case"basemap":return Nhe;case"operational-layers":return e.origin==="link-chart"?Mhe:PJ;default:return null}}function khe(e,t){if(t.restrictedWebMapWriting){const r=Che(t);return r==null||r.has(e.type)&&!Y_(e)}return!0}function Rhe(e,t){if(t)if(Y_(e)){const r=j_("featureCollection.layers",t),n=r?.[0]?.layerDefinition;n&&TD(e,n)}else e.type!=="group"&&TD(e,t)}function TD(e,t){"maxScale"in e&&(t.maxScale=IS(e.maxScale)??void 0),"minScale"in e&&(t.minScale=IS(e.minScale)??void 0)}function Lhe(e,t){if(Rhe(e,t),t&&(t.id=e.id,"blendMode"in e&&(t.blendMode=e.blendMode,t.blendMode==="normal"&&delete t.blendMode),t.opacity=IS(e.opacity)??void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&e.type!=="wmts"))if(Y_(e)){const r=t.featureCollection;r&&(r.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function wI(e,t,r){if(!e.persistenceEnabled)return null;if(!("write"in e)||!e.write)return r?.messages&&r.messages.push(new Z("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if(Y_(e)&&!e.isTable)t=e.resourceInfo;else if(khe(e,r)){const n={};return e.write(n,r)?n:null}return t!=null&&Lhe(e,t=D(t)),t}var Vm;let Dhe=0,$i=Vm=class extends z.JSONSupportMixin(hi){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+Dhe++,this.baseLayers=new Te,this.referenceLayers=new Te;const t=n=>{n.parent&&n.parent!==this&&"remove"in n.parent&&n.parent.remove(n),n.parent=this,n.type==="elevation"&&ce.getLogger(this).error(`Layer '${n.title}, id:${n.id}' of type '${n.type}' is not supported as a basemap layer and will therefore be ignored.`)},r=n=>{n.parent=null};this.addHandles([this.baseLayers.on("after-add",n=>t(n.item)),this.referenceLayers.on("after-add",n=>t(n.item)),this.baseLayers.on("after-remove",n=>r(n.item)),this.referenceLayers.on("after-remove",n=>r(n.item))])}initialize(){this.when().catch(e=>{ce.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.baseLayers.toArray();for(const r of e)r.destroy();const t=this.referenceLayers.toArray();for(const r of t)r.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=_o(this.portalItem)}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",Nh(e,this._get("baseLayers")))}_writeBaseLayers(e,t,r){const n=[];e&&(r={...r,layerContainerType:"basemap"},this.baseLayers.forEach(i=>{const o=wI(i,r.webmap?r.webmap.getLayerJSONFromResourceInfo(i):null,r);o!=null&&n.push(o)}),this.referenceLayers.forEach(i=>{const o=wI(i,r.webmap?r.webmap.getLayerJSONFromResourceInfo(i):null,r);o!=null&&(i.type!=="scene"&&(o.isReference=!0),n.push(o))})),t.baseMapLayers=n}set referenceLayers(e){this._set("referenceLayers",Nh(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return U_(this,e=>{e(this.baseLayers,this.referenceLayers)})}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(t=>pS(t)?t.clone():t),referenceLayers:this.referenceLayers.map(t=>pS(t)?t.clone():t)};return this.loaded&&(e.loadStatus="loaded"),new Vm({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){return e=e||{},t?.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(r=>{const n=D(r);return n.url&&fa(n.url)&&(n.url=`https:${n.url}`),n.templateUrl&&fa(n.templateUrl)&&(n.templateUrl=`https:${n.templateUrl}`),n})),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:r,style:n}=this;kn(e);const i=[];if(t){const o=t.context?t.context.url:null;if(i.push(this._loadLayersFromJSON(t.data,o,e)),t.data.id&&!t.data.title){const s=t.data.id;i.push(rpe(s).then(a=>{a&&this.read({title:a},t.context)}))}}else r?i.push(this._loadFromItem(r,e)):n&&i.push(this._loadFromStylesService(n,e));await Promise.all(i)}async _loadLayersFromJSON(e,t,r){const n=this.resourceInfo?.context,i=this.portalItem?.portal||n?.portal||null,o=Uhe[n?.origin||""]??"web-map",{populateOperationalLayers:s}=await ue(()=>import("./layersCreator-eddff4d8.js"),["assets/layersCreator-eddff4d8.js","assets/loadUtils-8b4d1e2c.js","assets/fetchService-05f74a69.js","assets/associatedFeatureServiceUtils-a638208b.js","assets/lazyLayerLoader-bfd7bb14.js","assets/portalLayers-b0abf018.js"]),a=[];if(kn(r),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const l={context:{...n,origin:o,url:t,portal:i,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},c=y=>o==="web-scene"&&y.layerType==="ArcGISSceneServiceLayer"||y.isReference,p=s(this.baseLayers,e.baseMapLayers.filter(y=>!c(y)),l);a.push(p);const h=s(this.referenceLayers,e.baseMapLayers.filter(c),l);a.push(h)}await Promise.allSettled(a)}async _loadFromItem(e,t){const r=await e.load(t),n=await r.fetchData("json",t),i=en(e.itemUrl??"");return this._set("resourceInfo",{data:n.baseMap??{},context:{origin:Fhe[e.type||""]??"web-map",portal:e.portal||te.getDefault(),url:i}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:n.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||te.getDefault(),url:i}),this._loadLayersFromJSON(this.resourceInfo.data,i,t)}async _loadFromStylesService(e,t){const r=e.serviceUrl.endsWith("/webmaps")?e.serviceUrl.slice(0,-8):e.serviceUrl,n=`${r}/styles/${e.id}/self`,i=`${r}/webmaps/${e.id}`,o=e.apiKey??Ye.apiKeys.basemapStyles,[s,a]=await Promise.all([(await tt(n,{query:{token:o},signal:t?.signal})).data,(await tt(i,{query:{language:e.languageParameter,places:e.places,worldview:e.worldview,token:o},signal:t?.signal})).data]);this.thumbnailUrl??(this.thumbnailUrl=s.thumbnailUrl);const l=en(i);if(this._set("resourceInfo",{data:a.baseMap??{},context:{origin:"web-map",url:l}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:a.spatialReference},this.resourceInfo.context),await this._loadLayersFromJSON(this.resourceInfo.data,l,t),o)for(const c of[...this.baseLayers,...this.referenceLayers])"apiKey"in c&&(c.apiKey=o)}static fromId(e){const t=oI[e];return t?t.itemId?new Vm({portalItem:{id:t.itemId,portal:{url:"https://www.arcgis.com"}}}):Vm.fromJSON(t,t.is3d?{origin:"web-scene",portal:new te({url:"https://www.arcgis.com"})}:{origin:"web-map"}):null}};u([d({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,r,n){this._writeBaseLayers(e,t,n)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:Te}},writer(e,t,r,n){this._writeBaseLayers(e,t,n)}}}}}})],$i.prototype,"baseLayers",null),u([d({type:String,json:{origins:{"web-scene":{write:!0}}}})],$i.prototype,"id",void 0),u([d({type:$e})],$i.prototype,"portalItem",void 0),u([d()],$i.prototype,"referenceLayers",null),u([d({readOnly:!0})],$i.prototype,"resourceInfo",void 0),u([d({type:be})],$i.prototype,"spatialReference",void 0),u([d({type:xhe})],$i.prototype,"style",void 0),u([d()],$i.prototype,"thumbnailUrl",void 0),u([d({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],$i.prototype,"title",void 0),u([re("title")],$i.prototype,"writeTitle",null),$i=Vm=u([I("esri.Basemap")],$i);const Fhe={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},Uhe={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},B0=$i,zhe=Object.freeze(Object.defineProperty({__proto__:null,default:B0},Symbol.toStringTag,{value:"Module"})),BS={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function NJ(e){return!!BS[e]||!!BS[e.toLowerCase()]}function uk(e){return BS[e]??BS[e.toLowerCase()]}function Bhe(e){return[...uk(e)]}function pO(e,t,r){r<0&&++r,r>1&&--r;const n=6*r;return n<1?e+(t-e)*n:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function MJ(e,t,r,n=1){const i=(e%360+360)%360/360,o=r<=.5?r*(t+1):r+t-r*t,s=2*r-o;return[Math.round(255*pO(s,o,i+1/3)),Math.round(255*pO(s,o,i)),Math.round(255*pO(s,o,i-1/3)),n]}function Vhe(e){const t=e.length>5,r=t?8:4,n=(1<<r)-1,i=t?1:17,o=t?e.length===9:e.length===5;let s=+("0x"+e.slice(1));if(isNaN(s))return null;const a=[0,0,0,1];let l;return o&&(l=s&n,s>>=r,a[3]=i*l/255),l=s&n,s>>=r,a[2]=i*l,l=s&n,s>>=r,a[1]=i*l,l=s&n,s>>=r,a[0]=i*l,a}function CJ(e){if(e[0]!=="#"||isNaN(+`0x${e.slice(1)}`))return null;switch(e.length){case 4:case 5:{const t=parseInt(e.slice(1,2),16),r=parseInt(e.slice(2,3),16),n=parseInt(e.slice(3,4),16),i=e.length===4?15:parseInt(e.slice(4),16);return[t+16*t,r+16*r,n+16*n,(i+16*i)/255]}case 7:case 9:return[parseInt(e.slice(1,3),16),parseInt(e.slice(3,5),16),parseInt(e.slice(5,7),16),(e.length===7?255:parseInt(e.slice(7),16))/255];default:return null}}function kJ(e){const t=e.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(t){const r=t[2].split(/\s*,\s*/),n=t[1];if(n==="rgb"&&r.length===3||n==="rgba"&&r.length===4){const i=r[0];if(i.charAt(i.length-1)==="%"){const o=r.map(s=>2.56*parseFloat(s));return r.length===4&&(o[3]=parseFloat(r[3])),OD(o)}return OD(r.map(o=>parseFloat(o)))}if(n==="hsl"&&r.length===3||n==="hsla"&&r.length===4)return MJ(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100,parseFloat(r[3]??"1"))}return null}function OD(e){return e[0]=lh(e[0]),e[1]=lh(e[1]),e[2]=lh(e[2]),e[3]=e.length===4?LJ(e[3]):1,e}function RJ(e){let t=NJ(e)?uk(e):null;return t??(t=kJ(e)),t??(t=CJ(e)),t}function oZe(e){const t=RJ(e);return t!=null?[t[0]/255,t[1]/255,t[2]/255,t[3]]:null}function LJ(e){return DJ(e,0,1)}function lh(e){return Math.round(DJ(e,0,255))}function DJ(e,t,r){return e=Number(e),isNaN(e)?r:e<t?t:e>r?r:e}const sZe=2.2,ED=new Float32Array(1);function aZe(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function ac(e,t,r){return Math.min(Math.max(e,t),r)}function qhe(e,t,r){return e+(t-e)*r}function lZe(e,t,r,n,i){return qhe(n,i,(e-t)/(r-t))}function Ghe(e){return e*Math.PI/180}function Whe(e){return 180*e/Math.PI}function uZe(e){return Math.acos(ac(e,-1,1))}function Hhe(e){return Math.asin(ac(e,-1,1))}function xs(e,t,r=1e-6){return e===t?!0:!Number.isFinite(e)||!Number.isFinite(t)?!1:(e>t?e-t:t-e)<=r}function FJ(e,t,r=1e-6){return!xs(e,t,r)&&e>t}function xI(e,t,r=1e-6){return!xs(e,t,r)&&e<t}function Jhe(e,t,r=1e-6){return xs(e,t,r)||e>t}const VS=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function SI(e){return VS.setFloat64(0,e),VS.getBigInt64(0)}function Zhe(e){return VS.setBigInt64(0,e),VS.getFloat64(0)}const zw=BigInt("1000000"),Khe=UJ(1);function UJ(e){const t=SI(e=Math.abs(e)),r=Zhe(t<=zw?zw:t-zw);return Math.abs(e-r)}function cZe(e,t,r=Khe){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;if(r!=null&&UJ(Math.min(Math.abs(e),Math.abs(t)))<r)return Math.abs(e-t)<=r;const n=SI(e),i=SI(t);return n<0!=i<0?!1:!((n<i?i-n:n-i)>zw)}function dZe(e){return zJ(Math.max(-jD,Math.min(e,jD)))}function zJ(e){return ED[0]=e,ED[0]}function pZe(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],n=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(xs(t,1)&&xs(r,1)&&xs(n,1))}const jD=zJ(34028234663852886e22);function fZe(e,t,r){if(r===void 0||+r==0)return Math[e](t);if(t=+t,r=+r,isNaN(t)||typeof r!="number"||r%1!=0)return NaN;let n=t.toString().split("e");return n=(t=Math[e](+(n[0]+"e"+(n[1]?+n[1]-r:-r)))).toString().split("e"),+(n[0]+"e"+(n[1]?+n[1]+r:r))}function xb(e){return ac(kC(e),0,255)}function Sb(e,t){const r=e.toString(16).padStart(2,"0");return t?r.slice(0,1):r}let Bw=class ti{static blendColors(t,r,n,i=new ti){return i.r=Math.round(t.r+(r.r-t.r)*n),i.g=Math.round(t.g+(r.g-t.g)*n),i.b=Math.round(t.b+(r.b-t.b)*n),i.a=t.a+(r.a-t.a)*n,i._sanitize()}static fromRgb(t,r){const n=kJ(t);return n?ti.fromArray(n,r):null}static fromHex(t,r=new ti){const n=CJ(t);return n?ti.fromArray(n,r):null}static fromArray(t,r=new ti){return r._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(r.a)&&(r.a=1),r._sanitize()}static fromString(t,r){const n=RJ(t);return n?ti.fromArray(n,r):null}static fromJSON(t){return t!=null?new ti([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return t!=null?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return t!=null?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return typeof t=="string"?ti.fromString(t,this):Array.isArray(t)?ti.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof ti||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){const r=t?.capitalize??!1,n=t?.digits??6,i=n===3||n===4,o=n===4||n===8,s=`#${Sb(this.r,i)}${Sb(this.g,i)}${Sb(this.b,i)}${o?Sb(Math.round(255*this.a),i):""}`;return r?s.toUpperCase():s}toCss(t=!1){const r=this.r+", "+this.g+", "+this.b;return t?`rgba(${r}, ${this.a})`:`rgb(${r})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=ti.AlphaMode.ALWAYS){const r=xb(this.r),n=xb(this.g),i=xb(this.b);return t===ti.AlphaMode.ALWAYS||this.a!==1?[r,n,i,xb(255*this.a)]:[r,n,i]}clone(){return new ti(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return t!=null&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=lh(this.r),this.g=lh(this.g),this.b=lh(this.b),this.a=LJ(this.a),this}_set(t,r,n,i){this.r=t,this.g=r,this.b=n,this.a=i}};Bw.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(Bw||(Bw={}));const ke=Bw;function ye(e,t={}){const r=e instanceof Pe?e:new Pe(e,t),{alwaysWriteDefaults:n,default:i,ignoreUnknown:o=!0,name:s,nonNullable:a,readOnly:l=!1}=t;return d({type:o?r.apiValues:String,json:{type:r.jsonValues,default:i,name:s,read:!l&&{reader:r.read},write:{writer:r.write,alwaysWriteDefaults:n}},nonNullable:a,readOnly:l})}var _I;let Vw=_I=class extends z{constructor(e){super(e),this.type="none"}clone(){return new _I({type:this.type})}};u([ye({none:"none",stayAbove:"stay-above"}),d({json:{write:{isRequired:!0}}})],Vw.prototype,"type",void 0),Vw=_I=u([I("esri.ground.NavigationConstraint")],Vw);const Yhe=Symbol("GroundInstance");function Q_(e){const t=kC(100*(1-e));return Math.max(0,Math.min(t,100))}function Vg(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}var ID,$I,wB;let Aa=$I=(wB=class extends z.JSONSupportMixin(hi){constructor(e){super(e),this[ID]=!0,this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new Te;const t=n=>{n.parent&&n.parent!==this&&"remove"in n.parent&&n.parent.remove(n),n.parent=this,n.type!=="elevation"&&n.type!=="base-elevation"&&ce.getLogger(this).error(`Layer '${n.title}, id:${n.id}' of type '${n.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},r=n=>{n.parent=null};this.addHandles([this.layers.on("after-add",n=>t(n.item)),this.layers.on("after-remove",n=>r(n.item))])}initialize(){this.when().catch(e=>{Ao(e)||ce.getLogger(this).error("#load()","Failed to load ground",e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.layers.removeAll();for(const t of e)_o(t);this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}get layers(){return this._get("layers")}set layers(e){this._set("layers",Nh(e,this._get("layers")))}writeLayers(e,t,r,n){const i=[];e&&(n={...n,layerContainerType:"ground"},e.forEach(o=>{if("write"in o){const s={};uae(o)().write(s,n)&&i.push(s)}else n?.messages&&n.messages.push(new Z("layer:unsupported",`Layers (${o.title}, ${o.id}) of type '${o.declaredClass}' cannot be persisted in the ground`,{layer:o}))})),t.layers=i}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return U_(this,e=>{e(this.layers)})}async queryElevation(e,t){await this.load({signal:t?.signal});const{ElevationQuery:r}=await ue(()=>import("./ElevationQuery-8167efcc.js"),["assets/ElevationQuery-8167efcc.js","assets/TileKey-e7ec6ed7.js"]);kn(t);const n=new r,i=this.layers.filter(AD).toArray();return n.queryAll(i,e,t)}async createElevationSampler(e,t){await this.load({signal:t?.signal});const{ElevationQuery:r}=await ue(()=>import("./ElevationQuery-8167efcc.js"),["assets/ElevationQuery-8167efcc.js","assets/TileKey-e7ec6ed7.js"]);kn(t);const n=new r,i=this.layers.filter(AD).toArray();return n.createSamplerAll(i,e,t)}clone(){const e={opacity:this.opacity,surfaceColor:D(this.surfaceColor),navigationConstraint:D(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new $I({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve()}async _loadLayersFromJSON(e,t,r){const n=t?.origin||"web-scene",i=t?.portal||null,o=t?.url||null,{populateOperationalLayers:s}=await ue(()=>import("./layersCreator-eddff4d8.js"),["assets/layersCreator-eddff4d8.js","assets/loadUtils-8b4d1e2c.js","assets/fetchService-05f74a69.js","assets/associatedFeatureServiceUtils-a638208b.js","assets/lazyLayerLoader-bfd7bb14.js","assets/portalLayers-b0abf018.js"]);kn(r);const a=[];if(e.layers&&Array.isArray(e.layers)){const l={context:{origin:n,url:o,portal:i,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};a.push(s(this.layers,e.layers,l))}await Promise.allSettled(a)}},ID=Yhe,wB);function Qhe(e){return e&&"createElevationSampler"in e}function AD(e){return e.type==="elevation"||Qhe(e)}u([d({json:{read:!1,write:{isRequired:!0}}})],Aa.prototype,"layers",null),u([re("layers")],Aa.prototype,"writeLayers",null),u([d({readOnly:!0})],Aa.prototype,"resourceInfo",void 0),u([d({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:ze,read:{reader:Vg,source:"transparency"},write:{writer:(e,t)=>{t.transparency=Q_(e)},target:"transparency"}}})],Aa.prototype,"opacity",void 0),u([d({type:ke,json:{type:[ze],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],Aa.prototype,"surfaceColor",void 0),u([d({type:Vw,json:{write:!0}})],Aa.prototype,"navigationConstraint",void 0),Aa=$I=u([I("esri.Ground")],Aa);const qS=Aa;let _u=class extends Te{constructor(t){super(t),this.getCollections=null}initialize(){this.addHandles(mW(()=>this._refresh(),K_))}destroy(){this.getCollections=null}_refresh(){const t=this.getCollections!=null?this.getCollections():null;if(t==null)return void this.removeAll();let r=0;for(const n of t)n!=null&&(r=this._processCollection(r,n));this.splice(r)}_createNewInstance(t){return new Te(t)}_processCollection(t,r){if(!r)return t;const n=this.itemFilterFunction??(i=>!!i);for(const i of r)if(i){if(n(i)){const o=this.indexOf(i,t);o>=0?o!==t&&this.reorder(i,t):this.add(i,t),++t}if(this.getChildrenFunction){const o=this.getChildrenFunction(i);if(Array.isArray(o))for(const s of o)t=this._processCollection(t,s);else t=this._processCollection(t,o)}}return t}};u([d()],_u.prototype,"getCollections",void 0),u([d()],_u.prototype,"getChildrenFunction",void 0),u([d()],_u.prototype,"itemFilterFunction",void 0),_u=u([I("esri.core.CollectionFlattener")],_u);const BJ=e=>{let t=class extends e{clone(){const r=Yn(this);sle(r,"unable to clone instance of non-accessor class");const n=r.metadata,i=r.store,o={},s=new Map;for(const l in n){const c=n[l],p=i?.originOf(l),h=c.clonable;if(c.readOnly||h===!1||p!==Re.USER&&p!==Re.DEFAULTS&&p!==Re.WEB_MAP&&p!==Re.WEB_SCENE)continue;const y=this[l];let m=null;m=typeof h=="function"?h(y):h==="reference"?y:wj(y),y!=null&&m==null||(p===Re.DEFAULTS?s.set(l,m):o[l]=m)}const a=new(Object.getPrototypeOf(this)).constructor(o);if(s.size){const l=Yn(a)?.store;if(l)for(const[c,p]of s)l.set(c,p,Re.DEFAULTS)}return a}};return t=u([I("esri.core.Clonable")],t),t};let qm=class extends BJ(dt){};qm=u([I("esri.core.Clonable")],qm),function(e){e.ClonableMixin=BJ}(qm||(qm={}));const Se=qm,Xhe="randomUUID"in crypto;function T1(){if(Xhe)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=r=>e[r].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}function mZe(){return`{${T1().toUpperCase()}}`}function eye(){return`{${T1()}}`}function tye(e){const t=e.toUpperCase();return e[0]!=="{"?`{${t}}`:t}const Np={Base64:0,Hex:1,String:2,Raw:3},uh=8,VJ=(1<<uh)-1;function Pu(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function rye(e){const t=[];for(let r=0,n=e.length*uh;r<n;r+=uh)t[r>>5]|=(e.charCodeAt(r/uh)&VJ)<<r%32;return t}function nye(e){const t=[];for(let r=0,n=32*e.length;r<n;r+=uh)t.push(String.fromCharCode(e[r>>5]>>>r%32&VJ));return t.join("")}function iye(e){const t="0123456789abcdef",r=[];for(let n=0,i=4*e.length;n<i;n++)r.push(t.charAt(e[n>>2]>>n%4*8+4&15)+t.charAt(e[n>>2]>>n%4*8&15));return r.join("")}function oye(e){const t="=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=[];for(let i=0,o=4*e.length;i<o;i+=3){const s=(e[i>>2]>>i%4*8&255)<<16|(e[i+1>>2]>>(i+1)%4*8&255)<<8|e[i+2>>2]>>(i+2)%4*8&255;for(let a=0;a<4;a++)8*i+6*a>32*e.length?n.push(t):n.push(r.charAt(s>>6*(3-a)&63))}return n.join("")}function sye(e,t){return e<<t|e>>>32-t}function X_(e,t,r,n,i,o){return Pu(sye(Pu(Pu(t,e),Pu(n,o)),i),r)}function gn(e,t,r,n,i,o,s){return X_(t&r|~t&n,e,t,i,o,s)}function vn(e,t,r,n,i,o,s){return X_(t&n|r&~n,e,t,i,o,s)}function bn(e,t,r,n,i,o,s){return X_(t^r^n,e,t,i,o,s)}function wn(e,t,r,n,i,o,s){return X_(r^(t|~n),e,t,i,o,s)}function aye(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;let r=1732584193,n=-271733879,i=-1732584194,o=271733878;for(let s=0;s<e.length;s+=16){const a=r,l=n,c=i,p=o;r=gn(r,n,i,o,e[s],7,-680876936),o=gn(o,r,n,i,e[s+1],12,-389564586),i=gn(i,o,r,n,e[s+2],17,606105819),n=gn(n,i,o,r,e[s+3],22,-1044525330),r=gn(r,n,i,o,e[s+4],7,-176418897),o=gn(o,r,n,i,e[s+5],12,1200080426),i=gn(i,o,r,n,e[s+6],17,-1473231341),n=gn(n,i,o,r,e[s+7],22,-45705983),r=gn(r,n,i,o,e[s+8],7,1770035416),o=gn(o,r,n,i,e[s+9],12,-1958414417),i=gn(i,o,r,n,e[s+10],17,-42063),n=gn(n,i,o,r,e[s+11],22,-1990404162),r=gn(r,n,i,o,e[s+12],7,1804603682),o=gn(o,r,n,i,e[s+13],12,-40341101),i=gn(i,o,r,n,e[s+14],17,-1502002290),n=gn(n,i,o,r,e[s+15],22,1236535329),r=vn(r,n,i,o,e[s+1],5,-165796510),o=vn(o,r,n,i,e[s+6],9,-1069501632),i=vn(i,o,r,n,e[s+11],14,643717713),n=vn(n,i,o,r,e[s],20,-373897302),r=vn(r,n,i,o,e[s+5],5,-701558691),o=vn(o,r,n,i,e[s+10],9,38016083),i=vn(i,o,r,n,e[s+15],14,-660478335),n=vn(n,i,o,r,e[s+4],20,-405537848),r=vn(r,n,i,o,e[s+9],5,568446438),o=vn(o,r,n,i,e[s+14],9,-1019803690),i=vn(i,o,r,n,e[s+3],14,-187363961),n=vn(n,i,o,r,e[s+8],20,1163531501),r=vn(r,n,i,o,e[s+13],5,-1444681467),o=vn(o,r,n,i,e[s+2],9,-51403784),i=vn(i,o,r,n,e[s+7],14,1735328473),n=vn(n,i,o,r,e[s+12],20,-1926607734),r=bn(r,n,i,o,e[s+5],4,-378558),o=bn(o,r,n,i,e[s+8],11,-2022574463),i=bn(i,o,r,n,e[s+11],16,1839030562),n=bn(n,i,o,r,e[s+14],23,-35309556),r=bn(r,n,i,o,e[s+1],4,-1530992060),o=bn(o,r,n,i,e[s+4],11,1272893353),i=bn(i,o,r,n,e[s+7],16,-155497632),n=bn(n,i,o,r,e[s+10],23,-1094730640),r=bn(r,n,i,o,e[s+13],4,681279174),o=bn(o,r,n,i,e[s],11,-358537222),i=bn(i,o,r,n,e[s+3],16,-722521979),n=bn(n,i,o,r,e[s+6],23,76029189),r=bn(r,n,i,o,e[s+9],4,-640364487),o=bn(o,r,n,i,e[s+12],11,-421815835),i=bn(i,o,r,n,e[s+15],16,530742520),n=bn(n,i,o,r,e[s+2],23,-995338651),r=wn(r,n,i,o,e[s],6,-198630844),o=wn(o,r,n,i,e[s+7],10,1126891415),i=wn(i,o,r,n,e[s+14],15,-1416354905),n=wn(n,i,o,r,e[s+5],21,-57434055),r=wn(r,n,i,o,e[s+12],6,1700485571),o=wn(o,r,n,i,e[s+3],10,-1894986606),i=wn(i,o,r,n,e[s+10],15,-1051523),n=wn(n,i,o,r,e[s+1],21,-2054922799),r=wn(r,n,i,o,e[s+8],6,1873313359),o=wn(o,r,n,i,e[s+15],10,-30611744),i=wn(i,o,r,n,e[s+6],15,-1560198380),n=wn(n,i,o,r,e[s+13],21,1309151649),r=wn(r,n,i,o,e[s+4],6,-145523070),o=wn(o,r,n,i,e[s+11],10,-1120210379),i=wn(i,o,r,n,e[s+2],15,718787259),n=wn(n,i,o,r,e[s+9],21,-343485551),r=Pu(r,a),n=Pu(n,l),i=Pu(i,c),o=Pu(o,p)}return[r,n,i,o]}function ck(e,t=Np.Hex){const r=t||Np.Base64,n=aye(rye(e),e.length*uh);switch(r){case Np.Raw:return n;case Np.Hex:return iye(n);case Np.String:return nye(n);case Np.Base64:return oye(n)}}function lye(e){return e&&"getAtOrigin"in e&&"originOf"in e}function TI(e){return dk[uye(e)]||dye}function uye(e){return e.type==="json"?"application/json":e.type==="blob"?e.blob.type:cye(e.url)}function cye(e){const t=AG(e);return OI[t]||qJ}const dk={},qJ="text/plain",dye=dk[qJ],OI={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const e in OI)dk[OI[e]]=e;function pye(e){const t=e?.origins??[void 0];return(r,n)=>{const i=fye(e,r,n);for(const o of t){const s=RC(r,o,n);for(const a in i)s[a]=i[a]}}}function fye(e,t,r){if(e?.type==="resource")return hye(e,t,r);switch(e?.type??"other"){case"other":return{read:!0,write:!0};case"url":{const{read:n,write:i}=fle;return{read:n,write:i}}}}function hye(e,t,r){const n=v1(t,r);return{type:String,read:(i,o,s)=>{const a=M_(i,o,s);return n.type===String?a:typeof n.type=="function"?new n.type({url:a}):void 0},write:{isRequired:n.json?.write?.isRequired,writer(i,o,s,a){if(!a?.resources)return typeof i=="string"?void(o[s]=Zd(i,a)):void(o[s]=i.write({},a));const l=gye(i),c=Zd(l,{...a,verifyItemRelativeUrls:a?.verifyItemRelativeUrls?{writtenUrls:a.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},Ih.NO),p=n.type!==String&&(!lye(this)||a?.origin&&this.originIdOf(r)>pl(a.origin)),h={object:this,propertyName:r,value:i,targetUrl:c,dest:o,targetPropertyName:s,context:a,params:e};a?.portalItem&&c&&!bi(c)?p&&e?.contentAddressed?EI(h):p?yye(h):mye(h):a?.portalItem&&(c==null||FG(c)!=null||_y(c)||p)?EI(h):o[s]=c}}}}function EI(e){const{targetUrl:t,params:r,value:n,context:i,dest:o,targetPropertyName:s}=e;if(!i.portalItem)return;const a=UG(t),l=WJ(n,t,i);if(r?.contentAddressed&&l.type!=="json")return void i.messages?.push(new Z("persistable:contentAddressingUnsupported",`Property "${s}" is trying to serializing a resource with content of type ${l.type} with content addressing. Content addressing is only supported for json resources.`,{content:l}));const c=r?.contentAddressed&&l.type==="json"?ck(l.jsonString):a?.filename??T1(),p=Hd(r?.prefix??a?.prefix,c),h=`${p}.${TI(l)}`;if(r?.contentAddressed&&i.resources&&l.type==="json"){const g=i.resources.toKeep.find(({resource:b})=>b.path===h)??i.resources.toAdd.find(({resource:b})=>b.path===h);if(g)return void(o[s]=g.resource.itemRelativeUrl)}const y=i.portalItem.resourceFromPath(h);_y(t)&&i.resources&&i.resources.pendingOperations.push(Vae(t).then(g=>{y.path=`${p}.${TI({type:"blob",blob:g})}`,o[s]=y.itemRelativeUrl}).catch(()=>{}));const m=r?.compress??!1;i.resources&&GJ({...e,resource:y,content:l,compress:m,updates:i.resources.toAdd}),o[s]=y.itemRelativeUrl}function yye(e){const{context:t,targetUrl:r,params:n,value:i,dest:o,targetPropertyName:s}=e;if(!t.portalItem)return;const a=t.portalItem.resourceFromPath(r),l=WJ(i,r,t),c=TI(l),p=AG(a.path),h=n?.compress??!1;c===p?(t.resources&&GJ({...e,resource:a,content:l,compress:h,updates:t.resources.toUpdate}),o[s]=r):EI(e)}function mye({context:e,targetUrl:t,dest:r,targetPropertyName:n}){e.portalItem&&e.resources&&(e.resources.toKeep.push({resource:e.portalItem.resourceFromPath(t),compress:!1}),r[n]=t)}function GJ({object:e,propertyName:t,updates:r,resource:n,content:i,compress:o}){const s=a=>{vye(e,t,a)};r.push({resource:n,content:i,compress:o,finish:s})}function WJ(e,t,r){return typeof e=="string"?{type:"url",url:t}:{type:"json",jsonString:JSON.stringify(e.toJSON(r))}}function gye(e){return e==null?null:typeof e=="string"?e:e.url}function vye(e,t,r){typeof e[t]=="string"?e[t]=r.url:e[t].url=r.url}let qw=class extends Se.ClonableMixin(z){constructor(t){super(t),this.color=null}};u([d({type:ke,json:{type:[ze],write:!0}})],qw.prototype,"color",void 0),qw=u([I("esri.effects.FocusAreaOutline")],qw);const bye=qw;function vZe(e){const t=[];for(e.reset();e.nextPath();){const r=[];for(;e.nextPoint();)r.push([e.x,e.y]);t.push(r)}return e.reset(),t}function wye(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}var GS;(function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"})(GS||(GS={}));function pk(e,t){const r=t[0]-e[0],n=t[1]-e[1];if(e.length>2&&t.length>2){const i=e[2]-t[2];return Math.sqrt(r*r+n*n+i*i)}return Math.sqrt(r*r+n*n)}function xye(e,t,r){const n=e[0]+r*(t[0]-e[0]),i=e[1]+r*(t[1]-e[1]);return e.length>2&&t.length>2?[n,i,e[2]+r*(t[2]-e[2])]:[n,i]}function bZe(e,t,r,n){const[i,o]=t,[s,a]=r,[l,c]=n,p=l-s,h=c-a,y=p*p+h*h,m=(i-s)*p+(o-a)*h,g=Math.min(1,Math.max(0,m/y));return e[0]=s+p*g,e[1]=a+h*g,e}function wZe(e,t,r,n,i,o){let s=r,a=n,l=i-s,c=o-a;if(l!==0||c!==0){const p=((e-s)*l+(t-a)*c)/(l*l+c*c);p>1?(s=i,a=o):p>0&&(s+=l*p,a+=c*p)}return l=e-s,c=t-a,l*l+c*c}function HJ(e,t){return xye(e,t,.5)}function xZe(e){const t=e.length;let r=0;for(let n=0;n<t-1;++n)r+=pk(e[n],e[n+1]);return r}function JJ(e,t=GS.X,r=GS.Y){let n=0;const i=e.length;let o=e[0];for(let s=1;s<i;s++){const a=e[s];n+=(a[t]-o[t])*(a[r]+o[r]),o=a}if(ZJ(e)){const s=e[0];n+=(s[t]-o[t])*(s[r]+o[r])}return n>=0}function ZJ(e){const t=e.length;return t>0&&!T_(e[0],e[t-1])}function SZe(e){"rings"in e&&(Sye(e),_ye(e))}function Sye(e){if("rings"in e)for(const t of e.rings)ZJ(t)&&t.push(t[0].slice())}function _ye(e){if(!("rings"in e)||e.rings.length===0||JJ(e.rings[0]))return!1;for(const t of e.rings)t.reverse();return!0}function _Ze(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function $ye(e){return e?Tye(e.rings,e.hasZ??!1):null}function Tye(e,t){if(!e?.length)return null;const r=[],n=[],i=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let o=0,s=e.length;o<s;o++){const a=KJ(e[o],t,i);a&&n.push(a)}if(n.sort((o,s)=>{let a=o[2]-s[2];return a===0&&t&&(a=o[4]-s[4]),a}),n.length&&(r[0]=n[0][0],r[1]=n[0][1],t&&(r[2]=n[0][3]),(r[0]<i[0]||r[0]>i[1]||r[1]<i[2]||r[1]>i[3]||t&&(r[2]<i[4]||r[2]>i[5]))&&(r.length=0)),!r.length){const o=e[0]&&e[0].length?Oye(e[0],t):null;if(!o)return null;r[0]=o[0],r[1]=o[1],t&&o.length>2&&(r[2]=o[2])}return r}function KJ(e,t,r){let n=0,i=0,o=0,s=0,a=0;const l=e.length?e[0][0]:0,c=e.length?e[0][1]:0,p=e.length&&t?e[0][2]:0;for(let y=0;y<e.length;y++){const m=e[y],g=e[(y+1)%e.length],[b,w,x]=m,_=b-l,S=w-c,[O,$,T]=g,j=O-l,A=$-c,N=_*A-j*S;if(s+=N,n+=(_+j)*N,i+=(S+A)*N,t&&m.length>2&&g.length>2){const k=x-p,C=T-p,F=_*C-j*k;o+=(k+C)*F,a+=F}b<r[0]&&(r[0]=b),b>r[1]&&(r[1]=b),w<r[2]&&(r[2]=w),w>r[3]&&(r[3]=w),t&&(x<r[4]&&(r[4]=x),x>r[5]&&(r[5]=x))}if(s>0&&(s*=-1),a>0&&(a*=-1),!s)return null;s*=.5,a*=.5;const h=[n/(6*s)+l,i/(6*s)+c,s];return t&&(r[4]===r[5]||a===0?(h[3]=(r[4]+r[5])/2,h[4]=0):(h[3]=o/(6*a)+p,h[4]=a)),h}function $Ze(e,t){let r=0,n=0,i=0;e.nextPoint();const o=e.pathSize?e.x:0,s=e.pathSize?e.y:0;for(let a=0;a<e.pathSize;a++){e.seekInPath(a);const l=[e.x,e.y];e.seekInPath((a+1)%e.pathSize);const c=[e.x,e.y],[p,h]=l,y=p-o,m=h-s,[g,b]=c,w=g-o,x=b-s,_=y*x-w*m;i+=_,r+=(y+w)*_,n+=(m+x)*_,p<t[0]&&(t[0]=p),p>t[1]&&(t[1]=p),h<t[2]&&(t[2]=h),h>t[3]&&(t[3]=h)}return i>0&&(i*=-1),i?(i*=.5,[r/(6*i)+o,n/(6*i)+s,i]):null}function Oye(e,t){const r=t?[0,0,0]:[0,0],n=t?[0,0,0]:[0,0];let i=0,o=0,s=0,a=0;for(let l=0,c=e.length;l<c-1;l++){const p=e[l],h=e[l+1];if(p&&h){r[0]=p[0],r[1]=p[1],n[0]=h[0],n[1]=h[1],t&&p.length>2&&h.length>2&&(r[2]=p[2],n[2]=h[2]);const y=pk(r,n);if(y){i+=y;const m=HJ(p,h);o+=y*m[0],s+=y*m[1],t&&m.length>2&&(a+=y*m[2])}}}return i>0?t?[o/i,s/i,a/i]:[o/i,s/i]:e.length?e[0]:null}function Eye(e){const{hasZ:t,totalSize:r}=e;if(r===0)return null;const n=[],i=[],o=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const s=KJ(wye(e),e.hasZ,o);s&&i.push(s)}if(i.sort((s,a)=>{let l=s[2]-a[2];return l===0&&t&&(l=s[4]-a[4]),l}),i.length&&(n[0]=i[0][0],n[1]=i[0][1],t&&(n[2]=i[0][3]),(n[0]<o[0]||n[0]>o[1]||n[1]<o[2]||n[1]>o[3]||t&&(n[2]<o[4]||n[2]>o[5]))&&(n.length=0)),!n.length){e.reset(),e.nextPath();const s=e.pathSize?jye(e):null;if(!s)return null;n[0]=s[0],n[1]=s[1],t&&s.length>2&&(n[2]=s[2])}return n}function jye(e){const{hasZ:t}=e,r=t?[0,0,0]:[0,0],n=t?[0,0,0]:[0,0];let i=0,o=0,s=0,a=0;if(e.nextPoint()){let l=e.x,c=e.y,p=e.z;for(;e.nextPoint();){const h=e.x,y=e.y,m=e.z;r[0]=l,r[1]=c,n[0]=h,n[1]=y,t&&(r[2]=p,n[2]=m);const g=pk(r,n);if(g){i+=g;const b=HJ(r,n);o+=g*b[0],s+=g*b[1],t&&b.length>2&&(a+=g*b[2])}l=h,c=y,p=m}}return i>0?t?[o/i,s/i,a/i]:[o/i,s/i]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const Iye=1e-6;function TZe(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<Iye){const i=Eye(e);return i?[i[0],i[1]]:null}const r=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const n=[e.x,e.y];for(e.reset();e.nextPath();)Pye(r,n,e);return r[0]*=1/t,r[1]*=1/t,r[0]+=n[0],r[1]+=n[1],r}const Aye=1/3;function Pye(e,t,r){if(!e||!r||r.pathSize<3)return null;r.nextPoint();const n=r.x,i=r.y;r.nextPoint();let o,s=r.x-n,a=r.y-i,l=0,c=0;for(;r.nextPoint();)l=r.x-n,c=r.y-i,o=.5*Aye*(l*a-c*s),e[0]+=o*(s+l),e[1]+=o*(a+c),s=l,a=c;const p=r.getCurrentRingArea(),h=[n,i];return h[0]-=t[0],h[1]-=t[1],h[0]*=p,h[1]*=p,e[0]+=h[0],e[1]+=h[1],e}function O1(e=Cye){return[e[0],e[1],e[2],e[3]]}function YJ(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function OZe(e,t,r,n,i=O1()){return i[0]=e,i[1]=t,i[2]=r,i[3]=n,i}function EZe(e,t=O1()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function jZe(e,t,r=new Ue){return r.xmin=e[0],r.ymin=e[1],r.xmax=e[2],r.ymax=e[3],r.spatialReference=t,r}function IZe(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function AZe(e,t,r){if(t!=null)if("length"in t)jI(t)?(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[2]),r[3]=Math.max(e[3],t[3])):t.length!==2&&t.length!==3||(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[0]),r[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":r[0]=Math.min(e[0],t.xmin),r[1]=Math.min(e[1],t.ymin),r[2]=Math.max(e[2],t.xmax),r[3]=Math.max(e[3],t.ymax);break;case"point":r[0]=Math.min(e[0],t.x),r[1]=Math.min(e[1],t.y),r[2]=Math.max(e[2],t.x),r[3]=Math.max(e[3],t.y)}else YJ(r,e)}function Nye(e){return e==null||e[0]>=e[2]?0:e[2]-e[0]}function Mye(e){return e==null||e[1]>=e[3]?0:e[3]-e[1]}function PZe(e){return Nye(e)*Mye(e)}function NZe(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function MZe(e,t,r){return t>=e[0]&&r>=e[1]&&t<=e[2]&&r<=e[3]}function CZe(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function kZe(e,t,r){return Math.max(t[0],e[0])-r<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])-r<=Math.min(t[3],e[3])}function RZe(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function LZe(e){return e?YJ(e,PD):O1(PD)}function jI(e){return e!=null&&e.length===4}function DZe(e,t){return jI(e)&&jI(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const PD=[1/0,1/0,-1/0,-1/0],Cye=[0,0,0,0];function QJ(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function XJ(e){return e.points!==void 0}function eZ(e){return e.x!==void 0&&e.y!==void 0}function tZ(e){return e.paths!==void 0}function rZ(e){return e.rings!==void 0}function nZ(e){function t(r,n){return r==null?n:n==null?r:e(r,n)}return t}const Nu=nZ(Math.min),Mu=nZ(Math.max);function FZe(e,t){return tZ(t)?Lh(e,t.paths,!1,!1):rZ(t)?Lh(e,t.rings,!1,!1):XJ(t)?fk(e,t.points,!1,!1,!1,!1):QJ(t)?iZ(e,t):(eZ(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function UZe(e){let t,r,n,i;for(e.reset(),t=n=1/0,r=i=-1/0;e.nextPath();){const o=kye(e);t=Math.min(o[0],t),n=Math.min(o[1],n),r=Math.max(o[2],r),i=Math.max(o[3],i)}return O1([t,n,r,i])}function kye(e){let t,r,n,i;for(t=n=1/0,r=i=-1/0;e.nextPoint();)t=Math.min(e.x,t),n=Math.min(e.y,n),r=Math.max(e.x,r),i=Math.max(e.y,i);return O1([t,n,r,i])}function zZe(e,t){return tZ(t)?Lh(e,t.paths,!0,!1):rZ(t)?Lh(e,t.rings,!0,!1):XJ(t)?fk(e,t.points,!0,!1,!0,!1):QJ(t)?iZ(e,t,!0,!1,!0,!1):(eZ(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function Lh(e,t,r,n){const i=r?3:2;if(!t.length||!t[0].length)return null;let o,s,a,l,[c,p]=t[0][0],[h,y]=t[0][0];for(let m=0;m<t.length;m++){const g=t[m];for(let b=0;b<g.length;b++){const w=g[b],[x,_]=w;if(c=Nu(c,x),p=Nu(p,_),h=Mu(h,x),y=Mu(y,_),r&&w.length>2){const S=w[2];o=Nu(o,S),s=Mu(s,S)}if(n&&w.length>i){const S=w[i];a=Nu(o,S),l=Mu(s,S)}}}return r?n?(e[0]=c,e[1]=p,e[2]=o,e[3]=a,e[4]=h,e[5]=y,e[6]=s,e[7]=l,e.length=8,e):(e[0]=c,e[1]=p,e[2]=o,e[3]=h,e[4]=y,e[5]=s,e.length=6,e):n?(e[0]=c,e[1]=p,e[2]=a,e[3]=h,e[4]=y,e[5]=l,e.length=6,e):(e[0]=c,e[1]=p,e[2]=h,e[3]=y,e.length=4,e)}function iZ(e,t,r,n,i,o){const s=t.xmin,a=t.xmax,l=t.ymin,c=t.ymax;let p=t.zmin,h=t.zmax,y=t.mmin,m=t.mmax;return i?(p=p||0,h=h||0,o?(y=y||0,m=m||0,e[0]=s,e[1]=l,e[2]=p,e[3]=y,e[4]=a,e[5]=c,e[6]=h,e[7]=m,e):(e[0]=s,e[1]=l,e[2]=p,e[3]=a,e[4]=c,e[5]=h,e)):o?(y=y||0,m=m||0,e[0]=s,e[1]=l,e[2]=y,e[3]=a,e[4]=c,e[5]=m,e):(e[0]=s,e[1]=l,e[2]=a,e[3]=c,e)}function fk(e,t,r,n,i,o){const s=r?3:2,a=n&&o,l=r&&i;if(!t.length||!t[0].length)return null;let c,p,h,y,[m,g]=t[0],[b,w]=t[0];for(let x=0;x<t.length;x++){const _=t[x],[S,O]=_;if(m=Nu(m,S),g=Nu(g,O),b=Mu(b,S),w=Mu(w,O),l&&_.length>2){const $=_[2];c=Nu(c,$),p=Mu(p,$)}if(a&&_.length>s){const $=_[s];h=Nu(c,$),y=Mu(p,$)}}return i?(c=c||0,p=p||0,o?(h=h||0,y=y||0,e[0]=m,e[1]=g,e[2]=c,e[3]=h,e[4]=b,e[5]=w,e[6]=p,e[7]=y,e):(e[0]=m,e[1]=g,e[2]=c,e[3]=b,e[4]=w,e[5]=p,e)):o?(h=h||0,y=y||0,e[0]=m,e[1]=g,e[2]=h,e[3]=b,e[4]=w,e[5]=y,e):(e[0]=m,e[1]=g,e[2]=b,e[3]=w,e)}function Rye(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function Lye(e){return e.points!==void 0}function Dye(e){return e.x!==void 0&&e.y!==void 0}function Fye(e){return e.paths!==void 0}function Uye(e){return e.rings!==void 0}const hk=[];function oZ(e,t,r,n){return{xmin:e,ymin:t,xmax:r,ymax:n}}function sZ(e,t,r,n,i,o){return{xmin:e,ymin:t,zmin:r,xmax:n,ymax:i,zmax:o}}function aZ(e,t,r,n,i,o){return{xmin:e,ymin:t,mmin:r,xmax:n,ymax:i,mmax:o}}function lZ(e,t,r,n,i,o,s,a){return{xmin:e,ymin:t,zmin:r,mmin:n,xmax:i,ymax:o,zmax:s,mmax:a}}function yk(e,t=!1,r=!1){return t?r?lZ(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):sZ(e[0],e[1],e[2],e[3],e[4],e[5]):r?aZ(e[0],e[1],e[2],e[3],e[4],e[5]):oZ(e[0],e[1],e[2],e[3])}function BZe(e){return e?Rye(e)?e:Dye(e)?Bye(e):Uye(e)?uZ(e):Fye(e)?cZ(e):Lye(e)?zye(e):null:null}function zye(e){const{hasZ:t,hasM:r,points:n}=e;return yk(fk(hk,n,t??!1,r??!1),t,r)}function Bye(e){const{x:t,y:r,z:n,m:i}=e,o=i!=null;return n!=null?o?lZ(t,r,n,i,t,r,n,i):sZ(t,r,n,t,r,n):o?aZ(t,r,i,t,r,i):oZ(t,r,t,r)}function uZ(e){const{hasZ:t,hasM:r,rings:n}=e,i=Lh(hk,n,t??!1,r??!1);return i?yk(i,t,r):null}function cZ(e){const{hasZ:t,hasM:r,paths:n}=e,i=Lh(hk,n,t??!1,r??!1);return i?yk(i,t,r):null}function Dh(e,t,r=!1){let{hasM:n,hasZ:i}=e;Array.isArray(t)?t.length!==4||n||i?t.length===3&&r&&!n?(i=!0,n=!1):t.length===3&&n&&i&&(n=!1,i=!1):(n=!0,i=!0):(i=!i&&t.hasZ&&(!n||t.hasM),n=!n&&t.hasM&&(!i||t.hasZ)),e.hasZ=i,e.hasM=n}var Gw;function ND(e){return!Array.isArray(e[0])}function Vye(e){return typeof e[0]?.[0]=="number"}function qye(e){if(!e)return;let{rings:t,hasM:r,hasZ:n,spatialReference:i}=e;switch(t??(t=[]),Vye(t)&&(t=[t]),t[0]?.[0]?.length){case 4:n??(n=!0),r??(r=!0);break;case 3:n??(n=r!==!0),r??(r=!n);break;default:n??(n=!1),r??(r=!1)}return i??(i=be.WGS84),{...e,hasM:r,hasZ:n,rings:t,spatialReference:i}}let dr=Gw=class extends $n{static fromExtent(e){const t=e.clone().normalize(),{spatialReference:r}=e;let n=!1,i=!1;for(const s of t)s.hasZ&&(n=!0),s.hasM&&(i=!0);const o={rings:t.map(s=>{const a=[[s.xmin,s.ymin],[s.xmin,s.ymax],[s.xmax,s.ymax],[s.xmax,s.ymin],[s.xmin,s.ymin]];if(n&&s.hasZ){const l=s.zmin+.5*(s.zmax-s.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(i&&s.hasM){const l=s.mmin+.5*(s.mmax-s.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a}),spatialReference:r};return n&&(o.hasZ=!0),i&&(o.hasM=!0),new Gw(o)}constructor(e){super(qye(e)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){const e=$ye(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new Ve;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}writeCurveRings(e,t){t.curveRings=D(e)}get extent(){const e=uZ(this),{spatialReference:t}=this;return e?new Ue({...e,spatialReference:t}):null}get isSelfIntersecting(){return Gle(ce.getLogger(this),"isSelfIntersecting",{replacement:"Please use simplifyOperator.isSimple() instead.",version:"4.33",warnOnce:!0}),zde(this.rings)}writeRings(e,t){t.rings=D(this.rings)}addRing(e){if(!e)return;const t=this.rings,r=t.length;if(ND(e)){const n=[];for(let i=0,o=e.length;i<o;i++)n[i]=e[i].toArray();t[r]=n}else t[r]=e.slice();return this.notifyChange("rings"),this}clone(){const e=new Gw;return e.spatialReference=this.spatialReference,e.rings=D(this.rings),e.curveRings=D(this.curveRings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,r=e.spatialReference;if(t!=null!=(r!=null)||t!=null&&r!=null&&!t.equals(r)||this.rings.length!==e.rings.length)return!1;const n=([i,o,s,a],[l,c,p,h])=>i===l&&o===c&&(s==null&&p==null||s===p)&&(a==null&&h==null||a===h);for(let i=0;i<this.rings.length;i++){const o=this.rings[i],s=e.rings[i];if(!T_(o,s,n))return!1}return!0}contains(e){if(!e)return!1;const t=aH(e,this.spatialReference);return Pde(this,t??e)}isClockwise(e){const t=ND(e)?e.map(r=>this.hasZ?this.hasM?[r.x,r.y,r.z,r.m]:[r.x,r.y,r.z]:[r.x,r.y]):e;return JJ(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.rings[e][t],n=this.hasZ,i=this.hasM;return n&&!i?new Ve(r[0],r[1],r[2],void 0,this.spatialReference):i&&!n?new Ve(r[0],r[1],void 0,r[2],this.spatialReference):n&&i?new Ve(r[0],r[1],r[2],r[3],this.spatialReference):new Ve(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(Dh(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e].splice(t,0,r),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new Ve(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],r=this.spatialReference,n=t.map(i=>new Ve(i,r));return this.notifyChange("rings"),n}setPoint(e,t,r){return this._validateInputs(e,t)?(Dh(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e][t]=r,this.notifyChange("rings"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const n=this.rings[e];if(r&&(t<0||t>n.length)||!r&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}};u([d({readOnly:!0})],dr.prototype,"cache",null),u([d({readOnly:!0})],dr.prototype,"centroid",null),u([d({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],dr.prototype,"curveRings",void 0),u([re("curveRings")],dr.prototype,"writeCurveRings",null),u([d({readOnly:!0})],dr.prototype,"extent",null),u([d({readOnly:!0})],dr.prototype,"isSelfIntersecting",null),u([d({type:[[[Number]]],json:{write:{isRequired:!0}}})],dr.prototype,"rings",void 0),u([re("rings")],dr.prototype,"writeRings",null),dr=Gw=u([I("esri.geometry.Polygon")],dr),dr.prototype.toJSON.isDefaultToJSON=!0;function Py(){return[0,0,0]}function Gye(e){return[e[0],e[1],e[2]]}function Ny(e,t,r){return[e,t,r]}function Wye(e,t,r){return[e,t,r]}function Hye(e,t=Py()){const r=Math.min(3,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t}function dZ(){return Py()}function pZ(){return Ny(1,1,1)}function fZ(){return Ny(1,0,0)}function hZ(){return Ny(0,1,0)}function yZ(){return Ny(0,0,1)}const Jye=dZ(),Zye=pZ(),Kye=fZ(),Yye=hZ(),Qye=yZ();Object.freeze(Object.defineProperty({__proto__:null,ONES:Zye,UNIT_X:Kye,UNIT_Y:Yye,UNIT_Z:Qye,ZEROS:Jye,clone:Gye,create:Py,freeze:Wye,fromArray:Hye,fromValues:Ny,ones:pZ,unitX:fZ,unitY:hZ,unitZ:yZ,zeros:dZ},Symbol.toStringTag,{value:"Module"}));var II;function MD(e){return(t,r)=>t==null?r:r==null?t:e(t,r)}function Xye(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let uo=II=class extends $n{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return{};const r={};Array.isArray(e)?(r.points=e,r.spatialReference=t):Xye(e)?r.spatialReference=e:(e.points&&(r.points=e.points),e.spatialReference&&(r.spatialReference=e.spatialReference),e.hasZ&&(r.hasZ=e.hasZ),e.hasM&&(r.hasM=e.hasM));const n=r.points?.[0];return n&&(r.hasZ===void 0&&r.hasM===void 0?(r.hasZ=n.length>2,r.hasM=!1):r.hasZ===void 0?r.hasZ=n.length>3:r.hasM===void 0&&(r.hasM=n.length>3)),r}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new Ue,r=this.hasZ,n=this.hasM,i=r?3:2,o=e[0],s=MD(Math.min),a=MD(Math.max);let l,c,p,h,[y,m]=o,[g,b]=o;for(let w=0,x=e.length;w<x;w++){const _=e[w],[S,O]=_;if(y=s(y,S),m=s(m,O),g=a(g,S),b=a(b,O),r&&_.length>2){const $=_[2];l=s(l,$),p=a(p,$)}if(n&&_.length>i){const $=_[i];c=s(c,$),h=a(h,$)}}return t.xmin=y,t.ymin=m,t.xmax=g,t.ymax=b,t.spatialReference=this.spatialReference,r?(t.zmin=l,t.zmax=p):(t.zmin=void 0,t.zmax=void 0),n?(t.mmin=c,t.mmax=h):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=D(this.points)}addPoint(e){return Dh(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:D(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new II(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],r={x:t[0],y:t[1],spatialReference:this.spatialReference};let n=2;return this.hasZ&&(r.z=t[2],n=3),this.hasM&&(r.m=t[n]),new Ve(r)}removePoint(e){if(!this._validateInputs(e))return null;const t=new Ve(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(Dh(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};u([d({readOnly:!0})],uo.prototype,"cache",null),u([d()],uo.prototype,"extent",null),u([d({type:[[Number]],json:{write:{isRequired:!0}}})],uo.prototype,"points",void 0),u([re("points")],uo.prototype,"writePoints",null),uo=II=u([I("esri.geometry.Multipoint")],uo),uo.prototype.toJSON.isDefaultToJSON=!0;var AI;function eme(e){return!Array.isArray(e[0])}function tme(e){return typeof e[0]?.[0]=="number"}function rme(e){if(!e)return;let{paths:t,hasM:r,hasZ:n,spatialReference:i}=e;switch(t??(t=[]),tme(t)&&(t=[t]),t[0]?.[0]?.length){case 4:n??(n=!0),r??(r=!0);break;case 3:n??(n=r!==!0),r??(r=!n);break;default:n??(n=!1),r??(r=!1)}return i??(i=be.WGS84),{...e,hasM:r,hasZ:n,paths:t,spatialReference:i}}let Tn=AI=class extends $n{constructor(e){super(rme(e)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(e,t){t.curvePaths=D(e)}get extent(){const e=cZ(this),{spatialReference:t}=this;return e?new Ue({...e,spatialReference:t}):null}writePaths(e,t){t.paths=D(this.paths)}addPath(e){if(!e)return;const t=this.paths,r=t.length;if(eme(e)){const n=[];for(let i=0,o=e.length;i<o;i++)n[i]=e[i].toArray();t[r]=n}else t[r]=e.slice();return this.notifyChange("paths"),this}clone(){const e=new AI;return e.spatialReference=this.spatialReference,e.paths=D(this.paths),e.curvePaths=D(this.curvePaths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.paths[e][t],n=this.hasZ,i=this.hasM;return n&&!i?new Ve(r[0],r[1],r[2],void 0,this.spatialReference):i&&!n?new Ve(r[0],r[1],void 0,r[2],this.spatialReference):n&&i?new Ve(r[0],r[1],r[2],r[3],this.spatialReference):new Ve(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(Dh(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e].splice(t,0,r),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],r=this.spatialReference,n=t.map(i=>new Ve(i,r));return this.notifyChange("paths"),n}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new Ve(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(e,t,r){return this._validateInputs(e,t)?(Dh(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e][t]=r,this.notifyChange("paths"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const n=this.paths[e];if(r&&(t<0||t>n.length)||!r&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}};u([d({readOnly:!0})],Tn.prototype,"cache",null),u([d({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],Tn.prototype,"curvePaths",void 0),u([re("curvePaths")],Tn.prototype,"writeCurvePaths",null),u([d({readOnly:!0})],Tn.prototype,"extent",null),u([d({type:[[[Number]]],json:{write:{isRequired:!0}}})],Tn.prototype,"paths",void 0),u([re("paths")],Tn.prototype,"writePaths",null),Tn=AI=u([I("esri.geometry.Polyline")],Tn),Tn.prototype.toJSON.isDefaultToJSON=!0;const Zl=Ht.radius,Fo=Ht.eccentricitySquared,nme={a1:Zl*Fo,a2:Zl*Fo*Zl*Fo,a3:Zl*Fo*Fo/2,a4:Zl*Fo*Zl*Fo*2.5,a5:Zl*Fo+Zl*Fo*Fo/2,a6:1-Fo};1/294.9786982,1/298.257222101,Ht.radius,Ht.flattening,1/298.257222101,nc.radius,nc.flattening,1/192.0430107526882,ca.radius,ca.flattening,1/10.2079945799458,1/43.61604095563141,ca.radius;var U;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=7]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=9]="GCSMOON2000",e[e.LON_LAT=10]="LON_LAT",e[e.PLATE_CARREE=11]="PLATE_CARREE"})(U||(U={}));const ime={[U.WGS84]:{[U.CGCS2000]:Nt,[U.GCSMARS2000]:null,[U.GCSMOON2000]:null,[U.LON_LAT]:Nt,[U.SPHERICAL_ECEF]:q0,[U.SPHERICAL_MARS_PCPF]:null,[U.SPHERICAL_MOON_PCPF]:null,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:ch,[U.PLATE_CARREE]:dh,[U.WGS84]:Nt,[U.WGS84_ECEF]:hh},[U.CGCS2000]:{[U.CGCS2000]:Nt,[U.GCSMARS2000]:null,[U.GCSMOON2000]:null,[U.LON_LAT]:Nt,[U.SPHERICAL_ECEF]:q0,[U.SPHERICAL_MARS_PCPF]:null,[U.SPHERICAL_MOON_PCPF]:null,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:ch,[U.PLATE_CARREE]:dh,[U.WGS84]:Nt,[U.WGS84_ECEF]:hh},[U.GCSMARS2000]:{[U.CGCS2000]:null,[U.GCSMARS2000]:Nt,[U.GCSMOON2000]:null,[U.LON_LAT]:Nt,[U.SPHERICAL_ECEF]:null,[U.SPHERICAL_MARS_PCPF]:RD,[U.SPHERICAL_MOON_PCPF]:null,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:null,[U.PLATE_CARREE]:null,[U.WGS84]:null,[U.WGS84_ECEF]:null},[U.GCSMOON2000]:{[U.CGCS2000]:null,[U.GCSMARS2000]:null,[U.GCSMOON2000]:Nt,[U.LON_LAT]:Nt,[U.SPHERICAL_ECEF]:null,[U.SPHERICAL_MARS_PCPF]:null,[U.SPHERICAL_MOON_PCPF]:kD,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:null,[U.PLATE_CARREE]:null,[U.WGS84]:null,[U.WGS84_ECEF]:null},[U.WEB_MERCATOR]:{[U.CGCS2000]:V0,[U.GCSMARS2000]:null,[U.GCSMOON2000]:null,[U.LON_LAT]:V0,[U.SPHERICAL_ECEF]:sme,[U.SPHERICAL_MARS_PCPF]:null,[U.SPHERICAL_MOON_PCPF]:null,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:Nt,[U.PLATE_CARREE]:ume,[U.WGS84]:V0,[U.WGS84_ECEF]:ame},[U.WGS84_ECEF]:{[U.CGCS2000]:yh,[U.GCSMARS2000]:null,[U.GCSMOON2000]:null,[U.LON_LAT]:yh,[U.SPHERICAL_ECEF]:vme,[U.SPHERICAL_MARS_PCPF]:null,[U.SPHERICAL_MOON_PCPF]:null,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:bme,[U.PLATE_CARREE]:cme,[U.WGS84]:yh,[U.WGS84_ECEF]:Nt},[U.SPHERICAL_ECEF]:{[U.CGCS2000]:fh,[U.GCSMARS2000]:null,[U.GCSMOON2000]:null,[U.LON_LAT]:fh,[U.SPHERICAL_ECEF]:Nt,[U.SPHERICAL_MARS_PCPF]:null,[U.SPHERICAL_MOON_PCPF]:null,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:yme,[U.PLATE_CARREE]:dme,[U.WGS84]:fh,[U.WGS84_ECEF]:mme},[U.SPHERICAL_MARS_PCPF]:{[U.CGCS2000]:null,[U.GCSMARS2000]:DD,[U.GCSMOON2000]:null,[U.LON_LAT]:DD,[U.SPHERICAL_ECEF]:null,[U.SPHERICAL_MARS_PCPF]:Nt,[U.SPHERICAL_MOON_PCPF]:null,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:null,[U.PLATE_CARREE]:null,[U.WGS84]:null,[U.WGS84_ECEF]:null},[U.SPHERICAL_MOON_PCPF]:{[U.CGCS2000]:null,[U.GCSMARS2000]:null,[U.GCSMOON2000]:LD,[U.LON_LAT]:LD,[U.SPHERICAL_ECEF]:null,[U.SPHERICAL_MARS_PCPF]:null,[U.SPHERICAL_MOON_PCPF]:Nt,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:null,[U.PLATE_CARREE]:null,[U.WGS84]:null,[U.WGS84_ECEF]:null},[U.UNKNOWN]:{[U.CGCS2000]:null,[U.GCSMARS2000]:null,[U.GCSMOON2000]:null,[U.LON_LAT]:null,[U.SPHERICAL_ECEF]:null,[U.SPHERICAL_MARS_PCPF]:null,[U.SPHERICAL_MOON_PCPF]:null,[U.UNKNOWN]:Nt,[U.WEB_MERCATOR]:null,[U.PLATE_CARREE]:null,[U.WGS84]:null,[U.WGS84_ECEF]:null},[U.LON_LAT]:{[U.CGCS2000]:Nt,[U.GCSMARS2000]:Nt,[U.GCSMOON2000]:Nt,[U.LON_LAT]:Nt,[U.SPHERICAL_ECEF]:q0,[U.SPHERICAL_MARS_PCPF]:RD,[U.SPHERICAL_MOON_PCPF]:kD,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:ch,[U.PLATE_CARREE]:dh,[U.WGS84]:Nt,[U.WGS84_ECEF]:hh},[U.PLATE_CARREE]:{[U.CGCS2000]:ph,[U.GCSMARS2000]:null,[U.GCSMOON2000]:null,[U.LON_LAT]:ph,[U.SPHERICAL_ECEF]:pme,[U.SPHERICAL_MARS_PCPF]:null,[U.SPHERICAL_MOON_PCPF]:null,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:fme,[U.PLATE_CARREE]:Nt,[U.WGS84]:ph,[U.WGS84_ECEF]:hme}};function mZ(e,t){return ome(e,t)?.projector}function ome(e,t){if(e==null||t==null)return null;if(_a.source.spatialReference===e&&_a.dest.spatialReference===t)return _a;const r=CD(e,_a.source),n=CD(t,_a.dest);return r===U.UNKNOWN&&n===U.UNKNOWN?wi(e,t)?_a.projector=Nt:_a.projector=null:_a.projector=ime[r][n],_a}function CD(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=yc(e,1)),CS(e)?t.spatialReferenceId=U.SPHERICAL_ECEF:Xd(e)?t.spatialReferenceId=U.WGS84:ya(e)?t.spatialReferenceId=U.WEB_MERCATOR:Hce(e)?t.spatialReferenceId=U.PLATE_CARREE:e.wkt===Yce.wkt?t.spatialReferenceId=U.WGS84_ECEF:e.wkid===Qd.CGCS2000?t.spatialReferenceId=U.CGCS2000:e.wkt===WC.wkt?t.spatialReferenceId=U.SPHERICAL_MARS_PCPF:e.wkt===HC.wkt?t.spatialReferenceId=U.SPHERICAL_MOON_PCPF:QW(e)?t.spatialReferenceId=U.GCSMARS2000:XW(e)?t.spatialReferenceId=U.GCSMOON2000:t.spatialReferenceId=U.UNKNOWN):U.UNKNOWN}function Nt(e,t,r,n){e!==r&&(r[n++]=e[t++],r[n++]=e[t++],r[n]=e[t])}function V0(e,t,r,n){r[n]=Uh*(e[t]/Rd),r[n+1]=Uh*(gZ-2*Math.atan(Math.exp(-e[t+1]/Rd))),r[n+2]=e[t+2]}function sme(e,t,r,n){const i=e[t]/Rd,o=gZ-2*Math.atan(Math.exp(-e[t+1]/Rd)),s=Rd+e[t+2],a=Math.cos(o)*s;r[n]=Math.cos(i)*a,r[n+1]=Math.sin(i)*a,r[n+2]=Math.sin(o)*s}function ame(e,t,r,n){V0(e,t,r,n),hh(r,n,r,n)}function lme(e,t,r,n,i){const o=.4999999*Math.PI,s=ac(Fh*e[t+1],-o,o),a=Math.sin(s);r[n++]=Fh*e[t]*i.radius,r[n++]=i.halfSemiMajorAxis*Math.log((1+a)/(1-a)),r[n]=e[t+2]}function ch(e,t,r,n){lme(e,t,r,n,Ht)}function dh(e,t,r,n){r[n]=e[t]*FD,r[n+1]=e[t+1]*FD,r[n+2]=e[t+2]}function ph(e,t,r,n){r[n]=e[t]*UD,r[n+1]=e[t+1]*UD,r[n+2]=e[t+2]}function ume(e,t,r,n){V0(e,t,r,n),dh(r,n,r,n)}function cme(e,t,r,n){yh(e,t,r,n),dh(r,n,r,n)}function dme(e,t,r,n){fh(e,t,r,n),dh(r,n,r,n)}function pme(e,t,r,n){ph(e,t,r,n),q0(r,n,r,n)}function fme(e,t,r,n){ph(e,t,r,n),ch(r,n,r,n)}function hme(e,t,r,n){ph(e,t,r,n),hh(r,n,r,n)}function mk(e,t,r,n,i){const o=i+e[t+2],s=Fh*e[t+1],a=Fh*e[t],l=Math.cos(s)*o;r[n]=Math.cos(a)*l,r[n+1]=Math.sin(a)*l,r[n+2]=Math.sin(s)*o}function kD(e,t,r,n){mk(e,t,r,n,nc.radius)}function RD(e,t,r,n){mk(e,t,r,n,ca.radius)}function q0(e,t,r,n){mk(e,t,r,n,Ht.radius)}function gk(e,t,r,n,i){const o=e[t],s=e[t+1],a=e[t+2],l=Math.sqrt(o*o+s*s+a*a),c=Hhe(a/(l===0?1:l)),p=Math.atan2(s,o);r[n++]=Uh*p,r[n++]=Uh*c,r[n]=l-i}function LD(e,t,r,n){gk(e,t,r,n,nc.radius)}function DD(e,t,r,n){gk(e,t,r,n,ca.radius)}function fh(e,t,r,n){gk(e,t,r,n,Ht.radius)}function yme(e,t,r,n){fh(e,t,r,n),ch(r,n,r,n)}function mme(e,t,r,n){fh(e,t,r,n),hh(r,n,r,n)}function gme(e,t,r,n,i){const o=Fh*e[t],s=Fh*e[t+1],a=e[t+2],l=Math.sin(s),c=Math.cos(s),p=i.radius/Math.sqrt(1-i.eccentricitySquared*l*l);r[n++]=(p+a)*c*Math.cos(o),r[n++]=(p+a)*c*Math.sin(o),r[n++]=(p*(1-i.eccentricitySquared)+a)*l}function hh(e,t,r,n){gme(e,t,r,n,Ht)}function yh(e,t,r,n){const i=nme,o=e[t],s=e[t+1],a=e[t+2];let l,c,p,h,y,m,g,b,w,x,_,S,O,$,T,j,A,N,k,C,F;l=Math.abs(a),c=o*o+s*s,p=Math.sqrt(c),h=c+a*a,y=Math.sqrt(h),C=Math.atan2(s,o),m=a*a/h,g=c/h,$=i.a2/y,T=i.a3-i.a4/y,g>.3?(b=l/y*(1+g*(i.a1+$+m*T)/y),k=Math.asin(b),x=b*b,w=Math.sqrt(1-x)):(w=p/y*(1-m*(i.a5-$-g*T)/y),k=Math.acos(w),x=1-w*w,b=Math.sqrt(x)),_=1-Ht.eccentricitySquared*x,S=Ht.radius/Math.sqrt(_),O=i.a6*S,$=p-S*w,T=l-O*b,A=w*$+b*T,j=w*T-b*$,N=j/(O/_+A),k+=N,F=A+j*N/2,a<0&&(k=-k),r[n++]=Uh*C,r[n++]=Uh*k,r[n]=F}function vme(e,t,r,n){yh(e,t,r,n),q0(r,n,r,n)}function bme(e,t,r,n){yh(e,t,r,n),ch(r,n,r,n)}const _a={source:{spatialReference:null,spatialReferenceId:U.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:U.UNKNOWN,metersPerUnit:1},projector:Nt},Fh=Ghe(1),Uh=Whe(1),gZ=.5*Math.PI,Rd=Ht.radius,FD=Rd*Math.PI/180,UD=180/(Rd*Math.PI);function E1(e,t,r,n,i,o,s=Math.floor(e.length/3)){const a=mZ(t,i);if(a==null)return!1;if(a===Nt){if(e===n&&r===o)return!0;const c=r+3*s;for(let p=r,h=o;p<c;p++,h++)n[h]=e[p];return!0}const l=r+3*s;for(let c=r,p=o;c<l;c+=3,p+=3)a(e,c,n,p);return!0}const VZe=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:E1},Symbol.toStringTag,{value:"Module"}));function zD(e,t,r,n,i,o){return _b[0]=e,_b[1]=t,_b[2]=r,E1(_b,n,0,i,o,0)}const _b=Py();let $b=0,fO=class PI{static fromGE(t){const r=new PI;return r._wkt=t.wkt,r._wkid=t.wkid,r._isInverse=t.isInverse,r}constructor(t){this.uid=$b++,t?(this._wkt=t.wkt!=null?t.wkt:null,this._wkid=t.wkid!=null?t.wkid:-1,this._isInverse=t.isInverse!=null&&t.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=$b++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=$b++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=$b++}getInverse(){const t=new PI;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}},WS=class Gm{static cacheKey(t,r){return[t.wkid?.toString()??"-1",t.wkt?.toString()??"",t.wkt2?.toString()??"",r.wkid?.toString()??"-1",r.wkt?.toString()??"",r.wkt2?.toString()??""].join()}static fromGE(t){const r=new Gm;let n="";for(const i of t.steps){const o=fO.fromGE(i);r.steps.push(o),n+=o.uid.toString()+","}return r._cachedProjection={},r._gtlistentry=null,r._chain=n,r}constructor(t){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,t?.steps)for(const r of t.steps)r instanceof fO?this.steps.push(r):this.steps.push(new fO({wkid:r.wkid,wkt:r.wkt,isInverse:r.isInverse}))}getInverse(){const t=new Gm;t.steps=[];for(let r=this.steps.length-1;r>=0;r--){const n=this.steps[r];t.steps.push(n.getInverse())}return t}getGTListEntry(){let t="";for(const r of this.steps)t+=r.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=t),this._gtlistentry}assignCachedGe(t,r,n){this._cachedProjection[Gm.cacheKey(t,r)]=n}getCachedGeTransformation(t,r){let n="";for(const o of this.steps)n+=o.uid.toString()+",";n!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=n);const i=this._cachedProjection[Gm.cacheKey(t,r)];return i===void 0?null:i}};function vZ(e,t,r){if(t==null||r==null||r.vcsWkid||wi(t,r)||ic(t)||ic(r))return null;const n=kS(t)/kS(r);if(n===1)return null;switch(e){case"point":case"esriGeometryPoint":return i=>wme(i,n);case"polyline":case"esriGeometryPolyline":return i=>Sme(i,n);case"polygon":case"esriGeometryPolygon":return i=>xme(i,n);case"multipoint":case"esriGeometryMultipoint":return i=>_me(i,n);case"extent":case"esriGeometryEnvelope":return i=>$me(i,n);default:return null}}function wme(e,t){e?.z!=null&&(e.z*=t)}function xme(e,t){if(e)for(const r of e.rings)for(const n of r)n.length>2&&(n[2]*=t)}function Sme(e,t){if(e)for(const r of e.paths)for(const n of r)n.length>2&&(n[2]*=t)}function _me(e,t){if(e)for(const r of e.points)r.length>2&&(r[2]*=t)}function $me(e,t){e&&e.zmin!=null&&e.zmax!=null&&(e.zmin*=t,e.zmax*=t)}let Ss=null,lc=null,G0=null,Ww={};const vk=new UC;function j1(){return!!Ss&&GW()}function bZ(){return!!j1()||(Ie(vk),qg(),!1)}function Tme(e,t){return!e||!t||uc(e,t)||bZ()}function Ome(e,t){return!uc(e,t)&&!j1()}function qg(e){return G0==null&&(G0=Promise.all([WW(),ue(()=>import("./geometryEngineBase-7de0a3cc.js"),["assets/geometryEngineBase-7de0a3cc.js","assets/_commonjsHelpers-b09fa337.js"]).then(t=>t.g),ue(()=>import("./hydrated-a463ef09.js"),[])])),G0.then(([,t,{hydratedAdapter:r}])=>{kn(e),lc=r,Ss=t.default,Ss._enableProjection(Vce),vk.notify()})}function bk(e,t,r=null,n=null){return Array.isArray(e)?e.length===0?[]:(_de(e),NI(lc,e,e[0].spatialReference,t,r,n)):(Ch(e),NI(lc,[e],e.spatialReference,t,r,n)[0])}function NI(e,t,r,n,i=null,o=null){if(r==null||n==null)return t;if(uc(r,n,i))return t.map(s=>Hw(s,r,n));if(i==null&&CS(r))return t.map(s=>Hw(s,r,be.WGS84)).map(s=>Gg(s,n));if(i==null&&CS(n))return t.map(s=>Gg(s,be.WGS84)).map(s=>Hw(s,be.WGS84,n));if(i==null){const s=WS.cacheKey(r,n);Ww[s]!==void 0?i=Ww[s]:((i=xZ(r,n,void 0))==null&&(i=new WS),Ww[s]=i)}if(Ss==null||e==null)throw new e$;return o!=null?Ss._project(e,t,r,n,i,o):Ss._project(e,t,r,n,i)}function Eme(e,t){const r=wZ([e],t);return r.pending!=null?{pending:r.pending,geometry:null}:r.geometries!=null?{pending:null,geometry:r.geometries[0]}:{pending:null,geometry:null}}function wZ(e,t){if(!j1()){for(const r of e)if(r!=null&&!wi(r.spatialReference,t)&&ia(r.spatialReference)&&ia(t)&&!uc(r.spatialReference,t))return Ie(vk),{pending:qg(),geometries:null}}return{pending:null,geometries:e.map(r=>r==null?null:wi(r.spatialReference,t)?r:ia(r.spatialReference)&&ia(t)?Gg(r,t):null)}}function xZ(e,t,r=null){if(e==null||t==null)return null;if(Ss==null||lc==null)throw new e$;const n=Ss._getTransformation(lc,e,t,r,r?.spatialReference);return n!==null?WS.fromGE(n):null}function jme(e,t,r=null){if(Ss==null||lc==null)throw new e$;const n=Ss._getTransformationBySuitability(lc,e,t,r,r?.spatialReference);if(n!==null){const i=[];for(const o of n)i.push(WS.fromGE(o));return i}return[]}let e$=class extends Z{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}};function Ime(){Ss=null,lc=null,G0=null,Ww={}}const Ame={get loadPromise(){return G0}};function Gg(e,t){try{const r=bk(e,t);if(r==null)return null;"xmin"in e&&"xmin"in r&&(r.zmin=e.zmin,r.zmax=e.zmax);const n=vZ(r.type,e.spatialReference,t);return n?.(r),r}catch(r){if(!(r instanceof e$))throw r;return null}}async function Pme(e,t,r){const n=e.spatialReference;return n!=null&&t!=null&&await wk(n,t,null,r),Gg(e,t)}function uc(e,t,r){return!r&&(!!wi(e,t)||ia(e)&&ia(t)&&!!mZ(e,t))}function Nme(e,t){if(wi(e,t))return!0;if(!ia(e)||!ia(t))return!1;const r=Xd(e)||ya(e)||M5(e),n=Xd(t)||ya(t)||M5(t);return r&&n}async function wk(e,t,r,n){if(j1())return YL(n);if(Array.isArray(e)){for(const{source:i,dest:o,geographicTransformation:s}of e)if(i&&o&&!uc(i,o,s))return qg(n)}else if(e&&t&&!uc(e,t,r))return qg(n);return YL(n)}function Hw(e,t,r){return e?"x"in e?SZ(e,t,new Ve,r,0):"xmin"in e?EZ(e,t,new Ue,r,0):"rings"in e?OZ(e,t,new dr,r,0):"paths"in e?$Z(e,t,new Tn,r,0):"points"in e?_Z(e,t,new uo,r,0):null:null}function Mme(e,t,r=t.spatialReference,n=0){return r!=null&&e.spatialReference!=null&&SZ(e,e.spatialReference,t,r,n)!=null}function SZ(e,t,r,n,i){En[0]=e.x,En[1]=e.y;const o=e.z;return En[2]=o!==void 0?o:i,E1(En,t,0,En,n,0)?(r.x=En[0],r.y=En[1],r.spatialReference=n,o!==void 0||ic(n)?(r.z=En[2],r.hasZ=!0):(r.z=void 0,r.hasZ=!1),e.m===void 0?(r.m=void 0,r.hasM=!1):(r.m=e.m,r.hasM=!0),r):null}function Cme(e,t,r=t.spatialReference,n=0){return e.spatialReference!=null&&r!=null&&_Z(e,e.spatialReference,t,r,n)!=null}function _Z(e,t,r,n,i){const{points:o,hasZ:s,hasM:a}=e,l=[],c=o.length,p=[];for(const y of o)p.push(y[0],y[1],s?y[2]:i);if(!E1(p,t,0,p,n,0,c))return null;const h=s||ic(n);for(let y=0;y<c;++y){const m=3*y,g=p[m],b=p[m+1];h&&a?l.push([g,b,p[m+2],o[y][3]]):h?l.push([g,b,p[m+2]]):a?l.push([g,b,o[y][2]]):l.push([g,b])}return r.points=l,r.spatialReference=n,r.hasZ=s,r.hasM=a,r}function kme(e,t,r=t.spatialReference,n=0){return e.spatialReference!=null&&r!=null&&$Z(e,e.spatialReference,t,r,n)!=null}function $Z(e,t,r,n,i){const{paths:o,hasZ:s,hasM:a}=e,l=[];if(!jZ(o,s??!1,a??!1,t,l,n,i))return null;const c=s||ic(n);return r.paths=l,r.spatialReference=n,r.hasZ=c,r.hasM=a,r}function TZ(e,t,r=t.spatialReference,n=0){return e.spatialReference!=null&&r!=null&&OZ(e,e.spatialReference,t,r,n)!=null}function OZ(e,t,r,n,i){const{rings:o,hasZ:s,hasM:a}=e,l=[];if(!jZ(o,s??!1,a??!1,t,l,n,i))return null;const c=s||ic(n);return r.rings=l,r.spatialReference=n,r.hasZ=c,r.hasM=a,r}function Rme(e,t,r=t.spatialReference,n=0){return e.spatialReference!=null&&r!=null&&EZ(e,e.spatialReference,t,r,n)!=null}function EZ(e,t,r,n,i){const{xmin:o,ymin:s,xmax:a,ymax:l,hasZ:c,hasM:p}=e,h=c?e.zmin:i;if(!zD(o,s,h,t,En,n))return null;const y=c||ic(n);r.xmin=En[0],r.ymin=En[1],y&&(r.zmin=En[2]);const m=c?e.zmax:i;return zD(a,l,m,t,En,n)?(r.xmax=En[0],r.ymax=En[1],y&&(r.zmax=En[2]),p&&(r.mmin=e.mmin,r.mmax=e.mmax),r.spatialReference=n,r):null}function jZ(e,t,r,n,i,o,s=0){const a=new Array;for(const p of e)for(const h of p)a.push(h[0],h[1],t?h[2]:s);if(!E1(a,n,0,a,o,0))return!1;let l=0;i.length=0;const c=t||ic(o);for(const p of e){const h=new Array;for(const y of p)c&&r?h.push([a[l++],a[l++],a[l++],y[3]]):c?h.push([a[l++],a[l++],a[l++]]):r?(h.push([a[l++],a[l++],y[2]]),l++):(h.push([a[l++],a[l++]]),l++);i.push(h)}return!0}const En=Py(),GZe=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:uc,getTransformation:xZ,getTransformations:jme,initializeProjection:wk,isEqualBaseGCS:Nme,isLoaded:j1,isLoadedOrLoad:bZ,isLoadedOrLoadFor:Tme,load:qg,project:bk,projectExtent:Rme,projectMany:NI,projectMultipoint:Cme,projectOrLoad:Eme,projectOrLoadMany:wZ,projectPoint:Mme,projectPolygon:TZ,projectPolyline:kme,projectWithZConversion:Pme,projectWithoutEngine:Hw,requiresLoad:Ome,test:Ame,tryProjectWithZConversion:Gg,unload:Ime},Symbol.toStringTag,{value:"Module"}));var Jw;let MI=Jw=class extends z.JSONSupportMixin(Te.ofType(dr)){constructor(e){super(e)}clone(){return new Jw(this.items.map(e=>e.clone()))}write(e,t){return this.toJSON(t)}toJSON(e){const t=e?.layer?.spatialReference;return t?this.toArray().map(r=>{if(!t.equals(r.spatialReference)){if(!uc(r.spatialReference,t))return e?.messages?.push(new Os("scenefilter:unsupported","Scene filters with incompatible spatial references are not supported",{modification:this,spatialReference:e.layer.spatialReference,context:e})),null;const i=new dr;TZ(r,i,t),r=i}const n=r.toJSON(e);return delete n.spatialReference,n}).filter(r=>r!=null):this.toArray().map(r=>r.toJSON(e))}static fromJSON(e,t){const r=new Jw;return e.forEach(n=>r.add(dr.fromJSON(n,t))),r}};MI=Jw=u([I("esri.layers.support.PolygonCollection")],MI);const W0=MI;let Pa=class extends z.JSONSupportMixin(Se){constructor(t){super(t),this.id=`focusarea-${T1()}`,this.title=null,this.enabled=!0,this.outline=null,this.geometries=new W0}readGeometries(t,r,n){Array.isArray(t)?this.geometries=W0.fromJSON(t,n):n.hooks?.onAfterLoad?.(()=>this._loadGeometries(mp(t,n),n))}async _loadGeometries(t,r){const n=await tt(t,{responseType:"json"});this.geometries=W0.fromJSON(n.data,r)}};u([d({type:String,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}}),d()],Pa.prototype,"id",void 0),u([d({type:String,json:{write:!0}})],Pa.prototype,"title",void 0),u([d({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],Pa.prototype,"enabled",void 0),u([d({type:bye,json:{write:!0}})],Pa.prototype,"outline",void 0),u([d({type:W0,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}},clonable:e=>new W0(e.items.map(t=>t.clone()))}),pye({origins:["web-scene","portal-item"],type:"resource",prefix:"geometries",contentAddressed:!0})],Pa.prototype,"geometries",void 0),u([X(["web-scene","portal-item"],"geometries")],Pa.prototype,"readGeometries",null),Pa=u([I("esri.effects.FocusArea")],Pa);const Lme=Pa;let Wm=class extends z.JSONSupportMixin(Se){constructor(t){super(t),this.areas=new Te,this.style="bright"}};u([d({type:Te.ofType(Lme),nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}},clonable:e=>new Te(e.items.map(t=>t.clone()))})],Wm.prototype,"areas",void 0),u([d({type:["bright","dark"],nonNullable:!0,json:{write:!0}})],Wm.prototype,"style",void 0),Wm=u([I("esri.effects.FocusAreas")],Wm);const IZ=Wm;function Dme(e){return typeof e=="object"&&e!=null&&"loaded"in e&&e.loaded===!0&&"type"in e}function Fme(e){return!(!Dme(e)||!jhe(e)?.operations?.supportsEditing||"editingEnabled"in e&&!Ahe(e)||lk(e))}const Ume=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,zme="screenUtils.toPt: input not recognized!",AZ=96;function Bme(e){return e?e/72*AZ:0}function jo(e){return e?72*e/AZ:0}function Ge(e){if(typeof e=="string"){const t=e.match(Ume);if(t){const r=Number(t[1]),n=t[3]&&t[3].toLowerCase(),i=e.charAt(0)==="-",o=n==="px"?jo(r):r;return i?-o:o}return console.warn(zme),null}return e}function JZe(e=0,t=0){return{x:e,y:t}}function t$(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Vme(e){const t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function qme(e,t,r,n,i,o,s,a,l,c,p,h,y,m,g,b){const w=new Float32Array(16);return w[0]=e,w[1]=t,w[2]=r,w[3]=n,w[4]=i,w[5]=o,w[6]=s,w[7]=a,w[8]=l,w[9]=c,w[10]=p,w[11]=h,w[12]=y,w[13]=m,w[14]=g,w[15]=b,w}const Gme=t$();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:Gme,clone:Vme,create:t$,fromValues:qme},Symbol.toStringTag,{value:"Module"}));let xk=1e-6;function bp(){return xk}function Wme(e){xk=e}const PZ=Math.random,Hme=Math.PI/180,Jme=180/Math.PI;function Zme(e){return e*Hme}function Kme(e){return e*Jme}function Yme(e,t){return Math.abs(e-t)<=xk*Math.max(1,Math.abs(e),Math.abs(t))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:PZ,equals:Yme,getEpsilon:bp,setEpsilon:Wme,toDegree:Kme,toRadian:Zme},Symbol.toStringTag,{value:"Module"}));function NZ(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function mc(e,t,r,n,i,o,s,a,l,c,p,h,y,m,g,b,w){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=s,e[6]=a,e[7]=l,e[8]=c,e[9]=p,e[10]=h,e[11]=y,e[12]=m,e[13]=g,e[14]=b,e[15]=w,e}function r$(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function gc(e,t){if(e===t){const r=t[1],n=t[2],i=t[3],o=t[6],s=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=o,e[11]=t[14],e[12]=i,e[13]=s,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function Qme(e,t){return MZ(e,t)||r$(e),e}function MZ(e,t){const r=t[0],n=t[1],i=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],p=t[8],h=t[9],y=t[10],m=t[11],g=t[12],b=t[13],w=t[14],x=t[15],_=r*a-n*s,S=r*l-i*s,O=r*c-o*s,$=n*l-i*a,T=n*c-o*a,j=i*c-o*l,A=p*b-h*g,N=p*w-y*g,k=p*x-m*g,C=h*w-y*b,F=h*x-m*b,G=y*x-m*w;let B=_*G-S*F+O*C+$*k-T*N+j*A;return B?(B=1/B,e[0]=(a*G-l*F+c*C)*B,e[1]=(i*F-n*G-o*C)*B,e[2]=(b*j-w*T+x*$)*B,e[3]=(y*T-h*j-m*$)*B,e[4]=(l*k-s*G-c*N)*B,e[5]=(r*G-i*k+o*N)*B,e[6]=(w*O-g*j-x*S)*B,e[7]=(p*j-y*O+m*S)*B,e[8]=(s*F-a*k+c*A)*B,e[9]=(n*k-r*F-o*A)*B,e[10]=(g*T-b*O+x*_)*B,e[11]=(h*O-p*T-m*_)*B,e[12]=(a*N-s*C-l*A)*B,e[13]=(r*C-n*N+i*A)*B,e[14]=(b*S-g*$-w*_)*B,e[15]=(p*$-h*S+y*_)*B,e):null}function Xme(e,t){const r=t[0],n=t[1],i=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],p=t[8],h=t[9],y=t[10],m=t[11],g=t[12],b=t[13],w=t[14],x=t[15];return e[0]=a*(y*x-m*w)-h*(l*x-c*w)+b*(l*m-c*y),e[1]=-(n*(y*x-m*w)-h*(i*x-o*w)+b*(i*m-o*y)),e[2]=n*(l*x-c*w)-a*(i*x-o*w)+b*(i*c-o*l),e[3]=-(n*(l*m-c*y)-a*(i*m-o*y)+h*(i*c-o*l)),e[4]=-(s*(y*x-m*w)-p*(l*x-c*w)+g*(l*m-c*y)),e[5]=r*(y*x-m*w)-p*(i*x-o*w)+g*(i*m-o*y),e[6]=-(r*(l*x-c*w)-s*(i*x-o*w)+g*(i*c-o*l)),e[7]=r*(l*m-c*y)-s*(i*m-o*y)+p*(i*c-o*l),e[8]=s*(h*x-m*b)-p*(a*x-c*b)+g*(a*m-c*h),e[9]=-(r*(h*x-m*b)-p*(n*x-o*b)+g*(n*m-o*h)),e[10]=r*(a*x-c*b)-s*(n*x-o*b)+g*(n*c-o*a),e[11]=-(r*(a*m-c*h)-s*(n*m-o*h)+p*(n*c-o*a)),e[12]=-(s*(h*w-y*b)-p*(a*w-l*b)+g*(a*y-l*h)),e[13]=r*(h*w-y*b)-p*(n*w-i*b)+g*(n*y-i*h),e[14]=-(r*(a*w-l*b)-s*(n*w-i*b)+g*(n*l-i*a)),e[15]=r*(a*y-l*h)-s*(n*y-i*h)+p*(n*l-i*a),e}function e0e(e){const t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8],p=e[9],h=e[10],y=e[11],m=e[12],g=e[13],b=e[14],w=e[15];return(t*s-r*o)*(h*w-y*b)-(t*a-n*o)*(p*w-y*g)+(t*l-i*o)*(p*b-h*g)+(r*a-n*s)*(c*w-y*m)-(r*l-i*s)*(c*b-h*m)+(n*l-i*a)*(c*g-p*m)}function CZ(e,t,r){const n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],p=t[7],h=t[8],y=t[9],m=t[10],g=t[11],b=t[12],w=t[13],x=t[14],_=t[15];let S=r[0],O=r[1],$=r[2],T=r[3];return e[0]=S*n+O*a+$*h+T*b,e[1]=S*i+O*l+$*y+T*w,e[2]=S*o+O*c+$*m+T*x,e[3]=S*s+O*p+$*g+T*_,S=r[4],O=r[5],$=r[6],T=r[7],e[4]=S*n+O*a+$*h+T*b,e[5]=S*i+O*l+$*y+T*w,e[6]=S*o+O*c+$*m+T*x,e[7]=S*s+O*p+$*g+T*_,S=r[8],O=r[9],$=r[10],T=r[11],e[8]=S*n+O*a+$*h+T*b,e[9]=S*i+O*l+$*y+T*w,e[10]=S*o+O*c+$*m+T*x,e[11]=S*s+O*p+$*g+T*_,S=r[12],O=r[13],$=r[14],T=r[15],e[12]=S*n+O*a+$*h+T*b,e[13]=S*i+O*l+$*y+T*w,e[14]=S*o+O*c+$*m+T*x,e[15]=S*s+O*p+$*g+T*_,e}function t0e(e,t,r){const n=r[0],i=r[1],o=r[2];if(t===e)e[12]=t[0]*n+t[4]*i+t[8]*o+t[12],e[13]=t[1]*n+t[5]*i+t[9]*o+t[13],e[14]=t[2]*n+t[6]*i+t[10]*o+t[14],e[15]=t[3]*n+t[7]*i+t[11]*o+t[15];else{const s=t[0],a=t[1],l=t[2],c=t[3],p=t[4],h=t[5],y=t[6],m=t[7],g=t[8],b=t[9],w=t[10],x=t[11];e[0]=s,e[1]=a,e[2]=l,e[3]=c,e[4]=p,e[5]=h,e[6]=y,e[7]=m,e[8]=g,e[9]=b,e[10]=w,e[11]=x,e[12]=s*n+p*i+g*o+t[12],e[13]=a*n+h*i+b*o+t[13],e[14]=l*n+y*i+w*o+t[14],e[15]=c*n+m*i+x*o+t[15]}return e}function r0e(e,t,r){const n=r[0],i=r[1],o=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function n0e(e,t,r,n){let i=n[0],o=n[1],s=n[2],a=Math.sqrt(i*i+o*o+s*s);if(a<=bp())return void NZ(e,t);a=1/a,i*=a,o*=a,s*=a;const l=Math.sin(r),c=Math.cos(r),p=1-c,h=t[0],y=t[1],m=t[2],g=t[3],b=t[4],w=t[5],x=t[6],_=t[7],S=t[8],O=t[9],$=t[10],T=t[11],j=i*i*p+c,A=o*i*p+s*l,N=s*i*p-o*l,k=i*o*p-s*l,C=o*o*p+c,F=s*o*p+i*l,G=i*s*p+o*l,B=o*s*p-i*l,W=s*s*p+c;e[0]=h*j+b*A+S*N,e[1]=y*j+w*A+O*N,e[2]=m*j+x*A+$*N,e[3]=g*j+_*A+T*N,e[4]=h*k+b*C+S*F,e[5]=y*k+w*C+O*F,e[6]=m*k+x*C+$*F,e[7]=g*k+_*C+T*F,e[8]=h*G+b*B+S*W,e[9]=y*G+w*B+O*W,e[10]=m*G+x*B+$*W,e[11]=g*G+_*B+T*W,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15])}function i0e(e,t,r){const n=Math.sin(r),i=Math.cos(r),o=t[4],s=t[5],a=t[6],l=t[7],c=t[8],p=t[9],h=t[10],y=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+c*n,e[5]=s*i+p*n,e[6]=a*i+h*n,e[7]=l*i+y*n,e[8]=c*i-o*n,e[9]=p*i-s*n,e[10]=h*i-a*n,e[11]=y*i-l*n,e}function o0e(e,t,r){const n=Math.sin(r),i=Math.cos(r),o=t[0],s=t[1],a=t[2],l=t[3],c=t[8],p=t[9],h=t[10],y=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-c*n,e[1]=s*i-p*n,e[2]=a*i-h*n,e[3]=l*i-y*n,e[8]=o*n+c*i,e[9]=s*n+p*i,e[10]=a*n+h*i,e[11]=l*n+y*i,e}function s0e(e,t,r){const n=Math.sin(r),i=Math.cos(r),o=t[0],s=t[1],a=t[2],l=t[3],c=t[4],p=t[5],h=t[6],y=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+c*n,e[1]=s*i+p*n,e[2]=a*i+h*n,e[3]=l*i+y*n,e[4]=c*i-o*n,e[5]=p*i-s*n,e[6]=h*i-a*n,e[7]=y*i-l*n,e}function a0e(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function l0e(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function u0e(e,t,r){if(t===0)return r$(e);let n=r[0],i=r[1],o=r[2],s=Math.sqrt(n*n+i*i+o*o);if(s<=bp())return null;s=1/s,n*=s,i*=s,o*=s;const a=Math.sin(t),l=Math.cos(t),c=1-l;return e[0]=n*n*c+l,e[1]=i*n*c+o*a,e[2]=o*n*c-i*a,e[3]=0,e[4]=n*i*c-o*a,e[5]=i*i*c+l,e[6]=o*i*c+n*a,e[7]=0,e[8]=n*o*c+i*a,e[9]=i*o*c-n*a,e[10]=o*o*c+l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function c0e(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function d0e(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function p0e(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function kZ(e,t,r){const n=t[0],i=t[1],o=t[2],s=t[3],a=n+n,l=i+i,c=o+o,p=n*a,h=n*l,y=n*c,m=i*l,g=i*c,b=o*c,w=s*a,x=s*l,_=s*c;return e[0]=1-(m+b),e[1]=h+_,e[2]=y-x,e[3]=0,e[4]=h-_,e[5]=1-(p+b),e[6]=g+w,e[7]=0,e[8]=y+x,e[9]=g-w,e[10]=1-(p+m),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function f0e(e,t){const r=h0e,n=-t[0],i=-t[1],o=-t[2],s=t[3],a=t[4],l=t[5],c=t[6],p=t[7],h=n*n+i*i+o*o+s*s;return h>0?(r[0]=2*(a*s+p*n+l*o-c*i)/h,r[1]=2*(l*s+p*i+c*n-a*o)/h,r[2]=2*(c*s+p*o+a*i-l*n)/h):(r[0]=2*(a*s+p*n+l*o-c*i),r[1]=2*(l*s+p*i+c*n-a*o),r[2]=2*(c*s+p*o+a*i-l*n)),kZ(e,t,r),e}const h0e=Py();function y0e(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function m0e(e,t){const r=t[0],n=t[1],i=t[2],o=t[4],s=t[5],a=t[6],l=t[8],c=t[9],p=t[10];return e[0]=Math.sqrt(r*r+n*n+i*i),e[1]=Math.sqrt(o*o+s*s+a*a),e[2]=Math.sqrt(l*l+c*c+p*p),e}function g0e(e,t){const r=t[0]+t[5]+t[10];let n=0;return r>0?(n=2*Math.sqrt(r+1),e[3]=.25*n,e[0]=(t[6]-t[9])/n,e[1]=(t[8]-t[2])/n,e[2]=(t[1]-t[4])/n):t[0]>t[5]&&t[0]>t[10]?(n=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/n,e[0]=.25*n,e[1]=(t[1]+t[4])/n,e[2]=(t[8]+t[2])/n):t[5]>t[10]?(n=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/n,e[0]=(t[1]+t[4])/n,e[1]=.25*n,e[2]=(t[6]+t[9])/n):(n=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/n,e[0]=(t[8]+t[2])/n,e[1]=(t[6]+t[9])/n,e[2]=.25*n),e}function v0e(e,t,r,n){const i=t[0],o=t[1],s=t[2],a=t[3],l=i+i,c=o+o,p=s+s,h=i*l,y=i*c,m=i*p,g=o*c,b=o*p,w=s*p,x=a*l,_=a*c,S=a*p,O=n[0],$=n[1],T=n[2];return e[0]=(1-(g+w))*O,e[1]=(y+S)*O,e[2]=(m-_)*O,e[3]=0,e[4]=(y-S)*$,e[5]=(1-(h+w))*$,e[6]=(b+x)*$,e[7]=0,e[8]=(m+_)*T,e[9]=(b-x)*T,e[10]=(1-(h+g))*T,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function b0e(e,t,r,n,i){const o=t[0],s=t[1],a=t[2],l=t[3],c=o+o,p=s+s,h=a+a,y=o*c,m=o*p,g=o*h,b=s*p,w=s*h,x=a*h,_=l*c,S=l*p,O=l*h,$=n[0],T=n[1],j=n[2],A=i[0],N=i[1],k=i[2],C=(1-(b+x))*$,F=(m+O)*$,G=(g-S)*$,B=(m-O)*T,W=(1-(y+x))*T,K=(w+_)*T,ee=(g+S)*j,V=(w-_)*j,Q=(1-(y+b))*j;return e[0]=C,e[1]=F,e[2]=G,e[3]=0,e[4]=B,e[5]=W,e[6]=K,e[7]=0,e[8]=ee,e[9]=V,e[10]=Q,e[11]=0,e[12]=r[0]+A-(C*A+B*N+ee*k),e[13]=r[1]+N-(F*A+W*N+V*k),e[14]=r[2]+k-(G*A+K*N+Q*k),e[15]=1,e}function w0e(e,t){const r=t[0],n=t[1],i=t[2],o=t[3],s=r+r,a=n+n,l=i+i,c=r*s,p=n*s,h=n*a,y=i*s,m=i*a,g=i*l,b=o*s,w=o*a,x=o*l;return e[0]=1-h-g,e[1]=p+x,e[2]=y-w,e[3]=0,e[4]=p-x,e[5]=1-c-g,e[6]=m+b,e[7]=0,e[8]=y+w,e[9]=m-b,e[10]=1-c-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function x0e(e,t,r,n,i,o,s){const a=1/(r-t),l=1/(i-n),c=1/(o-s);return e[0]=2*o*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*l,e[6]=0,e[7]=0,e[8]=(r+t)*a,e[9]=(i+n)*l,e[10]=(s+o)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=s*o*2*c,e[15]=0,e}function S0e(e,t,r,n,i){const o=1/Math.tan(t/2);let s;return e[0]=o/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0?(s=1/(n-i),e[10]=(i+n)*s,e[14]=2*i*n*s):(e[10]=-1,e[14]=-2*n),e}function _0e(e,t,r,n){const i=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),s=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),l=2/(s+a),c=2/(i+o);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(s-a)*l*.5,e[9]=(i-o)*c*.5,e[10]=n/(r-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*r/(r-n),e[15]=0,e}function $0e(e,t,r,n,i,o,s){const a=1/(t-r),l=1/(n-i),c=1/(o-s);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+r)*a,e[13]=(i+n)*l,e[14]=(s+o)*c,e[15]=1,e}function T0e(e,t,r,n){const i=t[0],o=t[1],s=t[2];let a=i-r[0],l=o-r[1],c=s-r[2];const p=bp();if(Math.abs(a)<p&&Math.abs(l)<p&&Math.abs(c)<p)return void r$(e);let h=1/Math.sqrt(a*a+l*l+c*c);a*=h,l*=h,c*=h;const y=n[0],m=n[1],g=n[2];let b=m*c-g*l,w=g*a-y*c,x=y*l-m*a;h=Math.sqrt(b*b+w*w+x*x),h?(h=1/h,b*=h,w*=h,x*=h):(b=0,w=0,x=0);let _=l*x-c*w,S=c*b-a*x,O=a*w-l*b;h=Math.sqrt(_*_+S*S+O*O),h?(h=1/h,_*=h,S*=h,O*=h):(_=0,S=0,O=0),e[0]=b,e[1]=_,e[2]=a,e[3]=0,e[4]=w,e[5]=S,e[6]=l,e[7]=0,e[8]=x,e[9]=O,e[10]=c,e[11]=0,e[12]=-(b*i+w*o+x*s),e[13]=-(_*i+S*o+O*s),e[14]=-(a*i+l*o+c*s),e[15]=1}function O0e(e,t,r,n){const i=t[0],o=t[1],s=t[2],a=n[0],l=n[1],c=n[2];let p=i-r[0],h=o-r[1],y=s-r[2],m=p*p+h*h+y*y;m>0&&(m=1/Math.sqrt(m),p*=m,h*=m,y*=m);let g=l*y-c*h,b=c*p-a*y,w=a*h-l*p;return m=g*g+b*b+w*w,m>0&&(m=1/Math.sqrt(m),g*=m,b*=m,w*=m),e[0]=g,e[1]=b,e[2]=w,e[3]=0,e[4]=h*w-y*b,e[5]=y*g-p*w,e[6]=p*b-h*g,e[7]=0,e[8]=p,e[9]=h,e[10]=y,e[11]=0,e[12]=i,e[13]=o,e[14]=s,e[15]=1,e}function E0e(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function j0e(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)}function I0e(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function RZ(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function A0e(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}function P0e(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e[9]=t[9]+r[9]*n,e[10]=t[10]+r[10]*n,e[11]=t[11]+r[11]*n,e[12]=t[12]+r[12]*n,e[13]=t[13]+r[13]*n,e[14]=t[14]+r[14]*n,e[15]=t[15]+r[15]*n,e}function N0e(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function M0e(e,t){if(e===t)return!0;const r=e[0],n=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],p=e[8],h=e[9],y=e[10],m=e[11],g=e[12],b=e[13],w=e[14],x=e[15],_=t[0],S=t[1],O=t[2],$=t[3],T=t[4],j=t[5],A=t[6],N=t[7],k=t[8],C=t[9],F=t[10],G=t[11],B=t[12],W=t[13],K=t[14],ee=t[15],V=bp();return Math.abs(r-_)<=V*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(n-S)<=V*Math.max(1,Math.abs(n),Math.abs(S))&&Math.abs(i-O)<=V*Math.max(1,Math.abs(i),Math.abs(O))&&Math.abs(o-$)<=V*Math.max(1,Math.abs(o),Math.abs($))&&Math.abs(s-T)<=V*Math.max(1,Math.abs(s),Math.abs(T))&&Math.abs(a-j)<=V*Math.max(1,Math.abs(a),Math.abs(j))&&Math.abs(l-A)<=V*Math.max(1,Math.abs(l),Math.abs(A))&&Math.abs(c-N)<=V*Math.max(1,Math.abs(c),Math.abs(N))&&Math.abs(p-k)<=V*Math.max(1,Math.abs(p),Math.abs(k))&&Math.abs(h-C)<=V*Math.max(1,Math.abs(h),Math.abs(C))&&Math.abs(y-F)<=V*Math.max(1,Math.abs(y),Math.abs(F))&&Math.abs(m-G)<=V*Math.max(1,Math.abs(m),Math.abs(G))&&Math.abs(g-B)<=V*Math.max(1,Math.abs(g),Math.abs(B))&&Math.abs(b-W)<=V*Math.max(1,Math.abs(b),Math.abs(W))&&Math.abs(w-K)<=V*Math.max(1,Math.abs(w),Math.abs(K))&&Math.abs(x-ee)<=V*Math.max(1,Math.abs(x),Math.abs(ee))}function C0e(e){const t=bp(),r=e[0],n=e[1],i=e[2],o=e[4],s=e[5],a=e[6],l=e[8],c=e[9],p=e[10];return Math.abs(1-(r*r+o*o+l*l))<=t&&Math.abs(1-(n*n+s*s+c*c))<=t&&Math.abs(1-(i*i+a*a+p*p))<=t}function k0e(e){return e[0]===1&&e[1]===0&&e[2]===0&&e[4]===0&&e[5]===1&&e[6]===0&&e[8]===0&&e[9]===0&&e[10]===1}const R0e=CZ,L0e=RZ;Object.freeze(Object.defineProperty({__proto__:null,add:I0e,adjoint:Xme,copy:NZ,determinant:e0e,equals:M0e,exactEquals:N0e,frob:j0e,fromQuat:w0e,fromQuat2:f0e,fromRotation:u0e,fromRotationTranslation:kZ,fromRotationTranslationScale:v0e,fromRotationTranslationScaleOrigin:b0e,fromScaling:l0e,fromTranslation:a0e,fromXRotation:c0e,fromYRotation:d0e,fromZRotation:p0e,frustum:x0e,getRotation:g0e,getScale:m0e,getTranslation:y0e,hasIdentityRotation:k0e,identity:r$,invert:MZ,invertOrIdentity:Qme,isOrthoNormal:C0e,lookAt:T0e,mul:R0e,multiply:CZ,multiplyScalar:A0e,multiplyScalarAndAdd:P0e,ortho:$0e,perspective:S0e,perspectiveFromFieldOfView:_0e,rotate:n0e,rotateX:i0e,rotateY:o0e,rotateZ:s0e,scale:r0e,set:mc,str:E0e,sub:L0e,subtract:RZ,targetTo:O0e,translate:t0e,transpose:gc},Symbol.toStringTag,{value:"Module"}));const D0e=(e,t)=>{const r=mc(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return gc(r,r)},F0e=(e,t)=>{const r=mc(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return gc(r,r)},U0e=(e,t)=>{const r=1-t,n=mc(e,.2126+.7874*r,.7152-.7152*r,.0722-.0722*r,0,.2126-.2126*r,.7152+.2848*r,.0722-.0722*r,0,.2126-.2126*r,.7152-.7152*r,.0722+.9278*r,0,0,0,0,1);return gc(n,n)},z0e=(e,t)=>{const r=Math.sin(t*Math.PI/180),n=Math.cos(t*Math.PI/180),i=mc(e,.213+.787*n-.213*r,.715-.715*n-.715*r,.072-.072*n+.928*r,0,.213-.213*n+.143*r,.715+.285*n+.14*r,.072-.072*n-.283*r,0,.213-.213*n-.787*r,.715-.715*n+.715*r,.072+.928*n+.072*r,0,0,0,0,1);return gc(i,i)},B0e=(e,t)=>{const r=1-2*t,n=mc(e,r,0,0,t,0,r,0,t,0,0,r,t,0,0,0,1);return gc(n,n)},V0e=(e,t)=>{const r=mc(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return gc(r,r)},q0e=(e,t)=>{const r=1-t,n=mc(e,.393+.607*r,.769-.769*r,.189-.189*r,0,.349-.349*r,.686+.314*r,.168-.168*r,0,.272-.272*r,.534-.534*r,.131+.869*r,0,0,0,0,1);return gc(n,n)};let LZ=class DZ{constructor(t,r,n){this.strength=t,this.radius=r,this.threshold=n,this.type="bloom"}interpolate(t,r,n){this.strength=di(t.strength,r.strength,n),this.radius=di(t.radius,r.radius,n),this.threshold=di(t.threshold,r.threshold,n)}clone(){return new DZ(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:H0(this.radius),strength:this.strength,threshold:this.threshold}}},FZ=class UZ{constructor(t){this.radius=t,this.type="blur"}interpolate(t,r,n){this.radius=Math.round(di(t.radius,r.radius,n))}clone(){return new UZ(this.radius)}toJSON(){return{type:"blur",radius:H0(this.radius)}}},CI=class zZ{constructor(t,r){this.type=t,this.amount=r,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,n){this.amount=di(t.amount,r.amount,n),this._updateMatrix()}clone(){return new zZ(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const t=this._colorMatrix||t$();switch(this.type){case"brightness":this._colorMatrix=D0e(t,this.amount);break;case"contrast":this._colorMatrix=F0e(t,this.amount);break;case"grayscale":this._colorMatrix=U0e(t,this.amount);break;case"invert":this._colorMatrix=B0e(t,this.amount);break;case"saturate":this._colorMatrix=V0e(t,this.amount);break;case"sepia":this._colorMatrix=q0e(t,this.amount)}}},BZ=class VZ{constructor(t,r,n,i){this.offsetX=t,this.offsetY=r,this.blurRadius=n,this.color=i,this.type="drop-shadow"}interpolate(t,r,n){this.offsetX=di(t.offsetX,r.offsetX,n),this.offsetY=di(t.offsetY,r.offsetY,n),this.blurRadius=di(t.blurRadius,r.blurRadius,n),this.color[0]=Math.round(di(t.color[0],r.color[0],n)),this.color[1]=Math.round(di(t.color[1],r.color[1],n)),this.color[2]=Math.round(di(t.color[2],r.color[2],n)),this.color[3]=di(t.color[3],r.color[3],n)}clone(){return new VZ(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const t=[...this.color];return t[3]*=255,{type:"drop-shadow",xoffset:H0(this.offsetX),yoffset:H0(this.offsetY),blurRadius:H0(this.blurRadius),color:t}}},qZ=class GZ{constructor(t){this.angle=t,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,n){this.angle=di(t.angle,r.angle,n),this._updateMatrix()}clone(){return new GZ(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const t=this._colorMatrix||t$();this._colorMatrix=z0e(t,this.angle)}},WZ=class HZ{constructor(t){this.amount=t,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(t,r,n){this.amount=di(t.amount,r.amount,n)}clone(){return new HZ(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}};function di(e,t,r){return e+(t-e)*r}function H0(e){return Math.round(1e3*jo(e))/1e3}function G0e(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new CI(e.type,0);case"saturate":case"brightness":case"contrast":return new CI(e.type,1);case"opacity":return new WZ(1);case"hue-rotate":return new qZ(0);case"blur":return new FZ(0);case"drop-shadow":return new BZ(0,0,0,[...uk("transparent")]);case"bloom":return new LZ(0,0,1)}}function W0e(e,t){const r=e.length>t.length?e:t;return(e.length>t.length?t:e).every((n,i)=>n.type===r[i].type)}function H0e(e,t){const r=e.length>t.length?e:t,n=e.length>t.length?t:e;for(let i=n.length;i<r.length;i++)n.push(G0e(r[i]))}function J0e(e){const t=e[0];return!!t&&"type"in t}const hO=()=>ce.getLogger("esri.support.basemapUtils");function Z0e(){return{}}function K0e(e){for(const t in e){const r=e[t];_o(r),delete e[t]}}function Y0e(e,t){let r;if(typeof e=="string"){const n=e in oI,i=!n&&e.includes("/");if(!n&&!i){if(Oj())hO().warn(`Unable to find basemap definition for: ${e}. See available styles at https://developers.arcgis.com/rest/basemap-styles/`);else{const o=Object.entries(oI).filter(([s,a])=>a.classic||a.is3d).map(([s])=>`"${s}"`).sort().join(", ");hO().warn(`Unable to find basemap definition for: ${e}. Try one of these: ${o}`)}return null}t&&(r=t[e]),r||(r=n?B0.fromId(e):new B0({style:{id:e}}),t&&(t[e]=r))}else r=mr(B0,e);return r?.destroyed&&(hO().warn("The provided basemap is already destroyed",{basemap:r}),r=null),r}function Q0e(e){return new _u({getCollections:()=>[e.tables,e.layers],getChildrenFunction:t=>{const r=[];return"tables"in t&&r.push(t.tables),"layers"in t&&r.push(t.layers),r},itemFilterFunction:t=>{const r=t.parent;return!!r&&"tables"in r&&r.tables.includes(t)}})}const BD={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function X0e(e){let t=null;if(typeof e=="string")if(e in BD){const r=BD[e];t=new qS({resourceInfo:{data:{layers:[r]}}})}else ce.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`);else t=mr(qS,e);return t}let JZ=0;const ZZ=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+JZ++})}};return t=u([I("esri.core.Identifiable")],t),t},ege=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:JZ++})}};return t=u([I("esri.core.Identifiable.NumericIdentifiable")],t),t};let Hm=class extends ZZ(class{}){};Hm=u([I("esri.core.Identifiable")],Hm),function(e){e.IdentifiableMixin=ZZ,e.NumericIdentifiableMixin=ege}(Hm||(Hm={}));const Sk=Hm;async function tge(e){const t="portalItem"in e?e:{portalItem:e},{fromItem:r}=await ue(()=>import("./portalLayers-b0abf018.js"),["assets/portalLayers-b0abf018.js","assets/associatedFeatureServiceUtils-a638208b.js","assets/fetchService-05f74a69.js","assets/loadUtils-8b4d1e2c.js","assets/lazyLayerLoader-bfd7bb14.js"]);try{return await r(t)}catch(n){const i=t?.portalItem,o=i?.id||"unset",s=i?.portal?.url||Ye.portalUrl;throw ce.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+s+"', id: '"+o+"')",n),n}}const VD={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function yO(e,t,r,n=Es){const i=new xi(sk(n)),o=he.fromJSDate(e,{zone:i}),s=r==="decades"||r==="centuries"?"year":YZ(r);return r==="decades"&&(t*=10),r==="centuries"&&(t*=100),o.plus({[s]:t}).toJSDate()}function KZe(e,t,r="milliseconds"){const n=e.getTime(),i=KZ(t,r,"milliseconds");return new Date(n+i)}function qD(e,t,r=Es){const n=new xi(sk(r)),i=he.fromJSDate(e,{zone:n});if(t==="decades"||t==="centuries"){const s=i.startOf("year"),{year:a}=s,l=a-a%(t==="decades"?10:100);return s.set({year:l}).toJSDate()}const o=YZ(t);return i.startOf(o).toJSDate()}function KZ(e,t,r){return e===0?0:e*VD[t]/VD[r]}function YZ(e){switch(e){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var to,Dv;let ct=(Dv=class extends z{static get allTime(){return GD}static get empty(){return rge}static fromArray(t){return new to({start:t[0]!=null?new Date(t[0]):t[0],end:t[1]!=null?new Date(t[1]):t[1]})}constructor(t){super(t),this.end=null,this.start=null}readEnd(t,r){return r.end!=null?new Date(r.end):null}writeEnd(t,r){r.end=t?.getTime()??null}get isAllTime(){return this.equals(to.allTime)}get isEmpty(){return this.equals(to.empty)}readStart(t,r){return r.start!=null?new Date(r.start):null}writeStart(t,r){r.start=t?.getTime()??null}clone(){return new to({end:this.end,start:this.start})}equals(t){if(!t)return!1;const r=this.start?.getTime()??this.start,n=this.end?.getTime()??this.end,i=t.start?.getTime()??t.start,o=t.end?.getTime()??t.end;return r===i&&n===o}expandTo(t,r=Es){if(this.isEmpty||this.isAllTime)return this.clone();let n=this.start;n&&(n=qD(n,t,r));let i=this.end;if(i){const o=qD(i,t,r);i=i.getTime()===o.getTime()?o:yO(o,1,t,r)}return new to({start:n,end:i})}intersection(t){if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return to.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();const r=this.start?.getTime()??-1/0,n=this.end?.getTime()??1/0,i=t.start?.getTime()??-1/0,o=t.end?.getTime()??1/0;let s,a;return i>=r&&i<=n?s=i:r>=i&&r<=o&&(s=r),n>=i&&n<=o?a=n:o>=r&&o<=n&&(a=o),s==null||a==null||isNaN(s)||isNaN(a)?to.empty:new to({start:s===-1/0?null:new Date(s),end:a===1/0?null:new Date(a)})}offset(t,r,n=Es){if(this.isEmpty||this.isAllTime)return this.clone();const i=new to,{start:o,end:s}=this;return o!=null&&(i.start=yO(o,t,r,n)),s!=null&&(i.end=yO(s,t,r,n)),i}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return GD.clone();const r=this.start!=null&&t.start!=null?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,n=this.end!=null&&t.end!=null?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new to({start:r,end:n})}},to=Dv,Dv);u([d({type:Date,json:{write:{allowNull:!0}}})],ct.prototype,"end",void 0),u([X("end")],ct.prototype,"readEnd",null),u([re("end")],ct.prototype,"writeEnd",null),u([d({readOnly:!0,json:{read:!1}})],ct.prototype,"isAllTime",null),u([d({readOnly:!0,json:{read:!1}})],ct.prototype,"isEmpty",null),u([d({type:Date,json:{write:{allowNull:!0}}})],ct.prototype,"start",void 0),u([X("start")],ct.prototype,"readStart",null),u([re("start")],ct.prototype,"writeStart",null),ct=to=u([I("esri.time.TimeExtent")],ct);const GD=new ct,rge=new ct({start:void 0,end:void 0});let nge=0,Vt=class extends F_.EventedMixin(Sk.IdentifiableMixin(hi)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new Ue(-180,-90,180,90,be.WGS84),this.id=Date.now().toString(16)+"-layer-"+nge++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=be.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(t){const r=typeof t=="string"?{url:t}:t;return(await ue(()=>import("./arcgisLayers-adf55c92.js"),["assets/arcgisLayers-adf55c92.js","assets/associatedFeatureServiceUtils-a638208b.js","assets/fetchService-05f74a69.js","assets/lazyLayerLoader-bfd7bb14.js"])).fromUrl(r)}static fromPortalItem(t){return tge(t)}initialize(){this.when().catch(t=>{Ao(t)||ce.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})})}destroy(){const t=this.parent;if(t){const r=this;"layers"in t&&t.layers.includes(r)?t.layers.remove(r):"tables"in t&&t.tables.includes(r)?t.tables.remove(r):"baseLayers"in t&&t.baseLayers.includes(r)?t.baseLayers.remove(r):"referenceLayers"in t&&t.referenceLayers.includes(r)&&t.referenceLayers.remove(r),this._set("parent",null)}}get effectiveVisible(){let t=this.visible;const r=this.parent;return t&&r&&"effectiveVisible"in r&&t&&(t=r.effectiveVisible),t}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){return en(this.url)}createLayerView(t,r){return Promise.reject(new Z("layer:create-layer-view","Layer does not support creating a layer view"))}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await tt(t,{query:{f:"json"},responseType:"json"})).data;throw new Z("layer:no-attribution-data","Layer does not have attribution data")}};u([d({type:String})],Vt.prototype,"attributionDataUrl",void 0),u([d({readOnly:!0})],Vt.prototype,"effectiveVisible",null),u([d({type:Ue})],Vt.prototype,"fullExtent",void 0),u([d({readOnly:!0})],Vt.prototype,"hasAttributionData",null),u([d({type:String,clonable:!1})],Vt.prototype,"id",void 0),u([d({type:Boolean,nonNullable:!0})],Vt.prototype,"legendEnabled",void 0),u([d({type:["show","hide","hide-children"]})],Vt.prototype,"listMode",void 0),u([d({type:Number,range:{min:0,max:1},nonNullable:!0})],Vt.prototype,"opacity",void 0),u([d({clonable:!1})],Vt.prototype,"parent",void 0),u([d({readOnly:!0})],Vt.prototype,"parsedUrl",null),u([d({type:Boolean,readOnly:!0})],Vt.prototype,"persistenceEnabled",void 0),u([d({type:Boolean})],Vt.prototype,"popupEnabled",void 0),u([d({type:Boolean})],Vt.prototype,"attributionVisible",void 0),u([d({type:be})],Vt.prototype,"spatialReference",void 0),u([d({type:String})],Vt.prototype,"title",void 0),u([d({readOnly:!0,json:{read:!1}})],Vt.prototype,"type",void 0),u([d()],Vt.prototype,"url",void 0),u([d({type:ct})],Vt.prototype,"visibilityTimeExtent",void 0),u([d({type:Boolean,nonNullable:!0})],Vt.prototype,"visible",void 0),Vt=u([I("esri.layers.Layer")],Vt);function kI(e,t,r){let n,i;if(e)for(let o=0,s=e.length;o<s;o++){if(n=e.at(o),n?.[t]===r)return n;if(n?.type==="group"&&(i=kI(n.layers,t,r),i))return i}}const ige=e=>{let t=class extends e{constructor(...r){super(...r),this.layers=new Te;const n=s=>{s.parent&&"remove"in s.parent&&s.parent.remove(s)},i=s=>{s.parent=this,this.layerAdded(s),s.type!=="elevation"&&s.type!=="base-elevation"||ce.getLogger(this).error(`Layer 'title:${s.title}, id:${s.id}' of type '${s.type}' is not supported as an operational layer and will therefore be ignored.`)},o=s=>{s.parent=null,this.layerRemoved(s)};this.addHandles([this.layers.on("before-add",s=>{if(s.item===this)return s.preventDefault(),void ce.getLogger(this).error("#add()","Cannot add layer to itself.");n(s.item)}),this.layers.on("after-add",s=>i(s.item)),this.layers.on("after-remove",s=>o(s.item))])}destroy(){const r=this.layers.toArray();for(const n of r)n.destroy();this.layers.destroy()}set layers(r){this._set("layers",Nh(r,this._get("layers")))}add(r,n){const i=this.layers;if(n=i.getNextIndex(n),r instanceof Vt){const o=r;o.parent===this?this.reorder(o,n):i.add(o,n)}else $y(r)?r.then(o=>{this.destroyed||this.add(o,n)}):ce.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(r,n){const i=this.layers;let o=i.getNextIndex(n);r.slice().forEach(s=>{s.parent!==this?(i.add(s,o),o+=1):this.reorder(s,o)})}findLayerById(r){return kI(this.layers,"id",r)}findLayerByUid(r){return kI(this.layers,"uid",r)}remove(r){return this.layers.remove(r)}removeMany(r){return this.layers.removeMany(r)}removeAll(){return this.layers.removeAll()}reorder(r,n){return this.layers.reorder(r,n)}layerAdded(r){}layerRemoved(r){}};return u([d()],t.prototype,"layers",null),t=u([I("esri.support.LayersMixin")],t),t},oge=new Set(["feature","subtype-group"]);function RI(e,t,r){if(e)for(let n=0,i=e.length;n<i;n++){const o=e.at(n);if(o[t]===r)return o;if(o?.type==="group"){const s=RI(o.tables,t,r);if(s)return s}}}const sge=e=>{let t=class extends e{constructor(...r){super(...r),this.tables=new Te,this.addHandles([this.tables.on("after-add",n=>{const i=n.item;i.parent&&i.parent!==this&&"tables"in i.parent&&i.parent.tables.remove(i),i.parent=this,oge.has(i.type)||ce.getLogger(this).error(`Layer 'title:${i.title}, id:${i.id}' of type '${i.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",n=>{n.item.parent=null})])}destroy(){const r=this.tables.toArray();for(const n of r)n.destroy();this.tables.destroy()}set tables(r){this._set("tables",Nh(r,this._get("tables")))}findTableById(r){return RI(this.tables,"id",r)}findTableByUid(r){return RI(this.tables,"uid",r)}};return u([d()],t.prototype,"tables",null),t=u([I("esri.support.TablesMixin")],t),t};let ro=class extends sge(ige(F_.EventedMixin(dt))){constructor(t){super(t),this.allLayers=new _u({getCollections:()=>[this.basemap?.baseLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:r=>"layers"in r?r.layers:null}),this.focusAreas=new IZ,this.allTables=Q0e(this),this.basemap=null,this.editableLayers=new _u({getCollections:()=>[this.allLayers],itemFilterFunction:Fme}),this.ground=new qS,this._basemapCache=Z0e()}destroy(){K0e(this._basemapCache),this._basemapCache=null,this.focusAreas.destroy(),this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=_o(this.basemap),_o(this.ground),this._set("ground",null)}castBasemap(t){return Y0e(t,this._basemapCache)}castGround(t){return X0e(t)??this._get("ground")}findLayerById(t){return this.allLayers.find(r=>r.id===t)}findTableById(t){return this.allTables.find(r=>r.id===t)}};u([d({readOnly:!0,dependsOn:[]})],ro.prototype,"allLayers",void 0),u([d({type:IZ,nonNullable:!0,json:{write:{overridePolicy:e=>({enabled:e.areas.length>0,ignoreOrigin:!0})}}})],ro.prototype,"focusAreas",void 0),u([d({readOnly:!0})],ro.prototype,"allTables",void 0),u([d({type:B0,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],ro.prototype,"basemap",void 0),u([pt("basemap")],ro.prototype,"castBasemap",null),u([d({readOnly:!0})],ro.prototype,"editableLayers",void 0),u([d({type:qS,nonNullable:!0})],ro.prototype,"ground",void 0),u([pt("ground")],ro.prototype,"castGround",null),u([d()],ro.prototype,"undoRedo",void 0),ro=u([I("esri.Map")],ro);const age=ro;let Lc=class extends Se{constructor(t){super(t),this.row=0,this.column=0,this.rows=1,this.columns=1}equals(t){return t!=null&&this.row===t.row&&this.rows===t.rows&&this.column===t.column&&this.columns===t.columns}};u([d({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Lc.prototype,"row",void 0),u([d({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Lc.prototype,"column",void 0),u([d({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Lc.prototype,"rows",void 0),u([d({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Lc.prototype,"columns",void 0),Lc=u([I("esri.CameraLayout")],Lc);const QZ=Lc;let lge=class{constructor(t,r){this.min=t,this.max=r,this.range=r-t}normalize(t,r=0,n=!1){return WD(this.range,this.min,this.max,t,r,n)}clamp(t,r=0){return ac(t-r,this.min,this.max)+r}monotonic(t,r,n){return t<r?r:r+LI(this.range,t-r,n)}minimalMonotonic(t,r,n){return WD(this.range,t,t+this.range,r,n)}center(t,r,n){return r=this.monotonic(t,r,n),this.normalize((t+r)/2,n)}diff(t,r,n){return this.monotonic(t,r,n)-t}shortestSignedDiff(t,r){t=this.normalize(t);const n=(r=this.normalize(r))-t,i=r<t?this.minimalMonotonic(t,r)-t:r-this.minimalMonotonic(r,t);return Math.abs(n)<Math.abs(i)?n:i}contains(t,r,n){return r=this.minimalMonotonic(t,r),(n=this.minimalMonotonic(t,n))>t&&n<r}};function WD(e,t,r,n,i=0,o=!1){return(n-=i)<t?n+=LI(e,t-n):n>r&&(n-=LI(e,n-r)),o&&n===r&&(n=t),n+i}function LI(e,t,r=0){return Math.ceil((t-r)/e)*e+r}const uge=new lge(0,360);let Rs=class extends Se.ClonableMixin(z){constructor(...t){super(...t),this.position=new Ve([0,0,0]),this.heading=0,this.tilt=0,this.fov=55,this.layout=new QZ}normalizeCtorArgs(t,r,n,i){if(t&&typeof t=="object"&&("x"in t||Array.isArray(t))){const o={position:t};return r!=null&&(o.heading=r),n!=null&&(o.tilt=n),i!=null&&(o.fov=i),o}return t}writePosition(t,r,n,i){const o=t.clone();o.x=Vn(t.x||0),o.y=Vn(t.y||0),o.z=t.hasZ?Vn(t.z||0):t.z,r[n]=o.write({},i)}readPosition(t,r){const n=new Ve;return n.read(t,r),n.x=Vn(n.x||0),n.y=Vn(n.y||0),n.z=n.hasZ?Vn(n.z||0):n.z,n}equals(t){return t!=null&&this.tilt===t.tilt&&this.heading===t.heading&&this.fov===t.fov&&this.position.equals(t.position)&&this.layout.equals(t.layout)}};u([d({type:Ve,json:{write:{isRequired:!0}}})],Rs.prototype,"position",void 0),u([re("position")],Rs.prototype,"writePosition",null),u([X("position")],Rs.prototype,"readPosition",null),u([d({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),pt(e=>uge.normalize(Vn(e)))],Rs.prototype,"heading",void 0),u([d({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),pt(e=>ac(Vn(e),-180,180))],Rs.prototype,"tilt",void 0),u([d({type:Number,nonNullable:!0,json:{default:55,write:!0}}),pt(e=>ac(Vn(e,55),1,170))],Rs.prototype,"fov",void 0),u([d({type:QZ,nonNullable:!0,json:{read:!1,write:!1}})],Rs.prototype,"layout",void 0),Rs=u([I("esri.Camera")],Rs);const cge=Rs;function XZ(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function eK(e){return e.points!==void 0}function tK(e){return e.x!==void 0&&e.y!==void 0}function rK(e){return e.paths!==void 0||e.curvePaths!==void 0}function J0(e){return e.rings!==void 0||e.curveRings!==void 0}function Il(e){return e==null?null:e instanceof $n?e:tK(e)?Ve.fromJSON(e):rK(e)?Tn.fromJSON(e):J0(e)?dr.fromJSON(e):eK(e)?uo.fromJSON(e):XZ(e)?Ue.fromJSON(e):null}function n$(e){return e?tK(e)?"esriGeometryPoint":rK(e)?"esriGeometryPolyline":J0(e)?"esriGeometryPolygon":XZ(e)?"esriGeometryEnvelope":eK(e)?"esriGeometryMultipoint":null:null}const dge={esriGeometryPoint:Ve,esriGeometryPolyline:Tn,esriGeometryPolygon:dr,esriGeometryEnvelope:Ue,esriGeometryMultipoint:uo,esriGeometryMultiPatch:dr};function pge(e){return e&&dge[e]||null}const fge=Or()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),HD=Or()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),My={base:$n,key:"type",typeMap:{extent:Ue,multipoint:uo,point:Ve,polyline:Tn,polygon:dr}};var DI;let Ql=DI=class extends z{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new DI({rotation:this.rotation,scale:this.scale,targetGeometry:this.targetGeometry!=null?this.targetGeometry.clone():null,camera:this.camera!=null?this.camera.clone():null})}};u([d({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:mO}}}}})],Ql.prototype,"rotation",void 0),u([pt("rotation")],Ql.prototype,"castRotation",null),u([d({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:mO}}}}})],Ql.prototype,"scale",void 0),u([d({types:My,json:{read:Il,write:!0,origins:{"web-scene":{read:Il,write:{overridePolicy:mO}}}}})],Ql.prototype,"targetGeometry",void 0),u([d({type:cge,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],Ql.prototype,"camera",void 0),Ql=DI=u([I("esri.Viewpoint")],Ql);const ip=Ql;function mO(){return{enabled:!this.camera}}let hge=class nK{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(Aj),this._values=new Map,this.multipleOriginsSupported=!0}clone(t){const r=new nK,n=this._originStores[Re.DEFAULTS];n&&n.forEach((i,o)=>{r.set(o,D(i),Re.DEFAULTS)});for(let i=Re.SERVICE;i<Aj;i++){const o=this._originStores[i];o&&o.forEach((s,a)=>{t&&t.has(a)||r.set(a,D(s),i)})}return r}get(t,r){const n=r===void 0?this._values:this._originStores[r];return n?n.get(t):void 0}keys(t){const r=t==null?this._values:this._originStores[t];return r?[...r.keys()]:[]}set(t,r,n=Re.USER){let i=this._originStores[n];if(i||(i=new Map,this._originStores[n]=i),i.set(t,r),!this._values.has(t)||this._propertyOriginMap.get(t)<=n){const o=this._values.get(t);return this._values.set(t,r),this._propertyOriginMap.set(t,n),o!==r}return!1}delete(t,r=Re.USER){const n=this._originStores[r];if(!n)return;const i=n.get(t);if(n.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===r){this._values.delete(t);for(let o=r-1;o>=0;o--){const s=this._originStores[o];if(s&&s.has(t)){this._values.set(t,s.get(t)),this._propertyOriginMap.set(t,o);break}}}return i}has(t,r){const n=r===void 0?this._values:this._originStores[r];return!!n&&n.has(t)}revert(t,r){for(;r>0&&!this.has(t,r);)--r;const n=this._originStores[r],i=n?.get(t),o=this._values.get(t);return this._values.set(t,i),this._propertyOriginMap.set(t,r),o!==i}originOf(t){return this._propertyOriginMap.get(t)||Re.DEFAULTS}isAtOrigin(t,r){return this.has(t,r)&&this.originOf(t)===r}isBelowOrigin(t,r){return!this.has(t)||this.originOf(t)<r}forEach(t){this._values.forEach(t)}};const iK=e=>{let t=class extends e{constructor(...r){super(...r);const n=Yn(this),i=n.store,o=new hge;n.store=o,RW(n,i,o)}read(r,n){DW(this,r,n)}getAtOrigin(r,n){const i=gO(this),o=pl(n);if(typeof r=="string")return i.get(r,o);const s={};return r.forEach(a=>{s[a]=i.get(a,o)}),s}originOf(r){return Rg(this.originIdOf(r))}originIdOf(r){return gO(this).originOf(r)}revert(r,n){const i=gO(this),o=pl(n),s=Yn(this);let a;a=typeof r=="string"?r==="*"?i.keys(o):[r]:r,a.forEach(l=>{s.invalidate(l),i.revert(l,o),s.commit(l)})}};return t=u([I("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function gO(e){return Yn(e).store}let JD=class extends iK(dt){};JD=u([I("esri.core.ReadOnlyMultiOriginJSONSupport")],JD);const yge=e=>{let t=class extends e{constructor(...r){super(...r)}clear(r,n="user"){Yn(this).clearOrigin(r,pl(n))}write(r,n){return zW(this,r=r||{},n),r}setAtOrigin(r,n,i){Yn(this).setAtOrigin(r,n,pl(i))}removeOrigin(r){const n=ZD(this),i=pl(r),o=n.keys(i);for(const s of o)n.originOf(s)===i&&n.set(s,n.get(s,i),Re.USER)}updateOrigin(r,n){const i=ZD(this),o=pl(n),s=Yd(this,r);for(let a=o+1;a<Aj;++a)i.delete(r,a);i.set(r,s,o)}toJSON(r){return this.write({},r)}};return t=u([I("esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function ZD(e){return Yn(e).store}const i$=e=>{let t=class extends yge(iK(e)){constructor(...r){super(...r)}};return t=u([I("esri.core.MultiOriginJSONSupport")],t),t};let FI=class extends i$(dt){};FI=u([I("esri.core.MultiOriginJSONSupport")],FI);async function mge(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return Dm(e);const r=be.WGS84;return await wk(t,r),bk(e,r)}function gge(e,t){if(!_k(e,t)){const r=e.typeKeywords;r?r.push(t):e.typeKeywords=[t]}}function _k(e,t){return!!e.typeKeywords?.includes(t)}function iKe(e){return _k(e,$k.HOSTED_SERVICE)}function vge(e,t){const r=e.typeKeywords;if(r){const n=r.indexOf(t);n>-1&&r.splice(n,1)}}function oKe(e,t,r){r?gge(e,t):vge(e,t)}async function sKe(e){const t=e.clone().normalize();let r;if(t.length>1)for(const n of t)r?n.width>r.width&&(r=n):r=n;else r=t[0];return mge(r)}const $k={CHARTS:"Charts",DYNAMIC:"Dynamic",DEVELOPER_BASEMAP:"DeveloperBasemap",GROUP_LAYER_MAP:"Map",HOSTED_SERVICE:"Hosted Service",JSAPI:"ArcGIS API for JavaScript",LOCAL_SCENE:"ViewingMode-Local",METADATA:"Metadata",MULTI_LAYER:"Multilayer",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer",SINGLE_LAYER:"Singlelayer",SUBTYPE_GROUP_LAYER:"SubtypeGroupLayer",SUBTYPE_GROUP_TABLE:"SubtypeGroupTable",TABLE:"Table",TILED_IMAGERY:"Tiled Imagery"};function bge(e){const{portal:t,isOrgItem:r,itemControl:n}=e,i=t.user?.privileges;let o=!i||i.includes("features:user:edit"),s=!!r&&!!i?.includes("features:user:fullEdit");const a=n==="update"||n==="admin";return a?s=o=!0:s&&(o=!0),{features:{edit:o,fullEdit:s},content:{updateItem:a}}}let Xl=class extends z{constructor(t){super(t),this.facilityIdField=null,this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};u([d({type:String,json:{write:{isRequired:!0}}})],Xl.prototype,"facilityIdField",void 0),u([d({type:String,json:{write:{isRequired:!0}}})],Xl.prototype,"layerId",void 0),u([d({type:String,json:{write:{isRequired:!0}}})],Xl.prototype,"nameField",void 0),u([d({type:String,json:{write:!0}})],Xl.prototype,"siteIdField",void 0),u([d({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],Xl.prototype,"sublayerId",void 0),Xl=u([I("esri.layers.support.FacilityLayerInfo")],Xl);const wge=Xl;let Bo=class extends z{constructor(t){super(t),this.facilityIdField=null,this.layerId=null,this.levelIdField=null,this.levelNumberField=null,this.longNameField=null,this.shortNameField=null,this.sublayerId=null,this.verticalOrderField=null}};u([d({type:String,json:{write:{isRequired:!0}}})],Bo.prototype,"facilityIdField",void 0),u([d({type:String,json:{write:{isRequired:!0}}})],Bo.prototype,"layerId",void 0),u([d({type:String,json:{write:{isRequired:!0}}})],Bo.prototype,"levelIdField",void 0),u([d({type:String,json:{write:{isRequired:!0}}})],Bo.prototype,"levelNumberField",void 0),u([d({type:String,json:{write:{isRequired:!0}}})],Bo.prototype,"longNameField",void 0),u([d({type:String,json:{write:{isRequired:!0}}})],Bo.prototype,"shortNameField",void 0),u([d({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],Bo.prototype,"sublayerId",void 0),u([d({type:String,json:{write:{isRequired:!0}}})],Bo.prototype,"verticalOrderField",void 0),Bo=u([I("esri.layers.support.LevelLayerInfo")],Bo);const xge=Bo;let Dc=class extends z{constructor(t){super(t),this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};u([d({type:String,json:{write:{isRequired:!0}}})],Dc.prototype,"layerId",void 0),u([d({type:String,json:{write:{isRequired:!0}}})],Dc.prototype,"nameField",void 0),u([d({type:String,json:{write:{isRequired:!0}}})],Dc.prototype,"siteIdField",void 0),u([d({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],Dc.prototype,"sublayerId",void 0),Dc=u([I("esri.layers.support.SiteLayerInfo")],Dc);const Sge=Dc;let zp=class extends z{constructor(t){super(t),this.levelLayer=null,this.facilityLayer=null,this.siteLayer=null}};u([d({type:xge,json:{write:{isRequired:!0}}})],zp.prototype,"levelLayer",void 0),u([d({type:wge,json:{write:{isRequired:!0}}})],zp.prototype,"facilityLayer",void 0),u([d({type:Sge,json:{write:!0}})],zp.prototype,"siteLayer",void 0),zp=u([I("esri.support.MapFloorInfo")],zp);const _ge=zp;var oa;(function(e){e[e.SAVE=0]="SAVE",e[e.SAVE_AS=1]="SAVE_AS"})(oa||(oa={}));var UI;let Bp=UI=class extends z{constructor(e){super(e),this.activeRange=null,this.currentRangeExtent=null,this.fullRangeExtent=null}clone(){return new UI(D({activeRange:this.activeRange,currentRangeExtent:this.currentRangeExtent,fullRangeExtent:this.fullRangeExtent}))}};u([d({type:String,nonNullable:!0,json:{read:{source:"activeRangeName"},write:{target:"activeRangeName",isRequired:!0}}})],Bp.prototype,"activeRange",void 0),u([d({type:[Number],json:{write:!0}})],Bp.prototype,"currentRangeExtent",void 0),u([d({type:[Number],json:{write:!0}})],Bp.prototype,"fullRangeExtent",void 0),Bp=UI=u([I("esri.webdoc.RangeInfo")],Bp);const Tk=Bp;var zI;let Ls=zI=class extends z{constructor(e){super(e),this.enabled=!1,this.longNames=!1,this.minimized=!1,this.pinnedLevels=!1,this.site=null,this.facility=null,this.level=null}clone(){return new zI(D({enabled:this.enabled,longNames:this.longNames,minimized:this.minimized,pinnedLevels:this.pinnedLevels,site:this.site,facility:this.facility,level:this.level}))}};u([d({type:Boolean,json:{read:{source:"enabled"},write:{target:"enabled"}}})],Ls.prototype,"enabled",void 0),u([d({type:Boolean,json:{read:{source:"longNames"},write:{target:"longNames"}}})],Ls.prototype,"longNames",void 0),u([d({type:Boolean,json:{read:{source:"minimized"},write:{target:"minimized"}}})],Ls.prototype,"minimized",void 0),u([d({type:Boolean,json:{read:{source:"pinnedLevels"},write:{target:"pinnedLevels"}}})],Ls.prototype,"pinnedLevels",void 0),u([d({type:String,json:{read:{source:"site"},write:{target:"site"}}})],Ls.prototype,"site",void 0),u([d({type:String,json:{read:{source:"facility"},write:{target:"facility"}}})],Ls.prototype,"facility",void 0),u([d({type:String,json:{read:{source:"level"},write:{target:"level"}}})],Ls.prototype,"level",void 0),Ls=zI=u([I("esri.webdoc.widgets.FloorFilter")],Ls);const $ge=Ls;var BI;const Tb=new Pe({slider:"slider",picker:"picker"});let Vp=BI=class extends z{constructor(e){super(e),this.interactionMode=null,this.numStops=null,this.stopInterval=null}clone(){return new BI({interactionMode:this.interactionMode,numStops:this.numStops,stopInterval:this.stopInterval})}};u([d({type:Tb.apiValues,nonNullable:!0,json:{type:Tb.jsonValues,default:null,read:{reader:Tb.read},write:{isRequired:!0,writer:Tb.write}}})],Vp.prototype,"interactionMode",void 0),u([d({type:ze,json:{read:{source:"numberOfStops"},write:{target:"numberOfStops",overridePolicy(){const e=this.stopInterval!=null;return{enabled:!e,isRequired:!e}}}}})],Vp.prototype,"numStops",void 0),u([d({type:Number,json:{write:{overridePolicy(){return{isRequired:this.numStops==null}}}}})],Vp.prototype,"stopInterval",void 0),Vp=BI=u([I("esri.webdoc.widgets.Range")],Vp);const Tge=Vp,Ok=Or()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});let fs=class extends Se.ClonableMixin(z){constructor(t){super(t),this.unit="milliseconds",this.value=0}toMilliseconds(){return KZ(this.value,this.unit,"milliseconds")}};u([ye(Ok,{nonNullable:!0})],fs.prototype,"unit",void 0),u([d({type:Number,json:{write:!0},nonNullable:!0})],fs.prototype,"value",void 0),fs=u([I("esri.time.TimeInterval")],fs);var VI;let Ir=VI=class extends z{constructor(e){super(e),this.currentTimeExtent=null,this.fullTimeExtent=null,this.loop=!1,this.numStops=null,this.numThumbs=null,this.stopDelay=null,this.stopInterval=null,this.stops=null}readCurrentTimeExtent(e){return e?ct.fromArray(e):void 0}writeCurrentTimeExtent(e,t,r){e&&nr(r,e.toArray(),t)}readFullTimeExtent(e,t){const r=t.properties;if(!r)return;const n=r.endTime!=null?new Date(r.endTime):null,i=r.startTime!=null?new Date(r.startTime):null;return new ct({start:i,end:n})}writeFullTimeExtent(e,t){if(!e)return;const r=t.properties=t.properties||{},n=e.end,i=e.start;n&&(r.endTime=n!=null?n.getTime():null),i&&(r.startTime=i!=null?i.getTime():null)}readStopInterval(e,t,r){return e?fs.fromJSON({value:e.interval,unit:e.units},r):null}writeStopInterval(e,t,r,n){if(!e)return;const i=e.toJSON(n);nr("properties.timeStopInterval",{interval:i.value,units:i.unit},t)}readStops(e){return e?.length?e.map(t=>new Date(t)):null}writeStops(e,t,r){e?.length&&nr(r,e.map(n=>n.getTime()),t)}clone(){return new VI(D({currentTimeExtent:this.currentTimeExtent,fullTimeExtent:this.fullTimeExtent,loop:this.loop,numStops:this.numStops,numThumbs:this.numThumbs,stopDelay:this.stopDelay,stopInterval:this.stopInterval,stops:this.stops}))}};u([d({type:ct,json:{type:[[ze,Ty]],read:{source:"properties.currentTimeExtent"},write:{target:"properties.currentTimeExtent"}}})],Ir.prototype,"currentTimeExtent",void 0),u([X("currentTimeExtent")],Ir.prototype,"readCurrentTimeExtent",null),u([re("currentTimeExtent")],Ir.prototype,"writeCurrentTimeExtent",null),u([d({type:ct,json:{read:{source:["properties.endTime","properties.startTime"]},write:{target:{"properties.endTime":{type:Number},"properties.startTime":{type:Number}}}}})],Ir.prototype,"fullTimeExtent",void 0),u([X("fullTimeExtent")],Ir.prototype,"readFullTimeExtent",null),u([re("fullTimeExtent")],Ir.prototype,"writeFullTimeExtent",null),u([d({type:Boolean,nonNullable:!0,json:{default:!1,read:{source:"properties.loop"},write:{target:"properties.loop"}}})],Ir.prototype,"loop",void 0),u([d({type:ze,json:{read:{source:"properties.numberOfStops"},write:{target:"properties.numberOfStops",overridePolicy(){const e=!!this.stopInterval,t=!!this.stops?.length,r=!(e||t);return{enabled:r,isRequired:r}}}}})],Ir.prototype,"numStops",void 0),u([d({type:[1,2],nonNullable:!0,json:{type:ze,read:{source:"properties.thumbCount"},write:{target:"properties.thumbCount",isRequired:!0}}})],Ir.prototype,"numThumbs",void 0),u([d({type:Number,nonNullable:!0,json:{read:{source:"properties.thumbMovingRate"},write:{target:"properties.thumbMovingRate",isRequired:!0}}})],Ir.prototype,"stopDelay",void 0),u([d({type:fs,json:{read:{source:"properties.timeStopInterval"},write:{target:{"properties.timeStopInterval.interval":{type:Number},"properties.timeStopInterval.units":{type:Ok.jsonValues.filter(e=>e!=="esriTimeUnitsUnknown")}},overridePolicy(){const e=this.numStops!=null,t=!!this.stops?.length;return{enabled:!t,isRequired:!(e||t)}}}}})],Ir.prototype,"stopInterval",void 0),u([X("stopInterval")],Ir.prototype,"readStopInterval",null),u([re("stopInterval")],Ir.prototype,"writeStopInterval",null),u([d({type:[Date],json:{type:[ze],read:{source:"properties.stops"},write:{target:"properties.stops",overridePolicy(){return{isRequired:this.numStops==null&&!this.stopInterval}}}}})],Ir.prototype,"stops",void 0),u([X("stops")],Ir.prototype,"readStops",null),u([re("stops")],Ir.prototype,"writeStops",null),Ir=VI=u([I("esri.webdoc.widgets.TimeSlider")],Ir);const Oge=Ir;var qI;let qp=qI=class extends z{constructor(e){super(e),this.range=null,this.timeSlider=null,this.floorFilter=null}clone(){return new qI(D({range:this.range,timeSlider:this.timeSlider,floorFilter:this.floorFilter}))}};u([d({type:Tge,json:{write:!0}})],qp.prototype,"range",void 0),u([d({type:Oge,json:{write:!0}})],qp.prototype,"timeSlider",void 0),u([d({type:$ge,json:{write:!0}})],qp.prototype,"floorFilter",void 0),qp=qI=u([I("esri.webdoc.Widgets")],qp);const Ege=qp,jge={width:600,height:400},Ob=1.5;function Ige(e,t){t=t||jge;let{width:r,height:n}=t;const i=r/n;return i<Ob?n=r/Ob:i>Ob&&(r=n*Ob),r>e.width&&(n*=e.width/r,r=e.width),n>e.height&&(r*=e.height/n,n=e.height),{width:Math.round(r),height:Math.round(n)}}function Age(e,t){return{...oK(e,t),readResourcePaths:[]}}function pKe(e,t,r){const n=en(e.itemUrl);return{...oK(e,t),messages:[],writtenProperties:[],blockedRelativeUrls:[],verifyItemRelativeUrls:n?{rootPath:n.path,writtenUrls:[]}:null,resources:r?{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}:null}}function oK(e,t){return{origin:t,url:en(e.itemUrl),portal:e.portal||te.getDefault(),portalItem:e}}function Pge(e,t){return t?{...t,query:{...e??{},...t.query}}:{query:e}}function Nge(e){return typeof e=="string"?en(e):D(e)}function Mge(e,t,r){const n={};for(const i in e){if(i==="declaredClass")continue;const o=e[i];if(o!=null&&typeof o!="function")if(Array.isArray(o))n[i]=o.map(s=>Mge(s));else if(typeof o=="object")if(o.toJSON){const s=o.toJSON(r?.[i]);n[i]=t?s:JSON.stringify(s)}else n[i]=t?o:JSON.stringify(o);else n[i]=o}return n}function Cge(e,t){return e?t&&AC(e)?t:IC(e)??He?.findCredential(e)?.token:null}async function fKe(e,t,r){const n=Cge(e,t);return n||(!He&&Ye.request.useIdentity&&await ue(()=>import("./IdentityManager-44f94195.js").then(o=>o.I),["assets/IdentityManager-44f94195.js","assets/sanitizerUtils-d00433fc.js"]),(await He.getCredential(e,r))?.token)}function hKe(e){return{geometryType:n$(e[0]),geometries:e.map(t=>t.toJSON())}}function kge(e,t,r){const n=pge(t);return e.map(i=>{const o=n.fromJSON(i);return o.spatialReference=r,o})}let fu=class extends z{constructor(t){super(t),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const t=this.geometries.map(i=>i.toJSON()),r=this.geometries[0],n={};return n.outSR=N5(this.outSpatialReference),n.inSR=N5(r.spatialReference),n.geometries=JSON.stringify({geometryType:n$(r),geometries:t}),this.transformation&&(n.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),this.transformForward!=null&&(n.transformForward=this.transformForward),n}};u([d()],fu.prototype,"geometries",void 0),u([d({type:be,json:{read:{source:"outSR"}}})],fu.prototype,"outSpatialReference",void 0),u([d()],fu.prototype,"transformation",void 0),u([d()],fu.prototype,"transformForward",void 0),fu=u([I("esri.rest.support.ProjectParameters")],fu);const Rge=mr(fu);async function Lge(e,t,r){t=Rge(t);const n=Nge(e),i={...n.query,f:"json",...t.toJSON()},o=t.outSpatialReference,s=n$(t.geometries[0]),a=Pge(i,r);return tt(n.path+"/project",a).then(({data:{geometries:l}})=>kge(l,s,o))}function Dge(e,t){return t.resourceInfo?sK(t,t.resourceInfo,{origin:e.origin}):t.portalItem?.id?Fge(e,t,t.portalItem):Promise.resolve()}function sK(e,t,r){const n={context:{...r,layerContainerType:"operational-layers"}};return e.portalItem&&(n.context.portal=e.portalItem.portal||te.getDefault()),ue(()=>import("./layersCreator-eddff4d8.js"),["assets/layersCreator-eddff4d8.js","assets/loadUtils-8b4d1e2c.js","assets/fetchService-05f74a69.js","assets/associatedFeatureServiceUtils-a638208b.js","assets/lazyLayerLoader-bfd7bb14.js","assets/portalLayers-b0abf018.js"]).then(({populateOperationalLayers:i})=>{const o=[],s=t.operationalLayers;s?.length&&o.push(i(e.layers,s,n));const a={...n,context:{...n.context,layerContainerType:"tables"},defaultLayerType:"ArcGISFeatureLayer"},l=t.tables;return l?.length&&o.push(i(e.tables,l,a)),Promise.allSettled(o).then(()=>{})})}async function Fge(e,t,r){if(await r.load().catch(s=>{throw new Z(`${e.name}:load-portal-item`,"Failed to load portal item",{error:s})}),r.type!==e.itemType)throw new Z(`${e.name}:invalid-portal-item`,`Invalid portal item type '${r.type}', expected '${e.itemType}'`,{type:r.type});const n=await r.fetchData();t.resourceInfo=n;const i=Age(r,e.origin);await Uge(e,t,n,i),t.resourceReferences={portalItem:r,paths:i.readResourcePaths};const o=await Bge(t.initialViewProperties,r,ce.getLogger(t));if(o){const s=t.initialViewProperties?.clone()??e.createInitialViewProperties();s.viewpoint=o,t.initialViewProperties=s}}function Uge(e,t,r,n){const i=zge(e,r);return t.read(i,n),sK(t,i,n)}function zge(e,t){const r=e.parseVersion(t.version||"",e.name);return e.currentVersion.validate(r),t.version=`${r.major}.${r.minor}`,t}async function Bge(e,t,r){if(e?.viewpoint?.targetGeometry)return null;const i=await Vge(e,t,r);return i?new ip({targetGeometry:i}):null}async function Vge(e,t,r){const n=e?.spatialReference,i=t?.extent;if(!n||!i)return null;if(n.isWGS84)return i.clone();if(n.isWebMercator)return Cw(i);const{getGeometryServiceURL:o}=await ue(()=>import("./geometryServiceUtils-0398b1da.js"),[]);try{const s=await o(t),a=new fu({geometries:[i],outSpatialReference:n});return(await Lge(s,a))[0]}catch(s){r.error("Error projecting item's extent:",s)}return null}function KD(e){return{enabled:!!e?.length}}const Ek=new Pe({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"globalThis-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});var GI;let Gp=GI=class extends z{constructor(e){super(e),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new GI({exactMatch:this.exactMatch,type:this.type,name:this.name})}};u([d({type:Boolean,json:{write:!0}})],Gp.prototype,"exactMatch",void 0),u([d({type:String,json:{write:!0}})],Gp.prototype,"name",void 0),u([ye(Ek)],Gp.prototype,"type",void 0),Gp=GI=u([I("esri.webdoc.applicationProperties.SearchLayerField")],Gp);const qge=Gp;var WI;let Wp=WI=class extends z{constructor(e){super(e),this.field=null,this.id=null,this.subLayer=null}clone(){return new WI(D({field:this.field,id:this.id,subLayer:this.subLayer}))}};u([d({type:qge,json:{write:{isRequired:!0}}})],Wp.prototype,"field",void 0),u([d({type:String,json:{write:{isRequired:!0}}})],Wp.prototype,"id",void 0),u([d({type:ze,json:{write:!0}})],Wp.prototype,"subLayer",void 0),Wp=WI=u([I("esri.webdoc.applicationProperties.SearchLayer")],Wp);const Gge=Wp;var HI;let Hp=HI=class extends z{constructor(e){super(e),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new HI({exactMatch:this.exactMatch,type:this.type,name:this.name})}};u([d({type:Boolean,json:{write:!0}})],Hp.prototype,"exactMatch",void 0),u([d({type:String,json:{write:!0}})],Hp.prototype,"name",void 0),u([ye(Ek)],Hp.prototype,"type",void 0),Hp=HI=u([I("esri.webdoc.applicationProperties.SearchTableField")],Hp);const Wge=Hp;var JI;let Jm=JI=class extends z{constructor(e){super(e),this.field=null,this.id=null}clone(){return new JI(D({field:this.field,id:this.id}))}};u([d({type:Wge,json:{write:{isRequired:!0}}})],Jm.prototype,"field",void 0),u([d({type:String,json:{write:{isRequired:!0}}})],Jm.prototype,"id",void 0),Jm=JI=u([I("esri.webdoc.applicationProperties.SearchTable")],Jm);const Hge=Jm;var ZI;const aK=Te.ofType(Gge),lK=Te.ofType(Hge);let Ds=ZI=class extends z{constructor(e){super(e),this.addressSearchEnabled=!0,this.enabled=!0,this.hintText=null,this.layers=new aK,this.tables=new lK}readAddressSearchEnabled(e){return!e}writeAddressSearchEnabled(e,t,r){t[r]=!e}clone(){return new ZI(D({addressSearchEnabled:this.addressSearchEnabled,enabled:this.enabled,hintText:this.hintText,layers:this.layers,tables:this.tables}))}};u([d({type:Boolean,nonNullable:!0,json:{read:{source:"disablePlaceFinder"},write:{target:"disablePlaceFinder",isRequired:!0},origins:{"web-scene":{read:!1,write:!1}}}})],Ds.prototype,"addressSearchEnabled",void 0),u([X("addressSearchEnabled")],Ds.prototype,"readAddressSearchEnabled",null),u([re("addressSearchEnabled")],Ds.prototype,"writeAddressSearchEnabled",null),u([d({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-map":{write:{isRequired:!0}},"web-scene":{default:!0,write:!0}}}})],Ds.prototype,"enabled",void 0),u([d({type:String,json:{write:!0}})],Ds.prototype,"hintText",void 0),u([d({type:aK,json:{write:{overridePolicy:KD},origins:{"web-scene":{write:{isRequired:!0}}}}})],Ds.prototype,"layers",void 0),u([d({type:lK,json:{read:!0,write:{overridePolicy:KD}}})],Ds.prototype,"tables",void 0),Ds=ZI=u([I("esri.webdoc.applicationProperties.Search")],Ds);const Jge=Ds;var KI;let Zw=KI=class extends z{constructor(e){super(e),this.search=null}clone(){return new KI(D({search:this.search}))}};u([d({type:Jge,json:{write:!0}})],Zw.prototype,"search",void 0),Zw=KI=u([I("esri.webdoc.applicationProperties.Viewing")],Zw);const Zge=Zw;var YI;let Jp=YI=class extends z{constructor(e){super(e),this.editing=null,this.offline=null,this.viewing=null}clone(){return new YI(D({editing:this.editing,offline:this.offline,viewing:this.viewing}))}};u([d({json:{write:!0}})],Jp.prototype,"editing",void 0),u([d({json:{write:!0}})],Jp.prototype,"offline",void 0),u([d({type:Zge,json:{write:!0}})],Jp.prototype,"viewing",void 0),Jp=YI=u([I("esri.webmap.ApplicationProperties")],Jp);const Kge=Jp;var QI;let al=QI=class extends z{constructor(){super(...arguments),this.url=""}destroy(){this.url=""}get isSecureUrl(){return TG(this.url)}get isDataURI(){return Cl(this.url)}clone(){return new QI({url:this.url})}};u([d({type:String,json:{write:{isRequired:!0}}})],al.prototype,"url",void 0),u([d()],al.prototype,"isSecureUrl",null),u([d()],al.prototype,"isDataURI",null),al=QI=u([I("esri.webdoc.support.SlideThumbnail")],al);const Yge={type:ct,json:{read:{source:"timeExtent",reader:e=>e?Array.isArray(e)?ct.fromArray(e):ct.fromJSON(e):null},write:{writer:(e,t,r,n)=>{e&&(e.isEmpty?n?.messages&&n.messages.push(new Z("invalid-timeExtent","TimeExtent cannot be empty")):t[r]=e.toArray())},target:{timeExtent:{type:[[ze,Ty]]}}}}};var XI;let Fs=XI=class extends Sk.IdentifiableMixin(z){constructor(e){super(e),this.name=null,this.thumbnail=new al,this.timeExtent=null}castThumbnail(e){return typeof e=="string"?new al({url:e}):mr(al,e)}set viewpoint(e){const{targetGeometry:t,scale:r}=e;t!=null&&t.type==="point"&&r==null&&ce.getLogger(this).warn("Bookmark.viewpoint should include 'scale' when its targetGeometry is a point.",e),this._set("viewpoint",e)}readViewpoint(e,t){const{extent:r,viewpoint:n}=t;return ip.fromJSON(n||{targetGeometry:r})}writeViewpoint(e,t,r,n){if(!e)return;const{targetGeometry:i}=e;if(i==null||i.type==="extent")i!=null&&(t.extent=i.toJSON()),t[r]=e.toJSON();else{const o="Bookmark.viewpoint cannot be written to JSON when the viewpoint's targetGeometry is not an extent.";n?.messages?n.messages.push(new Z("property:unsupported",o)):ce.getLogger(this).error(o)}}clone(){return new XI(D({name:this.name,thumbnail:this.thumbnail,timeExtent:this.timeExtent,viewpoint:this.viewpoint}))}};u([d({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],Fs.prototype,"name",void 0),u([d({type:al,json:{write:{overridePolicy:e=>({enabled:!(!e||!e.url)})}}})],Fs.prototype,"thumbnail",void 0),u([pt("thumbnail")],Fs.prototype,"castThumbnail",null),u([d(Yge)],Fs.prototype,"timeExtent",void 0),u([d({type:ip,nonNullable:!0,json:{write:!0}})],Fs.prototype,"viewpoint",null),u([X("viewpoint",["extent","viewpoint"])],Fs.prototype,"readViewpoint",null),u([re("viewpoint")],Fs.prototype,"writeViewpoint",null),Fs=XI=u([I("esri.webmap.Bookmark")],Fs);const Qge=Fs;var eA;let Kw=eA=class extends z{constructor(e){super(e),this.color=new ke([0,0,0,1])}clone(){return new eA(D({color:this.color}))}};u([d({type:ke,json:{write:!0}})],Kw.prototype,"color",void 0),Kw=eA=u([I("esri.webmap.background.ColorBackground")],Kw);const jk=Kw;let Na=class extends Se.ClonableMixin(dt){constructor(t){super(t),this.background=null,this.rangeInfo=null,this.spatialReference=null,this.timeExtent=null,this.timeZone=Es,this.viewpoint=null}};u([d({type:jk})],Na.prototype,"background",void 0),u([d({type:Tk})],Na.prototype,"rangeInfo",void 0),u([d({type:be})],Na.prototype,"spatialReference",void 0),u([d({type:ct})],Na.prototype,"timeExtent",void 0),u([d({nonNullable:!0})],Na.prototype,"timeZone",void 0),u([d({type:ip})],Na.prototype,"viewpoint",void 0),Na=u([I("esri.webmap.InitialViewProperties")],Na);const HS=Na;let uK=class tA{constructor(t,r,n=""){this.major=t,this.minor=r,this._context=n}lessThan(t,r){return this.major<t||t===this.major&&this.minor<r}greaterEqual(t,r){return!this.lessThan(t,r)}validate(t){if(this.major!==t.major){const r=this._context&&this._context+":",n=this._context&&this._context+" ";throw new Z(r+"unsupported-version",`Required major ${n}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:t})}}clone(){return new tA(this.major,this.minor,this._context)}static parse(t,r=""){const[n,i]=t.split("."),o=/^\s*\d+\s*$/;if(!n?.match||!o.test(n))throw new Z((r&&r+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:t});if(!i?.match||!o.test(i))throw new Z((r&&r+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:t});const s=parseInt(n,10),a=parseInt(i,10);return new tA(s,a,r)}},mh=class extends uK{constructor(t,r){super(t,r,"webmap")}};const cK=Te.ofType(Qge),Xge=new Map([["image/jpeg","jpeg"],["image/jpg","jpg"],["image/png","png"],["image/gif","gif"]]),eve="ArcGIS Pro",tve=$k.JSAPI;let $t=class extends i$(hi.LoadableMixin(wd.EsriPromiseMixin(age))){constructor(t){super(t),this._isAuthoringAppSetByUser=!1,this._isAuthoringAppVersionSetByUser=!1,this._thumbnailFilename=null,this._updateFromPromise=null,this.resourceReferences={portalItem:null,paths:[]},this.applicationProperties=null,this.bookmarks=new cK,this.floorInfo=null,this.initialViewProperties=new HS,this.portalItem=null,this.sourceVersion=null,this.widgets=null,this._debouncedSaveOperations=OC(async(r,n,i)=>{const{save:o,saveAs:s}=await ue(()=>import("./webdocSaveUtils-036dec4b.js"),["assets/webdocSaveUtils-036dec4b.js","assets/originUtils-5a133ae6.js","assets/resourceUtils-be95ebf3.js","assets/resourceUtils-15b5acad.js","assets/saveUtils-b2e823e3.js"]);switch(r){case oa.SAVE:return o(this.context,this,n);case oa.SAVE_AS:return s(this.context,this,i,n)}}),this.authoringApp=this.authoringAppVersion=null,this._isAuthoringAppSetByUser=this._isAuthoringAppVersionSetByUser=!1}destroy(){this.portalItem=_o(this.portalItem)}initialize(){if(this.when().catch(t=>{ce.getLogger(this).error("#load()","Failed to load web map",t)}),this.resourceInfo){let t;try{t=this._validateJSON(this.resourceInfo)}catch(r){return void this.addResolvingPromise(Promise.reject(r))}this.read(t)}}set authoringApp(t){this._isAuthoringAppSetByUser=!0,this._set("authoringApp",t)}writeAuthoringApp(t,r){t&&this._isAuthoringAppSetByUser?r.authoringApp=t:r.authoringApp=tve}set authoringAppVersion(t){this._isAuthoringAppVersionSetByUser=!0,this._set("authoringAppVersion",t)}writeAuthoringAppVersion(t,r){t&&this._isAuthoringAppVersionSetByUser?r.authoringAppVersion=t:r.authoringAppVersion=CG}readInitialViewProperties(t,r){const n=new HS;r.background&&(n.background=jk.fromJSON(r.background));const i=r.initialState?.timeExtent;i&&(n.timeExtent=ct.fromArray(i));const o=r.initialState?.viewpoint;return o&&(o.rotation&&mh.parse(r.version||"","webmap").lessThan(2,20)&&r.authoringApp===eve&&(o.rotation*=-1),n.viewpoint=ip.fromJSON(o)),r.mapRangeInfo&&(n.rangeInfo=Tk.fromJSON(r.mapRangeInfo)),r.spatialReference&&(n.spatialReference=be.fromJSON(r.spatialReference)),r.timeZone&&(n.timeZone=r.timeZone),n}writeInitialViewProperties(t,r,n,i){if(!t)return;t.background?.color&&(r.background=t.background.write({},i));const{timeExtent:o,viewpoint:s}=t;if(s||o){const a={};s&&(a.viewpoint=s.write({},i)),o&&(a.timeExtent=o.toArray()),r.initialState=a}t.rangeInfo&&(r.mapRangeInfo=t.rangeInfo.toJSON(i)),t.spatialReference&&(r.spatialReference=t.spatialReference.write({},i)),r.timeZone=t.timeZone}writeLayers(t,r,n,i){r[n]=this._writeLayers(t,i,"operational-layers")}readSourceVersion(t,r){const[n,i]=r.version.split(".");return new mh(parseInt(n,10),parseInt(i,10))}writeSourceVersion(t,r,n){r[n]=`${this.context.currentVersion.major}.${this.context.currentVersion.minor}`}writeTables(t,r,n,i){const o=this._writeLayers(t,i,"tables");o.length&&(r[n]=o)}get thumbnailUrl(){return this.portalItem?.thumbnailUrl||null}set thumbnailUrl(t){t?(this._override("thumbnailUrl",t),this._thumbnailFilename=this._generateCustomThumbnailFilename(t)):this._clearThumbnailOverride()}get updatingFromView(){return!!this._updateFromPromise}load(t){return this.addResolvingPromise(Dge(this.context,this)),Promise.resolve(this)}loadAll(){return U_(this,t=>{t(this.ground,this.basemap,this.layers,this.tables)})}read(t,r){r={...r,origin:this.context.origin};const n=this._getAuthoringPropsState();FW(this,t,i=>super.read(t,i),r),this._restoreAuthoringPropsFromState(n)}write(t,r){if(this.loadStatus!=="loaded"){const n=new Z("webmap:not-loaded","Web map must be loaded before it can be serialized");throw ce.getLogger(this).error("#toJSON()","Web map must be loaded before it can be serialized",this.loadError||this.loadStatus),n}return this._removeDanglingLayerRefs(),r={...r,origin:this.context.origin,restrictedWebMapWriting:!0,webmap:this},super.write(t,r)}async save(t){return this._debouncedSaveOperations(oa.SAVE,t)}async saveAs(t,r){return this._debouncedSaveOperations(oa.SAVE_AS,r,t)}async updateFrom(t,r){const n=this._updateFromInternal(t,r);this._updateFromPromise=n,await n,n===this._updateFromPromise&&(this._updateFromPromise=null)}getLayerJSONFromResourceInfo(t){const r=this.resourceInfo;return this._collectAllLayersJSON([...r?.baseMap?.baseMapLayers||[],...r?.operationalLayers||[],...this.basemap?.resourceInfo?.data?.baseMapLayers||[]]).find(n=>n.id===t.id)}async updateItemThumbnail(){this.thumbnailUrl&&this._isOverridden("thumbnailUrl")&&(await this.portalItem?.updateThumbnail({thumbnail:this.thumbnailUrl,filename:this._thumbnailFilename}),this._clearThumbnailOverride())}getThumbnailState(){let t=this.thumbnailUrl;return t&&(t=this._isOverridden("thumbnailUrl")?t:IG(t,"w","8192")),{thumbnailUrl:t,filename:this._thumbnailFilename}}restoreThumbnailFromState(t){this.thumbnailUrl=t.thumbnailUrl,this._thumbnailFilename=t.filename}_collectAllLayersJSON(t){return t.reduce((r,n)=>(r.push(n),n.layerType==="GroupLayer"&&(r=r.concat(this._collectAllLayersJSON(n.layers||[]))),r),[])}_writeLayers(t,r,n){return r={...r,layerContainerType:n},t.map(i=>wI(i,n==="tables"?null:this.getLayerJSONFromResourceInfo(i),r)).filter(y1).toArray()}_validateJSON(t){const r=mh.parse(t.version||"","webmap");return this.context.currentVersion.validate(r),t.version=`${r.major}.${r.minor}`,t}_removeDanglingLayerRefs(){const t=this.applicationProperties,r=t?.viewing?.search,n=s=>this.allLayers.some(a=>a.id===s);if(r?.layers&&(r.layers=r.layers.filter(s=>n(s.id))),r?.tables&&(r.tables=r.tables.filter(s=>this.tables.some(a=>a.id===s.id))),t){const s=t.editing?.locationTracking;s?.info&&!n(s.info.layerId)&&(t.editing=null)}const i="presentation"in this?this.presentation:null,o=i?.slides;o&&o.forEach(s=>{s.visibleLayers&&(s.visibleLayers=s.visibleLayers.filter(a=>n(a.id)))})}async _updateFromInternal(t,r){if(r??(r={}),await _he(()=>t.ready),this._updateInitialViewProperties(t,r),t.map===this)for(const n of t.allLayerViews)"visible"in n&&"visible"in n.layer&&n._isOverridden("visible")&&(n.layer.visible=n.visible),"featureEffect"in n&&"featureEffect"in n.layer&&n._isOverridden("featureEffect")&&(n.layer.featureEffect=n.featureEffect);await this._updateThumbnailUrl(t,r)}_updateInitialViewProperties(t,r){if(r.backgroundExcluded||(this.initialViewProperties.background=t.background?.clone()),this.initialViewProperties.spatialReference=t.spatialReference?.clone(),this.initialViewProperties.timeZone=t.timeZone,r.viewpointExcluded||(this.initialViewProperties.viewpoint=new ip({rotation:t.rotation,scale:r.scalePreserved?t.scale:null,targetGeometry:this._getViewExtent(t)})),!r.widgetsExcluded)for(const n of t.persistableViewModels)n.updateWebDocument(this)}_getViewExtent(t){const r=t.center.clone().normalize(),n=t.extent.clone(),i=n.width/2;return n.xmin=r.x-i,n.xmax=r.x+i,n}async _updateThumbnailUrl(t,r){if(r.thumbnailExcluded)return;const n=Ige(t,r.thumbnailSize),i=await t.takeScreenshot({format:"png",width:n.width,height:n.height});this._setAutoGeneratedThumbnail(i.dataUrl)}_setAutoGeneratedThumbnail(t){this.thumbnailUrl=t,this._thumbnailFilename=null}_clearThumbnailOverride(){this._clearOverride("thumbnailUrl"),this.clear("thumbnailUrl","user"),this._thumbnailFilename=null}_generateCustomThumbnailFilename(t){if(Cl(t)){const r=jh(t),n=r?.mediaType,i=n&&Xge.get(n.toLowerCase())||null,o=`thumbnail${Date.now()}`;return i?`${o}.${i}`:o}return null}_getAuthoringPropsState(){return{authoringApp:this.authoringApp,authoringAppVersion:this.authoringAppVersion,isAuthoringAppSetByUser:this._isAuthoringAppSetByUser,isAuthoringAppVersionSetByUser:this._isAuthoringAppVersionSetByUser}}_restoreAuthoringPropsFromState(t){t.isAuthoringAppSetByUser?this.authoringApp=t.authoringApp:this._isAuthoringAppSetByUser=!1,t.isAuthoringAppVersionSetByUser?this.authoringAppVersion=t.authoringAppVersion:this._isAuthoringAppVersionSetByUser=!1}};u([d()],$t.prototype,"_updateFromPromise",void 0),u([d({type:Kge,json:{write:!0}})],$t.prototype,"applicationProperties",void 0),u([d({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],$t.prototype,"authoringApp",null),u([re("authoringApp")],$t.prototype,"writeAuthoringApp",null),u([d({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],$t.prototype,"authoringAppVersion",null),u([re("authoringAppVersion")],$t.prototype,"writeAuthoringAppVersion",null),u([d({type:cK,json:{write:{overridePolicy:e=>({enabled:!!(e&&e.length>0),ignoreOrigin:!0})}}})],$t.prototype,"bookmarks",void 0),u([d({type:_ge,json:{name:"mapFloorInfo",write:!0}})],$t.prototype,"floorInfo",void 0),u([d({type:HS,nonNullable:!0,json:{read:{source:["background","initialState.timeExtent","initialState.viewpoint","mapRangeInfo","spatialReference","timeZone"]},write:{ignoreOrigin:!0,target:{background:{type:jk},"initialState.timeExtent":{type:ct},"initialState.viewpoint":{type:ip},mapRangeInfo:{type:Tk},spatialReference:{type:be},"timeZone:":{type:String}}}}})],$t.prototype,"initialViewProperties",void 0),u([X("initialViewProperties")],$t.prototype,"readInitialViewProperties",null),u([re("initialViewProperties")],$t.prototype,"writeInitialViewProperties",null),u([d({json:{read:!1,write:{target:"operationalLayers",ignoreOrigin:!0}}})],$t.prototype,"layers",void 0),u([re("layers")],$t.prototype,"writeLayers",null),u([d({type:$e})],$t.prototype,"portalItem",void 0),u([d()],$t.prototype,"resourceInfo",void 0),u([d({readOnly:!0,type:mh,json:{read:{source:"version"},write:{allowNull:!0,ignoreOrigin:!0,target:"version",isRequired:!0}}})],$t.prototype,"sourceVersion",void 0),u([X("sourceVersion")],$t.prototype,"readSourceVersion",null),u([re("sourceVersion")],$t.prototype,"writeSourceVersion",null),u([d({json:{read:!1,write:{ignoreOrigin:!0}}})],$t.prototype,"tables",void 0),u([re("tables")],$t.prototype,"writeTables",null),u([d()],$t.prototype,"thumbnailUrl",null),u([d()],$t.prototype,"updatingFromView",null),u([d({type:Ege,json:{write:!0}})],$t.prototype,"widgets",void 0),$t=u([I("esri.WebDocument2D")],$t);const rve=$t;let vO;async function nve(){return vO==null&&(vO=ue(()=>import("./WhereClauseCache-89a3b7dc.js"),["assets/WhereClauseCache-89a3b7dc.js","assets/WhereClause-6167c62b.js"]).then(e=>new e.WhereClauseCache(500,500))),vO}async function ive(e,t){const r=await nve(),n=r.get(e,t);if(n==null)throw r.getError(e,t);return n}function Yw(e,t){return e||(e=null),t||(t=null),e==="1=1"?t??e:t==="1=1"?e??t:e&&t?`(${e}) AND (${t})`:e??t}function rA(e,t){return e||(e=null),t||(t=null),e==="1=1"||t==="1=1"||e===t?e==="1=1"?e:t:e&&t?`(${e}) OR (${t})`:e??t}function ove(e,t){return t.length===0?null:`${e} IN (${sve(t)})`}function sve(e){return e.map(t=>typeof t=="string"?ave(t):t).join(",")}function ave(e){return`'${e.replaceAll("'","''")}'`}function lve(e){return typeof e=="number"}function bKe(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}function wKe(e){return typeof e=="boolean"}function I1(e){return typeof e=="string"||e instanceof String}function uve(e){return e==null||I1(e)}function xKe(e){return Array.isArray(e)}function dK(e){return e?.declaredClass==="esri.Graphic"}function SKe(e){return e instanceof Date}const cve="HH:mm",dve="HH:mm:ss",pve="HH:mm:ss.SSS",fve=[pve,dve,cve,"TT"],hve="yyyy-MM-dd";function YD(e){if(!e||!I1(e))return null;const t=he.fromFormat(e,hve);return t.isValid?t:null}function QD(e){return e&&I1(e)?lle(fve,t=>{const r=he.fromFormat(e,t);return r.isValid?r:null})??null:null}function XD(e){if(!e||!I1(e))return null;const t=he.fromISO(e);return t.isValid?t:null}var JS;(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(JS||(JS={}));const pK=new Set(["integer","small-integer","long","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"]);function yve(e){return e!=null&&pK.has(e.type)}function fK(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function hK(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function yK(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}const mve=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]);fW(pK,mve);function _Ke(e,t){const r=t??e?.domain;if(!r||r.type!=="range")return;const n="range"in r?r.range[0]:r.minValue,i="range"in r?r.range[1]:r.maxValue,o=yve(e);return fK(e)||yK(e)||hK(e)?{...gve(e,i,n),isInteger:o}:{min:n!=null&&typeof n=="number"?n:null,max:i!=null&&typeof i=="number"?i:null,rawMin:n,rawMax:i,isInteger:o}}function gve(e,t,r){return fK(e)?{min:YD(r)?.toMillis(),max:YD(t)?.toMillis(),rawMin:r,rawMax:t}:yK(e)?{min:QD(r)?.toMillis(),max:QD(t)?.toMillis(),rawMin:r,rawMax:t}:hK(e)?{min:XD(r)?.toMillis(),max:XD(t)?.toMillis(),rawMin:r,rawMax:t}:{max:null,min:null}}function vve(e){if(!e)return;const t=e.match(bve);return t?.groups?t.groups.doubleQuoted??t.groups.singleQuoted??t.groups.dotNotation:void 0}const bve=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-zA-Z_][a-zA-Z0-9_]*))$/i;function wve(e){return e.match(xve)?.[1]?.replace(/\\'/g,"'")??null}const xve=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;let bO;function op(){return bO||(bO=(async()=>{const[e,t,r]=await Promise.all([ue(()=>import("./arcadeUtils-dbe8d533.js").then(n=>n.h),["assets/arcadeUtils-dbe8d533.js","assets/aiServices-6ea2feb8.js","assets/number-45d97d9b.js","assets/commonProperties-da958896.js","assets/featureConversionUtils-f7ab006d.js","assets/OptimizedFeature-a0a9dac6.js","assets/memoryEstimations-368c31a0.js","assets/OptimizedFeatureSet-5dc8ee29.js","assets/WhereClause-6167c62b.js","assets/unitConversion-bc219878.js"]),ue(()=>import("./batchExec-eb2db6e1.js"),["assets/batchExec-eb2db6e1.js","assets/QueueProcessor-0cfbd20f.js","assets/ReactiveMap-a4187365.js","assets/signal-f297c7bf.js"]),ue(()=>import("./aiServices-1c2b787c.js"),["assets/aiServices-1c2b787c.js","assets/aiServices-6ea2feb8.js","assets/number-45d97d9b.js","assets/commonProperties-da958896.js"])]);return{arcade:e.arcade,arcadeUtils:e,batchExec:t,aiServices:r,Dictionary:e.Dictionary,Feature:e.arcadeFeature,Voxel:e.Voxel}})()),bO}const Sve=/^([0-9_])/,_ve=/[^a-z0-9_\u0080-\uffff]+/gi;function $ve(e){return e==null?null:e.trim().replaceAll(_ve,"_").replace(Sve,"F$1")||null}const Tve=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],Ove=["field","normalizationField"];function eF(e,t){if(e!=null&&t!=null){for(const r of Array.isArray(e)?e:[e])if(tF(Tve,r,t),"visualVariables"in r&&r.visualVariables)for(const n of r.visualVariables)tF(Ove,n,t)}}function tF(e,t,r){if(e)for(const n of e){const i=j_(n,t),o=i&&typeof i!="function"&&r.get(i);o&&nr(n,o.name,t)}}function mK(e,t){if(e!=null&&t?.fields?.length)if("startField"in e){const r=t.get(e.startField),n=t.get(e.endField);e.startField=r?.name??null,e.endField=n?.name??null}else{const r=t.get(e.startTimeField),n=t.get(e.endTimeField);e.startTimeField=r?.name??null,e.endTimeField=n?.name??null}}const wO=new Set;function Ik(e,t){return e&&t?(wO.clear(),o$(wO,e,t),Array.from(wO).sort()):[]}function o$(e,t,r){if(r)if(t?.fields?.length)if(r.includes("*"))for(const{name:n}of t.fields)e.add(n);else for(const n of r)qi(e,t,n);else{if(r.includes("*"))return e.clear(),void e.add("*");for(const n of r)n!=null&&e.add(n)}}function qi(e,t,r){if(typeof r=="string")if(t){const n=t.get(r);n&&e.add(n.name)}else e.add(r)}function $Ke(e,t){return t==null||e==null?[]:t.includes("*")?(e.fields??[]).map(r=>r.name):t}async function Is(e,t,r){if(!r)return;let n;const i=vve(r);if(i)n=[i];else{const{arcadeUtils:o}=await op();n=o.extractFieldNames(r,t?.fields?.map(s=>s.name))}for(const o of n)qi(e,t,o)}function Eve({displayField:e,fields:t}){return e||(t?.length?xO(t,"name-or-title")||xO(t,"unique-identifier")||xO(t,"type-or-category")||jve(t):null)}function jve(e){for(const t of e){if(!t?.name)continue;const r=t.name.toLowerCase();if(r.includes("name")||r.includes("title"))return t.name}return null}function xO(e,t){for(const r of e)if(r?.valueType&&r.valueType===t)return r.name;return null}function TKe(e){return e?Ik(e.fieldsIndex,gK(e)):[]}function Ive(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?Ik(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}const Ave=new Set(["oid","globalThis-id","guid"]),Pve=new Set(["oid","globalThis-id"]),Nve=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/objectid/i,/^perimeter_/i,/_perimeter$/i,/_i$/i];function Mve(e){const t=new Set;vK(e).forEach(n=>t.add(n)),Ive(e).forEach(n=>t.add(n.toLowerCase()));const r=e&&"infoFor3D"in e?e.infoFor3D:void 0;return r&&(Object.values(r.assetMapFieldRoles).forEach(n=>t.add(n.toLowerCase())),Object.values(r.transformFieldRoles).forEach(n=>t.add(n.toLowerCase()))),Array.from(t)}function gK(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:r,creatorField:n,editDateField:i,editorField:o}=t;return[r,n,i,o].filter(Boolean)}function vK(e){return gK(e).map(t=>t.toLowerCase())}function Cve(e,t){return e.editable&&!Ave.has(e.type)&&!vK(t).includes(e.name?.toLowerCase()??"")}function kve(e,t){const r=e.name?.toLowerCase()??"";return!(t?.objectIdField!=null&&r===t.objectIdField.toLowerCase()||t?.globalIdField!=null&&r===t.globalIdField.toLowerCase()||Mve(t).includes(r)||Pve.has(e.type)||Nve.some(n=>n.test(r)))}function Rve(e){const t=e.defaultValue;return t!==void 0&&wK(e,t)?t:e.nullable?null:void 0}function OKe(e){const t=typeof e=="string"?{type:e}:e;return _K(t)?255:t.type==="esriFieldTypeDate"||t.type==="date"?8:void 0}function bK(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function Lve(e){return e===null||bK(e)}function Dve(e){return e===null||Number.isInteger(e)}function Fve(){return!0}function wK(e,t){let r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":r=e.nullable?Dve:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?Lve:bK;break;case"string":case"esriFieldTypeString":r=e.nullable?uve:I1;break;default:r=Fve}return arguments.length===1?r:r(t)}const Uve=["integer","small-integer","big-integer","long"],zve=["single","double"],Bve=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"],Vve=["esriFieldTypeSingle","esriFieldTypeDouble"],xK=new Set([...Uve,...Bve]),qve=new Set([...zve,...Vve]),Gve=fW(xK,qve);function Wve(e){return e!=null&&xK.has(e.type)}function SK(e){return e!=null&&Gve.has(e.type)}function _K(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}function Hve(e){return e!=null&&(e.type==="date"||e.type==="esriFieldTypeDate")}function EKe(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function jKe(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function Jve(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function rF(e){return e!=null&&(e.type==="oid"||e.type==="esriFieldTypeOID")}function nF(e){return e!=null&&(e.type==="globalThis-id"||e.type==="esriFieldTypeGlobalID")}function IKe(e,t){return Zve(e,t)===null}var ZS,KS;function AKe(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function Zve(e,t){return e==null||e.nullable&&t===null?null:wK(e,t)?SK(e)&&!Kve(e.type,Number(t))?ZS.OUT_OF_RANGE:null:KS.INVALID_TYPE}function Kve(e,t){const r=typeof e=="string"?$K(e):e;if(!r)return!1;const n=r.min,i=r.max;return r.isInteger?Number.isInteger(t)&&t>=n&&t<=i:t>=n&&t<=i}function $K(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return Yve;case"esriFieldTypeInteger":case"esriFieldTypeLong":case"integer":case"long":return Qve;case"esriFieldTypeBigInteger":case"big-integer":return Xve;case"esriFieldTypeSingle":case"single":return e1e;case"esriFieldTypeDouble":case"double":return t1e}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(ZS||(ZS={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(KS||(KS={}));const Yve={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},Qve={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},Xve={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},e1e={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},t1e={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function PKe(e,t,r){switch(e){case JS.INVALID_CODED_VALUE:return`Value ${r} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case JS.VALUE_OUT_OF_RANGE:return`Value ${r} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case KS.INVALID_TYPE:return`Value ${r} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case ZS.OUT_OF_RANGE:{const{min:n,max:i}=$K(t.type);return`Value ${r} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${n} to ${i}`}}}function r1e(e,t){return!n1e(e,t,null)}function n1e(e,t,r){if(!e?.attributes||!t){if(r!=null)for(const o of t??[])r.add(o);return!0}const n=new Set(Object.keys(e.attributes));let i=!1;for(const o of t)if(!n.has(o)){if(i=!0,r==null)break;r.add(o)}return i}function i1e(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}function Ak(e){const t=e?.match(/{[^}]+}/g);return t?t.map(r=>r.slice(1,-1).split(":")[0].trim()):[]}let Qw=class extends z{constructor(t){super(t),this.type=null}};u([d({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],Qw.prototype,"type",void 0),Qw=u([I("esri.popup.content.Content")],Qw);const kl=Qw,Eb=new Pe({asc:"ascending",desc:"descending"});let Zm=class extends Se.ClonableMixin(z){constructor(t){super(t),this.field=null,this.order="ascending"}};u([d({type:String,json:{write:!0}})],Zm.prototype,"field",void 0),u([d({type:Eb.apiValues,json:{type:Eb.jsonValues,read:Eb.read,write:Eb.write}})],Zm.prototype,"order",void 0),Zm=u([I("esri.popup.support.AttachmentsOrderByInfo")],Zm);const o1e=Zm;let eu=class extends Se.ClonableMixin(kl){constructor(t){super(t),this.description=null,this.displayType="auto",this.orderByFields=null,this.title=null,this.type="attachments"}};u([d({type:String,json:{write:!0}})],eu.prototype,"description",void 0),u([d({type:["auto","preview","list"],json:{write:!0}})],eu.prototype,"displayType",void 0),u([d({type:[o1e],json:{write:!0}})],eu.prototype,"orderByFields",void 0),u([d({type:String,json:{write:!0}})],eu.prototype,"title",void 0),u([d({type:["attachments"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],eu.prototype,"type",void 0),eu=u([I("esri.popup.content.AttachmentsContent")],eu);const zh=eu;var nA;let Fc=nA=class extends kl{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new nA({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?D(this.outFields):null})}};u([d()],Fc.prototype,"creator",void 0),u([d()],Fc.prototype,"destroyer",void 0),u([d()],Fc.prototype,"outFields",void 0),u([d({type:["custom"],readOnly:!0})],Fc.prototype,"type",void 0),Fc=nA=u([I("esri.popup.content.CustomContent")],Fc);const s1e=Fc;var iA;let Zp=iA=class extends z{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new iA({title:this.title,expression:this.expression})}};u([d({type:String,json:{write:!0}})],Zp.prototype,"title",void 0),u([d({type:String,json:{write:!0}})],Zp.prototype,"expression",void 0),u([d({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Zp.prototype,"returnType",void 0),Zp=iA=u([I("esri.popup.ElementExpressionInfo")],Zp);const a1e=Zp;var oA;let Km=oA=class extends kl{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){return new oA({expressionInfo:this.expressionInfo?.clone()})}};u([d({type:a1e,json:{write:!0}})],Km.prototype,"expressionInfo",void 0),u([d({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],Km.prototype,"type",void 0),Km=oA=u([I("esri.popup.content.ExpressionContent")],Km);const s$=Km;let Kp=class extends Se.ClonableMixin(z){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};u([ye(phe)],Kp.prototype,"dateFormat",void 0),u([d({type:Boolean,json:{write:!0}})],Kp.prototype,"digitSeparator",void 0),u([d({type:ze,json:{write:!0}})],Kp.prototype,"places",void 0),Kp=u([I("esri.popup.support.FieldInfoFormat")],Kp);const Xw=Kp;var sA;let Vo=sA=class extends z{constructor(e){super(e),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new sA({fieldName:this.fieldName,format:this.format?.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};u([d({type:String,json:{write:!0}})],Vo.prototype,"fieldName",void 0),u([d({type:Xw,json:{write:!0}})],Vo.prototype,"format",void 0),u([d({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],Vo.prototype,"isEditable",void 0),u([d({type:String,json:{write:!0}})],Vo.prototype,"label",void 0),u([ye(new Pe({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],Vo.prototype,"stringFieldOption",void 0),u([d({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],Vo.prototype,"statisticType",void 0),u([d({type:String,json:{write:!0}})],Vo.prototype,"tooltip",void 0),u([d({type:Boolean,json:{write:!0}})],Vo.prototype,"visible",void 0),Vo=sA=u([I("esri.popup.FieldInfo")],Vo);const Pk=Vo;var aA;let Ma=aA=class extends kl{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(r=>r.toJSON())}clone(){return new aA(D({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};u([d({type:Object,json:{write:!0}})],Ma.prototype,"attributes",void 0),u([d({type:String,json:{write:!0}})],Ma.prototype,"description",void 0),u([d({type:[Pk]})],Ma.prototype,"fieldInfos",void 0),u([re("fieldInfos")],Ma.prototype,"writeFieldInfos",null),u([d({type:String,json:{write:!0}})],Ma.prototype,"title",void 0),u([d({type:["fields"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Ma.prototype,"type",void 0),Ma=aA=u([I("esri.popup.content.FieldsContent")],Ma);const Bh=Ma;let Uc=class extends z{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};u([d({type:String,json:{write:!0}})],Uc.prototype,"altText",void 0),u([d({type:String,json:{write:!0}})],Uc.prototype,"caption",void 0),u([d({type:String,json:{write:!0}})],Uc.prototype,"title",void 0),u([d({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Uc.prototype,"type",void 0),Uc=u([I("esri.popup.content.mixins.MediaInfo")],Uc);const Nk=Uc;var lA;let zc=lA=class extends dt{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new lA({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};u([d()],zc.prototype,"color",void 0),u([d()],zc.prototype,"fieldName",void 0),u([d()],zc.prototype,"tooltip",void 0),u([d()],zc.prototype,"value",void 0),zc=lA=u([I("esri.popup.content.support.ChartMediaInfoValueSeries")],zc);const l1e=zc;var uA;let tu=uA=class extends z{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new uA({colors:D(this.colors),fields:D(this.fields),normalizeField:this.normalizeField,series:D(this.series),tooltipField:this.tooltipField})}};u([d({type:[ke],json:{type:[[ze]],write:!0}})],tu.prototype,"colors",void 0),u([d({type:[String],json:{write:{isRequired:!0}}})],tu.prototype,"fields",void 0),u([d({type:String,json:{write:!0}})],tu.prototype,"normalizeField",void 0),u([d({type:[l1e],json:{read:!1}})],tu.prototype,"series",void 0),u([d({type:String,json:{write:!0}})],tu.prototype,"tooltipField",void 0),tu=uA=u([I("esri.popup.content.support.ChartMediaInfoValue")],tu);const u1e=tu;let Ym=class extends Nk{constructor(t){super(t),this.type=null,this.value=void 0}};u([d({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Ym.prototype,"type",void 0),u([d({type:u1e,json:{write:{isRequired:!0}}})],Ym.prototype,"value",void 0),Ym=u([I("esri.popup.content.mixins.ChartMediaInfo")],Ym);const a$=Ym,l$=Or()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var cA;let ex=cA=class extends a${constructor(e){super(e),this.type="bar-chart"}clone(){return new cA({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};u([d({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:{writer:l$.write,isRequired:!0}}})],ex.prototype,"type",void 0),ex=cA=u([I("esri.popup.content.BarChartMediaInfo")],ex);const TK=ex;var dA;let tx=dA=class extends a${constructor(e){super(e),this.type="column-chart"}clone(){return new dA({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};u([d({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:{writer:l$.write,isRequired:!0}}})],tx.prototype,"type",void 0),tx=dA=u([I("esri.popup.content.ColumnChartMediaInfo")],tx);const OK=tx;var pA;let Qm=pA=class extends z{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new pA({linkURL:this.linkURL,sourceURL:this.sourceURL})}};u([d({type:String,json:{write:!0}})],Qm.prototype,"linkURL",void 0),u([d({type:String,json:{write:{isRequired:!0}}})],Qm.prototype,"sourceURL",void 0),Qm=pA=u([I("esri.popup.content.support.ImageMediaInfoValue")],Qm);const c1e=Qm;var fA;let Yp=fA=class extends Nk{constructor(e){super(e),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){return new fA({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};u([d({type:Number,json:{write:!0}})],Yp.prototype,"refreshInterval",void 0),u([d({type:["image"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Yp.prototype,"type",void 0),u([d({type:c1e,json:{write:{isRequired:!0}}})],Yp.prototype,"value",void 0),Yp=fA=u([I("esri.popup.content.ImageMediaInfo")],Yp);const EK=Yp;var hA;let rx=hA=class extends a${constructor(e){super(e),this.type="line-chart"}clone(){return new hA({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};u([d({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:{writer:l$.write,isRequired:!0}}})],rx.prototype,"type",void 0),rx=hA=u([I("esri.popup.content.LineChartMediaInfo")],rx);const jK=rx;var yA;let nx=yA=class extends a${constructor(e){super(e),this.type="pie-chart"}clone(){return new yA({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};u([d({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:{writer:l$.write,isRequired:!0}}})],nx.prototype,"type",void 0),nx=yA=u([I("esri.popup.content.PieChartMediaInfo")],nx);const IK=nx,mA={base:Nk,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":TK,"column-chart":OK,"line-chart":jK,"pie-chart":IK,image:EK}};var gA;let qo=gA=class extends kl{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?EK.fromJSON(t):t.type==="barchart"?TK.fromJSON(t):t.type==="columnchart"?OK.fromJSON(t):t.type==="linechart"?jK.fromJSON(t):t.type==="piechart"?IK.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(r=>r.toJSON())}clone(){return new gA(D({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};u([d()],qo.prototype,"activeMediaInfoIndex",void 0),u([d({type:Object,json:{write:!0}})],qo.prototype,"attributes",void 0),u([d({type:String,json:{write:!0}})],qo.prototype,"description",void 0),u([d({types:[mA]})],qo.prototype,"mediaInfos",void 0),u([X("mediaInfos")],qo.prototype,"readMediaInfos",null),u([re("mediaInfos")],qo.prototype,"writeMediaInfos",null),u([d({type:String,json:{write:!0}})],qo.prototype,"title",void 0),u([d({type:["media"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],qo.prototype,"type",void 0),qo=gA=u([I("esri.popup.content.MediaContent")],qo);const Wg=qo;var vA;let Xm=vA=class extends z{constructor(e){super(e),this.field=null,this.order=null}clone(){return new vA({field:this.field,order:this.order})}};u([d({type:String,json:{write:!0}})],Xm.prototype,"field",void 0),u([d({type:["asc","desc"],json:{write:!0}})],Xm.prototype,"order",void 0),Xm=vA=u([I("esri.popup.support.RelatedRecordsInfoFieldOrder")],Xm);const Mk=Xm;let Us=class extends Se.ClonableMixin(kl){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};u([d({type:String,json:{write:!0}})],Us.prototype,"description",void 0),u([d({type:Number,json:{type:ze,write:!0}})],Us.prototype,"displayCount",void 0),u([d({type:["list"],json:{write:{isRequired:!0}}})],Us.prototype,"displayType",void 0),u([d({type:[Mk],json:{write:!0}})],Us.prototype,"orderByFields",void 0),u([d({type:Number,json:{type:ze,write:{isRequired:!0}}})],Us.prototype,"relationshipId",void 0),u([d({type:String,json:{write:!0}})],Us.prototype,"title",void 0),u([d({type:["relationship"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Us.prototype,"type",void 0),Us=u([I("esri.popup.content.RelationshipContent")],Us);const Hg=Us;var bA;let e0=bA=class extends kl{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new bA({text:this.text})}};u([d({type:String,json:{write:!0}})],e0.prototype,"text",void 0),u([d({type:["text"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],e0.prototype,"type",void 0),e0=bA=u([I("esri.popup.content.TextContent")],e0);const Jg=e0;let Ca=class extends Se.ClonableMixin(z){constructor(t){super(t),this.title=null,this.description=null,this.type=null,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};u([d({type:String,json:{write:!0}})],Ca.prototype,"title",void 0),u([d({type:String,json:{write:!0}})],Ca.prototype,"description",void 0),u([d({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],Ca.prototype,"type",void 0),u([d({type:Number,json:{type:ze,write:!0}})],Ca.prototype,"associatedNetworkSourceId",void 0),u([d({type:Number,json:{type:ze,write:!0}})],Ca.prototype,"associatedAssetGroup",void 0),u([d({type:Number,json:{type:ze,write:!0}})],Ca.prototype,"associatedAssetType",void 0),Ca=u([I("esri.popup.support.UtilityNetworkAssociationType")],Ca);const AK=Ca;let ru=class extends Se.ClonableMixin(kl){constructor(t){super(t),this.description=null,this.displayCount=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};u([d({type:String,json:{write:!0}})],ru.prototype,"description",void 0),u([d({type:Number,json:{type:ze,write:!0}})],ru.prototype,"displayCount",void 0),u([d({type:String,json:{write:!0}})],ru.prototype,"title",void 0),u([d({type:[AK],json:{write:!0}})],ru.prototype,"associationTypes",void 0),u([ye({utilityNetworkAssociations:"utility-network-associations"})],ru.prototype,"type",void 0),ru=u([I("esri.popup.content.UtilityNetworkAssociationsContent")],ru);const Ck=ru,d1e={base:null,key:"type",typeMap:{attachment:zh,media:Wg,text:Jg,expression:s$,field:Bh,relationship:Hg,utilityNetworkAssociations:Ck}},p1e={base:null,key:"type",typeMap:{attachment:zh,media:Wg,text:Jg,expression:s$,field:Bh,relationship:Hg}};var wA;let Bc=wA=class extends z{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new wA({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};u([d({type:String,json:{write:!0}})],Bc.prototype,"name",void 0),u([d({type:String,json:{write:!0}})],Bc.prototype,"title",void 0),u([d({type:String,json:{write:!0}})],Bc.prototype,"expression",void 0),u([d({type:["string","number"],json:{write:!0}})],Bc.prototype,"returnType",void 0),Bc=wA=u([I("esri.popup.ExpressionInfo")],Bc);const f1e=Bc;var xA;let t0=xA=class extends z{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new xA({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};u([d({type:Boolean,json:{write:!0}})],t0.prototype,"returnTopmostRaster",void 0),u([d({type:Boolean,json:{write:!0}})],t0.prototype,"showNoDataRecords",void 0),t0=xA=u([I("esri.popup.LayerOptions")],t0);const h1e=t0;var SA;let r0=SA=class extends z{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new SA({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?D(this.orderByFields):null})}};u([d({type:Boolean,json:{write:!0}})],r0.prototype,"showRelatedRecords",void 0),u([d({type:[Mk],json:{write:!0}})],r0.prototype,"orderByFields",void 0),r0=SA=u([I("esri.popup.RelatedRecordsInfo")],r0);const iF=r0;var _A;let no=_A=class extends Sk.IdentifiableMixin(dt){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new _A({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};u([d()],no.prototype,"active",void 0),u([d()],no.prototype,"className",void 0),u([d()],no.prototype,"disabled",void 0),u([d()],no.prototype,"icon",void 0),u([d()],no.prototype,"id",void 0),u([d()],no.prototype,"indicator",void 0),u([d()],no.prototype,"title",void 0),u([d()],no.prototype,"type",void 0),u([d()],no.prototype,"visible",void 0),no=_A=u([I("esri.support.actions.ActionBase")],no);const kk=no;var $A;let ix=$A=class extends kk{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new $A({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};u([d()],ix.prototype,"image",void 0),ix=$A=u([I("esri.support.actions.ActionButton")],ix);const y1e=ix;var TA;let n0=TA=class extends kk{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new TA({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};u([d()],n0.prototype,"image",void 0),u([d()],n0.prototype,"value",void 0),n0=TA=u([I("esri.support.actions.ActionToggle")],n0);const m1e=n0,gm="relationships/",oF="expression/",g1e=Te.ofType({key:"type",defaultKeyValue:"button",base:kk,typeMap:{button:y1e,toggle:m1e}}),v1e={base:kl,key:"type",typeMap:{media:Wg,custom:s1e,text:Jg,attachments:zh,fields:Bh,expression:s$,relationship:Hg,utilityNetworkAssociations:Ck}},PK=new Set(["attachments","fields","media","text","expression","relationship"]),b1e=new Set([...PK,"utility-network-associations"]);let gr=class extends Se.ClonableMixin(z){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(r=>ha(v1e,r)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||$y(t)?t:(ce.getLogger(this).error("content error","unsupported content value",{value:t}),null)}readContent(t,r){const{popupElements:n}=r;return Array.isArray(n)&&n.length>0?this._readPopupInfoElements(r.description,r.mediaInfos,n):this._readPopupInfo(r)}writeWebSceneContent(t,r,n,i){this._writePopupTemplateContent(t,r,i)}writeWebMapContent(t,r,n,i){this._writePopupTemplateContent(t,r,i)}writeFieldInfos(t,r,n,i){const{content:o}=this,s=Array.isArray(o)?o:null;if(t){const a=s?s.filter(c=>c.type==="fields"):[],l=a.length&&a.every(c=>c.fieldInfos?.length);r.fieldInfos=t.filter(Boolean).map(c=>{const p=c.toJSON(i);return l&&(p.visible=!1),p})}if(s)for(const a of s)a.type==="fields"&&this._writeFieldsContent(a,r)}writeLayerOptions(t,r,n,i){r[n]=!t||t.showNoDataRecords===null&&t.returnTopmostRaster===null?null:t.toJSON(i)}writeTitle(t,r){r.title=t||""}async collectRequiredFields(t,r){const n=this.expressionInfos||[];await this._collectExpressionInfoFields(t,r,[...n,...this._getContentExpressionInfos(this.content,n)]),o$(t,r,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t){const r=new Set;return await this.collectRequiredFields(r,t),[...r].sort()}_writePopupTemplateContent(t,r,n){typeof t!="string"?Array.isArray(t)&&(r.popupElements=t.filter(i=>n?.origin==="web-scene"?PK.has(i.type):b1e.has(i.type)).map(i=>i?.toJSON(n)),r.popupElements.forEach(i=>{i.type==="attachments"?this._writeAttachmentContent(r):i.type==="media"?this._writeMediaContent(i,r):i.type==="text"?this._writeTextContent(i,r):i.type==="relationship"&&this._writeRelationshipContent(i,r)})):r.description=t}_writeFieldsContent(t,r){if(!Array.isArray(t.fieldInfos)||!t.fieldInfos.length)return;const n=D(t.fieldInfos);Array.isArray(r.fieldInfos)?n.forEach(i=>{const o=r.fieldInfos.find(s=>s.fieldName?.toLowerCase()===i.fieldName?.toLowerCase());o?o.visible=!0:r.fieldInfos.push(i)}):r.fieldInfos=n}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,r){const n=t.orderByFields?.map(o=>this._toFieldOrderJSON(o,t.relationshipId))||[],i=[...r.relatedRecordsInfo?.orderByFields||[],...n];r.relatedRecordsInfo={showRelatedRecords:!0,...i?.length&&{orderByFields:i}}}_writeTextContent(t,r){!r.description&&t.text&&(r.description=t.text)}_writeMediaContent(t,r){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const n=D(t.mediaInfos);Array.isArray(r.mediaInfos)?r.mediaInfos=[...r.mediaInfos,...n]:r.mediaInfos=n}_readPopupInfoElements(t,r,n){const i={description:!1,mediaInfos:!1};return n.map(o=>o.type==="media"?(o.mediaInfos||!r||i.mediaInfos||(o.mediaInfos=r,i.mediaInfos=!0),Wg.fromJSON(o)):o.type==="text"?(o.text||!t||i.description||(o.text=t,i.description=!0),Jg.fromJSON(o)):o.type==="attachments"?zh.fromJSON(o):o.type==="fields"?Bh.fromJSON(o):o.type==="expression"?s$.fromJSON(o):o.type==="relationship"?Hg.fromJSON(o):o.type==="utilityNetworkAssociations"?Ck.fromJSON(o):void 0).filter(Boolean)}_toRelationshipContent(t){const{field:r,order:n}=t;if(!r?.startsWith(gm))return null;const i=r.replace(gm,"").split("/");if(i.length!==2)return null;const o=parseInt(i[0],10),s=i[1];return!Number.isNaN(o)&&s?Hg.fromJSON({relationshipId:o,orderByFields:[{field:s,order:n}]}):null}_toFieldOrderJSON(t,r){const{order:n,field:i}=t;return{field:`${gm}${r}/${i}`,order:n}}_readPopupInfo({description:t,mediaInfos:r,showAttachments:n,relatedRecordsInfo:i={showRelatedRecords:!1}}){const o=[];t?o.push(new Jg({text:t})):o.push(new Bh),Array.isArray(r)&&r.length&&o.push(Wg.fromJSON({mediaInfos:r})),n&&o.push(zh.fromJSON({displayType:"auto"}));const{showRelatedRecords:s,orderByFields:a}=i;return s&&a?.length&&a.forEach(l=>{const c=this._toRelationshipContent(l);c&&o.push(c)}),o.length?o:t}_getContentElementFields(t){const r=t?.type;if(r==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(r==="custom")return t.outFields||[];if(r==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(r==="media"){const n=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...n.reduce((i,o)=>[...i,...this._getMediaInfoFields(o)],[])]}return r==="text"?this._extractFieldNames(t.text):r==="relationship"||r==="utility-network-associations"?[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)]:[]}_getMediaInfoFields(t){const{caption:r,title:n,value:i}=t,o=i||{},{fields:s,normalizeField:a,tooltipField:l,sourceURL:c,linkURL:p}=o,h=[...this._extractFieldNames(n),...this._extractFieldNames(r),...this._extractFieldNames(c),...this._extractFieldNames(p),...s??[]];return a&&h.push(a),l&&h.push(l),h}_getContentExpressionInfos(t,r){return Array.isArray(t)?t.reduce((n,i)=>[...n,...i.type==="expression"&&i.expressionInfo?[i.expressionInfo]:[]],r):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((r,n)=>[...r,...this._getContentElementFields(n)],[]):[]}async _collectExpressionInfoFields(t,r,n){n&&await Promise.all(n.map(i=>Is(t,r,i.expression)))}_getFieldInfoFields(t){return t?t.filter(({fieldName:r,visible:n})=>!(n!==void 0&&!n||!r||r.startsWith(gm)||r.startsWith(oF))).map(r=>r.fieldName):[]}_getActionsFields(t){return t?t.toArray().reduce((r,n)=>[...r,...this._getActionFields(n)],[]):[]}_getActionFields(t){const{className:r,title:n,type:i}=t,o=i==="button"||i==="toggle"?t.image:"";return[...this._extractFieldNames(n),...this._extractFieldNames(r),...this._extractFieldNames(o)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){return Ak(t).filter(r=>!(r.indexOf(gm)===0||r.indexOf(oF)===0))}};u([d({type:g1e})],gr.prototype,"actions",void 0),u([d()],gr.prototype,"content",void 0),u([pt("content")],gr.prototype,"castContent",null),u([X("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],gr.prototype,"readContent",null),u([re("web-scene","content",{popupElements:{type:Te.ofType(p1e)},showAttachments:{type:Boolean},mediaInfos:{type:Te.ofType(mA)},description:{type:String},relatedRecordsInfo:{type:iF}})],gr.prototype,"writeWebSceneContent",null),u([re("content",{popupElements:{type:Te.ofType(d1e)},showAttachments:{type:Boolean},mediaInfos:{type:Te.ofType(mA)},description:{type:String},relatedRecordsInfo:{type:iF}})],gr.prototype,"writeWebMapContent",null),u([d({type:[f1e],json:{write:!0}})],gr.prototype,"expressionInfos",void 0),u([d({type:[Pk]})],gr.prototype,"fieldInfos",void 0),u([re("fieldInfos")],gr.prototype,"writeFieldInfos",null),u([d({type:h1e})],gr.prototype,"layerOptions",void 0),u([re("layerOptions")],gr.prototype,"writeLayerOptions",null),u([d({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],gr.prototype,"lastEditInfoEnabled",void 0),u([d()],gr.prototype,"outFields",void 0),u([d()],gr.prototype,"overwriteActions",void 0),u([d()],gr.prototype,"returnGeometry",void 0),u([d({json:{type:String}})],gr.prototype,"title",void 0),u([re("title")],gr.prototype,"writeTitle",null),gr=u([I("esri.PopupTemplate")],gr);const Cy=gr;function BKe(e,t){switch(t.type){case"object-id":case"unique-id-simple":return e.attributes[t.fieldName];case"unique-id-composite":{const r=[];for(const n of t.fieldNames)r.push(e.attributes[n]??null);return JSON.stringify(r)}}}function w1e(e,t){if("uniqueIdFields"in t&&t.uniqueIdFields?.length){if(t.uniqueIdFields.length===1)return e.attributes?.[t.uniqueIdFields[0]];const r=t.uniqueIdFields.map(n=>e.attributes?.[n]);return JSON.stringify(r)}return"objectIdField"in t&&t.objectIdField?e.attributes?.[t.objectIdField]:null}const sF=new Pe({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let x1e=0,rr=class extends z{constructor(t){super(t),this.id="sym"+x1e++,this.type=null,this.color=new ke([0,0,0,1])}readColor(t){return t?.[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,r){}hash(){return JSON.stringify(this.toJSON())}clone(){}};u([d({type:sF.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:sF.write,isRequired:!0}}})],rr.prototype,"type",void 0),u([d({type:ke,json:{write:{allowNull:!0}}})],rr.prototype,"color",void 0),u([X("color")],rr.prototype,"readColor",null),rr=u([I("esri.symbols.Symbol")],rr);var OA;let In=OA=class extends rr{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){if(this.data?.type==="CIMSymbolReference"){const r=this.data.primitiveOverrides;if(r){const n=r.map(i=>{const o=i.valueExpressionInfo;return o?Is(e,t,o.expression):null});await Promise.all(n)}}}clone(){return new OA({data:D(this.data)})}hash(){return fG(JSON.stringify(this.data)).toString()}};u([d({json:{write:!1}})],In.prototype,"color",void 0),u([d({json:{write:!0}})],In.prototype,"data",void 0),u([X("data",["symbol"])],In.prototype,"readData",null),u([re("data",{})],In.prototype,"writeData",null),u([ye({CIMSymbolReference:"cim"},{readOnly:!0})],In.prototype,"type",void 0),In=OA=u([I("esri.symbols.CIMSymbol")],In);let Wn=class extends z{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,r,n){t||(r[n]=t)}};u([d({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],Wn.prototype,"enabled",void 0),u([re("enabled")],Wn.prototype,"writeEnabled",null),u([d({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0,json:{write:{isRequired:!0}}})],Wn.prototype,"type",void 0),Wn=u([I("esri.symbols.Symbol3DLayer")],Wn);function S1e(e,t){const r=t.transparency!=null?Vg(t.transparency):1,n=t.color;return n&&Array.isArray(n)?new ke([n[0]||0,n[1]||0,n[2]||0,r]):null}function _1e(e,t){t.color=e.toJSON().slice(0,3);const r=Q_(e.a);r!==0&&(t.transparency=r)}function vc(e){return{type:ke,nonNullable:e?.nonNullable,json:{type:[ze],default:null,read:{source:["color","transparency"],reader:S1e},write:{target:{color:{type:[ze],isRequired:e?.colorRequiredOnWrite},transparency:{type:ze}},writer:_1e}}}}const ma={type:Number,cast:Ge,json:{write:!0}};var aF;(function(e){e[e.Emissive=0]="Emissive",e[e.Color=1]="Color"})(aF||(aF={}));let Vc=class extends z{constructor(t){super(t),this.color=new ke([0,0,0,1]),this.extensionLength=0,this.size=jo(1)}clone(){}cloneProperties(){return{color:D(this.color),size:this.size,extensionLength:this.extensionLength}}};u([d({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],Vc.prototype,"type",void 0),u([d(vc({colorRequiredOnWrite:!0}))],Vc.prototype,"color",void 0),u([d({...ma,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],Vc.prototype,"extensionLength",void 0),u([d(ma)],Vc.prototype,"size",void 0),Vc=u([I("esri.symbols.edges.Edges3D")],Vc);const Rk=Vc;var EA;let ox=EA=class extends Rk{constructor(e){super(e),this.type="sketch"}clone(){return new EA(this.cloneProperties())}};u([ye({sketch:"sketch"},{readOnly:!0})],ox.prototype,"type",void 0),ox=EA=u([I("esri.symbols.edges.SketchEdges3D")],ox);const $1e=ox;var jA;let sx=jA=class extends Rk{constructor(e){super(e),this.type="solid"}clone(){return new jA(this.cloneProperties())}};u([ye({solid:"solid"},{readOnly:!0})],sx.prototype,"type",void 0),sx=jA=u([I("esri.symbols.edges.SolidEdges3D")],sx);const NK=sx,MK={types:{key:"type",base:Rk,typeMap:{solid:NK,sketch:$1e}},json:{write:!0}};var IA;let Df=IA=class extends z{constructor(){super(...arguments),this.strength=null,this.source="emissive"}clone(){const e={strength:this.strength,source:this.source};return new IA(e)}};u([d({json:{write:!1}})],Df.prototype,"strength",void 0),u([d({json:{write:!1}})],Df.prototype,"source",void 0),Df=IA=u([I("esri.symbols.support.Symbol3DEmissive")],Df);var AA;let Fi=AA=class extends z{constructor(e){super(e),this.color=null,this.emissive=new Df({source:"emissive"})}clone(){const e={color:this.color?.clone()??null,emissive:this.emissive?.clone()??null};return new AA(e)}};u([d(vc())],Fi.prototype,"color",void 0),u([d({type:Df,json:{write:!1}})],Fi.prototype,"emissive",void 0),Fi=AA=u([I("esri.symbols.support.Symbol3DMaterial")],Fi);var PA,Fv;let Ga=(Fv=class extends Wn{constructor(t){super(t),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new PA({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}},PA=Fv,Fv);u([ye({Extrude:"extrude"},{readOnly:!0})],Ga.prototype,"type",void 0),u([d({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],Ga.prototype,"size",void 0),u([d({type:Fi,json:{write:!0}})],Ga.prototype,"material",void 0),u([d({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Ga.prototype,"castShadows",void 0),u([d(MK)],Ga.prototype,"edges",void 0),Ga=PA=u([I("esri.symbols.ExtrudeSymbol3DLayer")],Ga);let Z0=class extends z{constructor(t){super(t)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};u([d({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Z0.prototype,"type",void 0),Z0=u([I("esri.symbols.patterns.LinePattern3D")],Z0);const T1e=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var NA;const O1e=Or()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let _d=NA=class extends Z0{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new NA(e)}};u([d({type:["style"],json:{write:{isRequired:!0}}})],_d.prototype,"type",void 0),u([ye(O1e),d({type:T1e,json:{write:{isRequired:!0}}})],_d.prototype,"style",void 0),_d=NA=u([I("esri.symbols.patterns.LineStylePattern3D")],_d);let K0=class extends z{constructor(t){super(t),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};u([d({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],K0.prototype,"type",void 0),K0=u([I("esri.symbols.patterns.Pattern3D")],K0);const E1e=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var MA;let Ff=MA=class extends K0{constructor(e){super(e),this.type="style",this.style="solid"}clone(){return new MA({style:this.style})}};u([d({type:["style"],json:{write:{isRequired:!0}}})],Ff.prototype,"type",void 0),u([d({type:E1e,json:{read:!0,write:{isRequired:!0}}})],Ff.prototype,"style",void 0),Ff=MA=u([I("esri.symbols.patterns.StylePattern3D")],Ff);const j1e={types:{key:"type",base:K0,typeMap:{style:Ff}},json:{write:!0}},CK={types:{key:"type",base:Z0,typeMap:{style:_d}},json:{write:!0}},Y0=new ke("white"),I1e=new ke([255,255,255,0]);function A1e(e){return e.r===0&&e.g===0&&e.b===0}var CA;let Q0=CA=class extends Fi{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:this.color?.clone()??null,colorMixMode:this.colorMixMode,emissive:this.emissive?.clone()??null};return new CA(e)}};u([ye({multiply:"multiply",replace:"replace",tint:"tint"})],Q0.prototype,"colorMixMode",void 0),Q0=CA=u([I("esri.symbols.support.Symbol3DFillMaterial")],Q0);function P1e(e,t=!1){return e<=sG?t?new Array(e).fill(0):new Array(e):new Float64Array(e)}function JKe(e){return(mae(e)?e.byteLength/8:e.length)<=sG?Array.from(e):new Float64Array(e)}function ZKe(e,t,r){return Array.isArray(e)?e.slice(t,t+r):e.subarray(t,t+r)}function A1(e=L1e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function Lk(e,t,r,n,i,o,s=A1()){return s[0]=e,s[1]=t,s[2]=r,s[3]=n,s[4]=i,s[5]=o,s}function KKe(e,t=A1()){return N1e(e,0,e.length/3,t)}function N1e(e,t,r,n=A1()){return kK(n,kA),M1e(n,e,t,r),n}function YKe(e,t=P1e(24)){const[r,n,i,o,s,a]=e;return t[0]=r,t[1]=n,t[2]=i,t[3]=r,t[4]=n,t[5]=a,t[6]=r,t[7]=s,t[8]=i,t[9]=r,t[10]=s,t[11]=a,t[12]=o,t[13]=n,t[14]=i,t[15]=o,t[16]=n,t[17]=a,t[18]=o,t[19]=s,t[20]=i,t[21]=o,t[22]=s,t[23]=a,t}function QKe(e,t){const r=isFinite(e[2])||isFinite(e[5]);return new Ue(r?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function XKe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function eYe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function M1e(e,t,r=0,n=t.length/3){let i=e[0],o=e[1],s=e[2],a=e[3],l=e[4],c=e[5];for(let p=0;p<n;p++)i=Math.min(i,t[r+3*p]),o=Math.min(o,t[r+3*p+1]),s=Math.min(s,t[r+3*p+2]),a=Math.max(a,t[r+3*p]),l=Math.max(l,t[r+3*p+1]),c=Math.max(c,t[r+3*p+2]);e[0]=i,e[1]=o,e[2]=s,e[3]=a,e[4]=l,e[5]=c}function C1e(e){return e[0]>=e[3]?0:e[3]-e[0]}function k1e(e){return e[1]>=e[4]?0:e[4]-e[1]}function R1e(e){return e[2]>=e[5]?0:e[5]-e[2]}function tYe(e,t=[0,0,0]){return t[0]=C1e(e),t[1]=k1e(e),t[2]=R1e(e),t}function rYe(e,t,r=e){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r!==e&&(r[3]=e[3],r[4]=e[4],r[5]=e[5]),r}function nYe(e,t,r=e){return r[3]=t[0],r[4]=t[1],r[5]=t[2],r!==e&&(r[0]=e[0],r[1]=e[1],r[2]=e[2]),e}function kK(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function iYe(e){return e?kK(e,kA):A1(kA)}function oYe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function sYe(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=Number.NEGATIVE_INFINITY,e[3]=n,e[4]=i,e[5]=Number.POSITIVE_INFINITY,e}function lF(e){return e.length===6}function aYe(e,t,r){if(e==null||t==null)return e===t;if(!lF(e)||!lF(t))return!1;if(r){for(let n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1}else for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}const kA=[1/0,1/0,1/0,-1/0,-1/0,-1/0],L1e=[0,0,0,0,0,0];A1();function lYe(e,{isPrimitive:t,width:r,depth:n,height:i}){const o=t?10:1;if(r==null&&i==null&&n==null)return[o*e[0],o*e[1],o*e[2]];const s=Ny(r,n,i);let a;for(let l=0;l<3;l++){const c=s[l];if(c!=null){a=c/e[l];break}}for(let l=0;l<3;l++)s[l]==null&&(s[l]=e[l]*a);return s}const D1e=Lk(-.5,-.5,-.5,.5,.5,.5),F1e=Lk(-.5,-.5,0,.5,.5,1),U1e=Lk(-.5,-.5,0,.5,.5,.5);function uYe(e){switch(e){case"sphere":case"cube":case"diamond":return D1e;case"cylinder":case"cone":case"inverted-cone":return F1e;case"tetrahedron":return U1e;default:return}}const Dk=["butt","square","round"],z1e=[...Dk,"none"],RK=["miter","bevel","round"];var RA;let qc=RA=class extends z{constructor(e){super(e),this.color=new ke([0,0,0,1]),this.size=jo(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new RA(e)}};u([d(vc({colorRequiredOnWrite:!0}))],qc.prototype,"color",void 0),u([d({...ma,json:{write:{isRequired:!0}}})],qc.prototype,"size",void 0),u([d(CK)],qc.prototype,"pattern",void 0),u([d({type:Dk,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],qc.prototype,"patternCap",void 0),qc=RA=u([I("esri.symbols.support.Symbol3DOutline")],qc);var ax,Uv;let Bn=(Uv=class extends Wn{constructor(t){super(t),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const t={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new ax(t)}static fromSimpleFillSymbol(t){const r=t.outline&&t.outline.style&&t.outline.style!=="solid"?new _d({style:t.outline.style}):null,n={size:t.outline?.width??0,color:(t.outline?.color??Y0).clone(),pattern:r};return r&&t.outline?.cap&&(n.patternCap=t.outline.cap),new ax({material:new Q0({color:(t.color??I1e).clone()}),pattern:t.style&&t.style!=="solid"?new Ff({style:t.style}):null,outline:n})}},ax=Uv,Uv);u([ye({Fill:"fill"},{readOnly:!0})],Bn.prototype,"type",void 0),u([d({type:Q0,json:{write:!0}})],Bn.prototype,"material",void 0),u([d(j1e)],Bn.prototype,"pattern",void 0),u([d({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Bn.prototype,"castShadows",void 0),u([d({type:qc,json:{write:!0}})],Bn.prototype,"outline",void 0),u([d(MK)],Bn.prototype,"edges",void 0),Bn=ax=u([I("esri.symbols.FillSymbol3DLayer")],Bn);var LA;const B1e=Or()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let Gc=LA=class extends z{constructor(e){super(e)}readHref(e,t,r){return e?mp(e,r):t.dataURI}writeHref(e,t,r,n){e&&(Cl(e)?t.dataURI=e:(t.href=Zd(e,n),bi(t.href)&&(t.href=vs(t.href))))}clone(){return new LA({href:this.href,primitive:this.primitive})}};u([d({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],Gc.prototype,"href",void 0),u([X("href")],Gc.prototype,"readHref",null),u([re("href",{href:{type:String},dataURI:{type:String}})],Gc.prototype,"writeHref",null),u([ye(B1e)],Gc.prototype,"primitive",void 0),Gc=LA=u([I("esri.symbols.support.IconSymbol3DLayerResource")],Gc);const cYe="circle";var DA;let Uf=DA=class extends dt{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new DA({x:this.x,y:this.y})}};u([d({type:Number})],Uf.prototype,"x",void 0),u([d({type:Number})],Uf.prototype,"y",void 0),Uf=DA=u([I("esri.symbols.support.Symbol3DAnchorPosition2D")],Uf);var FA;let i0=FA=class extends z{constructor(e){super(e),this.color=new ke([0,0,0,1]),this.size=jo(1)}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size};return new FA(e)}};u([d(vc({colorRequiredOnWrite:!0}))],i0.prototype,"color",void 0),u([d({...ma,json:{write:{isRequired:!0}}})],i0.prototype,"size",void 0),i0=FA=u([I("esri.symbols.support.Symbol3DIconOutline")],i0);var Qp,zv;let ln=(zv=class extends Wn{constructor(t){super(t),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new Qp({anchor:this.anchor,anchorPosition:D(this.anchorPosition),enabled:this.enabled,material:D(this.material),outline:D(this.outline),resource:D(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(t){const r=t.color||Y0,n=uF(t),i=t.outline&&t.outline.width>0?{size:t.outline.width,color:(t.outline.color||Y0).clone()}:null;return new Qp({size:t.size,angle:t.angle,resource:{primitive:q1e(()=>ce.getLogger(this.prototype),t.style)},material:{color:r},outline:i,anchor:n?"relative":void 0,anchorPosition:n})}static fromPictureMarkerSymbol(t){const r=!t.color||A1e(t.color)?Y0:t.color,n=uF(t);return new Qp({size:t.width<=t.height?t.height:t.width,angle:t.angle,resource:{href:t.url},material:{color:r.clone()},anchor:n?"relative":void 0,anchorPosition:n})}static fromCIMSymbol(t){return new Qp({resource:{href:$G({mediaType:"application/json",data:JSON.stringify(t.data)})}})}},Qp=zv,zv);function uF(e){const t="width"in e?e.width:e.size,r="height"in e?e.height:e.size,n=cF(e.xoffset),i=cF(e.yoffset);return(n||i)&&t&&r?{x:-n/t,y:i/r}:null}function cF(e){return isFinite(e)?e:0}u([d({type:Fi,json:{write:!0}})],ln.prototype,"material",void 0),u([d({type:Gc,json:{write:!0}})],ln.prototype,"resource",void 0),u([ye({Icon:"icon"},{readOnly:!0})],ln.prototype,"type",void 0),u([d({...ma,json:{write:{isRequired:!0}}})],ln.prototype,"size",void 0),u([ye({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],ln.prototype,"anchor",void 0),u([d({type:Uf,json:{type:[Number],read:{reader:e=>new Uf({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],ln.prototype,"anchorPosition",void 0),u([d({type:i0,json:{write:!0}})],ln.prototype,"outline",void 0),u([d({type:Number,json:{write:!0,default:0}})],ln.prototype,"angle",void 0),ln=Qp=u([I("esri.symbols.IconSymbol3DLayer")],ln);const V1e={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function q1e(e,t){return V1e[t]||(e().warn(`${t} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const G1e=["begin","end","begin-end"],LK=["arrow","circle","square","diamond","cross","x"];let nl=class extends Se.ClonableMixin(z){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};u([d({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],nl.prototype,"type",void 0),u([d({type:G1e,json:{default:"begin-end",write:!0}})],nl.prototype,"placement",void 0),u([d({type:LK,json:{default:"arrow",write:!0}})],nl.prototype,"style",void 0),u([d({type:ke,json:{type:[ze],default:null,write:!0}})],nl.prototype,"color",void 0),nl=u([I("esri.symbols.LineStyleMarker3D")],nl);var lx,Bv;let zn=(Bv=class extends Wn{constructor(t){super(t),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=jo(1),this.pattern=null,this.marker=null}clone(){const t={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new lx(t)}static fromSimpleLineSymbol(t){const r={enabled:!0,size:t.width??jo(1),cap:t.cap||"butt",join:t.join||"miter",pattern:t.style?new _d({style:t.style}):null,material:new Fi({color:(t.color||Y0).clone()}),marker:t.marker?new nl({placement:t.marker.placement,style:t.marker.style,color:t.marker.color?.clone()??null}):null};return new lx(r)}},lx=Bv,Bv);u([d({type:Fi,json:{write:!0}})],zn.prototype,"material",void 0),u([ye({Line:"line"},{readOnly:!0})],zn.prototype,"type",void 0),u([d({type:RK,json:{write:!0,default:"miter"}})],zn.prototype,"join",void 0),u([d({type:Dk,json:{write:!0,default:"butt"}})],zn.prototype,"cap",void 0),u([d({...ma,json:{write:{isRequired:!0}}})],zn.prototype,"size",void 0),u([d(CK)],zn.prototype,"pattern",void 0),u([d({types:{key:"type",base:nl,typeMap:{style:nl}},json:{write:!0}})],zn.prototype,"marker",void 0),zn=lx=u([I("esri.symbols.LineSymbol3DLayer")],zn);var UA;const W1e=Or()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let o0=UA=class extends z{clone(){return new UA({href:this.href,primitive:this.primitive})}};u([d({type:String,json:{read:M_,write:Kd}})],o0.prototype,"href",void 0),u([ye(W1e)],o0.prototype,"primitive",void 0),o0=UA=u([I("esri.symbols.support.ObjectSymbol3DLayerResource")],o0);const pYe="sphere";var zA;let dd=zA=class extends dt{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new zA({x:this.x,y:this.y,z:this.z})}};u([d({type:Number})],dd.prototype,"x",void 0),u([d({type:Number})],dd.prototype,"y",void 0),u([d({type:Number})],dd.prototype,"z",void 0),dd=zA=u([I("esri.symbols.support.Symbol3DAnchorPosition3D")],dd);var BA,Vv;let Wr=(Vv=class extends Wn{constructor(t){super(t),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new BA({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}},BA=Vv,Vv);u([d({type:Fi,json:{write:!0}})],Wr.prototype,"material",void 0),u([d({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Wr.prototype,"castShadows",void 0),u([d({type:o0,json:{write:!0}})],Wr.prototype,"resource",void 0),u([ye({Object:"object"},{readOnly:!0})],Wr.prototype,"type",void 0),u([d({type:Number,json:{write:!0}})],Wr.prototype,"width",void 0),u([d({type:Number,json:{write:!0}})],Wr.prototype,"height",void 0),u([d({type:Number,json:{write:!0}})],Wr.prototype,"depth",void 0),u([ye({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],Wr.prototype,"anchor",void 0),u([d({type:dd,json:{type:[Number],read:{reader:e=>new dd({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],Wr.prototype,"anchorPosition",void 0),u([d({type:Number,json:{write:!0}})],Wr.prototype,"heading",void 0),u([d({type:Number,json:{write:!0}})],Wr.prototype,"tilt",void 0),u([d({type:Number,json:{write:!0}})],Wr.prototype,"roll",void 0),u([d({readOnly:!0})],Wr.prototype,"isPrimitive",null),Wr=BA=u([I("esri.symbols.ObjectSymbol3DLayer")],Wr);var VA,qv;let on=(qv=class extends Wn{constructor(t){super(t),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(t,r){return t??(r.height==null&&r.size!=null?r.size:void 0)}readHeight(t,r){return t??(r.width==null&&r.size!=null?r.size:void 0)}clone(){return new VA({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}},VA=qv,qv);u([d({type:Fi,json:{write:!0}})],on.prototype,"material",void 0),u([d({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],on.prototype,"castShadows",void 0),u([ye({Path:"path"},{readOnly:!0})],on.prototype,"type",void 0),u([d({type:["circle","quad"],json:{write:!0,default:"circle"}})],on.prototype,"profile",void 0),u([d({type:RK,json:{write:!0,default:"miter"}})],on.prototype,"join",void 0),u([d({type:z1e,json:{write:!0,default:"butt"}})],on.prototype,"cap",void 0),u([d({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],on.prototype,"width",void 0),u([X("width",["width","size","height"])],on.prototype,"readWidth",null),u([d({type:Number,json:{write:!0}})],on.prototype,"height",void 0),u([X("height",["height","size","width"])],on.prototype,"readHeight",null),u([d({type:["center","bottom","top"],json:{write:!0,default:"center"}})],on.prototype,"anchor",void 0),u([d({type:["heading","all"],json:{write:!0,default:"all"}})],on.prototype,"profileRotation",void 0),on=VA=u([I("esri.symbols.PathSymbol3DLayer")],on);const H1e=["none","underline","line-through"],J1e=["normal","italic","oblique"],Z1e=["normal","lighter","bold","bolder"],DK={type:Number,cast:e=>{const t=Vn(e);return t===0?1:ac(t,.1,4)},nonNullable:!0},K1e=["left","right","center"],Y1e=["baseline","top","middle","bottom"],FK={type:K1e,nonNullable:!0},UK={type:Y1e,nonNullable:!0};var qA;let ao=qA=class extends z{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return Ge(e)}clone(){return new qA({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};u([d({type:H1e,json:{default:"none",write:!0}})],ao.prototype,"decoration",void 0),u([d({type:String,json:{write:!0}})],ao.prototype,"family",void 0),u([d({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:!r||!r.textSymbol3D})}}})],ao.prototype,"size",void 0),u([pt("size")],ao.prototype,"castSize",null),u([d({type:J1e,json:{default:"normal",write:!0}})],ao.prototype,"style",void 0),u([d({type:Z1e,json:{default:"normal",write:!0}})],ao.prototype,"weight",void 0),ao=qA=u([I("esri.symbols.Font")],ao);var GA;let zf=GA=class extends z{constructor(){super(...arguments),this.color=new ke([0,0,0,1]),this.size=0}clone(){const e={color:D(this.color),size:this.size};return new GA(e)}};u([d(vc())],zf.prototype,"color",void 0),u([d(ma)],zf.prototype,"size",void 0),zf=GA=u([I("esri.symbols.support.Symbol3DHalo")],zf);let X0=class extends Se.ClonableMixin(z){constructor(t){super(t),this.color=null}};u([d(vc())],X0.prototype,"color",void 0),X0=u([I("esri.symbols.support.Symbol3DTextBackground")],X0);var ux,Gv;let kr=(Gv=class extends Wn{constructor(t){super(t),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(t){t!=null&&this._userSize!=null&&(t.size=this._userSize),this._set("font",t)}writeFont(t,r,n,i){const o={...i,textSymbol3D:!0};r.font=t.write({},o),delete r.font.size}get size(){return this._userSize!=null?this._userSize:this.font?.size!=null?this.font.size:9}set size(t){this._userSize=t,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const t=new ux({enabled:this.enabled,font:this.font&&D(this.font),halo:this.halo&&D(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:D(this.background)});return t._userSize=this._userSize,t}static fromTextSymbol(t){return new ux({font:t.font!=null?t.font.clone():new ao,halo:Q1e(t.haloColor,t.haloSize),horizontalAlignment:t.horizontalAlignment,lineHeight:t.lineHeight,material:t.color?new Fi({color:t.color.clone()}):null,text:t.text,verticalAlignment:t.verticalAlignment,background:t.backgroundColor?new X0({color:t.backgroundColor.clone()}):null})}},ux=Gv,Gv);function Q1e(e,t){return e&&t!=null&&t>0?new zf({color:D(e),size:t}):null}u([d({type:ao,json:{write:!0}})],kr.prototype,"font",null),u([re("font")],kr.prototype,"writeFont",null),u([d({type:zf,json:{write:!0}})],kr.prototype,"halo",void 0),u([d({...FK,json:{default:"center",write:!0}})],kr.prototype,"horizontalAlignment",void 0),u([d({...DK,json:{default:1,write:!0}})],kr.prototype,"lineHeight",void 0),u([d({type:Fi,json:{write:!0}})],kr.prototype,"material",void 0),u([d({type:X0,json:{write:!0}})],kr.prototype,"background",void 0),u([d(ma)],kr.prototype,"size",null),u([d({type:String,json:{write:!0}})],kr.prototype,"text",void 0),u([ye({Text:"text"},{readOnly:!0})],kr.prototype,"type",void 0),u([d({...UK,json:{default:"baseline",write:!0}})],kr.prototype,"verticalAlignment",void 0),kr=ux=u([I("esri.symbols.TextSymbol3DLayer")],kr);var WA,Wv;let Wa=(Wv=class extends Wn{constructor(t){super(t),this.color=HA.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new WA({color:D(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}},WA=Wv,Wv);u([d({type:ke,nonNullable:!0,json:{type:[ze],write:(e,t,r)=>t[r]=e.toArray(ke.AlphaMode.UNLESS_OPAQUE),default:()=>HA.clone(),defaultEquals:e=>e.toCss(!0)===HA.toCss(!0)}})],Wa.prototype,"color",void 0),u([ye({Water:"water"},{readOnly:!0})],Wa.prototype,"type",void 0),u([d({type:["small","medium","large"],json:{write:!0,default:"medium"}})],Wa.prototype,"waterbodySize",void 0),u([d({type:Number,json:{write:!0,default:null}})],Wa.prototype,"waveDirection",void 0),u([d({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],Wa.prototype,"waveStrength",void 0),Wa=WA=u([I("esri.symbols.WaterSymbol3DLayer")],Wa);const HA=new ke([0,119,190]);var JA;let il=JA=class extends dt{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new JA({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};u([d({type:String})],il.prototype,"name",void 0),u([d({type:String})],il.prototype,"styleUrl",void 0),u([d({type:String})],il.prototype,"styleName",void 0),u([d({type:te})],il.prototype,"portal",void 0),il=JA=u([I("esri.symbols.support.StyleOrigin")],il);var ZA;let eg=ZA=class extends dt{constructor(){super(...arguments),this.url=""}clone(){return new ZA({url:this.url})}};u([d({type:String})],eg.prototype,"url",void 0),eg=ZA=u([I("esri.symbols.support.Thumbnail")],eg);const zK={icon:ln,object:Wr,line:zn,path:on,fill:Bn,extrude:Ga,text:kr,water:Wa},X1e=Te.ofType({base:Wn,key:"type",typeMap:zK,errorContext:"symbol-layer"});let ci=class extends rr{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const r=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,n=r?.type,i=n||Te;this._set("symbolLayers",new i)}get color(){return null}set color(t){this.constructed&&ce.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){Nh(t,this._get("symbolLayers"))}readStyleOrigin(t,r,n){if(t.styleUrl&&t.name){const i=mp(t.styleUrl,n);return new il({styleUrl:i,name:t.name})}if(t.styleName&&t.name)return new il({portal:n?.portal||te.getDefault(),styleName:t.styleName,name:t.name});n?.messages&&n.messages.push(new Os("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:n,definition:t}))}writeStyleOrigin(t,r,n,i){if(t.styleUrl&&t.name){let o=Zd(t.styleUrl,i);bi(o)&&(o=vs(o)),r.styleOrigin={styleUrl:o,name:t.name}}else t.styleName&&t.name&&(t.portal&&i?.portal&&!_G(t.portal.restUrl,i.portal.restUrl)?i?.messages&&i.messages.push(new Os("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):r.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof Wn||t&&zK[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};u([d({json:{read:!1,write:!1}})],ci.prototype,"color",null),u([d({type:X1e,nonNullable:!0,json:{write:!0}}),pt(vce)],ci.prototype,"symbolLayers",null),u([d({type:il})],ci.prototype,"styleOrigin",void 0),u([X("styleOrigin")],ci.prototype,"readStyleOrigin",null),u([re("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],ci.prototype,"writeStyleOrigin",null),u([d({type:eg,json:{read:!1}})],ci.prototype,"thumbnail",void 0),u([d({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],ci.prototype,"type",void 0),ci=u([I("esri.symbols.Symbol3D")],ci);let Bf=class extends z{constructor(t){super(t),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};u([d({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],Bf.prototype,"type",void 0),u([d({readOnly:!0})],Bf.prototype,"visible",void 0),Bf=u([I("esri.symbols.callouts.Callout3D")],Bf);var KA;let cx=KA=class extends z{constructor(e){super(e),this.color=new ke("white")}clone(){return new KA({color:D(this.color)})}};u([d(vc({colorRequiredOnWrite:!0}))],cx.prototype,"color",void 0),cx=KA=u([I("esri.symbols.callouts.LineCallout3DBorder")],cx);const ebe=cx;var YA;let Ha=YA=class extends Bf{constructor(e){super(e),this.type="line",this.color=new ke([0,0,0,1]),this.size=jo(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new YA({color:D(this.color),size:this.size,border:D(this.border)})}};u([ye({line:"line"})],Ha.prototype,"type",void 0),u([d(vc({colorRequiredOnWrite:!0}))],Ha.prototype,"color",void 0),u([d({...ma,json:{write:{isRequired:!0}}})],Ha.prototype,"size",void 0),u([d({type:ebe,json:{write:!0}})],Ha.prototype,"border",void 0),u([d({readOnly:!0})],Ha.prototype,"visible",null),Ha=YA=u([I("esri.symbols.callouts.LineCallout3D")],Ha);function Fk(e){if(!e)return!1;const t=e.verticalOffset;return!(!t||t.screenLength<=0||t.maxWorldLength!=null&&t.maxWorldLength<=0)}function BK(e){return!e||!e.supportsCallout||!e.supportsCallout()?!1:!!e.callout?.visible&&!!Fk(e)}const VK={types:{key:"type",base:Bf,typeMap:{line:Ha}},json:{write:!0}};var QA;let $u=QA=class extends z{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new QA({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};u([d({...ma,json:{write:{isRequired:!0}}})],$u.prototype,"screenLength",void 0),u([d({type:Number,nonNullable:!0,json:{write:!0,default:0}})],$u.prototype,"minWorldLength",void 0),u([d({type:Number,json:{write:!0}})],$u.prototype,"maxWorldLength",void 0),$u=QA=u([I("esri.symbols.support.Symbol3DVerticalOffset")],$u);var dx;const qK=Te.ofType({base:null,key:"type",typeMap:{text:kr}});let es=dx=class extends ci{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new qK,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return BK(this)}hasVisibleVerticalOffset(){return Fk(this)}clone(){return new dx({styleOrigin:D(this.styleOrigin),symbolLayers:D(this.symbolLayers),thumbnail:D(this.thumbnail),callout:D(this.callout),verticalOffset:D(this.verticalOffset)})}static fromTextSymbol(e){return new dx({symbolLayers:new Te([kr.fromTextSymbol(e)])})}};u([d({type:$u,json:{write:!0}})],es.prototype,"verticalOffset",void 0),u([d(VK)],es.prototype,"callout",void 0),u([d({json:{read:!1,write:!1}})],es.prototype,"styleOrigin",void 0),u([d({type:qK})],es.prototype,"symbolLayers",void 0),u([ye({LabelSymbol3D:"label-3d"},{readOnly:!0})],es.prototype,"type",void 0),es=dx=u([I("esri.symbols.LabelSymbol3D")],es);var px;const GK=Te.ofType({base:null,key:"type",typeMap:{line:zn,path:on}}),tbe=Te.ofType({base:null,key:"type",typeMap:{line:zn,path:on}});let hs=px=class extends ci{constructor(e){super(e),this.symbolLayers=new GK,this.type="line-3d"}clone(){return new px({styleOrigin:D(this.styleOrigin),symbolLayers:D(this.symbolLayers),thumbnail:D(this.thumbnail)})}static fromSimpleLineSymbol(e){return new px({symbolLayers:new Te([zn.fromSimpleLineSymbol(e)])})}};u([d({type:GK,json:{type:tbe}})],hs.prototype,"symbolLayers",void 0),u([ye({LineSymbol3D:"line-3d"},{readOnly:!0})],hs.prototype,"type",void 0),hs=px=u([I("esri.symbols.LineSymbol3D")],hs);var fx;const WK=Te.ofType({base:null,key:"type",typeMap:{fill:Bn}});let fl=fx=class extends ci{constructor(e){super(e),this.symbolLayers=new WK,this.type="mesh-3d"}clone(){return new fx({styleOrigin:D(this.styleOrigin),symbolLayers:D(this.symbolLayers),thumbnail:D(this.thumbnail)})}static fromSimpleFillSymbol(e){return new fx({symbolLayers:new Te([Bn.fromSimpleFillSymbol(e)])})}};u([d({type:WK})],fl.prototype,"symbolLayers",void 0),u([ye({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],fl.prototype,"type",void 0),fl=fx=u([I("esri.symbols.MeshSymbol3D")],fl);let s0=class extends rr{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};u([ye({esriSLS:"simple-line"},{readOnly:!0})],s0.prototype,"type",void 0),u([d({type:Number,cast:Ge,json:{write:!0}})],s0.prototype,"width",void 0),s0=u([I("esri.symbols.LineSymbol")],s0);var XA;let zs=XA=class extends z{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,r,n){t[r]=n?.origin==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return e?.[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,r,n){n?.origin==="web-map"||(t[r]=e)}clone(){return new XA({color:D(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};u([d({type:["begin","end","begin-end"],json:{write:!0}})],zs.prototype,"placement",void 0),u([ye({"line-marker":"line-marker"},{readOnly:!0}),d({json:{origins:{"web-map":{write:!1}}}})],zs.prototype,"type",void 0),u([d({type:LK})],zs.prototype,"style",void 0),u([re("style")],zs.prototype,"writeStyle",null),u([d({type:ke,value:null,json:{write:{allowNull:!0}}})],zs.prototype,"color",null),u([X("color")],zs.prototype,"readColor",null),u([re("color")],zs.prototype,"writeColor",null),zs=XA=u([I("esri.symbols.LineSymbolMarker")],zs);const rbe=zs;var eP;const SO=new Pe({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let pr=eP=class extends s0{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,r,n,i,o){if(e&&typeof e!="string")return e;const s={};return e!=null&&(s.style=e),t!=null&&(s.color=t),r!=null&&(s.width=Ge(r)),n!=null&&(s.cap=n),i!=null&&(s.join=i),o!=null&&(s.miterLimit=Ge(o)),s}clone(){return new eP({color:D(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};u([ye({esriSLS:"simple-line"},{readOnly:!0})],pr.prototype,"type",void 0),u([d({type:SO.apiValues,json:{read:SO.read,write:SO.write}})],pr.prototype,"style",void 0),u([d({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&r?.origin==null})}}})],pr.prototype,"cap",void 0),u([d({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&r?.origin==null})}}})],pr.prototype,"join",void 0),u([d({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":rbe}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],pr.prototype,"marker",void 0),u([d({type:Number,json:{read:!1,write:!1}})],pr.prototype,"miterLimit",void 0),pr=eP=u([I("esri.symbols.SimpleLineSymbol")],pr);let Vf=class extends rr{constructor(t){super(t),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};u([d({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":pr}},json:{default:null,write:!0}})],Vf.prototype,"outline",void 0),u([d({type:["simple-fill","picture-fill"],readOnly:!0})],Vf.prototype,"type",void 0),Vf=u([I("esri.symbols.FillSymbol")],Vf);function nbe(e,t,r){return t.imageData?$G({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):HK(t.url,r)}function HK(e,t){if(!bi(e)){const r=obe(t);if(r)return Hd(r,"images",e)}return mp(e,t)}function ibe(e,t,r,n){if(Cl(e)){const i=jh(e);if(!i)return;t.contentType=i.mediaType,t.imageData=i.data,r&&r.imageData===t.imageData&&r.url&&Kd(r.url,t,"url",n)}else Kd(e,t,"url",n)}const JK={json:{read:{source:["imageData","url"],reader:nbe},write:{writer(e,t,r,n){ibe(e,t,this.source,n)}}}},ZK={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,r){const n={};return t.imageData&&(n.imageData=t.imageData),t.contentType&&(n.contentType=t.contentType),t.url&&(n.url=HK(t.url,r)),n}}}};function obe(e){if(!e)return null;const{origin:t,layer:r}=e;if(t!=="service"&&t!=="portal-item")return null;const n=r?.type;return n==="feature"||n==="stream"?r.parsedUrl?.path:n==="map-image"||n==="tile"?e.url?.path:null}var tP;let ai=tP=class extends Vf{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,r,n){if(e&&typeof e!="string"&&e.imageData==null)return e;const i={};return e&&(i.url=e),t&&(i.outline=t),r!=null&&(i.width=Ge(r)),n!=null&&(i.height=Ge(n)),i}clone(){const e=new tP({color:D(this.color),height:this.height,outline:D(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",D(this.source)),e}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};u([ye({esriPFS:"picture-fill"},{readOnly:!0})],ai.prototype,"type",void 0),u([d(JK)],ai.prototype,"url",void 0),u([d({type:Number,json:{write:!0}})],ai.prototype,"xscale",void 0),u([d({type:Number,json:{write:!0}})],ai.prototype,"yscale",void 0),u([d({type:Number,cast:Ge,json:{write:!0}})],ai.prototype,"width",void 0),u([d({type:Number,cast:Ge,json:{write:!0}})],ai.prototype,"height",void 0),u([d({type:Number,cast:Ge,json:{write:!0}})],ai.prototype,"xoffset",void 0),u([d({type:Number,cast:Ge,json:{write:!0}})],ai.prototype,"yoffset",void 0),u([d(ZK)],ai.prototype,"source",void 0),ai=tP=u([I("esri.symbols.PictureFillSymbol")],ai);let Ja=class extends rr{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};u([d({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],Ja.prototype,"angle",void 0),u([d({type:["simple-marker","picture-marker"],readOnly:!0})],Ja.prototype,"type",void 0),u([d({type:Number,cast:Ge,json:{write:!0}})],Ja.prototype,"xoffset",void 0),u([d({type:Number,cast:Ge,json:{write:!0}})],Ja.prototype,"yoffset",void 0),u([d({cast:e=>e==="auto"?e:Vn(Ge(e)),json:{write:!0}})],Ja.prototype,"size",void 0),Ja=u([I("esri.symbols.MarkerSymbol")],Ja);var rP;let Fn=rP=class extends Ja{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const n={};return e&&(n.url=e),t!=null&&(n.width=Ge(t)),r!=null&&(n.height=Ge(r)),n}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new rP({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",D(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};u([d({json:{write:!1}})],Fn.prototype,"color",void 0),u([ye({esriPMS:"picture-marker"},{readOnly:!0})],Fn.prototype,"type",void 0),u([d(JK)],Fn.prototype,"url",void 0),u([d(ZK)],Fn.prototype,"source",void 0),u([d({type:Number,cast:Ge,json:{write:!0}})],Fn.prototype,"height",void 0),u([X("height",["height","size"])],Fn.prototype,"readHeight",null),u([d({type:Number,cast:Ge,json:{write:!0}})],Fn.prototype,"width",void 0),u([d({json:{write:!1}})],Fn.prototype,"size",void 0),Fn=rP=u([I("esri.symbols.PictureMarkerSymbol")],Fn);var Wc;const KK=Te.ofType({base:null,key:"type",typeMap:{icon:ln,object:Wr,text:kr}});let qn=Wc=class extends ci{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new KK,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return BK(this)}hasVisibleVerticalOffset(){return Fk(this)}clone(){return new Wc({verticalOffset:D(this.verticalOffset),callout:D(this.callout),styleOrigin:D(this.styleOrigin),symbolLayers:D(this.symbolLayers),thumbnail:D(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new Wc({symbolLayers:new Te([ln.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new Wc({symbolLayers:new Te([ln.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){if(e.data?.symbol?.type!=="CIMPointSymbol")return null;const r=e.data.symbol;return new Wc(r?.callout?{symbolLayers:new Te([ln.fromCIMSymbol(e)]),callout:new Ha({size:.5,color:new ke([0,0,0])}),verticalOffset:new $u({screenLength:40})}:{symbolLayers:new Te([ln.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new Wc({symbolLayers:new Te([kr.fromTextSymbol(e)])})}};u([d({type:$u,json:{write:!0}})],qn.prototype,"verticalOffset",void 0),u([d(VK)],qn.prototype,"callout",void 0),u([d({type:KK,json:{origins:{"web-scene":{write:!0}}}})],qn.prototype,"symbolLayers",void 0),u([ye({PointSymbol3D:"point-3d"},{readOnly:!0})],qn.prototype,"type",void 0),qn=Wc=u([I("esri.symbols.PointSymbol3D")],qn);var a0;const YK=Te.ofType({base:null,key:"type",typeMap:{extrude:Ga,fill:Bn,icon:ln,line:zn,object:Wr,text:kr,water:Wa}});let wo=a0=class extends ci{constructor(e){super(e),this.symbolLayers=new YK,this.type="polygon-3d"}initialize(){const e=t=>{t.type==="line"&&Ph(ce.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),t.type==="text"&&Ph(ce.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const t of this.symbolLayers)e(t);this.addHandles(She(()=>this.symbolLayers,"after-add",({item:t})=>e(t),K_))}clone(){return new a0({styleOrigin:D(this.styleOrigin),symbolLayers:D(this.symbolLayers),thumbnail:D(this.thumbnail)})}static fromJSON(e){const t=new a0;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.at(0).type==="fill"&&t.symbolLayers.at(1).type==="line"){const r=t.symbolLayers.at(0),n=t.symbolLayers.at(1);!n.enabled||e.symbolLayers?.[1]&&e.symbolLayers[1].enable===!1||(r.outline={size:n.size,color:n.material!=null?n.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new a0({symbolLayers:new Te([Bn.fromSimpleFillSymbol(e)])})}};u([d({type:YK,json:{write:!0}})],wo.prototype,"symbolLayers",void 0),u([ye({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],wo.prototype,"type",void 0),wo=a0=u([I("esri.symbols.PolygonSymbol3D")],wo);var nP;const _O=new Pe({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let Ri=nP=class extends Vf{constructor(...e){super(...e),this.color=new ke([0,0,0,.25]),this.outline=new pr,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const n={};return e&&(n.style=e),t&&(n.outline=t),r&&(n.color=r),n}clone(){return new nP({color:D(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};u([d()],Ri.prototype,"color",void 0),u([d()],Ri.prototype,"outline",void 0),u([ye({esriSFS:"simple-fill"},{readOnly:!0})],Ri.prototype,"type",void 0),u([d({type:_O.apiValues,json:{read:_O.read,write:_O.write}})],Ri.prototype,"style",void 0),Ri=nP=u([I("esri.symbols.SimpleFillSymbol")],Ri);var iP;const $O=new Pe({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let Rr=iP=class extends Ja{constructor(...e){super(...e),this.color=new ke([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new pr}normalizeCtorArgs(e,t,r,n){if(e&&typeof e!="string")return e;const i={};return e&&(i.style=e),t!=null&&(i.size=Ge(t)),r&&(i.outline=r),n&&(i.color=n),i}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new iP({angle:this.angle,color:D(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};u([d()],Rr.prototype,"color",void 0),u([re("color")],Rr.prototype,"writeColor",null),u([ye({esriSMS:"simple-marker"},{readOnly:!0})],Rr.prototype,"type",void 0),u([d()],Rr.prototype,"size",void 0),u([d({type:$O.apiValues,json:{read:$O.read,write:$O.write}})],Rr.prototype,"style",void 0),u([d({type:String,json:{write:!0}})],Rr.prototype,"path",null),u([d({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":pr}},json:{default:null,write:!0}})],Rr.prototype,"outline",void 0),Rr=iP=u([I("esri.symbols.SimpleMarkerSymbol")],Rr);var oP;let at=oP=class extends rr{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new ao,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const n={};return e&&(n.text=e),t&&(n.font=t),r&&(n.color=r),n}writeLineWidth(e,t,r,n){n&&typeof n!="string"?n.origin:t[r]=e}castLineWidth(e){return Ge(e)}writeLineHeight(e,t,r,n){n&&typeof n!="string"?n.origin:t[r]=e}clone(){return new oP({angle:this.angle,backgroundColor:D(this.backgroundColor),borderLineColor:D(this.borderLineColor),borderLineSize:this.borderLineSize,color:D(this.color),font:this.font&&this.font.clone(),haloColor:D(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};u([d({type:ke,json:{write:!0}})],at.prototype,"backgroundColor",void 0),u([d({type:ke,json:{write:!0}})],at.prototype,"borderLineColor",void 0),u([d({type:Number,json:{write:!0},cast:Ge})],at.prototype,"borderLineSize",void 0),u([d({type:ao,json:{write:!0}})],at.prototype,"font",void 0),u([d({...FK,json:{write:!0}})],at.prototype,"horizontalAlignment",void 0),u([d({type:Boolean,json:{write:!0}})],at.prototype,"kerning",void 0),u([d({type:ke,json:{write:!0}})],at.prototype,"haloColor",void 0),u([d({type:Number,cast:Ge,json:{write:!0}})],at.prototype,"haloSize",void 0),u([d({type:Boolean,json:{write:!0}})],at.prototype,"rightToLeft",void 0),u([d({type:Boolean,json:{write:!0}})],at.prototype,"rotated",void 0),u([d({type:String,json:{write:!0}})],at.prototype,"text",void 0),u([ye({esriTS:"text"},{readOnly:!0})],at.prototype,"type",void 0),u([d({...UK,json:{write:!0}})],at.prototype,"verticalAlignment",void 0),u([d({type:Number,cast:Ge,json:{write:!0}})],at.prototype,"xoffset",void 0),u([d({type:Number,cast:Ge,json:{write:!0}})],at.prototype,"yoffset",void 0),u([d({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],at.prototype,"angle",void 0),u([d({type:Number,json:{write:!0}})],at.prototype,"width",void 0),u([d({type:Number})],at.prototype,"lineWidth",void 0),u([re("lineWidth")],at.prototype,"writeLineWidth",null),u([pt("lineWidth")],at.prototype,"castLineWidth",null),u([d(DK)],at.prototype,"lineHeight",void 0),u([re("lineHeight")],at.prototype,"writeLineHeight",null),at=oP=u([I("esri.symbols.TextSymbol")],at);var sP;let Jr=sP=class extends rr{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=this.portal!=null?this.portal:te.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t?.portal,super.read(e,t)}clone(){return new sP({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol(e)}async fetchCIMSymbol(e){KG(ce.getLogger(this),"WebStyleSymbol.fetchCIMSymbol is deprecated in favour of WebStyleSymbol.fetchSymbol which now supports both web and cim symbology",{version:"4.33",replacement:"WebStyleSymbol.fetchSymbol",see:"https://arcg.is/0CXPTr#fetchSymbol",warnOnce:!0});const t=await this._fetchSymbol({...e,acceptedFormats:["cim"]});if(t?.type!=="cim")throw new Z("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return t}async _fetchSymbol(e){const t=e!=null?e.cache:null,r=t?this._fetchCacheKey:null;if(t!=null){const s=r&&t.get(r);if(s)return s.clone()}const{resolveWebStyleSymbol:n}=await ue(()=>import("./webStyleSymbolUtils-99e664ee.js"),["assets/webStyleSymbolUtils-99e664ee.js","assets/devEnvironmentUtils-00b414cb.js"]);kn(e);const i=n(this,{portal:this.portal},e);i.catch(s=>{ce.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",s)});const o=await i;return t?.set(r,o.clone()),o}};u([d({json:{write:!1}})],Jr.prototype,"color",void 0),u([d({type:String,json:{write:!0}})],Jr.prototype,"styleName",void 0),u([d({type:te,json:{write:!1}})],Jr.prototype,"portal",void 0),u([d({type:String,json:{read:M_,write:Kd}})],Jr.prototype,"styleUrl",void 0),u([d({type:eg,json:{read:!1}})],Jr.prototype,"thumbnail",void 0),u([d({type:String,json:{write:!0}})],Jr.prototype,"name",void 0),u([ye({styleSymbolReference:"web-style"},{readOnly:!0})],Jr.prototype,"type",void 0),u([d()],Jr.prototype,"_fetchCacheKey",null),Jr=sP=u([I("esri.symbols.WebStyleSymbol")],Jr);function bYe(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function QK(e){switch(e?.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const Cu={base:rr,key:"type",typeMap:{"simple-fill":Ri,"picture-fill":ai,"picture-marker":Fn,"simple-line":pr,"simple-marker":Rr,text:at,"label-3d":es,"line-3d":hs,"mesh-3d":fl,"point-3d":qn,"polygon-3d":wo,"web-style":Jr,cim:In},errorContext:"symbol"},wYe={base:rr,key:"type",typeMap:{"picture-marker":Fn,"simple-marker":Rr,"point-3d":qn,cim:In},errorContext:"symbol"},xYe={base:rr,key:"type",typeMap:{"simple-line":pr,"line-3d":hs,cim:In},errorContext:"symbol"},SYe={base:rr,key:"type",typeMap:{"simple-fill":Ri,"picture-fill":ai,"polygon-3d":wo,cim:In},errorContext:"symbol"},sbe={base:rr,key:"type",typeMap:{"picture-marker":Fn,"simple-marker":Rr,text:at,"web-style":Jr,cim:In},errorContext:"symbol"},abe=Oy({types:Cu}),XK={base:rr,key:"type",typeMap:{"simple-fill":Ri,"picture-fill":ai,"picture-marker":Fn,"simple-line":pr,"simple-marker":Rr,text:at,"line-3d":hs,"mesh-3d":fl,"point-3d":qn,"polygon-3d":wo,"web-style":Jr,cim:In},errorContext:"symbol"},lbe={base:rr,key:"type",typeMap:{text:at,"label-3d":es},errorContext:"symbol"},dF={base:rr,key:"type",typeMap:{"line-3d":hs,"mesh-3d":fl,"point-3d":qn,"polygon-3d":wo,"web-style":Jr,cim:In},errorContext:"symbol"},ube={base:rr,key:"type",typeMap:{"label-3d":es},errorContext:"symbol"},eY=ha(Cu);var aP;function cbe(e){if(!e)return null;const t={};for(const r in e){const n=Il(e[r]);n&&(t[r]=n)}return Object.keys(t).length!==0?t:null}function dbe(e){if(e==null)return null;const t={};for(const r in e){const n=e[r];n&&(t[r]=n.toJSON())}return Object.keys(t).length!==0?t:null}var Hv;let wr=(Hv=class extends Se.ClonableMixin(z){constructor(t){super(t),this.isAggregate=!1,this.layer=null,this.origin=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:Iw(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&Wle(ce.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(t){const r=this._get("aggregateGeometries");JSON.stringify(r)!==JSON.stringify(t)&&this._set("aggregateGeometries",t)}set attributes(t){const r=this._get("attributes");r!==t&&(this._set("attributes",t),this._notifyLayer("attributes",r,t))}set geometry(t){const r=this._get("geometry");r!==t&&(this._set("geometry",t),t?.type!=="mesh"&&this._notifyLayer("geometry",r,t))}set popupTemplate(t){const r=this._get("popupTemplate");r!==t&&(this._set("popupTemplate",t),this._notifyLayer("popupTemplate",r,t))}set symbol(t){const r=this._get("symbol");r!==t&&(this._set("symbol",t),this._notifyLayer("symbol",r,t))}get version(){return this._version}set visible(t){const r=this._get("visible");r!==t&&(this._set("visible",t),this._notifyLayer("visible",r,t))}cloneShallow(){return new aP({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(t=!1){if(this.popupTemplate)return this.popupTemplate;const r=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const n of[r,this.sourceLayer,this.layer])if(n){if("popupTemplate"in n&&n.popupTemplate)return n.popupTemplate;if(t&&"defaultPopupTemplate"in n&&n.defaultPopupTemplate!=null)return n.defaultPopupTemplate}return null}getAttribute(t){return this.attributes?.[t]}setAttribute(t,r){if(this.attributes){const n=this.getAttribute(t);this.attributes[t]=r,this._notifyLayer("attributes",n,r,t)}else this.attributes={[t]:r}}getObjectId(){const t=this.sourceLayer??this.layer;return t?w1e(this,t):null}getGlobalId(){const t=this.sourceLayer??this.layer;return t&&"globalIdField"in t&&t.globalIdField?this.getAttribute(t.globalIdField):null}toJSON(){return{aggregateGeometries:dbe(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:Cg(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(t={}){const{geometry:r}=this;if(r?.type==="mesh"){const n={origin:r.origin,transform:r.transform};this._notifyLayer("origin-transform",n,n,t.action)}}_notifyLayer(t,r,n,i){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const o={graphic:this,property:t,oldValue:r,newValue:n};t==="origin-transform"&&(o.action=i),t==="attributes"&&(o.attributeName=i),this.layer.graphicChanged(o)}_watchMeshGeometryChanges(){this.addHandles([$D(()=>this.geometry?.type==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0,({localMatrix:t,origin:r})=>{this._lastMeshTransform.localMatrix===t&&this._lastMeshTransform.origin===r||(this._lastMeshTransform.localMatrix=t,this._lastMeshTransform.origin=r,this.notifyMeshTransformChanged())}),$D(()=>this.geometry?.type==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0,()=>{const t=this.geometry;t?.type==="mesh"&&t.vertexSpace.origin?(this._lastMeshTransform.localMatrix=t.transform?.localMatrix,this._lastMeshTransform.origin=t.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(t,r)=>t===r,sync:!0})])}},aP=Hv,Hv);u([d({value:null,json:{read:cbe}})],wr.prototype,"aggregateGeometries",null),u([d({value:null})],wr.prototype,"attributes",null),u([d({value:null,types:My,json:{read:Il}})],wr.prototype,"geometry",null),u([d({type:Boolean})],wr.prototype,"isAggregate",void 0),u([d({clonable:!1})],wr.prototype,"layer",void 0),u([d({clonable:"reference"})],wr.prototype,"origin",void 0),u([d({type:Cy,value:null})],wr.prototype,"popupTemplate",null),u([d({clonable:"reference"})],wr.prototype,"sourceLayer",void 0),u([d({value:null,types:Cu})],wr.prototype,"symbol",null),u([d({clonable:!1,json:{read:!1,write:!1}})],wr.prototype,"_version",void 0),u([d({type:Boolean,value:!0})],wr.prototype,"visible",null),wr=aP=u([I("esri.Graphic")],wr);const bt=(e=>e)(["operational-layers","basemap","ground"]);var lP;let Hc=lP=class extends z{constructor(e){super(e),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new lP({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};u([d({type:String,json:{write:!0}})],Hc.prototype,"expression",void 0),u([d({type:String,json:{write:!0}})],Hc.prototype,"name",void 0),u([d({type:["boolean","date","number","string"],json:{write:!0}})],Hc.prototype,"returnType",void 0),u([d({type:String,json:{write:!0}})],Hc.prototype,"title",void 0),Hc=lP=u([I("esri.form.ExpressionInfo")],Hc);const pbe=Hc;let Jc=class extends z{constructor(t){super(t),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};u([d({type:String,json:{write:!0}})],Jc.prototype,"description",void 0),u([d({type:String,json:{write:!0}})],Jc.prototype,"label",void 0),u([d()],Jc.prototype,"type",void 0),u([d({type:String,json:{write:!0}})],Jc.prototype,"visibilityExpression",void 0),Jc=u([I("esri.form.elements.Element")],Jc);const cc=Jc;let hx=class extends Se.ClonableMixin(z){constructor(t){super(t),this.type=null}};u([d()],hx.prototype,"type",void 0),hx=u([I("esri.form.elements.inputs.attachments.Input")],hx);const dc=hx,u$=["any","capture","upload"];let Xp=class extends dc{constructor(t){super(t),this.type="audio",this.inputMethod="any",this.maxDuration=null}};u([d({type:["audio"],readOnly:!0,json:{write:!0}})],Xp.prototype,"type",void 0),u([d({type:u$,json:{write:!0}})],Xp.prototype,"inputMethod",void 0),u([d({type:Number,json:{write:!0}})],Xp.prototype,"maxDuration",void 0),Xp=u([I("esri.form.elements.inputs.attachments.AudioInput")],Xp);const pF=Xp;let l0=class extends dc{constructor(t){super(t),this.type="document",this.maxFileSize=null}};u([d({type:["document"],readOnly:!0,json:{write:!0}})],l0.prototype,"type",void 0),u([d({type:Number,json:{write:!0}})],l0.prototype,"maxFileSize",void 0),l0=u([I("esri.form.elements.inputs.attachments.DocumentInput")],l0);const fF=l0;let ef=class extends dc{constructor(t){super(t),this.type="image",this.inputMethod="any",this.maxImageSize=null}};u([d({type:["image"],readOnly:!0,json:{write:!0}})],ef.prototype,"type",void 0),u([d({type:u$,json:{write:!0}})],ef.prototype,"inputMethod",void 0),u([d({type:Number,json:{write:!0}})],ef.prototype,"maxImageSize",void 0),ef=u([I("esri.form.elements.inputs.attachments.ImageInput")],ef);const hF=ef;let u0=class extends dc{constructor(t){super(t),this.type="signature",this.inputMethod="any"}};u([d({type:["signature"],readOnly:!0,json:{write:!0}})],u0.prototype,"type",void 0),u([d({type:u$,json:{write:!0}})],u0.prototype,"inputMethod",void 0),u0=u([I("esri.form.elements.inputs.attachments.SignatureInput")],u0);const yF=u0;let tf=class extends dc{constructor(t){super(t),this.type="video",this.inputMethod="any",this.maxDuration=null}};u([d({type:["video"],readOnly:!0,json:{write:!0}})],tf.prototype,"type",void 0),u([d({type:u$,json:{write:!0}})],tf.prototype,"inputMethod",void 0),u([d({type:Number,json:{write:!0}})],tf.prototype,"maxDuration",void 0),tf=u([I("esri.form.elements.inputs.attachments.VideoInput")],tf);const mF=tf;function tY(e){return{nestableTypes:{base:dc,key:"type",typeMap:{audio:pF,document:fF,image:hF,signature:yF,video:mF}},allTypes:{base:dc,key:"type",typeMap:{attachment:e,audio:pF,document:fF,image:hF,signature:yF,video:mF}}}}function fbe(e,t,r){return e?e.map(n=>ha(r?t.nestableTypes:t.allTypes,n)):null}function hbe(e,t,r){if(!e)return null;const n=r?t.nestableTypes.typeMap:t.allTypes.typeMap;return e.filter(i=>n[i.type]).map(i=>n[i.type].fromJSON(i))}function ybe(e,t,r){if(!e)return null;const n=r?t.nestableTypes.typeMap:t.allTypes.typeMap;return e.filter(i=>n[i.type]).map(i=>i.toJSON())}let Js=class extends dc{constructor(t){super(t),this.type="attachment",this.attachmentAssociationType="exact",this.inputTypes=null}castInputs(t){return fbe(t,TO,!0)}readInputs(t,r){return hbe(r.inputTypes,TO,!0)}writeInputs(t,r){r.inputTypes=ybe(t,TO,!0)}};u([d({type:["attachment"],readOnly:!0,json:{write:!0}})],Js.prototype,"type",void 0),u([d({type:["any","exact","exactOrNone"],json:{write:!0}})],Js.prototype,"attachmentAssociationType",void 0),u([d({json:{write:{isRequired:!0}}})],Js.prototype,"inputTypes",void 0),u([pt("inputTypes")],Js.prototype,"castInputs",null),u([X("inputTypes")],Js.prototype,"readInputs",null),u([re("inputTypes")],Js.prototype,"writeInputs",null),Js=u([I("esri.form.elements.inputs.attachments.AttachmentInput")],Js);const TO=tY(Js),mbe=Js;var uP;const gbe=tY(mbe);let Ti=uP=class extends cc{constructor(e){super(e),this.allowUserRename=!0,this.attachmentKeyword=null,this.displayFilename=!1,this.editableExpression=null,this.filenameExpression="{attachmentKeyword}_{now}",this.input=null,this.maxAttachmentCount=null,this.minAttachmentCount=null,this.type="attachment",this.useOriginalFilename=!0}clone(){return new uP({allowUserRename:this.allowUserRename,attachmentKeyword:this.attachmentKeyword,description:this.description,displayFilename:this.displayFilename,editableExpression:this.editableExpression,filenameExpression:this.filenameExpression,input:this.input?.clone(),label:this.label,maxAttachmentCount:this.maxAttachmentCount,minAttachmentCount:this.minAttachmentCount,useOriginalFilename:this.useOriginalFilename,visibilityExpression:this.visibilityExpression})}};u([d({type:Boolean,json:{write:!0}})],Ti.prototype,"allowUserRename",void 0),u([d({type:String,json:{write:{isRequired:!0}}})],Ti.prototype,"attachmentKeyword",void 0),u([d({type:Boolean,json:{write:!0}})],Ti.prototype,"displayFilename",void 0),u([d({type:String,json:{write:!0}})],Ti.prototype,"editableExpression",void 0),u([d({type:String,json:{write:!0}})],Ti.prototype,"filenameExpression",void 0),u([d({types:gbe.allTypes,json:{read:{source:"inputType"},write:{target:"inputType",isRequired:!0}}})],Ti.prototype,"input",void 0),u([d({type:Number,json:{write:!0}})],Ti.prototype,"maxAttachmentCount",void 0),u([d({type:Number,json:{write:!0}})],Ti.prototype,"minAttachmentCount",void 0),u([d({type:["attachment"],readOnly:!0,json:{read:!1,write:!0}})],Ti.prototype,"type",void 0),u([d({type:Boolean,json:{write:!0}})],Ti.prototype,"useOriginalFilename",void 0),Ti=uP=u([I("esri.form.elements.AttachmentElement")],Ti);const gF=Ti;let yx=class extends z{constructor(t){super(t),this.type=null}};u([d()],yx.prototype,"type",void 0),yx=u([I("esri.form.elements.inputs.Input")],yx);const Rl=yx;let c0=class extends Rl{constructor(t){super(t),this.maxLength=null,this.minLength=0}};u([d({type:Number,json:{write:!0}})],c0.prototype,"maxLength",void 0),u([d({type:Number,json:{write:!0}})],c0.prototype,"minLength",void 0),c0=u([I("esri.form.elements.inputs.TextInput")],c0);const Uk=c0;var cP;let mx=cP=class extends Uk{constructor(e){super(e),this.type="barcode-scanner"}clone(){return new cP({maxLength:this.maxLength,minLength:this.minLength})}};u([d({type:["barcode-scanner"],json:{read:!1,write:!0}})],mx.prototype,"type",void 0),mx=cP=u([I("esri.form.elements.inputs.BarcodeScannerInput")],mx);const vbe=mx;var dP;let rf=dP=class extends Rl{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new dP({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};u([d({type:String,json:{write:!0}})],rf.prototype,"noValueOptionLabel",void 0),u([d({type:Boolean,json:{write:!0}})],rf.prototype,"showNoValueOption",void 0),u([d({type:["combo-box"],json:{read:!1,write:!0}})],rf.prototype,"type",void 0),rf=dP=u([I("esri.form.elements.inputs.ComboBoxInput")],rf);const bbe=rf;var pP;function vF(e){return e??null}function bF(e){return e??null}let Bs=pP=class extends Rl{constructor(e){super(e),this.max=null,this.min=null,this.type="date-picker"}readMax(e,t){return vF(t.max)}writeMax(e,t){t.max=bF(e)}readMin(e,t){return vF(t.min)}writeMin(e,t){t.min=bF(e)}clone(){return new pP({max:this.max,min:this.min})}};u([d({type:String,json:{type:String,write:!0}})],Bs.prototype,"max",void 0),u([X("max")],Bs.prototype,"readMax",null),u([re("max")],Bs.prototype,"writeMax",null),u([d({type:String,json:{type:String,write:!0}})],Bs.prototype,"min",void 0),u([X("min")],Bs.prototype,"readMin",null),u([re("min")],Bs.prototype,"writeMin",null),u([d({type:["date-picker"],json:{read:!1,write:!0}})],Bs.prototype,"type",void 0),Bs=pP=u([I("esri.form.elements.inputs.DatePickerInput")],Bs);const wbe=Bs;var fP;function OO(e){return e??null}function EO(e){return e??null}let ri=fP=class extends Rl{constructor(e){super(e),this.includeTimeOffset=!0,this.max=null,this.min=null,this.timeResolution="minutes",this.type="datetimeoffset-picker"}readMax(e,t){return OO(t.max)}writeMax(e,t){t.max=EO(e)}readMin(e,t){return OO(t.min)}writeMin(e,t){t.min=EO(e)}readTimeResolution(e,t){return OO(t.timeResolution)}writeTimeResolution(e,t){t.timeResolution=EO(e)}clone(){return new fP({includeTimeOffset:this.includeTimeOffset,max:this.max,min:this.min,timeResolution:this.timeResolution})}};u([d({type:Boolean,json:{write:!0}})],ri.prototype,"includeTimeOffset",void 0),u([d({type:String,json:{type:String,write:!0}})],ri.prototype,"max",void 0),u([X("max")],ri.prototype,"readMax",null),u([re("max")],ri.prototype,"writeMax",null),u([d({type:String,json:{type:String,write:!0}})],ri.prototype,"min",void 0),u([X("min")],ri.prototype,"readMin",null),u([re("min")],ri.prototype,"writeMin",null),u([d({type:String,json:{type:String,write:!0}})],ri.prototype,"timeResolution",void 0),u([X("timeResolution")],ri.prototype,"readTimeResolution",null),u([re("timeResolution")],ri.prototype,"writeTimeResolution",null),u([d({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],ri.prototype,"type",void 0),ri=fP=u([I("esri.form.elements.inputs.DateTimeOffsetPickerInput")],ri);const xbe=ri;var hP;function wF(e){return e!=null?new Date(e):null}function xF(e){return e?e.getTime():null}let Go=hP=class extends Rl{constructor(e){super(e),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(e,t){return wF(t.max)}writeMax(e,t){t.max=xF(e)}readMin(e,t){return wF(t.min)}writeMin(e,t){t.min=xF(e)}clone(){return new hP({includeTime:this.includeTime,max:this.max,min:this.min})}};u([d({type:Boolean,json:{write:!0}})],Go.prototype,"includeTime",void 0),u([d({type:Date,json:{type:Number,write:!0}})],Go.prototype,"max",void 0),u([X("max")],Go.prototype,"readMax",null),u([re("max")],Go.prototype,"writeMax",null),u([d({type:Date,json:{type:Number,write:!0}})],Go.prototype,"min",void 0),u([X("min")],Go.prototype,"readMin",null),u([re("min")],Go.prototype,"writeMin",null),u([d({type:["datetime-picker"],json:{read:!1,write:!0}})],Go.prototype,"type",void 0),Go=hP=u([I("esri.form.elements.inputs.DateTimePickerInput")],Go);const Sbe=Go;var yP;let nf=yP=class extends Rl{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new yP({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};u([d({type:String,json:{write:!0}})],nf.prototype,"noValueOptionLabel",void 0),u([d({type:Boolean,json:{write:!0}})],nf.prototype,"showNoValueOption",void 0),u([d({type:["radio-buttons"],json:{read:!1,write:!0}})],nf.prototype,"type",void 0),nf=yP=u([I("esri.form.elements.inputs.RadioButtonsInput")],nf);const _be=nf;var mP;let of=mP=class extends Rl{constructor(e){super(e),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new mP({offValue:this.offValue,onValue:this.onValue})}};u([d({type:[String,Number],json:{write:!0}})],of.prototype,"offValue",void 0),u([d({type:[String,Number],json:{write:!0}})],of.prototype,"onValue",void 0),u([d({type:["switch"],json:{read:!1,write:!0}})],of.prototype,"type",void 0),of=mP=u([I("esri.form.elements.inputs.SwitchInput")],of);const $be=of;var gP;let gx=gP=class extends Uk{constructor(e){super(e),this.type="text-area"}clone(){return new gP({maxLength:this.maxLength,minLength:this.minLength})}};u([d({type:["text-area"],json:{read:!1,write:!0}})],gx.prototype,"type",void 0),gx=gP=u([I("esri.form.elements.inputs.TextAreaInput")],gx);const Tbe=gx;var vP;let vx=vP=class extends Uk{constructor(e){super(e),this.type="text-box"}clone(){return new vP({maxLength:this.maxLength,minLength:this.minLength})}};u([d({type:["text-box"],json:{read:!1,write:!0}})],vx.prototype,"type",void 0),vx=vP=u([I("esri.form.elements.inputs.TextBoxInput")],vx);const Obe=vx;var bP;function jO(e){return e??null}function IO(e){return e??null}let Oi=bP=class extends Rl{constructor(e){super(e),this.max=null,this.min=null,this.timeResolution="minutes",this.type="time-picker"}readMax(e,t){return jO(t.max)}writeMax(e,t){t.max=IO(e)}readMin(e,t){return jO(t.min)}writeMin(e,t){t.min=IO(e)}readTimeResolution(e,t){return jO(t.timeResolution)}writeTimeResolution(e,t){t.timeResolution=IO(e)}clone(){return new bP({max:this.max,min:this.min,timeResolution:this.timeResolution})}};u([d({type:String,json:{type:String,write:!0}})],Oi.prototype,"max",void 0),u([X("max")],Oi.prototype,"readMax",null),u([re("max")],Oi.prototype,"writeMax",null),u([d({type:String,json:{type:String,write:!0}})],Oi.prototype,"min",void 0),u([X("min")],Oi.prototype,"readMin",null),u([re("min")],Oi.prototype,"writeMin",null),u([d({type:String,json:{type:String,write:!0}})],Oi.prototype,"timeResolution",void 0),u([X("timeResolution")],Oi.prototype,"readTimeResolution",null),u([re("timeResolution")],Oi.prototype,"writeTimeResolution",null),u([d({type:["time-picker"],json:{read:!1,write:!0}})],Oi.prototype,"type",void 0),Oi=bP=u([I("esri.form.elements.inputs.TimePickerInput")],Oi);const Ebe=Oi,jbe={base:Rl,key:"type",typeMap:{"barcode-scanner":vbe,"combo-box":bbe,"date-picker":wbe,"datetime-picker":Sbe,"datetimeoffset-picker":xbe,"radio-buttons":_be,switch:$be,"text-area":Tbe,"text-box":Obe,"time-picker":Ebe}};var wP;let $d=wP=class extends z{constructor(e){super(e),this.name=null,this.code=null}clone(){return new wP({name:this.name,code:this.code})}};u([d({type:String,json:{write:{isRequired:!0}}})],$d.prototype,"name",void 0),u([d({type:[String,Number],json:{write:{isRequired:!0}}})],$d.prototype,"code",void 0),$d=wP=u([I("esri.layers.support.CodedValue")],$d);const Ibe=new Pe({inherited:"inherited",codedValue:"coded-value",range:"range"});let ku=class extends z{constructor(t){super(t),this.name=null,this.type=null}};u([d({type:String,json:{write:!0}})],ku.prototype,"name",void 0),u([ye(Ibe),d({json:{write:{isRequired:!0}}})],ku.prototype,"type",void 0),ku=u([I("esri.layers.support.Domain")],ku);var xP,Jv;let Ru=(Jv=class extends ku{constructor(t){super(t),this.codedValues=null,this.type="coded-value"}getName(t){let r=null;if(this.codedValues){const n=String(t);this.codedValues.some(i=>(String(i.code)===n&&(r=i.name),!!r))}return r}clone(){return new xP({codedValues:D(this.codedValues),name:this.name})}},xP=Jv,Jv);u([d({type:[$d],json:{write:{isRequired:!0}}})],Ru.prototype,"codedValues",void 0),u([ye({codedValue:"coded-value"})],Ru.prototype,"type",void 0),Ru=xP=u([I("esri.layers.support.CodedValueDomain")],Ru);var SP,Zv;let tg=(Zv=class extends ku{constructor(t){super(t),this.type="inherited"}clone(){return new SP}},SP=Zv,Zv);u([ye({inherited:"inherited"})],tg.prototype,"type",void 0),tg=SP=u([I("esri.layers.support.InheritedDomain")],tg);var _P,Kv;let pd=(Kv=class extends ku{constructor(t){super(t),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new _P({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}},_P=Kv,Kv);u([d({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[1]},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(e,t,r){t[r]=[this.minValue||0,e]},isRequired:!0}}})],pd.prototype,"maxValue",void 0),u([d({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[0]},write:{target:"range",writer(e,t,r){t[r]=[e,this.maxValue||0]},isRequired:!0}}})],pd.prototype,"minValue",void 0),u([ye({range:"range"})],pd.prototype,"type",void 0),pd=_P=u([I("esri.layers.support.RangeDomain")],pd);const rY={key:"type",base:ku,typeMap:{range:pd,"coded-value":Ru,inherited:tg}};function c$(e){if(!e?.type)return null;switch(e.type){case"range":return pd.fromJSON(e);case"codedValue":return Ru.fromJSON(e);case"inherited":return tg.fromJSON(e)}return null}var $P;let io=$P=class extends cc{constructor(e){super(e),this.domain=null,this.editable=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}clone(){return new $P({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};u([d({types:rY,json:{read:{reader:c$},write:!0}})],io.prototype,"domain",void 0),u([d({type:Boolean,json:{write:!0}})],io.prototype,"editable",void 0),u([d({type:String,json:{write:!0}})],io.prototype,"editableExpression",void 0),u([d({type:String,json:{write:!0}})],io.prototype,"fieldName",void 0),u([d({type:String,json:{write:!0}})],io.prototype,"hint",void 0),u([d({types:jbe,json:{read:{source:"inputType"},write:{target:"inputType"}}})],io.prototype,"input",void 0),u([d({type:String,json:{write:!0}})],io.prototype,"requiredExpression",void 0),u([d({type:String,json:{read:!1,write:!0}})],io.prototype,"type",void 0),u([d({type:String,json:{write:!0}})],io.prototype,"valueExpression",void 0),io=$P=u([I("esri.form.elements.FieldElement")],io);const SF=io;var TP;let ka=TP=class extends cc{constructor(e){super(e),this.displayCount=null,this.displayType="list",this.editableExpression=null,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new TP({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:D(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};u([d({type:Number,json:{write:!0}})],ka.prototype,"displayCount",void 0),u([d({type:["list"],json:{write:!0}})],ka.prototype,"displayType",void 0),u([d({type:String,json:{write:!0}})],ka.prototype,"editableExpression",void 0),u([d({type:[Mk],json:{write:!0}})],ka.prototype,"orderByFields",void 0),u([d({type:Number,json:{write:!0}})],ka.prototype,"relationshipId",void 0),u([d({type:["relationship"],json:{read:!1,write:!0}})],ka.prototype,"type",void 0),ka=TP=u([I("esri.form.elements.RelationshipElement")],ka);const _F=ka;var OP;let sf=OP=class extends cc{constructor(e){super(e),this.text=null,this.textFormat="plain-text",this.type="text"}clone(){return new OP({text:this.text,textFormat:this.textFormat,visibilityExpression:this.visibilityExpression})}};u([d({type:String,json:{write:!0}})],sf.prototype,"text",void 0),u([d({type:String,json:{write:!0}})],sf.prototype,"textFormat",void 0),u([d({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],sf.prototype,"type",void 0),sf=OP=u([I("esri.form.elements.TextElement")],sf);const $F=sf;let af=class extends Se.ClonableMixin(cc){constructor(t){super(t),this.associationTypes=null,this.editableExpression=null,this.type="utilityNetworkAssociations"}};u([d({type:[AK],json:{write:{isRequired:!0}}})],af.prototype,"associationTypes",void 0),u([d({type:String,json:{write:!0}})],af.prototype,"editableExpression",void 0),u([d({type:["utilityNetworkAssociations"],json:{read:!1,write:!0}})],af.prototype,"type",void 0),af=u([I("esri.form.elements.UtilityNetworkAssociationsElement")],af);const TF=af,Abe=e=>e.type==="field",Pbe=e=>e.type==="group",Nbe=e=>e.type==="text";function nY(e){return{typesWithGroup:{base:cc,key:"type",typeMap:{attachment:gF,field:SF,group:e,relationship:_F,text:$F,utilityNetworkAssociations:TF}},typesWithoutGroup:{base:cc,key:"type",typeMap:{attachment:gF,field:SF,relationship:_F,text:$F,utilityNetworkAssociations:TF}}}}function iY(e,t,r=!0){if(!e)return null;const n=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(i=>n[i.type]).map(i=>n[i.type].fromJSON(i))}function oY(e,t,r=!0){if(!e)return null;const n=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(i=>n[i.type]).map(i=>i.toJSON())}function sY(e,t,r=!0){return e?e.map(n=>ha(r?t.typesWithGroup:t.typesWithoutGroup,n)):null}var EP;let Zs=EP=class extends cc{constructor(e){super(e),this.elements=null,this.initialState="expanded",this.type="group"}castElements(e){return sY(e,AO,!1)}readElements(e,t){return iY(t.formElements,AO,!1)}writeElements(e,t){t.formElements=oY(e,AO,!1)}clone(){return new EP({description:this.description,elements:D(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};u([d({json:{write:!0}})],Zs.prototype,"elements",void 0),u([pt("elements")],Zs.prototype,"castElements",null),u([X("elements",["formElements"])],Zs.prototype,"readElements",null),u([re("elements")],Zs.prototype,"writeElements",null),u([d({type:["collapsed","expanded"],json:{write:!0}})],Zs.prototype,"initialState",void 0),u([d({type:String,json:{read:!1,write:!0}})],Zs.prototype,"type",void 0),Zs=EP=u([I("esri.form.elements.GroupElement")],Zs);const AO=nY(Zs),Mbe=Zs;var jP;const PO=nY(Mbe);let Wo=jP=class extends z{constructor(e){super(e),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(e){return sY(e,PO)}readElements(e,t){return iY(t.formElements,PO)}writeElements(e,t){t.formElements=oY(e,PO)}clone(){return new jP({description:this.description,expressionInfos:D(this.expressionInfos),elements:D(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}async getFieldsUsed(e,t){const r=new Set,{description:n,elements:i,expressionInfos:o,title:s}=this;if(rg(r,e,n),rg(r,e,s),!i)return[];const a=Cbe(i,o).map(l=>Is(r,e,l));await Promise.all(a);for(const l of i)aY(r,{fieldsIndex:e,relationships:t},l);return Array.from(r).sort()}};function aY(e,t,r){const{fieldsIndex:n}=t;if(!n||n.fields.length!==e.size)switch(rg(e,n,r.label),rg(e,n,r.description),r.type){case"field":qi(e,n,r.fieldName);break;case"group":r.elements.forEach(i=>aY(e,t,i));break;case"relationship":if(t.relationships){const i=t.relationships.find(o=>o.id===r.relationshipId);i&&qi(e,n,i.keyField)}o$(e,n,r.orderByFields?.map(i=>i.field));break;case"text":rg(e,n,r.text)}}function Cbe(e,t){if(!t||t.length===0)return[];const r=lY(e),n=[];for(const i of t)r.has(i.name)&&n.push(i.expression);return n}function lY(e){const t=new Set;for(const r of e)if(g5(t,r.visibilityExpression),!Nbe(r)){if(Pbe(r))SS(t,lY(r.elements));else if(g5(t,r.editableExpression),Abe(r)){const{requiredExpression:n,valueExpression:i}=r;SS(t,[n,i])}}return t}function rg(e,t,r){o$(e,t,Ak(r))}u([d({type:String,json:{write:!0}})],Wo.prototype,"description",void 0),u([d({json:{write:!0}})],Wo.prototype,"elements",void 0),u([pt("elements")],Wo.prototype,"castElements",null),u([X("elements",["formElements"])],Wo.prototype,"readElements",null),u([re("elements")],Wo.prototype,"writeElements",null),u([d({type:[pbe],json:{write:!0}})],Wo.prototype,"expressionInfos",void 0),u([d({type:Boolean,json:{default:!1,write:!0}})],Wo.prototype,"preserveFieldValuesWhenHidden",void 0),u([d({type:String,json:{write:!0}})],Wo.prototype,"title",void 0),Wo=jP=u([I("esri.form.FormTemplate")],Wo);const kbe=Wo;let OF=class{constructor(t=r=>r.values().next().value){this._peeker=t,this._observable=new UC,this._items=new Set}get length(){return Ie(this._observable),this._items.size}clear(){this.length!==0&&(this._items.clear(),this._observable.notify())}last(){if(this.length===0)return;let t;for(t of this._items);return t}peek(){if(this.length!==0)return this._peeker(this._items)}push(t){this.contains(t)||(this._items.add(t),this._observable.notify())}contains(t){return Ie(this._observable),this._items.has(t)}pop(){if(this.length===0)return;const t=this.peek();return this._items.delete(t),this._observable.notify(),t}popLast(){if(this.length===0)return;const t=this.last();return this._items.delete(t),this._observable.notify(),t}remove(t){this.contains(t)&&(this._items.delete(t),this._observable.notify())}filter(t){const r=this.length;return this._items.forEach(n=>{t(n)||this._items.delete(n)}),r!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){Ie(this._observable),yield*this._items}};const uY=new FinalizationRegistry(e=>{e.close()});function Rbe(e,t){uY.register(e,t,t)}function Lbe(e){uY.unregister(e)}function cY(e,t){return new Proxy({},{get:(r,n,i)=>(...o)=>{let s,a;const l=o[o.length-1];return Dbe(l)&&(s=l.signal,a=l.transferList,o.pop()),e.apply(t?`${t}.${n.toString()}`:n.toString(),o,{transferList:a,signal:s})}})}function Dbe(e){return typeof e=="object"&&!Array.isArray(e)&&e!=null&&("signal"in e||"transferList"in e||Object.keys(e).length===0)}const Fbe={statsWorker:()=>ue(()=>import("./statsWorker-6d7a93f6.js"),["assets/statsWorker-6d7a93f6.js","assets/utils-9fa0ff83.js","assets/quantizationUtils-4020db87.js","assets/utils-2cad792c.js","assets/utils-7142f869.js","assets/ClassBreaksDefinition-2050dd64.js"]),geometryEngineWorker:()=>ue(()=>import("./geometryEngineWorker-89a45233.js"),["assets/geometryEngineWorker-89a45233.js","assets/geometryEngineJSON-ec2f929c.js","assets/geometryEngineBase-7de0a3cc.js","assets/_commonjsHelpers-b09fa337.js","assets/json-48e3ea08.js"]),arcadeGeometryOperatorsWorker:()=>ue(()=>import("./operatorsWorker-dc7a7434.js"),[]),CSVSourceWorker:()=>ue(()=>import("./CSVSourceWorker-62c94fb2.js"),["assets/CSVSourceWorker-62c94fb2.js","assets/date-bf306b67.js","assets/json-48e3ea08.js","assets/OptimizedFeature-a0a9dac6.js","assets/memoryEstimations-368c31a0.js","assets/executeQueryForSnapping-b6c8d1c4.js","assets/normalizeUtils-e6e5ded6.js","assets/normalizeUtilsCommon-3a54feae.js","assets/FixedIntervalBinParameters-c92437fc.js","assets/QueryEngine-6723a34b.js","assets/featureConversionUtils-f7ab006d.js","assets/OptimizedFeatureSet-5dc8ee29.js","assets/WhereClauseCache-89a3b7dc.js","assets/WhereClause-6167c62b.js","assets/QueryEngineCapabilities-4b2bc619.js","assets/quantizationUtils-4020db87.js","assets/utils-9fa0ff83.js","assets/utils-2cad792c.js","assets/utils-7142f869.js","assets/ClassBreaksDefinition-2050dd64.js","assets/signal-f297c7bf.js","assets/FeatureStore-41b79be2.js","assets/BoundsStore-8fb9ad0b.js","assets/PooledRBush-859ea7f2.js","assets/quickselect-b7b34c34.js","assets/optimizedFeatureQueryEngineAdapter-e87cd9e9.js","assets/number-45d97d9b.js","assets/clientSideDefaults-c074d183.js"]),EdgeProcessingWorker:()=>ue(()=>import("./EdgeProcessingWorker-9036ff9d.js"),["assets/EdgeProcessingWorker-9036ff9d.js","assets/InterleavedLayout-9da534c5.js","assets/BufferView-920eb48c.js","assets/vec2-c0ea4c96.js","assets/vec32-6757f7c3.js","assets/vec2f64-44b9a02c.js","assets/types-d99602e0.js","assets/edgeProcessing-274daf4f.js","assets/deduplicate-d77038a1.js","assets/Indices-7743fa81.js","assets/VertexAttribute-123db042.js","assets/enums-ff43618c.js","assets/VertexElementDescriptor-2925c6af.js"]),ElevationSamplerWorker:()=>ue(()=>import("./ElevationSamplerWorker-602c380e.js"),["assets/ElevationSamplerWorker-602c380e.js","assets/PooledRBush-859ea7f2.js","assets/quickselect-b7b34c34.js","assets/MeshLocalVertexSpace-9667e66a.js","assets/vertexSpaceConversion-a07cc897.js","assets/mat3-cd249fcd.js","assets/mat3f64-d34bdb1e.js","assets/mat4f64-a3dc1405.js","assets/vec32-6757f7c3.js","assets/spatialReferenceEllipsoidUtils-eb97be5b.js","assets/computeTranslationToOriginAndRotation-40e271f0.js","assets/projectPointToVector-f08559a6.js","assets/meshVertexSpaceUtils-6c020a89.js","assets/vec3-e56e83e4.js","assets/BufferView-920eb48c.js","assets/vec2-c0ea4c96.js","assets/vec2f64-44b9a02c.js","assets/vec4-e2b13c9c.js"]),FeatureServiceSnappingSourceWorker:()=>ue(()=>import("./FeatureServiceSnappingSourceWorker-54b64a27.js"),["assets/FeatureServiceSnappingSourceWorker-54b64a27.js","assets/UpdatingHandles-9ef52332.js","assets/executeQueryForSnapping-b6c8d1c4.js","assets/normalizeUtils-e6e5ded6.js","assets/normalizeUtilsCommon-3a54feae.js","assets/FixedIntervalBinParameters-c92437fc.js","assets/json-48e3ea08.js","assets/QueryEngine-6723a34b.js","assets/featureConversionUtils-f7ab006d.js","assets/OptimizedFeature-a0a9dac6.js","assets/memoryEstimations-368c31a0.js","assets/OptimizedFeatureSet-5dc8ee29.js","assets/WhereClauseCache-89a3b7dc.js","assets/WhereClause-6167c62b.js","assets/QueryEngineCapabilities-4b2bc619.js","assets/quantizationUtils-4020db87.js","assets/utils-9fa0ff83.js","assets/utils-2cad792c.js","assets/utils-7142f869.js","assets/ClassBreaksDefinition-2050dd64.js","assets/signal-f297c7bf.js","assets/FeatureStore-41b79be2.js","assets/BoundsStore-8fb9ad0b.js","assets/PooledRBush-859ea7f2.js","assets/quickselect-b7b34c34.js","assets/optimizedFeatureQueryEngineAdapter-e87cd9e9.js","assets/TileInfo-5e055ffe.js","assets/TileKey-e7ec6ed7.js","assets/pbfQueryUtils-e0baedd7.js","assets/pbf-b0db6978.js","assets/query-451341fb.js","assets/ByteSizeUnit-d4757d40.js"]),GeoJSONSourceWorker:()=>ue(()=>import("./GeoJSONSourceWorker-cd971765.js"),["assets/GeoJSONSourceWorker-cd971765.js","assets/featureConversionUtils-f7ab006d.js","assets/OptimizedFeature-a0a9dac6.js","assets/memoryEstimations-368c31a0.js","assets/OptimizedFeatureSet-5dc8ee29.js","assets/executeQueryForSnapping-b6c8d1c4.js","assets/normalizeUtils-e6e5ded6.js","assets/normalizeUtilsCommon-3a54feae.js","assets/FixedIntervalBinParameters-c92437fc.js","assets/json-48e3ea08.js","assets/QueryEngine-6723a34b.js","assets/WhereClauseCache-89a3b7dc.js","assets/WhereClause-6167c62b.js","assets/QueryEngineCapabilities-4b2bc619.js","assets/quantizationUtils-4020db87.js","assets/utils-9fa0ff83.js","assets/utils-2cad792c.js","assets/utils-7142f869.js","assets/ClassBreaksDefinition-2050dd64.js","assets/signal-f297c7bf.js","assets/FeatureStore-41b79be2.js","assets/BoundsStore-8fb9ad0b.js","assets/PooledRBush-859ea7f2.js","assets/quickselect-b7b34c34.js","assets/optimizedFeatureQueryEngineAdapter-e87cd9e9.js","assets/geojson-98445ab0.js","assets/date-bf306b67.js","assets/clientSideDefaults-c074d183.js","assets/sourceUtils-04396c3a.js"]),LercWorker:()=>ue(()=>import("./LercWorker-1f48c52a.js"),[]),MemorySourceWorker:()=>ue(()=>import("./MemorySourceWorker-70cca397.js"),["assets/MemorySourceWorker-70cca397.js","assets/featureConversionUtils-f7ab006d.js","assets/OptimizedFeature-a0a9dac6.js","assets/memoryEstimations-368c31a0.js","assets/OptimizedFeatureSet-5dc8ee29.js","assets/objectIdUtils-967fafff.js","assets/executeQueryForSnapping-b6c8d1c4.js","assets/normalizeUtils-e6e5ded6.js","assets/normalizeUtilsCommon-3a54feae.js","assets/FixedIntervalBinParameters-c92437fc.js","assets/json-48e3ea08.js","assets/QueryEngine-6723a34b.js","assets/WhereClauseCache-89a3b7dc.js","assets/WhereClause-6167c62b.js","assets/QueryEngineCapabilities-4b2bc619.js","assets/quantizationUtils-4020db87.js","assets/utils-9fa0ff83.js","assets/utils-2cad792c.js","assets/utils-7142f869.js","assets/ClassBreaksDefinition-2050dd64.js","assets/signal-f297c7bf.js","assets/FeatureStore-41b79be2.js","assets/BoundsStore-8fb9ad0b.js","assets/PooledRBush-859ea7f2.js","assets/quickselect-b7b34c34.js","assets/optimizedFeatureQueryEngineAdapter-e87cd9e9.js","assets/clientSideDefaults-c074d183.js","assets/sourceUtils-04396c3a.js","assets/date-bf306b67.js"]),PBFDecoderWorker:()=>ue(()=>import("./PBFDecoderWorker-e8191da6.js"),["assets/PBFDecoderWorker-e8191da6.js","assets/featureConversionUtils-f7ab006d.js","assets/OptimizedFeature-a0a9dac6.js","assets/memoryEstimations-368c31a0.js","assets/OptimizedFeatureSet-5dc8ee29.js","assets/pbfQueryUtils-e0baedd7.js","assets/pbf-b0db6978.js"]),FeaturePipelineWorker:()=>ue(()=>import("./FeaturePipelineWorker-feb45aad.js"),["assets/FeaturePipelineWorker-feb45aad.js","assets/TileInfo-5e055ffe.js","assets/TileKey-e7ec6ed7.js","assets/GeometryUtils-99735737.js","assets/TileKey-3507285f.js","assets/vec2-c0ea4c96.js","assets/ReactiveMap-a4187365.js","assets/signal-f297c7bf.js","assets/streamLayerUtils-649b6193.js","assets/OptimizedFeature-a0a9dac6.js","assets/memoryEstimations-368c31a0.js","assets/floatRGBA-76f20988.js","assets/vec2f32-d593cd8d.js","assets/enums-ff43618c.js","assets/libtess-57275135.js","assets/earcut-5a6c70eb.js","assets/vec2f64-44b9a02c.js","assets/featureConversionUtils-f7ab006d.js","assets/OptimizedFeatureSet-5dc8ee29.js","assets/QueueProcessor-0cfbd20f.js","assets/FixedIntervalBinParameters-c92437fc.js","assets/normalizeUtils-e6e5ded6.js","assets/normalizeUtilsCommon-3a54feae.js","assets/json-48e3ea08.js","assets/optimizedFeatureQueryEngineAdapter-e87cd9e9.js","assets/QueryEngine-6723a34b.js","assets/WhereClauseCache-89a3b7dc.js","assets/WhereClause-6167c62b.js","assets/QueryEngineCapabilities-4b2bc619.js","assets/quantizationUtils-4020db87.js","assets/utils-9fa0ff83.js","assets/utils-2cad792c.js","assets/utils-7142f869.js","assets/ClassBreaksDefinition-2050dd64.js","assets/quickselect-b7b34c34.js","assets/operatorGeodeticDensify-9cc58550.js","assets/SimpleGeometryCursor-e3941f41.js","assets/geodeticCurveType-07cde097.js","assets/normalizeUtilsSync-5fd33b66.js","assets/query-451341fb.js","assets/pbfQueryUtils-e0baedd7.js","assets/pbf-b0db6978.js","assets/ogcFeatureUtils-bedc2480.js","assets/geojson-98445ab0.js","assets/date-bf306b67.js","assets/clientSideDefaults-c074d183.js","assets/sourceUtils-04396c3a.js","assets/createConnection-6a78dde8.js","assets/UpdatingHandles-9ef52332.js"]),PointCloudWorker:()=>ue(()=>import("./PointCloudWorker-1a8b65d3.js"),["assets/PointCloudWorker-1a8b65d3.js","assets/quat-b2e4eef3.js","assets/mat3f64-d34bdb1e.js","assets/quatf64-216ddd5a.js","assets/vec32-6757f7c3.js","assets/vec3f32-5edf24fc.js","assets/PointCloudUniqueValueRenderer-008ec1d7.js","assets/I3SBinaryReader-fa99622a.js","assets/VertexAttribute-123db042.js","assets/orientedBoundingBox-b5a2f26d.js","assets/mat3-cd249fcd.js","assets/mat4f64-a3dc1405.js","assets/spatialReferenceEllipsoidUtils-eb97be5b.js","assets/computeTranslationToOriginAndRotation-40e271f0.js","assets/plane-d072a060.js","assets/vectorStacks-5954743a.js","assets/vec2f64-44b9a02c.js"]),RasterWorker:()=>ue(()=>import("./RasterWorker-724e6118.js"),["assets/RasterWorker-724e6118.js","assets/GeographicTransformation-7f05612b.js","assets/dataUtils-6e3ebbe4.js","assets/_commonjsHelpers-b09fa337.js","assets/colorUtils-8a0a0c74.js","assets/rasterFunctionHelper-5234c42e.js","assets/PolynomialTransform-21202358.js"]),SceneLayerSnappingSourceWorker:()=>ue(()=>import("./SceneLayerSnappingSourceWorker-effffdf5.js"),["assets/SceneLayerSnappingSourceWorker-effffdf5.js","assets/vec32-6757f7c3.js","assets/lineSegment-eb444802.js","assets/sphere-47db6b49.js","assets/mat3-cd249fcd.js","assets/mat3f64-d34bdb1e.js","assets/vectorStacks-5954743a.js","assets/mat4f64-a3dc1405.js","assets/quatf64-216ddd5a.js","assets/vec2f64-44b9a02c.js","assets/plane-d072a060.js","assets/BufferView-920eb48c.js","assets/vec2-c0ea4c96.js","assets/edgeProcessing-274daf4f.js","assets/deduplicate-d77038a1.js","assets/Indices-7743fa81.js","assets/InterleavedLayout-9da534c5.js","assets/types-d99602e0.js","assets/VertexAttribute-123db042.js","assets/enums-ff43618c.js","assets/VertexElementDescriptor-2925c6af.js"]),SceneLayerWorker:()=>ue(()=>import("./SceneLayerWorker-580f2a1d.js"),["assets/SceneLayerWorker-580f2a1d.js","assets/MeshLocalVertexSpace-9667e66a.js","assets/vec3-e56e83e4.js","assets/projectVectorToVector-4578cd62.js","assets/projectPointToVector-f08559a6.js","assets/sphere-47db6b49.js","assets/vec32-6757f7c3.js","assets/mat3-cd249fcd.js","assets/mat3f64-d34bdb1e.js","assets/vectorStacks-5954743a.js","assets/mat4f64-a3dc1405.js","assets/quatf64-216ddd5a.js","assets/vec2f64-44b9a02c.js","assets/I3SUtil-26e8c226.js","assets/I3SBinaryReader-fa99622a.js","assets/VertexAttribute-123db042.js","assets/floatRGBA-76f20988.js","assets/NormalAttribute.glsl-c8a94bd0.js","assets/orientedBoundingBox-b5a2f26d.js","assets/quat-b2e4eef3.js","assets/spatialReferenceEllipsoidUtils-eb97be5b.js","assets/computeTranslationToOriginAndRotation-40e271f0.js","assets/plane-d072a060.js"]),WFSSourceWorker:()=>ue(()=>import("./WFSSourceWorker-f4de9340.js"),["assets/WFSSourceWorker-f4de9340.js","assets/featureConversionUtils-f7ab006d.js","assets/OptimizedFeature-a0a9dac6.js","assets/memoryEstimations-368c31a0.js","assets/OptimizedFeatureSet-5dc8ee29.js","assets/executeQueryForSnapping-b6c8d1c4.js","assets/normalizeUtils-e6e5ded6.js","assets/normalizeUtilsCommon-3a54feae.js","assets/FixedIntervalBinParameters-c92437fc.js","assets/json-48e3ea08.js","assets/QueryEngine-6723a34b.js","assets/WhereClauseCache-89a3b7dc.js","assets/WhereClause-6167c62b.js","assets/QueryEngineCapabilities-4b2bc619.js","assets/quantizationUtils-4020db87.js","assets/utils-9fa0ff83.js","assets/utils-2cad792c.js","assets/utils-7142f869.js","assets/ClassBreaksDefinition-2050dd64.js","assets/signal-f297c7bf.js","assets/FeatureStore-41b79be2.js","assets/BoundsStore-8fb9ad0b.js","assets/PooledRBush-859ea7f2.js","assets/quickselect-b7b34c34.js","assets/optimizedFeatureQueryEngineAdapter-e87cd9e9.js","assets/geojson-98445ab0.js","assets/date-bf306b67.js","assets/sourceUtils-04396c3a.js","assets/wfsUtils-fd1b59e1.js","assets/xmlUtils-444cb4c0.js"]),WorkerTileHandler:()=>ue(()=>import("./WorkerTileHandler-21eb2b37.js"),["assets/WorkerTileHandler-21eb2b37.js","assets/StyleRepository-ccf9b8a5.js","assets/GeometryUtils-99735737.js","assets/enums-ff43618c.js","assets/VertexElementDescriptor-2925c6af.js","assets/colorUtils-8a0a0c74.js","assets/libtess-57275135.js","assets/pbf-b0db6978.js","assets/memoryEstimations-368c31a0.js","assets/earcut-5a6c70eb.js"]),Lyr3DWorker:()=>ue(()=>import("./Lyr3DWorker-5e1ade5d.js"),[]),Feature3DPipelineWorker:()=>ue(()=>import("./Feature3DPipelineWorker-9177e289.js").then(e=>e.F),["assets/Feature3DPipelineWorker-9177e289.js","assets/QueryEngine-6723a34b.js","assets/featureConversionUtils-f7ab006d.js","assets/OptimizedFeature-a0a9dac6.js","assets/memoryEstimations-368c31a0.js","assets/OptimizedFeatureSet-5dc8ee29.js","assets/WhereClauseCache-89a3b7dc.js","assets/WhereClause-6167c62b.js","assets/FixedIntervalBinParameters-c92437fc.js","assets/normalizeUtils-e6e5ded6.js","assets/normalizeUtilsCommon-3a54feae.js","assets/json-48e3ea08.js","assets/QueryEngineCapabilities-4b2bc619.js","assets/quantizationUtils-4020db87.js","assets/utils-9fa0ff83.js","assets/utils-2cad792c.js","assets/utils-7142f869.js","assets/ClassBreaksDefinition-2050dd64.js","assets/signal-f297c7bf.js","assets/mat4f64-a3dc1405.js","assets/vec32-6757f7c3.js","assets/MeshLocalVertexSpace-9667e66a.js","assets/vec2-c0ea4c96.js","assets/vec2f64-44b9a02c.js","assets/DefaultMaterial-66d78eea.js","assets/videoUtils-7880a0f1.js","assets/basicInterfaces-cbf2757f.js","assets/TextureFormat-60b88abd.js","assets/enums-ff43618c.js","assets/BufferView-920eb48c.js","assets/sphere-47db6b49.js","assets/mat3-cd249fcd.js","assets/mat3f64-d34bdb1e.js","assets/vectorStacks-5954743a.js","assets/quatf64-216ddd5a.js","assets/lineSegment-eb444802.js","assets/orientedBoundingBox-b5a2f26d.js","assets/quat-b2e4eef3.js","assets/spatialReferenceEllipsoidUtils-eb97be5b.js","assets/computeTranslationToOriginAndRotation-40e271f0.js","assets/plane-d072a060.js","assets/InterleavedLayout-9da534c5.js","assets/types-d99602e0.js","assets/NormalAttribute.glsl-c8a94bd0.js","assets/VertexAttribute-123db042.js","assets/projectVectorToVector-4578cd62.js","assets/projectPointToVector-f08559a6.js","assets/Indices-7743fa81.js","assets/floatRGBA-76f20988.js","assets/vec3f32-5edf24fc.js","assets/IntersectorType-fff45762.js","assets/ReactiveMap-a4187365.js","assets/PooledRBush-859ea7f2.js","assets/quickselect-b7b34c34.js","assets/query-451341fb.js","assets/pbfQueryUtils-e0baedd7.js","assets/pbf-b0db6978.js"]),TextureCompressionWorker:()=>ue(()=>import("./TextureCompressionWorker-7d08bc5b.js"),["assets/TextureCompressionWorker-7d08bc5b.js","assets/TextureFormat-60b88abd.js","assets/enums-ff43618c.js"])},dY="worker:port-closed";var Yr;(function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.OPEN=1]="OPEN",e[e.OPENED=2]="OPENED",e[e.RESPONSE=3]="RESPONSE",e[e.INVOKE=4]="INVOKE",e[e.ABORT=5]="ABORT",e[e.CLOSE=6]="CLOSE",e[e.OPEN_PORT=7]="OPEN_PORT",e[e.ON=8]="ON"})(Yr||(Yr={}));let Ube=0;function pY(){return Ube++}function zbe(e){return e&&typeof e=="object"&&("result"in e||"transferList"in e)}function Zg(e){return e?typeof e=="string"?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function zk(e,t,r,n){if(t.type===Yr.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==Yr.INVOKE&&t.type!==Yr.RESPONSE)return void e.postMessage(t);let i;if(zbe(r)?(i=EF(r.transferList),t.data=r.result):(i=EF(n),t.data=r),i){if(q("ff")){for(const o of i)if("byteLength"in o&&o.byteLength>267386880){const s="Worker call with large ArrayBuffer would crash Firefox";switch(t.type){case Yr.INVOKE:throw s;case Yr.RESPONSE:return void zk(e,{type:Yr.RESPONSE,jobId:t.jobId,error:Zg(s)})}}}e.postMessage(t,i)}else e.postMessage(t)}function Kg(e){if(!e)return null;const t=e.data;return t?typeof t=="string"?JSON.parse(t):t:null}function EF(e){if(!e?.length)return null;if(q("esri-workers-arraybuffer-transfer"))return e;const t=e.filter(r=>!Bbe(r));return t.length?t:null}function Bbe(e){return e instanceof ArrayBuffer||e?.constructor?.name==="ArrayBuffer"}async function RYe(e){try{return await e}catch(t){const r=t?.name===dY;if(!(Ao(t)||r))throw t;return}}const{CLOSE:jF,ABORT:IF,INVOKE:AF,RESPONSE:vm,OPEN_PORT:PF,ON:Vbe}=Yr,qbe=2;let Gbe=class{constructor(t){this._invoke=t,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(t){t.type===Yr.ABORT?this._cancelledJobIds.add(t.jobId):(this._invokeMessages.push(t),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const t of this._invokeMessages)this._cancelledJobIds.has(t.jobId)||this._invoke(t);this._cancelledJobIds.clear(),this._invokeMessages.length=0}};var as;let Vh=(as=class{static connect(t,r){const n=new MessageChannel;let i;i=typeof t=="function"?new t:"default"in t&&typeof t.default=="function"?new t.default:t;const o=new as(n.port1,{channel:n,client:i,schedule:r});return typeof i=="object"&&"remoteClient"in i&&(i.remoteClient=o),as.clients.set(o,i),n.port2}static loadWorker(t){const r=Fbe[t];return r?r():Promise.resolve(null)}constructor(t,r,n,i){this._port=t,this._jobQueue=n,this._lowPriorityJobQueue=i,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new Gbe(o=>this._onInvokeMessage(o)),this._client=r.client,this._onMessage=this._onMessage.bind(this),this._channel=r.channel,this._schedule=r.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:jF}),this._close()}isBusy(){return this._outJobs.size>0}invoke(t,r,n){return this.apply(t,[r],n)}apply(t,r,n){const i=n?.signal,o=n?.transferList;if(!this._port)return Promise.reject(new Z(dY,`Cannot call invoke('${t}'), port is closed`,{methodName:t,data:r}));const s=pY();return new Promise((a,l)=>{if(El(i))return this._processWork(),void l(hr());const c=Jd(i,()=>{const h=this._outJobs.get(s);h&&(this._outJobs.delete(s),this._processWork(),bs(h.abortHandle),this._post({type:IF,jobId:s}),l(hr()))}),p={resolve:a,reject:l,abortHandle:c,debugInfo:t};this._outJobs.set(s,p),this._post({type:AF,jobId:s,methodName:t,abortable:i!=null},r,o)})}createInvokeProxy(t){return cY(this,t)}on(t,r){const n=new MessageChannel;function i(o){r(o.data)}return this._port.postMessage({type:Yr.ON,eventType:t,port:n.port2},[n.port2]),n.port1.addEventListener("message",i),n.port1.start(),yr(()=>{n.port1.postMessage({type:Yr.CLOSE}),n.port1.close(),n.port1.removeEventListener("message",i)})}jobAdded(){this._processWork()}openPort(){const t=new MessageChannel;return this._post({type:PF,port:t.port2}),t.port1}_processWork(){if(this._outJobs.size>=qbe)return;const t=this._jobQueue?.pop()??this._lowPriorityJobQueue?.pop();if(!t)return;const{methodName:r,data:n,invokeOptions:i,resolver:o}=t;this.apply(r,n,i).then(s=>o.resolve(s)).catch(s=>o.reject(s))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(t=>{bs(t.abortHandle),t.reject(hr(`Worker closing, aborting job calling '${t.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(t){this._schedule!=null?this._schedule(()=>this._processMessage(t,!0)):this._processMessage(t,!1)}_processMessage(t,r){const n=Kg(t);if(n)switch(n.type){case vm:this._onResponseMessage(n);break;case AF:r?this._onInvokeMessage(n):this._invokeQueue.push(n);break;case IF:this._onAbortMessage(n);break;case jF:this._onCloseMessage();break;case PF:this._onOpenPortMessage(n);break;case Vbe:this._onOnMessage(n)}}_onAbortMessage(t){const r=this._inJobs,n=t.jobId,i=r.get(n);this._invokeQueue.push(t),i&&(i.controller&&i.controller.abort(),r.delete(n))}_onCloseMessage(){const t=this._client;this._close(),t&&"destroy"in t&&as.clients.get(this)===t&&t.destroy(),as.clients.delete(this),t?.remoteClient&&(t.remoteClient=null)}_onInvokeMessage(t){const{methodName:r,jobId:n,data:i=[],abortable:o}=t,s=o?new AbortController:null,a=this._inJobs;let l,c=this._client,p=c[r];try{if(!p&&r&&r.includes(".")){const h=r.split(".");for(let y=0;y<h.length-1;y++)c=c[h[y]],p=c[h[y+1]]}if(typeof p!="function")throw new TypeError(`${r} is not a function`);i.push({client:this,signal:s?s.signal:null}),l=p.apply(c,i)}catch(h){return void this._post({type:vm,jobId:n,error:Zg(h)})}$y(l)?(a.set(n,{controller:s,promise:l}),l.then(h=>{a.has(n)&&(a.delete(n),this._post({type:vm,jobId:n},h))},h=>{a.has(n)&&(a.delete(n),Ao(h)||this._post({type:vm,jobId:n,error:Zg(h||{message:`Error encountered at method ${r}`})}))})):this._post({type:vm,jobId:n},l)}_onOpenPortMessage(t){new as(t.port,{client:this._client})}_onOnMessage(t){const{port:r}=t,n=this._client.on(t.eventType,o=>{r.postMessage(o)}),i=$C(t.port,"message",o=>{Kg(o)?.type===Yr.CLOSE&&(i.remove(),n.remove(),r.close())})}_onResponseMessage(t){const{jobId:r,error:n,data:i}=t,o=this._outJobs;if(!o.has(r))return;const s=o.get(r);o.delete(r),this._processWork(),bs(s.abortHandle),n?s.reject(Z.fromJSON(JSON.parse(n))):s.resolve(i)}_post(t,r,n){return zk(this._port,t,r,n)}},as.kernelInfo={buildDate:NG,fullVersion:SC,revision:MG},as.clients=new Map,as),Wbe=class{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new OF,this._ongoingLowPriorityJobsQueue=new OF}destroy(){this.close()}get closed(){return!this._clients?.length}open(t,r){return new Promise((n,i)=>{let o=!0;const s=a=>{kn(r.signal),o&&(o=!1,a())};this._clients.length=t.length,this._clientPromises.length=t.length,this._inUseClients.length=t.length;for(let a=0;a<t.length;++a){const l=t[a];$y(l)?this._clientPromises[a]=l.then(c=>(this._clients[a]=new Vh(c,r,this._ongoingJobsQueue,this._ongoingLowPriorityJobsQueue),s(n),this._clients[a]),()=>(s(i),null)):(this._clients[a]=new Vh(l,r,this._ongoingJobsQueue,this._ongoingLowPriorityJobsQueue),this._clientPromises[a]=Promise.resolve(this._clients[a]),s(n))}})}broadcast(t,r,n){const i=new Array(this._clientPromises.length);for(let o=0;o<this._clientPromises.length;++o){const s=this._clientPromises[o];i[o]=s.then(a=>a?.invoke(t,r,n))}return i}close(){let t;for(;t=this._ongoingJobsQueue.pop();)t.resolver.reject(hr(`Worker closing, aborting job calling '${t.methodName}'`));for(;t=this._ongoingLowPriorityJobsQueue.pop();)t.resolver.reject(hr(`Worker closing, aborting job calling '${t.methodName}'`));for(const r of this._clientPromises)r.then(n=>n?.close());this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,Lbe(this)}invoke(t,r,n){return this.apply(t,[r],n)}apply(t,r,n){const i=tc();(n?.priority==="low"?this._ongoingLowPriorityJobsQueue:this._ongoingJobsQueue).push({methodName:t,data:r,invokeOptions:n,resolver:i});for(let o=0;o<this._clientPromises.length;o++){const s=this._clients[o];s?s.jobAdded():this._clientPromises[o].then(a=>a?.jobAdded())}return i.promise}createInvokeProxy(t){return cY(this,t)}on(t,r){return Promise.all(this._clientPromises).then(()=>P_(this._clients.map(n=>n.on(t,r))))}openPorts(){return new Promise(t=>{const r=new Array(this._clientPromises.length);let n=r.length;for(let i=0;i<this._clientPromises.length;++i)this._clientPromises[i].then(o=>{o&&(r[i]=o.openPort()),--n===0&&t(r)})})}get test(){}};const Hbe={async request(e,t){const r=e.options,n=r.responseType;r.signal=t?.signal,r.responseType=n==="native"||n==="native-request-init"?"native-request-init":n&&["blob","json","text"].includes(n)&&xj(e.url)?.after?n:"array-buffer";const i=await tt(e.url,r),o={data:i.data,httpStatus:i.httpStatus,ssl:i.ssl};switch(i.requestOptions?.responseType){case"native-request-init":return delete o.data.signal,o;case"blob":o.data=await o.data.arrayBuffer();break;case"json":o.data=new TextEncoder().encode(JSON.stringify(o.data)).buffer;break;case"text":o.data=new TextEncoder().encode(o.data).buffer}return{result:o,transferList:[o.data]}}},NF={};function Jbe(e){const t={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:{...e.has},map:{...e.map},packages:e.packages?.slice()||[],paths:{...NF.paths,...e.paths}};return e.hasOwnProperty("async")||(t.async=!0),e.hasOwnProperty("isDebug")||(t.isDebug=!1),e.baseUrl||(t.baseUrl=NF.baseUrl),t}let Zbe=class{constructor(){const t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(r=>{this[r]=(...n)=>t[r](...n)})}},bx=class{constructor(){this._dispatcher=new Zbe,this._workerPostMessage({type:Yr.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(t){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=t,t&&this.addEventListener("message",t)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(t){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=t,t&&this.addEventListener("messageerror",t)}get onerror(){return this._onerrorHandler}set onerror(t){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=t,t&&this.addEventListener("error",t)}postMessage(t){xS(()=>{this._workerMessageHandler(new MessageEvent("message",{data:t}))})}dispatchEvent(t){return this._dispatcher.dispatchEvent(t)}addEventListener(t,r,n){this._dispatcher.addEventListener(t,r,n)}removeEventListener(t,r,n){this._dispatcher.removeEventListener(t,r,n)}_workerPostMessage(t){xS(()=>{this.dispatchEvent(new MessageEvent("message",{data:t}))})}async _workerMessageHandler(t){const r=Kg(t);if(r&&r.type===Yr.OPEN){const{modulePath:n,jobId:i}=r;let o=await Vh.loadWorker(n);o||(o=await ue(()=>import(n),[]));const s=Vh.connect(o);this._workerPostMessage({type:Yr.OPENED,jobId:i,data:s})}}};const IP=()=>ce.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:Kbe}=Yr,Ybe='let globalId=0;const outgoing=new Map,configuration={CONFIGURATION};self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;let s=null;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());s=()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener("abort",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})})).finally((()=>{t&&t.removeEventListener("abort",s)}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\nModules version: ${r}\nAssets version: ${n??s}\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let jb,Ib;const MF="Failed to create Worker. Fallback to execute module in main thread";async function Qbe(){if(!q("esri-workers"))return CF(new bx);if(!jb&&!Ib)try{const t=Ybe.split("{CONFIGURATION}").join(Xbe());jb=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(t){Ib=t||{}}let e;if(jb)try{e=new Worker(jb,{name:"esri-worker-"+ewe++})}catch{IP().warn(MF,Ib),e=new bx}else IP().warn(MF,Ib),e=new bx;return CF(e)}async function CF(e){return new Promise(t=>{function r(i){const o=Kg(i);o&&o.type===Kbe&&(e.removeEventListener("message",r),e.removeEventListener("error",n),t(e))}function n(i){i.preventDefault(),e.removeEventListener("message",r),e.removeEventListener("error",n),IP().warn("Failed to create Worker. Fallback to execute module in main thread",i),(e=new bx).addEventListener("message",r),e.addEventListener("error",n)}e.addEventListener("message",r),e.addEventListener("error",n)})}function Xbe(){let e;if(Ye.default!=null){const i={...Ye};delete i.default,e=JSON.parse(JSON.stringify(i))}else e=JSON.parse(JSON.stringify(Ye));e.assetsPath=yo(e.assetsPath),e.defaultAssetsPath=e.defaultAssetsPath?yo(e.defaultAssetsPath):void 0,e.request.interceptors=[],e.log.interceptors=[],e.locale=$o(),e.has={"esri-csp-restrictions":q("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":q("esri-2d-update-debug"),"esri-2d-log-updating":q("esri-2d-log-updating"),"featurelayer-pbf":q("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":q("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":q("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":q("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":q("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":q("featurelayer-query-max-depth"),"featurelayer-query-tile-max-features":q("featurelayer-query-tile-max-features"),"featurelayer-query-tile-concurrency":q("featurelayer-query-tile-concurrency"),"featurelayer-query-pausing-enabled":q("featurelayer-query-pausing-enabled"),"featurelayer-snapshot-concurrency":q("featurelayer-snapshot-concurrency"),"featurelayer-snapshot-enabled":q("featurelayer-snapshot-enabled"),"esri-atomics":q("esri-atomics"),"esri-shared-array-buffer":q("esri-shared-array-buffer"),"esri-tiles-debug":q("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":q("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":q("feature-polyline-generalization-factor"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=yo(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=yo(e.workers.workerPath):e.workers.workerPath=yo(cr("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;const t=Ye.workers.loaderConfig,r=Jbe({baseUrl:t?.baseUrl,locale:$o(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...t?.has},map:{...t?.map},paths:{...t?.paths},packages:t?.packages||[]});return JSON.stringify({esriConfig:e,loaderConfig:r,kernelInfo:{buildDate:NG,fullVersion:SC,revision:MG}})}let ewe=0;const{ABORT:kF,INVOKE:twe,OPEN:rwe,OPENED:nwe,RESPONSE:bm}=Yr;let iwe=class fY{static async create(t){const r=await Qbe();return new fY(r,t)}constructor(t,r){this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=r,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",n=>{n.preventDefault(),ce.getLogger("esri.core.workers.WorkerOwner").error(n)})}terminate(){this.worker.terminate()}async open(t,r={}){const{signal:n}=r,i=pY();return new Promise((o,s)=>{const a={resolve:o,reject:s,abortHandle:DG(n,()=>{this._outJobs.delete(i),this._post({type:kF,jobId:i})})};this._outJobs.set(i,a),this._post({type:rwe,jobId:i,modulePath:t})})}_onMessage(t){const r=Kg(t);if(r)switch(r.type){case nwe:this._onOpenedMessage(r);break;case bm:this._onResponseMessage(r);break;case kF:this._onAbortMessage(r);break;case twe:this._onInvokeMessage(r)}}_onAbortMessage(t){const r=this._inJobs,n=t.jobId,i=r.get(n);i&&(i.controller&&i.controller.abort(),r.delete(n))}_onInvokeMessage(t){const{methodName:r,jobId:n,data:i,abortable:o}=t,s=o?new AbortController:null,a=this._inJobs,l=Hbe[r];let c;try{if(typeof l!="function")throw new TypeError(`${r} is not a function`);c=l.call(null,i,{signal:s?s.signal:null})}catch(p){return void this._post({type:bm,jobId:n,error:Zg(p)})}$y(c)?(a.set(n,{controller:s,promise:c}),c.then(p=>{a.has(n)&&(a.delete(n),this._post({type:bm,jobId:n},p))},p=>{a.has(n)&&(a.delete(n),p||(p={message:"Error encountered at method"+r}),Ao(p)||this._post({type:bm,jobId:n,error:Zg(p||{message:`Error encountered at method ${r}`})}))})):this._post({type:bm,jobId:n},c)}_onOpenedMessage(t){const{jobId:r,data:n}=t,i=this._outJobs.get(r);i&&(this._outJobs.delete(r),bs(i.abortHandle),i.resolve(n))}_onResponseMessage(t){const{jobId:r,error:n,data:i}=t,o=this._outJobs.get(r);o&&(this._outJobs.delete(r),bs(o.abortHandle),n?o.reject(Z.fromJSON(JSON.parse(n))):o.resolve(i))}_post(t,r,n){return zk(this.worker,t,r,n)}};const RF=q("host-browser")?Math.min(navigator.hardwareConcurrency-1,q("workers-pool-size")??8):0;let Td=q("esri-mobile")?Math.min(RF,3):RF;Td||(Td=q("safari")&&q("mac")?7:2);let LF=0;const wx=[];async function Ab(e,t){const r=new Wbe,{registryTarget:n,...i}=t;return await r.open(e,i),n&&Rbe(n,r),r}async function owe(e,t={}){if(typeof e!="string")throw new Z("workers:undefined-module","modulePath is missing");let r=t.strategy||"distributed";if(q("host-webworker")&&!q("esri-workers")&&(r="local"),r==="local"){let n=await Vh.loadWorker(e);n||(n=await ue(()=>import(e),[])),kn(t.signal);const i=t.client||n;return Ab([Vh.connect(n,t.schedule)],{...t,client:i})}if(await swe(),kn(t.signal),r==="dedicated"){const n=LF++%Td;return Ab([await wx[n].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const n=Math.min(t.maxNumWorkers,Td);if(n<Td){const i=new Array(n);for(let o=0;o<n;++o){const s=LF++%Td;i[o]=wx[s].open(e,t)}return Ab(i,t)}}return Ab(wx.map(n=>n.open(e,t)),t)}let Pb=null;async function swe(){if(Pb)return Pb;new AbortController;const e=[];for(let t=0;t<Td;t++){const r=iwe.create(t).then(n=>(wx[t]=n,n));e.push(r)}return Pb=Promise.all(e),Pb}function DF(e,t,r){if(e.hasM==null||e.hasZ)for(const n of t)for(const i of n)i.length>2&&(i[2]*=r)}function awe(e,t,r){if(!e&&!t||!r)return;const n=kS(r);FF(e,r,n),FF(t,r,n)}function FF(e,t,r){if(e)for(const n of e)lwe(n.geometry,t,r)}function lwe(e,t,r){if(!e?.spatialReference||wi(e.spatialReference,t))return;const n=kS(e.spatialReference)/r;if(n!==1){if("x"in e)e.z!=null&&(e.z*=n);else if("rings"in e)DF(e,e.rings,n);else if("paths"in e)DF(e,e.paths,n);else if("points"in e&&(e.hasM==null||e.hasZ))for(const i of e.points)i.length>2&&(i[2]*=n)}}function UF(e,t,r){if(!r?.features||!r.hasZ)return;const n=vZ(r.geometryType,t,e.outSpatialReference);if(n!=null)for(const i of r.features)n(i.geometry)}var AP;const uwe=new Pe({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});var Yv;let Hr=(Yv=class extends z{constructor(t){super(t),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(t,{description:r}){let n=null;try{n=r?JSON.parse(r):null}catch{}return n?.value??null}readValueType(t,{description:r}){let n=null;try{n=r?JSON.parse(r):null}catch{}return n?uwe.fromJSON(n.fieldValueType):null}clone(){return new AP({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain?.clone()??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}},AP=Yv,Yv);u([d({type:String,json:{write:!0}})],Hr.prototype,"alias",void 0),u([d({type:[String,Number],json:{write:{allowNull:!0}}})],Hr.prototype,"defaultValue",void 0),u([d()],Hr.prototype,"description",void 0),u([X("description")],Hr.prototype,"readDescription",null),u([d({types:rY,json:{read:{reader:c$},write:!0}})],Hr.prototype,"domain",void 0),u([d({type:Boolean,json:{write:!0}})],Hr.prototype,"editable",void 0),u([d({type:ze,json:{write:{overridePolicy:e=>({enabled:Number.isFinite(e)})}}})],Hr.prototype,"length",void 0),u([d({type:String,json:{write:!0}})],Hr.prototype,"name",void 0),u([d({type:Boolean,json:{write:!0}})],Hr.prototype,"nullable",void 0),u([ye(Ek)],Hr.prototype,"type",void 0),u([d()],Hr.prototype,"valueType",void 0),u([X("valueType",["description"])],Hr.prototype,"readValueType",null),u([d({type:Boolean,json:{read:!1}})],Hr.prototype,"visible",void 0),Hr=AP=u([I("esri.layers.support.Field")],Hr);var PP;const NP=new Pe({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let Mr=PP=class extends z{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){return this.readFeaturesWithClass(e,t,wr)}writeGeometryType(e,t,r,n){if(e)return void NP.write(e,t,r,n);const{features:i}=this;if(i){for(const o of i)if(o?.geometry!=null)return void NP.write(o.geometry.type,t,r,n)}}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,n=Il(e);return n&&!r&&t.spatialReference&&(n.spatialReference=be.fromJSON(t.spatialReference)),n}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:r}=this;if(r){for(const n of r)if(n&&n.geometry!=null&&n.geometry.spatialReference)return void(t.spatialReference=n.geometry.spatialReference.toJSON())}}clone(){return new PP(this.cloneProperties())}cloneProperties(){return D({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const n=t.features[r];if(n.geometry){const i=e?.[r];n.geometry=i?.toJSON()||n.geometry}}return t}quantize(e){const{scale:[t,r],translate:[n,i]}=e,o=c=>Math.round((c-n)/t),s=c=>Math.round((i-c)/r),a=this.features,l=this._getQuantizationFunction(this.geometryType,o,s);for(let c=0,p=a.length;c<p;c++)l?.(a[c].geometry)||(a.splice(c,1),c--,p--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:r}=this;if(!r)return this;const{translate:[n,i],scale:[o,s]}=r,a=y=>y*o+n,l=y=>i-y*s;let c=null,p=null;if(this.hasZ&&r?.scale?.[2]!=null){const{translate:[,,y],scale:[,,m]}=r;c=g=>g*m+y}if(this.hasM&&r?.scale?.[3]!=null){const{translate:[,,,y],scale:[,,,m]}=r;p=g=>g==null?g:g*m+y}const h=this._getHydrationFunction(e,a,l,c,p);for(const{geometry:y}of t)y!=null&&h&&h(y);return this.transform=null,this}readFeaturesWithClass(e,t,r){const n=be.fromJSON(t.spatialReference),i=[];for(let o=0;o<e.length;o++){const s=e[o],a=r.fromJSON(s),l=s.geometry?.spatialReference;a.geometry==null||l||(a.geometry.spatialReference=n);const c=s.aggregateGeometries,p=a.aggregateGeometries;if(c&&p!=null)for(const h in p){const y=p[h],m=c[h],g=m?.spatialReference;y==null||g||(y.spatialReference=n)}i.push(a)}return i}_quantizePoints(e,t,r){let n,i;const o=[];for(let s=0,a=e.length;s<a;s++){const l=e[s];if(s>0){const c=t(l[0]),p=r(l[1]);c===n&&p===i||(o.push([c-n,p-i]),n=c,i=p)}else n=t(l[0]),i=r(l[1]),o.push([n,i])}return o.length>0?o:null}_getQuantizationFunction(e,t,r){return e==="point"?n=>(n.x=t(n.x),n.y=r(n.y),n):e==="polyline"||e==="polygon"?n=>{const i=J0(n)?n.rings:n.paths,o=[];for(let s=0,a=i.length;s<a;s++){const l=i[s],c=this._quantizePoints(l,t,r);c&&o.push(c)}return o.length>0?(J0(n)?n.rings=o:n.paths=o,n):null}:e==="multipoint"?n=>{const i=this._quantizePoints(n.points,t,r);return i&&i.length>0?(n.points=i,n):null}:e==="extent"?n=>n:null}_getHydrationFunction(e,t,r,n,i){return e==="point"?o=>{o.x=t(o.x),o.y=r(o.y),n&&(o.z=n(o.z))}:e==="polyline"||e==="polygon"?o=>{const s=J0(o)?o.rings:o.paths;let a,l;for(let c=0,p=s.length;c<p;c++){const h=s[c];for(let y=0,m=h.length;y<m;y++){const g=h[y];y>0?(a+=g[0],l+=g[1]):(a=g[0],l=g[1]),g[0]=t(a),g[1]=r(l)}}if(n&&i)for(let c=0,p=s.length;c<p;c++){const h=s[c];for(let y=0,m=h.length;y<m;y++){const g=h[y];g[2]=n(g[2]),g[3]=i(g[3])}}else if(n)for(let c=0,p=s.length;c<p;c++){const h=s[c];for(let y=0,m=h.length;y<m;y++){const g=h[y];g[2]=n(g[2])}}else if(i)for(let c=0,p=s.length;c<p;c++){const h=s[c];for(let y=0,m=h.length;y<m;y++){const g=h[y];g[2]=i(g[2])}}}:e==="extent"?o=>{o.xmin=t(o.xmin),o.ymin=r(o.ymin),o.xmax=t(o.xmax),o.ymax=r(o.ymax),n&&o.zmax!=null&&o.zmin!=null&&(o.zmax=n(o.zmax),o.zmin=n(o.zmin)),i&&o.mmax!=null&&o.mmin!=null&&(o.mmax=i(o.mmax),o.mmin=i(o.mmin))}:e==="multipoint"?o=>{const s=o.points;let a,l;for(let c=0,p=s.length;c<p;c++){const h=s[c];c>0?(a+=h[0],l+=h[1]):(a=h[0],l=h[1]),h[0]=t(a),h[1]=r(l)}if(n&&i)for(let c=0,p=s.length;c<p;c++){const h=s[c];h[2]=n(h[2]),h[3]=i(h[3])}else if(n)for(let c=0,p=s.length;c<p;c++){const h=s[c];h[2]=n(h[2])}else if(i)for(let c=0,p=s.length;c<p;c++){const h=s[c];h[2]=i(h[2])}}:null}};u([d({type:String,json:{write:!0}})],Mr.prototype,"displayFieldName",void 0),u([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Mr.prototype,"exceededTransferLimit",void 0),u([d({type:[wr],json:{write:!0}})],Mr.prototype,"features",void 0),u([X("features")],Mr.prototype,"readFeatures",null),u([d({type:[Hr],json:{write:!0}})],Mr.prototype,"fields",void 0),u([d({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:NP.read}}})],Mr.prototype,"geometryType",void 0),u([re("geometryType")],Mr.prototype,"writeGeometryType",null),u([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Mr.prototype,"hasM",void 0),u([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Mr.prototype,"hasZ",void 0),u([d({types:My,json:{write:!0}})],Mr.prototype,"queryGeometry",void 0),u([X("queryGeometry")],Mr.prototype,"readQueryGeometry",null),u([d({type:be,json:{write:!0}})],Mr.prototype,"spatialReference",void 0),u([re("spatialReference")],Mr.prototype,"writeSpatialReference",null),u([d({json:{write:!0}})],Mr.prototype,"transform",void 0),Mr=PP=u([I("esri.rest.support.FeatureSet")],Mr),Mr.prototype.toJSON.isDefaultToJSON=!0;let cwe=0,Za=class extends hi.LoadableMixin(wd.EsriPromiseMixin(Te)){constructor(t){super(t),this._idToClientGeometry=null,this.type="memory"}load(t){const r=t!=null?t.signal:null;return this.addResolvingPromise(this._startWorker(r)),Promise.resolve(this)}destroy(){this._connection?.close(),this._connection=null}get _workerGeometryType(){const t=this.layer?.geometryType;return t?this._geometryTypeRequiresClientGraphicMapping(t)?"polygon":t:null}applyEdits(t){return this.load().then(()=>this._applyEdits(t))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(t,r={}){await this.load(r);const n=await this._connection.invoke("queryFeatures",t?t.toJSON():null,r);UF(t,this.layer.spatialReference,n);const i=Mr.fromJSON(n);if(!this._requiresClientGraphicMapping()||!this._idToClientGeometry)return i;const o=this.layer.objectIdField;for(const s of i.features){const a=s.attributes[o],l=this._idToClientGeometry.get(a);l!==void 0&&(s.geometry=l)}return i.geometryType=this.layer.geometryType,i}async queryFeaturesJSON(t,r={}){if(this._requiresClientGraphicMapping())throw new Z("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(r);const n=await this._connection.invoke("queryFeatures",t?t.toJSON():null,r);return UF(t,this.layer.spatialReference,n),n}queryFeatureCount(t,r={}){return this.load(r).then(()=>this._connection.invoke("queryFeatureCount",t?t.toJSON():null,r))}queryObjectIds(t,r={}){return this.load(r).then(()=>this._connection.invoke("queryObjectIds",t?t.toJSON():null,r))}queryExtent(t,r={}){return this.load(r).then(()=>this._connection.invoke("queryExtent",t?t.toJSON():null,r)).then(n=>({count:n.count,extent:Ue.fromJSON(n.extent)}))}querySnapping(t,r={}){return this.load(r).then(()=>this._connection.invoke("querySnapping",t,r))}async queryAttributeBins(t,r={}){return await this.load(),this._connection.invoke("queryAttributeBins",t?.toJSON(),r)}async _applyEdits(t){if(!this._connection)throw new Z("feature-layer-source:edit-failure","Memory source not loaded");const r=this.layer.objectIdField;let n=null;const i=[],o=[];await Promise.all([this._prepareClientMapping(t.addFeatures,null),this._prepareClientMapping(t.updateFeatures,null)]);const s=p=>"objectId"in p&&p.objectId!=null?p.objectId:"attributes"in p&&p.attributes[r]!=null?p.attributes[r]:null;if(t.addFeatures&&(n=this._prepareAddFeatures(t.addFeatures)),t.deleteFeatures)for(const p of t.deleteFeatures){const h=s(p);h!=null&&i.push(h)}const a=t.updateFeatures&&this._idToClientGeometry?new Map:null;if(t.updateFeatures){for(const p of t.updateFeatures)if(o.push(this._serializeFeature(p)),a&&p.geometry!=null){const h=s(p);h!=null&&a.set(h,p)}}awe(n?n.features:null,o,this.layer.spatialReference);const{fullExtent:l,featureEditResults:c}=await this._connection.invoke("applyEdits",{adds:n?n.features:[],updates:o,deletes:i});return this.fullExtent=l,n&&n.finish(c.uidToObjectId),this._updateIdToClientGeometries(a,c),this._createEditsResult(c)}async _prepareClientMapping(t,r){if(this._layerOrSourceGeometryType!=="mesh"||t==null)return;const n=[];for(const{geometry:i}of t)i==null||i.type!=="mesh"||i.hasExtent||i.loaded||n.push(i.load({signal:r}));n.length&&await Promise.all(n)}_updateIdToClientGeometries(t,r){if(this._idToClientGeometry){if(t)for(const n of r.updateResults){if(!n.success)continue;const i=t.get(n.objectId);i!=null&&this._addIdToClientGeometry(i)}for(const n of r.deleteResults)n.success&&this._idToClientGeometry.delete(n.objectId)}}_createEditsResult(t){return{addFeatureResults:t.addResults?t.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:t.updateResults?t.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:t.deleteResults?t.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(t){const r=t.success===!0?null:t.error||{code:void 0,description:""};return{objectId:t.objectId,globalId:t.globalId,error:r?new Z("feature-layer-source:edit-failure",r.description,{code:r.code}):null}}_prepareAddFeatures(t){const r=new Map,n=new Array(t.length);let i=null;for(let s=0;s<t.length;s++){const a=t[s],l=this._serializeFeature(a);i||a.geometry==null||(i=a.geometry.type),n[s]=l,r.set(`${l.uid}`,a)}const o=this;return{features:n,inferredGeometryType:i,finish(s){const a=o.sourceJSON.objectIdField;for(const l in s){const c=s[l],p=r.get(l);p&&(p.attributes||(p.attributes={}),c===-1?delete p.attributes[a]:p.attributes[a]=c,o._addIdToClientGeometry(p))}}}}_addIdToClientGeometry(t){if(!this._idToClientGeometry)return;const r=this.sourceJSON.objectIdField,n=t.attributes?.[r];n!=null&&this._idToClientGeometry.set(n,t.geometry??null)}get _layerOrSourceGeometryType(){return this.layer?.geometryType??this.sourceJSON?.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(t){return this._geometryTypeRequiresClientGraphicMapping(t.type)}_geometryTypeRequiresClientGraphicMapping(t){return t==="mesh"||t==="multipatch"||t==="extent"}_serializeFeature(t){const{attributes:r}=t,n=this._geometryForSerialization(t),i=(cwe++).toString();return n?{uid:i,geometry:n.toJSON(),attributes:r}:{uid:i,attributes:r}}_geometryForSerialization(t){const{geometry:r}=t;return r==null?null:this._geometryRequiresClientGraphicMapping(r)?r.extent?dr.fromExtent(r.extent):null:r}async _startWorker(t){this._connection=await owe("MemorySourceWorker",{strategy:q("feature-layers-workers")?"dedicated":"local",signal:t,registryTarget:this});const{fields:r,spatialReference:n,objectIdField:i,hasM:o,hasZ:s,timeInfo:a,dateFieldsTimeZone:l}=this.layer,c=this.layer.originOf("spatialReference")==="defaults";await this._prepareClientMapping(this.items,t);const p=this._prepareAddFeatures(this.items);this.addHandles(this.on("before-changes",g=>{ce.getLogger(this).error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),g.preventDefault()}));const h={features:p.features,fields:r?.map(g=>g.toJSON()),geometryType:HD.toJSON(this._workerGeometryType),hasM:this._layerOrSourceGeometryType!=="mesh"&&o,hasZ:this._layerOrSourceGeometryType==="mesh"||s,objectIdField:i,spatialReference:c?null:n&&n.toJSON(),timeInfo:a?.toJSON()??null,dateFieldsTimeZone:l},y=await this._connection.invoke("load",h,{signal:t});for(const g of y.warnings)ce.getLogger(this.layer).warn("#load()",`${g.message} (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{warning:g});y.featureErrors.length&&ce.getLogger(this.layer).warn("#load()",`Encountered ${y.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{errors:y.featureErrors});const m=y.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(p.inferredGeometryType)&&(m.geometryType=HD.toJSON(p.inferredGeometryType)),this.sourceJSON=m,this._requiresClientGraphicMapping()&&(this._idToClientGeometry=new Map),p.finish(y.assignedObjectIds)}};u([MW({Type:wr,ensureType:mr(wr)})],Za.prototype,"itemType",void 0),u([d()],Za.prototype,"type",void 0),u([d({constructOnly:!0})],Za.prototype,"layer",void 0),u([d({readOnly:!0})],Za.prototype,"_workerGeometryType",null),u([d()],Za.prototype,"sourceJSON",void 0),Za=u([I("esri.layers.graphics.sources.MemorySource")],Za);function dwe(e){return"portalItem"in e}const pwe=e=>{let t=class extends e{get apiKey(){return this._isOverridden("apiKey")?this._get("apiKey"):dwe(this)?this.portalItem?.apiKey:null}set apiKey(r){r!=null?this._override("apiKey",r):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return u([d({type:String})],t.prototype,"apiKey",null),t=u([I("esri.layers.mixins.APIKeyMixin")],t),t},fwe=e=>{let t=class extends e{get title(){if(this._get("title")&&this.originOf("title")!=="defaults")return this._get("title");if(this.url){const r=jl(this.url);if(r?.title)return r.title}return this._get("title")||""}set title(r){this._set("title",r)}set url(r){this._set("url",vle(r,ce.getLogger(this)))}};return u([d()],t.prototype,"title",null),u([d({type:String})],t.prototype,"url",null),t=u([I("esri.layers.mixins.ArcGISService")],t),t};let zF=class extends SyntaxError{constructor(t,r,n,i){super(t),this.expected=r,this.found=n,this.location=i,this.name="SyntaxError"}format(t){let r="Error: "+this.message;if(this.location){let n=null;const i=t.find(l=>l.source===this.location.source);i&&(n=i.text.split(/\r\n|\n|\r/g));const o=this.location.start,s=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(o):o,a=this.location.source+":"+s.line+":"+s.column;if(n){const l=this.location.end,c="".padEnd(s.line.toString().length," "),p=n[o.line-1],h=(o.line===l.line?l.column:p.length+1)-o.column||1;r+=`
 --> `+a+`
`+c+` |
`+s.line+" | "+p+`
`+c+" | "+"".padEnd(o.column-1," ")+"".padEnd(h,"^")}else r+=`
 at `+a}return r}static buildMessage(t,r){function n(y){return y.codePointAt(0).toString(16).toUpperCase()}const i=Object.prototype.hasOwnProperty.call(RegExp.prototype,"unicode")?new RegExp("[\\p{C}\\p{Mn}\\p{Mc}]","gu"):null;function o(y){return i?y.replace(i,m=>"\\u{"+n(m)+"}"):y}function s(y){return o(y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,m=>"\\x0"+n(m)).replace(/[\x10-\x1F\x7F-\x9F]/g,m=>"\\x"+n(m)))}function a(y){return o(y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,m=>"\\x0"+n(m)).replace(/[\x10-\x1F\x7F-\x9F]/g,m=>"\\x"+n(m)))}const l={literal:y=>'"'+s(y.text)+'"',class(y){const m=y.parts.map(g=>Array.isArray(g)?a(g[0])+"-"+a(g[1]):a(g));return"["+(y.inverted?"^":"")+m.join("")+"]"+(y.unicode?"u":"")},any:()=>"any character",end:()=>"end of input",other:y=>y.description};function c(y){return l[y.type](y)}function p(y){const m=y.map(c);if(m.sort(),m.length>0){let g=1;for(let b=1;b<m.length;b++)m[b-1]!==m[b]&&(m[g]=m[b],g++);m.length=g}switch(m.length){case 1:return m[0];case 2:return m[0]+" or "+m[1];default:return m.slice(0,-1).join(", ")+", or "+m[m.length-1]}}function h(y){return y?'"'+s(y)+'"':"end of input"}return"Expected "+p(t)+" but "+h(r)+" found."}};function hwe(e,t){const r={},n=(t=t!==void 0?t:{}).grammarSource,i={start:v4};let o=v4;const s="none",a=")",l=",",c="(",p="%",h="px",y="cm",m="mm",g="in",b="pt",w="pc",x="deg",_="rad",S="grad",O="turn",$="#",T=".",j="e",A=/^[ \t\n\r]/,N=/^[a-z\-]/,k=/^[0-9a-fA-F]/,C=/^[+\-]/,F=/^[0-9]/,G=Ul("none"),B=Br("none",!1),W=Br(")",!1),K=Br(",",!1),ee=Xy([" ","	",`
`,"\r"],!1,!1,!1),V=Ul("function"),Q=Br("(",!1),oe=Ul("identifier"),fe=Xy([["a","z"],"-"],!1,!1,!1),ae=Ul("percentage"),Oe=Br("%",!1),Je=Ul("length"),_t=Br("px",!1),Bt=Br("cm",!1),ei=Br("mm",!1),dn=Br("in",!1),me=Br("pt",!1),De=Br("pc",!1),Fe=Ul("angle"),ne=Br("deg",!1),Dt=Br("rad",!1),Ze=Br("grad",!1),ir=Br("turn",!1),or=Ul("number"),pn=Ul("color"),Ps=Br("#",!1),xa=Xy([["0","9"],["a","f"],["A","F"]],!1,!1,!1),$c=Xy(["+","-"],!1,!1,!1),fn=Xy([["0","9"]],!1,!1,!1),Sa=Br(".",!1),Yy=Br("e",!1);function B1(){return[]}function V1(P,H){return{type:"function",name:P,parameters:H||[]}}function Ore(P,H){return H.length>0?one(P,H,3):[P]}function Ere(P){return{type:"quantity",value:P.value,unit:P.unit}}function jre(P){return{type:"color",colorType:P.type,value:P.value}}function QWe(P){return P}function Ire(){return G1()}function Are(P){return{value:P,unit:"%"}}function Pre(P){return{value:P,unit:"px"}}function Nre(P){return{value:P,unit:"cm"}}function Mre(P){return{value:P,unit:"mm"}}function Cre(P){return{value:P,unit:"in"}}function kre(P){return{value:P,unit:"pt"}}function Rre(P){return{value:P,unit:"pc"}}function Lre(P){return{value:P,unit:"deg"}}function Dre(P){return{value:P,unit:"rad"}}function Fre(P){return{value:P,unit:"grad"}}function Ure(P){return{value:P,unit:"turn"}}function zre(P){return{value:P,unit:null}}function Bre(){return{type:"hex",value:G1()}}function Vre(P){return{type:"function",value:P}}function qre(){return{type:"named",value:G1()}}function Gre(){return parseFloat(G1())}let J=0|t.peg$currPos,Ft=J;const Tp=[{line:1,column:1}];let Qy,Mo=J,q1=t.peg$maxFailExpected||[],_e=0|t.peg$silentFails;if(t.startRule){if(!(t.startRule in i))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');o=i[t.startRule]}function G1(){return e.substring(Ft,J)}function Wre(P=J){const H=e.codePointAt(P);return H===void 0?"":String.fromCodePoint(H)}function Br(P,H){return{type:"literal",text:P,ignoreCase:H}}function Xy(P,H,ie,Ee){return{type:"class",parts:P,inverted:H,ignoreCase:ie,unicode:Ee}}function Hre(){return{type:"end"}}function Ul(P){return{type:"other",description:P}}function m4(P){let H,ie=Tp[P];if(ie)return ie;if(P>=Tp.length)H=Tp.length-1;else for(H=P;!Tp[--H];);for(ie=Tp[H],ie={line:ie.line,column:ie.column};H<P;)e.charCodeAt(H)===10?(ie.line++,ie.column=1):ie.column++,H++;return Tp[P]=ie,ie}function g4(P,H,ie){const Ee=m4(P),it=m4(H);return{source:n,start:{offset:P,line:Ee.line,column:Ee.column},end:{offset:H,line:it.line,column:it.column}}}function Le(P){J<Mo||(J>Mo&&(Mo=J,q1=[]),q1.push(P))}function Jre(P,H,ie){return new zF(zF.buildMessage(P,H),P,H,ie)}function v4(){let P;return P=Zre(),P===r&&(P=Kre()),P}function Zre(){let P,H;return _e++,P=J,Vr(),e.substr(J,4)===s?(H=s,J+=4):(H=r,_e===0&&Le(B)),H!==r?(Vr(),Ft=P,P=B1()):(J=P,P=r),_e--,P===r&&_e===0&&Le(G),P}function Kre(){let P,H;if(P=[],H=pT(),H!==r)for(;H!==r;)P.push(H),H=pT();else P=r;return P}function pT(){let P,H,ie,Ee;return P=J,Vr(),H=Qre(),H!==r?(Vr(),ie=Yre(),ie===r&&(ie=null),Vr(),e.charCodeAt(J)===41?(Ee=a,J++):(Ee=r,_e===0&&Le(W)),Ee!==r?(Vr(),Ft=P,P=V1(H,ie)):(J=P,P=r)):(J=P,P=r),P}function Yre(){let P,H,ie,Ee,it,Jt,Er,hn;if(P=J,H=fT(),H!==r){for(ie=[],Ee=J,it=Vr(),e.charCodeAt(J)===44?(Jt=l,J++):(Jt=r,_e===0&&Le(K)),Jt===r&&(Jt=null),Er=Vr(),hn=fT(),hn!==r?(it=[it,Jt,Er,hn],Ee=it):(J=Ee,Ee=r);Ee!==r;)ie.push(Ee),Ee=J,it=Vr(),e.charCodeAt(J)===44?(Jt=l,J++):(Jt=r,_e===0&&Le(K)),Jt===r&&(Jt=null),Er=Vr(),hn=fT(),hn!==r?(it=[it,Jt,Er,hn],Ee=it):(J=Ee,Ee=r);Ft=P,P=Ore(H,ie)}else J=P,P=r;return P}function fT(){let P,H;return P=J,H=Xre(),H===r&&(H=ene(),H===r&&(H=tne(),H===r&&(H=rne()))),H!==r&&(Ft=P,H=Ere(H)),P=H,P===r&&(P=J,H=nne(),H!==r&&(Ft=P,H=jre(H)),P=H),P}function Vr(){let P,H;for(_e++,P=[],H=e.charAt(J),A.test(H)?J++:(H=r,_e===0&&Le(ee));H!==r;)P.push(H),H=e.charAt(J),A.test(H)?J++:(H=r,_e===0&&Le(ee));return _e--,P}function Qre(){let P,H,ie;return _e++,P=J,H=b4(),H!==r?(e.charCodeAt(J)===40?(ie=c,J++):(ie=r,_e===0&&Le(Q)),ie!==r?(Ft=P,P=H):(J=P,P=r)):(J=P,P=r),_e--,P===r&&(H=r,_e===0&&Le(V)),P}function b4(){let P,H,ie;if(_e++,P=J,H=[],ie=e.charAt(J),N.test(ie)?J++:(ie=r,_e===0&&Le(fe)),ie!==r)for(;ie!==r;)H.push(ie),ie=e.charAt(J),N.test(ie)?J++:(ie=r,_e===0&&Le(fe));else H=r;return H!==r&&(Ft=P,H=Ire()),P=H,_e--,P===r&&(H=r,_e===0&&Le(oe)),P}function Xre(){let P,H,ie;return _e++,P=J,Vr(),H=Zi(),H!==r?(e.charCodeAt(J)===37?(ie=p,J++):(ie=r,_e===0&&Le(Oe)),ie!==r?(Ft=P,P=Are(H)):(J=P,P=r)):(J=P,P=r),_e--,P===r&&_e===0&&Le(ae),P}function ene(){let P,H,ie;return _e++,P=J,Vr(),H=Zi(),H!==r?(e.substr(J,2)===h?(ie=h,J+=2):(ie=r,_e===0&&Le(_t)),ie!==r?(Ft=P,P=Pre(H)):(J=P,P=r)):(J=P,P=r),P===r&&(P=J,Vr(),H=Zi(),H!==r?(e.substr(J,2)===y?(ie=y,J+=2):(ie=r,_e===0&&Le(Bt)),ie!==r?(Ft=P,P=Nre(H)):(J=P,P=r)):(J=P,P=r),P===r&&(P=J,Vr(),H=Zi(),H!==r?(e.substr(J,2)===m?(ie=m,J+=2):(ie=r,_e===0&&Le(ei)),ie!==r?(Ft=P,P=Mre(H)):(J=P,P=r)):(J=P,P=r),P===r&&(P=J,Vr(),H=Zi(),H!==r?(e.substr(J,2)===g?(ie=g,J+=2):(ie=r,_e===0&&Le(dn)),ie!==r?(Ft=P,P=Cre(H)):(J=P,P=r)):(J=P,P=r),P===r&&(P=J,Vr(),H=Zi(),H!==r?(e.substr(J,2)===b?(ie=b,J+=2):(ie=r,_e===0&&Le(me)),ie!==r?(Ft=P,P=kre(H)):(J=P,P=r)):(J=P,P=r),P===r&&(P=J,Vr(),H=Zi(),H!==r?(e.substr(J,2)===w?(ie=w,J+=2):(ie=r,_e===0&&Le(De)),ie!==r?(Ft=P,P=Rre(H)):(J=P,P=r)):(J=P,P=r)))))),_e--,P===r&&_e===0&&Le(Je),P}function tne(){let P,H,ie;return _e++,P=J,H=Zi(),H!==r?(e.substr(J,3)===x?(ie=x,J+=3):(ie=r,_e===0&&Le(ne)),ie!==r?(Ft=P,P=Lre(H)):(J=P,P=r)):(J=P,P=r),P===r&&(P=J,H=Zi(),H!==r?(e.substr(J,3)===_?(ie=_,J+=3):(ie=r,_e===0&&Le(Dt)),ie!==r?(Ft=P,P=Dre(H)):(J=P,P=r)):(J=P,P=r),P===r&&(P=J,H=Zi(),H!==r?(e.substr(J,4)===S?(ie=S,J+=4):(ie=r,_e===0&&Le(Ze)),ie!==r?(Ft=P,P=Fre(H)):(J=P,P=r)):(J=P,P=r),P===r&&(P=J,H=Zi(),H!==r?(e.substr(J,4)===O?(ie=O,J+=4):(ie=r,_e===0&&Le(ir)),ie!==r?(Ft=P,P=Ure(H)):(J=P,P=r)):(J=P,P=r)))),_e--,P===r&&(H=r,_e===0&&Le(Fe)),P}function rne(){let P,H;return _e++,P=J,Vr(),H=Zi(),H!==r?(Ft=P,P=zre(H)):(J=P,P=r),_e--,P===r&&_e===0&&Le(or),P}function nne(){let P,H,ie,Ee;if(_e++,P=J,e.charCodeAt(J)===35?(H=$,J++):(H=r,_e===0&&Le(Ps)),H!==r){if(ie=[],Ee=e.charAt(J),k.test(Ee)?J++:(Ee=r,_e===0&&Le(xa)),Ee!==r)for(;Ee!==r;)ie.push(Ee),Ee=e.charAt(J),k.test(Ee)?J++:(Ee=r,_e===0&&Le(xa));else ie=r;ie!==r?(Ft=P,P=Bre()):(J=P,P=r)}else J=P,P=r;return P===r&&(P=J,H=pT(),H!==r&&(Ft=P,H=Vre(H)),P=H,P===r&&(P=J,H=b4(),H!==r&&(Ft=P,H=qre()),P=H)),_e--,P===r&&(H=r,_e===0&&Le(pn)),P}function Zi(){let P,H,ie,Ee,it,Jt,Er,hn;for(P=J,H=e.charAt(J),C.test(H)?J++:(H=r,_e===0&&Le($c)),H===r&&(H=null),ie=J,Ee=[],it=e.charAt(J),F.test(it)?J++:(it=r,_e===0&&Le(fn));it!==r;)Ee.push(it),it=e.charAt(J),F.test(it)?J++:(it=r,_e===0&&Le(fn));if(e.charCodeAt(J)===46?(it=T,J++):(it=r,_e===0&&Le(Sa)),it!==r){if(Jt=[],Er=e.charAt(J),F.test(Er)?J++:(Er=r,_e===0&&Le(fn)),Er!==r)for(;Er!==r;)Jt.push(Er),Er=e.charAt(J),F.test(Er)?J++:(Er=r,_e===0&&Le(fn));else Jt=r;Jt!==r?(Ee=[Ee,it,Jt],ie=Ee):(J=ie,ie=r)}else J=ie,ie=r;if(ie===r)if(ie=[],Ee=e.charAt(J),F.test(Ee)?J++:(Ee=r,_e===0&&Le(fn)),Ee!==r)for(;Ee!==r;)ie.push(Ee),Ee=e.charAt(J),F.test(Ee)?J++:(Ee=r,_e===0&&Le(fn));else ie=r;if(ie!==r){if(Ee=J,e.charCodeAt(J)===101?(it=j,J++):(it=r,_e===0&&Le(Yy)),it!==r){if(Jt=e.charAt(J),C.test(Jt)?J++:(Jt=r,_e===0&&Le($c)),Jt===r&&(Jt=null),Er=[],hn=e.charAt(J),F.test(hn)?J++:(hn=r,_e===0&&Le(fn)),hn!==r)for(;hn!==r;)Er.push(hn),hn=e.charAt(J),F.test(hn)?J++:(hn=r,_e===0&&Le(fn));else Er=r;Er!==r?(it=[it,Jt,Er],Ee=it):(J=Ee,Ee=r)}else J=Ee,Ee=r;Ee===r&&(Ee=null),Ft=P,P=Gre()}else J=P,P=r;return P}function ine(P,H){return P.map(function(ie){return ie[H]})}function one(P,H,ie){return[P].concat(ine(H,ie))}Qy=o();const hT=Qy!==r&&J===e.length;function w4(){throw Qy!==r&&J<e.length&&Le(Hre()),Jre(q1,Mo<e.length?Wre(Mo):null,Mo<e.length?g4(Mo,Mo+1):g4(Mo,Mo))}return t.peg$library?{peg$result:Qy,peg$currPos:J,peg$FAILED:r,peg$maxFailExpected:q1,peg$maxFailPos:Mo,peg$success:hT,peg$throw:hT?void 0:w4}:hT?Qy:void w4()}function hY(e){if(!e||e.length===0)return null;if(typeof e=="string"){const r=BF(e);return r&&r.length!==0?r:null}const t=e.map(r=>{if(!Number.isFinite(r.scale)||r.scale<=0)throw new Z("effect:invalid-scale","scale must be finite and greater than 0",{stop:r});return{scale:r.scale,effects:BF(r.value)}});t.sort((r,n)=>n.effects.length-r.effects.length);for(let r=0;r<t.length-1;r++){if(!W0e(t[r].effects,t[r+1].effects))throw new Z("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[r].effects,b:t[r+1].effects});H0e(t[r].effects,t[r+1].effects)}return t.sort((r,n)=>n.scale-r.scale),t}function BF(e){let t;if(!e)return[];try{t=hwe(e)}catch(r){throw new Z("effect:invalid-syntax","Invalid effect syntax",{value:e,error:r})}return t.map(r=>ywe(r))}function ywe(e){try{switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return mwe(e);case"opacity":return gwe(e);case"hue-rotate":return vwe(e);case"blur":return bwe(e);case"drop-shadow":return wwe(e);case"bloom":return xwe(e)}}catch(t){throw t.details.filter=e,t}throw new Z("effect:unknown-effect",`Effect '${e.name}' is not supported`,{effect:e})}function mwe(e){let t=1;return ky(e.parameters,1),e.parameters.length===1&&(t=ts(e.parameters[0])),new CI(e.name,t)}function gwe(e){let t=1;return ky(e.parameters,1),e.parameters.length===1&&(t=ts(e.parameters[0])),new WZ(t)}function vwe(e){let t=0;return ky(e.parameters,1),e.parameters.length===1&&(t=Ewe(e.parameters[0])),new qZ(t)}function bwe(e){let t=0;return ky(e.parameters,1),e.parameters.length===1&&(t=qk(e.parameters[0]),P1(t,e.parameters[0])),new FZ(t)}function wwe(e){const t=[];let r=null;for(const n of e.parameters)if(n.type==="color"){if(t.length&&Object.freeze(t),r)throw new Z("effect:type-error","Accepts only one color",{});r=jwe(n)}else{const i=qk(n);if(Object.isFrozen(t))throw new Z("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(i),t.length===3&&P1(i,n)}if(t.length<2||t.length>3)throw new Z("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t});return new BZ(t[0],t[1],t[2]||0,r||yY("black"))}function xwe(e){let t=1,r=0,n=0;return ky(e.parameters,3),e.parameters[0]&&(t=ts(e.parameters[0])),e.parameters[1]&&(r=qk(e.parameters[1]),P1(r,e.parameters[1])),e.parameters[2]&&(n=ts(e.parameters[2])),new LZ(t,r,n)}function ky(e,t){if(e.length>t)throw new Z("effect:type-error",`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function d$(e){if(e.type==="color")return"<color>";if(e.unit){if(e.unit in Vk)return"<length>";if(e.unit in Bk)return"<angle>";if(e.unit==="%")return"<percentage>"}return"<double>"}function P1(e,t){if(e<0)throw new Z("effect:type-error",`Negative values are not allowed, Actual: ${e}`,{term:t})}function Swe(e){if(e.type!=="quantity"||e.unit!==null)throw new Z("effect:type-error",`Expected <double>, Actual: ${d$(e)}`,{term:e})}function _we(e){if(e.type!=="quantity"||e.unit!==null&&e.unit!=="%")throw new Z("effect:type-error",`Expected <double> or <percentage>, Actual: ${d$(e)}`,{term:e})}const Bk={deg:1,grad:.9,rad:180/Math.PI,turn:360};function $we(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&Bk[e.unit]!=null))throw new Z("effect:type-error",`Expected <angle>, Actual: ${d$(e)}`,{term:e})}const Vk={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function Twe(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&Vk[e.unit]!=null))throw new Z("effect:type-error",`Expected <length>, Actual: ${d$(e)}`,{term:e})}function ts(e){_we(e);const t=e.value;return P1(t,e),e.unit==="%"?.01*t:t}function Owe(e){return Swe(e),P1(e.value,e),e.value}function Ewe(e){return $we(e),e.value*Bk[e.unit]||0}function qk(e){return Twe(e),e.value*Vk[e.unit]||0}function jwe(e){switch(e.colorType){case"hex":return Vhe(e.value);case"named":return yY(e.value);case"function":return Pwe(e.value)}}function yY(e){if(!NJ(e))throw new Z("effect:unknown-color",`color '${e}' isn't valid`,{namedColor:e});return Bhe(e)}const Iwe=/^rgba?/i,Awe=/^hsla?/i;function Pwe(e){if(ky(e.parameters,4),Iwe.test(e.name))return[ts(e.parameters[0]),ts(e.parameters[1]),ts(e.parameters[2]),e.parameters[3]?ts(e.parameters[3]):1];if(Awe.test(e.name))return MJ(Owe(e.parameters[0]),ts(e.parameters[1]),ts(e.parameters[2]),e.parameters[3]?ts(e.parameters[3]):1);throw new Z("effect:syntax-error",`Invalid color function '${e.name}'`,{colorFunction:e})}function Yg(e,t,r){try{return Mwe(e)}catch(n){r?.messages?.push(n)}return null}function Qg(e,t,r,n){try{const i=Nwe(e);nr(r,i,t)}catch(i){n.messages&&n.messages.push(i)}}function Nwe(e){const t=hY(e);return t?J0e(t)?t.map(r=>r.toJSON()):t.map(({scale:r,effects:n})=>({scale:r,value:n.map(i=>i.toJSON())})):null}function Mwe(e){if(!e||e.length===0)return null;if(Cwe(e)){const t=[];for(const r of e)t.push({scale:r.scale,value:VF(r.value)});return t}return VF(e)}function Cwe(e){const t=e[0];return!!t&&"scale"in t}function VF(e){if(!e?.length)return"";const t=[];for(const r of e){let n=[];switch(r.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":n=[$a(r,"amount")];break;case"blur":n=[$a(r,"radius","pt")];break;case"hue-rotate":n=[$a(r,"angle","deg")];break;case"drop-shadow":n=[$a(r,"xoffset","pt"),$a(r,"yoffset","pt"),$a(r,"blurRadius","pt"),kwe(r,"color")];break;case"bloom":n=[$a(r,"strength"),$a(r,"radius","pt"),$a(r,"threshold")]}const i=`${r.type}(${n.filter(Boolean).join(" ")})`;hY(i),t.push(i)}return t.join(" ")}function $a(e,t,r){if(e[t]==null)throw new Z("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});return r?e[t]+r:""+e[t]}function kwe(e,t){if(e[t]==null)throw new Z("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});const r=e[t];return`rgba(${r[0]||0}, ${r[1]||0}, ${r[2]||0}, ${r[3]/255||0})`}const Rwe={type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:{layerContainerTypes:bt}},"portal-item":{read:!0,write:{layerContainerTypes:bt}}}}},qF={read:{reader:Yg},write:{allowNull:!0,writer:Qg,layerContainerTypes:bt}},Lwe={json:{read:!1,write:!1,origins:{"web-map":qF,"portal-item":qF}}},Dwe=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return u([d(Rwe)],t.prototype,"blendMode",void 0),u([d(Lwe)],t.prototype,"effect",void 0),t=u([I("esri.layers.mixins.BlendLayer")],t),t},Fwe=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return u([d({type:Object,json:{write:{overridePolicy:r=>({enabled:!!(r&&Object.keys(r).length>0)})}}})],t.prototype,"customParameters",void 0),t=u([I("esri.layers.mixins.CustomParametersMixin")],t),t},Uwe=96;function VYe(e,t){const r=t||e.extent,n=e.width,i=yc(r?.spatialReference);return r&&n?r.width/n*i*tde*Uwe:0}function qYe(e,t,r){return zwe(e,t)&&Bwe(e,r)}function zwe(e,t){return t===0||xs(e,t)||e<t}function Bwe(e,t){return t===0||xs(e,t)||e>t}function Vwe(e,t){return xs(e,t)?0:(e||Number.POSITIVE_INFINITY)>(t||Number.POSITIVE_INFINITY)?1:-1}const GF={write:{overridePolicy:(e,t,r)=>({enabled:!r||r.filterMode==="scale"})}};let Ka=class extends Se.ClonableMixin(z){constructor(t){super(t),this.id=T1(),this.maxScale=0,this.minScale=0,this.title="",this.where=null}};u([d({type:String,json:{write:!0}})],Ka.prototype,"id",void 0),u([d({type:Number,json:GF})],Ka.prototype,"maxScale",void 0),u([d({type:Number,json:GF})],Ka.prototype,"minScale",void 0),u([d({type:String,json:{write:!0}})],Ka.prototype,"title",void 0),u([d({type:String,json:{write:!0}})],Ka.prototype,"where",void 0),Ka=u([I("esri.layers.support.DisplayFilter")],Ka);function qwe(e,t){return{...t,filterMode:e.mode}}function WYe(e,t,r){const n=Gwe(e);if(n&&(FJ(t,n[0])||xI(r,n[1])))return"";const i=Array.from(Wwe(e,t,r)),o=Hwe(i,t,r)?"1=1":i.map(s=>s.where||"1=1").reduce((s,a)=>rA(s,a),"");return o&&o!=="1=1"?o:""}function Gwe(e){if(mY(e)==="manual")return null;const t=[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY];for(const{minScale:r,maxScale:n}of e.filters)t[0]=Math.max(t[0],Xg(r)),t[1]=Math.min(t[1],YS(n));return t}function*Wwe(e,t,r){if(mY(e)==="manual"){const n=e.filters.find(i=>i.id===e.activeFilterId);n&&(yield n)}else{typeof t=="object"&&(t=t.scale);for(const n of e.filters)Jwe(n.minScale,n.maxScale,t,r)&&(yield n)}}function Hwe(e,t,r){if(e.length===0)return!0;const n=Xg(e.at(0)?.minScale),i=YS(e.at(-1)?.maxScale);if(xI(n,t)||FJ(i,r))return!0;for(let o=0;o<e.length-1;o++){const s=e[o],a=e[o+1];if(xI(Xg(a.minScale),YS(s.maxScale)))return!0}return!1}function Jwe(e,t,r,n){return e=Xg(e),r=Xg(r),t=YS(t),!(!xs(r,e)&&(n??r)>e)&&!Jhe(t,r)&&(n===void 0||!xs(n,e))}function mY(e){return"mode"in e?e.mode:e.filterMode}function Xg(e){return e||Number.POSITIVE_INFINITY}function YS(e){return e||0}let Zc=class extends Se.ClonableMixin(z){constructor(t){super(t),this.activeFilterId=null,this.filters=new(Te.ofType(Ka)),this.mode="manual"}writeFilters(t,r,n,i){const o=t.toArray();this.mode==="scale"&&o.sort((s,a)=>{const l=Vwe(a.minScale,s.minScale),c=s.maxScale-a.maxScale;return l===0?c:l}),r[n]=o.map(s=>s.toJSON(i))}write(t,r){return super.write(t,qwe(this,r))}};u([d({type:String,json:{write:{overridePolicy:(e,t,r)=>({enabled:r.filterMode==="manual",isRequired:!0})}}})],Zc.prototype,"activeFilterId",void 0),u([d({type:Te.ofType(Ka),nonNullable:!0,json:{write:!0}})],Zc.prototype,"filters",void 0),u([re("filters")],Zc.prototype,"writeFilters",null),u([d({type:["manual","scale"],nonNullable:!0,json:{name:"filterMode",write:!0}})],Zc.prototype,"mode",void 0),Zc=u([I("esri.layers.support.DisplayFilterInfo")],Zc);const Zwe=e=>{let t=class extends e{constructor(){super(...arguments),this.displayFilterEnabled=!0,this.displayFilterInfo=null}};return u([d(Kwe)],t.prototype,"displayFilterEnabled",void 0),u([d(Ywe)],t.prototype,"displayFilterInfo",void 0),t=u([I("esri.layers.mixins.DisplayFilteredLayer")],t),t},Kwe={type:Boolean,json:{name:"layerDefinition.disableDisplayFilter",read:{reader:e=>!e},write:{layerContainerTypes:bt,writer(e,t,r){nr(r,!e,t)}},origins:{"web-scene":{write:!1,read:!1}}}},Ywe={type:Zc,json:{name:"layerDefinition.displayFilterInfo",write:{enabled:!0,allowNull:!0,layerContainerTypes:bt},origins:{"web-scene":{write:!1,read:!1}}}},MP=eye(),gY=new Map,vY=new Map;async function JYe(e,t,r){if(!e||!r)return!1;if(!t)return!0;const n=new URL(e).host;let i=gY.get(n);if(!i){const o=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");i=(await tt(o,{responseType:"json",query:{f:"json"}})).data.defaultVersionName}return i===t}async function WF(e,t,r=!1){if(!e||!t)return!0;const n=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),i=vY.get(n)?.entries();if(i){for(const[o,s]of i)if(s.name===t){const a=!s.stack?.hasForwardEdits();if(!a&&r){const[{deleteForwardEdits:l},{default:c}]=await Promise.all([ue(()=>import("./deleteForwardEdits-97b14021.js"),[]),ue(()=>import("./DeleteForwardEditsParameters-35892cf0.js"),[])]),p=await l(n,o,new c({sessionId:MP,moment:s.moment}));return p.success&&s.stack?.clearForwardEdits(),p.success}return a}}return!0}function xx(e,t){if(!e)return!1;const r=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),n=vY.get(r)?.entries();if(n){for(const[i,o]of n)if(o.name===t)return o.lockType==="edit"}return!1}const Gk=new F_.EventEmitter;function bY(e){return Gk.on("apply-edits",new WeakRef(e))}function wY(e){return Gk.on("update-moment",new WeakRef(e))}function HF(e,t,r=null,n=!1){const i=tc();return n=t==null||n,Gk.emit("apply-edits",{serviceUrl:e,layerId:t,gdbVersion:r,mayReceiveServiceEdits:n,result:i.promise}),i}const xY=Symbol();function ZYe(e){return e!=null&&typeof e=="object"&&xY in e}function wm(e){return e!=null&&typeof e=="object"&&"gdbVersion"in e}function ng(e,t,r){const n=new URL(e).host,i=gY.get(n),o=s=>!s||s===i;return o(t)&&o(r)||t===r}const Qwe=e=>{var n;var t;let r=(n=class extends e{constructor(...i){super(...i),this[t]=!0,this._applyEditsHandler=o=>{const{serviceUrl:s,layerId:a,gdbVersion:l,mayReceiveServiceEdits:c,result:p}=o,h=s===this.url,y=a!=null&&this.layerId!=null&&a===this.layerId,m=wm(this),g=wm(this)&&ng(s,l,this.gdbVersion);if(!h||m&&!g||!y&&!c)return;const b=p.then(w=>{if(this.lastEditsEventDate=new Date,y&&(w.addedFeatures.length||w.updatedFeatures.length||w.deletedFeatures.length||w.addedAttachments.length||w.updatedAttachments.length||w.deletedAttachments.length))return this.emit("edits",D(w)),w;const x=w.editedFeatures?.find(({layerId:S})=>S===this.layerId);if(x){const{adds:S,updates:O,deletes:$}=x.editedFeatures,T={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:S?S.map(({attributes:j})=>({objectId:this.objectIdField&&j[this.objectIdField],globalId:this.globalIdField&&j[this.globalIdField]})):[],deletedFeatures:$?$.map(({attributes:j})=>({objectId:this.objectIdField&&j[this.objectIdField],globalId:this.globalIdField&&j[this.globalIdField]})):[],updatedFeatures:O?O.map(({current:{attributes:j}})=>({objectId:this.objectIdField&&j[this.objectIdField],globalId:this.globalIdField&&j[this.globalIdField]})):[],editedFeatures:D(w.editedFeatures),exceededTransferLimit:!1,historicMoment:D(w.historicMoment)};return this.emit("edits",T),T}const _={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:D(w.editedFeatures),exceededTransferLimit:!1,historicMoment:D(w.historicMoment)};return"historicMoment"in this&&this._shouldUpdateHistoricMoment(s,l,_.historicMoment)&&this.emit("edits",_),_}).then(w=>("historicMoment"in this&&this._shouldUpdateHistoricMoment(s,l,w.historicMoment)&&(this.historicMoment=w.historicMoment),w));this.emit("apply-edits",{result:b})},this._updateMomentHandler=o=>{const{serviceUrl:s,gdbVersion:a,moment:l}=o,c=s===this.url,p=wm(this),h=wm(this)&&ng(s,a,this.gdbVersion),y=wm(this)&&!ng(s,this.gdbVersion,null);c&&p&&h&&y&&"historicMoment"in this&&this.historicMoment!==l&&(this.historicMoment=l)},this.when().then(()=>{this.addHandles(bY(this._applyEditsHandler)),"historicMoment"in this&&this.addHandles(wY(this._updateMomentHandler))},()=>{})}_shouldUpdateHistoricMoment(i,o,s){return"historicMoment"in this&&this.historicMoment!==s&&xx(i,o)}},t=xY,n);return u([d()],r.prototype,"lastEditsEventDate",void 0),r=u([I("esri.layers.mixins.EditBusLayer")],r),r};var CP;let lf=CP=class extends z{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new CP({mapLayerId:e,gdbVersion:t})}};u([ye({mapLayer:"map-layer"}),d({json:{write:{isRequired:!0}}})],lf.prototype,"type",void 0),u([d({type:ze,json:{write:{isRequired:!0}}})],lf.prototype,"mapLayerId",void 0),u([d({type:String,json:{write:!0}})],lf.prototype,"gdbVersion",void 0),lf=CP=u([I("esri.layers.support.source.MapLayerSource")],lf);var kP;let Ra=kP=class extends z{constructor(e){super(e),this.type="query-table"}clone(){const{workspaceId:e,query:t,oidFields:r,spatialReference:n,geometryType:i}=this,o={workspaceId:e,query:t,oidFields:r,spatialReference:n?.clone()??void 0,geometryType:i};return new kP(o)}};u([ye({queryTable:"query-table"}),d({json:{write:{isRequired:!0}}})],Ra.prototype,"type",void 0),u([d({type:String,json:{write:!0}})],Ra.prototype,"workspaceId",void 0),u([d({type:String,json:{write:!0}})],Ra.prototype,"query",void 0),u([d({type:String,json:{write:!0}})],Ra.prototype,"oidFields",void 0),u([d({type:be,json:{write:!0}})],Ra.prototype,"spatialReference",void 0),u([ye(fge)],Ra.prototype,"geometryType",void 0),Ra=kP=u([I("esri.layers.support.source.QueryTableDataSource")],Ra);var RP;let uf=RP=class extends z{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new RP({workspaceId:e,dataSourceName:t})}};u([ye({raster:"raster"}),d({json:{write:{isRequired:!0}}})],uf.prototype,"type",void 0),u([d({type:String,json:{write:!0}})],uf.prototype,"dataSourceName",void 0),u([d({type:String,json:{write:!0}})],uf.prototype,"workspaceId",void 0),uf=RP=u([I("esri.layers.support.source.RasterDataSource")],uf);var LP;let Kc=LP=class extends z{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:r}=this;return new LP({workspaceId:e,gdbVersion:t,dataSourceName:r})}};u([ye({table:"table"}),d({json:{write:{isRequired:!0}}})],Kc.prototype,"type",void 0),u([d({type:String,json:{write:!0}})],Kc.prototype,"workspaceId",void 0),u([d({type:String,json:{write:!0}})],Kc.prototype,"gdbVersion",void 0),u([d({type:String,json:{write:!0}})],Kc.prototype,"dataSourceName",void 0),Kc=LP=u([I("esri.layers.support.source.TableDataSource")],Kc);var DP,FP;const Xwe=Or()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let Ei=DP=class extends z{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,r){return JF()(e,t,r)}castLeftTableSource(e){return ha(UP(),e)}readRightTableSource(e,t,r){return JF()(e,t,r)}castRightTableSource(e){return ha(UP(),e)}clone(){const{leftTableKey:e,rightTableKey:t,leftTableSource:r,rightTableSource:n,joinType:i}=this,o={leftTableKey:e,rightTableKey:t,leftTableSource:r?.clone()??void 0,rightTableSource:n?.clone()??void 0,joinType:i};return new DP(o)}};u([ye({joinTable:"join-table"}),d({json:{write:{isRequired:!0}}})],Ei.prototype,"type",void 0),u([d({type:String,json:{write:!0}})],Ei.prototype,"leftTableKey",void 0),u([d({type:String,json:{write:!0}})],Ei.prototype,"rightTableKey",void 0),u([d({json:{write:!0}})],Ei.prototype,"leftTableSource",void 0),u([X("leftTableSource")],Ei.prototype,"readLeftTableSource",null),u([pt("leftTableSource")],Ei.prototype,"castLeftTableSource",null),u([d({json:{write:!0}})],Ei.prototype,"rightTableSource",void 0),u([X("rightTableSource")],Ei.prototype,"readRightTableSource",null),u([pt("rightTableSource")],Ei.prototype,"castRightTableSource",null),u([ye(Xwe)],Ei.prototype,"joinType",void 0),Ei=DP=u([I("esri.layers.support.source.JoinTableDataSource")],Ei);let NO=null;function JF(){return NO||(NO=Oy({types:UP()})),NO}let MO=null;function UP(){return MO||(MO={key:"type",base:null,typeMap:{"data-layer":rs,"map-layer":lf}}),MO}const exe={key:"type",base:null,typeMap:{"join-table":Ei,"query-table":Ra,raster:uf,table:Kc}};var Qv;let rs=(Qv=class extends z{constructor(t){super(t),this.type="data-layer"}clone(){const{fields:t,dataSource:r}=this;return new FP({fields:t,dataSource:r})}},FP=Qv,Qv);u([ye({dataLayer:"data-layer"}),d({json:{write:{isRequired:!0}}})],rs.prototype,"type",void 0),u([d({type:[Hr],json:{write:!0}})],rs.prototype,"fields",void 0),u([d({types:exe,json:{write:!0}})],rs.prototype,"dataSource",void 0),rs=FP=u([I("esri.layers.support.source.DataLayerSource")],rs),rs.from=mr(rs);let Yc=class extends Se.ClonableMixin(z){constructor(t){super(t),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};u([d({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.onFields!=null&&this.onFields.length>0}}}}})],Yc.prototype,"onFields",void 0),u([d({type:String,json:{write:!0}})],Yc.prototype,"operator",void 0),u([d({type:String,json:{write:!0}})],Yc.prototype,"searchTerm",void 0),u([d({type:String,json:{write:!0}})],Yc.prototype,"searchType",void 0),Yc=u([I("esri.rest.support.FullTextSearch")],Yc);const txe=Yc;var zP;const ZF=new Pe({upperLeft:"upper-left",lowerLeft:"lower-left"});let Qc=zP=class extends z{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new zP(D({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};u([d({type:Ue,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Qc.prototype,"extent",void 0),u([d({type:["view","edit"],json:{write:!0}})],Qc.prototype,"mode",void 0),u([d({type:String,json:{read:ZF.read,write:ZF.write}})],Qc.prototype,"originPosition",void 0),u([d({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Qc.prototype,"tolerance",void 0),Qc=zP=u([I("esri.rest.support.QuantizationParameters")],Qc);const rxe=new Pe({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});var BP;const KF=new Pe({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let Ho=BP=class extends z{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){this.statisticType!=="percentile-continuous"&&this.statisticType!=="percentile-discrete"||(t.statisticParameters=D(e))}clone(){return new BP({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:D(this.statisticParameters)})}};u([d({type:Number,json:{write:!0}})],Ho.prototype,"maxPointCount",void 0),u([d({type:Number,json:{write:!0}})],Ho.prototype,"maxRecordCount",void 0),u([d({type:Number,json:{write:!0}})],Ho.prototype,"maxVertexCount",void 0),u([d({type:String,json:{write:!0}})],Ho.prototype,"onStatisticField",void 0),u([d({type:String,json:{write:!0}})],Ho.prototype,"outStatisticFieldName",void 0),u([d({type:String,json:{read:{source:"statisticType",reader:KF.read},write:{target:"statisticType",writer:KF.write}}})],Ho.prototype,"statisticType",void 0),u([d({type:Object})],Ho.prototype,"statisticParameters",void 0),u([re("statisticParameters")],Ho.prototype,"writeStatisticParameters",null),Ho=BP=u([I("esri.rest.support.StatisticDefinition")],Ho);var Sx;const nxe=new Pe({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});var gy;let xe=(gy=class extends z{static from(t){return L_(Sx,t)}constructor(t){super(t),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.returnTrueCurves=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(t){return typeof t=="number"||typeof t=="object"?t:null}writeHistoricMoment(t,r){r.historicMoment=t&&t.getTime()}writeParameterValues(t,r){if(t){const n={};for(const i in t){const o=t[i];Array.isArray(o)?n[i]=o.map(s=>s instanceof Date?s.getTime():s):o instanceof Date?n[i]=o.getTime():n[i]=o}r.parameterValues=n}}writeStart(t,r){r.resultOffset=this.start,r.resultRecordCount=this.num||10,r.where="1=1"}writeWhere(t,r){r.where=t||"1=1"}clone(){return new Sx(D({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:this.historicMoment!=null?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,returnTrueCurves:this.returnTrueCurves,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}},Sx=gy,gy.MAX_MAX_RECORD_COUNT_FACTOR=5,gy);u([d({json:{write:!0}})],xe.prototype,"aggregateIds",void 0),u([d({type:Boolean,json:{write:!0}})],xe.prototype,"cacheHint",void 0),u([d({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"compactGeometryEnabled",void 0),u([d({json:{write:!0}})],xe.prototype,"datumTransformation",void 0),u([pt("datumTransformation")],xe.prototype,"castDatumTransformation",null),u([d({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"defaultSpatialReferenceEnabled",void 0),u([d({type:Number,json:{write:!0}})],xe.prototype,"distance",void 0),u([d({type:rs,json:{write:!0}})],xe.prototype,"dynamicDataSource",void 0),u([d({type:String,json:{write:!0}})],xe.prototype,"formatOf3DObjects",void 0),u([d({type:[txe],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.fullText!=null&&this.fullText.length>0}}}}})],xe.prototype,"fullText",void 0),u([d({type:String,json:{write:!0}})],xe.prototype,"gdbVersion",void 0),u([d({types:My,json:{read:Il,write:!0}})],xe.prototype,"geometry",void 0),u([d({type:Number,json:{write:!0}})],xe.prototype,"geometryPrecision",void 0),u([d({type:[String],json:{write:!0}})],xe.prototype,"groupByFieldsForStatistics",void 0),u([d({type:String,json:{write:!0}})],xe.prototype,"having",void 0),u([d({type:Date})],xe.prototype,"historicMoment",void 0),u([re("historicMoment")],xe.prototype,"writeHistoricMoment",null),u([d({type:Number,json:{write:!0}})],xe.prototype,"maxAllowableOffset",void 0),u([d({type:Number,cast:e=>e<1?1:e>xe.MAX_MAX_RECORD_COUNT_FACTOR?xe.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],xe.prototype,"maxRecordCountFactor",void 0),u([d({type:["xyFootprint"],json:{write:!0}})],xe.prototype,"multipatchOption",void 0),u([d({type:Number,json:{read:{source:"resultRecordCount"}}})],xe.prototype,"num",void 0),u([d({json:{write:!0}})],xe.prototype,"objectIds",void 0),u([d({type:[String],json:{write:!0}})],xe.prototype,"orderByFields",void 0),u([d({type:[String],json:{write:!0}})],xe.prototype,"outFields",void 0),u([d({type:be,json:{name:"outSR",write:!0}})],xe.prototype,"outSpatialReference",void 0),u([d({type:[Ho],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.outStatistics!=null&&this.outStatistics.length>0}}}}})],xe.prototype,"outStatistics",void 0),u([d({json:{write:!0}})],xe.prototype,"parameterValues",void 0),u([re("parameterValues")],xe.prototype,"writeParameterValues",null),u([d({type:Ve,json:{write:!0}})],xe.prototype,"pixelSize",void 0),u([d({type:Qc,json:{write:!0}})],xe.prototype,"quantizationParameters",void 0),u([d({type:[Object],json:{write:!0}})],xe.prototype,"rangeValues",void 0),u([d({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:this.spatialRelationship==="relation"}}}}})],xe.prototype,"relationParameter",void 0),u([d({type:String,json:{write:!0}})],xe.prototype,"resultType",void 0),u([d({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"returnCentroid",void 0),u([d({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"returnDistinctValues",void 0),u([d({type:Boolean,json:{default:!0,write:!0}})],xe.prototype,"returnExceededLimitFeatures",void 0),u([d({type:Boolean,json:{write:!0}})],xe.prototype,"returnGeometry",void 0),u([d({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"returnQueryGeometry",void 0),u([d({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"returnM",void 0),u([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],xe.prototype,"returnZ",void 0),u([d({type:Boolean,json:{write:!0}})],xe.prototype,"returnTrueCurves",void 0),u([d({type:be,json:{write:!0}})],xe.prototype,"sourceSpatialReference",void 0),u([ye(rxe,{ignoreUnknown:!1,name:"spatialRel"})],xe.prototype,"spatialRelationship",void 0),u([d({type:Number,json:{read:{source:"resultOffset"}}})],xe.prototype,"start",void 0),u([re("start"),re("num")],xe.prototype,"writeStart",null),u([d({type:String,json:{write:!0}})],xe.prototype,"sqlFormat",void 0),u([d({type:String,json:{write:!0}})],xe.prototype,"text",void 0),u([d({type:ct,json:{write:!0}})],xe.prototype,"timeExtent",void 0),u([d({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"timeReferenceUnknownClient",void 0),u([ye(nxe,{ignoreUnknown:!1}),d({json:{write:{overridePolicy(e){return{enabled:!!e&&this.distance!=null}}}}})],xe.prototype,"units",void 0),u([d({type:String,json:{write:{overridePolicy(e){return{enabled:e!=null||this.start!=null&&this.start>0}}}}})],xe.prototype,"where",void 0),u([re("where")],xe.prototype,"writeWhere",null),xe=Sx=u([I("esri.rest.support.Query")],xe);var VP;const CO=new Pe({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),kO=new Pe({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Vs=VP=class extends z{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:r,spatialRelationship:n,timeExtent:i,objectIds:o,units:s,distance:a}=this;return new xe({geometry:D(r),objectIds:D(o),spatialRelationship:n,timeExtent:D(i),where:t,units:s,distance:a,...e})}clone(){const{where:e,geometry:t,spatialRelationship:r,timeExtent:n,objectIds:i,units:o,distance:s}=this;return new VP({geometry:D(t),objectIds:D(i),spatialRelationship:r,timeExtent:D(n),where:e,units:o,distance:s})}};u([d({type:String,json:{write:!0}})],Vs.prototype,"where",void 0),u([d({types:My,json:{write:!0}})],Vs.prototype,"geometry",void 0),u([d({type:CO.apiValues,json:{name:"spatialRel",read:{reader:CO.read},write:{allowNull:!1,writer:CO.write,overridePolicy(){return{enabled:this.geometry!=null}}}}})],Vs.prototype,"spatialRelationship",void 0),u([d({type:Number,json:{write:{overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],Vs.prototype,"distance",void 0),u([d({type:[Number],json:{write:!0}})],Vs.prototype,"objectIds",void 0),u([d({type:kO.apiValues,json:{read:kO.read,write:{writer:kO.write,overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],Vs.prototype,"units",void 0),u([d({type:ct,json:{write:!0}})],Vs.prototype,"timeExtent",void 0),Vs=VP=u([I("esri.layers.support.FeatureFilter")],Vs);const ixe=Vs;var qP;const YF={read:{reader:Yg},write:{writer:Qg,overridePolicy(){return{allowNull:this.excludedEffect!=null,isRequired:this.excludedEffect==null}}}},QF={read:{reader:Yg},write:{writer:Qg,overridePolicy(){return{allowNull:this.includedEffect!=null,isRequired:this.includedEffect==null}}}},XF={name:"showExcludedLabels",default:!0};let Xc=qP=class extends z{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){const r=super.write(e,t);if(t?.origin){if(r.filter){const n=Object.keys(r.filter);if(n.length>1||n[0]!=="where")return t.messages?.push(new Z("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}if("showExcludedLabels"in r)return t.messages?.push(new Z("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return r}clone(){return new qP({filter:this.filter!=null?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};u([d({type:ixe,json:{write:{allowNull:!0,writer(e,t,r,n){const i=e?.write({},n);i&&Object.keys(i).length!==0?nr(r,i,t):nr(r,null,t)}}}})],Xc.prototype,"filter",void 0),u([d({json:{read:Yg,write:{writer:Qg,allowNull:!0},origins:{"web-map":YF,"portal-item":YF}}})],Xc.prototype,"includedEffect",void 0),u([d({json:{read:Yg,write:{writer:Qg,allowNull:!0},origins:{"web-map":QF,"portal-item":QF}}})],Xc.prototype,"excludedEffect",void 0),u([d({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":XF,"portal-item":XF}}})],Xc.prototype,"excludedLabelsVisible",void 0),Xc=qP=u([I("esri.layers.support.FeatureEffect")],Xc);const e6={write:{allowNull:!0}},oxe={type:Xc,json:{origins:{"web-map":e6,"portal-item":e6}}},sxe=e=>{let t=class extends e{constructor(){super(...arguments),this.featureEffect=null}};return u([d(oxe)],t.prototype,"featureEffect",void 0),t=u([I("esri.layers.mixins.FeatureEffectLayer")],t),t};var d0;const QS=Or()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),SY=QS.jsonValues.slice();pae(SY,"orthometric");const ig=Or()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let Jo=d0=class extends z{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,r){return QS.write(e,t,r)}readHeightModel(e,t,r){return QS.read(e)||(r?.messages&&r.messages.push(axe(e,{context:r})),null)}readHeightUnit(e,t,r){return ig.read(e)||(r?.messages&&r.messages.push(t6(e,{context:r})),null)}readHeightUnitService(e,t,r){return JC(e)||ig.read(e)||(r?.messages&&r.messages.push(t6(e,{context:r})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new d0({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const r=cde(t);return new d0({heightModel:e.heightModel,heightUnit:r??void 0,vertCRS:e.vertCRS})}write(e,t){return t={origin:"web-scene",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new d0;return t.read(e,{origin:"web-scene"}),t}};function t6(e,t){return new Os("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}function axe(e,t){return new Os("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}u([d({type:QS.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:SY,default:"ellipsoidal",write:{isRequired:!0}}}}})],Jo.prototype,"heightModel",void 0),u([re("web-scene","heightModel")],Jo.prototype,"writeHeightModel",null),u([X(["web-scene","service"],"heightModel")],Jo.prototype,"readHeightModel",null),u([d({type:ig.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:ig.jsonValues,write:{writer:ig.write,isRequired:!0}}}}})],Jo.prototype,"heightUnit",void 0),u([X("web-scene","heightUnit")],Jo.prototype,"readHeightUnit",null),u([X("service","heightUnit")],Jo.prototype,"readHeightUnitService",null),u([d({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],Jo.prototype,"vertCRS",void 0),u([X("service","vertCRS",["vertCRS","ellipsoid","geoid"])],Jo.prototype,"readVertCRS",null),Jo=d0=u([I("esri.geometry.HeightModelInfo")],Jo);var GP;let p0=GP=class extends z{constructor(e){super(e)}async collectRequiredFields(e,t){return Is(e,t,this.expression)}clone(){return new GP({expression:this.expression,title:this.title})}equals(e){return this.expression===e.expression&&this.title===e.title}};u([d({type:String,json:{write:{isRequired:!0}}})],p0.prototype,"expression",void 0),u([d({type:String,json:{write:!0}})],p0.prototype,"title",void 0),p0=GP=u([I("esri.symbols.support.FeatureExpressionInfo")],p0);const r6=p0,Wk={unknown:1,inches:xn(1,"meters","inches"),feet:xn(1,"meters","feet"),"us-feet":xn(1,"meters","us-feet"),yards:xn(1,"meters","yards"),miles:xn(1,"meters","miles"),"nautical-miles":xn(1,"meters","nautical-miles"),millimeters:xn(1,"meters","millimeters"),centimeters:xn(1,"meters","centimeters"),decimeters:xn(1,"meters","decimeters"),meters:xn(1,"meters","meters"),kilometers:xn(1,"meters","kilometers"),"decimal-degrees":1/ude(1,"meters",Ht.radius)};function YYe(e){return 1/(Wk[e]||1)}function lxe(){const e=Object.keys(Wk);return tG(e,"decimal-degrees"),e.sort(),e}const uxe=lxe();var WP;const Nb=Or()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),n6=new Pe({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});var Xv;let La=(Xv=class extends z{constructor(t){super(t),this.featureExpressionInfo=void 0,this.offset=null}readFeatureExpressionInfo(t,r){return t!=null?t.expression?t:void 0:r.featureExpression&&r.featureExpression.value===0?{expression:"0"}:void 0}writeFeatureExpressionInfo(t,r,n,i){r[n]=t.write({},i),t.expression==="0"&&(r.featureExpression={value:0})}get mode(){const{offset:t,featureExpressionInfo:r}=this;return this._isOverridden("mode")?this._get("mode"):t!=null||r?"relative-to-ground":"on-the-ground"}set mode(t){this._override("mode",t)}set unit(t){this._set("unit",t)}write(t,r){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(t,r):null}clone(){return new WP({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(t){return this.mode===t.mode&&this.offset===t.offset&&this.unit===t.unit&&ale(this.featureExpressionInfo,t.featureExpressionInfo)}},WP=Xv,Xv);u([d({type:r6,json:{write:!0}})],La.prototype,"featureExpressionInfo",void 0),u([X("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],La.prototype,"readFeatureExpressionInfo",null),u([re("featureExpressionInfo",{featureExpressionInfo:{type:r6},"featureExpression.value":{type:[0]}})],La.prototype,"writeFeatureExpressionInfo",null),u([d({type:Nb.apiValues,nonNullable:!0,json:{type:Nb.jsonValues,read:Nb.read,write:{writer:Nb.write,isRequired:!0}}})],La.prototype,"mode",null),u([d({type:Number,json:{write:!0}})],La.prototype,"offset",void 0),u([d({type:uxe,json:{type:String,read:n6.read,write:n6.write}})],La.prototype,"unit",null),La=WP=u([I("esri.symbols.support.ElevationInfo")],La);let cf=class extends z{constructor(t){super(t),this.description=null,this.label=null,this.type=null}};u([d({type:String,json:{write:!0}})],cf.prototype,"description",void 0),u([d({type:String,json:{write:!0}})],cf.prototype,"label",void 0),u([d()],cf.prototype,"type",void 0),cf=u([I("esri.tables.elements.AttributeTableElement")],cf);const Ry=cf;let f0=class extends Se.ClonableMixin(Ry){constructor(t){super(t),this.displayType="auto",this.type="attachment"}clone(){return super.clone()}};u([d({type:["auto"],json:{write:!0}})],f0.prototype,"displayType",void 0),u([d({type:["attachment"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],f0.prototype,"type",void 0),f0=u([I("esri.tables.elements.AttributeTableAttachmentElement")],f0);const _Y=f0;let ed=class extends Se.ClonableMixin(Ry){constructor(t){super(t),this.description=null,this.fieldName=null,this.label=null,this.type="field"}clone(){return super.clone()}};u([d({type:String,json:{read:!1,write:!1}})],ed.prototype,"description",void 0),u([d({type:String,json:{write:{enabled:!0,isRequired:!0}}})],ed.prototype,"fieldName",void 0),u([d({type:String,json:{read:!1,write:!1}})],ed.prototype,"label",void 0),u([d({type:["field"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],ed.prototype,"type",void 0),ed=u([I("esri.tables.elements.AttributeTableFieldElement")],ed);const $Y=ed;let h0=class extends Se.ClonableMixin(Ry){constructor(t){super(t),this.relationshipId=null,this.type="relationship"}clone(){return super.clone()}};u([d({type:Number,json:{type:ze,write:{enabled:!0,isRequired:!0}}})],h0.prototype,"relationshipId",void 0),u([d({type:["relationship"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],h0.prototype,"type",void 0),h0=u([I("esri.tables.elements.AttributeTableRelationshipElement")],h0);const TY=h0,OY={base:Ry,key:"type",typeMap:{attachment:_Y,field:$Y,relationship:TY}};function cxe(e){return{typesWithGroup:{base:Ry,key:"type",typeMap:{attachment:_Y,field:$Y,group:e,relationship:TY}},typesWithoutGroup:OY}}let y0=class extends Se.ClonableMixin(Ry){constructor(t){super(t),this.elements=null,this.type="group"}clone(){return super.clone()}};u([d({types:[OY],json:{name:"attributeTableElements",write:!0}})],y0.prototype,"elements",void 0),u([d({type:["group"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],y0.prototype,"type",void 0),y0=u([I("esri.tables.elements.AttributeTableGroupElement")],y0);const dxe=y0;let m0=class extends Se.ClonableMixin(z){constructor(t){super(t),this.field=null,this.order=null}};u([d({type:String,json:{write:!0}})],m0.prototype,"field",void 0),u([d({type:["asc","desc"],json:{write:!0}})],m0.prototype,"order",void 0),m0=u([I("esri.tables.support.FieldOrder")],m0);const pxe=m0;var HP;const fxe=cxe(dxe);let g0=HP=class extends z{constructor(e){super(e),this.elements=null,this.orderByFields=null}clone(){return new HP({elements:D(this.elements),orderByFields:D(this.orderByFields)})}};u([d({types:[fxe.typesWithGroup],json:{name:"attributeTableElements",write:!0}})],g0.prototype,"elements",void 0),u([d({type:[pxe],json:{write:!0}})],g0.prototype,"orderByFields",void 0),g0=HP=u([I("esri.tables.AttributeTableTemplate")],g0);const hxe=g0,yxe={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:bt}}},p$={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,r){t[r]=!e}}}},f$={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:bt}}},mxe={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:Kd}}},gxe={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:bt}}},vxe={value:null,type:La,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:bt}}};function iQe(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const EY={write:{enabled:!0,layerContainerTypes:bt},read:!0},JP={type:Number,json:{origins:{"web-document":EY,"portal-item":{write:{layerContainerTypes:bt}}}}},bxe={...JP,json:{...JP.json,origins:{"web-document":{...EY,write:{enabled:!0,layerContainerTypes:bt,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,r)=>r&&r.origin!=="service"||!t.drawingInfo||t.drawingInfo.transparency===void 0?t.layerDefinition?.drawingInfo&&t.layerDefinition.drawingInfo.transparency!==void 0?Vg(t.layerDefinition.drawingInfo.transparency):void 0:Vg(t.drawingInfo.transparency)}}},oQe={type:Ue,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{const r=Ue.fromJSON(e);return t.spatialReference!=null&&typeof t.spatialReference=="object"&&(r.spatialReference=be.fromJSON(t.spatialReference)),r}}}},read:!1}},wxe={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},xxe={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:"layerDefinition.minScale",write:{layerContainerTypes:bt}}},Sxe={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:"layerDefinition.maxScale",write:{layerContainerTypes:bt}}},jY={json:{write:{ignoreOrigin:!0,layerContainerTypes:bt},origins:{"web-map":{read:!1,write:!1}}}},_xe={type:hxe,json:{name:"attributeTableInfo",write:!0}};let Da=class extends Se.ClonableMixin(z){constructor(t){super(t),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.timeZone=null}};u([d()],Da.prototype,"creatorField",void 0),u([d()],Da.prototype,"creationDateField",void 0),u([d()],Da.prototype,"editorField",void 0),u([d()],Da.prototype,"editDateField",void 0),u([d()],Da.prototype,"realm",void 0),u([d(zS("dateFieldsTimeReference",!0))],Da.prototype,"timeZone",void 0),Da=u([I("esri.layers.support.EditFieldsInfo")],Da);let Ks=class extends Se.ClonableMixin(z){constructor(t){super(t)}};u([d({constructOnly:!0,json:{write:!0}})],Ks.prototype,"name",void 0),u([d({constructOnly:!0,json:{write:!0}})],Ks.prototype,"fields",void 0),u([d({constructOnly:!0,json:{write:!0}})],Ks.prototype,"isAscending",void 0),u([d({constructOnly:!0,json:{write:!0}})],Ks.prototype,"indexType",void 0),u([d({constructOnly:!0,json:{write:!0}})],Ks.prototype,"isUnique",void 0),u([d({constructOnly:!0,json:{write:!0}})],Ks.prototype,"description",void 0),Ks=u([I("esri.layers.support.FeatureIndex")],Ks);async function IY(e,t,r){t=t.clone(),e.capabilities.query.supportsMaxRecordCountFactor&&(t.maxRecordCountFactor=AY(e));const n=$xe(e),i=e.capabilities.query.supportsPagination;t.start=0,t.num=n;let o=null;for(;;){const s=await e.source.queryFeaturesJSON(t,r);if(o==null?o=s:o.features=o.features.concat(s.features),o.exceededTransferLimit=s.exceededTransferLimit,!i||!s.exceededTransferLimit)break;t.start+=n}return o}function $xe(e){return AY(e)*Txe(e)}function Txe(e){return e.capabilities.query.maxRecordCount||2e3}function AY(e){return e.capabilities.query.supportsMaxRecordCountFactor?xe.MAX_MAX_RECORD_COUNT_FACTOR:1}var ZP;let v0=ZP=class extends z{constructor(e){super(e),this.minValue=0,this.maxValue=0}clone(){return new ZP({minValue:this.minValue,maxValue:this.maxValue})}};u([d({type:Number,json:{write:!0}})],v0.prototype,"minValue",void 0),u([d({type:Number,json:{write:!0}})],v0.prototype,"maxValue",void 0),v0=ZP=u([I("esri.renderers.support.AuthoringInfoClassBreakInfo")],v0);var KP;let hu=KP=class extends z{constructor(e){super(e),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=new Array}clone(){return new KP({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:D(this.classBreakInfos)})}};u([d({type:String,json:{write:!0}})],hu.prototype,"field",void 0),u([d({type:String,json:{write:!0}})],hu.prototype,"normalizationField",void 0),u([d({type:String,json:{write:!0}})],hu.prototype,"label",void 0),u([d({type:[v0],json:{write:!0}})],hu.prototype,"classBreakInfos",void 0),hu=KP=u([I("esri.renderers.support.AuthoringInfoFieldInfo")],hu);var YP;let df=YP=class extends z{constructor(e){super(e),this.label=null,this.size=null,this.value=null}clone(){return new YP({label:this.label,value:this.value,size:this.size})}};u([d({type:String,json:{write:!0}})],df.prototype,"label",void 0),u([d({type:Number,json:{write:!0}})],df.prototype,"size",void 0),u([d({type:Number,json:{write:!0}})],df.prototype,"value",void 0),df=YP=u([I("esri.renderers.support.AuthoringInfoSizeStop")],df);const Oxe=df;var QP;const Mb=new Pe({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),Cb=new Pe({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),i6={key:e=>typeof e=="number"?"number":"string",typeMap:{number:Number,string:String},base:null},o6=["high-to-low","above-and-below","centered-on","extremes"],s6=[...new Set(["high-to-low","above-and-below","centered-on","extremes","above","below","high-to-low","above-and-below","above","below","reference-size","spike"])],a6=["seconds","minutes","hours","days","months","years"],Exe=["circle","diamond","hexagon-flat","hexagon-pointy","square"],jxe=["triangle-closed-outline","triangle-gradient-fill-closed","triangle-gradient-fill-closed-outline","triangle-gradient-fill-open","triangle-gradient-fill-open-outline","triangle-open-outline","triangle-solid-fill-closed","triangle-solid-fill-closed-outline","triangle-solid-fill-open","triangle-solid-fill-open-outline"];let Ar=QP=class extends z{constructor(e){super(e),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(e){return typeof e=="string"||typeof e=="number"?e:null}get normalizationField(){return this.theme==="reference-size"||this.theme==="spike"?this._get("normalizationField"):null}set normalizationField(e){this._set("normalizationField",e)}get referenceSizeScale(){return this.theme==="reference-size"?this._get("referenceSizeScale"):null}set referenceSizeScale(e){this._set("referenceSizeScale",e)}get referenceSizeSymbolStyle(){return this.theme==="reference-size"?this._get("referenceSizeSymbolStyle"):null}set referenceSizeSymbolStyle(e){this._set("referenceSizeSymbolStyle",e)}get spikeSymbolStyle(){return this.theme==="spike"?this._get("spikeSymbolStyle"):null}set spikeSymbolStyle(e){this._set("spikeSymbolStyle",e)}castStartTime(e){return typeof e=="string"||typeof e=="number"?e:null}get sizeStops(){return this.theme==="reference-size"||this.theme==="spike"?this._get("sizeStops"):null}set sizeStops(e){this._set("sizeStops",e)}get style(){return this.type==="color"?this._get("style"):null}set style(e){this._set("style",e)}get theme(){return this.type==="color"||this.type==="size"?this._get("theme")||"high-to-low":null}set theme(e){this._set("theme",e)}clone(){return new QP({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,normalizationField:this.normalizationField,referenceSizeScale:this.referenceSizeScale,referenceSizeSymbolStyle:this.referenceSizeSymbolStyle,spikeSymbolStyle:this.spikeSymbolStyle,sizeStops:D(this.sizeStops),startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};u([d({types:i6,json:{write:!0}})],Ar.prototype,"endTime",void 0),u([pt("endTime")],Ar.prototype,"castEndTime",null),u([d({type:String,json:{write:!0}})],Ar.prototype,"field",void 0),u([d({type:Number,json:{write:!0}})],Ar.prototype,"maxSliderValue",void 0),u([d({type:Number,json:{write:!0}})],Ar.prototype,"minSliderValue",void 0),u([d({type:String,json:{origins:{"web-scene":{write:!1}},write:!0}})],Ar.prototype,"normalizationField",null),u([d({type:Number,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],Ar.prototype,"referenceSizeScale",null),u([d({type:Exe,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],Ar.prototype,"referenceSizeSymbolStyle",null),u([d({type:jxe,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],Ar.prototype,"spikeSymbolStyle",null),u([d({types:i6,json:{write:!0}})],Ar.prototype,"startTime",void 0),u([pt("startTime")],Ar.prototype,"castStartTime",null),u([d({type:[Oxe],json:{origins:{"web-scene":{write:!1}},write:!0}})],Ar.prototype,"sizeStops",null),u([d({type:Mb.apiValues,value:null,json:{type:Mb.jsonValues,read:Mb.read,write:Mb.write}})],Ar.prototype,"style",null),u([d({type:s6,value:null,json:{type:s6,origins:{"web-scene":{type:o6,write:{writer:(e,t)=>{o6.includes(e)&&(t.theme=e)}}}},write:!0}})],Ar.prototype,"theme",null),u([d({type:Cb.apiValues,json:{type:Cb.jsonValues,read:Cb.read,write:Cb.write}})],Ar.prototype,"type",void 0),u([d({type:a6,json:{type:a6,write:!0}})],Ar.prototype,"units",void 0),Ar=QP=u([I("esri.renderers.support.AuthoringInfoVisualVariable")],Ar);const Ixe=Ar;let gh=class extends z{constructor(t){super(t),this.type=null}};u([d({readOnly:!0,json:{read:!1,write:!0}})],gh.prototype,"type",void 0),gh=u([I("esri.rest.support.ColorRamp")],gh);var XP;let ol=XP=class extends gh{constructor(e){super(e),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new XP({fromColor:D(this.fromColor),toColor:D(this.toColor),algorithm:this.algorithm})}};u([ye({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],ol.prototype,"algorithm",void 0),u([d({type:ke,json:{type:[ze],write:!0}})],ol.prototype,"fromColor",void 0),u([d({type:ke,json:{type:[ze],write:!0}})],ol.prototype,"toColor",void 0),u([d({type:["algorithmic"]})],ol.prototype,"type",void 0),ol=XP=u([I("esri.rest.support.AlgorithmicColorRamp")],ol);var e3;let qf=e3=class extends gh{constructor(e){super(e),this.colorRamps=null,this.type="multipart"}clone(){return new e3({colorRamps:D(this.colorRamps)})}};u([d({type:[ol],json:{write:!0}})],qf.prototype,"colorRamps",void 0),u([d({type:["multipart"]})],qf.prototype,"type",void 0),qf=e3=u([I("esri.rest.support.MultipartColorRamp")],qf);const Axe={key:"type",base:gh,typeMap:{algorithmic:ol,multipart:qf}};function Pxe(e){return e?.type?e.type==="algorithmic"?ol.fromJSON(e):e.type==="multipart"?qf.fromJSON(e):null:null}var t3;const Ec=new Pe({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),kb=new Pe({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),l6=new Pe({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),u6=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers"],Nxe=["high-to-low","above-and-below","above","below"],Mxe=["flow-line","wave-front"],Cxe=["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"];let Mt=t3=class extends z{constructor(e){super(e),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const e=this._get("classificationMethod"),t=this.type;return t&&t!=="relationship"?t==="class-breaks-size"||t==="class-breaks-color"?e||"manual":null:e}set classificationMethod(e){this._set("classificationMethod",e)}readColorRamp(e){return e?Pxe(e):void 0}get fields(){return this.type&&this.type!=="predominance"?null:this._get("fields")}set fields(e){this._set("fields",e)}get field1(){return this.type&&this.type!=="relationship"?null:this._get("field1")}set field1(e){this._set("field1",e)}get field2(){return this.type&&this.type!=="relationship"?null:this._get("field2")}set field2(e){this._set("field2",e)}get flowTheme(){return this.type==="flow"?this._get("flowTheme"):null}set flowTheme(e){this._set("flowTheme",e)}get focus(){return this.type&&this.type!=="relationship"?null:this._get("focus")}set focus(e){this._set("focus",e)}get numClasses(){return this.type&&this.type!=="relationship"?null:this._get("numClasses")}set numClasses(e){this._set("numClasses",e)}get statistics(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("statistics"):null}set statistics(e){this._set("statistics",e)}get standardDeviationInterval(){const e=this.type;return e&&e!=="relationship"&&e!=="class-breaks-size"&&e!=="class-breaks-color"||this.classificationMethod&&this.classificationMethod!=="standard-deviation"?null:this._get("standardDeviationInterval")}set standardDeviationInterval(e){this._set("standardDeviationInterval",e)}get type(){return this._get("type")}set type(e){let t=e;e==="classed-size"?t="class-breaks-size":e==="classed-color"&&(t="class-breaks-color"),this._set("type",t)}get univariateSymbolStyle(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(e){this._set("univariateSymbolStyle",e)}get univariateTheme(){return this.type==="univariate-color-size"?this._get("univariateTheme"):null}set univariateTheme(e){this._set("univariateTheme",e)}clone(){return new t3({classificationMethod:this.classificationMethod,colorRamp:D(this.colorRamp),fadeRatio:D(this.fadeRatio),fields:this.fields?.slice(),field1:D(this.field1),field2:D(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(e=>e.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};u([d({type:Ec.apiValues,value:null,json:{type:Ec.jsonValues,read:Ec.read,write:Ec.write,origins:{"web-document":{default:"manual",type:Ec.jsonValues,read:Ec.read,write:Ec.write}}}})],Mt.prototype,"classificationMethod",null),u([d({types:Axe,json:{write:!0}})],Mt.prototype,"colorRamp",void 0),u([X("colorRamp")],Mt.prototype,"readColorRamp",null),u([d({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Mt.prototype,"fadeRatio",void 0),u([d({type:[String],value:null,json:{write:!0}})],Mt.prototype,"fields",null),u([d({type:hu,value:null,json:{write:!0}})],Mt.prototype,"field1",null),u([d({type:hu,value:null,json:{write:!0}})],Mt.prototype,"field2",null),u([d({type:Mxe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Mt.prototype,"flowTheme",null),u([d({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],Mt.prototype,"focus",null),u([d({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],Mt.prototype,"isAutoGenerated",void 0),u([d({type:Number,value:null,json:{type:ze,write:!0}})],Mt.prototype,"numClasses",null),u([d({type:u6,json:{type:u6,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],Mt.prototype,"lengthUnit",void 0),u([d({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Mt.prototype,"maxSliderValue",void 0),u([d({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Mt.prototype,"minSliderValue",void 0),u([d({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Mt.prototype,"statistics",null),u([d({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],Mt.prototype,"standardDeviationInterval",null),u([d({type:kb.apiValues,value:null,json:{type:kb.jsonValues,read:kb.read,write:kb.write,origins:{"web-scene":{type:l6.jsonValues,write:{writer:l6.write,overridePolicy:e=>({enabled:e!=="flow"})}}}}})],Mt.prototype,"type",null),u([d({type:[Ixe],json:{write:!0}})],Mt.prototype,"visualVariables",void 0),u([d({type:Cxe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Mt.prototype,"univariateSymbolStyle",null),u([d({type:Nxe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Mt.prototype,"univariateTheme",null),Mt=t3=u([I("esri.renderers.support.AuthoringInfo")],Mt);const RO=new Pe({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let Ui=class extends z{constructor(t){super(t),this.authoringInfo=null,this.type=null}async getRequiredFields(t){if(!this.collectRequiredFields)return[];const r=new Set;return await this.collectRequiredFields(r,t),Array.from(r).sort()}getSymbol(t,r){}async getSymbolAsync(t,r){}get symbols(){return[]}get arcadeRequired(){return!1}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};u([d({type:Mt,json:{write:!0}})],Ui.prototype,"authoringInfo",void 0),u([d({type:RO.apiValues,readOnly:!0,json:{type:RO.jsonValues,read:!1,write:{writer:RO.write,ignoreOrigin:!0,isRequired:!0}}})],Ui.prototype,"type",void 0),Ui=u([I("esri.renderers.Renderer")],Ui);let b0=class extends Se.ClonableMixin(z){constructor(){super(...arguments),this.showLegend=null,this.title=null}};u([d({type:Boolean,json:{write:!0}})],b0.prototype,"showLegend",void 0),u([d({type:String,json:{write:!0}})],b0.prototype,"title",void 0),b0=u([I("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],b0);const PY=b0,LO=new Pe({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let Sn=class extends z{constructor(t){super(t),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(t){return t==null?t:typeof t=="function"?(ce.getLogger(this).error(".field: field must be a string value"),null):b1(t)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};u([d()],Sn.prototype,"index",void 0),u([d({type:LO.apiValues,readOnly:!0,json:{read:LO.read,write:{writer:LO.write,isRequired:!0}}})],Sn.prototype,"type",void 0),u([d({type:String,json:{write:!0}})],Sn.prototype,"field",void 0),u([pt("field")],Sn.prototype,"castField",null),u([d({type:String,json:{write:!0}})],Sn.prototype,"valueExpression",void 0),u([d({type:String,json:{write:!0}})],Sn.prototype,"valueExpressionTitle",void 0),u([d({readOnly:!0})],Sn.prototype,"arcadeRequired",null),u([d({type:PY,json:{write:!0}})],Sn.prototype,"legendOptions",void 0),Sn=u([I("esri.renderers.visualVariables.VisualVariable")],Sn);var r3;let td=r3=class extends z{constructor(e){super(e),this.color=null,this.label=null,this.value=null}writeValue(e,t,r){t[r]=e??0}clone(){return new r3({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};u([d({type:ke,json:{type:[ze],write:{isRequired:!0}}})],td.prototype,"color",void 0),u([d({type:String,json:{write:!0}})],td.prototype,"label",void 0),u([d({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],td.prototype,"value",void 0),u([re("value")],td.prototype,"writeValue",null),td=r3=u([I("esri.renderers.visualVariables.support.ColorStop")],td);const kxe=td;var n3;let yu=n3=class extends Sn{constructor(e){super(e),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value),this._set("stops",e)}clone(){return new n3({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};u([d({readOnly:!0})],yu.prototype,"cache",null),u([d({type:["color"],json:{type:["colorInfo"]}})],yu.prototype,"type",void 0),u([d({type:String,json:{write:!0}})],yu.prototype,"normalizationField",void 0),u([d({type:[kxe],json:{write:!0}})],yu.prototype,"stops",null),yu=n3=u([I("esri.renderers.visualVariables.ColorVariable")],yu);var i3;let nu=i3=class extends z{constructor(e){super(e),this.label=null,this.opacity=null,this.value=null}readOpacity(e,t){return Vg(t.transparency)}writeOpacity(e,t,r){t[r]=Q_(e)}clone(){return new i3({label:this.label,opacity:this.opacity,value:this.value})}};u([d({type:String,json:{write:!0}})],nu.prototype,"label",void 0),u([d({type:Number,json:{type:ze,write:{target:"transparency",isRequired:!0}}})],nu.prototype,"opacity",void 0),u([X("opacity",["transparency"])],nu.prototype,"readOpacity",null),u([re("opacity")],nu.prototype,"writeOpacity",null),u([d({type:Number,json:{write:{isRequired:!0}}})],nu.prototype,"value",void 0),nu=i3=u([I("esri.renderers.visualVariables.support.OpacityStop")],nu);const Rxe=nu;var o3;let sl=o3=class extends Sn{constructor(e){super(e),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value),this._set("stops",e)}clone(){return new o3({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};u([d({readOnly:!0})],sl.prototype,"cache",null),u([d({type:["opacity"],json:{type:["transparencyInfo"]}})],sl.prototype,"type",void 0),u([d({type:String,json:{write:!0}})],sl.prototype,"normalizationField",void 0),u([d({type:[Rxe],json:{write:!0}})],sl.prototype,"stops",null),sl=o3=u([I("esri.renderers.visualVariables.OpacityVariable")],sl);var s3;let mu=s3=class extends Sn{constructor(e){super(e),this.axis=null,this.type="rotation",this.rotationType="geographic"}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}clone(){return new s3({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions?.clone()})}};u([d({readOnly:!0})],mu.prototype,"cache",null),u([d({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],mu.prototype,"axis",void 0),u([d({type:["rotation"],json:{type:["rotationInfo"]}})],mu.prototype,"type",void 0),u([d({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],mu.prototype,"rotationType",void 0),mu=s3=u([I("esri.renderers.visualVariables.RotationVariable")],mu);function Lxe(e){return Ge(e)}var a3;let ns=a3=class extends z{constructor(e){super(e),this.label=null,this.size=null,this.value=null,this.useMinValue=null,this.useMaxValue=null}clone(){return new a3({label:this.label,size:this.size,value:this.value,useMaxValue:this.useMaxValue,useMinValue:this.useMinValue})}};u([d({type:String,json:{write:!0}})],ns.prototype,"label",void 0),u([d({type:Number,cast:Ge,json:{write:{isRequired:!0}}})],ns.prototype,"size",void 0),u([d({type:Number,json:{write:{isRequired:!0}}})],ns.prototype,"value",void 0),u([d({type:Boolean,json:{write:!1}})],ns.prototype,"useMinValue",void 0),u([d({type:Boolean,json:{write:!1}})],ns.prototype,"useMaxValue",void 0),ns=a3=u([I("esri.renderers.visualVariables.support.SizeStop")],ns);let _x=class extends PY{constructor(){super(...arguments),this.customValues=null}};u([d({type:[Number],json:{write:!0}})],_x.prototype,"customValues",void 0),_x=u([I("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],_x);const Dxe=_x;var bl,Dr;function Gf(e){return e&&e.declaredClass==="esri.renderers.visualVariables.SizeVariable"}function ev(e){return e!=null&&!isNaN(e)&&isFinite(e)}function NY(e){return e.valueExpression?bl.Expression:e.field&&typeof e.field=="string"?bl.Field:bl.Unknown}function Fxe(e,t){const r=t||NY(e),n=e.valueUnit||"unknown";return r===bl.Unknown?Dr.Constant:e.stops?Dr.Stops:e.minSize!=null&&e.maxSize!=null&&e.minDataValue!=null&&e.maxDataValue!=null?Dr.ClampedLinear:n==="unknown"?e.minSize!=null&&e.minDataValue!=null?e.minSize&&e.minDataValue?Dr.Proportional:Dr.Additive:Dr.Identity:Dr.RealWorldSize}(function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"})(bl||(bl={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(Dr||(Dr={}));const MY=()=>ce.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),CY=e=>MY().warn(`The visualVariable should be an instance of esri.renderers.visualVariables.${e}`),kY=()=>MY().error("Use of arcade expressions requires an arcade context");new wr;const $x=Math.PI,Uxe=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function fQe(e,t,r){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(m=>m.type==="rotation"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.RotationVariable")return void CY("RotationVariable");const i=n.axis||"heading",o=i==="heading"&&n.rotationType==="arithmetic"?90:0,s=i==="heading"&&n.rotationType==="arithmetic"?-1:1,a=typeof t=="number"?null:t,l=a?.attributes,c=n.field,{hasExpression:p}=n.cache;let h=n.cache.compiledFunc,y=null;if(!c&&!p)return y;if(p){if(r?.arcade==null)return void kY();const m={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},g=r.arcade.arcadeUtils,b=g.getViewInfo(m),w=g.createExecContext(a,b,r.timeZone);if(!h){const x=g.createSyntaxTree(n.valueExpression);h=g.createFunction(x),n.cache.compiledFunc=h}y=g.executeFunction(h,w)}else l&&(y=l[c]);return y=typeof y!="number"||isNaN(y)?null:o+s*y,y}function zxe(e,t,r){const n=typeof t=="number",i=n?null:t,o=i?.attributes;let s=n?t:null;const{isScaleDriven:a}=e.cache;let l=e.cache.compiledFunc;if(a){const p=r?.scale,h=r?.view;s=p==null||h==="3d"?Bxe(e):p}else if(!n)switch(e.inputValueType){case bl.Expression:{if(r?.arcade==null)return void kY();const p={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},h=r.arcade.arcadeUtils,y=h.getViewInfo(p),m=h.createExecContext(i,y,r.timeZone);if(!l){const g=h.createSyntaxTree(e.valueExpression);l=h.createFunction(g),e.cache.compiledFunc=l}s=h.executeFunction(l,m);break}case bl.Field:o&&(s=o[e.field]);break;case bl.Unknown:s=null}if(!ev(s))return null;if(n||!e.normalizationField)return s;const c=o?parseFloat(o[e.normalizationField]):null;return ev(c)&&c!==0?s/c:null}function Bxe(e){let t=null,r=null;const n=e.stops;return n?(t=n[0].value,r=n[n.length-1].value):(t=e.minDataValue||0,r=e.maxDataValue||0),(t+r)/2}function RY(e,t,r){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(o=>o.type==="size"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.SizeVariable")return void CY("SizeVariable");const i=Zxe(zxe(n,t,r),n,t,r,n.cache.ipData);return i==null||isNaN(i)?void 0:i}function _s(e,t,r){return e==null?null:Gf(e)?RY(e,t,r):ev(e)?e:null}function LY(e,t,r){return ev(r)&&e>r?r:ev(t)&&e<t?t:e}function Vxe(e,t,r,n){const i=_s(t.minSize,r,n)||t.minDataValue;return e==null&&i==null?null:(e??0)+(i??0)}function qxe(e,t,r){const n=e.stops;let i=n?.length&&n[0].size;return i==null&&(i=e.minSize),_s(i,t,r)}function Gxe(e,t,r,n){const i=_s(t.minSize,r,n);if(e==null)return i;const{minDataValue:o,maxDataValue:s}=t;if(o==null||s==null)return null;const a=(e-o)/(s-o),l=_s(t.maxSize,r,n),c=n?.shape;if(e<=o)return i;if(e>=s)return l;if(i==null||l==null)return null;if(t.scaleBy==="area"&&c){const p=c==="circle",h=p?$x*(i/2)**2:i*i,y=h+a*((p?$x*(l/2)**2:l*l)-h);return p?2*Math.sqrt(y/$x):Math.sqrt(y)}return i+a*(l-i)}function Wxe(e,t,r,n){const i=_s(t.minSize,r,n);if(e==null||i==null)return i;const o=n?.shape,{minDataValue:s}=t;if(s==null)return null;const a=e/s,l=_s(t.maxSize,r,n);let c=null;return c=o==="circle"?2*Math.sqrt(a*(i/2)**2):o==="square"||o==="diamond"||o==="image"?Math.sqrt(a*i**2):a*i,LY(c,i,l)}function Hxe(e,t,r,n,i){if(e==null)return null;const[o,s,a]=Kxe(e,i);if(o===s)return _s(t.stops?.[o].size,r,n);{const l=_s(t.stops?.[o].size,r,n),c=_s(t.stops?.[s].size,r,n);return l==null||c==null?null:l+(c-l)*a}}function Jxe(e,t,r,n){const i=(n?.resolution??1)*Wk[t.valueUnit],o=_s(t.minSize,r,n),s=_s(t.maxSize,r,n),{valueRepresentation:a}=t;if(e==null)return o;let l=null;return l=a==="area"?2*Math.sqrt(e/$x)/i:a==="radius"||a==="distance"?2*e/i:e/i,LY(l,o,s)}function Zxe(e,t,r,n,i){switch(t.transformationType){case Dr.Additive:return Vxe(e,t,r,n);case Dr.Constant:return qxe(t,r,n);case Dr.ClampedLinear:return Gxe(e,t,r,n);case Dr.Proportional:return Wxe(e,t,r,n);case Dr.Stops:return Hxe(e,t,r,n,i);case Dr.RealWorldSize:return Jxe(e,t,r,n);case Dr.Identity:return e;case Dr.Unknown:return null}}function Kxe(e,t){if(!t)return;let r=0,n=t.length-1;return t.some((i,o)=>e<i?(n=o,!0):(r=o,!1)),[r,n,(e-t[r])/(t[n]-t[r])]}function hQe(e,t,r){const n=["proportional","proportional","proportional"];for(const i of e){const o=i.useSymbolValue?"symbol-value":RY(i,t,r)??"proportional";switch(i.axis){case"width":n[0]=o;break;case"depth":n[1]=o;break;case"height":n[2]=o;break;case"width-and-depth":n[0]=o,n[1]=o;break;case"all":case void 0:case null:n[0]=o,n[1]=o,n[2]=o;break;default:i.axis}}return n}var l3;const Rb=new Pe({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),u3=new Pe({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers"});function c6(e){if(e!=null)return typeof e=="string"||typeof e=="number"?Lxe(e):e.type==="size"?Gf(e)?e:(delete(e={...e}).type,new Ke(e)):void 0}function d6(e,t,r){if(typeof e!="object")return e;const n=new Ke;return n.read(e,r),n}let Ke=l3=class extends Sn{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:this.valueExpression!=null&&Uxe.test(this.valueExpression)}}set index(e){Gf(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),Gf(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set("index",e)}get inputValueType(){return NY(this)}set maxDataValue(e){e&&this.stops&&(ce.getLogger(this).warn("cannot set maxDataValue when stops is not null."),e=null),this._set("maxDataValue",e)}set maxSize(e){e&&this.stops&&(ce.getLogger(this).warn("cannot set maxSize when stops is not null."),e=null),this._set("maxSize",e)}castMaxSize(e){return c6(e)}readMaxSize(e,t,r){return d6(e,t,r)}set minDataValue(e){e&&this.stops&&(ce.getLogger(this).warn("cannot set minDataValue when stops is not null."),e=null),this._set("minDataValue",e)}set minSize(e){e&&this.stops&&(ce.getLogger(this).warn("cannot set minSize when stops is not null."),e=null),this._set("minSize",e)}castMinSize(e){return c6(e)}readMinSize(e,t,r){return d6(e,t,r)}get arcadeRequired(){return!!this.valueExpression||this.minSize!=null&&typeof this.minSize=="object"&&this.minSize.arcadeRequired||this.maxSize!=null&&typeof this.maxSize=="object"&&this.maxSize.arcadeRequired}set stops(e){this.minDataValue==null&&this.maxDataValue==null&&this.minSize==null&&this.maxSize==null?e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value):e&&(ce.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),e=null),this._set("stops",e)}get transformationType(){return Fxe(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&"$view.scale"}writeValueExpressionWebScene(e,t,r,n){if(e==="$view.scale"){if(n?.messages){const i=this.index,o=typeof i=="string"?i:`visualVariables[${i}]`;n.messages.push(new Z("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:o+".valueExpression",context:n}))}}else t[r]=e}readValueUnit(e){return e?u3.read(e):null}clone(){return new l3({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:Gf(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:Gf(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops?.map(e=>e.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions?.clone()})}flipSizes(){if(this.transformationType===Dr.ClampedLinear){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(this.transformationType===Dr.Stops){const e=this.stops;if(!e)return this;const t=e.map(n=>n.size).reverse(),r=e.length;for(let n=0;n<r;n++)e[n].size=t[n];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops?.map(e=>e.value||0)}};u([d({readOnly:!0})],Ke.prototype,"cache",null),u([d({type:Rb.apiValues,json:{type:Rb.jsonValues,origins:{"web-map":{read:!1}},read:Rb.read,write:Rb.write}})],Ke.prototype,"axis",void 0),u([d()],Ke.prototype,"index",null),u([d({type:String,readOnly:!0})],Ke.prototype,"inputValueType",null),u([d({type:Dxe,json:{write:!0}})],Ke.prototype,"legendOptions",void 0),u([d({type:Number,value:null,json:{write:!0}})],Ke.prototype,"maxDataValue",null),u([d({type:Number,value:null,json:{write:!0}})],Ke.prototype,"maxSize",null),u([pt("maxSize")],Ke.prototype,"castMaxSize",null),u([X("maxSize")],Ke.prototype,"readMaxSize",null),u([d({type:Number,value:null,json:{write:!0}})],Ke.prototype,"minDataValue",null),u([d({type:Number,value:null,json:{write:!0}})],Ke.prototype,"minSize",null),u([pt("minSize")],Ke.prototype,"castMinSize",null),u([X("minSize")],Ke.prototype,"readMinSize",null),u([d({type:String,json:{write:!0}})],Ke.prototype,"normalizationField",void 0),u([d({readOnly:!0})],Ke.prototype,"arcadeRequired",null),u([d({type:String})],Ke.prototype,"scaleBy",void 0),u([d({type:[ns],value:null,json:{write:!0}})],Ke.prototype,"stops",null),u([d({type:["outline"],json:{write:!0}})],Ke.prototype,"target",void 0),u([d({type:String,readOnly:!0})],Ke.prototype,"transformationType",null),u([d({type:["size"],json:{type:["sizeInfo"]}})],Ke.prototype,"type",void 0),u([d({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],Ke.prototype,"useSymbolValue",void 0),u([d({type:String,json:{write:!0}})],Ke.prototype,"valueExpression",void 0),u([X("valueExpression",["valueExpression","expression"])],Ke.prototype,"readValueExpression",null),u([re("web-scene","valueExpression")],Ke.prototype,"writeValueExpressionWebScene",null),u([d({type:["radius","diameter","area","width","distance"],json:{write:!0}})],Ke.prototype,"valueRepresentation",void 0),u([d({type:u3.apiValues,json:{write:u3.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],Ke.prototype,"valueUnit",void 0),u([X("valueUnit")],Ke.prototype,"readValueUnit",null),Ke=l3=u([I("esri.renderers.visualVariables.SizeVariable")],Ke);const Yxe={color:yu,size:Ke,opacity:sl,rotation:mu},Qxe=new Pe({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),Xxe=/^\[([^\]]+)\]$/i;let Tx=class extends dt{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(t){if(this._resetVariables(),t=t?.filter(r=>!!r),t?.length){for(const r of t)switch(r.type){case"color":this.colorVariables.push(r);break;case"opacity":this.opacityVariables.push(r);break;case"rotation":this.rotationVariables.push(r);break;case"size":this.sizeVariables.push(r)}this.sizeVariables.length&&this.sizeVariables.some(r=>!!r.target)&&t.sort((r,n)=>{let i=null;return i=r.target===n.target?0:r.target?1:-1,i});for(let r=0;r<t.length;r++)t[r].index=r;this._set("visualVariables",t)}else this._set("visualVariables",t)}readVariables(t,r,n){const{rotationExpression:i,rotationType:o}=r,s=i?.match(Xxe),a=s?.[1];if(a&&(t||(t=[]),t.push({type:"rotationInfo",rotationType:o,field:a})),t)return t.map(l=>{const c=Qxe.read(l.type),p=Yxe[c];p||(ce.getLogger(this).warn(`Unknown variable type: ${c}`),n?.messages&&n.messages.push(new Os("visual-variable:unsupported",`visualVariable of type '${c}' is not supported`,{definition:l,context:n})));const h=new p;return h.read(l,n),h})}writeVariables(t,r){const n=[];for(const i of t){const o=i.toJSON(r);o&&n.push(o)}return n}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};u([d()],Tx.prototype,"visualVariables",null),Tx=u([I("esri.renderers.visualVariables.VisualVariableFactory")],Tx);const eSe={base:Sn,key:"type",typeMap:{opacity:sl,color:yu,rotation:mu,size:Ke}},Ly=e=>{let t=class extends e{constructor(){super(...arguments),this._vvFactory=new Tx}set visualVariables(r){this._vvFactory.visualVariables=r,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(r,n,i){return this._vvFactory.readVariables(r,n,i)}writeVisualVariables(r,n,i,o){n[i]=this._vvFactory.writeVariables(r,o)}get arcadeRequiredForVisualVariables(){return this.visualVariables?.some(({arcadeRequired:r})=>r)??!1}hasVisualVariables(r,n){return r?this.getVisualVariablesForType(r,n).length>0:this.getVisualVariablesForType("size",n).length>0||this.getVisualVariablesForType("color",n).length>0||this.getVisualVariablesForType("opacity",n).length>0||this.getVisualVariablesForType("rotation",n).length>0}getVisualVariablesForType(r,n){return this.visualVariables?.filter(i=>i.type===r&&(typeof n=="string"?i.target===n:n!==!1||!i.target))??[]}async collectVVRequiredFields(r,n){let i=[];this.visualVariables&&(i=i.concat(this.visualVariables));for(const o of i)o&&(o.field&&qi(r,n,o.field),o.normalizationField&&qi(r,n,o.normalizationField),o.valueExpression&&(tSe(o.valueExpression,r,n)||await Is(r,n,o.valueExpression)))}};return u([d({types:[eSe],value:null,json:{write:!0}})],t.prototype,"visualVariables",null),u([X("visualVariables",["visualVariables","rotationType","rotationExpression"])],t.prototype,"readVisualVariables",null),u([re("visualVariables")],t.prototype,"writeVisualVariables",null),t=u([I("esri.renderers.mixins.VisualVariablesMixin")],t),t};function tSe(e,t,r){const n=wve(e);return n!=null&&(qi(t,r,n),!0)}const Hk=[252,146,31,255],rSe=[153,153,153,255],nSe={type:"esriSMS",style:"esriSMSCircle",size:6,color:Hk,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},iSe={type:"esriSLS",style:"esriSLSSolid",width:.75,color:Hk},oSe={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},sSe={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},aSe={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},lSe={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},uSe={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null},c3=Rr.fromJSON(nSe),DY=pr.fromJSON(iSe),cSe=Ri.fromJSON(oSe),dSe=at.fromJSON(sSe);Rr.fromJSON(aSe);pr.fromJSON(lSe);Ri.fromJSON(uSe);qn.fromSimpleMarkerSymbol(c3);hs.fromSimpleLineSymbol(DY);wo.fromSimpleFillSymbol(cSe);new fl({symbolLayers:new Te([new Bn({material:{color:Hk},edges:new NK({size:jo(1),color:new ke(rSe)})})])});const pSe=new hs({symbolLayers:new Te([new zn({material:{color:new ke([0,0,0])},size:jo(1)})])}),fSe=new wo({symbolLayers:new Te([new Bn({outline:{color:new ke([0,0,0]),size:jo(1)}})])}),p6="#useCIMFallbackSymbology()",Mp={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function hSe(e,t=Mp){if(!e)return{symbol:null};const{retainId:r=Mp.retainId,ignoreDrivers:n=Mp.ignoreDrivers,hasLabelingContext:i=Mp.hasLabelingContext,retainCIM:o=Mp.retainCIM,cimFallbackEnabled:s=Mp.cimFallbackEnabled}=t;let a=null;if(QK(e)||e instanceof Jr)a=e.clone();else if(e.type==="cim"){const l=e.data?.symbol?.type;switch(l){case"CIMPointSymbol":a=o?e.clone():qn.fromCIMSymbol(e);break;case"CIMLineSymbol":s&&(a=pSe.clone(),t?.logWarning?.(p6,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":s&&(a=fSe.clone(),t?.logWarning?.(p6,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!a)return{error:new Z("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${l||"unknown"}' is unsupported in 3D`,{symbol:e})}}else if(e instanceof pr)a=hs.fromSimpleLineSymbol(e);else if(e instanceof Rr)a=qn.fromSimpleMarkerSymbol(e);else if(e instanceof Fn)a=qn.fromPictureMarkerSymbol(e);else if(e instanceof Ri)a=t.geometryType&&t.geometryType==="mesh"?fl.fromSimpleFillSymbol(e):wo.fromSimpleFillSymbol(e);else{if(!(e instanceof at))return{error:new Z("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};a=i?es.fromTextSymbol(e):qn.fromTextSymbol(e)}return r&&a&&a.type!=="cim"&&(a.id=e.id),!n||a.type==="cim"||a instanceof Jr||a.symbolLayers.forEach(l=>l.ignoreDrivers=!0),{symbol:a}}function XS(e,t,r,n){const i=FY(e,{},{context:n,isLabelSymbol:!1});i!=null&&nr(r,i,t)}function f6(e,t,r,n){const i=FY(e,{},{context:n,isLabelSymbol:!0});i!=null&&(t[r]=i)}function h6(e){return QK(e)||e instanceof Jr}function ySe(e){return e?.type==="polygon-3d"||e?.type==="line-3d"}function FY(e,t,r){if(e==null)return null;const{context:n,isLabelSymbol:i}=r,o=n?.origin,s=n?.messages;if(o==="web-scene"&&!h6(e)){const a=hSe(e,{retainCIM:!0,hasLabelingContext:i});return a.symbol!=null?a.symbol.write(t,n):(s?.push(new Z("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:n,error:a.error})),null)}return vI(n?.layer)&&ySe(e)?(s?.push(new Z("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported on layers of type '${n?.layer?.declaredClass}'.`,{symbol:e,context:n})),null):(o==="web-map"||o==="portal-item"&&!vI(n?.layer))&&h6(e)?(s?.push(new Z("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:n})),null):e.write(t,n)}function mQe(e,t){return abe(e,null,t)}const h$={types:XK,json:{write:{writer:XS},origins:{"web-scene":{types:dF,write:{writer:XS},read:{reader:Oy({types:dF})}}}}},Jk=fC({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},h$),Zk={types:{base:rr,key:"type",typeMap:{"simple-fill":Cu.typeMap["simple-fill"],"picture-fill":Cu.typeMap["picture-fill"],"polygon-3d":Cu.typeMap["polygon-3d"],cim:Cu.typeMap.cim}},json:{write:{writer:XS},origins:{"web-scene":{type:wo,write:{writer:XS}}}}},Ox={cast:e=>e==null||typeof e=="string"||typeof e=="number"?e:`${e}`,json:{type:String,write:{writer:(e,t)=>{t.value=e?.toString()}}}};var d3;let Gn=d3=class extends Ly(Ui){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.symbols.map(r=>r.collectRequiredFields(e,t)))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}get symbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables?.reduce((e,t)=>e+t.getAttributeHash(),"")??""}getMeshHash(){return this.symbols.reduce((e,t)=>e+JSON.stringify(t),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new d3({description:this.description,label:this.label,symbol:D(this.symbol),visualVariables:D(this.visualVariables),authoringInfo:D(this.authoringInfo)})}};u([d({type:String,json:{write:!0}})],Gn.prototype,"description",void 0),u([d({type:String,json:{write:!0}})],Gn.prototype,"label",void 0),u([d(Jk)],Gn.prototype,"symbol",void 0),u([ye({simple:"simple"})],Gn.prototype,"type",void 0),Gn=d3=u([I("esri.renderers.SimpleRenderer")],Gn);const mSe=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function p3(e){return e instanceof dt}function y6(e){return e instanceof Te?Object.keys(e.items):p3(e)?Yn(e).keys():e?Object.keys(e):[]}function Lb(e,t){return e instanceof Te?e.items[t]:e[t]}function gSe(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}function og(e){return e?e.declaredClass:null}function UY(e,t){const r=e.diff;if(r&&typeof r=="function")return r(e,t);const n=y6(e),i=y6(t);if(n.length===0&&i.length===0)return;if(!n.length||!i.length||gSe(e,t))return{type:"complete",oldValue:e,newValue:t};const o=i.filter(h=>!n.includes(h)),s=n.filter(h=>!i.includes(h)),a=n.filter(h=>i.includes(h)&&Lb(e,h)!==Lb(t,h)).concat(o,s).sort(),l=og(e);if(l&&mSe.has(l)&&a.length)return{type:"complete",oldValue:e,newValue:t};let c;const p=p3(e)&&p3(t);for(const h of a){const y=Lb(e,h),m=Lb(t,h);let g;if((p||typeof y!="function"&&typeof m!="function")&&y!==m&&(y!=null||m!=null)){if(r&&r[h]&&typeof r[h]=="function")g=r[h]?.(y,m);else if(y instanceof Date&&m instanceof Date){if(y.getTime()===m.getTime())continue;g={type:"complete",oldValue:y,newValue:m}}else g=typeof y=="object"&&typeof m=="object"&&og(y)===og(m)?UY(y,m):{type:"complete",oldValue:y,newValue:m};g!=null&&(c!=null?c.diff[h]=g:c={type:"partial",diff:{[h]:g}})}}return c}function gQe(e,t){return vSe(e,t)}function vSe(e,t){if(e==null)return!1;const r=t.split(".");let n=e;for(const i of r){if(n.type==="complete")return!0;if(n.type!=="partial")return!1;{const o=n.diff[i];if(!o)return!1;n=o}}return!0}function vQe(e,t){if(!e)return!1;if(e.type==="partial"){const r=Object.keys(e.diff);return r.length===1&&r[0]===t}return!1}function bSe(e,t){if(typeof e!="function"&&typeof t!="function"&&(e!=null||t!=null))return e==null||t==null||typeof e=="object"&&typeof t=="object"&&og(e)!==og(t)?{type:"complete",oldValue:e,newValue:t}:UY(e,t)}var f3;const wSe=Or()({ascendingValues:"ascending-values",descendingValues:"descending-values"});let w0=f3=class extends Se.ClonableMixin(z){static from(e){return L_(f3,e)}constructor(e){super(e),this.title=null,this.order=null}};u([d({type:String,json:{write:!0}})],w0.prototype,"title",void 0),u([ye(wSe)],w0.prototype,"order",void 0),w0=f3=u([I("esri.renderers.support.RendererLegendOptions")],w0);const Kk=w0;let cs=class extends Se.ClonableMixin(z){constructor(t){super(t),this.value=null,this.value2=null,this.value3=null}};u([d(Ox)],cs.prototype,"value",void 0),u([d(Ox)],cs.prototype,"value2",void 0),u([d(Ox)],cs.prototype,"value3",void 0),cs=u([I("esri.renderers.support.UniqueValue")],cs);let Ya=class extends Se.ClonableMixin(z){constructor(t){super(t),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(t){if(t==null)return null;const r=typeof(t=Array.isArray(t)?t:[t])[0];return r==="string"||r==="number"?t.map(n=>new cs({value:n})):r==="object"?t[0]instanceof cs?t:t.map(n=>new cs(n)):null}};u([d({type:String,json:{write:!0}})],Ya.prototype,"description",void 0),u([d({type:String,json:{write:!0}})],Ya.prototype,"label",void 0),u([d(h$)],Ya.prototype,"symbol",void 0),u([d({type:[cs],json:{type:[[String]],read:{reader:e=>e?e.map(t=>new cs({value:t[0],value2:t[1],value3:t[2]})):null},write:{writer:(e,t)=>{const r=[];for(const n of e){const i=[n.value,n.value2,n.value3].filter(y1).map(o=>o.toString());r.push(i)}t.values=r}}}})],Ya.prototype,"values",void 0),u([pt("values")],Ya.prototype,"castValues",null),Ya=u([I("esri.renderers.support.UniqueValueClass")],Ya);let Od=class extends Se.ClonableMixin(z){constructor(t){super(t),this.heading=null,this.classes=null}};u([d({type:String,json:{write:!0}})],Od.prototype,"heading",void 0),u([d({type:[Ya],json:{write:{isRequired:!0}}})],Od.prototype,"classes",void 0),Od=u([I("esri.renderers.support.UniqueValueGroup")],Od);var h3;let us=h3=class extends z{constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new h3({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol?.toJSON());return`${this.value}.${e}`}};u([d({type:String,json:{write:!0}})],us.prototype,"description",void 0),u([d({type:String,json:{write:!0}})],us.prototype,"label",void 0),u([d(Jk)],us.prototype,"symbol",void 0),u([d(Ox)],us.prototype,"value",void 0),us=h3=u([I("esri.renderers.support.UniqueValueInfo")],us);const m6=new Map;async function xSe(e,t){try{return{data:(await TSe(e,t)).data,baseUrl:Jae(e),styleUrl:e}}catch(r){return ea(r),null}}function SSe(e,t,r){const n=t.portal!=null?t.portal:te.getDefault();let i;const o=`${n.url} - ${n.user?.username} - ${e}`,s=m6.get(o);if(s)return s;const a=_Se(e,n,r).then(l=>(i=l,l.fetchData())).then(l=>({data:l,baseUrl:i.itemUrl??"",styleName:e}));return m6.set(o,a),a}function _Se(e,t,r){return t.load(r).then(()=>{const n=new Yt({disableExtraQuery:!0,query:`owner:${g6} AND type:${v6} AND typekeywords:"${e}"`});return t.queryItems(n,r)}).then(({results:n})=>{let i=null;const o=e.toLowerCase();if(n&&Array.isArray(n)){for(const s of n)if(s.typeKeywords?.some(l=>l.toLowerCase()===o)&&s.type===v6&&s.owner===g6){i=s;break}}if(!i)throw new Z("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return i.load(r)})}function $Se(e,t,r){return e?.styleUrl!=null?xSe(e.styleUrl,r):e?.styleName!=null?SSe(e.styleName,t,r):Promise.reject(new Z("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function SQe(e){return e===null||e.type==="CIMSymbolReference"?e:{type:"CIMSymbolReference",symbol:e}}function _Qe(e,t){for(const r of t)switch(r){case"cim":if(e.cimRef)return{format:r,url:encodeURI(e.cimRef)};break;case"web-gltf-basisu":{const n=DO(e,"gltf_basisu");if(n)return{format:r,url:n};break}case"web-gltf":{const n=DO(e,"gltf");if(n)return{format:r,url:n};break}case"web":{const n=DO(e,"gltf");if(n)return{format:"web-gltf",url:n};if(e.webRef)return{format:r,url:encodeURI(e.webRef)};break}}}function DO(e,t){if(!q("enable-feature:force-wosr"))return e.formatInfos?.find(r=>r.type===t)?.href}function TSe(e,t){const r={responseType:"json",query:{f:"json"},...t};return tt(vs(e),r)}const g6="esri_en",v6="Style",$Qe="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json";var x0;const b6="uvInfos-watcher",w6="uvGroups-watcher",OSe=",",ESe=mr(us);function jSe(e){const{field1:t,field2:r,field3:n,fieldDelimiter:i,uniqueValueInfos:o,valueExpression:s}=e,a=!(!t||!r);return[{classes:(o??[]).map(l=>{const{symbol:c,label:p,value:h,description:y}=l,[m,g,b]=a?h?.toString()?.split(i||"")||[]:[h],w=[];return(t||s)&&w.push(m),r&&w.push(g),n&&w.push(b),{symbol:c,label:p,values:[w],description:y}})}]}function Cp(e){return e!=null&&e!==""&&(typeof e!="string"||e.trim()!==""&&e.toLowerCase()!=="<null>")||(e=null),e+""}let wt=x0=class extends Ly(Ui){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type="unique-value",this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(t,r){if(!t&&!r)return;if(!t||!r)return{type:"complete",oldValue:t,newValue:r};let n=!1;const i={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let o=0;o<r.length;o++){const s=t.find(a=>a.value===r[o].value);s?bSe(s,r[o])?(i.changed.push({type:"complete",oldValue:s,newValue:r[o]}),n=!0):i.unchanged.push({oldValue:s,newValue:r[o]}):(i.added.push(r[o]),n=!0)}for(let o=0;o<t.length;o++)r.find(s=>s.value===t[o].value)||(i.removed.push(t[o]),n=!0);return n?i:void 0}},this._set("uniqueValueInfos",[]),this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(e){this._set("field",e),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(e){return e==null||typeof e=="function"?e:b1(e)}writeField(e,t,r,n){typeof e=="string"?t[r]=e:n?.messages?n.messages.push(new Z("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):ce.getLogger(this).error(".field: cannot write field to JSON since it's not a string value")}set field2(e){this._set("field2",e),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(e){this._set("field3",e),this._updateUniqueValues()}set valueExpression(e){this._set("valueExpression",e),this._updateUniqueValues()}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}set fieldDelimiter(e){this._set("fieldDelimiter",e),this._updateUniqueValues()}readPortal(e,t,r){return r.portal||te.getDefault()}readStyleOrigin(e,t,r){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){const n=mp(t.styleUrl,r);return Object.freeze({styleUrl:n})}}writeStyleOrigin(e,t,r,n){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=Zd(e.styleUrl,n))}set uniqueValueGroups(e){this.styleOrigin?ce.getLogger(this).error("#uniqueValueGroups=","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",e),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(e){this.styleOrigin?ce.getLogger(this).error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(e,t){if(this.styleOrigin)return void ce.getLogger(this).error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let r;r=typeof e=="object"?ESe(e):new us({value:e,symbol:eY(t)}),this.uniqueValueInfos?.push(r),this._valueInfoMap[Cp(r.value)]=r,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(e){if(this.styleOrigin)return void ce.getLogger(this).error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");const t=this.uniqueValueInfos;if(t)for(let r=0;r<t.length;r++){const n=t[r];if(String(n.value)===String(e)){delete this._valueInfoMap[Cp(e)],t.splice(r,1);break}}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}async getUniqueValueInfo(e,t){let r=t;return this.valueExpression&&t?.arcade==null&&(r={...r,arcade:await op()}),this._getUniqueValueInfo(e,r)}getSymbol(e,t){return this.valueExpression&&t?.arcade==null?void ce.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used"):this._getUniqueValueInfo(e,t)?.symbol||this.defaultSymbol}async getSymbolAsync(e,t){let r=t;if(this.valueExpression&&r?.arcade==null){const i=await op(),{arcadeUtils:o}=i;o.hasGeometryOperations(this.valueExpression)&&await o.enableGeometryOperations(),r={...r,arcade:i}}return this._getUniqueValueInfo(e,r)?.symbol||this.defaultSymbol}get symbols(){const e=[];for(const t of this.uniqueValueInfos??[])t.symbol&&e.push(t.symbol);return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables?.reduce((e,t)=>e+t.getAttributeHash(),"")??""}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),r=this.uniqueValueInfos?.reduce((n,i)=>n+i.getMeshHash(),"");return`${e}.${t}.${r}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const e=new x0({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:D(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:D(this.visualVariables),legendOptions:D(this.legendOptions),authoringInfo:D(this.authoringInfo),backgroundFillSymbol:D(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);const t=D(this.uniqueValueInfos),r=D(this.uniqueValueGroups);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze(D(this.styleOrigin))),Object.freeze(t),Object.freeze(r)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e._set("uniqueValueGroups",r),e._isInfosSource=this._isInfosSource,e._watchUniqueValueInfosAndGroups(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){const r=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(r)}async collectSymbolFields(e,t){const r=[...this.symbols.map(n=>n.collectRequiredFields(e,t)),Is(e,t,this.valueExpression)];qi(e,t,this.field),qi(e,t,this.field2),qi(e,t,this.field3),await Promise.all(r)}populateFromStyle(){return $Se(this.styleOrigin,{portal:this.portal}).then(e=>{const t=[];return this._valueInfoMap={},e?.data&&Array.isArray(e.data.items)&&e.data.items.forEach(r=>{const n=new Jr({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:r.name});this.defaultSymbol||r.name!==e.data.defaultItem||(this.defaultSymbol=n,this._isDefaultSymbolDerived=!0);const i=new us({value:r.name,symbol:n});t.push(i),this._valueInfoMap[Cp(r.name)]=i}),this._set("uniqueValueInfos",Object.freeze(t)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&this.uniqueValueInfos?.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",OSe)}_updateUniqueValues(){this._isInfosSource!=null&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const{uniqueValueInfos:e}=this;if(e)for(const t of e)this._valueInfoMap[Cp(t.value)]=t}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles(b6);const{uniqueValueInfos:e}=this;if(e){const t=[];for(const r of e)t.push(ah(()=>({symbol:r.symbol,value:r.value,label:r.label,description:r.description}),(n,i)=>{n!==i&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(t,b6)}}_watchUniqueValueGroups(){this.removeHandles(w6);const{uniqueValueGroups:e}=this;if(e){const t=[];for(const r of e){t.push(ah(()=>({classes:r.classes}),(n,i)=>{n!==i&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const n of r.classes??[])t.push(ah(()=>({symbol:n.symbol,values:n.values,label:n.label,description:n.description}),(i,o)=>{i!==o&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(t,w6)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set("uniqueValueInfos",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const e=[],{field:t,field2:r,field3:n,fieldDelimiter:i,uniqueValueGroups:o,valueExpression:s}=this;if(!t&&!s)return this._set("uniqueValueInfos",e),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const a=!(!t||!r);for(const l of o)for(const c of l.classes??[]){const{symbol:p,label:h,values:y,description:m}=c;for(const g of y??[]){const{value:b,value2:w,value3:x}=g,_=[b];r&&_.push(w),n&&_.push(x);const S=a?_.join(i||""):_[0]??void 0;e.push(new us({symbol:p,label:h,value:S,description:m}))}}this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(e=!1){if(!this.uniqueValueInfos)return this._set("uniqueValueGroups",null),void this._watchUniqueValueGroups();const{field:t,field2:r,valueExpression:n,fieldDelimiter:i,uniqueValueInfos:o}=this;if(!t&&!n||!o.length)return this._set("uniqueValueGroups",[]),void this._watchUniqueValueGroups();const s=!(!t||!r),a=o.map(c=>{const{symbol:p,label:h,value:y,description:m}=c,[g,b,w]=s?y?.toString()?.split(i||"")||[]:[y];return new Ya({symbol:p,label:h,description:m,values:[new cs({value:g,value2:b,value3:w})]})}),l=[new Od({classes:a})];e&&Object.freeze(l),this._set("uniqueValueGroups",l),this._watchUniqueValueGroups()}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){const{viewingMode:r,scale:n,spatialReference:i,arcade:o,timeZone:s}=t??{};let a=this._cache.compiledFunc;const l=o.arcadeUtils;if(!a){const p=l.createSyntaxTree(this.valueExpression);a=l.createFunction(p),this._cache.compiledFunc=a}const c=l.executeFunction(a,l.createExecContext(e,l.getViewInfo({viewingMode:r,scale:n,spatialReference:i}),s));return this._valueInfoMap[Cp(c)]}_getUnqiueValueInfoForFields(e){const t=this.field,r=e.attributes;let n;if(this.field2){const i=this.field2,o=this.field3,s=[];t&&s.push(r[t]),i&&s.push(r[i]),o&&s.push(r[o]),n=s.join(this.fieldDelimiter||"")}else t&&(n=r[t]);return this._valueInfoMap[Cp(n)]}static fromPortalStyle(e,t){const r=new x0(t?.properties);r._set("styleOrigin",Object.freeze({styleName:e})),r._set("portal",t?.portal||te.getDefault());const n=r.populateFromStyle();return n.catch(i=>{ce.getLogger(this.prototype).error(`#fromPortalStyle('${e}'[, ...])`,"Failed to create unique value renderer from style name",i)}),n}static fromStyleUrl(e,t){const r=new x0(t?.properties);r._set("styleOrigin",Object.freeze({styleUrl:e}));const n=r.populateFromStyle();return n.catch(i=>{ce.getLogger(this.prototype).error(`#fromStyleUrl('${e}'[, ...])`,"Failed to create unique value renderer from style URL",i)}),n}};u([d({readOnly:!0})],wt.prototype,"_cache",null),u([ye({uniqueValue:"unique-value"})],wt.prototype,"type",void 0),u([d(Zk)],wt.prototype,"backgroundFillSymbol",void 0),u([d({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],wt.prototype,"field",null),u([pt("field")],wt.prototype,"castField",null),u([re("field")],wt.prototype,"writeField",null),u([d({type:String,value:null,json:{write:!0}})],wt.prototype,"field2",null),u([d({type:String,value:null,json:{write:!0}})],wt.prototype,"field3",null),u([d({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],wt.prototype,"orderByClassesEnabled",void 0),u([d({type:String,value:null,json:{write:!0}})],wt.prototype,"valueExpression",null),u([d({type:String,json:{write:!0}})],wt.prototype,"valueExpressionTitle",void 0),u([d({type:Kk,json:{write:!0}})],wt.prototype,"legendOptions",void 0),u([d({type:String,json:{write:!0}})],wt.prototype,"defaultLabel",void 0),u([d(fC({...h$},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],wt.prototype,"defaultSymbol",null),u([d({type:String,value:null,json:{write:!0}})],wt.prototype,"fieldDelimiter",null),u([d({type:te,readOnly:!0})],wt.prototype,"portal",void 0),u([X("portal",["styleName"])],wt.prototype,"readPortal",null),u([d({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],wt.prototype,"styleOrigin",void 0),u([X("styleOrigin",["styleName","styleUrl"])],wt.prototype,"readStyleOrigin",null),u([re("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],wt.prototype,"writeStyleOrigin",null),u([d({type:[Od],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(e,t,r)=>(t.uniqueValueGroups||jSe(t)).map(n=>Od.fromJSON(n,r))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],wt.prototype,"uniqueValueGroups",null),u([d({type:[us],json:{read:!1,write:{isRequired:!0,overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0,isRequired:!0}}}}})],wt.prototype,"uniqueValueInfos",null),wt=x0=u([I("esri.renderers.UniqueValueRenderer")],wt);var y3,e1;let Pr=(e1=class extends z{constructor(t){super(t),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.orderByFields=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(t,r){r.resultOffset=this.start,r.resultRecordCount=this.num||10}clone(){return new y3(D({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}},y3=e1,e1);u([d({type:[String],json:{write:!0}})],Pr.prototype,"attachmentTypes",void 0),u([d({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],Pr.prototype,"attachmentsWhere",void 0),u([d({type:Boolean,json:{write:!0}})],Pr.prototype,"cacheHint",void 0),u([d({type:[String],json:{write:!0}})],Pr.prototype,"keywords",void 0),u([d({type:[String],json:{write:!0}})],Pr.prototype,"globalIds",void 0),u([d({json:{write:!0}})],Pr.prototype,"name",void 0),u([d({type:Number,json:{read:{source:"resultRecordCount"}}})],Pr.prototype,"num",void 0),u([d({type:[Number],json:{write:!0}})],Pr.prototype,"objectIds",void 0),u([d({type:[String],json:{write:!0}})],Pr.prototype,"orderByFields",void 0),u([d({type:Boolean,json:{default:!1,write:!0}})],Pr.prototype,"returnMetadata",void 0),u([d({type:[Number],json:{write:!0}})],Pr.prototype,"size",void 0),u([d({type:Number,json:{read:{source:"resultOffset"}}})],Pr.prototype,"start",void 0),u([re("start"),re("num")],Pr.prototype,"writeStart",null),u([d({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Pr.prototype,"where",void 0),Pr=y3=u([I("esri.rest.support.AttachmentQuery")],Pr),Pr.from=mr(Pr);const zY=Or()({naturalLog:"natural-log",squareRoot:"square-root",percentOfTotal:"percent-of-total",log:"log",field:"field"}),x6="percent-of-total",S6="field",TQe=e=>{let t=class extends e{constructor(){super(...arguments),this.normalizationField=null,this.normalizationMaxValue=null,this.normalizationMinValue=null,this.normalizationTotal=null}get normalizationType(){let r=this._get("normalizationType");const n=!!this.normalizationField,i=this.normalizationTotal!=null;return n||i?(r=n&&S6||i&&x6||null,n&&i&&ce.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):r!==S6&&r!==x6||(r=null),r}set normalizationType(r){this._set("normalizationType",r)}};return u([d({type:String,json:{name:"parameters.normalizationField",write:!0}})],t.prototype,"normalizationField",void 0),u([d({type:Number,json:{name:"parameters.normalizationMaxValue",write:!0}})],t.prototype,"normalizationMaxValue",void 0),u([d({type:Number,json:{name:"parameters.normalizationMinValue",write:!0}})],t.prototype,"normalizationMinValue",void 0),u([d({type:Number,json:{name:"parameters.normalizationTotal",write:!0}})],t.prototype,"normalizationTotal",void 0),u([ye(zY,{name:"parameters.normalizationType"})],t.prototype,"normalizationType",null),t=u([I("esri.rest.support.NormalizationBinParametersMixin")],t),t};var m3,t1;let Tt=(t1=class extends z{constructor(t){super(t),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(t,r){r.historicMoment=t&&t.getTime()}writeStart(t,r){r.resultOffset=this.start,r.resultRecordCount=this.num||10,this.start>0&&this.where==null&&(r.definitionExpression="1=1")}clone(){return new m3(D({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}},m3=t1,t1);u([d({type:Boolean,json:{write:!0}})],Tt.prototype,"cacheHint",void 0),u([d({type:rs,json:{write:!0}})],Tt.prototype,"dynamicDataSource",void 0),u([d({type:String,json:{write:!0}})],Tt.prototype,"gdbVersion",void 0),u([d({type:Number,json:{write:!0}})],Tt.prototype,"geometryPrecision",void 0),u([d({type:Date})],Tt.prototype,"historicMoment",void 0),u([re("historicMoment")],Tt.prototype,"_writeHistoricMoment",null),u([d({type:Number,json:{write:!0}})],Tt.prototype,"maxAllowableOffset",void 0),u([d({json:{write:!0}})],Tt.prototype,"objectIds",void 0),u([d({type:[String],json:{write:!0}})],Tt.prototype,"orderByFields",void 0),u([d({type:[String],json:{write:!0}})],Tt.prototype,"outFields",void 0),u([d({type:be,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Tt.prototype,"outSpatialReference",void 0),u([d({json:{write:!0}})],Tt.prototype,"relationshipId",void 0),u([d({type:Number,json:{read:{source:"resultOffset"}}})],Tt.prototype,"start",void 0),u([re("start"),re("num")],Tt.prototype,"writeStart",null),u([d({type:Number,json:{read:{source:"resultRecordCount"}}})],Tt.prototype,"num",void 0),u([d({json:{write:!0}})],Tt.prototype,"returnGeometry",void 0),u([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Tt.prototype,"returnM",void 0),u([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Tt.prototype,"returnZ",void 0),u([d({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Tt.prototype,"where",void 0),Tt=m3=u([I("esri.rest.support.RelationshipQuery")],Tt),Tt.from=mr(Tt);const OQe=Object.freeze(Object.defineProperty({__proto__:null,get default(){return Tt}},Symbol.toStringTag,{value:"Module"})),g3=new Pe({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});async function ISe(e,t,r,n){const i=await bc(e);if(await Yk(e,t,n),!i.addAttachment)throw new Z(n,"Layer source does not support addAttachment capability");return i.addAttachment(t,r)}function Yk(e,t,r){const{attributes:n}=t,{objectIdField:i}=e;return e.capabilities?.data?.supportsAttachment?t?n?i&&n[i]?Promise.resolve():Promise.reject(new Z(r,`feature is missing the identifying attribute ${i}`)):Promise.reject(new Z(r,"'attributes' are required on a feature to query attachments")):Promise.reject(new Z(r,"A feature is required to add/delete/update attachments")):Promise.reject(new Z(r,"this layer doesn't support attachments"))}async function ASe(e,t,r,n,i){const o=await bc(e);if(await Yk(e,t,i),!o.updateAttachment)throw new Z(i,"Layer source does not support updateAttachment capability");return o.updateAttachment(t,r,n)}async function PSe(e,t,r){const{applyEdits:n}=await ue(()=>import("./editingSupport-df46d8dc.js"),["assets/editingSupport-df46d8dc.js","assets/normalizeUtils-e6e5ded6.js","assets/normalizeUtilsCommon-3a54feae.js"]),i=await e.load();let o=r;return i.type==="feature"&&i.infoFor3D&&t.deleteFeatures!=null&&i.globalIdField!=null&&(o={...o,globalIdToObjectId:await QSe(i,t.deleteFeatures,i.globalIdField)}),n(i,i.source,t,r)}async function NSe(e,t,r){const{uploadAssets:n}=await ue(()=>import("./editingSupport-df46d8dc.js"),["assets/editingSupport-df46d8dc.js","assets/normalizeUtils-e6e5ded6.js","assets/normalizeUtilsCommon-3a54feae.js"]),i=await e.load();return n(i,i.source,t,r)}async function MSe(e,t,r,n){const i=await bc(e);if(await Yk(e,t,n),!i.deleteAttachments)throw new Z(n,"Layer source does not support deleteAttachments capability");return i.deleteAttachments(t,r)}async function CSe(e,t,r){const n=(await e.load({signal:t?.signal})).source;if(!n.fetchRecomputedExtents)throw new Z(r,"Layer source does not support fetchUpdates capability");return n.fetchRecomputedExtents(t)}async function kSe(e,t,r,n){t=Pr.from(t),await e.load();const i=e.source,o=e.capabilities;if(!o?.data?.supportsAttachment)throw new Z(n,"this layer doesn't support attachments");const{attachmentTypes:s,objectIds:a,globalIds:l,num:c,size:p,start:h,where:y}=t;if(!o?.operations?.supportsQueryAttachments&&(s?.length>0||l?.length>0||p?.length>0||c||h||y))throw new Z(n,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",t);if(!(a?.length||l?.length||y))throw new Z(n,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",t);if(!i.queryAttachments)throw new Z(n,"Layer source does not support queryAttachments capability",t);return!o?.attachment?.supportsOrderByFields&&t.orderByFields?.length&&((t=t.clone()).orderByFields=null),i.queryAttachments(t)}async function RSe(e,t,r,n){const i=await bc(e);if(!i.queryObjectIds)throw new Z(n,"Layer source does not support queryObjectIds capability");return i.queryObjectIds(xe.from(t)??e.createQuery(),r)}async function LSe(e,t,r,n){const i=await bc(e);if(!i.queryFeatureCount)throw new Z(n,"Layer source does not support queryFeatureCount capability");return i.queryFeatureCount(xe.from(t)??e.createQuery(),r)}async function DSe(e,t,r,n){const i=await bc(e);if(!i.queryExtent)throw new Z(n,"Layer source does not support queryExtent capability");return i.queryExtent(xe.from(t)??e.createQuery(),r)}async function FSe(e,t,r,n){const i=await bc(e);if(!i.queryRelatedFeatures)throw new Z(n,"Layer source does not support queryRelatedFeatures capability");return i.queryRelatedFeatures(Tt.from(t),r)}async function USe(e,t,r,n){const i=await bc(e);if(!i.queryRelatedFeaturesCount)throw new Z(n,"Layer source does not support queryRelatedFeaturesCount capability");return i.queryRelatedFeaturesCount(Tt.from(t),r)}async function zSe(e){const t=e.source;if(t?.refresh)try{const{dataChanged:r,updates:n}=await t.refresh();if(n!=null&&(e.sourceJSON={...e.sourceJSON,...n},e.read(n,{origin:"service",url:e.parsedUrl})),r)return!0}catch{}if(e.definitionExpression)try{return(await ive(e.definitionExpression,e.fieldsIndex)).hasDateFunctions}catch{}return!1}function BSe(e){const t=new xe;t.historicMoment=e.historicMoment,t.gdbVersion=e.gdbVersion,t.returnGeometry=!0,t.outFields=["*"],t.multipatchOption=e.geometryType==="multipatch"?"xyFootprint":null;const r=e.capabilities?.query;r&&(t.compactGeometryEnabled=r.supportsCompactGeometry,t.defaultSpatialReferenceEnabled=r.supportsDefaultSpatialReference);const n=e.capabilities?.data;n?.supportsZ&&e.returnZ!=null&&(t.returnZ=e.returnZ),n?.supportsM&&e.returnM!=null&&(t.returnM=e.returnM);const{timeOffset:i,timeExtent:o}=e;return t.timeExtent=i!=null&&o!=null?o.offset(-i.value,i.unit):o||null,t}function BY(e){const{globalIdField:t,fields:r}=e;if(t)return t;if(r){for(const n of r)if(n.type==="esriFieldTypeGlobalID")return n.name}}function VY(e){const{objectIdField:t,fields:r}=e;if(t)return t;if(r){for(const n of r)if(n.type==="esriFieldTypeOID")return n.name}}function VSe(e){return e.currentVersion?e.currentVersion:e.hasOwnProperty("capabilities")||e.hasOwnProperty("drawingInfo")||e.hasOwnProperty("hasAttachments")||e.hasOwnProperty("htmlPopupType")||e.hasOwnProperty("relationships")||e.hasOwnProperty("timeInfo")||e.hasOwnProperty("typeIdField")||e.hasOwnProperty("types")?10:9.3}function qSe(e,t,r,n){const i=r?.feature,o=!!e.subtypes?.length;if(o&&!r?.excludeImpliedDomains){const l=WSe(e,t);if(l)return l}const s=o&&GSe(e,i);if(s){const l=s?.domains?.[t];return l?.type==="inherited"?n:l}const a=GY(e.types,e.typeIdField,i);if(a){const l=a.domains&&a.domains[t];if(l&&l?.type!=="inherited")return l}if(n)return n;if(!r?.excludeImpliedDomains){const l=HSe(e,t);if(l)return l}return null}function GSe(e,t){const{subtypes:r,subtypeField:n}=e;if(!t?.attributes||!r?.length||!n)return null;const i=t.attributes[n];return i==null?null:r.find(o=>o.code===i)}function WSe(e,t){const{fieldsIndex:r,subtypeField:n}=e,{name:i,type:o}=r.get(t)??{};if(!i)return null;if((n&&r.get(n)?.name)===i&&e.subtypes?.length){const s=e.subtypes.map(a=>new $d({code:qY(a.code,o),name:a.name}));if(s?.length)return new Ru({codedValues:s})}return null}function HSe(e,t){const{fieldsIndex:r}=e,{name:n,type:i}=r.get(t)??{};if(!n)return null;if(("typeIdField"in e?r.get(e.typeIdField)?.name:null)===n&&"types"in e&&e.types?.length){const o=e.types.map(s=>new $d({code:qY(s.id,i),name:s.name}));return new Ru({codedValues:o})}return null}function qY(e,t){return t?_K({type:t})&&typeof e=="number"?`${e}`:Wve({type:t})&&typeof e=="string"?Number.parseInt(e,10):e:e}async function bc(e){return(await e.load()).source}async function JSe(e,t){if(!He||He.findCredential(e))return;let r;try{const n=await AJ(e,t);n&&(r=await He.checkSignInStatus(`${n}/sharing`))}catch{}if(r)try{const n=t!=null?t.signal:null;await He.getCredential(e,{signal:n})}catch{}}async function ZSe(e,t,r){const n=e.parsedUrl?.path;n&&e.authenticationTriggerEvent===t&&await JSe(n,r)}function _6(e){return!!e?.toLowerCase().includes("current_user")}function KSe(e){return!Ex(e)&&(e.userHasUpdateItemPrivileges||e.editingEnabled)}const FO=Oy({types:XK});function Qk(e,t){if(e.defaultSymbol)return e.types?.length?new wt({defaultSymbol:FO(e.defaultSymbol,e,t),field:e.typeIdField,uniqueValueInfos:e.types.map(r=>({id:r.id,symbol:FO(r.symbol,r,t)}))}):new Gn({symbol:FO(e.defaultSymbol,e,t)})}function YSe(e){let t=e.sourceJSON?.cacheMaxAge;if(!t)return!1;const r=e.editingInfo?.lastEditDate?.getTime();return r==null||(t*=1e3,Date.now()-r<t)}async function QSe(e,t,r){if(t==null)return null;const n=[],{objectIdField:i}=e;if(t.forEach(c=>{let p=null;if("attributes"in c){const{attributes:h}=c;p={globalId:h[r],objectId:h[i]!=null&&h[i]!==-1?h[i]:null}}else p={globalId:c.globalId,objectId:c.objectId!=null&&c.objectId!==-1?c.objectId:null};p.globalId!=null&&(p.objectId!=null&&p.objectId!==-1||n.push(p.globalId))}),n.length===0)return null;const o=e.createQuery();o.where=n.map(c=>`${r}='${c}'`).join(" OR "),o.returnGeometry=!1,o.outFields=[i,r],o.cacheHint=!1;const s=await Lce(IY(e,o));if(!s.ok)return null;const a=new Map,l=s.value.features;for(const c of l){const p=c.attributes[r],h=c.attributes[i];p!=null&&h!=null&&h!==-1&&a.set(tye(p),h)}return a}function GY(e,t,r){if(!t||!r||!e)return null;const n=r.getAttribute(t);return n==null?null:e.find(i=>{const{id:o}=i;return o!=null&&o.toString()===n.toString()})??null}function Ex(e){return e.sourceJSON?.isMultiServicesView||XSe(e)}function XSe(e){return!!e.sourceJSON?.capabilities?.toLowerCase().split(",").map(t=>t.trim()).includes("map")}function e2e(e,t,r){const n=t?.queryAttributeBins;if(!t?.operations?.supportsQueryBins||!n)throw new Z(r,"Layer source does not support binning");switch(e.binParameters.type){case"auto-interval":if(!n.supportsAutoInterval)throw new Z(r,"Layer source does not support auto-interval binning");if(e.binParameters.normalizationType&&(!n.supportsNormalization||!$6(e.binParameters.normalizationType,n.supportedNormalizationTypes)))throw new Z(r,"Layer source does not support normalization binning");break;case"date":if(!n.supportsDate)throw new Z(r,"Layer source does not support date binning");if(e.binParameters.snapToData&&!n.supportsSnapToData)throw new Z(r,"Layer source does not support snapToData binning");if(e.binParameters.returnFullIntervalBin&&!n.supportsReturnFullIntervalBin)throw new Z(r,"Layer source does not support returnFullIntervalBin binning");break;case"fixed-boundaries":if(!n.supportsFixedBoundaries)throw new Z(r,"Layer source does not support fixed-boundaries binning");break;case"fixed-interval":if(!n.supportsFixedInterval)throw new Z(r,"Layer source does not support fixed-interval binning");if(e.binParameters.normalizationType&&(!n.supportsNormalization||!$6(e.binParameters.normalizationType,n.supportedNormalizationTypes)))throw new Z(r,"Layer source does not support normalization binning")}if(e.binParameters.stackBy&&!n.supportsStackBy)throw new Z(r,"Layer source does not support stackBy binning");if(e.binParameters.splitBy&&!n.supportsSplitBy)throw new Z(r,"Layer source does not support splitBy binning");if(e.binParameters.firstDayOfWeek&&!n.supportsFirstDayOfWeek)throw new Z(r,"Layer source does not support firstDayOfWeek binning");const i=n?.supportedStatistics;if(e.outStatistics&&i){const o=new Map([["count","count"],["sum","sum"],["min","min"],["max","max"],["avg","avg"],["stddev","stddev"],["var","var"],["percentile-continuous","percentileContinuous"],["percentile-discrete","percentileDiscrete"],["centroid-aggregate","centroid"],["convex-hull-aggregate","convexHull"],["envelope-aggregate","envelope"]]);for(const{statisticType:s}of e.outStatistics){const a=o.get(s);if(a&&!i[a])throw new Z(r,`Layer source does not support ${s} statistic type`)}}}function $6(e,t){return e!=null&&!!t?.[zY.toJSON(e)]}let pf=class extends Se.ClonableMixin(z){constructor(t){super(t),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};u([d({type:String,json:{read:{source:"shapeAreaFieldName"}}})],pf.prototype,"shapeAreaField",void 0),u([d({type:String,json:{read:{source:"shapeLengthFieldName"}}})],pf.prototype,"shapeLengthField",void 0),u([d({type:String,json:{read:e=>gde.read(e)||vde.read(e)}})],pf.prototype,"units",void 0),pf=u([I("esri.layers.support.GeometryFieldsInfo")],pf);var v3;let ff=v3=class extends z{constructor(e){super(e),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new Te}clone(){return new v3({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};u([d({type:String,json:{write:{isRequired:!0}}})],ff.prototype,"floorField",void 0),u([d({json:{read:!1,write:!1}})],ff.prototype,"viewAllMode",void 0),u([d({json:{read:!1,write:!1}})],ff.prototype,"viewAllLevelIds",void 0),ff=v3=u([I("esri.layers.support.LayerFloorInfo")],ff);const T6=new Pe({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),O6=new Pe({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let ji=class extends Se.ClonableMixin(z){constructor(t){super(t),this.cardinality=null,this.catalogId=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};u([d({json:{read:T6.read,write:T6.write}})],ji.prototype,"cardinality",void 0),u([d({json:{name:"catalogID"}})],ji.prototype,"catalogId",void 0),u([d({json:{read:!0,write:!0}})],ji.prototype,"composite",void 0),u([d({json:{read:!0,write:!0}})],ji.prototype,"id",void 0),u([d({json:{read:!0,write:!0}})],ji.prototype,"keyField",void 0),u([d({json:{read:!0,write:!0}})],ji.prototype,"keyFieldInRelationshipTable",void 0),u([d({json:{read:!0,write:!0}})],ji.prototype,"name",void 0),u([d({json:{read:!0,write:!0}})],ji.prototype,"relatedTableId",void 0),u([d({json:{read:!0,write:!0}})],ji.prototype,"relationshipTableId",void 0),u([d({json:{read:O6.read,write:O6.write}})],ji.prototype,"role",void 0),ji=u([I("esri.layers.support.Relationship")],ji);const t2e=[["binary","application/octet-stream","bin",""]];function IQe(e,t){return ZY(t.name,e?.supportedFormats??[])!=null}function AQe(e,t){if(!e)return!1;const r=r2e(t,e.supportedFormats??[]);return r!=null&&e.editFormats.includes(r)}function WY(e,t){return eR(s2e(e,t))}function HY(e,t){return eR(ZY(e,t))}function PQe(e,t){return KY(o2e(e,t))}function r2e(e,t){return HY(e.name,t)??WY(e.type,t)}function y$(e,t,r){return WY(e,r)??HY(t,r)}function JY({supportedFormats:e}){return y$("model/gltf-binary","glb",e)}function NQe(e){const t=JY(e);return t!=null&&e.editFormats.includes(t)}function n2e({supportedFormats:e}){return y$("model/gltf+json","gltf",e)}function i2e(e){if(!e)return null;const t=JY(e),r=n2e(e);let n=null;for(const i of e.queryFormats){if(i===t)return i;i===r&&(n=i)}return n}function MQe({supportedFormats:e}){return y$("application/esri3do-SR_world","wld",e)}function CQe({supportedFormats:e}){return y$("application/esri3do-SR_prj","prj",e)}function Xk(e){return[...t2e,...e]}function o2e(e,t){return Xk(t).find(r=>eR(r)===e)}function s2e(e,t){const r=e.toLowerCase();return Xk(t).find(n=>KY(n)===r)}function ZY(e,t){const r=e.toLowerCase();return Xk(t).find(n=>a2e(n).some(i=>r.endsWith(i)))}function eR(e){return e?.[0]}function KY(e){return e?.[1].toLowerCase()}function a2e(e){return e?.[2].split(",").map(t=>t.toLowerCase())??[]}function kQe(e){return e.tables?.find(t=>t.role==="assetMaps")}function de(e,t,r){return!!YY(e,t,r)}function hf(e,t,r){return YY(e,t,r)}function YY(e,t,r){return e&&e.hasOwnProperty(t)?e[t]:r}const l2e={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function u2e(e){const t=e?.supportedSpatialAggregationStatistics?.map(r=>r.toLowerCase());return{envelope:!!t?.includes("envelopeaggregate"),centroid:!!t?.includes("centroidaggregate"),convexHull:!!t?.includes("convexhullaggregate")}}function N1(e,t){return!!e?.supportedOperationsWithCacheHint?.map(n=>n.toLowerCase())?.includes(t.toLowerCase())}function c2e(e){const t=e?.supportedStatisticTypes?.map(r=>r.toLowerCase());return{count:!!t?.includes("count"),sum:!!t?.includes("sum"),min:!!t?.includes("min"),max:!!t?.includes("max"),avg:!!t?.includes("avg"),var:!!t?.includes("var"),stddev:!!t?.includes("stddev"),percentileContinuous:!!t?.includes("percentile_cont"),percentileDiscrete:!!t?.includes("percentile_disc"),envelope:!!t?.includes("envelopeaggregate"),centroid:!!t?.includes("centroidaggregate"),convexHull:!!t?.includes("convexhullaggregate")}}function d2e(e){const t=e?.supportedNormalizationTypes?.map(r=>r.toLowerCase());return{field:!!t?.includes("field"),log:!!t?.includes("log"),naturalLog:!!t?.includes("naturallog"),percentOfTotal:!!t?.includes("percentoftotal"),squareRoot:!!t?.includes("squareroot")}}function QY(e,t){return{analytics:p2e(e),attachment:f2e(e),data:h2e(e),metadata:y2e(e),operations:m2e(e.capabilities,e,t),query:g2e(e,t),queryAttributeBins:w2e(e),queryRelated:v2e(e),queryTopFeatures:b2e(e),editing:x2e(e)}}function p2e(e){return{supportsCacheHint:N1(e.advancedQueryCapabilities,"queryAnalytics")}}function f2e(e){const t=e.attachmentProperties,r={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:N1(e.advancedQueryCapabilities,"queryAttachments"),supportsOrderByFields:de(e.advancedQueryCapabilities,"supportsQueryAttachmentOrderByFields",!1),supportsResize:de(e,"supportsAttachmentsResizing",!1)};return t&&Array.isArray(t)&&t.forEach(n=>{const i=l2e[n.name];i&&(r[i]=!!n.isEnabled)}),r}function h2e(e){return{isVersioned:de(e,"isDataVersioned",!1),isBranchVersioned:de(e,"isDataBranchVersioned",!1),supportsAttachment:de(e,"hasAttachments",!1),supportsM:de(e,"hasM",!1),supportsZ:de(e,"hasZ",!1)}}function y2e(e){return{supportsAdvancedFieldProperties:de(e,"supportsFieldDescriptionProperty",!1)}}function m2e(e,t,r){const n=e?.toLowerCase().split(",").map(y=>y.trim())??[],i=r?jl(r):null,o=n.includes(i?.serverType==="MapServer"?"data":"query"),s=n.includes("editing")&&!t.datesInUnknownTimezone&&t.uniqueIdInfo?.OIDFieldContainsHashValue!==!0;let a=s&&n.includes("create"),l=s&&n.includes("delete"),c=s&&n.includes("update");const p=n.includes("changetracking"),h=t.advancedQueryCapabilities;return s&&!(a||l||c)&&(a=l=c=!0),{supportsCalculate:de(t,"supportsCalculate",!1),supportsTruncate:de(t,"supportsTruncate",!1),supportsValidateSql:de(t,"supportsValidateSql",!1),supportsAdd:a,supportsDelete:l,supportsEditing:s,supportsChangeTracking:p,supportsQuery:o,supportsQueryAnalytics:de(h,"supportsQueryAnalytic",!1),supportsQueryAttachments:de(h,"supportsQueryAttachments",!1),supportsQueryBins:de(h,"supportsQueryBins",!1)||!!t.queryBinsCapabilities,supportsQueryTopFeatures:de(h,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:de(t,"supportsAttachmentsResizing",!1),supportsSync:n.includes("sync"),supportsUpdate:c,supportsExceedsLimitStatistics:de(t,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:de(t,"supportsAsyncConvert3D",!1)}}function g2e(e,t){const r=e.advancedQueryCapabilities,n=e.ownershipBasedAccessControlForFeatures,i=e.archivingInfo,o=e.currentVersion,s=t?.includes("MapServer"),a=!s||o>=q("mapserver-pbf-version-support"),l=yS(t),c=new Set((e.supportedQueryFormats??"").split(",").map(p=>p.toLowerCase().trim()));return{maxRecordCount:hf(e,"maxRecordCount",void 0),maxRecordCountFactor:hf(e,"maxRecordCountFactor",void 0),maxUniqueIDCount:hf(e,"maxUniqueIDCount",void 0),standardMaxRecordCount:hf(e,"standardMaxRecordCount",void 0),supportedSpatialAggregationStatistics:u2e(r),supportsCacheHint:de(r,"supportsQueryWithCacheHint",!1)||N1(r,"query"),supportsCentroid:de(r,"supportsReturningGeometryCentroid",!1),supportsCompactGeometry:l,supportsCurrentUser:de(r,"supportsCurrentUserQueries",!1),supportsDefaultSpatialReference:de(r,"supportsDefaultSR",!1),supportsDisjointSpatialRelationship:de(r,"supportsDisjointSpatialRel",!1),supportsDistance:de(r,"supportsQueryWithDistance",!1),supportsDistinct:de(r,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:de(r,"supportsReturningQueryExtent",!1),supportsFormatPBF:a&&c.has("pbf"),supportsFullTextSearch:de(r,"supportsFullTextSearch",!1),supportsGeometryProperties:de(r,"supportsReturningGeometryProperties",!1),supportsHavingClause:de(r,"supportsHavingClause",!1),supportsHistoricMoment:de(i,"supportsQueryWithHistoricMoment",!1),supportsMaxRecordCountFactor:de(r,"supportsMaxRecordCountFactor",!1),supportsOrderBy:de(r,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:de(r,"supportsPagination",!1),supportsPaginationOnAggregatedQueries:de(r,"supportsPaginationOnAggregatedQueries",!1),supportsPercentileStatistics:de(r,"supportsPercentileStatistics",!1),supportsQuantization:de(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:de(e,"supportsQuantizationEditMode",!1),supportsQueryByAnonymous:de(n,"allowAnonymousToQuery",!0),supportsQueryByOthers:de(n,"allowOthersToQuery",!0),supportsQueryGeometry:de(e,"supportsReturningQueryGeometry",!1),supportsResultType:de(r,"supportsQueryWithResultType",!1),supportsReturnMesh:!!i2e(e.infoFor3D),supportsSpatialAggregationStatistics:de(r,"supportsSpatialAggregationStatistics",!1),supportsSqlExpression:de(r,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:de(e,"useStandardizedQueries",!1),supportsStatistics:de(r,"supportsStatistics",e.supportsStatistics),supportsTopFeaturesQuery:de(r,"supportsTopFeaturesQuery",!1),supportsTrueCurve:de(r,"supportsTrueCurve",!1),tileMaxRecordCount:hf(e,"tileMaxRecordCount",void 0)}}function v2e(e){const t=e.advancedQueryCapabilities,r=de(t,"supportsAdvancedQueryRelated",!1);return{supportsPagination:de(t,"supportsQueryRelatedPagination",!1),supportsCount:r,supportsOrderBy:r,supportsCacheHint:N1(t,"queryRelated")}}function b2e(e){return{supportsCacheHint:N1(e.advancedQueryCapabilities,"queryTopFilter")}}function w2e(e){const t=e?e.queryBinsCapabilities:void 0;return{supportsDate:de(t,"supportsDateBin",!1),supportsFixedInterval:de(t,"supportsFixedIntervalBin",!1),supportsAutoInterval:de(t,"supportsAutoIntervalBin",!1),supportsFixedBoundaries:de(t,"supportsFixedBoundariesBin",!1),supportsStackBy:de(t,"supportsStackBy",!1),supportsSplitBy:de(t,"supportsSplitBy",!1),supportsSnapToData:de(t,"supportsSnapToData",!1),supportsReturnFullIntervalBin:de(t,"supportsReturnFullIntervalBin",!1),supportsFirstDayOfWeek:de(t,"supportsFirstDayOfWeek",!1),supportsNormalization:de(t,"supportsNormalization",!1),supportedStatistics:c2e(t),supportedNormalizationTypes:d2e(t)}}function x2e(e){const t=e.ownershipBasedAccessControlForFeatures,r=e?e.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:de(e,"allowGeometryUpdates",!0),supportsGlobalId:de(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:de(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:de(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:de(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:de(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:de(t,"allowAnonymousToDelete",!0),supportsDeleteByOthers:de(t,"allowOthersToDelete",!0),supportsUpdateByAnonymous:de(t,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:de(t,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:de(r,"supportsAsyncApplyEdits",!1),zDefault:hf(e,"zDefault",void 0)}}function RQe(e){return{operations:{supportsAppend:de(e,"supportsAppend",!1),supportsCoverageQuery:e?.playbackInfo?.klv["0601"]??!1,supportsExportClip:de(e,"supportsExportClip",!1),supportsExportFrameset:de(e,"supportsExportFrameset",!1),supportsMensuration:de(e,"supportsMensuration",!1),supportsPreviews:de(e,"supportsPreviews",!1),supportsUpdate:de(e,"supportsUpdate",!1)}}}let Fa=class extends Se.ClonableMixin(z){constructor(t){super(t),this.code=null,this.defaultValues={},this.domains=null,this.name=null}readDomains(t){if(!t)return null;const r={};for(const n of Object.keys(t))r[n]=c$(t[n]);return r}writeDomains(t,r){if(!t)return;const n={};for(const i of Object.keys(t))t[i]&&(n[i]=t[i]?.toJSON());r.domains=n}};u([d({type:Number,json:{write:!0}})],Fa.prototype,"code",void 0),u([d({type:Object,json:{write:!0}})],Fa.prototype,"defaultValues",void 0),u([d({json:{write:!0}})],Fa.prototype,"domains",void 0),u([X("domains")],Fa.prototype,"readDomains",null),u([re("domains")],Fa.prototype,"writeDomains",null),u([d({type:String,json:{write:!0}})],Fa.prototype,"name",void 0),Fa=u([I("esri.layers.support.Subtype")],Fa);const S2e=e=>{let t=class extends e{constructor(){super(...arguments),this.copyright=null,this.capabilities=null,this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.definitionExpression=null,this.displayField=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.fieldsIndex=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.globalIdField=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.indexes=new(Te.ofType(Ks)),this.isTable=!1,this.layerId=void 0,this.maxScale=0,this.minScale=0,this.objectIdField=null,this.preferredTimeZone=null,this.relationships=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.sourceJSON=null,this.spatialReference=be.WGS84,this.subtypeField=null,this.subtypes=null,this.trackIdField=null,this.uniqueIdFields=null,this.version=void 0,this._isUrlHostModified=!1,this._isUrlHostModificationEnabled=!1}getFieldDomain(){throw new Error("Not implemented")}getField(r){return this.fieldsIndex.get(r)}get authenticationTriggerEvent(){if(!this.url)return null;const{capabilities:r}=this;if(r){const{query:i,operations:o,editing:s}=r;if(!i.supportsQueryByOthers||!i.supportsQueryByAnonymous||o.supportsEditing&&!(s.supportsUpdateByOthers&&s.supportsUpdateByAnonymous&&s.supportsDeleteByOthers&&s.supportsDeleteByAnonymous))return"load"}if(_6(this.serviceDefinitionExpression)||_6(this.definitionExpression))return"load";if(this.userHasUpdateItemPrivileges){if(YSe(this))return"load";if(this.hasUpdateItemRestrictions)return r.operations.supportsQuery?"editing":"load"}if(this.userHasFullEditingPrivileges&&this.hasFullEditingRestrictions)return"editing";const n=this.editFieldsInfo;return(n?.creatorField||n?.editorField)&&r?.operations.supportsEditing?"editing":null}readCapabilitiesFromService(r,n){return QY(n,this.url)}readEditingInfo(r,n){const{editingInfo:i}=n;return i?{lastEditDate:i.lastEditDate!=null?new Date(i.lastEditDate):null}:null}get effectiveCapabilities(){const r=this.capabilities;if(!r)return null;const n=D(r),{operations:i,editing:o}=n;return Ex(this)?(this.userHasUpdateItemPrivileges&&(i.supportsQuery=!0),n):this.userHasUpdateItemPrivileges?(i.supportsAdd=i.supportsDelete=i.supportsEditing=i.supportsQuery=i.supportsUpdate=o.supportsDeleteByOthers=o.supportsGeometryUpdate=o.supportsUpdateByOthers=!0,n):(this.userHasFullEditingPrivileges&&i.supportsEditing&&(i.supportsAdd=i.supportsDelete=i.supportsUpdate=o.supportsGeometryUpdate=!0),n)}get effectiveEditingEnabled(){return!1}readGlobalIdFieldFromService(r,n){return BY(n)}get hasFullEditingRestrictions(){const r=this.capabilities;if(!r||Ex(this))return!1;const{operations:n,editing:i}=r;return n.supportsEditing&&!(n.supportsAdd&&n.supportsDelete&&n.supportsUpdate&&i.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){const r=this.capabilities;if(!r)return!1;const{operations:n,editing:i}=r;return Ex(this)?!n.supportsQuery:!(n.supportsAdd&&n.supportsDelete&&n.supportsEditing&&n.supportsQuery&&n.supportsUpdate&&i.supportsDeleteByOthers&&i.supportsGeometryUpdate&&i.supportsUpdateByOthers)}readIsTableFromService(r,n){return n.type==="Table"}readMaxScale(r,n){return n.effectiveMaxScale||r||0}readMinScale(r,n){return n.effectiveMinScale||r||0}readObjectIdFieldFromService(r,n){return VY(n)}readServiceDefinitionExpression(r,n){return n.definitionQuery||n.definitionExpression}readUniqueIdFields(r,n){return n.uniqueIdInfo?.OIDFieldContainsHashValue?n.uniqueIdInfo.fields:null}set url(r){if(r==null)return void this._set("url",r);const n=ble({layer:this,url:r,nonStandardUrlAllowed:!0,logger:ce.getLogger(this)});this._set("url",n.url),n.layerId!=null&&this._set("layerId",n.layerId)}writeUrl(r,n,i,o){wle(this,r,null,n,o)}readVersion(r,n){return VSe(n)}get isUrlHostModified(){const{loaded:r,url:n,_isUrlHostModified:i}=this;if(i)return!0;if(!r||!n||this.originIdOf("url")<Re.USER)return!1;const o=this.sourceJSON?.preferredHost;if(!o||!ua(n,`https://${o}`,!0))return!1;for(let s=Re.USER-1;s>=Re.PORTAL_ITEM;s--){const a=this.getAtOrigin("url",Rg(s));if(a)return!ua(n,a,!0)}return!1}applyPreferredHost(r){const{url:n,portalItem:i}=this;!n||bI(i)}applyHostFromPortalItem(){const{url:r,portalItem:n}=this;if(!r||this.originIdOf("url")===Re.USER||!n?.url||!bI(n)||!_k(n,$k.HOSTED_SERVICE)||ua(r,n.url,!0)||!this._isUrlHostModificationEnabled)return;const i=Xae(n.url);this._set("url",EG(r,i)),this._isUrlHostModified=!0}};return u([d({readOnly:!0})],t.prototype,"authenticationTriggerEvent",null),u([d({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],t.prototype,"copyright",void 0),u([d({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","isDataBranchVersioned","isDataVersioned","maxRecordCount","maxRecordCountFactor","maxUniqueIDCount","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],t.prototype,"capabilities",void 0),u([X("service","capabilities")],t.prototype,"readCapabilitiesFromService",null),u([d(zS("dateFieldsTimeReference"))],t.prototype,"dateFieldsTimeZone",void 0),u([d({type:Boolean})],t.prototype,"datesInUnknownTimezone",void 0),u([d({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],t.prototype,"definitionExpression",void 0),u([d({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],t.prototype,"displayField",void 0),u([d({readOnly:!0,type:Da})],t.prototype,"editFieldsInfo",void 0),u([d({readOnly:!0})],t.prototype,"editingInfo",void 0),u([X("editingInfo")],t.prototype,"readEditingInfo",null),u([d({readOnly:!0})],t.prototype,"effectiveCapabilities",null),u([d()],t.prototype,"effectiveEditingEnabled",null),u([d((()=>{const r=D(vxe),n=r.json.origins;return n["web-map"]={read:!1,write:!1},n["portal-item"]={read:!1,write:!1},r})())],t.prototype,"elevationInfo",void 0),u([d()],t.prototype,"fieldsIndex",void 0),u([d({type:ff,json:{name:"layerDefinition.floorInfo",write:{layerContainerTypes:bt}}})],t.prototype,"floorInfo",void 0),u([d({type:Ue,json:{origins:{service:{read:{source:"extent"}}}}})],t.prototype,"fullExtent",void 0),u([d()],t.prototype,"gdbVersion",void 0),u([d({readOnly:!0,type:pf,json:{read:{source:"geometryProperties"}}})],t.prototype,"geometryFieldsInfo",void 0),u([d({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:g3.read}}}})],t.prototype,"geometryType",void 0),u([d({type:String})],t.prototype,"globalIdField",void 0),u([X("service","globalIdField",["globalIdField","fields"])],t.prototype,"readGlobalIdFieldFromService",null),u([d({readOnly:!0})],t.prototype,"hasFullEditingRestrictions",null),u([d({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasM",void 0),u([d({readOnly:!0})],t.prototype,"hasUpdateItemRestrictions",null),u([d({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasZ",void 0),u([d({readOnly:!0,type:Jo})],t.prototype,"heightModelInfo",void 0),u([d({type:Date})],t.prototype,"historicMoment",void 0),u([d({type:Te.ofType(Ks),readOnly:!0})],t.prototype,"indexes",void 0),u([d({readOnly:!0})],t.prototype,"isTable",void 0),u([X("service","isTable",["type"])],t.prototype,"readIsTableFromService",null),u([d({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],t.prototype,"layerId",void 0),u([d(Sxe)],t.prototype,"maxScale",void 0),u([X("service","maxScale",["maxScale","effectiveMaxScale"])],t.prototype,"readMaxScale",null),u([d(xxe)],t.prototype,"minScale",void 0),u([X("service","minScale",["minScale","effectiveMinScale"])],t.prototype,"readMinScale",null),u([d({type:String})],t.prototype,"objectIdField",void 0),u([X("service","objectIdField",["objectIdField","fields"])],t.prototype,"readObjectIdFieldFromService",null),u([d(zS("preferredTimeReference"))],t.prototype,"preferredTimeZone",void 0),u([d({type:[ji],readOnly:!0})],t.prototype,"relationships",void 0),u([d({type:Boolean})],t.prototype,"returnM",void 0),u([d({type:Boolean})],t.prototype,"returnZ",void 0),u([d({readOnly:!0,json:{write:!1}})],t.prototype,"serverGens",void 0),u([d({readOnly:!0})],t.prototype,"serviceDefinitionExpression",void 0),u([X("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],t.prototype,"readServiceDefinitionExpression",null),u([d({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],t.prototype,"serviceItemId",void 0),u([d()],t.prototype,"sourceJSON",void 0),u([d({type:be,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],t.prototype,"spatialReference",void 0),u([d({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],t.prototype,"subtypeField",void 0),u([d({type:[Fa],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],t.prototype,"subtypes",void 0),u([d({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],t.prototype,"trackIdField",void 0),u([d({type:[String],readOnly:!0})],t.prototype,"uniqueIdFields",void 0),u([X("service","uniqueIdFields",["uniqueIdInfo.OIDFieldContainsHashValue","uniqueIdInfo.fields"])],t.prototype,"readUniqueIdFields",null),u([d(mxe)],t.prototype,"url",null),u([re("url")],t.prototype,"writeUrl",null),u([d({json:{origins:{service:{read:!0}},read:!1}})],t.prototype,"version",void 0),u([X("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],t.prototype,"readVersion",null),u([d({readOnly:!0})],t.prototype,"isUrlHostModified",null),t=u([I("esri.layers.mixins.FeatureLayerBase")],t),t};let Tu=class extends Se.ClonableMixin(z){constructor(t){super(t),this.expression=null,this.title=null,this.returnType=null}};u([d({type:String,json:{write:!0}})],Tu.prototype,"expression",void 0),u([d({type:String,json:{write:!0}})],Tu.prototype,"title",void 0),u([d({type:String,json:{write:!0}})],Tu.prototype,"returnType",void 0),Tu=u([I("esri.layers.support.ExpressionInfo")],Tu);var b3,r1;let jn=(r1=class extends z{constructor(t){super(t),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new b3({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:D(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}},b3=r1,r1);u([d({type:Boolean,json:{write:!0}})],jn.prototype,"isAutoGenerated",void 0),u([d({type:String,json:{write:!0}})],jn.prototype,"name",void 0),u([d({type:String,json:{write:!0}})],jn.prototype,"alias",void 0),u([d({type:String,json:{write:!0}})],jn.prototype,"onStatisticField",void 0),u([d({type:Tu,json:{write:!0}})],jn.prototype,"onStatisticExpression",void 0),u([d({type:String,json:{write:!0}})],jn.prototype,"statisticType",void 0),jn=b3=u([I("esri.layers.support.AggregateField")],jn);let Ku=class extends z{constructor(){super(...arguments),this.type=null}};u([d({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],Ku.prototype,"type",void 0),Ku=u([I("esri.layers.support.FeatureReduction")],Ku);const tR="__begin__",rR="__end__",_2e=new RegExp(tR,"ig"),$2e=new RegExp(rR,"ig"),E6=new RegExp("^"+tR,"i"),j6=new RegExp(rR+"$","i"),e2='"',T2e=e2+" + ",O2e=" + "+e2;function E2e(e){return e.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function j2e(e){return e.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function nR(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):e.labelExpression!=null&&(t.expression=E2e(e.labelExpression),t.type="conventional"),t}function I2e(e){const t=nR(e);if(!t)return null;switch(t.type){case"conventional":return w3(t.expression);case"arcade":return t.expression}return null}function A2e(e){const t=nR(e);if(!t)return null;switch(t.type){case"conventional":return N2e(t.expression);case"arcade":return XY(t.expression)}return null}function w3(e){let t;return e?(t=yp(e,r=>tR+'$feature["'+r+'"]'+rR),t=E6.test(t)?t.replace(E6,""):e2+t,t=j6.test(t)?t.replace(j6,""):t+e2,t=t.replaceAll(_2e,T2e).replaceAll($2e,O2e)):t='""',t}const P2e=/^\s*\{([^}]+)\}\s*$/i;function N2e(e){return e?.match(P2e)?.[1].trim()||null}const M2e=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,C2e=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,k2e=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function XY(e){if(!e)return null;let t=M2e.exec(e)||C2e.exec(e);return t?t[1]||t[3]:(t=k2e.exec(e),t?t[2]:null)}var x3,n1;let Qa=(n1=class extends z{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(t,r){return r.value?w3(r.value):t}writeExpression(t,r,n){this.value!=null&&(t=w3(this.value)),t!=null&&(r[n]=t)}clone(){return new x3({expression:this.expression,title:this.title,value:this.value})}},x3=n1,n1);u([d({type:String,json:{write:{writerEnsuresNonNull:!0}}})],Qa.prototype,"expression",void 0),u([X("expression",["expression","value"])],Qa.prototype,"readExpression",null),u([re("expression")],Qa.prototype,"writeExpression",null),u([d({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Qa.prototype,"title",void 0),u([d({json:{read:!1,write:!1}})],Qa.prototype,"value",void 0),Qa=x3=u([I("esri.layers.support.LabelExpressionInfo")],Qa);var S3;const Db=new Pe({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function Fb(e,t,r){return{enabled:!vI(r?.layer)}}function eQ(e){return!e||e.origin!=="service"&&e.layer?.type!=="map-image"}function R2e(e){return e?.type==="map-image"}function tQ(e){return!!R2e(e)&&!!e.capabilities?.exportMap?.supportsArcadeExpressionForLabeling}function L2e(e){return eQ(e)||tQ(e?.layer)}var i1;let Ot=(i1=class extends z{static evaluateWhere(t,r){const n=(i,o,s)=>{switch(o){case"=":return i==s;case"<>":return i!=s;case">":return i>s;case">=":return i>=s;case"<":return i<s;case"<=":return i<=s}return!1};try{if(t==null)return!0;const i=t.split(" ");if(i.length===3)return n(r[i[0]],i[1],i[2]);if(i.length===7){const o=n(r[i[0]],i[1],i[2]),s=i[3],a=n(r[i[4]],i[5],i[6]);switch(s){case"AND":return o&&a;case"OR":return o||a}}return!1}catch{}}constructor(t){super(t),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=dSe,this.useCodedValues=void 0,this.where=null}readLabelExpression(t,r){const n=r.labelExpressionInfo;if(!n||!n.value&&!n.expression)return t}writeLabelExpression(t,r,n){if(this.labelExpressionInfo){if(this.labelExpressionInfo.value!=null)t=j2e(this.labelExpressionInfo.value);else if(this.labelExpressionInfo.expression!=null){const i=XY(this.labelExpressionInfo.expression);i&&(t="["+i+"]")}}t!=null&&(r[n]=t)}writeLabelExpressionInfo(t,r,n,i){if(t==null&&this.labelExpression!=null&&eQ(i))t=new Qa({expression:this.getLabelExpressionArcade()});else if(!t)return;const o=t.toJSON(i);o.expression&&(r[n]=o)}writeMaxScale(t,r){(t||this.minScale)&&(r.maxScale=t)}writeMinScale(t,r){(t||this.maxScale)&&(r.minScale=t)}getLabelExpression(){return nR(this)}getLabelExpressionArcade(){return I2e(this)}getLabelExpressionSingleField(){return A2e(this)}hash(){return JSON.stringify(this)}clone(){return new S3({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:D(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:D(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}},S3=i1,i1);u([d({type:String,json:{write:!0}})],Ot.prototype,"name",void 0),u([d({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:Fb}}}}})],Ot.prototype,"allowOverrun",void 0),u([d({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:Fb}}}}})],Ot.prototype,"deconflictionStrategy",void 0),u([d({type:String,json:{write:{overridePolicy(e,t,r){return this.labelExpressionInfo&&r?.origin==="service"&&tQ(r.layer)?{enabled:!1}:{allowNull:!0}}}}})],Ot.prototype,"labelExpression",void 0),u([X("labelExpression")],Ot.prototype,"readLabelExpression",null),u([re("labelExpression")],Ot.prototype,"writeLabelExpression",null),u([d({type:Qa,json:{write:{overridePolicy:(e,t,r)=>L2e(r)?{allowNull:!0}:{enabled:!1}}}})],Ot.prototype,"labelExpressionInfo",void 0),u([re("labelExpressionInfo")],Ot.prototype,"writeLabelExpressionInfo",null),u([d({type:Db.apiValues,json:{type:Db.jsonValues,read:Db.read,write:Db.write}})],Ot.prototype,"labelPlacement",void 0),u([d({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],Ot.prototype,"labelPosition",void 0),u([d({type:Number})],Ot.prototype,"maxScale",void 0),u([re("maxScale")],Ot.prototype,"writeMaxScale",null),u([d({type:Number})],Ot.prototype,"minScale",void 0),u([re("minScale")],Ot.prototype,"writeMinScale",null),u([d({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:Fb}}}}})],Ot.prototype,"repeatLabel",void 0),u([d({type:Number,cast:Ge,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:Fb}}}}})],Ot.prototype,"repeatLabelDistance",void 0),u([d({types:lbe,json:{origins:{"web-scene":{types:ube,write:f6,default:null}},write:f6,default:null}})],Ot.prototype,"symbol",void 0),u([d({type:Boolean,json:{write:!0}})],Ot.prototype,"useCodedValues",void 0),u([d({type:String,json:{write:!0}})],Ot.prototype,"where",void 0),Ot=S3=u([I("esri.layers.support.LabelClass")],Ot);var _3;let is=_3=class extends z{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new _3({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?.clone()??null})}getMeshHash(){const e=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${e}`}};u([d({type:String,json:{write:!0}})],is.prototype,"description",void 0),u([d({type:String,json:{write:!0}})],is.prototype,"label",void 0),u([d({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],is.prototype,"minValue",void 0),u([d({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],is.prototype,"maxValue",void 0),u([d(Jk)],is.prototype,"symbol",void 0),is=_3=u([I("esri.renderers.support.ClassBreakInfo")],is);var $3;const rQ="log",jx="percent-of-total",Ix="field",Ub=new Pe({esriNormalizeByLog:rQ,esriNormalizeByPercentOfTotal:jx,esriNormalizeByField:Ix}),D2e=mr(is);let lr=$3=class extends Ly(Ui){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,r){if(!Array.isArray(e))return;let n=t.minValue;return e.map(i=>{const o=new is;return o.read(i,r),o.minValue==null&&(o.minValue=n),o.maxValue==null&&(o.maxValue=o.minValue),n=o.maxValue,o})}writeClassBreakInfos(e,t,r,n){const i=e.map(o=>o.write({},n));this._areClassBreaksConsecutive()&&i.forEach(o=>delete o.classMinValue),t[r]=i}castField(e){return e==null?e:typeof e=="function"?(ce.getLogger(this).error(".field: field must be a string value"),null):b1(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,r=this.normalizationTotal!=null;return t||r?(e=t&&Ix||r&&jx||null,t&&r&&ce.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):e!==Ix&&e!==jx||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,r){let n=null;n=typeof e=="number"?new is({minValue:e,maxValue:t,symbol:eY(r)}):D2e(D(e)),this.classBreakInfos.push(n),this.classBreakInfos.length===1&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const r=this.classBreakInfos.length;for(let n=0;n<r;n++){const i=[this.classBreakInfos[n].minValue,this.classBreakInfos[n].maxValue];if(i[0]===e&&i[1]===t){this.classBreakInfos.splice(n,1);break}}}getBreakIndex(e,t){return this.valueExpression&&t?.arcade==null&&ce.getLogger(this).warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let r=t;this.valueExpression&&t?.arcade==null&&(r={...r,arcade:await op()});const n=this.getBreakIndex(e,r);return n!==-1?this.classBreakInfos[n]:null}getSymbol(e,t){if(this.valueExpression&&t?.arcade==null)return void ce.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const r=this.getBreakIndex(e,t);return r>-1?this.classBreakInfos[r].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let r=t;if(this.valueExpression&&t?.arcade==null){const i=await op(),{arcadeUtils:o}=i;o.hasGeometryOperations(this.valueExpression)&&await o.enableGeometryOperations(),r={...r,arcade:i}}const n=this.getBreakIndex(e,r);return n>-1?this.classBreakInfos[n].symbol:this.defaultSymbol}get symbols(){const e=[];return this.classBreakInfos.forEach(t=>{t.symbol&&e.push(t.symbol)}),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables?.reduce((e,t)=>e+t.getAttributeHash(),"")??""}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),r=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${e}.${t}.${this.classBreakInfos.reduce((n,i)=>n+i.getMeshHash(),"")}.${r}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new $3({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol?.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol?.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:D(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:D(this.visualVariables),legendOptions:D(this.legendOptions),authoringInfo:D(this.authoringInfo)})}async collectRequiredFields(e,t){const r=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(r)}async collectSymbolFields(e,t){const r=[...this.symbols.map(n=>n.collectRequiredFields(e,t)),Is(e,t,this.valueExpression)];qi(e,t,this.field),qi(e,t,this.normalizationField),await Promise.all(r)}_getBreakIndexForExpression(e,t){const{viewingMode:r,scale:n,spatialReference:i,arcade:o,timeZone:s}=t??{},{valueExpression:a}=this;let l=this._compiledValueExpression.valueExpression===a?this._compiledValueExpression.compiledFunction:null;const c=o.arcadeUtils;if(!l){const h=c.createSyntaxTree(a);l=c.createFunction(h),this._compiledValueExpression.compiledFunction=l}this._compiledValueExpression.valueExpression=a;const p=c.executeFunction(l,c.createExecContext(e,c.getViewInfo({viewingMode:r,scale:n,spatialReference:i}),s));return this._getBreakIndexfromInfos(p)}_getBreakIndexForField(e){const t=this.field,r=e.attributes,n=this.normalizationType;let i=parseFloat(r[t]);if(n){const o=this.normalizationTotal,s=parseFloat(this.normalizationField?r[this.normalizationField]:void 0);if(n===rQ)i=Math.log(i)*Math.LOG10E;else if(n!==jx||o==null||isNaN(o)){if(n===Ix&&!isNaN(s)){if(isNaN(i)||isNaN(s))return-1;i/=s}}else i=i/o*100}return this._getBreakIndexfromInfos(i)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive;if(e!=null&&typeof e=="number"&&!isNaN(e))for(let r=0;r<this.classBreakInfos.length;r++){const n=[this.classBreakInfos[r].minValue,this.classBreakInfos[r].maxValue];if(n[0]<=e&&(t?e<=n[1]:e<n[1]))return r}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length;for(let r=1;r<t;r++)if(e[r-1].maxValue!==e[r].minValue)return!1;return!0}};u([d(Zk)],lr.prototype,"backgroundFillSymbol",void 0),u([d({type:[is],json:{write:{isRequired:!0}}})],lr.prototype,"classBreakInfos",void 0),u([X("classBreakInfos")],lr.prototype,"readClassBreakInfos",null),u([re("classBreakInfos")],lr.prototype,"writeClassBreakInfos",null),u([d({type:String,json:{write:!0}})],lr.prototype,"defaultLabel",void 0),u([d(h$)],lr.prototype,"defaultSymbol",void 0),u([d({type:String,json:{write:!0}})],lr.prototype,"field",void 0),u([pt("field")],lr.prototype,"castField",null),u([d({type:Boolean})],lr.prototype,"isMaxInclusive",void 0),u([d({type:Kk,json:{write:!0}})],lr.prototype,"legendOptions",void 0),u([d({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return this.classBreakInfos.length!==0&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],lr.prototype,"minValue",null),u([d({type:String,json:{write:!0}})],lr.prototype,"normalizationField",void 0),u([d({type:Number,json:{write:!0}})],lr.prototype,"normalizationTotal",void 0),u([d({type:Ub.apiValues,value:null,json:{type:Ub.jsonValues,read:Ub.read,write:Ub.write}})],lr.prototype,"normalizationType",null),u([ye({classBreaks:"class-breaks"})],lr.prototype,"type",void 0),u([d({type:String,json:{write:!0}})],lr.prototype,"valueExpression",void 0),u([d({type:String,json:{write:!0}})],lr.prototype,"valueExpressionTitle",void 0),lr=$3=u([I("esri.renderers.ClassBreaksRenderer")],lr);const T3=-3,F2e=T3-1;var Xa;(function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME"})(Xa||(Xa={}));let U2e=class{get size(){return this._size}constructor(t=10485760){this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._users=new Map,this._sizeLimits=new Map}destroy(){this.clearAll(),this._sizeLimits.clear(),this._users.clear()}register(t){this._users.set(t.id.slice(0,-1),t)}deregister(t){this.clear(t),this._sizeLimits.delete(t),this._users.delete(t.id.slice(0,-1))}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,-1),this._checkSize()}getSize(t,r){return this._db.get(t.id+r)?.size??0}put(t,r,n,i,o){r=t.id+r;const s=this._db.get(r);if(s&&(this._size-=s.size,t.size-=s.size,this._db.delete(r),s.entry!==n&&this._notifyRemove(r,s.entry,s.size,Xa.ALL)),i>this._maxSize)return void this._notifyRemove(r,n,i,Xa.ALL);if(n===void 0)return void console.warn("Refusing to cache undefined entry ");if(!i||i<0)return console.warn(`Refusing to cache entry with size ${i} for key ${r}`),void this._notifyRemove(r,n,0,Xa.ALL);const a=1+Math.max(o,F2e)-T3;this._db.set(r,new z2e(n,i,a)),this._size+=i,t.size+=i,this._checkSize()}updateSize(t,r,n,i){r=t.id+r;const o=this._db.get(r);if(o&&o.entry===n){for(this._size-=o.size,t.size-=o.size;i>this._maxSize;){const s=this._notifyRemove(r,n,i,Xa.SOME);if(!(s!=null&&s>0))return void this._db.delete(r);i=s}o.size=i,this._size+=i,t.size+=i,this._checkSize()}}pop(t,r){r=t.id+r;const n=this._db.get(r);if(n)return this._size-=n.size,t.size-=n.size,this._db.delete(r),++this._hit,n.entry;++this._miss}get(t,r){r=t.id+r;const n=this._db.get(r);if(n!==void 0)return this._db.delete(r),n.lives=n.lifetime,this._db.set(r,n),++this._hit,n.entry;++this._miss}peek(t,r){const n=this._db.get(t.id+r);return n?++this._hit:++this._miss,n?.entry}get performanceInfo(){const t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},r={},n=new Array;this._db.forEach((s,a)=>{const l=s.lifetime;n[l]=(n[l]||0)+s.size,this._users.forEach(c=>{const{id:p,name:h}=c;if(a.startsWith(p)){const y=r[h]||0;r[h]=y+s.size}})});const i={};this._users.forEach(s=>{const a=s.name;if("hitRate"in s&&typeof s.hitRate=="number"&&!isNaN(s.hitRate)&&s.hitRate>0){const l=r[a]||0;r[a]=l,i[a]=Math.round(100*s.hitRate)+"%"}else i[a]="0%"});const o=Object.keys(r);o.sort((s,a)=>r[a]-r[s]),o.forEach(s=>t[s]=Math.round(r[s]/2**20)+"MB / "+i[s]);for(let s=n.length-1;s>=0;--s){const a=n[s];a&&(t["Priority "+(s+T3-1)]=Math.round(a/this._size*100)+"%")}return t}resetStats(){this._hit=this._miss=0,this._users.forEach(t=>t.resetHitRate())}clear(t){const r=t.id;this._db.forEach((n,i)=>{i.startsWith(r)&&(this._size-=n.size,this._db.delete(i),this._notifyRemove(i,n.entry,n.size,Xa.ALL))}),t.size=0}clearAll(){this._db.forEach((t,r)=>this._notifyRemove(r,t.entry,t.size,Xa.ALL)),this._users.forEach(t=>t.size=0),this._size=0,this._db.clear()}*values(t){for(const[r,n]of this._db)r.startsWith(t.id)&&(yield n.entry)}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,r,n,i){const o=this._users.get(t.split(UO)[0])?.removeFunc,s=o?.(r,i,n);return typeof s=="number"?s:null}_checkSize(){this._sizeLimits.forEach((t,r)=>this._checkSizeLimits(t,r)),this._checkSizeLimits(this.maxSize)}setMaxSize(t,r){r==null||r<=0?this._sizeLimits.delete(t):this._sizeLimits.set(t,r)}_checkSizeLimits(t,r){const n=r??this;if(n.size<=t)return;const i=r?.id;let o=!0;for(;o;){o=!1;for(const[s,a]of this._db)if(a.lifetime===0&&(!i||s.startsWith(i))){const l=r??this._users.get(s.split(UO)[0]);if(this._purgeItem(s,a,l),n.size<=.9*t)return;o||(o=this._db.has(s))}}for(const[s,a]of this._db)if(!i||s.startsWith(i)){const l=r??this._users.get(s.split(UO)[0]);if(this._purgeItem(s,a,l),n.size<=.9*t)return}}_purgeItem(t,r,n){if(this._db.delete(t),r.lives<=1){this._size-=r.size,n&&(n.size-=r.size);const i=this._notifyRemove(t,r.entry,r.size,Xa.SOME);i!=null&&i>0&&(this._size+=i,n&&(n.size+=i),r.lives=r.lifetime,r.size=i,this._db.set(t,r))}else--r.lives,this._db.set(t,r)}},z2e=class{constructor(t,r,n){this.entry=t,this.size=r,this.lifetime=n,this.lives=n}};const UO=":";let B2e=class{constructor(t,r){this.removeFunc=r,this._storage=new U2e,this.id="",this.name="",this.size=0,this._storage.maxSize=t,this._storage.register(this)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(t,r,n=1){this._storage.put(this,t,r,n,1)}pop(t){return this._storage.pop(this,t)}get(t){return this._storage.get(this,t)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}resetHitRate(){}},I6=class nQ{static parse(t,r,n){const i=[],o=[],s=t.split(";");for(let a=0;a<s.length;a++){const l=s[a];if(l){if(l.includes("po:")){const c=l.slice(3).split("|");if(c.length===3){const[p,h,y]=c,m=q2e(p,h,y);m&&o.push(m)}}else if(l.includes("|")){for(const c of l.split("|"))if(r.has(c)){i.push(c);break}}else if(r.has(l))i.push(l);else if(a===0){i.length=0,i.push(G2e(n));break}}}return new nQ(i,o)}constructor(t,r){this.partNames=t,this.overrides=r}};function V2e(e,t){if(e==="DashTemplate")return t.split(" ").map(r=>Number(r));if(e==="Color"){const r=new ke(t).toRgba();return[r[0],r[1],r[2],255*r[3]]}return Number(t)}function q2e(e,t,r){return{primitiveName:e,propertyName:t,value:V2e(t,r),defaultValue:null}}function G2e(e){switch(e){case"esriGeometryPolyline":return"Invalid_L";case"esriGeometryPolygon":return"Invalid_A";default:return"Invalid_P"}}var o1;let ta=(o1=class{},o1.instance=new xi("Etc/UTC"),o1);function W2e(e){return e instanceof vp?e===ta.instance:e?.toString().toLowerCase()==="unknown"}function VQe(e){return W2e(e)?ta.instance:e}function H2e(e){return"timeZone"in e}function J2e(e){return"timeZone"in e}function Z2e(e){return"dateFieldsTimeZone"in e}const K2e=new Map;let t2=class Ax{static fromJSON(t){return new Ax(t.fields,t.timeZoneByFieldName)}static fromLayer(t){return new Ax(t.fields??[],P6(t))}static fromLayerJSON(t){return new Ax(t.fields??[],P6(t))}constructor(t=[],r){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=t||[],this._timeZoneByFieldName=r?new Map(r):null;const n=[];for(const i of this.fields){const o=i?.name,s=A6(o);if(o&&s){const a=fd(o);this._fieldsMap.set(o,i),this._fieldsMap.set(a,i),this._normalizedFieldsMap.set(s,i),n.push(`${a}:${i.type}:${this._timeZoneByFieldName?.get(o)}`),Hve(i)?(this.dateFields.push(i),this._dateFieldsSet.add(i)):SK(i)&&(this._numericFieldsSet.add(i),this.numericFields.push(i)),rF(i)||nF(i)||(i.editable=i.editable==null||!!i.editable,i.nullable=i.nullable==null||!!i.nullable)}}n.sort(),this.uid=n.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const t of this.fields)rF(t)||nF(t)||t.nullable||Rve(t)!==void 0||this._requiredFields.push(t)}return this._requiredFields}equals(t){return this.uid===t?.uid}has(t){return this.get(t)!=null}get(t){if(!t)return;let r=this._fieldsMap.get(t);return r||(r=this._fieldsMap.get(fd(t))??this._normalizedFieldsMap.get(A6(t)),r&&this._fieldsMap.set(t,r),r)}getTimeZone(t){const r=this.get(t&&typeof t!="string"?t.name:t);return r?this._timeZoneByFieldName?this._timeZoneByFieldName.get(r.name):r.type==="date"||r.type==="esriFieldTypeDate"?(ce.getLogger("esri.layers.support.FieldsIndex").errorOnce(new Z("getTimeZone:no-timezone-information",`no time zone information for field '${r.name}'`)),sc):iQ.has(r.type)?oc:null:null}getLuxonTimeZone(t){const r=this.getTimeZone(t);return r?r===oc?ta.instance:r===sc?_r.utcInstance:A_(K2e,r,()=>xi.create(r)):null}isDateField(t){return this._dateFieldsSet.has(this.get(t))}isTimeOnlyField(t){return Jve(this.get(t))}isNumericField(t){return this._numericFieldsSet.has(this.get(t))}normalizeFieldName(t){return this.get(t)?.name??void 0}toJSON(){return{fields:this.fields.map(t=>Cg(t)?t.toJSON():t),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}};function fd(e){return e.trim().toLowerCase()}function A6(e){return $ve(e)?.toLowerCase()??""}const iQ=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function P6(e){const t=new Map;if(!e.fields)return t;const r=e.datesInUnknownTimezone===!0,{timeInfo:n,editFieldsInfo:i}=e,o=(n?"startField"in n?n.startField:n.startTimeField:"")??"",s=(n?"endField"in n?n.endField:n.endTimeField:"")??"",a=Z2e(e)?e.dateFieldsTimeZone??null:e.dateFieldsTimeReference?Fw(e.dateFieldsTimeReference):null,l=i?H2e(i)?i.timeZone??a:i.dateFieldsTimeReference?Fw(i.dateFieldsTimeReference):a??sc:null,c=n?J2e(n)?n.timeZone??a:n.timeReference?Fw(n.timeReference):a:null,p=new Map([[fd(i?.creationDateField??""),l],[fd(i?.editDateField??""),l],[fd(o),c],[fd(s),c]]);for(const{name:h,type:y}of e.fields)if(iQ.has(y))t.set(h,oc);else if(y!=="date"&&y!=="esriFieldTypeDate")t.set(h,null);else if(r)t.set(h,oc);else{const m=p.get(fd(h??""))??a;t.set(h,m)}return t}var Ne;(function(e){e.AsyncNotEnabled="AsyncNotEnabled",e.ModulesNotSupported="ModulesNotSupported",e.CircularModules="CircularModules",e.CannotCompareDateAndTime="CannotCompareDateAndTime",e.NeverReach="NeverReach",e.UnsupportedHashType="UnsupportedHashType",e.InvalidParameter="InvalidParameter",e.FeatureSetDoesNotHaveSubtypes="FeatureSetDoesNotHaveSubtypes",e.UnexpectedToken="UnexpectedToken",e.Unrecognized="Unrecognized",e.UnrecognizedType="UnrecognizedType",e.MaximumCallDepth="MaximumCallDepth",e.BooleanConditionRequired="BooleanConditionRequired",e.TypeNotAllowedInFeature="TypeNotAllowedInFeature",e.KeyMustBeString="KeyMustBeString",e.WrongNumberOfParameters="WrongNumberOfParameters",e.CallNonFunction="CallNonFunction",e.NoFunctionInTemplateLiteral="NoFunctionInTemplateLiteral",e.NoFunctionInDictionary="NoFunctionInDictionary",e.NoFunctionInArray="NoFunctionInArray",e.AssignModuleFunction="AssignModuleFunction",e.LogicExpressionOrAnd="LogicExpressionOrAnd",e.LogicalExpressionOnlyBoolean="LogicalExpressionOnlyBoolean",e.FunctionNotFound="FunctionNotFound",e.InvalidMemberAccessKey="InvalidMemberAccessKey",e.UnsupportedUnaryOperator="UnsupportUnaryOperator",e.InvalidIdentifier="InvalidIdentifier",e.MemberOfNull="MemberOfNull",e.UnsupportedOperator="UnsupportedOperator",e.Cancelled="Cancelled",e.ModuleAccessorMustBeString="ModuleAccessorMustBeString",e.ModuleExportNotFound="ModuleExportNotFound",e.Immutable="Immutable",e.OutOfBounds="OutOfBounds",e.IllegalResult="IllegalResult",e.FieldNotFound="FieldNotFound",e.PortalRequired="PortalRequired",e.LogicError="LogicError",e.ArrayAccessorMustBeNumber="ArrayAccessMustBeNumber",e.KeyAccessorMustBeString="KeyAccessorMustBeString",e.WrongSpatialReference="WrongSpatialReference",e.CannotChangeTimeZoneTime="CannotChangeTimeZoneTime",e.CannotChangeTimeZoneDateOnly="CannotChangeTimeZoneDateOnly"})(Ne||(Ne={}));const oQ={[Ne.TypeNotAllowedInFeature]:"Feature attributes only support dates, numbers, strings, guids.",[Ne.LogicError]:"Logic error - {reason}",[Ne.CannotCompareDateAndTime]:"Cannot compare date or dateonly with timeonly types",[Ne.NeverReach]:"Encountered unreachable logic",[Ne.AsyncNotEnabled]:"Async Arcade must be enabled for this script",[Ne.ModuleAccessorMustBeString]:"Module accessor must be a string",[Ne.ModuleExportNotFound]:"Module has no export with provided identifier",[Ne.ModulesNotSupported]:"Current profile does not support modules",[Ne.ArrayAccessorMustBeNumber]:"Array accessor must be a number",[Ne.FunctionNotFound]:"Function not found",[Ne.FieldNotFound]:"Key not found - {key}",[Ne.CircularModules]:"Circular module dependencies are not allowed",[Ne.Cancelled]:"Execution cancelled",[Ne.UnsupportedHashType]:"Type not supported in hash function",[Ne.IllegalResult]:"Value is not a supported return type",[Ne.PortalRequired]:"Portal is required",[Ne.InvalidParameter]:"Invalid parameter",[Ne.WrongNumberOfParameters]:"Call with wrong number of parameters",[Ne.Unrecognized]:"Unrecognized code structure",[Ne.UnrecognizedType]:"Unrecognized type",[Ne.WrongSpatialReference]:"Cannot work with geometry in this spatial reference. It is different to the execution spatial reference",[Ne.BooleanConditionRequired]:"Conditions must use booleans",[Ne.NoFunctionInDictionary]:"Dictionaries cannot contain functions.",[Ne.NoFunctionInArray]:"Arrays cannot contain functions.",[Ne.NoFunctionInTemplateLiteral]:"Template Literals do not expect functions by value.",[Ne.KeyAccessorMustBeString]:"Accessor must be a string",[Ne.KeyMustBeString]:"Object keys must be a string",[Ne.Immutable]:"Object is immutable",[Ne.UnexpectedToken]:"Unexpected token",[Ne.MemberOfNull]:"Cannot access property of null object",[Ne.MaximumCallDepth]:"Exceeded maximum function depth",[Ne.OutOfBounds]:"Out of bounds",[Ne.InvalidIdentifier]:"Identifier not recognized",[Ne.CallNonFunction]:"Expression is not a function",[Ne.InvalidMemberAccessKey]:"Cannot access value using a key of this type",[Ne.AssignModuleFunction]:"Cannot assign function to module variable",[Ne.UnsupportedUnaryOperator]:"Unsupported unary operator",[Ne.UnsupportedOperator]:"Unsupported operator",[Ne.LogicalExpressionOnlyBoolean]:"Logical expressions must be boolean",[Ne.LogicExpressionOrAnd]:"Logical expression can only be combined with || or &&",[Ne.CannotChangeTimeZoneTime]:"Cannot change the timezone of a Time",[Ne.CannotChangeTimeZoneDateOnly]:"Cannot change the timezone of a DateOnly",[Ne.FeatureSetDoesNotHaveSubtypes]:"FeatureSet does not have subtypes"};let Y2e=class extends Error{constructor(...t){super(...t)}},N6=class sQ extends Y2e{constructor(t,r){super(iR(r)+t.message,{cause:t}),this.loc=null,Error.captureStackTrace&&Error.captureStackTrace(this,sQ),r?.loc&&(this.loc=r.loc)}},Q2e=class aQ extends Error{constructor(t,r,n,i){super("Execution error - "+iR(n)+yp(oQ[r],i)),this.loc=null,this.declaredRootClass="esri.arcade.arcadeexecutionerror",Error.captureStackTrace&&Error.captureStackTrace(this,aQ),n?.loc&&(this.loc=n.loc)}};function iR(e){return e&&e.loc?`Line : ${e.loc.start?.line}, ${e.loc.start?.column}: `:""}let GQe=class lQ extends Error{constructor(t,r,n,i){super("Compilation error - "+iR(n)+yp(oQ[r],i)),this.loc=null,this.declaredRootClass="esri.arcade.arcadecompilationerror",Error.captureStackTrace&&Error.captureStackTrace(this,lQ),n?.loc&&(this.loc=n.loc)}},WQe=class uQ extends Error{constructor(){super("Uncompilable code structures"),this.declaredRootClass="esri.arcade.arcadeuncompilableerror",Error.captureStackTrace&&Error.captureStackTrace(this,uQ)}};function HQe(e,t,r){return r.declaredRootClass==="esri.arcade.arcadeexecutionerror"||r.declaredRootClass==="esri.arcade.arcadecompilationerror"?r.loc===null&&t?.loc?new N6(r,{cause:r}):r:(r.declaredRootClass==="esri.arcade.featureset.support.featureseterror"||r.declaredRootClass==="esri.arcade.featureset.support.sqlerror"||r.declaredRootClass,t?.loc?new N6(r,{cause:r}):r)}var r2;(function(e){e.UnrecognizedUri="UnrecognizedUri",e.UnsupportedUriProtocol="UnsupportedUriProtocol"})(r2||(r2={}));const X2e={[r2.UnrecognizedUri]:"Unrecognized uri - {uri}",[r2.UnsupportedUriProtocol]:"Unrecognized uri protocol"};let JQe=class cQ extends Error{constructor(t,r){super(yp(X2e[t],r)),this.declaredRootClass="esri.arcade.arcademoduleerror",Error.captureStackTrace&&Error.captureStackTrace(this,cQ)}};function Px(e){return e.toLowerCase().replaceAll(/[\s-]+/g,"")}let ZQe=class{constructor(t,r){const n=new Map;for(const i of t){const o=Px(i);if(n.has(o))throw new Error(`${i} already added as ${n.get(o)}`);n.set(o,i)}if(r!=null)for(const[i,o]of r){const s=Px(i);if(n.has(s))throw new Error(`${i} already associated with ${n.get(s)}`);n.set(s,o)}this._enumMap=n}lookup(t){return this._enumMap.get(Px(t))}get(t){const r=this.lookup(t);if(r==null)throw new Q2e(null,Ne.InvalidParameter,null);return r}};var n2;(function(e){e.TimeZoneNotRecognized="TimeZoneNotRecognized"})(n2||(n2={}));const e_e={[n2.TimeZoneNotRecognized]:"Timezone identifier has not been recognized."};let t_e=class dQ extends Error{constructor(t,r){super(yp(e_e[t],r)),this.declaredRootClass="esri.arcade.arcadedate.dateerror",Error.captureStackTrace&&Error.captureStackTrace(this,dQ)}};function kp(e,t,r){return e<t?e-t:e>r?e-r:0}function Rp(e,t,r){return e<t?t:e>r?r:e}let hl=class sr{constructor(t){this._date=t,this.declaredRootClass="esri.arcade.arcadedate"}static fromParts(t=0,r=1,n=1,i=0,o=0,s=0,a=0,l){if(isNaN(t)||isNaN(r)||isNaN(n)||isNaN(i)||isNaN(o)||isNaN(s)||isNaN(a))return null;const c=he.local(t,r).daysInMonth;let p=he.fromObject({day:Rp(n,1,c),year:t,month:Rp(r,1,12),hour:Rp(i,0,23),minute:Rp(o,0,59),second:Rp(s,0,59),millisecond:Rp(a,0,999)},{zone:Qs(l)});return p=p.plus({months:kp(r,1,12),days:kp(n,1,c),hours:kp(i,0,23),minutes:kp(o,0,59),seconds:kp(s,0,59),milliseconds:kp(a,0,999)}),new sr(p)}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??"system"}static arcadeDateAndZoneToArcadeDate(t,r){const n=Qs(r);return t.isUnknownTimeZone||n===ta.instance?sr.fromParts(t.year,t.monthJS+1,t.day,t.hour,t.minute,t.second,t.millisecond,n):new sr(t._date.setZone(n))}static dateJSToArcadeDate(t){return new sr(he.fromJSDate(t,{zone:"system"}))}static dateJSAndZoneToArcadeDate(t,r="system"){const n=Qs(r);return new sr(he.fromJSDate(t,{zone:n}))}static unknownEpochToArcadeDate(t){return new sr(he.fromMillis(t,{zone:ta.instance}))}static unknownDateJSToArcadeDate(t){return new sr(he.fromMillis(t.getTime(),{zone:ta.instance}))}static epochToArcadeDate(t,r="system"){const n=Qs(r);return new sr(he.fromMillis(t,{zone:n}))}static dateTimeToArcadeDate(t){return new sr(t)}clone(){return new sr(this._date)}changeTimeZone(t){const r=Qs(t);return sr.dateTimeToArcadeDate(this._date.setZone(r))}static dateTimeAndZoneToArcadeDate(t,r){const n=Qs(r);return t.zone===ta.instance||n===ta.instance?sr.fromParts(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond,n):new sr(t.setZone(n))}static nowToArcadeDate(t){const r=Qs(t);return new sr(he.fromJSDate(new Date,{zone:r}))}static nowUTCToArcadeDate(){return new sr(he.utc())}get isSystem(){return this.timeZone==="system"||this.timeZone===sr.systemTimeZoneCanonicalName}equals(t){return this.isSystem&&t.isSystem?this.toNumber()===t.toNumber():this.isUnknownTimeZone===t.isUnknownTimeZone&&this._date.equals(t._date)}get isUnknownTimeZone(){return this._date.zone===ta.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let t=this._date.weekday;return t>6&&(t=0),t}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return"unknown";if(this._date.zone.type==="system")return"system";const t=this.zone;return t.type==="fixed"?t.fixed===0?"UTC":t.formatOffset(0,"short"):t.name}stringify(){return JSON.stringify(this.toJSDate())}plus(t){return new sr(this._date.plus(t))}diff(t,r){return this._date.diff(t._date,r)[r]}toISODate(){return this._date.toISODate()}toISOString(t){return t?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toISOTime(t,r){return this._date.toISOTime({suppressMilliseconds:t,includeOffset:r&&!this.isUnknownTimeZone})}toFormat(t,r){return this.isUnknownTimeZone&&(t=t.replaceAll("Z","")),this._date.toFormat(t,r)}toJSDate(){return this._date.toJSDate()}toSQLValue(){return this._date.toFormat("yyyy-LL-dd HH:mm:ss")}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new sr(this._date.toUTC())}toLocal(){return new sr(this._date.toLocal())}toString(){return this.toISOString(!0)}static fromReaderAsTimeStampOffset(t){if(!t)return null;const r=he.fromISO(t,{setZone:!0});return new sr(r)}};function Qs(e,t=!0){if(e instanceof vp)return e;switch(Px(e)){case"system":return"system";case"utc":return"UTC";case"unknown":return ta.instance}if(/^[+-]?[0-9]{1,2}([:][0-9]{2})?$/.test(e)){const n=_r.parseSpecifier("UTC"+(e.startsWith("+")||e.startsWith("-")?"":"+")+e);if(n)return n}const r=xi.create(e);if(!r.isValid){if(t)throw new t_e(n2.TimeZoneNotRecognized);return null}return r}function M6(e){e=e.replaceAll(/LTS|LT|L{1,4}|l{1,4}/g,"[$&]");let t="";const r=/(\[[^[]*\])|(\\)?([Hh]mm(ss)?|Mo|M{1,4}|Do|DDDo|D{1,4}|d{2,4}|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const n of e.match(r)||[])switch(n){case"D":t+="d";break;case"DD":t+="dd";break;case"DDD":t+="o";break;case"d":t+="c";break;case"ddd":t+="ccc";break;case"dddd":t+="cccc";break;case"M":t+="L";break;case"MM":t+="LL";break;case"MMM":t+="LLL";break;case"MMMM":t+="LLLL";break;case"YY":t+="yy";break;case"Y":case"YYYY":t+="yyyy";break;case"Q":t+="q";break;case"X":case"x":t+=n;break;default:n.length>=2&&n.slice(0,1)==="["&&n.slice(-1)==="]"?t+=`'${n.slice(1,-1)}'`:t+=`'${n}'`}return t}const C6="esri.core.sql.dateonly";let r_e=class Ii{constructor(t,r,n){this._year=t,this._month=r,this._day=n,this.declaredRootClass=C6}static isDateOnly(t){return typeof t=="object"&&t!=null&&"declaredRootClass"in t&&t.declaredRootClass===C6}get month(){return this._month}get monthJS(){return this._month-1}get year(){return this._year}get day(){return this._day}get isValid(){return this.toDateTime("unknown").isValid}equals(t){return Ii.isDateOnly(t)&&t.day===this.day&&t.month===this.month&&t.year===this.year}clone(){return new Ii(this._year,this._month,this._day)}toDateTime(t){return he.fromObject({day:this.day,month:this.month,year:this.year},{zone:Qs(t)})}toDateTimeLuxon(t){return he.fromObject({day:this.day,month:this.month,year:this.year},{zone:Qs(t)})}toString(){return`${this.year.toString().padStart(4,"0")}-${this.month.toString().padStart(2,"0")}-${this.day.toString().padStart(2,"0")}`}toFormat(t=null,r=!0){if(t===null||t==="")return this.toString();if(r&&(t=M6(t)),!t)return"";const n=this.toDateTime("unknown");return hl.dateTimeToArcadeDate(n).toFormat(t,{locale:$o(),numberingSystem:"latn"})}toArcadeDate(){const t=this.toDateTime("unknown");return hl.dateTimeToArcadeDate(t)}toNumber(){return this.toDateTime("unknown").toMillis()}toJSDate(){return this.toDateTime("unknown").toJSDate()}toStorageFormat(){return this.toFormat("yyyy-LL-dd",!1)}toSQLValue(){return this.toFormat("yyyy-LL-dd",!1)}toSQLWithKeyword(){return"date '"+this.toFormat("yyyy-LL-dd",!1)+"'"}plus(t,r){return Ii.fromDateTime(this.toUTCDateTime().plus({[t]:r}))}toUTCDateTime(){return he.utc(this.year,this.month,this.day,0,0,0,0)}difference(t,r){switch(r.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(t.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(t.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return r==="M"?this.toUTCDateTime().diff(t.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(t.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(t.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(t.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(t.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(t.toUTCDateTime(),"years").years}}static fromMilliseconds(t){const r=he.fromMillis(t,{zone:_r.utcInstance});return r.isValid?Ii.fromParts(r.year,r.month,r.day):null}static fromSeconds(t){const r=he.fromSeconds(t,{zone:_r.utcInstance});return r.isValid?Ii.fromParts(r.year,r.month,r.day):null}static fromReader(t){if(!t)return null;const r=t.split("-");return r.length!==3?null:new Ii(parseInt(r[0],10),parseInt(r[1],10),parseInt(r[2],10))}static fromParts(t,r,n){const i=new Ii(t,r,n);return i.isValid===!1?null:i}static fromDateJS(t){return Ii.fromParts(t.getFullYear(),t.getMonth()+1,t.getDay())}static fromDateTime(t){return Ii.fromParts(t.year,t.month,t.day)}static fromSqlTimeStampOffset(t){return this.fromDateTime(t.toDateTime())}static fromString(t,r=null){if(t===""||t===null)return null;const n=[];if(r)(r=M6(r))&&n.push(r);else if(r===null||r===""){const i=he.fromISO(t,{setZone:!0});return i.isValid?Ii.fromParts(i.year,i.month,i.day):null}for(const i of n){const o=he.fromFormat(t,r??i);if(o.isValid)return new Ii(o.year,o.month,o.day)}return null}static fromNow(t="system"){const r=he.fromJSDate(new Date).setZone(Qs(t));return new Ii(r.year,r.month,r.day)}};function YQe(e){if(e==null)return null;switch(e.type){case"polygon":case"multipoint":case"polyline":return e.extent;case"point":return new Ue({xmin:e.x,ymin:e.y,xmax:e.x,ymax:e.y,spatialReference:e.spatialReference});case"extent":return e}return null}function QQe(e){if(e==null)return null;const t=e.clone();return e.cache._geVersion!==void 0&&(t.cache._geVersion=e.cache._geVersion),t}function zb(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}function k6(e){if(!e)return"";const t=/(a|A|hh?|HH?|mm?|ss?|SSS|S|.)/g;let r="";for(const n of e.match(t)||[])switch(n){case"SSS":case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":r+=n;break;case"A":case"a":r+="a";break;default:r+=`'${n}'`}return r}const R6="esri.core.sql.timeonly";let n_e=class qs{constructor(t,r,n,i){this._hour=t,this._minute=r,this._second=n,this._millisecond=i,this.declaredRootClass=R6}static isTimeOnly(t){return typeof t=="object"&&t!=null&&"declaredRootClass"in t&&t.declaredRootClass===R6}get hour(){return this._hour}get minute(){return this._minute}get second(){return this._second}get millisecond(){return this._millisecond}equals(t){return qs.isTimeOnly(t)&&t.hour===this.hour&&t.minute===this.minute&&t.second===this.second&&t.millisecond===this.millisecond}clone(){return new qs(this.hour,this.minute,this.second,this.millisecond)}isValid(){return zb(this.hour)&&zb(this.minute)&&zb(this.second)&&zb(this.millisecond)&&this.hour>=0&&this.hour<24&&this.minute>=0&&this.minute<60&&this.second>=0&&this.second<60&&this.millisecond>=0&&this.millisecond<1e3}toString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`+(this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):"")}toSQLValue(){return this.toString()}toSQLWithKeyword(){return`time '${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}${this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):""}'`}toStorageString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`}toFormat(t=null){return t===null||t===""?this.toString():(t=k6(t))?he.local(1970,1,1,this._hour,this._minute,this._second,this._millisecond).toFormat(t,{locale:$o(),numberingSystem:"latn"}):""}toNumber(){return this.millisecond+1e3*this.second+1e3*this.minute*60+60*this.hour*60*1e3}static fromParts(t,r,n,i){const o=new qs(t,r,n,i);return o.isValid()?o:null}static fromReader(t){if(!t)return null;const r=t.split(":");return r.length!==3?null:new qs(parseInt(r[0],10),parseInt(r[1],10),parseInt(r[2],10),0)}static fromMilliseconds(t){if(t>864e5||t<0)return null;const r=Math.floor(t/1e3%60),n=Math.floor(t/6e4%60),i=Math.floor(t/36e5%24),o=Math.floor(t%1e3);return new qs(i,n,r,o)}static fromDateJS(t){return new qs(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}static fromDateTime(t){return new qs(t.hour,t.minute,t.second,t.millisecond)}static fromSqlTimeStampOffset(t){return this.fromDateTime(t.toDateTime())}static fromString(t,r=null){if(t===""||t===null)return null;const n=[];r?(r=k6(r))&&n.push(r):r!==null&&r!==""||(n.push("HH:mm:ss"),n.push("HH:mm:ss.SSS"),n.push("hh:mm:ss a"),n.push("hh:mm:ss.SSS a"),n.push("HH:mm"),n.push("hh:mm a"),n.push("H:mm"),n.push("h:mm a"),n.push("H:mm:ss"),n.push("h:mm:ss a"),n.push("H:mm:ss.SSS"),n.push("h:mm:ss.SSS a"));for(const i of n){const o=he.fromFormat(t,i);if(o.isValid)return new qs(o.hour,o.minute,o.second,o.millisecond)}return null}plus(t,r){switch(t){case"days":case"years":case"months":return this.clone();case"hours":case"minutes":case"seconds":case"milliseconds":return qs.fromDateTime(this.toUTCDateTime().plus({[t]:r}))}return null}toUTCDateTime(){return he.utc(1970,1,1,this.hour,this.minute,this.second,this.millisecond)}difference(t,r){switch(r.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(t.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(t.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return r==="M"?this.toUTCDateTime().diff(t.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(t.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(t.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(t.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(t.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(t.toUTCDateTime(),"years").years}}};const i_e=["geometry","scale","timeProperties"];function XQe(e,t){if(t!=null)for(const r of i_e)t.hasArcadeDependency(r)&&e.add(r);return e}function eXe(e,t){return pQ.create(e,t,null,["$feature","$view"])}function o_e(e,t,r){return pQ.create(e,t,r,["$feature","$view","$config"])}let pQ=class fQ{static async create(t,r,n,i){const{arcade:o,Dictionary:s}=await op();let a;try{a=o.parseScript(t)}catch(m){throw new Z("arcade-bad-expression","Failed to parse arcade script",{script:t,error:m})}const l=o.scriptUsesGeometryEngine(a);l&&await o.enableGeometrySupport(),await o.loadDependentModules(new Set,a,null,!1,l);const c={vars:i.reduce((m,g)=>({...m,[g]:null}),{}),spatialReference:r,useAsync:!1},p=o.compileScript(a,c);let h=null;n!=null&&(h=new s(n),h.immutable=!0);const y=new s;return y.immutable=!1,y.setField("scale",0),new fQ(t,o,a,p,r,y,h,s)}constructor(t,r,n,i,o,s,a,l){this.script=t,this._arcade=r,this._syntaxTree=n,this._compiled=i,this._spatialReference=o,this._viewDict=s,this._configDict=a,this._dictionaryCtor=l,this._dependencies=new Map,this._featureReader=new hQ,this._dependencies.set("geometry",r.scriptTouchesGeometry(this._syntaxTree)),this._dependencies.set("scale",this._arcade.referencesMember(this._syntaxTree,"scale")),this._dependencies.set("timeProperties",this._arcade.scriptUsesViewProperties(this._syntaxTree,["timeProperties"]))}evaluate(t,r){const n=r.$view?.timeZone;if(r.$view){let i;if(this._viewDict.setField("scale",r.$view.scale),r.$view.timeProperties!=null){const{currentStart:o,currentEnd:s}=r.$view.timeProperties;i=new this._dictionaryCtor({currentStart:o!=null?n!=null?hl.epochToArcadeDate(o,n):hl.unknownEpochToArcadeDate(o):void 0,currentEnd:s!=null?n!=null?hl.epochToArcadeDate(s,n):hl.unknownEpochToArcadeDate(s):void 0,startIncluded:!0,endIncluded:!0})}this._viewDict.setField("timeProperties",i)}return this._compiled({vars:{$view:this._viewDict,$config:this._configDict,$feature:t},spatialReference:this._spatialReference,timeZone:n})}repurposeFeature(t,r){return this._featureReader.bind(t,r,this._spatialReference),this._featureReader}references(t){return this._dependencies.get(t)??!1}},hQ=class{constructor(){this._boundTarget=null,this._boundSchema={fields:null,fieldsIndex:null,spatialReference:null,get geometryType(){return null},get objectIdField(){return null}},this.arcadeDeclaredClass="esri.arcade.Feature",this._contextTimeZone=null}bind(t,r,n){const i=r??new t2(yQ(t.attributes));this._boundTarget=t,this._boundSchema.fields=i.fields,this._boundSchema.fieldsIndex=i,this._boundSchema.spatialReference=n}_getField(t){return this._boundSchema.fieldsIndex.get(t)}get contextTimeZone(){return this._contextTimeZone}set contextTimeZone(t){this._contextTimeZone=t}readArcadeFeature(){return this}hasField(t){return this._boundSchema.fieldsIndex.has(t)}geometry(){if("fromJSON"in this._boundTarget)return this._boundTarget.geometry;const t=Il(this._boundTarget.geometry);if(t){if(!this._boundSchema.spatialReference)throw new Error("InternalError: Expected spatial reference to be defined");t.spatialReference=this._boundSchema.spatialReference}return t}isUnknownDateTimeField(t){return this._boundSchema.fieldsIndex.getTimeZone(t)===oc}field(t,r=!0){const n=this._getField(t);if(n){const i=this._boundTarget.attributes[n.name];if(i==null)return null;switch(n.type){case"date-only":case"esriFieldTypeDateOnly":return r_e.fromReader(i);case"time-only":case"esriFieldTypeTimeOnly":return n_e.fromReader(i);case"esriFieldTypeTimestampOffset":case"timestamp-offset":return hl.fromReaderAsTimeStampOffset(i);case"date":case"esriFieldTypeDate":return this.isUnknownDateTimeField(t)?hl.unknownEpochToArcadeDate(i):hl.epochToArcadeDate(i,this.contextTimeZone??Es);default:return i}}if(r)throw new Error(`Field ${t} does not exist`);return null}setField(t,r){throw new Error("Unable to update feature attribute values, feature is readonly")}keys(){return this._boundSchema.fieldsIndex.fields.map(t=>t.name)}castToText(t=!1){return JSON.stringify(this._boundTarget)}gdbVersion(){return null}fullSchema(){return this._boundSchema}castAsJson(t=null){return{attributes:this._boundTarget.attributes,geometry:t?.keepGeometryType===!0?this.geometry():this.geometry()?.toJSON()??null}}castAsJsonAsync(t=null,r=null){return Promise.resolve(this.castAsJson(r))}};function yQ(e){const t=[];for(const r in e)t.push({name:r,alias:r,type:typeof e[r]=="string"?"esriFieldTypeString":"esriFieldTypeDouble"});return t}let s_e=class mQ{static async from(t,r,n){const i=t.dictionary_version?uK.parse(t.dictionary_version):null,o=new Set(t.itemsNames),s={};if(r)for(const h in r)s[h]=r[h];if(t.authoringInfo.configuration)for(const h of t.authoringInfo.configuration)s.hasOwnProperty(h.name)||(s[h.name]=h.value);const a=new Set(t.authoringInfo.symbol);for(const h of Object.keys(n))a.delete(h);a.size&&ce.getLogger("esri.renderers.support.DictionaryScriptEvaluator").warnOnce("missing-fields: fieldMap entries for the following symbol fields are missing",{symbolFields:a});const l=await o_e(t.expression,null,s);if(!l)throw new Z("dictionary-renderer:expression-error","Unable to create dictionary renderer expression");const c=!i||!i.greaterEqual(4,0);c&&ce.getLogger("esri.renderers.support.DictionaryScriptEvaluator").warnOnce("Dictionary script does not support native field types. Applying fallback",{version:i});const p=new a_e(n,c);return new mQ(c,o,l,p)}constructor(t,r,n,i){this._requiresFieldCoercionToString=t,this._itemNames=r,this._compiled=n,this._reader=i}get itemNames(){return this._itemNames}evaluate(t,r,n,i){try{return this._reader.bind(t,n,i),this._compiled.evaluate(this._reader,{$view:{scale:r}})}catch(o){ce.getLogger("esri.renderers.support.DictionaryScriptEvaluator").warnOnce("arcade: dictionary script evaluation failed",{error:o})}return null}createDictionaryFieldsIndex(t){if(!this._requiresFieldCoercionToString)return new t2(t);const r=t.map(n=>({...n,type:"esriFieldTypeString"}));return new t2(r)}},a_e=class extends hQ{constructor(t,r){super(),this._fieldMap=t,this._requiresFieldCoercionToString=r}_getField(t){const r=this._fieldMap[t]??t;return this._boundSchema.fieldsIndex.get(r)}field(t){if(!this._requiresFieldCoercionToString)return super.field(t,!1);const r=this._getField(t);return r==null||this._boundTarget.attributes[r.name]==null?"":""+this._boundTarget.attributes[r.name]}};var L6,D6,F6,U6,z6,B6,V6,q6,G6,W6,O3,E3,H6,J6,Z6,K6,Y6,Q6,X6,e8,t8,r8,n8,i8,o8,s8,a8,l8,u8,c8,d8,p8,f8,h8,y8,m8,g8,v8,b8,w8,x8,S8,_8,$8,T8,O8,E8,j8,I8,A8,P8,N8,M8,C8,k8,i2,R8,L8,D8,F8,U8,z8,B8;(function(e){e[e.BUTT=0]="BUTT",e[e.ROUND=1]="ROUND",e[e.SQUARE=2]="SQUARE",e[e.UNKNOWN=4]="UNKNOWN"})(L6||(L6={})),function(e){e[e.BEVEL=0]="BEVEL",e[e.ROUND=1]="ROUND",e[e.MITER=2]="MITER",e[e.UNKNOWN=4]="UNKNOWN"}(D6||(D6={})),function(e){e[e.SCREEN=0]="SCREEN",e[e.MAP=1]="MAP"}(F6||(F6={})),function(e){e[e.Tint=0]="Tint",e[e.Ignore=1]="Ignore",e[e.Multiply=99]="Multiply"}(U6||(U6={})),function(e){e.Both="Both",e.JustBegin="JustBegin",e.JustEnd="JustEnd",e.None="None"}(z6||(z6={})),function(e){e[e.Mosaic=0]="Mosaic",e[e.Centered=1]="Centered"}(B6||(B6={})),function(e){e[e.Normal=0]="Normal",e[e.Superscript=1]="Superscript",e[e.Subscript=2]="Subscript"}(V6||(V6={})),function(e){e[e.MSSymbol=0]="MSSymbol",e[e.Unicode=1]="Unicode"}(q6||(q6={})),function(e){e[e.Unspecified=0]="Unspecified",e[e.TrueType=1]="TrueType",e[e.PSOpenType=2]="PSOpenType",e[e.TTOpenType=3]="TTOpenType",e[e.Type1=4]="Type1"}(G6||(G6={})),function(e){e[e.Display=0]="Display",e[e.Map=1]="Map"}(W6||(W6={})),function(e){e.None="None",e.Loop="Loop",e.Oscillate="Oscillate"}(O3||(O3={})),function(e){e.Linear="Linear",e.EaseIn="EaseIn",e.EaseOut="EaseOut",e.EaseInOut="EaseInOut"}(E3||(E3={})),function(e){e[e.Z=0]="Z",e[e.X=1]="X",e[e.Y=2]="Y"}(H6||(H6={})),function(e){e[e.XYZ=0]="XYZ",e[e.ZXY=1]="ZXY",e[e.YXZ=2]="YXZ"}(J6||(J6={})),function(e){e[e.Rectangle=0]="Rectangle",e[e.RoundedRectangle=1]="RoundedRectangle",e[e.Oval=2]="Oval"}(Z6||(Z6={})),function(e){e[e.None=0]="None",e[e.Alpha=1]="Alpha",e[e.Screen=2]="Screen",e[e.Multiply=3]="Multiply",e[e.Add=4]="Add"}(K6||(K6={})),function(e){e[e.TTB=0]="TTB",e[e.RTL=1]="RTL",e[e.BTT=2]="BTT"}(Y6||(Y6={})),function(e){e[e.None=0]="None",e[e.SignPost=1]="SignPost",e[e.FaceNearPlane=2]="FaceNearPlane"}(Q6||(Q6={})),function(e){e[e.Float=0]="Float",e[e.String=1]="String",e[e.Boolean=2]="Boolean"}(X6||(X6={})),function(e){e[e.Intersect=0]="Intersect",e[e.Subtract=1]="Subtract"}(e8||(e8={})),function(e){e.OpenEnded="OpenEnded",e.Block="Block",e.Crossed="Crossed"}(t8||(t8={})),function(e){e.FullGeometry="FullGeometry",e.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment",e.ReversedFirstSegment="ReversedFirstSegment",e.PerpendicularToSecondSegment="PerpendicularToSecondSegment",e.SecondSegmentWithTicks="SecondSegmentWithTicks",e.DoublePerpendicular="DoublePerpendicular",e.OppositeToFirstSegment="OppositeToFirstSegment",e.TriplePerpendicular="TriplePerpendicular",e.HalfCircleFirstSegment="HalfCircleFirstSegment",e.HalfCircleSecondSegment="HalfCircleSecondSegment",e.HalfCircleExtended="HalfCircleExtended",e.OpenCircle="OpenCircle",e.CoverageEdgesWithTicks="CoverageEdgesWithTicks",e.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks",e.GapExtentMidline="GapExtentMidline",e.Chevron="Chevron",e.PerpendicularWithArc="PerpendicularWithArc",e.ClosedHalfCircle="ClosedHalfCircle",e.TripleParallelExtended="TripleParallelExtended",e.ParallelWithTicks="ParallelWithTicks",e.Parallel="Parallel",e.PerpendicularToFirstSegment="PerpendicularToFirstSegment",e.ParallelOffset="ParallelOffset",e.OffsetOpposite="OffsetOpposite",e.OffsetSame="OffsetSame",e.CircleWithArc="CircleWithArc",e.DoubleJog="DoubleJog",e.PerpendicularOffset="PerpendicularOffset",e.LineExcludingLastSegment="LineExcludingLastSegment",e.MultivertexArrow="MultivertexArrow",e.CrossedArrow="CrossedArrow",e.ChevronArrow="ChevronArrow",e.ChevronArrowOffset="ChevronArrowOffset",e.PartialFirstSegment="PartialFirstSegment",e.Arch="Arch",e.CurvedParallelTicks="CurvedParallelTicks",e.Arc90Degrees="Arc90Degrees",e.TipWithPerpendicularAndTicks="TipWithPerpendicularAndTicks",e.ConcentricCircles="ConcentricCircles",e.DoubleJogArrow="DoubleJogArrow",e.LinkedChevrons="LinkedChevrons",e.SegmentThenHalfCircle="SegmentThenHalfCircle",e.LineWithStraightTicks="LineWithStraightTicks",e.DoubleCurve="DoubleCurve",e.ParallelWithTicksByWidth="ParallelWithTicksByWidth",e.EnclosingRoundedRectangle="EnclosingRoundedRectangle"}(r8||(r8={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square",e.TrueBuffer="TrueBuffer"}(n8||(n8={})),function(e){e.ClosePath="ClosePath",e.ConvexHull="ConvexHull",e.RectangularBox="RectangularBox"}(i8||(i8={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(o8||(o8={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square"}(s8||(s8={})),function(e){e.Fast="Fast",e.Accurate="Accurate"}(a8||(a8={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(l8||(l8={})),function(e){e.Sinus="Sinus",e.Square="Square",e.Triangle="Triangle",e.Random="Random"}(u8||(u8={})),function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.Force=2]="Force"}(c8||(c8={})),function(e){e[e.Buffered=0]="Buffered",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.AlongLine=3]="AlongLine"}(d8||(d8={})),function(e){e[e.Linear=0]="Linear",e[e.Rectangular=1]="Rectangular",e[e.Circular=2]="Circular",e[e.Buffered=3]="Buffered"}(p8||(p8={})),function(e){e[e.Discrete=0]="Discrete",e[e.Continuous=1]="Continuous"}(f8||(f8={})),function(e){e[e.AcrossLine=0]="AcrossLine",e[e.AlongLine=1]="AlongLine"}(h8||(h8={})),function(e){e[e.Auto=0]="Auto",e[e.Clockwise=1]="Clockwise",e[e.Counterclockwise=2]="Counterclockwise"}(y8||(y8={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Center=2]="Center",e[e.Justify=3]="Justify"}(m8||(m8={})),function(e){e[e.Base=0]="Base",e[e.MidPoint=1]="MidPoint",e[e.ThreePoint=2]="ThreePoint",e[e.FourPoint=3]="FourPoint",e[e.Underline=4]="Underline",e[e.CircularCW=5]="CircularCW",e[e.CircularCCW=6]="CircularCCW"}(g8||(g8={})),function(e){e.Butt="Butt",e.Round="Round",e.Square="Square"}(v8||(v8={})),function(e){e.NoConstraint="NoConstraint",e.HalfPattern="HalfPattern",e.HalfGap="HalfGap",e.FullPattern="FullPattern",e.FullGap="FullGap",e.Custom="Custom"}(b8||(b8={})),function(e){e[e.None=-1]="None",e[e.Custom=0]="Custom",e[e.Circle=1]="Circle",e[e.OpenArrow=2]="OpenArrow",e[e.ClosedArrow=3]="ClosedArrow",e[e.Diamond=4]="Diamond"}(w8||(w8={})),function(e){e[e.ExtraLeading=0]="ExtraLeading",e[e.Multiple=1]="Multiple",e[e.Exact=2]="Exact"}(x8||(x8={})),function(e){e.Bevel="Bevel",e.Round="Round",e.Miter="Miter"}(S8||(S8={})),function(e){e[e.Default=0]="Default",e[e.String=1]="String",e[e.Numeric=2]="Numeric"}(_8||(_8={})),function(e){e[e.InsidePolygon=0]="InsidePolygon",e[e.PolygonCenter=1]="PolygonCenter",e[e.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"}($8||($8={})),function(e){e[e.Tint=0]="Tint",e[e.Replace=1]="Replace",e[e.Multiply=2]="Multiply"}(T8||(T8={})),function(e){e[e.ClipAtBoundary=0]="ClipAtBoundary",e[e.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary",e[e.DoNotTouchBoundary=2]="DoNotTouchBoundary",e[e.DoNotClip=3]="DoNotClip"}(O8||(O8={})),function(e){e.NoConstraint="NoConstraint",e.WithMarkers="WithMarkers",e.WithFullGap="WithFullGap",e.WithHalfGap="WithHalfGap",e.Custom="Custom"}(E8||(E8={})),function(e){e.Fixed="Fixed",e.Random="Random",e.RandomFixedQuantity="RandomFixedQuantity"}(j8||(j8={})),function(e){e.LineMiddle="LineMiddle",e.LineBeginning="LineBeginning",e.LineEnd="LineEnd",e.SegmentMidpoint="SegmentMidpoint"}(I8||(I8={})),function(e){e.OnPolygon="OnPolygon",e.CenterOfMass="CenterOfMass",e.BoundingBoxCenter="BoundingBoxCenter"}(A8||(A8={})),function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High"}(P8||(P8={})),function(e){e[e.MarkerCenter=0]="MarkerCenter",e[e.MarkerBounds=1]="MarkerBounds"}(N8||(N8={})),function(e){e[e.None=0]="None",e[e.PropUniform=1]="PropUniform",e[e.PropNonuniform=2]="PropNonuniform",e[e.DifUniform=3]="DifUniform",e[e.DifNonuniform=4]="DifNonuniform"}(M8||(M8={})),function(e){e.Tube="Tube",e.Strip="Strip",e.Wall="Wall"}(C8||(C8={})),function(e){e[e.Random=0]="Random",e[e.Increasing=1]="Increasing",e[e.Decreasing=2]="Decreasing",e[e.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"}(k8||(k8={})),function(e){e[e.Relative=0]="Relative",e[e.Absolute=1]="Absolute"}(i2||(i2={})),function(e){e[e.Normal=0]="Normal",e[e.LowerCase=1]="LowerCase",e[e.Allcaps=2]="Allcaps"}(R8||(R8={})),function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(L8||(L8={})),function(e){e.Draft="Draft",e.Picture="Picture",e.Text="Text"}(D8||(D8={})),function(e){e[e.Top=0]="Top",e[e.Center=1]="Center",e[e.Baseline=2]="Baseline",e[e.Bottom=3]="Bottom"}(F8||(F8={})),function(e){e[e.Right=0]="Right",e[e.Upright=1]="Upright"}(U8||(U8={})),function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"}(z8||(z8={})),function(e){e[e.Calm=0]="Calm",e[e.Rippled=1]="Rippled",e[e.Slight=2]="Slight",e[e.Moderate=3]="Moderate"}(B8||(B8={}));const nXe={CIMVectorMarker:{scalesymbolsproportionally:!1,respectframe:!0,anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMPictureMarker:{scalex:1,texturefilter:"Draft",anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMTextSymbol:{angle:0,anglex:0,angley:0,halosize:1,height:10,horizontalalignment:"Left",kerning:!0,letterspacing:0,letterwidth:100,ligatures:!0,linegap:0,offsetx:0,offsety:0,strikethrough:!1,textcase:"Normal",textstring:"",underline:!1,verticalalignment:"Bottom",enable:!0,colorlocked:!1},CIMSolidStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMPictureStroke:{texturefilter:"Draft",capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMGradientStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1,gradientMethod:"AcrossLine",gradientSize:75,gradientSizeUnits:i2.Relative,gradientType:"Discrete",interval:5},CIMSolidFill:{enable:!0,colorlocked:!1},CIMPictureFill:{offsetx:0,offsety:0,rotation:0,scalex:1,height:10,texturefilter:"Draft",enable:!0,colorlocked:!1},CIMHatchFill:{offsetx:0,offsety:0,rotation:0,separation:4,enable:!0,colorlocked:!1},CIMGradientFill:{enable:!0,angle:90,gradientMethod:"Linear",gradientSize:75,gradientSizeUnits:i2.Relative,gradientType:"Discrete",interval:5},CIMGeometricEffectAddControlPoints:{angletolerance:120},CIMGeometricEffectArrow:{arrowtype:"OpenEnded",width:5},CIMGeometricEffectBuffer:{size:1},CIMGeometricEffectCut:{begincut:1,endcut:1,middlecut:0,invert:!1},CIMGeometricEffectDashes:{customendingoffset:0,linedashending:"NoConstraint",offsetalongline:0},CIMGeometricEffectDonut:{method:"Mitered",option:"Accurate",width:2},CIMGeometricEffectJog:{angle:225,length:20,position:50},CIMGeometricEffectControlMeasureLine:{rule:"FullGeometry"},CIMGeometricEffectMove:{offsetx:1,offsety:-1},CIMGeometricEffectOffset:{method:"Square",offset:1,option:"Fast"},CIMGeometricEffectRadial:{angle:0,length:5},CIMGeometricEffectRotate:{angle:15},CIMGeometricEffectScale:{xscalefactor:1.15,yscalefactor:1.15},CIMGeometricEffectWave:{amplitude:2,period:3,seed:1,waveform:"Sinus"},CIMMarkerPlacementAlongLine:{customendingoffset:0,endings:"WithHalfGap",offsetalongline:0,placeperpart:!0,angletoline:!0,offset:0},CIMMarkerPlacementAtExtremities:{extremityplacement:"Both",offsetalongline:0,angletoline:!0,offset:0},CIMMarkerPlacementAtRatioPositions:{beginposition:0,endposition:0,flipfirst:!0,angletoline:!0,offset:0},CIMMarkerPlacementInsidePolygon:{gridangle:0,gridtype:"Fixed",offsetx:0,offsety:0,randomness:100,seed:0,shiftoddrows:!1,stepx:16,stepy:16,clipping:"ClipAtBoundary"},CIMMarkerPlacementOnLine:{relativeto:"LineMiddle",startpointoffset:0,angletoline:!0,offset:0},CIMMarkerPlacementOnVertices:{placeperpart:!0,placeoncontrolpoints:!0,placeonendpoints:!0,placeonregularvertices:!0,angletoline:!0,offset:0},CIMMarkerPlacementPolygonCenter:{method:"OnPolygon",offsetx:0,offsety:0,clipatboundary:!1},CIMAnimatedSymbolProperties:{playanimation:!1,reverseanimation:!1,randomizestarttime:!1,randomizestartseed:0,starttimeoffset:0,duration:3,endingduration:3,useendingduration:!1,repeattype:O3.Loop,repeatdelay:0,easing:E3.Linear},CIMSymbolAnimationSize:{tosize:10},CIMSymbolAnimationScale:{scalefactor:1},CIMSymbolAnimationColor:{tocolor:[255,255,255,1]},CIMSymbolAnimationTransparency:{totransparency:0},CIMSymbolAnimationRotation:{torotation:0,rotateclockwise:!1},CIMSymbolAnimationOffset:{offsetx:0,offsety:0},CIMSymbolAnimationMoveAlongLine:{speed:30,distanceAlong:100}},l_e=` /-,
`;function V8(e){let t=e.length;for(;t--;)if(!l_e.includes(e.charAt(t)))return!1;return!0}function iXe(e,t){const r=[];let n=0,i=-1;do if(i=e.indexOf("[",n),i>=n){if(i>n){const o=e.slice(n,i);r.push([o,null,V8(o)])}if(n=i+1,i=e.indexOf("]",n),i>=n){if(i>n){const o=t[e.slice(n,i)];o&&r.push([null,o,!1])}n=i+1}}while(i!==-1);if(n<e.length){const o=e.slice(n);r.push([o,null,V8(o)])}return r}function oXe(e,t,r){let n="",i=null;for(const o of t){const[s,a,l]=o;if(s!=null&&s!=="")l?i=s:(i!=null&&(n+=i,i=null),n+=s);else{const c=e.readAttribute(a);c!=null&&c!==""&&(i!==null&&(n+=i,i=null),n+=c)}}return gQ(n,r)}function sXe(e,t,r,n){let i="",o=null;for(const s of t){const[a,l,c]=s;if(a!=null&&a!=="")c?o=a:(o!=null&&(i+=o,o=null),i+=a);else{let p=l;r!=null&&(p=d_e(l,r));const h=e.attributes[p];h!=null&&h!==""&&(o!=null&&(i+=o,o=null),i+=h)}}return gQ(i,n)}function gQ(e,t){switch(typeof e!="string"&&(e=String(e)),t){case"LowerCase":return e.toLowerCase();case"Allcaps":return e.toUpperCase();default:return e}}function aXe(e){return e?[e[0],e[1],e[2],e[3]/255]:[0,0,0,0]}function lXe(e){return e.data?.symbol??null}function uXe(e){return e.type==="CIMVectorMarker"||e.type==="CIMPictureMarker"||e.type==="CIMBarChartMarker"||e.type==="CIMCharacterMarker"||e.type==="CIMPieChartMarker"||e.type==="CIMStackedBarChartMarker"}function cXe(e){return e.type==="CIMGradientStroke"||e.type==="CIMPictureStroke"||e.type==="CIMSolidStroke"}function dXe(e){return e!=null&&(e.type==="CIMGradientFill"||e.type==="CIMHatchFill"||e.type==="CIMPictureFill"||e.type==="CIMSolidFill"||e.type==="CIMWaterFill")}function pXe(e){return e!=null&&(e.type==="CIMMarkerPlacementAlongLineRandomSize"||e.type==="CIMMarkerPlacementAlongLineSameSize"||e.type==="CIMMarkerPlacementAlongLineVariableSize"||e.type==="CIMMarkerPlacementAtExtremities"||e.type==="CIMMarkerPlacementAtMeasuredUnits"||e.type==="CIMMarkerPlacementAtRatioPositions"||e.type==="CIMMarkerPlacementOnLine"||e.type==="CIMMarkerPlacementOnVertices")}const fXe=(e,t=0)=>e==null||isNaN(e)?t:e;function hXe(e){return(e?Object.keys(e):[]).map(t=>({name:t,alias:t,type:typeof e[t]=="string"?"esriFieldTypeString":"esriFieldTypeDouble"}))}function vQ(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function yXe(e,t,r,n,i,o,s=!0){const{infos:a}=o;let l=1,c=0,p=0,h=0,y=1;for(const{absoluteAnchorPoint:b,offsetX:w,offsetY:x,rotation:_,size:S,frameHeight:O,rotateClockWise:$,scaleSymbolsProportionally:T}of a)y=b?1:l,p=G8(w,x,c,y,p),h=q8(w,x,c,y,h),O&&(T||s)&&(l*=S/O),c=W8(_,$,c);const m=G8(n,i,c,y,p),g=q8(n,i,c,y,h);return{size:e*l,rotation:W8(t,r,c),offsetX:m,offsetY:g}}function u_e(e){return e.split(" ").map(t=>Number(t))}function c_e(e){return typeof e=="string"?u_e(e):e}function mXe(e){return e?.dashTemplate&&(e.dashTemplate=c_e(e.dashTemplate)),e}function j3(e){if(e==null)return"Normal";switch(e.type){case"CIMTextSymbol":return e.textCase??"Normal";case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const t=e.symbolLayers;if(!t)return"Normal";for(const r of t)if(r.type==="CIMVectorMarker")return j3(r)}break;case"CIMVectorMarker":{const t=e.markerGraphics;if(!t)return"Normal";for(const r of t)if(r.symbol)return j3(r.symbol)}}return"Normal"}function d_e(e,t){if(t!==null){const r=t.get(e);return r?r.name:e}return e}function gXe(e){return e.map(t=>({...t,propertyName:vQ(t.propertyName)}))}function vXe(e){const t={};for(const r in e){const n=e[r];t[vQ(r)]=n}return t}function q8(e,t,r,n,i){const o=r*Math.PI/180;if(o){const s=Math.cos(o);return(Math.sin(o)*e+s*t)*n+i}return t*n+i}function G8(e,t,r,n,i){const o=r*Math.PI/180;return o?(Math.cos(o)*e-Math.sin(o)*t)*n+i:e*n+i}function W8(e,t,r){return t?r-e:r+e}const p_e={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};let bQ=class{constructor(t,r,n,i){this.url=t,this.fieldMap=n,this.dictionaryInfo=i,this._symbolPartCache=new B2e(100);const o=async()=>s_e.from(await i,r,n);this._evaluator=o()}async getSymbolAsync(t,r,n=!0){const i=await this._evaluator,o=r?.fields??yQ(t.attributes),s=i.createDictionaryFieldsIndex(o),a=i.evaluate(t,r?.scale??0,s,r?.spatialReference);if(a==null)return null;const l=n$(t.geometry),c=I6.parse(a,i.itemNames,l),p=l==="esriGeometryPoint"&&!t.geometry?.hasZ;return await this._cimPartsToCIMSymbol(t,c.partNames,c.overrides,p,r,n,s)}async getSymbolForControlString(t,r,n){const i=await this._evaluator,o=I6.parse(t,i.itemNames,r),s=r==="esriGeometryPoint"&&!n,a=H8(await Promise.all(o.partNames.map(l=>this._getSymbolPart(l))),o.overrides,s);return new In({data:a})}async _cimPartsToCIMSymbol(t,r,n,i,o,s,a){const l=r.map(h=>this._getSymbolPart(h,o));let c=await Promise.all(l);if(s&&this.fieldMap&&c.length>0){const{OverrideHelper:h}=await ue(()=>import("./OverrideHelper-4e34719e.js"),["assets/OverrideHelper-4e34719e.js","assets/colorUtils-8a0a0c74.js","assets/quantizationUtils-4020db87.js"]);c=D(c);for(const y of c)h.applyDictionaryTextOverrides(y,t,this.fieldMap,a,j3(y))}const p=H8(c,n,i);return new In({data:p})}async _fetchSymbolPart(t,r){const n=await this.dictionaryInfo,i=(this.url+"/"+n.cimRefTemplateUrl).replaceAll(/\{itemName\}/gi,t),{data:o}=await tt(i,{responseType:"json",query:{f:"json"},...r});return o}async _getSymbolPart(t,r){let n=this._symbolPartCache.get(t);return n||(n=this._fetchSymbolPart(t,r),this._symbolPartCache.put(t,n)),n}};function H8(e,t,r){if(!e||e.length===0)return null;const n={...e[0]};if(e.length>1){n.effects=null,n.symbolLayers=[];for(const i of e){const o=i;if(o.effects!=null)for(const s of o.symbolLayers)s.effects==null?s.effects=o.effects:s.effects.unshift(...o.effects);n.symbolLayers.unshift(...o.symbolLayers)}}return r&&(n.callout=p_e),{type:"CIMSymbolReference",symbol:n,primitiveOverrides:t}}var I3;let Zo=I3=class extends Ly(Ui){constructor(e){super(e),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){const e=this.getDictionaryInfo();return new bQ(this.url,this.config,this.fieldMap??{},e)}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,r,n){n?.origin||super.writeVisualVariables(e,t,r,n)}clone(){return new I3({config:D(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:D(this.fieldMap),url:D(this.url),visualVariables:D(this.visualVariables)})}async getSymbolAsync(e,t,r=!0){return this._loader.getSymbolAsync(e,t,r)}async getSymbolForControlString(e,t,r){return this._loader.getSymbolForControlString(e,t,r)}getDictionaryInfo(){return this._dictionaryInfoPromise||(this._dictionaryInfoPromise=this._fetchDictionaryInfo()),this._dictionaryInfoPromise}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t),this.scaleExpression&&await Is(e,t,this.scaleExpression);for(const r in this.fieldMap){const n=this.fieldMap[r];t.has(n)&&e.add(n)}}get arcadeRequired(){return!0}getSymbol(){return null}get symbols(){return[]}getAttributeHash(){return this.visualVariables?.reduce((e,t)=>e+t.getAttributeHash(),"")??""}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}async _fetchDictionaryInfo(){const{data:e}=await tt(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"}});return e}};u([d({type:bQ})],Zo.prototype,"_loader",null),u([d({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],Zo.prototype,"config",void 0),u([d({type:Object,json:{write:!0}})],Zo.prototype,"fieldMap",void 0),u([d({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],Zo.prototype,"scaleExpression",void 0),u([re("scaleExpression")],Zo.prototype,"writeData",null),u([d({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],Zo.prototype,"scaleExpressionTitle",void 0),u([d({type:String,json:{write:!0}})],Zo.prototype,"url",void 0),u([re("visualVariables")],Zo.prototype,"writeVisualVariables",null),Zo=I3=u([I("esri.renderers.DictionaryRenderer")],Zo);var A3;let Ua=A3=class extends z{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return e==null?e:typeof e=="function"?(ce.getLogger(this).error(".field: field must be a string value"),null):b1(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new A3({color:this.color?.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};u([d({type:ke,json:{type:[Number],write:!0}})],Ua.prototype,"color",void 0),u([d({type:String,json:{write:!0}})],Ua.prototype,"field",void 0),u([pt("field")],Ua.prototype,"castField",null),u([d({type:String,json:{write:!0}})],Ua.prototype,"label",void 0),u([d({type:String,json:{write:!0}})],Ua.prototype,"valueExpression",void 0),u([d({type:String,json:{write:!0}})],Ua.prototype,"valueExpressionTitle",void 0),Ua=A3=u([I("esri.renderers.support.AttributeColorInfo")],Ua);const wQ=Ua;var P3;let Nx=P3=class extends z{constructor(){super(...arguments),this.unit=null}clone(){return new P3({unit:this.unit})}};u([d({type:String,json:{write:!0}})],Nx.prototype,"unit",void 0),Nx=P3=u([I("esri.renderers.support.DotDensityLegendOptions")],Nx);const f_e=Nx;var N3;let ni=N3=class extends Ly(Ui){constructor(e){super(e),this.attributes=null,this.backgroundColor=new ke([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new pr,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(this.referenceScale==null)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new Ri({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes?.reduce((e,t)=>e+t.getAttributeHash(),"")??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new N3({attributes:D(this.attributes),backgroundColor:D(this.backgroundColor),dotBlendingEnabled:D(this.dotBlendingEnabled),dotShape:D(this.dotShape),dotSize:D(this.dotSize),dotValue:D(this.dotValue),legendOptions:D(this.legendOptions),outline:D(this.outline),referenceScale:D(this.referenceScale),seed:D(this.seed),visualVariables:D(this.visualVariables),authoringInfo:D(this.authoringInfo)})}getControllerHash(){return`${this.attributes?.map(t=>t.field||t.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const r of this.attributes??[])r.valueExpression&&await Is(e,t,r.valueExpression),r.field&&e.add(r.field)}};u([d({type:[wQ],json:{write:!0}})],ni.prototype,"attributes",void 0),u([d({type:ke,json:{write:!0}})],ni.prototype,"backgroundColor",void 0),u([d({type:Boolean,json:{write:!0}})],ni.prototype,"dotBlendingEnabled",void 0),u([d({type:String,json:{write:!1}})],ni.prototype,"dotShape",void 0),u([d({type:Number,json:{write:!0}})],ni.prototype,"dotSize",void 0),u([d({type:f_e,json:{write:!0}})],ni.prototype,"legendOptions",void 0),u([d({type:pr,json:{default:null,write:!0}})],ni.prototype,"outline",void 0),u([d({type:Number,json:{write:!0}})],ni.prototype,"dotValue",void 0),u([d({type:Number,json:{write:!0}})],ni.prototype,"referenceScale",void 0),u([d({type:Number,json:{write:!0}})],ni.prototype,"seed",void 0),u([ye({dotDensity:"dot-density"})],ni.prototype,"type",void 0),ni=N3=u([I("esri.renderers.DotDensityRenderer")],ni);var M3;let Lu=M3=class extends z{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new M3({color:this.color&&this.color.clone(),ratio:this.ratio})}};u([d({type:ke,json:{type:[ze],default:null,write:{isRequired:!0}}})],Lu.prototype,"color",void 0),u([d({type:Number,json:{write:{isRequired:!0}}})],Lu.prototype,"ratio",void 0),Lu=M3=u([I("esri.renderers.support.HeatmapColorStop")],Lu);let yf=class extends Se.ClonableMixin(z){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};u([d({type:String,json:{write:!0}})],yf.prototype,"minLabel",void 0),u([d({type:String,json:{write:!0}})],yf.prototype,"maxLabel",void 0),u([d({type:String,json:{write:!0}})],yf.prototype,"title",void 0),yf=u([I("esri.renderers.support.HeatmapLegendOptions")],yf);function h_e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function y_e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function m_e(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function g_e(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function xQ(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function SQ(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function _Q(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function v_e(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function b_e(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function w_e(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e}function x_e(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e}function S_e(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function __e(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function $_e(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e}function $Q(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return Math.sqrt(r*r+n*n+i*i+o*o)}function TQ(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return r*r+n*n+i*i+o*o}function OQ(e){const t=e[0],r=e[1],n=e[2],i=e[3];return Math.sqrt(t*t+r*r+n*n+i*i)}function EQ(e){const t=e[0],r=e[1],n=e[2],i=e[3];return t*t+r*r+n*n+i*i}function T_e(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function O_e(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function E_e(e,t){const r=t[0],n=t[1],i=t[2],o=t[3];let s=r*r+n*n+i*i+o*o;return s>0&&(s=1/Math.sqrt(s),e[0]=r*s,e[1]=n*s,e[2]=i*s,e[3]=o*s),e}function j_e(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function I_e(e,t,r,n){const i=t[0],o=t[1],s=t[2],a=t[3];return e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e[2]=s+n*(r[2]-s),e[3]=a+n*(r[3]-a),e}function A_e(e,t=1){const r=PZ;let n,i,o,s,a,l;do n=2*r()-1,i=2*r()-1,a=n*n+i*i;while(a>=1);do o=2*r()-1,s=2*r()-1,l=o*o+s*s;while(l>=1);const c=Math.sqrt((1-a)/l);return e[0]=t*n,e[1]=t*i,e[2]=t*o*c,e[3]=t*s*c,e}function P_e(e,t,r){const n=t[0],i=t[1],o=t[2],s=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*s,e[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*s,e[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*s,e[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*s,e}function N_e(e,t,r){const n=t[0],i=t[1],o=t[2],s=r[0],a=r[1],l=r[2],c=r[3],p=c*n+a*o-l*i,h=c*i+l*n-s*o,y=c*o+s*i-a*n,m=-s*n-a*i-l*o;return e[0]=p*c+m*-s+h*-l-y*-a,e[1]=h*c+m*-a+y*-s-p*-l,e[2]=y*c+m*-l+p*-a-h*-s,e[3]=t[3],e}function M_e(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function C_e(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function k_e(e,t){const r=e[0],n=e[1],i=e[2],o=e[3],s=t[0],a=t[1],l=t[2],c=t[3],p=bp();return Math.abs(r-s)<=p*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(n-a)<=p*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-l)<=p*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(o-c)<=p*Math.max(1,Math.abs(o),Math.abs(c))}const R_e=xQ,L_e=SQ,D_e=_Q,F_e=$Q,U_e=TQ,z_e=OQ,B_e=EQ;Object.freeze(Object.defineProperty({__proto__:null,add:g_e,ceil:v_e,copy:h_e,copyVec3:y_e,dist:F_e,distance:$Q,div:D_e,divide:_Q,dot:j_e,equals:k_e,exactEquals:C_e,floor:b_e,inverse:O_e,len:z_e,length:OQ,lerp:I_e,max:x_e,min:w_e,mul:L_e,multiply:SQ,negate:T_e,normalize:E_e,random:A_e,round:S_e,scale:__e,scaleAndAdd:$_e,set:m_e,sqrDist:U_e,sqrLen:B_e,squaredDistance:TQ,squaredLength:EQ,str:M_e,sub:R_e,subtract:xQ,transformMat4:P_e,transformQuat:N_e},Symbol.toStringTag,{value:"Module"}));function oR(){return[0,0,0,0]}function V_e(e){return[e[0],e[1],e[2],e[3]]}function Dy(e,t,r,n){return[e,t,r,n]}function q_e(e,t,r,n){return[e,t,r,n]}function G_e(e,t=oR()){const r=Math.min(4,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t}function jQ(){return oR()}function IQ(){return Dy(1,1,1,1)}function AQ(){return Dy(1,0,0,0)}function PQ(){return Dy(0,1,0,0)}function NQ(){return Dy(0,0,1,0)}function MQ(){return Dy(0,0,0,1)}const W_e=jQ(),H_e=IQ(),J_e=AQ(),Z_e=PQ(),K_e=NQ(),Y_e=MQ();Object.freeze(Object.defineProperty({__proto__:null,ONES:H_e,UNIT_W:Y_e,UNIT_X:J_e,UNIT_Y:Z_e,UNIT_Z:K_e,ZEROS:W_e,clone:V_e,create:oR,freeze:q_e,fromArray:G_e,fromValues:Dy,ones:IQ,unitW:MQ,unitX:AQ,unitY:PQ,unitZ:NQ,zeros:jQ},Symbol.toStringTag,{value:"Module"}));const sR=2.4;function Q_e(e){return jo(e*sR)}function X_e(e){return Bme(e)/sR}function xXe(e,t,r){const n=Math.sqrt(e**2+t**2)/r;return n>1?0:3/(Math.PI*r**2)*(1-n**2)**2}function SXe(e){return typeof e=="function"?e:e?t=>+t[e]:()=>1}var C3;function J8(e){if(e!=null){const{maxDensity:t,minDensity:r,radius:n}=e;if(t!=null||r!=null||n!=null){const{blurRadius:i,maxPixelIntensity:o,minPixelIntensity:s,...a}=e;return a}}return e}let Cr=C3=class extends Ui{constructor(e){super(e),this.authoringInfo=null,this.colorStops=[new Lu({ratio:0,color:new ke("rgba(255, 140, 0, 0)")}),new Lu({ratio:.75,color:new ke("rgba(255, 140, 0, 1)")}),new Lu({ratio:.9,color:new ke("rgba(255, 0,   0, 1)")})],this.field=null,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null}normalizeCtorArgs(e){return J8(e)}get blurRadius(){return X_e(this.radius)}set blurRadius(e){const t=this.maxPixelIntensity,r=this.minPixelIntensity;this._set("radius",Q_e(e)),this._set("maxDensity",t*this._pixelIntensityToDensity),this._set("minDensity",r*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(e){this._set("maxDensity",e*this._pixelIntensityToDensity)}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(e){this._set("minDensity",e*this._pixelIntensityToDensity)}get _pixelIntensityToDensity(){return 24/(sR**2*this.blurRadius**4)}read(e,t){e=J8(e),super.read(e,t)}getSymbol(){return new Rr}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}async collectRequiredFields(e,t){const r=this.field,n=this.valueExpression;r&&typeof r=="string"&&qi(e,t,r),n&&typeof n=="string"&&await Is(e,t,n)}getAttributeHash(){return""}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new C3({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:D(this.colorStops),field:this.field,legendOptions:D(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};u([d({type:Mt,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Cr.prototype,"authoringInfo",void 0),u([d({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Cr.prototype,"blurRadius",null),u([d({type:[Lu],json:{write:{isRequired:!0}}})],Cr.prototype,"colorStops",void 0),u([d({type:String,json:{write:!0}})],Cr.prototype,"field",void 0),u([d({type:yf,json:{write:!0}})],Cr.prototype,"legendOptions",void 0),u([d({type:Number,json:{write:!0}})],Cr.prototype,"maxDensity",void 0),u([d({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Cr.prototype,"maxPixelIntensity",null),u([d({type:Number,json:{write:!0}})],Cr.prototype,"minDensity",void 0),u([d({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Cr.prototype,"minPixelIntensity",null),u([d({type:Number,cast:Ge,json:{write:!0}})],Cr.prototype,"radius",void 0),u([d({type:Number,range:{min:0},json:{default:0,write:!0}})],Cr.prototype,"referenceScale",void 0),u([ye({heatmap:"heatmap"})],Cr.prototype,"type",void 0),u([d({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],Cr.prototype,"valueExpression",void 0),u([d({type:String})],Cr.prototype,"valueExpressionTitle",void 0),u([d({readOnly:!0})],Cr.prototype,"_pixelIntensityToDensity",null),Cr=C3=u([I("esri.renderers.HeatmapRenderer")],Cr);let hd=class extends Se.ClonableMixin(z){constructor(){super(...arguments),this.color=new ke([0,0,0,0]),this.label=null,this.threshold=0}};u([d({type:ke,json:{write:!0}})],hd.prototype,"color",void 0),u([d({type:String,json:{write:!0}})],hd.prototype,"label",void 0),u([d({type:Number,range:{min:0,max:1},json:{write:!0}})],hd.prototype,"threshold",void 0),hd=u([I("esri.renderers.support.OthersCategory")],hd);const e$e={base:Sn,key:"type",typeMap:{size:Ke,opacity:sl}};let ii=class extends Ly(Se.ClonableMixin(Ui)){constructor(t){super(t),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new ke([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new hd,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart",this.visualVariables=null}getSymbol(){return new Rr({size:this.size?this.size/2+(this.outline?.width||0):0})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(y1)}getAttributeHash(){return this.visualVariables?.reduce((t,r)=>t+r.getAttributeHash(),"")??""}getMeshHash(){return this.symbols.reduce((t,r)=>t+JSON.stringify(r),"")}async collectRequiredFields(t,r){await this.collectVVRequiredFields(t,r);for(const n of this.attributes)n.valueExpression&&await Is(t,r,n.valueExpression),n.field&&t.add(n.field)}};u([d({type:[wQ],json:{write:!0}})],ii.prototype,"attributes",void 0),u([d(Zk)],ii.prototype,"backgroundFillSymbol",void 0),u([d({type:ke,json:{write:!0}})],ii.prototype,"defaultColor",void 0),u([d({type:String,json:{write:!0}})],ii.prototype,"defaultLabel",void 0),u([d({type:Number,range:{min:0,max:1},json:{write:!0}})],ii.prototype,"holePercentage",void 0),u([d({type:hd,json:{write:!0}})],ii.prototype,"othersCategory",void 0),u([d({type:Kk,json:{write:!0}})],ii.prototype,"legendOptions",void 0),u([d({type:pr,json:{default:null,write:!0}})],ii.prototype,"outline",void 0),u([d({type:Number,cast:Ge,json:{write:!0}})],ii.prototype,"size",void 0),u([ye({pieChart:"pie-chart"})],ii.prototype,"type",void 0),u([d({types:[e$e]})],ii.prototype,"visualVariables",void 0),ii=u([I("esri.renderers.PieChartRenderer")],ii);const M1={key:"type",base:Ui,typeMap:{heatmap:Cr,simple:Gn,"unique-value":wt,"class-breaks":lr,"dot-density":ni,dictionary:Zo,"pie-chart":ii},errorContext:"renderer"},t$e={key:"type",base:Ui,typeMap:{simple:Gn,"unique-value":wt,"class-breaks":lr,heatmap:Cr},errorContext:"renderer",validate:r$e};function r$e(e){switch(e.type){case"simple":return n$e(e);case"unique-value":return i$e(e);case"class-breaks":return o$e(e);case"heatmap":return e}}function n$e(e){if(e.symbol)return e;ce.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene.")}function i$e(e){const t=e.uniqueValueInfos,r=t?.filter(({symbol:n,label:i},o)=>(n||ce.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${o}] ${i}) without a symbol from web scene.`),!!n));return r?.length!==t?.length&&(e.uniqueValueInfos=r),e}function o$e(e){const t=e.classBreakInfos,r=t?.filter(({symbol:n,label:i},o)=>(n||ce.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${o}] ${i}) without a symbol from web scene.`),!!n));return r?.length!==t?.length&&(e.classBreakInfos=r),e}function TXe(e,t){return tv(e,null,t)}const s$e=Oy({types:M1});function tv(e,t,r){return e?e&&(e.styleName||e.styleUrl)&&e.type!=="uniqueValue"?(r?.messages&&r.messages.push(new Os("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:r})),null):s$e(e,t,r):null}var k3;let nn=k3=class extends Ku{constructor(e){super(e),this.type="binning",this.binType="geohash",this.fixedBinLevel=null,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.size=Ge("12px"),this.fields=[],this.renderer=null}writeFields(e,t,r){const n=e.filter(i=>i.statisticType!=="avg_angle").map(i=>i.toJSON());nr(r,n,t)}readRenderer(e,t,r){const n=t.drawingInfo?.renderer;return n?tv(n,t,r)??void 0:Qk(t,r)}clone(){return new k3({fields:D(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:D(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:D(this.popupTemplate),renderer:D(this.renderer),binType:D(this.binType),size:this.size})}};u([ye({binning:"binning"})],nn.prototype,"type",void 0),u([ye({geohash:"geohash",square:"square"}),d({type:["geohash","square"]})],nn.prototype,"binType",void 0),u([d({type:Number,json:{write:!0}})],nn.prototype,"fixedBinLevel",void 0),u([d({type:[Ot],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],nn.prototype,"labelingInfo",void 0),u([d(f$)],nn.prototype,"labelsVisible",void 0),u([d({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],nn.prototype,"maxScale",void 0),u([d(p$)],nn.prototype,"popupEnabled",void 0),u([d({type:Cy,json:{name:"popupInfo",write:!0}})],nn.prototype,"popupTemplate",void 0),u([d({cast:e=>e==="auto"?e:Vn(Ge(e))})],nn.prototype,"size",void 0),u([d({type:[jn],json:{write:!0}})],nn.prototype,"fields",void 0),u([re("fields")],nn.prototype,"writeFields",null),u([d({types:M1,json:{write:{target:"drawingInfo.renderer"}}})],nn.prototype,"renderer",void 0),u([X("renderer",["drawingInfo.renderer"])],nn.prototype,"readRenderer",null),nn=k3=u([I("esri.layers.support.FeatureReductionBinning")],nn);var R3;function Z8(e){return e.type==="simple"&&!e.visualVariables?.length}let ur=R3=class extends z{constructor(e){super(e),this.type="cluster",this.clusterRadius=Ge("80px"),this.clusterMinSize=Ge("12px"),this.clusterMaxSize=Ge("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=[]}readRenderer(e,t,r){const n=t.drawingInfo?.renderer;return n?.authoringInfo?.isAutoGenerated?null:n?Z8(n)?null:tv(n,t,r)??void 0:Qk(t,r)}readSymbol(e,t,r){const n=t.drawingInfo?.renderer;return n?.authoringInfo?.isAutoGenerated?null:n&&Z8(n)?tv(n,t,r)?.symbol:null}writeSymbol(e,t,r,n){const i=this.renderer?.authoringInfo?.isAutoGenerated;if(!this.renderer||i){const o=new Gn({symbol:e});t.drawingInfo={renderer:o.write({},n)}}}writeFields(e,t,r){const n=e.filter(i=>i.statisticType!=="avg_angle").map(i=>i.toJSON());nr(r,n,t)}readFields(e,t,r){return e.filter(n=>!n.isAutoGenerated).map(n=>jn.fromJSON(n))}clone(){return new R3({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:D(this.labelingInfo),labelsVisible:this.labelsVisible,fields:D(this.fields),maxScale:this.maxScale,renderer:D(this.renderer),symbol:D(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:D(this.popupTemplate)})}};u([d({type:["cluster"],readOnly:!0,json:{write:!0}})],ur.prototype,"type",void 0),u([d({cast:e=>e==="auto"?e:Vn(Ge(e)),json:{write:!0}})],ur.prototype,"clusterRadius",void 0),u([d({type:Number,cast:Ge,json:{write:!0}})],ur.prototype,"clusterMinSize",void 0),u([d({type:Number,cast:Ge,json:{write:!0}})],ur.prototype,"clusterMaxSize",void 0),u([d({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],ur.prototype,"maxScale",void 0),u([d(p$)],ur.prototype,"popupEnabled",void 0),u([d({type:Cy,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],ur.prototype,"popupTemplate",void 0),u([d({types:M1,json:{write:{target:"drawingInfo.renderer"}}})],ur.prototype,"renderer",void 0),u([X("renderer",["drawingInfo.renderer"])],ur.prototype,"readRenderer",null),u([d({types:sbe})],ur.prototype,"symbol",void 0),u([X("symbol",["drawingInfo.renderer"])],ur.prototype,"readSymbol",null),u([re("symbol")],ur.prototype,"writeSymbol",null),u([d({type:[Ot],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],ur.prototype,"labelingInfo",void 0),u([d(f$)],ur.prototype,"labelsVisible",void 0),u([d({type:[jn],json:{write:!0}})],ur.prototype,"fields",void 0),u([re("fields")],ur.prototype,"writeFields",null),u([X("fields")],ur.prototype,"readFields",null),ur=R3=u([I("esri.layers.support.FeatureReductionCluster")],ur);var L3;let sg=L3=class extends Ku{constructor(e){super(e),this.type="selection"}clone(){return new L3}};u([d({type:["selection"]})],sg.prototype,"type",void 0),sg=L3=u([I("esri.layers.support.FeatureReductionSelection")],sg);const K8={key:"type",base:Ku,typeMap:{cluster:ur,binning:nn}},a$e={types:{key:"type",base:Ku,typeMap:{selection:sg,cluster:ur,binning:nn}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:K8},"portal-item":{types:K8},"web-scene":{types:{key:"type",base:Ku,typeMap:{selection:sg}},name:"layerDefinition.featureReduction",write:{layerContainerTypes:bt}}}}},l$e=()=>ce.getLogger("esri.views.2d.layers.support.clusterUtils");q.add("esri-cluster-arcade-enabled",!0);const u$e=q("esri-cluster-arcade-enabled"),c$e=new Set(["simple-line","simple-fill","picture-fill"]);function Y8(e,t){let r=t.clone();if(!d$e(r))return r;if(t.symbols.some(n=>c$e.has(n.type))&&(r=new Gn({symbol:new Rr})),r.authoringInfo||(r.authoringInfo=new Mt),r.authoringInfo.isAutoGenerated=!0,"visualVariables"in r){const n=(r.visualVariables||[]).filter(i=>i.valueExpression!=="$view.scale");n.forEach(i=>{i.type==="rotation"?i.field?i.field=jc(e,i.field,"avg_angle","number"):i.valueExpression&&(i.field=xm(e,i.valueExpression,"avg_angle","number"),i.valueExpression=null):i.normalizationField?(i.field=jc(e,i.field,"avg_norm","number",i.normalizationField),i.normalizationField=null):i.field?i.field=jc(e,i.field,"avg","number"):i.valueExpression&&(i.field=xm(e,i.valueExpression,"avg","number"),i.valueExpression=null)}),r.visualVariables=n}switch(r.type){case"simple":break;case"pie-chart":for(const n of r.attributes)n.field?n.field=jc(e,n.field,"sum","number"):n.valueExpression&&(n.field=xm(e,n.valueExpression,"sum","number"),n.valueExpression=null);break;case"unique-value":r.field?r.field=jc(e,r.field,"mode","string"):r.valueExpression&&(r.field=xm(e,r.valueExpression,"mode","string"),r.valueExpression=null);break;case"class-breaks":r.normalizationField?(r.field=jc(e,r.field,"avg_norm","number",r.normalizationField),r.normalizationField=null):r.field?r.field=jc(e,r.field,"avg","number"):r.valueExpression&&(r.field=xm(e,r.valueExpression,"avg","number"),r.valueExpression=null)}return r}const d$e=e=>{const t=r=>l$e().error(new Z("Unsupported-renderer",r,{renderer:e}));if(!e)return!1;switch(e.type){case"unique-value":if(e.field2||e.field3)return t("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(e.normalizationField){const r=e.normalizationType;if(r!=="field")return t(`FeatureReductionCluster does not support a normalizationType of ${r}`),!1}break;case"simple":case"pie-chart":break;default:return t(`FeatureReductionCluster does not support renderers of type ${e.type}`),!1}if(!u$e){if("valueExpression"in e&&e.valueExpression)return t("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in e&&e.visualVariables||[]).some(r=>!(!("valueExpression"in r)||!r.valueExpression)))return t("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function p$e(e,t,r){switch(e){case"sum":return`cluster_sum_${t}`;case"avg":case"avg_angle":return`cluster_avg_${t}`;case"mode":return`cluster_type_${t}`;case"avg_norm":{const n=r,i="field",o=t.toLowerCase()+",norm:"+i+","+n.toLowerCase();return"cluster_avg_"+ck(o)}}}function xm(e,t,r,n){const i=ck(t),o=r==="mode"?`cluster_type_${i}`:r==="sum"?`cluster_sum_${i}`:`cluster_avg_${i}`;return e.some(s=>s.name===o)||e.push(new jn({name:o,isAutoGenerated:!0,onStatisticExpression:new Tu({expression:t,returnType:n}),statisticType:r})),o}function jc(e,t,r,n,i){if(t==="cluster_count"||e.some(s=>s.name===t))return t;const o=p$e(r,t,i);return e.some(s=>s.name===o)||(r==="avg_norm"?e.push(new jn({name:o,isAutoGenerated:!0,onStatisticExpression:new Tu({expression:`$feature.${t} / $feature.${i}`,returnType:n}),statisticType:"avg"})):e.push(new jn({name:o,isAutoGenerated:!0,onStatisticField:t,statisticType:r}))),o}const f$e=e=>{let t=class extends e{constructor(...r){super(...r),this.addHandles(ah(()=>this.renderer,()=>{if(this.featureReduction){const n=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",n)}},K_))}set featureReduction(r){const n=this._normalizeFeatureReduction(r);this._set("featureReduction",n)}set renderer(r){}_withClusterVariable(r,n,i){const o=r.clone();return"visualVariables"in o&&(o.visualVariables||(o.visualVariables=[]),o.visualVariables.some(s=>s.type==="size")||o.visualVariables.push(new Ke({field:"cluster_count",stops:[new ns({value:1}),new ns({useMinValue:!0,size:n}),new ns({useMaxValue:!0,size:i})]}))),o}_normalizeFeatureReduction(r){if(r?.type!=="cluster")return r;const n=r.clone(),i=[new jn({name:"cluster_count",alias:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],o=(n.fields??[]).filter(h=>!h.isAutoGenerated),s=r.renderer&&!r.renderer.authoringInfo?.isAutoGenerated,{clusterMinSize:a,clusterMaxSize:l}=n;if(s){n.fields=[...i,...o];const h=this._withClusterVariable(n.renderer,a,l);return n.effectiveFeatureRenderer=h,n.effectiveClusterRenderer=h,n}if(r.symbol){if(n.fields=[...i,...o],n.renderer=null,!this.renderer)return n.effectiveFeatureRenderer=null,n.effectiveClusterRenderer=null,n;const h=Y8(i,this.renderer),y=this._withClusterVariable(h,a,l),m="visualVariables"in y&&y.visualVariables?y.visualVariables:[],g=new Gn({symbol:r.symbol,visualVariables:m});return n.fields=[...i,...o],n.effectiveFeatureRenderer=y,n.effectiveClusterRenderer=g,n}if(!this.renderer)return r;const c=Y8(i,this.renderer);n.fields=[...i,...o],n.renderer=c;const p=this._withClusterVariable(c,a,l);return n.effectiveFeatureRenderer=p,n.effectiveClusterRenderer=p,n}};return u([d(a$e)],t.prototype,"featureReduction",null),t=u([I("esri.layers.mixins.FeatureReductionLayer")],t),t},Q8={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,ArcGISVideoLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},X8={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},e9={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},h$e={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,Object3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,ViewshedLayer:!0,Voxel:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":Q8,"web-map/basemap":X8,"web-map/tables":e9,"link-chart/operational-layers":{...Q8,LinkChartLayer:!0},"link-chart/basemap":X8,"link-chart/tables":e9,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0,WCS:!0},"portal-item/tables":{ArcGISFeatureLayer:!0,SubtypeGroupTable:!0}},y$e=e=>{let t=class extends e{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(r,n,i){return i?.portalItem?.type==="Group Layer"?void 0:r}writeListMode(r,n,i,o){(o&&o.layerContainerType==="ground"||r&&jce(this,i,{},o))&&(n[i]=r)}writeOperationalLayerType(r,n,i){r&&(n[i]=r)}writeTitle(r,n){n.title=r??"Layer"}readVisibilityTimeExtent(r){return r?ct.fromArray(r):null}writeVisibilityTimeExtent(r,n,i,o){r&&o.layerContainerType!=="tables"&&(r.isEmpty?o?.messages&&o.messages.push(new Z("layer:invalid-visibilityTimeExtent","visibilityTimeExtent cannot be empty")):n[i]=r.toArray())}read(r,n){n&&(n.layer=this),FW(this,r,i=>super.read(r,i),n)}write(r,n){if(!this.persistenceEnabled&&!n?.ignorePersistenceEnabled)return null;if(n?.origin){const s=`${n.origin}/${n.layerContainerType||"operational-layers"}`;let l=!!h$e[s]?.[this.operationalLayerType];if(this.operationalLayerType==="ArcGISTiledElevationServiceLayer"&&s==="web-scene/operational-layers"&&(l=!1),this.operationalLayerType==="ArcGISDimensionLayer"&&s==="web-map/operational-layers"&&(l=!1),!l)return n.messages?.push(new Z("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${s}'`,{layer:this})),null}const i=super.write(r,{...n,layer:this}),o=!!n&&!!n.messages&&!!n.messages.filter(s=>s instanceof Z&&s.name==="web-document-write:property-required").length;return _y(i?.url)?(n?.messages?.push(new Z("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&o?null:i}beforeSave(){}};return u([d({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),u([X("id",["id"])],t.prototype,"readId",null),u([d(jY)],t.prototype,"listMode",void 0),u([re("listMode")],t.prototype,"writeListMode",null),u([d({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:bt,isRequired:!0}}}}})],t.prototype,"operationalLayerType",void 0),u([re("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),u([d(JP)],t.prototype,"opacity",void 0),u([d({type:Boolean,readOnly:!1})],t.prototype,"persistenceEnabled",void 0),u([d({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),u([re("title"),re(["web-scene"],"title")],t.prototype,"writeTitle",null),u([d({type:ct,json:{origins:{"web-scene":{write:{layerContainerTypes:bt}}}}})],t.prototype,"visibilityTimeExtent",void 0),u([X("visibilityTimeExtent")],t.prototype,"readVisibilityTimeExtent",null),u([re(["portal-item","web-map","web-scene"],"visibilityTimeExtent",{visibilityTimeExtent:{type:[[ze,Ty]]}})],t.prototype,"writeVisibilityTimeExtent",null),u([d({type:Boolean,json:{name:"visibility",write:{layerContainerTypes:bt}}})],t.prototype,"visible",void 0),t=u([I("esri.layers.mixins.OperationalLayer")],t),t};var D3;const Bb=new Pe({asc:"ascending",desc:"descending"});var s1;let yd=(s1=class extends z{constructor(t){super(t),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new D3({field:this.field,valueExpression:this.valueExpression,order:this.order})}},D3=s1,s1);u([d({type:String,json:{write:!0}})],yd.prototype,"field",void 0),u([d({type:String,json:{write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],yd.prototype,"valueExpression",void 0),u([d({type:Bb.apiValues,json:{type:Bb.jsonValues,read:Bb.read,write:Bb.write}})],yd.prototype,"order",void 0),yd=D3=u([I("esri.layers.support.OrderByInfo")],yd);function m$e(e,t,r){if(!e)return null;const n=e.find(o=>!!o.field);if(!n)return null;const i=new yd;return i.read(n,r),[i]}function g$e(e,t,r,n){const i=e.find(o=>!!o.field);i&&nr(r,[i.toJSON()],t)}const v$e={type:[yd],json:{origins:{"web-scene":{write:!1,read:!1}},name:"layerDefinition.orderBy",read:{reader:m$e},write:{writer:g$e}}},b$e=e=>{let t=class extends e{constructor(){super(...arguments),this.orderBy=null}};return u([d(v$e)],t.prototype,"orderBy",void 0),t=u([I("esri.layers.mixins.OrderedLayer")],t),t},w$e=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=_o(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(r){r!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",r))}readPortalItem(r,n,i){if(n.itemId)return new $e({id:n.itemId,portal:i?.portal})}writePortalItem(r,n){r?.id&&(n.itemId=r.id)}async loadFromPortal(r,n){if(this.portalItem?.id)try{const{load:i}=await ue(()=>import("./layersLoader-5455b17d.js"),["assets/layersLoader-5455b17d.js","assets/fetchService-05f74a69.js","assets/loadUtils-8b4d1e2c.js","assets/associatedFeatureServiceUtils-a638208b.js"]);return kn(n),await i({instance:this,supportedTypes:r.supportedTypes,validateItem:r.validateItem,supportsData:r.supportsData,layerModuleTypeMap:r.layerModuleTypeMap,populateGroupLayer:r.populateGroupLayer},n)}catch(i){throw Ao(i)||ce.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})
  ${i}`),i}}async finishLoadEditablePortalLayer(r){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(r).catch(n=>(ea(n),!0)))}async setUserPrivileges(r,n){if(!Ye.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(n);if(this.url)try{const{features:{edit:i,fullEdit:o},content:{updateItem:s}}=await this._fetchUserPrivileges(r,n);this._set("userHasEditingPrivileges",i),this._set("userHasFullEditingPrivileges",o),this._set("userHasUpdateItemPrivileges",s)}catch(i){ea(i)}}async _fetchUserPrivileges(r,n){let i=this.portalItem;if(!r||!i||!i.loaded||i.sourceUrl)return this._fetchFallbackUserPrivileges(n);const o=!He?.findCredential(this.url),s=r===i.id;if(s&&i.portal.user)return this._getUserPrivileges(i,o);let a,l;if(s)a=i.portal.url;else try{a=await AJ(this.url,n)}catch(y){ea(y)}if(!a||!Fae(a,i.portal.url))return this._fetchFallbackUserPrivileges(n);try{const y=n!=null?n.signal:null;l=await He?.getCredential(`${a}/sharing`,{prompt:!1,signal:y})}catch(y){ea(y)}const c=!0,p=!1,h=!1;if(!l)return{features:{edit:c,fullEdit:p},content:{updateItem:h}};try{if(s?await i.reload():(i=new $e({id:r,portal:{url:a}}),await i.load(n)),i.portal.user)return this._getUserPrivileges(i,o)}catch(y){ea(y)}return{features:{edit:c,fullEdit:p},content:{updateItem:h}}}_getUserPrivileges(r,n){const i=bge(r);return n&&(i.features.edit=!0),i}async _fetchFallbackUserPrivileges(r){let n=!0;try{n=await this._fetchUserHasEditingPrivileges(r)}catch(i){ea(i)}return{features:{edit:n,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(r){const n=this.url?He?.findCredential(this.url):null;if(!n)return!0;const i=Vb.credential===n?Vb.user:await this._fetchEditingUser(r);return Vb.credential=n,Vb.user=i,i?.privileges==null||i.privileges.includes("features:user:edit")}async _fetchEditingUser(r){const n=this.portalItem?.portal?.user;if(n)return n;const i=He?.findServerInfo(this.url??"");if(!i?.owningSystemUrl)return null;const o=`${i.owningSystemUrl}/sharing/rest`,s=te.getDefault();if(s&&s.loaded&&vs(s.restUrl)===vs(o))return s.user;const a=`${o}/community/self`,l=r!=null?r.signal:null,c=await VC(tt(a,{authMode:"no-prompt",query:{f:"json"},signal:l}));return c.ok?st.fromJSON(c.value.data):null}read(r,n){n&&(n.layer=this),super.read(r,n)}write(r,n){const i=n?.portal,o=this.portalItem?.id&&(this.portalItem.portal||te.getDefault());return i&&o&&!_G(o.restUrl,i.restUrl)?(n.messages&&n.messages.push(new Z("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(r,{...n,layer:this})}};return u([d({type:$e})],t.prototype,"portalItem",null),u([X("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),u([re("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),u([d({clonable:!1})],t.prototype,"resourceReferences",void 0),u([d({type:Boolean,readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),u([d({type:Boolean,readOnly:!0})],t.prototype,"userHasFullEditingPrivileges",void 0),u([d({type:Boolean,readOnly:!0})],t.prototype,"userHasUpdateItemPrivileges",void 0),t=u([I("esri.layers.mixins.PortalLayer")],t),t},Vb={credential:null,user:null};let S0=class extends dt{constructor(){super(...arguments),this.updating=!1,this.status="unknown"}};u([d()],S0.prototype,"updating",void 0),u([d()],S0.prototype,"status",void 0),S0=u([I("esri.layers.support.PublishingInfo")],S0);const x$e=Symbol(),S$e=e=>{var n;var t;let r=(n=class extends e{constructor(){super(...arguments),this[t]=!0}get publishingInfo(){if(this.destroyed)return null;const i=this._get("publishingInfo");if(i)return i;const o=new S0;return this._checkPublishingStatus(o),o}_checkPublishingStatus(i){let a=0;const l=async p=>{let h;i.updating=!0;try{h=await this.fetchPublishingStatus()}catch{h="unavailable"}h!=="published"&&h!=="unavailable"||(i.status==="publishing"&&this.refresh(),c.remove()),i.status=h,i.updating=!1,c.removed||(a=setTimeout(l,p,p+125))},c={removed:!1,remove(){this.removed=!0,clearTimeout(a)}};this.when().catch(()=>c.remove()),l(250),this.addHandles(c)}},t=x$e,n);return u([d({readOnly:!0,clonable:!1})],r.prototype,"publishingInfo",null),r=u([I("esri.layers.mixins.PublishableLayer")],r),r},Du=new Te,ag=new WeakMap;function _$e(e){T$e(e)&&Du.push(new WeakRef(e))}function $$e(e){const t=Du.find(r=>r.deref()===e);t&&Du.remove(t)}function T$e(e){return e!=null&&typeof e=="object"&&"refreshInterval"in e&&"refresh"in e}function CQ(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:CQ(t,e%t):0}let zO=0,qb=0;function O$e(){const e=Date.now();let t=!1;for(const r of Du){const n=r.deref();n?n.refreshInterval&&e-(ag.get(n)??0)+5>=6e4*n.refreshInterval&&(ag.set(n,e),n.refresh(e)):t=!0}if(t)for(let r=Du.length-1;r>=0;r--)Du.at(r).deref()||Du.removeAt(r)}mW(()=>{const e=Date.now();let t=0;for(const r of Du){const n=r.deref();n&&(t=CQ(Math.round(6e4*n.refreshInterval),t),n.refreshInterval?ag.get(n)||ag.set(n,e):ag.delete(n))}if(t!==qb){if(qb=t,clearInterval(zO),qb===0)return void(zO=0);zO=setInterval(O$e,qb)}},K_);const t9=.1,E$e=e=>{let t=class extends e{constructor(...r){super(...r),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=OC(()=>this.hasDataChanged()),this.when().then(()=>{this.destroyed||_$e(this)},()=>{})}destroy(){$$e(this)}castRefreshInterval(r){return r>=t9?r:r<=0?0:t9}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(r=Date.now()){cle(this._debounceHasDataChanged()).then(n=>{n&&this._set("refreshTimestamp",r),this.emit("refresh",{dataChanged:n})},n=>{ce.getLogger(this).error(n),this.emit("refresh",{dataChanged:!1,error:n})})}async hasDataChanged(){return!0}get test(){}};return u([d({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:bt}}}}})],t.prototype,"refreshInterval",void 0),u([pt("refreshInterval")],t.prototype,"castRefreshInterval",null),u([d({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),u([d({readOnly:!0})],t.prototype,"refreshParameters",null),t=u([I("esri.layers.mixins.RefreshableLayer")],t),t},j$e=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const r={minScale:this.minScale,maxScale:this.maxScale},n=this.parent;n&&"effectiveScaleRange"in n&&I$e(r,n.effectiveScaleRange);const i=this._get("effectiveScaleRange");return i&&i.minScale===r.minScale&&i.maxScale===r.maxScale?i:r}};return u([d({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),u([d({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),u([d({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=u([I("esri.layers.mixins.ScaleRangeLayer")],t),t};function I$e(e,t){return e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale,e}function r9(e,t){return fs.fromJSON({value:e,unit:t})}let Gr=class extends Se.ClonableMixin(z){constructor(t){super(t),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0,this.stops=null}readFullTimeExtent(t,r){return r.timeExtent&&Array.isArray(r.timeExtent)&&r.timeExtent.length===2?ct.fromArray(r.timeExtent):null}writeFullTimeExtent(t,r){t?.start!=null&&t.end!=null?r.timeExtent=t.toArray():r.timeExtent=null}readInterval(t,r){return r.timeInterval&&r.timeIntervalUnits?r9(r.timeInterval,r.timeIntervalUnits):r.defaultTimeInterval&&r.defaultTimeIntervalUnits?r9(r.defaultTimeInterval,r.defaultTimeIntervalUnits):null}writeInterval(t,r){r.timeInterval=t?.toJSON().value??null,r.timeIntervalUnits=t?.toJSON().unit??null}};u([d({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],Gr.prototype,"cumulative",void 0),u([d({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],Gr.prototype,"endField",void 0),u([d({type:ct,json:{write:{enabled:!0,allowNull:!0}}})],Gr.prototype,"fullTimeExtent",void 0),u([X("fullTimeExtent",["timeExtent"])],Gr.prototype,"readFullTimeExtent",null),u([re("fullTimeExtent")],Gr.prototype,"writeFullTimeExtent",null),u([d({type:Boolean,json:{write:!0}})],Gr.prototype,"hasLiveData",void 0),u([d({type:fs,json:{write:{enabled:!0,allowNull:!0}}})],Gr.prototype,"interval",void 0),u([X("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],Gr.prototype,"readInterval",null),u([re("interval")],Gr.prototype,"writeInterval",null),u([d({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],Gr.prototype,"startField",void 0),u([d(zS("timeReference",!0))],Gr.prototype,"timeZone",void 0),u([d({type:String,json:{write:{enabled:!0,allowNull:!0}}})],Gr.prototype,"trackIdField",void 0),u([d({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],Gr.prototype,"useTime",void 0),u([d({type:[Date],json:{read:!1}})],Gr.prototype,"stops",void 0),Gr=u([I("esri.layers.support.TimeInfo")],Gr);const A$e={type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation",layerContainerTypes:bt}}},P$e=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(r,n){const i=n.timeInfo.exportOptions;if(!i)return null;const o=i.timeOffset,s=Ok.fromJSON(i.timeOffsetUnits);return o&&s?new fs({value:o,unit:s}):null}set timeInfo(r){mK(r,this.fieldsIndex),this._set("timeInfo",r)}};return u([d({type:ct,json:{write:!1}})],t.prototype,"timeExtent",void 0),u([d({type:fs})],t.prototype,"timeOffset",void 0),u([X("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),u([d({value:null,type:Gr,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),u([d(A$e)],t.prototype,"useViewTime",void 0),t=u([I("esri.layers.mixins.TemporalLayer")],t),t};let ho=class extends Se.ClonableMixin(z){constructor(t){super(t),this.labelingInfo=null,this.labelsVisible=!0,this.renderer=null,this.visible=!0}};u([d({type:[Ot],json:{write:!0}})],ho.prototype,"labelingInfo",void 0),u([d(f$)],ho.prototype,"labelsVisible",void 0),u([d({types:M1,json:{write:!0}})],ho.prototype,"renderer",void 0),u([d({type:Boolean,json:{write:!0}})],ho.prototype,"visible",void 0),ho=u([I("esri.layers.support.TrackPartInfo")],ho);let oi=class extends Se.ClonableMixin(z){constructor(t){super(t),this.enabled=!0,this.fields=[],this.latestObservations=new ho({renderer:new Gn({symbol:c3.clone()})}),this.maxDisplayDuration=null,this.maxDisplayObservationsPerTrack=0,this.popupEnabled=!0,this.popupTemplate=null,this.previousObservations=new ho({renderer:new Gn({symbol:c3.clone()})}),this.trackLines=new ho({renderer:new Gn({symbol:DY.clone()})}),this.timeField="startTimeField"}writeFields(t,r,n){const i=t.filter(o=>o.statisticType!=="avg_angle").map(o=>o.toJSON());nr(n,i,r)}};u([d({type:Boolean,json:{write:!0}})],oi.prototype,"enabled",void 0),u([d({type:[jn],json:{write:!0}})],oi.prototype,"fields",void 0),u([re("fields")],oi.prototype,"writeFields",null),u([d({type:ho,json:{write:!0}})],oi.prototype,"latestObservations",void 0),u([d({type:fs,json:{write:!0}})],oi.prototype,"maxDisplayDuration",void 0),u([d({type:Number,json:{write:!0}})],oi.prototype,"maxDisplayObservationsPerTrack",void 0),u([d(p$)],oi.prototype,"popupEnabled",void 0),u([d({type:Cy,json:{name:"popupInfo",write:!0}})],oi.prototype,"popupTemplate",void 0),u([d({type:ho,json:{write:!0}})],oi.prototype,"previousObservations",void 0),u([d({type:ho,json:{write:!0}})],oi.prototype,"trackLines",void 0),u([d({type:["timeReceived","startTimeField","endTimeField"],json:{read:!0,write:!0}})],oi.prototype,"timeField",void 0),oi=u([I("esri.layers.support.TrackInfo")],oi);const N$e=e=>{let t=class extends e{constructor(){super(...arguments),this.trackInfo=null}};return u([d({type:oi})],t.prototype,"trackInfo",void 0),t=u([I("esri.layers.mixins.TrackableLayer")],t),t},n9=new Pe({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let Xs=class extends Se.ClonableMixin(z){constructor(t){super(t),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};u([d({json:{write:!0}})],Xs.prototype,"name",void 0),u([d({json:{write:!0}})],Xs.prototype,"description",void 0),u([d({json:{read:n9.read,write:n9.write}})],Xs.prototype,"drawingTool",void 0),u([d({json:{write:!0}})],Xs.prototype,"prototype",void 0),u([d({json:{write:!0}})],Xs.prototype,"thumbnail",void 0),Xs=u([I("esri.layers.support.FeatureTemplate")],Xs);let Ys=class extends Se.ClonableMixin(z){constructor(t){super(t),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(t){const r={};for(const n of Object.keys(t))r[n]=c$(t[n]);return r}writeDomains(t,r){const n={};for(const i of Object.keys(t))t[i]&&(n[i]=t[i]?.toJSON());r.domains=n}};u([d({json:{write:!0}})],Ys.prototype,"id",void 0),u([d({json:{write:!0}})],Ys.prototype,"name",void 0),u([d({json:{write:!0}})],Ys.prototype,"domains",void 0),u([X("domains")],Ys.prototype,"readDomains",null),u([re("domains")],Ys.prototype,"writeDomains",null),u([d({type:[Xs],json:{write:!0}})],Ys.prototype,"templates",void 0),Ys=u([I("esri.layers.support.FeatureType")],Ys);function M$e(){return{fields:{type:[Hr],value:null,set:function(e){if(e&&q("big-integer-warning-enabled")){const t=e.filter(r=>r.type==="big-integer"||r.type==="oid"&&(r.length||0)>=8);if(t.length){const r=t.map(n=>`'${n.name}'`).join(", ");ce.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${r}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`)}}this._set("fields",e)}},fieldsIndex:{readOnly:!0,get(){return t2.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){const e=this._userOutFields;if(!e?.length)return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(const t of e)this.fieldsIndex?.has(t)||ce.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${t} found in outFields`,{layer:this,outFields:e});return Ik(this.fieldsIndex,e)}}}}const BO=()=>ce.getLogger("esri.layers.support.labelingInfo"),C$e=/\[([^[\]]+)\]/gi;function i9(e,t,r){return e?e.map(n=>{const i=new Ot;if(i.read(n,r),i.labelExpression){const o=t.fields||t.layerDefinition?.fields||this.fields;i.labelExpression=i.labelExpression.replaceAll(C$e,(s,a)=>`[${k$e(a,o)}]`)}return i}):null}function k$e(e,t){if(!t)return e;const r=e.toLowerCase();for(let n=0;n<t.length;n++){const i=t[n].name;if(i.toLowerCase()===r)return i}return e}const o9=["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],R$e={esriGeometryPoint:o9,esriGeometryMultiPatch:["always-horizontal"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along","above-along","below-along"],esriGeometryMultipoint:o9,esriGeometryEnvelope:null};function NXe(e,t){const r=[];for(const n of e){const i=n.labelPlacement,o=R$e[t];if(!n.symbol)return BO().warn("No ILabelClass symbol specified."),[];if(!o)return BO().error(new Z("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${t}' is not supported`)),[];if(o.includes(i))r.push(n);else{const s=o[0];i&&BO().warn(`Found invalid label placement type ${i} for ${t}. Defaulting to ${s}`);const a=n.clone();a.labelPlacement=s,r.push(a)}}return r}const L$e="relationships/",D$e="expression/";let Ln=class extends dt{constructor(t){super(t),this._featureUtils=null,this.effectivePopupTemplate=null}get _arcadeTask(){return this.expressionsUsedInTitle.length>0?this._get("_arcadeTask")||Dce(()=>op()):null}get featureUtilsPromise(){return this._get("featureUtilsPromise")??ue(()=>import("./featureUtils-03e2e2b4.js"),["assets/featureUtils-03e2e2b4.js","assets/utils-2cad792c.js"]).then(t=>this._featureUtils=t)}get calculatedExpressions(){const t=new Te;if(!this.expressionsUsedInTitle.length)return t;if(!this._arcadeTask?.value){for(const r of this.expressionsUsedInTitle??[])t.push({name:r.name,invalid:!0});return t}for(const r of this.expressionsUsedInTitle)try{const n=this._arcadeTask.value.arcade.parseScript(r.expression,["$layer","$map","$datastore"]);if(n.isAsync){t.push({name:r.name,invalid:!0});break}t.push({name:r.name,syntax:n,invalid:!1,func:this._arcadeTask.value.arcade.compileScript(n,{vars:{$feature:"any"}})})}catch{t.push({name:r.name,invalid:!0});break}return t}get expressionsUsedInTitle(){let t=this.effectivePopupTemplate?.title??"";return typeof t!="string"?[]:(t=t.toLowerCase(),this.effectivePopupTemplate?.expressionInfos?.filter(r=>t.includes(`{expression/${r.name.toLowerCase()}}`))??[])}get fieldInfoMap(){return this._featureUtils?this._createFieldInfoMap(this._featureUtils.getAllFieldInfos(this.effectivePopupTemplate)):null}get hasBadExpressions(){return this.calculatedExpressions.some(t=>t.invalid===!0)}get requiredFields(){const t=new Set;if(this._arcadeTask?.value&&!this.hasBadExpressions)for(const n of this.calculatedExpressions?.toArray()??[])try{const i=this._arcadeTask.value.arcade.extractFieldLiterals(n.syntax);for(const o of i){const s=o.split("."),a=this.fieldsIndex.get(s.at(-1)??"");a&&t.add(a.name)}}catch{}const r=this._extractFieldNames(this.workingTitle);for(const n of r){const i=this.fieldsIndex.get(n);i&&t.add(i.name)}return this.objectIdField!=null&&t.add(this.objectIdField),t}get titleFromDisplayField(){let t="";return this.displayField&&(t=this.fieldsIndex.get(this.displayField)?.name??""),t||(t=this.fieldsIndex.get(this.objectIdField)?.name??""),t?`{${t}}`:""}get workingTitle(){const t=this.effectivePopupTemplate?this.effectivePopupTemplate.title:"";return t===""||t==null||this.hasBadExpressions||typeof t!="string"?this.titleFromDisplayField:t}async getTitle(t,r,n){const i=r.getObjectId()??r.attributes[t.objectIdField];return(await this.getTitles(t,[r],n)).get(i)??""}async getTitles(t,r,n){const i=new Map,o=n?.timeZone??"system";try{const[{substituteFieldsInLinksAndAttributes:s}]=await Promise.all([this.featureUtilsPromise,this._arcadeTask?.promise]);n?.fetchMissingFields&&(r=await this._checkAndReQueryGraphics(t,r));const{fieldInfoMap:a,workingTitle:l}=this,c=l&&a;r.forEach(p=>{const h=p.getObjectId()??p.attributes[t.objectIdField],y=c?s({attributes:p.attributes,expressionAttributes:null,fieldInfoMap:a,globalAttributes:this._createFormattedAttributes(t,p,o).global,layer:t,text:l}):"";i.set(h,y)})}catch{}return i}async _checkAndReQueryGraphics(t,r){const n=r.map(i=>i.getObjectId()??i.attributes[t.objectIdField]).filter(y1);if(n.length!==r.length)return r;if(r.some(i=>!r1e(i,this.requiredFields))){const i=t.createQuery();i.where="1=1",i.outFields=[...this.requiredFields],i.objectIds=n;const o=await t.queryFeatures(i);if(o?.features.length===r.length)return o.features}return r}_createFieldInfoMap(t){const r=new Map;if(!t)return r;for(const n of t){if(!n.fieldName)continue;const i=this.fieldsIndex.get(n.fieldName),o=i?.name??n.fieldName;n.fieldName=o,r.set(o.toLowerCase(),n)}return r}_createFormattedAttributes(t,r,n="system"){const i=this.effectivePopupTemplate?.fieldInfos??[],o={};if(!this._featureUtils)return{};if(!this.hasBadExpressions&&this.calculatedExpressions.length>0&&this._arcadeTask?.value){const a=this._arcadeTask.value.Feature.createFromGraphicLikeObject(r.geometry,r.attributes,t,null);for(const l of this.calculatedExpressions)try{o[`expression/${l.name}`]=l.func({vars:{$feature:a}})}catch{}}const s={...r.attributes,...o};return{globalThis:this._featureUtils.formatAttributes({fieldInfos:i,attributes:s,graphic:r,timeZone:n,layer:t,fieldInfoMap:this.fieldInfoMap}),content:[]}}_extractFieldNames(t){return Ak(t).filter(r=>!(r.indexOf(L$e)===0||r.indexOf(D$e)===0))}};u([d({readOnly:!0})],Ln.prototype,"_arcadeTask",null),u([d()],Ln.prototype,"_featureUtils",void 0),u([d({readOnly:!0})],Ln.prototype,"featureUtilsPromise",null),u([d({readOnly:!0})],Ln.prototype,"calculatedExpressions",null),u([d()],Ln.prototype,"displayField",void 0),u([d()],Ln.prototype,"effectivePopupTemplate",void 0),u([d()],Ln.prototype,"expressionsUsedInTitle",null),u([d()],Ln.prototype,"fieldsIndex",void 0),u([d()],Ln.prototype,"fieldInfoMap",null),u([d()],Ln.prototype,"fields",void 0),u([d()],Ln.prototype,"objectIdField",void 0),u([d()],Ln.prototype,"requiredFields",null),Ln=u([I("esri.layers.support.TitleCreator")],Ln);const mf=[];function F$e(e,t){if(yS(e.url??""))return!0;const{wkid:r}=t;for(const n of mf){if((e.version??0)>=n[0])return!0;if(typeof n[1]=="function"&&(n[1]=n[1]()),n[1].has(r))return!1}return!0}mf.push([10.91,()=>{const e=new Set([9709,9716,9741,9761,9766]);for(let t=9712;t<=9713;t++)e.add(t);for(let t=9748;t<=9749;t++)e.add(t);for(let t=20904;t<=20932;t++)e.add(t);for(let t=21004;t<=21032;t++)e.add(t);for(let t=21207;t<=21264;t++)e.add(t);for(let t=21307;t<=21364;t++)e.add(t);for(let t=23301;t<=23333;t++)e.add(t);for(let t=102759;t<=102760;t++)e.add(t);for(let t=102934;t<=102955;t++)e.add(t);return e}]),mf.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let t=9356;t<=9360;t++)e.add(t);for(let t=9404;t<=9407;t++)e.add(t);for(let t=9476;t<=9482;t++)e.add(t);for(let t=9487;t<=9494;t++)e.add(t);for(let t=9697;t<=9699;t++)e.add(t);return e}]),mf.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(let t=9248;t<=9254;t++)e.add(t);for(let t=9271;t<=9273;t++)e.add(t);for(let t=9284;t<=9285;t++)e.add(t);for(let t=21453;t<=21463;t++)e.add(t);return e}]),mf.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let t=8035;t<=8036;t++)e.add(t);for(let t=8455;t<=8456;t++)e.add(t);for(let t=8518;t<=8529;t++)e.add(t);for(let t=8533;t<=8536;t++)e.add(t);for(let t=8538;t<=8540;t++)e.add(t);for(let t=8677;t<=8679;t++)e.add(t);for(let t=8902;t<=8903;t++)e.add(t);for(let t=8907;t<=8910;t++)e.add(t);for(let t=8949;t<=8951;t++)e.add(t);for(let t=8972;t<=8987;t++)e.add(t);for(let t=9039;t<=9040;t++)e.add(t);for(let t=9068;t<=9069;t++)e.add(t);for(let t=9140;t<=9141;t++)e.add(t);for(let t=9148;t<=9150;t++)e.add(t);for(let t=9153;t<=9159;t++)e.add(t);for(let t=9205;t<=9218;t++)e.add(t);for(let t=9221;t<=9222;t++)e.add(t);for(let t=54098;t<=54101;t++)e.add(t);return e}]),mf.push([10.71,()=>{const e=new Set([6316]);for(let t=8351;t<=8353;t++)e.add(t);for(let t=9294;t<=9297;t++)e.add(t);for(let t=22619;t<=22621;t++)e.add(t);for(let t=103586;t<=103594;t++)e.add(t);return e}]);async function U$e(e,t,r){const n=e&&e.getAtOrigin&&e.getAtOrigin("renderer",t.origin);if(n&&n.type==="unique-value"&&n.styleOrigin){const i=await VC(n.populateFromStyle());if(kn(r),i.ok===!1){const o=i.error;t?.messages&&t.messages.push(new Os("renderer:style-reference",`Failed to create unique value renderer from style reference: ${o.message}`,{error:o,context:t})),e.clear("renderer",t?.origin)}}}function z$e({displayField:e,editFieldsInfo:t,fields:r,objectIdField:n,title:i},o){if(!r)return null;const s=G$e({editFieldsInfo:t,fields:r,objectIdField:n},o);if(!s.length)return null;const a=J$e({titleBase:i,fields:r,displayField:e}),l=H$e();return new Cy({title:a,content:l,fieldInfos:s})}const B$e=(e,t)=>t.visibleFieldNames?t.visibleFieldNames.has(e.name):kve(e,t);function V$e({fields:e,ignoreFieldTypes:t,sortDisabled:r}){const n=e;return t&&(e=e.filter(i=>!t.includes(i.type))),e===n&&(e=e.slice()),r!==!0&&e.sort(q$e),e}function q$e(e,t){return e.type==="oid"?-1:t.type==="oid"?1:s9(e)?-1:s9(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function G$e(e,t){const r=t?.visibleFieldNames;return V$e({fields:e.fields??[],ignoreFieldTypes:t?.ignoreFieldTypes||Z$e,sortDisabled:t?.sortDisabled}).map(n=>new Pk({fieldName:n.name,isEditable:Cve(n,e),label:n.alias,format:W$e(n),visible:B$e(n,{...e,visibleFieldNames:r})}))}function W$e(e){switch(e.type){case"small-integer":case"integer":case"single":return new Xw({digitSeparator:!0,places:0});case"double":return new Xw({digitSeparator:!0,places:2});case"string":return i1e(e.name)?new Xw({digitSeparator:!0,places:0}):void 0;default:return}}function H$e(){return[new Bh,new zh]}function J$e(e){const t=Eve(e),{titleBase:r}=e;return t?`${r}: {${t.trim()}}`:r??""}function s9(e){return(e.name&&e.name.toLowerCase())==="name"?!0:e.alias?.toLowerCase()==="name"}const Z$e=["geometry","blob","raster","guid","xml"],rn="FeatureLayer";function Gb(e,t){return new Z("layer:unsupported",`Layer (${e.title}, ${e.id}) of type '${e.declaredClass}' ${t}`,{layer:e})}function a9(e){return e&&e instanceof Te}const VO=M$e();function qO(e,t,r){const n=!!r?.writeLayerSchema;return{enabled:n,ignoreOrigin:n}}let ge=class extends S2e(f$e(sxe(S$e(Qwe(Zwe(Dwe(b$e(P$e(N$e(j$e(E$e(fwe(y$e(w$e(i$(Fwe(pwe(Se.ClonableMixin(Vt))))))))))))))))))){constructor(...e){super(...e),this.attributeTableTemplate=null,this.charts=null,this.copyright=null,this.displayField=null,this.dynamicDataSource=null,this.fields=null,this.fieldsIndex=null,this.formTemplate=null,this.fullExtent=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType="ArcGISFeatureLayer",this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.resourceInfo=null,this.screenSizePerspectiveEnabled=!0,this.spatialReference=be.WGS84,this.subtypeCode=null,this.supportedSourceTypes=new Set(["Feature Layer","Oriented Imagery Layer","Table","Catalog Layer"]),this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.type="feature",this.typeIdField=null,this.types=null,this.visible=!0,this._debouncedSaveOperations=OC(async(t,r,n)=>{const{save:i,saveAs:o}=await ue(()=>import("./featureLayerUtils-8956859a.js"),["assets/featureLayerUtils-8956859a.js","assets/originUtils-5a133ae6.js","assets/utils-951de3c1.js","assets/saveUtils-b2e823e3.js","assets/fetchService-05f74a69.js"]);switch(t){case oa.SAVE:return i(this,r);case oa.SAVE_AS:return o(this,n,r)}})}destroy(){this.source?.destroy()}normalizeCtorArgs(e,t){return typeof e=="string"?{url:e,...t}:e}load(e){const t=e!=null?e.signal:null;if(this.portalItem?.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(t).then(n=>this.initLayerProperties(n))),Promise.resolve(this);const r=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},e).catch(ea).then(async()=>{if(this.url&&this.layerId==null&&/FeatureServer|MapServer\/*$/i.test(this.url)){const n=await this._fetchFirstValidLayerId(t);n!=null&&(this.layerId=n)}if(!this.url&&!this._hasMemorySource())throw new Z("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this.initLayerProperties(await this.createGraphicsSource(t))}).then(()=>ZSe(this,"load",e));return this.addResolvingPromise(r),Promise.resolve(this)}get _titleCreator(){const e=this._get("_titleCreator");return _o(e),new Ln({fieldsIndex:this.fieldsIndex,objectIdField:this.objectIdField,fields:this.fields,displayField:this.displayField,effectivePopupTemplate:this.popupTemplate??this.defaultPopupTemplate})}readCapabilities(e,t){return t=t.layerDefinition||t,QY(t,this.url)}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")??0)+1}get editingEnabled(){return!(this.loaded&&!this.capabilities?.operations.supportsEditing)&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(e){this._overrideIfSome("editingEnabled",e)}readEditingEnabled(e,t){return this._readEditingEnabled(t,!1)}readEditingEnabledFromWebMap(e,t,r){return this._readEditingEnabled(t,!0,r)}writeEditingEnabled(e,t){this._writeEditingEnabled(e,t,!1)}writeEditingEnabledToWebMap(e,t,r,n){this._writeEditingEnabled(e,t,!0,n)}get effectiveEditingEnabled(){return KSe(this)}get featureTitleFields(){return[...this._titleCreator.requiredFields]}readIsTable(e,t){return(t=t?.layerDefinition??t).type==="Table"||!t.geometryType}writeIsTable(e,t,r,n){n?.writeLayerSchema&&nr(r,e?"Table":"Feature Layer",t)}readGlobalIdField(e,t){return BY(t.layerDefinition||t)}readObjectIdField(e,t){return VY(t.layerDefinition||t)}get parsedUrl(){const e=en(this.url);return e!=null&&(this.dynamicDataSource!=null?e.path=Hd(e.path,"dynamicLayer"):this.layerId!=null&&(e.path=Hd(e.path,this.layerId.toString()))),e}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){eF(e,this.fieldsIndex),this._set("renderer",e)}readRenderer(e,t,r){t=t.layerDefinition||t;const n=t.drawingInfo?.renderer;if(n){const i=tv(n,t,r)??void 0;return i||ce.getLogger(this).error("Failed to create renderer",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:r}),i}return Qk(t,r)}set source(e){const t=this._get("source");t!==e&&(a9(t)&&this._resetMemorySource(t),a9(e)&&this._initMemorySource(e),this._set("source",e))}castSource(e){return e?Array.isArray(e)||e instanceof Te?new Za({layer:this,items:e}):e:null}readSource(e,t){const r=Mr.fromJSON(t.featureSet);return new Za({layer:this,items:r?.features??[]})}readTemplates(e,t){const r=t.editFieldsInfo,n=r?.creatorField,i=r?.editorField;return e=e?.map(o=>Xs.fromJSON(o)),this._fixTemplates(e,n),this._fixTemplates(e,i),e}readTitle(e,t){const r=t.layerDefinition?.name??t.name,n=t.title||t.layerDefinition?.title;if(r){const i=this.portalItem?.title;if(this.sublayerTitleMode==="item-title")return this.url?gle(this.url,r):r;let o=r;if(!o&&this.url){const s=jl(this.url);s!=null&&(o=s.title)}return o?(this.sublayerTitleMode==="item-title-and-service-name"&&i&&i!==o&&(o=i+" - "+o),jC(o)):void 0}if(this.sublayerTitleMode==="item-title"&&n)return n}readTitleFromWebMap(e,t){return t.title||t.layerDefinition?.name}readTypeIdField(e,t){let r=(t=t.layerDefinition||t).typeIdField;if(r&&t.fields){r=r.toLowerCase();const n=t.fields.find(i=>i.name.toLowerCase()===r);n&&(r=n.name)}return r}readTypes(e,t){e=(t=t.layerDefinition||t).types;const r=t.editFieldsInfo,n=r?.creatorField,i=r?.editorField;return e?.map(o=>(o=Ys.fromJSON(o),this._fixTemplates(o.templates,n),this._fixTemplates(o.templates,i),o))}readVisible(e,t){return t.layerDefinition?.defaultVisibility!=null?!!t.layerDefinition.defaultVisibility:t.visibility!=null?!!t.visibility:void 0}async addAttachment(e,t){const r=await ISe(this,e,t,rn);return this.lastEditsEventDate=new Date,r}async updateAttachment(e,t,r){const n=await ASe(this,e,t,r,rn);return this.lastEditsEventDate=new Date,n}async applyEdits(e,t){return PSe(this,e,t)}async uploadAssets(e,t){return NSe(this,e,t)}on(e,t){return super.on(e,t)}createPopupTemplate(e){return z$e(this,e)}async createGraphicsSource(e){if(this._hasMemorySource()&&this.source)return this.source.load({signal:e});const{default:t}=await ule(ue(()=>import("./FeatureLayerSource-832985fb.js"),["assets/FeatureLayerSource-832985fb.js","assets/MeshLocalVertexSpace-9667e66a.js","assets/meshVertexSpaceUtils-6c020a89.js","assets/vec32-6757f7c3.js","assets/External-19048fa7.js","assets/applyEditsUtils-fe2d17d5.js","assets/MeshTransform-feb21e78.js","assets/mat4f64-a3dc1405.js","assets/quat-b2e4eef3.js","assets/mat3f64-d34bdb1e.js","assets/quatf64-216ddd5a.js","assets/editingSupport-df46d8dc.js","assets/normalizeUtils-e6e5ded6.js","assets/normalizeUtilsCommon-3a54feae.js","assets/clientSideDefaults-c074d183.js","assets/QueryEngineCapabilities-4b2bc619.js","assets/QueryTask-69c0ac16.js","assets/executeQueryJSON-275db4a9.js","assets/query-451341fb.js","assets/pbfQueryUtils-e0baedd7.js","assets/pbf-b0db6978.js","assets/memoryEstimations-368c31a0.js","assets/OptimizedFeature-a0a9dac6.js","assets/OptimizedFeatureSet-5dc8ee29.js","assets/featureConversionUtils-f7ab006d.js"]),e);return new t({layer:this,supportedSourceTypes:this.supportedSourceTypes}).load({signal:e})}createQuery(){const e=BSe(this);e.dynamicDataSource=this.dynamicDataSource;const t=this.subtypeCode!=null?`${this.subtypeField} = ${this.subtypeCode}`:null,r=Yw(this.definitionExpression,t);return e.where=r||"1=1",e}async deleteAttachments(e,t){const r=await MSe(this,e,t,rn);return this.lastEditsEventDate=new Date,r}async fetchRecomputedExtents(e){return CSe(this,e,rn)}async getFeatureTitle(e,t){return this._titleCreator.getTitle(this,e,t)}async getFeatureTitles(e,t){return this._titleCreator.getTitles(this,e,t)}getFeatureType(e){return GY(this.types,this.typeIdField,e)}getFieldDomain(e,t){return qSe(this,e,t,this.getField(e)?.domain??null)}async queryAttachments(e,t){return kSe(this,e,t,rn)}async queryFeatures(e,t){const r=await this.load(),n=await r.source.queryFeatures(xe.from(e)??r.createQuery(),t);if(n?.features)for(const i of n.features)i.layer=i.sourceLayer=r;return n}async queryObjectIds(e,t){return await RSe(this,e,t,rn)}async queryFeatureCount(e,t){return LSe(this,e,t,rn)}async queryExtent(e,t){return DSe(this,e,t,rn)}async queryRelatedFeatures(e,t){return FSe(this,e,t,rn)}async queryRelatedFeaturesCount(e,t){return USe(this,e,t,rn)}async queryTopFeatures(e,t){const{source:r,capabilities:n}=await this.load();if(!r.queryTopFeatures||!n?.query?.supportsTopFeaturesQuery)throw new Z(rn,"Layer source does not support queryTopFeatures capability");const i=await ue(()=>import("./TopFeaturesQuery-5d4058eb.js"),[]),o=await r.queryTopFeatures(i.default.from(e),t);if(o?.features)for(const s of o.features)s.layer=s.sourceLayer=this;return o}async queryAttributeBins(e,t){const{source:r,capabilities:n}=await this.load();if(!r.queryAttributeBins)throw new Z(rn,"Layer source does not support queryAttributeBins capability");e2e(e,n,rn);const i=await ue(()=>import("./AttributeBinsQuery-d72a6fe2.js"),["assets/AttributeBinsQuery-d72a6fe2.js","assets/FixedIntervalBinParameters-c92437fc.js","assets/normalizeUtils-e6e5ded6.js","assets/normalizeUtilsCommon-3a54feae.js","assets/json-48e3ea08.js"]),o=await r.queryAttributeBins(i.default.from(e),t);if(o.features)for(const s of o.features)s.layer=s.sourceLayer=this;return o}async queryTopObjectIds(e,t){const{source:r,capabilities:n}=await this.load();if(!r.queryTopObjectIds||!n?.query.supportsTopFeaturesQuery)throw new Z(rn,"Layer source does not support queryTopObjectIds capability");const i=await ue(()=>import("./TopFeaturesQuery-5d4058eb.js"),[]);return(await r.queryTopObjectIds(i.default.from(e),t)).filter(lve)}async queryTopFeaturesExtent(e,t){const{source:r,capabilities:n}=await this.load();if(!r.queryTopExtents||!n?.query?.supportsTopFeaturesQuery)throw new Z(rn,"Layer source does not support queryTopExtents capability");const i=await ue(()=>import("./TopFeaturesQuery-5d4058eb.js"),[]);return r.queryTopExtents(i.default.from(e),t)}async queryTopFeatureCount(e,t){const{source:r,capabilities:n}=await this.load();if(!r.queryTopCount||!n?.query?.supportsTopFeaturesQuery)throw new Z(rn,"Layer source does not support queryFeatureCount capability");const i=await ue(()=>import("./TopFeaturesQuery-5d4058eb.js"),[]);return r.queryTopCount(i.default.from(e),t)}read(e,t){const r=e.featureCollection;if((r||e.type==="Feature Collection")&&(this.resourceInfo=e),r){const{layers:n,showLegend:i}=r;n?.length===1&&(super.read(n[0],t),i!=null&&super.read({showLegend:i},t))}super.read(e,t),t&&t.origin==="service"&&(this.revert(["objectIdField","fields","timeInfo","dateFieldsTimeZone"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))}write(e,t){t={...t,origin:t?.origin??void 0,writeLayerSchema:t?.writeLayerSchema??this._hasMemorySource()};const{origin:r,layerContainerType:n,messages:i}=t;if(this.dynamicDataSource)return i?.push(Gb(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if((r==="web-map"||r==="web-scene")&&n!=="tables")return i?.push(Gb(this,`a table source can only be written to tables, not ${n}`)),null;if(this._hasMemorySource())return i?.push(Gb(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&(r==="web-map"||r==="web-scene")&&n==="tables")return i?.push(Gb(this,"using a non-table source cannot be written to tables in web maps or web scenes")),null;return super.write(e,t)}clone(){if(this._hasMemorySource())throw new Z(rn,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(e){return!!this.loaded&&(this.source?.type==="memory"||F$e(this,e))}async save(e){return this._debouncedSaveOperations(oa.SAVE,e)}async saveAs(e,t){return this._debouncedSaveOperations(oa.SAVE_AS,t,e)}_readEditingEnabled(e,t,r){let n=e.layerDefinition?.capabilities;return n?this._hasEditingCapability(n):(n=e.capabilities,t&&r?.origin==="web-map"&&!this._hasMemorySource()&&n?this._hasEditingCapability(n):void 0)}_hasEditingCapability(e){return e.toLowerCase().split(",").map(t=>t.trim()).includes("editing")}_writeEditingEnabled(e,t,r,n){if(!e){const i=this.capabilities?.operations?.supportsSync?"Query,Sync":"Query";nr("layerDefinition.capabilities",i,t),r&&!n?.writeLayerSchema&&(t.capabilities=i)}}_fetchFirstValidLayerId(e){return tt(this.url??"",{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:e}).then(t=>{const r=t.data;if(r)return this.applyPreferredHost(r),this.findFirstValidLayerId(r)})}async initLayerProperties(e){return this._set("source",e),e.sourceJSON&&(this.sourceJSON=e.sourceJSON,this.read(e.sourceJSON,{origin:"service",portalItem:this.portalItem,portal:this.portalItem?.portal,url:this.parsedUrl})),this._verifySource(),this._verifyFields(),eF(this.renderer,this.fieldsIndex),mK(this.timeInfo,this.fieldsIndex),this._hasMemorySource()&&this.geometryType==="mesh"&&(this.capabilities.query.supportsReturnMesh=!0),U$e(this,{origin:"service"})}async hasDataChanged(){return zSe(this)}async fetchPublishingStatus(){const e=this.source;return e?.fetchPublishingStatus?e.fetchPublishingStatus():"unavailable"}_verifyFields(){const e=this.parsedUrl?.path??"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+e+")"),this.isTable||this._hasMemorySource()||e.search(/\/FeatureServer\//i)!==-1||this.fields?.some(t=>t.type==="geometry")||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+e+")")}_fixTemplates(e,t){e&&e.forEach(r=>{const n=r.prototype?.attributes;n&&t&&delete n[t]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new Z("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new Z("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(e){e.forEach(t=>{t.layer=this,t.sourceLayer=this}),this.addHandles([e.on("after-add",t=>{t.item.layer=this,t.item.sourceLayer=this}),e.on("after-remove",t=>{t.item.layer=null,t.item.sourceLayer=null})],"fl-source")}_resetMemorySource(e){e.forEach(t=>{t.layer=null,t.sourceLayer=null}),this.removeHandles("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}findFirstValidLayerId(e){return Array.isArray(e.layers)&&e.layers.length>0?e.layers[0].id:Array.isArray(e.tables)&&e.tables.length>0?e.tables[0].id:void 0}};u([d({clonable:!1,readOnly:!0})],ge.prototype,"_titleCreator",null),u([d(_xe)],ge.prototype,"attributeTableTemplate",void 0),u([X("service","capabilities")],ge.prototype,"readCapabilities",null),u([d({json:{origins:{"web-scene":{write:!1}},write:!0}})],ge.prototype,"charts",void 0),u([d({readOnly:!0})],ge.prototype,"createQueryVersion",null),u([d({json:{read:{source:"layerDefinition.copyrightText"}}})],ge.prototype,"copyright",void 0),u([d({json:{read:{source:"layerDefinition.displayField"}}})],ge.prototype,"displayField",void 0),u([d({types:Cu,readOnly:!0})],ge.prototype,"defaultSymbol",void 0),u([d({type:rs})],ge.prototype,"dynamicDataSource",void 0),u([d({type:Boolean})],ge.prototype,"editingEnabled",null),u([X(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],ge.prototype,"readEditingEnabled",null),u([X("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],ge.prototype,"readEditingEnabledFromWebMap",null),u([re(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],ge.prototype,"writeEditingEnabled",null),u([re("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],ge.prototype,"writeEditingEnabledToWebMap",null),u([d({readOnly:!0})],ge.prototype,"effectiveEditingEnabled",null),u([d({clonable:!1,readOnly:!0})],ge.prototype,"featureTitleFields",null),u([d({...VO.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:qO}}}}})],ge.prototype,"fields",void 0),u([d(VO.fieldsIndex)],ge.prototype,"fieldsIndex",void 0),u([d({type:kbe,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],ge.prototype,"formTemplate",void 0),u([d({json:{read:{source:"layerDefinition.extent"}}})],ge.prototype,"fullExtent",void 0),u([d({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:qO,writer(e,t,r){const n=e?g3.toJSON(e):null;n&&nr(r,n,t)}}}},read:{source:"layerDefinition.geometryType",reader:g3.read}}})],ge.prototype,"geometryType",void 0),u([d({json:{read:{source:"layerDefinition.hasM"}}})],ge.prototype,"hasM",void 0),u([d({json:{read:{source:"layerDefinition.hasZ"}}})],ge.prototype,"hasZ",void 0),u([d(wxe)],ge.prototype,"id",void 0),u([d({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],ge.prototype,"infoFor3D",void 0),u([d({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],ge.prototype,"isTable",void 0),u([X("service","isTable",["type","geometryType"]),X("isTable",["layerDefinition.type","layerDefinition.geometryType"])],ge.prototype,"readIsTable",null),u([re("web-map","isTable")],ge.prototype,"writeIsTable",null),u([d(f$)],ge.prototype,"labelsVisible",void 0),u([d({type:[Ot],json:{origins:{service:{name:"drawingInfo.labelingInfo",read:i9,write:!1}},name:"layerDefinition.drawingInfo.labelingInfo",read:i9,write:{layerContainerTypes:bt}}})],ge.prototype,"labelingInfo",void 0),u([d((()=>{const e=D(bxe);return e.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(t,r,n){nr(n,Q_(t),r)}}},e})())],ge.prototype,"opacity",void 0),u([d(gxe)],ge.prototype,"legendEnabled",void 0),u([d({type:["show","hide"],json:(()=>{const e=D(jY.json);return e.origins["portal-item"]={read:!1,write:!1},e})()})],ge.prototype,"listMode",void 0),u([X("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],ge.prototype,"readGlobalIdField",null),u([d({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:qO}}}}})],ge.prototype,"objectIdField",void 0),u([X("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],ge.prototype,"readObjectIdField",null),u([d({type:["ArcGISFeatureLayer"],json:{write:{target:"layerType",ignoreOrigin:!0,layerContainerTypes:bt}}})],ge.prototype,"operationalLayerType",void 0),u([d(VO.outFields)],ge.prototype,"outFields",void 0),u([d({readOnly:!0})],ge.prototype,"parsedUrl",null),u([d({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],ge.prototype,"path",void 0),u([d(p$)],ge.prototype,"popupEnabled",void 0),u([d({type:Cy,json:{name:"popupInfo",write:!0}})],ge.prototype,"popupTemplate",void 0),u([d({readOnly:!0})],ge.prototype,"defaultPopupTemplate",null),u([d({types:M1,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:t$e,name:"layerDefinition.drawingInfo.renderer",write:{layerContainerTypes:bt,overridePolicy:(e,t,r)=>({ignoreOrigin:r?.writeLayerSchema,layerContainerTypes:bt})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(e,t,r)=>({ignoreOrigin:r?.writeLayerSchema,layerContainerTypes:bt})}}})],ge.prototype,"renderer",null),u([X("service","renderer",["drawingInfo.renderer","defaultSymbol"]),X("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],ge.prototype,"readRenderer",null),u([d()],ge.prototype,"resourceInfo",void 0),u([d((()=>{const e=D(yxe);return e.json.origins["portal-item"]={read:!1,write:!1},e})())],ge.prototype,"screenSizePerspectiveEnabled",void 0),u([d({clonable:!1})],ge.prototype,"source",null),u([pt("source")],ge.prototype,"castSource",null),u([X("portal-item","source",["featureSet"]),X("web-map","source",["featureSet"])],ge.prototype,"readSource",null),u([d({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],ge.prototype,"spatialReference",void 0),u([d({type:Number})],ge.prototype,"subtypeCode",void 0),u([d({type:[Xs]})],ge.prototype,"templates",void 0),u([X("templates",["editFieldsInfo","creatorField","editorField","templates"])],ge.prototype,"readTemplates",null),u([d({type:Gr})],ge.prototype,"timeInfo",void 0),u([d()],ge.prototype,"title",void 0),u([X("service","title",["name"]),X("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],ge.prototype,"readTitle",null),u([X("web-map","title",["layerDefinition.name","title"])],ge.prototype,"readTitleFromWebMap",null),u([d({type:String})],ge.prototype,"sublayerTitleMode",void 0),u([d({json:{read:!1}})],ge.prototype,"type",void 0),u([d({type:String})],ge.prototype,"typeIdField",void 0),u([X("service","typeIdField"),X("typeIdField",["layerDefinition.typeIdField"])],ge.prototype,"readTypeIdField",null),u([d({type:[Ys]})],ge.prototype,"types",void 0),u([X("service","types",["types"]),X("types",["layerDefinition.types"])],ge.prototype,"readTypes",null),u([d({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility",layerContainerTypes:bt}}}}})],ge.prototype,"visible",void 0),u([X("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],ge.prototype,"readVisible",null),ge=u([I("esri.layers.FeatureLayer")],ge);const CXe=Object.freeze(Object.defineProperty({__proto__:null,get default(){return ge}},Symbol.toStringTag,{value:"Module"}));let za=class extends z{constructor(t){super(t),this.moment=null,this.fullUpdate=!1,this.validateErrorsCreated=!1,this.exceededTransferLimit=null,this.serviceEdits=null,this.discoveredSubnetworks=null}};u([d({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.moment=e?e.getTime():null}}}})],za.prototype,"moment",void 0),u([d({type:Boolean,json:{write:!0}})],za.prototype,"fullUpdate",void 0),u([d({type:Boolean,json:{write:!0}})],za.prototype,"validateErrorsCreated",void 0),u([d({type:Boolean,json:{write:!0}})],za.prototype,"exceededTransferLimit",void 0),u([d({type:[Object],json:{write:!0}})],za.prototype,"serviceEdits",void 0),u([d({type:[Object],json:{write:!0}})],za.prototype,"discoveredSubnetworks",void 0),za=u([I("esri.rest.networks.support.ValidateNetworkTopologyResult")],za);const K$e=za,Y$e=Or()({Pending:"job-waiting",InProgress:"job-executing",Completed:"job-succeeded"});let iu=class extends K$e{constructor(t){super(t),this.statusUrl=null,this.status=null,this.submissionTime=null,this.lastUpdatedTime=null,this._timer=void 0}destroy(){clearInterval(this._timer)}async checkJobStatus(t){const r={...t,query:{f:"json"}},{data:n}=await tt(this.statusUrl,r);return this.read(n),this.editsResolver&&this.editsResolver.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:!0,historicMoment:null}),this}async waitForJobCompletion(t={}){const{interval:r=1e3,statusCallback:n}=t;return new Promise((i,o)=>{this._clearTimer();const s=setInterval(()=>{this._timer||o(hr()),this.checkJobStatus().then(a=>{const{status:l}=a;switch(this.status=l,l){case"job-succeeded":this._clearTimer(),i(this);break;case"job-waiting":case"job-executing":n&&n(this)}},a=>{this._clearTimer(),o(a)})},r);this._timer=s})}_clearTimer(){clearInterval(this._timer),this._timer=void 0}};u([d()],iu.prototype,"editsResolver",void 0),u([d({type:String,json:{write:!0}})],iu.prototype,"statusUrl",void 0),u([ye(Y$e)],iu.prototype,"status",void 0),u([d({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.submissionTime=e?e.getTime():null}}}})],iu.prototype,"submissionTime",void 0),u([d({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.lastUpdatedTime=e?e.getTime():null}}}})],iu.prototype,"lastUpdatedTime",void 0),iu=u([I("esri.networks.support.TopologyValidationJobInfo")],iu);const Q$e=iu;var er;(function(e){e[e.RTJunctionJunctionConnectivity=1]="RTJunctionJunctionConnectivity",e[e.RTContainment=2]="RTContainment",e[e.RTAttachment=3]="RTAttachment",e[e.RTJunctionEdgeConnectivity=4]="RTJunctionEdgeConnectivity",e[e.RTEdgeJunctionEdgeConnectivity=5]="RTEdgeJunctionEdgeConnectivity"})(er||(er={}));const Wb=new Pe({connected:"connected",upstream:"upstream",downstream:"downstream",shortestPath:"shortest-path",subnetwork:"subnetwork",subnetworkController:"subnetwork-controller",loops:"loops",isolation:"isolation",path:"path",circuit:"circuit"}),LXe=new Pe({junctionJunctionConnectivity:"junction-junction-connectivity",connectivity:"connectivity",attachment:"attachment",containment:"containment",junctionEdgeFromConnectivity:"junction-edge-from-connectivity",junctionEdgeMidspanConnectivity:"junction-edge-midspan-connectivity",junctionEdgeToConnectivity:"junction-edge-to-connectivity"}),X$e={connectivity:1,"junction-junction-connectivity":1,containment:2,attachment:3,"junction-edge-from-connectivity":4,"junction-edge-midspan-connectivity":5,"junction-edge-to-connectivity":6},DXe=new Pe({normal:"normal",rebuild:"rebuild",forceRebuild:"force-rebuild"});function eTe(e,t,r="from"){const{fromRuleElement:n,viaRuleElement:i,toRuleElement:o}=kQ(e),s=[];switch(e.ruleType){case er.RTContainment:case er.RTAttachment:r==="from"&&os(t,n,!1)?s.push(o):r==="to"&&os(t,o,!1)&&s.push(n);break;case er.RTJunctionEdgeConnectivity:case er.RTJunctionJunctionConnectivity:os(t,n,!0)?s.push(o):os(t,o,!0)&&s.push(n);break;case er.RTEdgeJunctionEdgeConnectivity:i&&(os(t,i,!0)?(s.push(n),s.push(o)):(os(t,n,!0)||os(t,o,!0))&&s.push(i));break;default:return[]}return s}function _0(e,t,r){const{fromRuleElement:n,viaRuleElement:i,toRuleElement:o}=kQ(e);switch(e.ruleType){case er.RTContainment:case er.RTAttachment:return Hb(t,r,n,o,!1,!1);case er.RTJunctionEdgeConnectivity:case er.RTJunctionJunctionConnectivity:return Hb(t,r,n,o,!0,!0);case er.RTEdgeJunctionEdgeConnectivity:return Hb(t,r,n,i,!0,!0)||Hb(t,r,o,i,!0,!0);default:return!1}}function Hb(e,t,r,n,i,o){if(!r||!n)return!1;const s=os(e,r,o),a=os(t,n,o);if(i){const l=os(e,n,o),c=os(t,r,o);return s&&a||l&&c}return s&&a}function tTe(e,t){const r=e.terminal?.terminalId,n=t.terminalId;return r==null&&n==null||(r===1?n==null||n===1:r===n)}function os(e,t,r){const{assetGroupCode:n,assetTypeCode:i}=e;return("layerId"in e?e.layerId===t.networkSource?.layerId:e.networkSourceId===t.networkSource?.sourceId)&&(n==null||n===t.assetGroup?.assetGroupCode)&&(i==null||i===t.assetType?.assetTypeCode)&&(!r||!("terminalId"in e)||tTe(t,e))}function kQ(e){return{fromRuleElement:{networkSource:e.fromNetworkSource,assetGroup:e.fromAssetGroup,assetType:e.fromAssetType,terminal:e.fromTerminal},viaRuleElement:e.viaNetworkSource?{networkSource:e.viaNetworkSource,assetGroup:e.viaAssetGroup,assetType:e.viaAssetType,terminal:e.viaTerminal}:void 0,toRuleElement:{networkSource:e.toNetworkSource,assetGroup:e.toAssetGroup,assetType:e.toAssetType,terminal:e.toTerminal}}}function Lp(e){let t=null,r=null,n=null;if(dK(e))t=F3(e),[r,n]=rTe(e);else if(IJ(e)){t=e.parent?.layerId??null;const[i]=o2(e);i===e.subtypeField&&(r=e.subtypeCode)}else t=e.layerId??null;return{layerId:t,assetGroupCode:r,assetTypeCode:n}}function F3(e){const{sourceLayer:t}=e;let r;return Ohe(t)?r=t.layerId:IJ(t)&&(r=t.parent?.layerId),r??null}function rTe(e){const[t,r]=o2(e.sourceLayer);return[t?e.attributes[t]:null,r?e.attributes[r]:null]}function o2(e){return!e||!("fieldsIndex"in e)?[null,null]:[e.fieldsIndex.normalizeFieldName("assetGroup")??null,e.fieldsIndex.normalizeFieldName("assetType")??null]}async function l9(e,t){if(e==="Utility Network Layer"){const{default:r}=await ue(()=>Promise.resolve().then(()=>yTe),void 0);return new r({layerUrl:t})}return null}async function nTe(e){let t="portalItem"in e?e:{portalItem:e};!t.portalItem||t.portalItem instanceof $e||(t={...t,portalItem:new $e(t.portalItem)});const r=t.portalItem;if(await r.load(),r.type!=="Feature Service")throw new Z("portal:unknown-item-type","Unknown item type '${type}'",{type:r.type});const n=r.url,i=await tt(n,{responseType:"json",query:{f:"json"}}),o="Network Layer";if(i.data.type?.includes(o))return l9(i.data.type,n);if(i.data.layers){const s=i.data.layers.find(a=>a.type.includes(o));if(s){const a=`${n}/${s.id}`;return l9(s.type,a)}}return null}let ar=class extends i$(hi){static fromPortalItem(e){return nTe(e)}constructor(e){super(e),this.id=null,this.title=null,this.layerUrl=null,this.dataElement=null,this.fullExtent=null,this.spatialReference=null,this.type=null,this.sourceJSON=null,this.gdbVersion=null,this.historicMoment=null,this._sourceIdByLayerId=new Map,this._layerIdBySourceId=new Map,this._applyEditsHandler=t=>{const{serviceUrl:r,gdbVersion:n,result:i}=t,o=r===this.featureServiceUrl,s=ng(r,n,this.gdbVersion);o&&s&&i.then(a=>{xx(r,n)&&(this.historicMoment=a.historicMoment)})},this._updateMomentHandler=t=>{const{serviceUrl:r,gdbVersion:n,moment:i}=t,o=r===this.featureServiceUrl,s=ng(r,n,this.gdbVersion);o&&s&&(this.historicMoment=i)},this.when().then(()=>{this.addHandles([bY(this._applyEditsHandler),wY(this._updateMomentHandler)])},()=>{})}initialize(){this.when().catch(e=>{Ao(e)||ce.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:e})})}get datasetName(){return this.dataElement?.name??null}get owner(){return this.dataElement?.userIdentity??null}get schemaGeneration(){return this.dataElement?.schemaGeneration??null}get parsedUrl(){return en(this.layerUrl)}get featureServiceUrl(){return jl(this.parsedUrl.path).url.path}get networkServiceUrl(){return this.featureServiceUrl.replace(/\/FeatureServer/i,"/UtilityNetworkServer")}get layerId(){return jl(this.parsedUrl.path).sublayer}get networkSystemLayers(){return null}async load(e){return this.addResolvingPromise(this._fetchDataElement(this.featureServiceUrl,this.layerId.toString(),e)),this.addResolvingPromise(this._fetchLayerMetaData(this.layerUrl,e)),this}getLayerIdBySourceId(e){if(!this.dataElement)return null;const t=this._layerIdBySourceId.get(e);if(t!=null)return t;const r=this.dataElement.domainNetworks,n=this._traverseNetworkSources(r,this._layerIdBySourceId,"sourceId","layerId",e);return n>=0?n:null}getSourceIdByLayerId(e){if(!this.dataElement)return null;const t=this._sourceIdByLayerId.get(e);if(t!=null)return t;const r=this.dataElement.domainNetworks,n=this._traverseNetworkSources(r,this._sourceIdByLayerId,"layerId","sourceId",e);return n>=0?n:null}getObjectIdsFromElements(e){const t=[],r=new Map;for(const i of e){const o=this.getLayerIdBySourceId(i.networkSourceId);if(o==null)continue;let s=r.get(o);s===void 0&&(s=[]),s.push(i.objectId),r.set(o,s)}const n=this.featureServiceUrl;return r.forEach((i,o)=>t.push({layerUrl:`${n}/${o}`,objectIds:i})),t}async queryNamedTraceConfigurations(e,t){const[{queryNamedTraceConfigurations:r},{default:n}]=await Promise.all([ue(()=>import("./queryNamedTraceConfigurations-04999639.js"),[]),ue(()=>import("./QueryNamedTraceConfigurationsParameters-86bf04ea.js"),[])]),i=this.networkServiceUrl,o=n.from(e);return(await r(i,o,{...t}))?.namedTraceConfigurations}async validateTopology(e,t){if(!e.validateArea)throw new Z("network:undefined-validateArea","the network must have validateArea defined in the validate network topology parameters.");const[{validateNetworkTopology:r},{default:n}]=await Promise.all([ue(()=>import("./validateNetworkTopology-9d418aad.js"),[]),ue(()=>import("./ValidateNetworkTopologyParameters-ffbc87fb.js"),[])]),i=n.from(e);xx(this.featureServiceUrl,this.gdbVersion||null)?(i.sessionID=MP,await WF(this.featureServiceUrl,this.gdbVersion,!0)):i.sessionID=null,i.gdbVersion=this.gdbVersion;const o=this.networkServiceUrl,s=this.featureServiceUrl,a=HF(s,null,this.gdbVersion,!0),l=await r(o,i,{...t});if(l?.serviceEdits){const c=[];for(const p of l.serviceEdits){const{editedFeatures:h}=p,y=h?.spatialReference?new be(h.spatialReference):null;c.push({layerId:p.layerId,editedFeatures:{adds:h?.adds?.map(m=>Jb(m,y))||[],updates:h?.updates?.map(m=>({original:Jb(m[0],y),current:Jb(m[1],y)}))||[],deletes:h?.deletes?.map(m=>Jb(m,y))||[],spatialReference:y}})}a.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],editedFeatures:c,exceededTransferLimit:!1,historicMoment:l.moment})}return l}async submitTopologyValidationJob(e,t){let r=null;if(!e.validateArea)throw new Z("network:undefined-validateArea","the network must have validateArea defined in the validate network topology parameters.");if(!this.gdbVersion){const c=this.layerUrl.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");r=(await tt(c,{responseType:"json",query:{f:"json"}})).data.defaultVersionName}const[{submitValidateNetworkTopologyJob:n},{default:i}]=await Promise.all([ue(()=>import("./validateNetworkTopology-9d418aad.js"),[]),ue(()=>import("./ValidateNetworkTopologyParameters-ffbc87fb.js"),[])]),o=i.from(e);xx(this.featureServiceUrl,this.gdbVersion||null)?(o.sessionID=MP,await WF(this.featureServiceUrl,this.gdbVersion,!0)):o.sessionID=null,o.gdbVersion=this.gdbVersion||r;const s=this.networkServiceUrl,a=this.featureServiceUrl?HF(this.featureServiceUrl,null,this.gdbVersion,!0):void 0,l=await n(s,o,{...t});return new Q$e({statusUrl:l,editsResolver:a})}getSourceTypeById(e){if(!this.dataElement)return null;for(const t of this.dataElement.domainNetworks)for(const r of[t.edgeSources??[],t.junctionSources??[]])for(const n of r)if(n.sourceId===e)return r===t.edgeSources?"edge":"junction";return null}_traverseNetworkSources(e,t,r,n,i){for(const o of e)for(const s of[o.edgeSources??[],o.junctionSources??[]])for(const a of s)if(a[r]===i)return t.set(i,a[n]),a[n];return-1}async _fetchLayerMetaData(e,t){const r=await tt(e,{responseType:"json",query:{f:"json"},...t});this.sourceJSON=r.data,this.read(r.data,{origin:"service"})}async _fetchDataElement(e,t,r){if(this.dataElement)return;const n=await tt(`${e}/queryDataElements`,{responseType:"json",query:{layers:JSON.stringify([t]),f:"json"},...r}).then(i=>i.data.layerDataElements?.[0]);n&&this.read(n,{origin:"service"})}};function Jb(e,t){return new wr({attributes:e.attributes,geometry:Il({...e.geometry,spatialReference:t})})}u([d({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}},service:{read:!0}},read:!1}})],ar.prototype,"id",void 0),u([d({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}},service:{read:{source:"name"}}},read:!1}})],ar.prototype,"title",void 0),u([d({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"url"},write:{target:"url",isRequired:!0}}},read:!1}})],ar.prototype,"layerUrl",void 0),u([d({type:Object,json:{origins:{service:{read:!0}},read:!1}})],ar.prototype,"dataElement",void 0),u([d({type:Ue,json:{origins:{service:{read:{source:"extent"}}},read:!1}})],ar.prototype,"fullExtent",void 0),u([d({type:be,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:!1}})],ar.prototype,"spatialReference",void 0),u([d({type:["utility","trace"],readOnly:!0,json:{read:!1,write:!1}})],ar.prototype,"type",void 0),u([d({readOnly:!0})],ar.prototype,"datasetName",null),u([d({readOnly:!0})],ar.prototype,"owner",null),u([d({readOnly:!0})],ar.prototype,"schemaGeneration",null),u([d({readOnly:!0})],ar.prototype,"parsedUrl",null),u([d({readOnly:!0})],ar.prototype,"featureServiceUrl",null),u([d({readOnly:!0})],ar.prototype,"networkServiceUrl",null),u([d({readOnly:!0})],ar.prototype,"layerId",null),u([d()],ar.prototype,"sourceJSON",void 0),u([d({readOnly:!0})],ar.prototype,"networkSystemLayers",null),u([d()],ar.prototype,"gdbVersion",void 0),u([d({type:Date})],ar.prototype,"historicMoment",void 0),ar=u([I("esri.networks.Network")],ar);const iTe=ar;let ou=class extends z.JSONSupportMixin(hi){constructor(t){super(t),this.rulesCategorized={attachment:[],containment:[],connectivity:[]},this.request=tt}initialize(){}async load(t){const r=this.rulesLayer.load(t).then(()=>this._initializeRulesTable());return this.addResolvingPromise(r),this}getFeaturesCanAssociateWithClause(t,r,n){const i=new Map,[o,s]=o2(t.sourceLayer);if(!o||!s)return"";const a=Lp(t),l=Lp(r);n.forEach(p=>{const{type:h,direction:y}=p;this._getRulesForAssociationType(h).forEach(m=>{eTe(m,a,y).filter(g=>g.networkSource?.layerId===l.layerId).forEach(g=>{const b=g.assetGroup?.assetGroupCode,w=g.assetType?.assetTypeCode;if(b!=null&&w!=null){const x=i.get(b)??new Set;x.add(w),i.set(b,x)}})})});let c=[];return this._mergeAssetCodes(i).forEach((p,h)=>{const y=`${o} IN (${h})`,m=ove(s,[...p]);y&&m&&c.push(Yw(y,m))}),c.length>1&&(c=c.map(p=>`(${p})`)),c.join(" OR ")}getFeaturesCanAssociateWith(t,r,n){return F3(t)==null?[]:r.filter(i=>this.canAssociateFeatures(t,i,n))}canAssociateFeatures(t,r,n){if(!this._canSupportAssociations([t,r]))return!1;const i=Lp(t),o=Lp(r);return n.some(s=>{const{type:a,direction:l}=s;return this._getRulesForAssociationType(a).some(c=>l==="to"?_0(c,o,i):_0(c,i,o))})}getLayersCanAssociateWith(t,r,n){return F3(t)==null?[]:r.filter(i=>this.canAssociateFeatureToLayer(t,i,n))}canAssociateFeatureToLayer(t,r,n){if(!this._canSupportAssociations([t,r]))return!1;const i=Lp(t),o=Lp(r);return n.some(s=>{const{type:a,direction:l}=s;return this._getRulesForAssociationType(a).some(c=>l==="to"?_0(c,o,i):_0(c,i,o))})}getFeatureSQL(t,r){const n=t.layerId.toString(),i=t.fieldsIndex?.normalizeFieldName("assetGroup"),o=t.fieldsIndex?.normalizeFieldName("assetType"),s=i?r.attributes[i]:null,a=o?r.attributes[o]:null,l=this.rulesHash[n];if(l){const c=l.assetGroupHash[s];if(c)return c.assetTypeHash[a]||null}return null}async _initializeRulesTable(){const t={};let r;(function(i){i[i.from=0]="from",i[i.to=1]="to",i[i.via=2]="via"})(r||(r={}));const n=[{networkSourceId:"fromNetworkSource",assetGroupId:"fromAssetGroup",assetTypeId:"fromAssetType"},{networkSourceId:"toNetworkSource",assetGroupId:"toAssetGroup",assetTypeId:"toAssetType"},{networkSourceId:"viaNetworkSource",assetGroupId:"viaAssetGroup",assetTypeId:"viaAssetType"}];this.rulesCategorized={attachment:[],containment:[],connectivity:[]};for(const i of this.rules){if(i.ruleType===er.RTAttachment){this.rulesCategorized.attachment.push(i);continue}if(i.ruleType===er.RTContainment){this.rulesCategorized.containment.push(i);continue}if(i.ruleType===er.RTJunctionJunctionConnectivity){this.rulesCategorized.connectivity.push(i);continue}this.rulesCategorized.connectivity.push(i);let o=[[r.from,r.to],[r.to,r.from]];i.ruleType===er.RTEdgeJunctionEdgeConnectivity&&(o=[[r.from,r.via],[r.via,r.from],[r.to,r.via],[r.via,r.to]]);for(const s of o){const a=s.shift(),l=s.shift();let c=!1;switch(i.ruleType){case er.RTEdgeJunctionEdgeConnectivity:c=a===r.from||a===r.to;break;case er.RTJunctionEdgeConnectivity:c=a===r.to}const p=n[a],h=i[p.networkSourceId]?.layerId.toString()??"",y=i[p.assetGroupId]?.assetGroupCode?.toString(),m=i[p.assetTypeId],g=m?.assetTypeCode?.toString(),b=n[l],w=i[b.networkSourceId]?.layerId.toString()??"",x=i[b.assetGroupId]?.assetGroupCode?.toString(),_=i[b.assetTypeId],S=_?.assetTypeCode?.toString(),O=t[h]??{assetGroupHash:{}};if(!(y&&g&&x&&S))continue;const $=O.assetGroupHash[y]??{assetTypeHash:{}},T=$.assetTypeHash[g]??{};if(T[w]=T[w]??{},c){T[h]=T[h]??{};const A=Yw(`assetgroup = ${y}`,`assettype = ${g}`);_?.connectivityPolicy==="esriNECPEndVertex"?T[h].endVertex=T[h]?.endVertex?`${T[h].endVertex}`:`(${A})`:T[h].anyVertex=T[h].anyVertex?`${T[h].anyVertex}`:`(${A})`}const j=Yw(`assetgroup = ${x}`,`assettype = ${S}`);_?.connectivityPolicy==="esriNECPEndVertex"?T[w].endVertex=T[w]?.endVertex?rA(T[w].endVertex,j):`(${j})`:T[w].anyVertex=T[w]?.anyVertex?rA(T[w].anyVertex,j):`(${j})`,$.assetTypeHash[g]=T,O.assetGroupHash[y]=$,t[h]=O}}this._set("rulesHash",t)}_getRulesForAssociationType(t){const{rulesCategorized:r}=this;switch(t){case"attachment":return r.attachment;case"containment":return r.containment;case"connectivity":case"junction-junction-connectivity":return r.connectivity.filter(n=>n.ruleType===er.RTJunctionJunctionConnectivity);case"junction-edge-from-connectivity":case"junction-edge-midspan-connectivity":case"junction-edge-to-connectivity":return r.connectivity.filter(n=>n.ruleType===er.RTJunctionEdgeConnectivity||n.ruleType===er.RTEdgeJunctionEdgeConnectivity);default:return[]}}_areSetsEqual(t,r){if(t.size!==r.size)return!1;for(const n of t)if(!r.has(n))return!1;return!0}_mergeAssetCodes(t){const r=new Map,n=new Set;for(const[i,o]of t){const s=new Set([i]);for(const[l,c]of t)i!==l&&!n.has(l)&&this._areSetsEqual(o,c)&&(s.add(l),n.add(l));const a=Array.from(s).sort().join(",");r.set(a,o)}return r}_canSupportAssociations(t){return t.every(r=>{const n=dK(r)?r.sourceLayer:r,[i,o]=o2(n);return i!=null&&o!=null})}};u([d({constructOnly:!0})],ou.prototype,"rulesLayer",void 0),u([d({constructOnly:!0})],ou.prototype,"rules",void 0),u([d({readOnly:!0})],ou.prototype,"rulesHash",void 0),u([d()],ou.prototype,"rulesCategorized",void 0),u([d({constructOnly:!0})],ou.prototype,"request",void 0),ou=u([I("esri.networks.RulesTable")],ou);let oo=class extends z{constructor(t){super(t),this.conditionBarriers=[],this.outputConditions=[],this.functions=[],this.functionBarriers=[],this.traversabilityScope=null,this.shortestPathNetworkAttributeName=null,this.includeBarriers=null,this.validateConsistency=null,this.ignoreBarriersAtStartingPoints=null}};u([d({type:[Object],json:{write:!0}})],oo.prototype,"conditionBarriers",void 0),u([d({type:[Object],json:{write:!0}})],oo.prototype,"outputConditions",void 0),u([d({type:[Object],json:{write:!0}})],oo.prototype,"functions",void 0),u([d({type:[Object],json:{write:!0}})],oo.prototype,"functionBarriers",void 0),u([d({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],oo.prototype,"traversabilityScope",void 0),u([d({type:String,json:{write:!0}})],oo.prototype,"shortestPathNetworkAttributeName",void 0),u([d({type:Boolean,json:{write:!0}})],oo.prototype,"includeBarriers",void 0),u([d({type:Boolean,json:{write:!0}})],oo.prototype,"validateConsistency",void 0),u([d({type:Boolean,json:{write:!0}})],oo.prototype,"ignoreBarriersAtStartingPoints",void 0),oo=u([I("esri.networks.support.TraceConfiguration")],oo);const aR=oo;let gt=class extends aR{constructor(t){super(t),this.filterBarriers=[],this.arcadeExpressionBarrier=null,this.circuitName=null,this.domainNetworkName=null,this.filterBitsetNetworkAttributeName=null,this.filterFunctionBarriers=[],this.filterScope=null,this.includeContainers=null,this.includeContent=null,this.includeIsolated=null,this.includeStructures=null,this.allowIndeterminateFlow=null,this.includeUpToFirstSpatialContainer=null,this.inferConnectivity=null,this.maxHops=null,this.nearestNeighbor=null,this.numPaths=null,this.outputFilterCategories=[],this.outputFilters=[],this.propagators=[],this.subnetworkName=null,this.targetTierName=null,this.diagramTemplateName=null,this.tierName=null,this.validateLocatability=null}};u([d({type:[Object],json:{write:!0}})],gt.prototype,"filterBarriers",void 0),u([d({type:String,json:{write:!0}})],gt.prototype,"arcadeExpressionBarrier",void 0),u([d({type:String,json:{write:!0}})],gt.prototype,"circuitName",void 0),u([d({type:String,json:{write:!0}})],gt.prototype,"domainNetworkName",void 0),u([d({type:String,json:{write:!0}})],gt.prototype,"filterBitsetNetworkAttributeName",void 0),u([d({type:[Object],json:{write:!0}})],gt.prototype,"filterFunctionBarriers",void 0),u([d({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],gt.prototype,"filterScope",void 0),u([d({type:Boolean,json:{write:!0}})],gt.prototype,"includeContainers",void 0),u([d({type:Boolean,json:{write:!0}})],gt.prototype,"includeContent",void 0),u([d({type:Boolean,json:{write:!0}})],gt.prototype,"includeIsolated",void 0),u([d({type:Boolean,json:{write:!0}})],gt.prototype,"includeStructures",void 0),u([d({type:Boolean,json:{write:!0}})],gt.prototype,"allowIndeterminateFlow",void 0),u([d({type:Boolean,json:{write:!0}})],gt.prototype,"includeUpToFirstSpatialContainer",void 0),u([d({type:Boolean,json:{write:!0}})],gt.prototype,"inferConnectivity",void 0),u([d({type:Number,json:{write:!0}})],gt.prototype,"maxHops",void 0),u([d({type:Object,json:{write:!0}})],gt.prototype,"nearestNeighbor",void 0),u([d({type:Number,json:{write:!0}})],gt.prototype,"numPaths",void 0),u([d({type:[Object],json:{write:!0}})],gt.prototype,"outputFilterCategories",void 0),u([d({type:[Object],json:{write:!0}})],gt.prototype,"outputFilters",void 0),u([d({type:[Object],json:{write:!0}})],gt.prototype,"propagators",void 0),u([d({type:String,json:{write:!0}})],gt.prototype,"subnetworkName",void 0),u([d({type:String,json:{write:!0}})],gt.prototype,"targetTierName",void 0),u([d({type:String,json:{write:!0}})],gt.prototype,"diagramTemplateName",void 0),u([d({type:String,json:{write:!0}})],gt.prototype,"tierName",void 0),u([d({type:Boolean,json:{write:!0}})],gt.prototype,"validateLocatability",void 0),gt=u([I("esri.networks.support.UNTraceConfiguration")],gt);const oTe=gt;let si=class extends FI{constructor(t){super(t),this.globalId=null,this.title=null,this.traceConfiguration=null,this.creationDate=null,this.creator=null,this.description=null,this.minStartingPoints=null,this.resultTypes=[],this.tags=[],this.traceType=null}readTraceConfiguration(t,r){return t.tierName!==void 0?oTe.fromJSON(t):aR.fromJSON(t)}};u([d({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"id"},write:{target:"id",isRequired:!0}},service:{read:{source:"globalId"},write:{target:"globalId",isRequired:!0}}},read:!1}})],si.prototype,"globalId",void 0),u([d({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"title"},write:{target:"title",isRequired:!0}},service:{read:{source:"name"},write:{target:"name",isRequired:!0}}},read:!1}})],si.prototype,"title",void 0),u([d({type:aR,json:{origins:{service:{read:!0,write:!0}},read:!1}})],si.prototype,"traceConfiguration",void 0),u([X("service","traceConfiguration")],si.prototype,"readTraceConfiguration",null),u([d({type:Date,json:{origins:{service:{read:!0,write:!0}},read:!1}})],si.prototype,"creationDate",void 0),u([d({type:String,json:{origins:{service:{read:!0,write:!0}},read:!1}})],si.prototype,"creator",void 0),u([d({type:String,json:{origins:{service:{read:!0,write:!0}},read:!1}})],si.prototype,"description",void 0),u([d({type:["none","one","many"],json:{origins:{service:{read:{source:"minNumStartingPoints"},write:{target:"minNumStartingPoints"}}},read:!1}})],si.prototype,"minStartingPoints",void 0),u([d({json:{origins:{service:{read:!0,write:!0}},read:!1}})],si.prototype,"resultTypes",void 0),u([d({type:[String],json:{origins:{service:{read:!0,write:!0}},read:!1}})],si.prototype,"tags",void 0),u([d({type:Wb.apiValues,json:{type:Wb.jsonValues,origins:{service:{read:Wb.read,write:Wb.write}},read:!1}})],si.prototype,"traceType",void 0),si=u([I("esri.networks.support.NamedTraceConfiguration")],si);const sTe=si;function aTe(e){const t=e?.fieldsIndex,r="fromnetworksourceid",n="fromglobalid",i="fromterminalid",o="tonetworksourceid",s="toglobalid",a="toterminalid",l="status",c="associationtype",p="iscontentvisible",h="percentalong",y="globalid";return{fromNetworkSourceId:t?.get(r)?.name??r,fromGlobalId:t?.get(n)?.name??n,fromTerminalId:t?.get(i)?.name??i,toNetworkSourceId:t?.get(o)?.name??o,toGlobalId:t?.get(s)?.name??s,toTerminalId:t?.get(a)?.name??a,status:t?.get(l)?.name??l,associationType:t?.get(c)?.name??c,isContentVisible:t?.get(p)?.name??p,percentAlong:t?.get(h)?.name??h,globalId:t?.get(e?.globalIdField??y)?.name??y}}let so=class extends dt{constructor(t){super(t),this.rulesTableId=null,this.rulesTableUrl=null,this.subnetworksTableId=null,this.subnetworksTableUrl=null,this.dirtyAreasLayerId=null,this.dirtyAreasLayerUrl=null,this.associationsTable=null,this.associationsTableId=null,this.associationsTableUrl=null}destroy(){this.associationsTable?.destroy()}async loadAssociationsTable(){if(!this.associationsTable){const{associationsTableUrl:t}=this;if(!t)throw new Z("utility-network-system-layers:missing-associations-table-url","Unable to load the associations table, as the `associationsTableUrl` is not set.");this.associationsTable=new ge({url:t})}return await this.associationsTable.load(),this.associationsTable}};u([d({constructOnly:!0})],so.prototype,"rulesTableId",void 0),u([d({constructOnly:!0})],so.prototype,"rulesTableUrl",void 0),u([d({constructOnly:!0})],so.prototype,"subnetworksTableId",void 0),u([d({constructOnly:!0})],so.prototype,"subnetworksTableUrl",void 0),u([d({constructOnly:!0})],so.prototype,"dirtyAreasLayerId",void 0),u([d({constructOnly:!0})],so.prototype,"dirtyAreasLayerUrl",void 0),u([d()],so.prototype,"associationsTable",void 0),u([d({constructOnly:!0})],so.prototype,"associationsTableId",void 0),u([d({constructOnly:!0})],so.prototype,"associationsTableUrl",void 0),so=u([I("esri.networks.support.NetworkSystemLayers")],so);let gf=class extends z{constructor(t){super(t),this.id=null,this.name=null}};u([d({type:Number,json:{read:{source:"terminalId"},write:{target:"terminalId"}}})],gf.prototype,"id",void 0),u([d({type:String,json:{read:{source:"terminalName"},write:{target:"terminalName"}}})],gf.prototype,"name",void 0),u([d({type:Boolean,json:{write:!0}})],gf.prototype,"isUpstreamTerminal",void 0),gf=u([I("esri.networks.support.Terminal")],gf);const lTe=gf,Zb=new Pe({esriUNTMBidirectional:"bidirectional",esriUNTMDirectional:"directional"});let el=class extends z{constructor(t){super(t),this.defaultConfiguration=null,this.id=null,this.name=null,this.terminals=[],this.traversabilityModel=null}};u([d({type:String,json:{write:!0}})],el.prototype,"defaultConfiguration",void 0),u([d({type:Number,json:{read:{source:"terminalConfigurationId"},write:{target:"terminalConfigurationId"}}})],el.prototype,"id",void 0),u([d({type:String,json:{read:{source:"terminalConfigurationName"},write:{target:"terminalConfigurationName"}}})],el.prototype,"name",void 0),u([d({type:[lTe],json:{write:!0}})],el.prototype,"terminals",void 0),u([d({type:Zb.apiValues,json:{type:Zb.jsonValues,read:Zb.read,write:Zb.write}})],el.prototype,"traversabilityModel",void 0),el=u([I("esri.networks.support.TerminalConfiguration")],el);let vf=class extends z{constructor(t){super(t),this.line=null,this.multipoint=null,this.polygon=null}};u([d({type:Tn,json:{write:!0},readOnly:!0})],vf.prototype,"line",void 0),u([d({type:uo,json:{read:{source:"point"},write:{target:"point"}},readOnly:!0})],vf.prototype,"multipoint",void 0),u([d({type:dr,json:{write:!0},readOnly:!0})],vf.prototype,"polygon",void 0),vf=u([I("esri.rest.networks.support.AggregatedGeometry")],vf);const uTe=vf;let li=class extends z{constructor(t){super(t),this.type="networkElement",this.assetGroupCode=null,this.assetTypeCode=null,this.globalId=null,this.networkSourceId=null,this.objectId=null,this.positionFrom=null,this.positionTo=null,this.terminalId=null}};u([d({json:{write:!1}})],li.prototype,"type",void 0),u([d({type:Number,json:{write:!0}})],li.prototype,"assetGroupCode",void 0),u([d({type:Number,json:{write:!0}})],li.prototype,"assetTypeCode",void 0),u([d({type:String,json:{write:!0}})],li.prototype,"globalId",void 0),u([d({type:Number,json:{write:!0}})],li.prototype,"networkSourceId",void 0),u([d({type:Number,json:{write:!0}})],li.prototype,"objectId",void 0),u([d({type:Number,json:{write:!0}})],li.prototype,"positionFrom",void 0),u([d({type:Number,json:{write:!0}})],li.prototype,"positionTo",void 0),u([d({type:Number,json:{write:!0}})],li.prototype,"terminalId",void 0),li=u([I("esri.rest.networks.support.NetworkElement")],li);let na=class extends li{constructor(t){super(t),this.type="telecomNetworkElement",this.firstUnit=null,this.numUnits=null}};u([d({json:{write:!1}})],na.prototype,"type",void 0),u([d({json:{write:!0}})],na.prototype,"firstUnit",void 0),u([d({json:{write:!0}})],na.prototype,"numUnits",void 0),na=u([I("esri.rest.networks.support.TelecomNetworkElement")],na);let Ba=class extends z{constructor(t){super(t),this.edgeElement=null,this.junctionElement=null}readEdgeElement(t,r){return new na({networkSourceId:r.edgeNetworkSourceId,globalId:r.edgeGlobalId,objectId:r.edgeObjectId,positionFrom:r.edgePositionFrom,positionTo:r.edgePositionTo,firstUnit:r.edgeFirstUnit,numUnits:r.edgeNumUnits})}writeEdgeElement(t,r){r.edgeNetworkSourceId=t.networkSourceId,r.edgeGlobalId=t.globalId,r.edgeObjectId=t.objectId,r.edgePositionFrom=t.positionFrom,r.edgePositionTo=t.positionTo,r.edgeFirstUnit=t.firstUnit,r.edgeNumUnits=t.numUnits}readJunctionElement(t,r){return new na({networkSourceId:r.junctionNetworkSourceId,globalId:r.junctionGlobalId,objectId:r.junctionObjectId,terminalId:r.junctionTerminalId,firstUnit:r.junctionFirstUnit,numUnits:r.junctionNumUnits})}writeJunctionElement(t,r){r.junctionNetworkSourceId=t.networkSourceId,r.junctionGlobalId=t.globalId,r.junctionObjectId=t.objectId,r.junctionTerminalId=t.terminalId,r.junctionFirstUnit=t.firstUnit,r.junctionNumUnits=t.numUnits}};u([d({type:na,json:{read:{source:["edgeNetworkSourceId","edgeGlobalId","edgeObjectId","edgePositionFrom","edgePositionTo","edgeFirstUnit","edgeNumUnits"]},write:!0}})],Ba.prototype,"edgeElement",void 0),u([X("edgeElement")],Ba.prototype,"readEdgeElement",null),u([re("edgeElement")],Ba.prototype,"writeEdgeElement",null),u([d({type:na,json:{read:{source:["junctionNetworkSourceId","junctionGlobalId","junctionObjectId","junctionTerminalId","junctionFirstUnit","junctionNumUnits"]},write:!0}})],Ba.prototype,"junctionElement",void 0),u([X("junctionElement")],Ba.prototype,"readJunctionElement",null),u([re("junctionElement")],Ba.prototype,"writeJunctionElement",null),Ba=u([I("esri.rest.networks.support.CircuitPathConnectivityElement")],Ba);const cTe=Ba,Kb=new Pe({startingPoint:"starting-point",barrier:"barrier",stoppingPoint:"stopping-point"});let Gs=class extends z{constructor(t){super(t),this.globalId=null,this.isFilterBarrier=!1,this.percentAlong=null,this.terminalId=null,this.type=null,this.firstUnit=null,this.numUnits=null}};u([d({type:String,json:{write:!0}})],Gs.prototype,"globalId",void 0),u([d({type:Boolean,json:{write:!0}})],Gs.prototype,"isFilterBarrier",void 0),u([d({type:Number,json:{write:!0}})],Gs.prototype,"percentAlong",void 0),u([d({type:Number,json:{write:!0}})],Gs.prototype,"terminalId",void 0),u([d({type:Kb.apiValues,json:{type:Kb.jsonValues,read:{reader:Kb.read,source:"traceLocationType"},write:{writer:Kb.write,target:"traceLocationType"}}})],Gs.prototype,"type",void 0),u([d({type:Number,json:{write:!0}})],Gs.prototype,"firstUnit",void 0),u([d({type:Number,json:{write:!0}})],Gs.prototype,"numUnits",void 0),Gs=u([I("esri.rest.networks.support.TraceLocation")],Gs);const u9=Gs;let Va=class extends z{constructor(t){super(t),this.pathId=null,this.orderId=null,this.startingPoint=null,this.stoppingPoint=null,this.pathConnectivity=[],this.geometry=null}};u([d({type:Number,json:{write:!0}})],Va.prototype,"pathId",void 0),u([d({type:Number,json:{write:!0}})],Va.prototype,"orderId",void 0),u([d({type:u9,json:{write:!0}})],Va.prototype,"startingPoint",void 0),u([d({type:u9,json:{write:!0}})],Va.prototype,"stoppingPoint",void 0),u([d({type:[cTe],json:{write:!0}})],Va.prototype,"pathConnectivity",void 0),u([d({type:Tn,json:{write:!0}})],Va.prototype,"geometry",void 0),Va=u([I("esri.rest.networks.support.CircuitPath")],Va);const lR=Va;let rd=class extends z{constructor(t){super(t),this.circuit=null,this.geometry=null,this.path=null}readCircuit(t,r){const n=r.sections?.map(i=>({...i,path:lR.fromJSON(i.path)}));return{name:r.name,globalId:r.globalId,isSectioned:r.isSectioned,sectionOrder:r.sectionOrder,startLocation:r.startLocation,stopLocation:r.stopLocation,sections:n,subcircuits:r.subcircuits,lastVerifiedTime:r.lastVerifiedTime?new Date(r.lastVerifiedTime):null,lastExportedTime:r.lastExportedTime?new Date(r.lastExportedTime):null,circuitType:r.circuitType,status:r.status}}};u([d({type:Object,json:{write:!0,read:{source:["name","globalId","isSectioned","sectionOrder","startLocation","stopLocation","sections","subcircuits","lastVerifiedTime","lastExportedTime","circuitType","status"]}}})],rd.prototype,"circuit",void 0),u([X("circuit")],rd.prototype,"readCircuit",null),u([d({type:Tn,json:{write:!0}})],rd.prototype,"geometry",void 0),u([d({type:lR,json:{write:!0}})],rd.prototype,"path",void 0),rd=u([I("esri.rest.networks.support.CircuitTraceResult")],rd);const dTe=rd;let bf=class extends z{constructor(t){super(t),this.functionType=null,this.networkAttributeName=null,this.result=null}};u([d({type:["add","subtract","average","count","min","max"],json:{write:!0},readOnly:!0})],bf.prototype,"functionType",void 0),u([d({type:String,json:{write:!0},readOnly:!0})],bf.prototype,"networkAttributeName",void 0),u([d({type:Number,json:{write:!0},readOnly:!0})],bf.prototype,"result",void 0),bf=u([I("esri.rest.networks.support.FunctionResult")],bf);const pTe=bf;let Ai=class extends z{constructor(t){super(t),this.aggregatedGeometry=null,this.circuits=null,this.elements=null,this.globalFunctionResults=null,this.kFeaturesForKNNFound=!1,this.paths=null,this.startingPointsIgnored=!1,this.warnings=null}readNetworkElements(t,r){return r.elements!=null?r.elements.map(n=>"firstUnit"in n&&"numUnits"in n?new na({...n}):new li({...n})):[]}writeNetworkElements(t,r){r.elements=t.map(n=>n.toJSON())}};u([d({type:uTe,json:{write:!0},readOnly:!0})],Ai.prototype,"aggregatedGeometry",void 0),u([d({type:[dTe],json:{write:!0},readOnly:!0})],Ai.prototype,"circuits",void 0),u([d({type:[li],json:{write:!0},readOnly:!0})],Ai.prototype,"elements",void 0),u([X("elements")],Ai.prototype,"readNetworkElements",null),u([re("elements")],Ai.prototype,"writeNetworkElements",null),u([d({type:[pTe],json:{write:!0},readOnly:!0})],Ai.prototype,"globalFunctionResults",void 0),u([d({type:Boolean,json:{write:!0},readOnly:!0})],Ai.prototype,"kFeaturesForKNNFound",void 0),u([d({type:[lR],json:{write:!0},readOnly:!0})],Ai.prototype,"paths",void 0),u([d({type:Boolean,json:{write:!0},readOnly:!0})],Ai.prototype,"startingPointsIgnored",void 0),u([d({type:[String],json:{write:!0},readOnly:!0})],Ai.prototype,"warnings",void 0),Ai=u([I("esri.rest.networks.support.TraceResult")],Ai);const fTe=Or()({Pending:"job-waiting",InProgress:"job-executing",Completed:"job-succeeded"});let nd=class extends Ai{constructor(t){super(t),this.statusUrl=null,this.status=null,this.submissionTime=null,this.lastUpdatedTime=null,this._timer=void 0}destroy(){clearInterval(this._timer)}async checkJobStatus(t){const r={...t,query:{f:"json"}},{data:n}=await tt(this.statusUrl,r),i=n.traceResults?{...n.traceResults,...n}:n;return this.read(i),this}async waitForJobCompletion(t={}){const{interval:r=1e3,statusCallback:n}=t;return new Promise((i,o)=>{this._clearTimer();const s=setInterval(()=>{this._timer||o(hr()),this.checkJobStatus().then(a=>{const{status:l}=a;switch(this.status=l,l){case"job-succeeded":this._clearTimer(),i(this);break;case"job-waiting":case"job-executing":n&&n(this)}},a=>{this._clearTimer(),o(a)})},r);this._timer=s})}_clearTimer(){clearInterval(this._timer),this._timer=void 0}};u([d({type:String,json:{write:!0}})],nd.prototype,"statusUrl",void 0),u([ye(fTe)],nd.prototype,"status",void 0),u([d({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.submissionTime=e?e.getTime():null}}}})],nd.prototype,"submissionTime",void 0),u([d({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.lastUpdatedTime=e?e.getTime():null}}}})],nd.prototype,"lastUpdatedTime",void 0),nd=u([I("esri.networks.support.TraceJobInfo")],nd);let Ws=class extends iTe{constructor(t){super(t),this.sharedNamedTraceConfigurations=[],this.type="utility",this._terminalById=new Map,this._circuitManagerMap=new Map,this._unitIdentifierManager=null}get serviceTerritoryFeatureLayerId(){return this.dataElement?.serviceTerritoryFeatureLayerId??null}get networkSystemLayers(){return new so({rulesTableId:this.sourceJSON?.systemLayers.rulesTableId,rulesTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.rulesTableId}`:null,subnetworksTableId:this.sourceJSON?.systemLayers.subnetworksTableId,subnetworksTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.subnetworksTableId}`:null,dirtyAreasLayerId:this.sourceJSON?.systemLayers.dirtyAreasLayerId,dirtyAreasLayerUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.dirtyAreasLayerId}`:null,associationsTableId:this.sourceJSON?.systemLayers.associationsTableId,associationsTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.associationsTableId}`:null})}get terminalConfigurations(){return this.dataElement?.terminalConfigurations.map(t=>el.fromJSON(t))||[]}get domainNetworkNames(){return this.dataElement?.domainNetworks.map(t=>t.domainNetworkName)||[]}get _utilityLayerList(){const t=new Set;return this.dataElement?.domainNetworks?.map(r=>{r?.edgeSources?.map(({layerId:n,sourceId:i})=>{this._layerIdBySourceId.set(i,n),this._sourceIdByLayerId.set(n,i),t.add(n)}),r?.junctionSources?.map(({layerId:n,sourceId:i})=>{this._layerIdBySourceId.set(i,n),this._sourceIdByLayerId.set(n,i),t.add(n)})}),t}get hasTelecomNetwork(){return this.dataElement?.domainNetworks.some(t=>t.isTelecomNetwork)??!1}async load(t){return this.addResolvingPromise(super.load(t)),this.addResolvingPromise(this._loadNamedTraceConfigurationsFromNetwork(t)),this}getTerminalConfiguration(t){let r=null,n=null;const i=t.sourceLayer;let o=null;if(i?.type==="feature"){if(o=i.layerId,o===null)return null}else if(i?.type!=="subtype-sublayer"||(o=i?.parent?.layerId??null,o===null))return null;const s=t.attributes;if(s==null)return null;for(const c of Object.keys(s))c.toUpperCase()==="ASSETGROUP"&&(r=t.getAttribute(c)),c.toUpperCase()==="ASSETTYPE"&&(n=t.getAttribute(c));if(!this.dataElement)return null;let a=null;const l=this.dataElement.domainNetworks;for(const c of l){const p=c.junctionSources?.find(h=>h.layerId===o);if(p){const h=p.assetGroups?.find(y=>y.assetGroupCode===r);if(h){const y=h.assetTypes?.find(m=>m.assetTypeCode===n);if(y?.isTerminalConfigurationSupported){a=y.terminalConfigurationId;break}}}}if(a!=null){const c=this.dataElement.terminalConfigurations,p=c?.find(h=>h.terminalConfigurationId===a);return p?el.fromJSON(p):null}return null}getTierNames(t){return this.dataElement?.domainNetworks.find(n=>n.domainNetworkName===t)?.tiers?.map(n=>n.name)||[]}async getRulesTable(){return this._sharedRulesTable||(this._sharedRulesTable=this._createRulesTable()),await this._sharedRulesTable}async getCircuitManager(t){if(!this.hasTelecomNetwork)return null;const r=this.dataElement?.domainNetworks.find(i=>i.domainNetworkName===t&&i.isTelecomNetwork);if(!r)return null;const{default:n}=await ue(()=>import("./CircuitManager-71e033d5.js"),[]);return A_(this._circuitManagerMap,t,()=>new n({utilityNetwork:this,telecomDomainNetwork:r}))}async getUnitIdentifierManager(){if(!this.hasTelecomNetwork)return null;if(this._unitIdentifierManager)return this._unitIdentifierManager;const{default:t}=await ue(()=>import("./UnitIdentifierManager-ded47e80.js"),[]);return this._unitIdentifierManager=new t({utilityNetwork:this}),this._unitIdentifierManager}getTerminalById(t){if(!this.dataElement||t==null)return null;const r=this._terminalById.get(t);return r??(this.terminalConfigurations.forEach(n=>{n.terminals.forEach(i=>{this._terminalById.set(i.id,i)})}),this._terminalById.get(t))}isUtilityLayer(t){return"layerId"in t?this._utilityLayerList.has(t?.layerId)&&(t.url?.startsWith(this.featureServiceUrl)??!1):!(t.type!=="subtype-sublayer"||!t.parent)&&this._utilityLayerList.has(t.parent.layerId)&&(t.parent.url?.startsWith(this.featureServiceUrl)??!1)}async queryAssociations(t,r){const[{queryAssociations:n},{default:i}]=await Promise.all([ue(()=>import("./queryAssociations-da339d79.js"),["assets/queryAssociations-da339d79.js","assets/Association-cf647d11.js"]),ue(()=>import("./QueryAssociationsParameters-7f479450.js"),[])]),o=i.from(t);return o.gdbVersion=this.gdbVersion,o.moment=this.historicMoment,(await n(this.networkServiceUrl,o,r)).associations}async synthesizeAssociationGeometries(t){const[{synthesizeAssociationGeometries:r},{default:n}]=await Promise.all([ue(()=>import("./synthesizeAssociationGeometries-0b4d0206.js"),["assets/synthesizeAssociationGeometries-0b4d0206.js","assets/Association-cf647d11.js"]),ue(()=>import("./SynthesizeAssociationGeometriesParameters-494df615.js"),[])]),i=n.from(t);return i.gdbVersion=this.gdbVersion,i.moment=this.historicMoment,r(this.networkServiceUrl,i)}async trace(t){const[{trace:r},{default:n}]=await Promise.all([ue(()=>import("./trace-308d9ce9.js"),[]),ue(()=>import("./TraceParameters-25e847be.js"),[])]),i=n.from(t);return i.gdbVersion=this.gdbVersion,i.moment=this.historicMoment,r(this.networkServiceUrl,i)}async submitTraceJob(t){const[{submitTraceJob:r},{default:n}]=await Promise.all([ue(()=>import("./trace-308d9ce9.js"),[]),ue(()=>import("./TraceParameters-25e847be.js"),[])]),i=n.from(t);i.gdbVersion=this.gdbVersion,i.moment=this.historicMoment;const o=await r(this.networkServiceUrl,i);return new nd({statusUrl:o})}async canAddAssociation(t){const r=await this.getRulesTable();if(!r)return!1;const{fromNetworkElement:n,toNetworkElement:i}=t;if(!n||!i)return!1;await r.load();let o=null;switch(t.associationType){case"containment":o=r.rulesCategorized.containment;break;case"attachment":o=r.rulesCategorized.attachment;break;default:o=r.rulesCategorized.connectivity}return o.some(s=>_0(s,n,i))}generateAddAssociations(t){const{associationsTable:r}=this.networkSystemLayers,{fromNetworkSourceId:n,fromGlobalId:i,fromTerminalId:o,toNetworkSourceId:s,toGlobalId:a,toTerminalId:l,associationType:c,isContentVisible:p,percentAlong:h,globalId:y}=aTe(r);return{addFeatures:t.map(m=>new wr({attributes:{[n]:m.fromNetworkElement?.networkSourceId,[i]:m.fromNetworkElement?.globalId,[o]:m.fromNetworkElement?.terminalId,[s]:m.toNetworkElement?.networkSourceId,[a]:m.toNetworkElement?.globalId,[l]:m.toNetworkElement?.terminalId,[c]:X$e[m.associationType],[p]:m.isContentVisible==null?void 0:m.isContentVisible?1:0,[h]:m.percentAlong,[y]:m.globalId}})),id:this.networkSystemLayers.associationsTableId,identifierFields:{globalIdField:r?.globalIdField??"globalid",objectIdField:r?.objectIdField??"objectid"}}}generateDeleteAssociations(t){const{associationsTable:r,associationsTableId:n}=this.networkSystemLayers;return{deleteFeatures:t.map(i=>({globalId:i.globalId})),id:n,identifierFields:{globalIdField:r?.globalIdField??"globalid",objectIdField:r?.objectIdField??"objectid"}}}async loadAssociationsTable(){return this.networkSystemLayers.loadAssociationsTable()}async _loadNamedTraceConfigurationsFromNetwork(t){if(this.sharedNamedTraceConfigurations?.length===0)return;const r=this.sharedNamedTraceConfigurations.map(i=>i.globalId),n=await this.queryNamedTraceConfigurations({globalIds:r},t);for(const i of this.sharedNamedTraceConfigurations){const o=n?.find(s=>s.globalId===i.globalId);if(o){const s=o.write({},{origin:"service"});i.read(s,{origin:"service"})}}}async _createRulesTable(){const t=this.networkSystemLayers.rulesTableUrl,r=new ge({url:t});await r.load();const n=this.dataElement?.domainNetworks;if(!n)return null;const i=n.flatMap(s=>[...s.edgeSources||[],...s.junctionSources||[]]),o=(await hTe(r)).map(s=>this._hydrateRuleInfo(r,i,s));return new ou({rulesLayer:r,rules:o})}_hydrateRuleInfo(t,r,n){const i=t.fieldsIndex,o=i.get("RULETYPE"),s=i.get("CREATIONDATE"),a=i.get("FROMNETWORKSOURCEID"),l=i.get("FROMASSETGROUP"),c=i.get("FROMASSETTYPE"),p=i.get("FROMTERMINALID"),h=i.get("TONETWORKSOURCEID"),y=i.get("TOASSETGROUP"),m=i.get("TOASSETTYPE"),g=i.get("TOTERMINALID"),b=i.get("VIANETWORKSOURCEID"),w=i.get("VIAASSETGROUP"),x=i.get("VIAASSETTYPE"),_=i.get("VIATERMINALID"),S=n.attributes[o.name],O=new Date(n.attributes[s.name]),$=[{networkSourceId:n.attributes[a.name],assetGroupId:n.attributes[l.name],assetTypeId:n.attributes[c.name],terminalId:n.attributes[p.name]},{networkSourceId:n.attributes[h.name],assetGroupId:n.attributes[y.name],assetTypeId:n.attributes[m.name],terminalId:n.attributes[g.name]},{networkSourceId:n.attributes[b.name],assetGroupId:n.attributes[w.name],assetTypeId:n.attributes[x.name],terminalId:n.attributes[_.name]}];let T;(function(A){A[A.from=0]="from",A[A.to=1]="to",A[A.via=2]="via"})(T||(T={}));const j={ruleType:S,creationDate:O};for(const A of[T.from,T.to,T.via]){if(S!==er.RTEdgeJunctionEdgeConnectivity&&A===T.via)continue;const N=$[A],k=r.find(W=>W.sourceId===N.networkSourceId),C=k?.assetGroups.find(W=>W.assetGroupCode===N.assetGroupId),F=C?.assetTypes.find(W=>W.assetTypeCode===N.assetTypeId),G=this._getTerminal(F,N);let B="";switch(A){case T.from:B="from";break;case T.to:B="to";break;case T.via:B="via"}j[`${B}NetworkSource`]=k,j[`${B}AssetGroup`]=C,j[`${B}AssetType`]=F,j[`${B}Terminal`]=G?.toJSON()}return j}_getTerminal(t,r){const n=t?.terminalConfigurationId;return this.terminalConfigurations?.find(o=>o.id===n)?.terminals?.find(o=>o.id===r.terminalId)??null}};async function hTe(e){const t=new xe({where:"1=1",outFields:["*"]});return(await IY(e,t)).features}u([d({type:[sTe],json:{origins:{"web-map":{read:{source:"traceConfigurations"},write:{target:"traceConfigurations"}},service:{read:{source:"traceConfigurations"}}},read:!1}})],Ws.prototype,"sharedNamedTraceConfigurations",void 0),u([d({type:["utility"],readOnly:!0,json:{read:!1,write:!1}})],Ws.prototype,"type",void 0),u([d({readOnly:!0})],Ws.prototype,"serviceTerritoryFeatureLayerId",null),u([d({readOnly:!0})],Ws.prototype,"networkSystemLayers",null),u([d({readOnly:!0})],Ws.prototype,"terminalConfigurations",null),u([d({readOnly:!0})],Ws.prototype,"domainNetworkNames",null),u([d({readOnly:!0})],Ws.prototype,"hasTelecomNetwork",null),Ws=u([I("esri.networks.UtilityNetwork")],Ws);const RQ=Ws,yTe=Object.freeze(Object.defineProperty({__proto__:null,default:RQ},Symbol.toStringTag,{value:"Module"}));let wf=class extends Se.ClonableMixin(z){constructor(t){super(t),this.expression=null,this.returnType="string",this.title=null}};u([d({type:String,json:{write:{isRequired:!0}}})],wf.prototype,"expression",void 0),u([d({type:["number","string"],json:{write:!0}})],wf.prototype,"returnType",void 0),u([d({type:String,json:{write:!0}})],wf.prototype,"title",void 0),wf=u([I("esri.webdoc.geotriggersInfo.ExpressionInfo")],wf);const LQ=wf,Yb=new Pe({deviceLocation:"device-location"});let $0=class extends Se.ClonableMixin(z){constructor(t){super(t),this.filterExpression=null,this.type="device-location"}};u([d({type:LQ,json:{write:!0}})],$0.prototype,"filterExpression",void 0),u([d({type:Yb.apiValues,readOnly:!0,json:{type:Yb.jsonValues,read:Yb.read,write:Yb.write}})],$0.prototype,"type",void 0),$0=u([I("esri.webdoc.geotriggersInfo.DeviceLocationFeed")],$0);const mTe=$0;let T0=class extends Se.ClonableMixin(z){constructor(t){super(t),this.geometry=null,this.where=null}};u([d({types:My,json:{read:Il,write:!0}})],T0.prototype,"geometry",void 0),u([d({type:String,json:{write:!0}})],T0.prototype,"where",void 0),T0=u([I("esri.webdoc.geotriggersInfo.FeatureFilter")],T0);const gTe=T0;let xf=class extends Se.ClonableMixin(z){constructor(t){super(t),this.layerId=null,this.layerUrl=null,this.type="feature-layer"}};u([d({type:String,json:{write:{overridePolicy(){return{isRequired:this.layerUrl===null}}}}})],xf.prototype,"layerId",void 0),u([d({type:String,json:{write:{overridePolicy(){return{isRequired:this.layerId===null}}}}})],xf.prototype,"layerUrl",void 0),u([ye({featureLayer:"feature-layer"},{readOnly:!0})],xf.prototype,"type",void 0),xf=u([I("esri.webdoc.geotriggersInfo.FeatureLayerSource")],xf);const vTe=xf;let id=class extends Se.ClonableMixin(z){constructor(t){super(t),this.fenceSource=null,this.filter=null,this.bufferDistance=null,this.type="features"}};u([d({type:vTe,json:{write:{isRequired:!0}}})],id.prototype,"fenceSource",void 0),u([d({type:gTe,json:{write:!0}})],id.prototype,"filter",void 0),u([d({type:Number,json:{write:!0}})],id.prototype,"bufferDistance",void 0),u([ye({features:"features"},{readOnly:!0})],id.prototype,"type",void 0),id=u([I("esri.webdoc.geotriggersInfo.FeatureFenceParameters")],id);const bTe=id;let Mx=class extends Se.ClonableMixin(z){constructor(t){super(t),this.type="fence"}};u([ye({fence:"fence"},{readOnly:!0})],Mx.prototype,"type",void 0),Mx=u([I("esri.webdoc.geotriggersInfo.Geotrigger")],Mx);const DQ=Mx;let O0=class extends Se.ClonableMixin(z){constructor(t){super(t),this.expressionInfo=null,this.requestedActions=null}};u([d({type:LQ,json:{write:!0}})],O0.prototype,"expressionInfo",void 0),u([d({type:[String],json:{write:!0}})],O0.prototype,"requestedActions",void 0),O0=u([I("esri.webdoc.geotriggersInfo.GeotriggerNotificationOptions")],O0);const wTe=O0,xTe=new Pe({enterContainsAndExitDoesNotContain:"enter-contains-and-exit-does-not-contain",enterContainsAndExitDoesNotIntersect:"enter-contains-and-exit-does-not-intersect",enterIntersectsAndExitDoesNotIntersect:"enter-intersects-and-exit-does-not-intersect"}),STe=new Pe({useGeometry:"use-geometry",useGeometryWithAccuracy:"use-geometry-with-accuracy"}),Qb=new Pe({enter:"enter",enterOrExit:"enter-or-exit",exit:"exit"});let Ko=class extends DQ{constructor(t){super(t),this.enterExitRule="enter-contains-and-exit-does-not-intersect",this.feed=null,this.feedAccuracyMode="use-geometry",this.fenceNotificationRule=null,this.fenceParameters=null,this.name=null,this.notificationOptions=null,this.type="fence"}};u([ye(xTe)],Ko.prototype,"enterExitRule",void 0),u([d({type:mTe,json:{write:{isRequired:!0}}})],Ko.prototype,"feed",void 0),u([ye(STe)],Ko.prototype,"feedAccuracyMode",void 0),u([d({type:Qb.apiValues,json:{type:Qb.jsonValues,read:Qb.read,write:{writer:Qb.write,isRequired:!0}}})],Ko.prototype,"fenceNotificationRule",void 0),u([d({type:bTe,json:{write:{isRequired:!0}}})],Ko.prototype,"fenceParameters",void 0),u([d({type:String,json:{write:!0}})],Ko.prototype,"name",void 0),u([d({type:wTe,json:{write:!0}})],Ko.prototype,"notificationOptions",void 0),u([ye({fence:"fence"},{readOnly:!0})],Ko.prototype,"type",void 0),Ko=u([I("esri.webdoc.geotriggersInfo.FenceGeotrigger")],Ko);const _Te=Ko,$Te={base:DQ,key:"type",typeMap:{fence:_Te}};let Cx=class extends Se.ClonableMixin(z){constructor(t){super(t),this.geotriggers=null}};u([d({types:[$Te],json:{write:{isRequired:!0}}})],Cx.prototype,"geotriggers",void 0),Cx=u([I("esri.webdoc.GeotriggersInfo")],Cx);const TTe=Cx;let kx=class extends Se.ClonableMixin(z){constructor(t){super(t),this.enabled=!0}};u([d({type:Boolean,nonNullable:!0,json:{write:!0}})],kx.prototype,"enabled",void 0),kx=u([I("esri.webdoc.ips.AppleIPSProperties")],kx);const OTe=kx;let Rx=class extends Se.ClonableMixin(z){constructor(t){super(t),this.enabled=!0}};u([d({type:Boolean,nonNullable:!0,json:{write:!0}})],Rx.prototype,"enabled",void 0),Rx=u([I("esri.webdoc.ips.GNSSProperties")],Rx);const ETe=Rx;let Sf=class extends Se.ClonableMixin(z){constructor(t){super(t),this.enabled=!0,this.distance=5,this.units="meter"}};u([d({type:Boolean,nonNullable:!0,json:{write:!0}})],Sf.prototype,"enabled",void 0),u([d({type:Number,nonNullable:!0,json:{write:!0}})],Sf.prototype,"distance",void 0),u([d({type:["feet","meter"],nonNullable:!0,json:{write:!0}})],Sf.prototype,"units",void 0),Sf=u([I("esri.webdoc.ips.PathSnappingProperties")],Sf);const jTe=Sf;let Lx=class extends Se.ClonableMixin(z){constructor(t){super(t),this.enabled=!0}};u([d({type:Boolean,nonNullable:!0,json:{write:!0}})],Lx.prototype,"enabled",void 0),Lx=u([I("esri.webdoc.ips.SmoothingProperties")],Lx);const ITe=Lx;let od=class extends Se.ClonableMixin(z){constructor(t){super(t),this.appleIPS=null,this.gnss=null,this.smoothing=null,this.pathSnapping=null}};u([d({type:OTe,json:{name:"AppleIPS",write:!0}})],od.prototype,"appleIPS",void 0),u([d({type:ETe,json:{name:"GNSS",write:!0}})],od.prototype,"gnss",void 0),u([d({type:ITe,json:{write:!0}})],od.prototype,"smoothing",void 0),u([d({type:jTe,json:{write:!0}})],od.prototype,"pathSnapping",void 0),od=u([I("esri.webdoc.ips.Configuration")],od);const ATe=od;let _f=class extends Se.ClonableMixin(z){constructor(t){super(t),this.portalItem=null}readPortalItem(t,r,n){const{itemId:i}=r;if(i)return new $e({id:i,portal:n?.portal})}writePortalItem(t,r){t?.id&&(r.itemId=t.id)}};u([d({type:$e,json:{write:{isRequired:!0}}})],_f.prototype,"portalItem",void 0),u([X("portalItem",["itemId"])],_f.prototype,"readPortalItem",null),u([re("portalItem",{itemId:{type:String}})],_f.prototype,"writePortalItem",null),_f=u([I("esri.webdoc.ips.PositioningService")],_f);const PTe=_f;let E0=class extends Se.ClonableMixin(z){constructor(t){super(t),this.positioningService=null,this.configuration=null}};u([d({type:PTe,json:{write:{isRequired:!0}}})],E0.prototype,"positioningService",void 0),u([d({type:ATe,json:{write:!0}})],E0.prototype,"configuration",void 0),E0=u([I("esri.webdoc.IPSInfo")],E0);const NTe=E0,FQ=new mh(2,34),MTe={currentVersion:FQ,createInitialViewProperties:()=>new HS,parseVersion:mh.parse,itemType:"Web Map",name:"webmap",origin:"web-map"},CTe=Te.ofType(RQ);var a1;let sd=(a1=class extends rve{constructor(t){super(t),this.geotriggersInfo=null,this.ipsInfo=null,this.presentation=null,this.utilityNetworks=null}destroy(){if(this.utilityNetworks){const t=this.utilityNetworks.removeAll();for(const r of t)r.destroy();this.utilityNetworks.destroy()}}get context(){return MTe}loadAll(){return U_(this,t=>{t(this.ground,this.basemap,this.layers,this.tables,this.ipsInfo?.positioningService?.portalItem)})}static fromJSON(t){if(t)return new this({resourceInfo:t});throw new Z("webmap:empty-resource","Expected a JSON resource but got nothing")}},a1.VERSION=FQ,a1);u([d({type:TTe,json:{write:!0}})],sd.prototype,"geotriggersInfo",void 0),u([d({type:NTe,json:{write:!0,name:"mapIPSInfo"}})],sd.prototype,"ipsInfo",void 0),u([d({json:{write:!0}})],sd.prototype,"presentation",void 0),u([d({type:CTe,json:{read:!0,write:!0}})],sd.prototype,"utilityNetworks",void 0),sd=u([I("esri.WebMap")],sd);const kTe=sd;class RTe{constructor(){Op(this,"webMap",null);Op(this,"featureLayer",null);Op(this,"cachedData",[]);Op(this,"lastFetch",0);Op(this,"CACHE_DURATION",5*60*1e3)}async initialize(){try{this.webMap=new kTe({portalItem:{id:"b7d490ce18644f9c8f38989586c4d0d4"}}),await this.webMap.load();const t=this.webMap.layers.items;if(this.featureLayer=t.find(r=>r.title?.toLowerCase().includes("mining")||r.title?.toLowerCase().includes("concession")),!this.featureLayer)throw new Error("Mining concessions layer not found in web map");await this.featureLayer.load(),console.log("✅ Mining data service initialized with layer:",this.featureLayer.title)}catch(t){throw console.error("❌ Failed to initialize mining data service:",t),t}}async getMiningConcessions(t=!1){const r=Date.now();if(!t&&this.cachedData.length>0&&r-this.lastFetch<this.CACHE_DURATION)return this.cachedData;this.featureLayer||await this.initialize();try{const n=this.featureLayer.createQuery();n.returnGeometry=!0,n.outFields=["*"];const i=await this.featureLayer.queryFeatures(n);return this.cachedData=i.features.map((o,s)=>{const a=o.attributes,l=o.geometry,c=[];return l&&l.rings&&l.rings[0]&&c.push(...l.rings[0].map(p=>[p[0],p[1]])),{id:a.OBJECTID?.toString()||`MC${(s+1).toString().padStart(3,"0")}`,name:a.Name||a.CONCESSION_NAME||a.PERMIT_NAME||`Concession ${s+1}`,size:a.AREA_HA||a.SIZE_HECTARES||a.AREA||Math.round(Math.random()*500+50),owner:a.OWNER||a.COMPANY||a.PERMIT_HOLDER||"Unknown Owner",permitType:this.mapPermitType(a.PERMIT_TYPE||a.TYPE||a.SCALE),permitExpiryDate:this.formatDate(a.EXPIRY_DATE||a.PERMIT_EXPIRY||"2025-12-31"),district:a.DISTRICT||a.DIST_NAME||this.extractDistrict(a),region:a.REGION||a.REG_NAME||this.extractRegion(a,c),status:this.mapStatus(a.STATUS||a.PERMIT_STATUS),coordinates:c,contactInfo:{phone:a.PHONE||a.CONTACT_PHONE,email:a.EMAIL||a.CONTACT_EMAIL,address:a.ADDRESS||a.CONTACT_ADDRESS}}}),this.lastFetch=r,console.log(`✅ Fetched ${this.cachedData.length} mining concessions from ArcGIS`),this.cachedData}catch(n){throw console.error("❌ Failed to fetch mining concessions:",n),n}}async searchConcessions(t){return(await this.getMiningConcessions()).filter(n=>!(t.name&&!n.name.toLowerCase().includes(t.name.toLowerCase())||t.owner&&!n.owner.toLowerCase().includes(t.owner.toLowerCase())||t.region&&n.region!==t.region||t.status&&n.status!==t.status||t.permitType&&n.permitType!==t.permitType))}async getDashboardStats(){const t=await this.getMiningConcessions(),r={totalConcessions:t.length,activePermits:t.filter(n=>n.status==="active").length,expiredPermits:t.filter(n=>n.status==="expired").length,soonToExpire:t.filter(n=>{const i=new Date(n.permitExpiryDate),o=new Date;return o.setMonth(o.getMonth()+3),i<=o&&n.status==="active"}).length,totalAreaCovered:t.reduce((n,i)=>n+i.size,0),concessionsByRegion:{},concessionsByType:{}};return t.forEach(n=>{r.concessionsByRegion[n.region]=(r.concessionsByRegion[n.region]||0)+1}),t.forEach(n=>{r.concessionsByType[n.permitType]=(r.concessionsByType[n.permitType]||0)+1}),r}async getConcessionsByRegion(t){return(await this.getMiningConcessions()).filter(n=>n.region===t)}mapPermitType(t){if(!t)return"small-scale";const r=t.toLowerCase();return r.includes("large")||r.includes("major")||r.includes("commercial")?"large-scale":"small-scale"}mapStatus(t){if(!t)return"active";const r=t.toLowerCase();return r.includes("expired")||r.includes("inactive")?"expired":r.includes("pending")||r.includes("review")?"pending":"active"}formatDate(t){if(!t)return"2025-12-31";if(typeof t=="number")return new Date(t).toISOString().split("T")[0];if(typeof t=="string"){const r=new Date(t);if(!isNaN(r.getTime()))return r.toISOString().split("T")[0]}return"2025-12-31"}extractDistrict(t){const r=["DISTRICT","DIST_NAME","DISTRICT_NAME","ADMINISTRATIVE_AREA"];for(const n of r)if(t[n])return t[n];return"Unknown District"}extractRegion(t,r){const n=["REGION","REG_NAME","REGION_NAME","ADMINISTRATIVE_REGION"];for(const i of n)if(t[i])return t[i];if(r.length>0){const[i,o]=r[0];return o>9?"Upper East":o>8?"Upper West":i<-2?"Western":i<-1?"Central":o>7?"Northern":i>0?"Volta":"Ashanti"}return"Unknown Region"}clearCache(){this.cachedData=[],this.lastFetch=0}exportToCSV(t){return[["ID","Name","Owner","Size (hectares)","Permit Type","Status","Region","District","Permit Expiry Date","Coordinates"].join(","),...t.map(i=>[i.id,`"${i.name}"`,`"${i.owner}"`,i.size,i.permitType,i.status,i.region,i.district,i.permitExpiryDate,`"${i.coordinates.map(o=>`${o[0]},${o[1]}`).join(";")}"`].join(","))].join(`
`)}}const ys=new RTe;function LTe(){const[e,t]=M.useState([]),[r,n]=M.useState([]),[i,o]=M.useState(!0),[s,a]=M.useState(""),[l,c]=M.useState({region:"",status:"",type:"",expiryWindow:""});return M.useEffect(()=>{(async()=>{try{o(!0),await ys.initialize();const h=await ys.getMiningConcessions();console.log(`✅ Loaded ${h.length} real mining concessions for concessions view`),t(h),n(h)}catch(h){console.error("Error loading real data:",h)}finally{o(!1)}})()},[]),M.useEffect(()=>{let p=e;if(s&&(p=p.filter(h=>h.name.toLowerCase().includes(s.toLowerCase())||h.owner.toLowerCase().includes(s.toLowerCase())||h.district.toLowerCase().includes(s.toLowerCase()))),l.region&&(p=p.filter(h=>h.region===l.region)),l.status&&(p=p.filter(h=>h.status===l.status)),l.type&&(p=p.filter(h=>h.permitType===l.type)),l.expiryWindow){const h=new Date,y=new Date;switch(l.expiryWindow){case"30":y.setDate(h.getDate()+30);break;case"90":y.setDate(h.getDate()+90);break;case"180":y.setDate(h.getDate()+180);break}p=p.filter(m=>new Date(m.permitExpiryDate)<=y&&m.status==="active")}n(p)},[e,s,l]),i?v.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:v.jsx("div",{className:"max-w-7xl mx-auto",children:v.jsx("div",{className:"flex items-center justify-center py-20",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-epa-orange-500 mx-auto mb-4"}),v.jsx("p",{className:"text-gray-600",children:"Loading real mining concessions data..."}),v.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Fetching from EPA ArcGIS database"})]})})})}):v.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:v.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mining Concessions Database"}),v.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive management of mining permits and concessions in Ghana - Real EPA Data"}),v.jsx("div",{className:"mt-4 p-3 bg-green-50 rounded border border-green-200",children:v.jsxs("div",{className:"text-sm text-green-800",children:["✅ Real-time data from EPA ArcGIS Database • ",e.length," concessions loaded • Last updated: ",new Date().toLocaleString()]})})]}),v.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[v.jsx("div",{className:"flex-1 max-w-lg",children:v.jsx(eae,{value:s,onChange:a})}),v.jsx(aae,{concessions:r})]}),v.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-6",children:[v.jsx("div",{className:"xl:col-span-1",children:v.jsx(Qq,{filters:l,onFiltersChange:c})}),v.jsx("div",{className:"xl:col-span-3",children:v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[v.jsxs("div",{className:"p-4 border-b border-gray-200",children:[v.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Concessions Table (",r.length," of ",e.length," records)"]}),v.jsx("p",{className:"text-sm text-gray-600",children:"Real-time view of all mining concession permits from EPA database"})]}),v.jsx(Yq,{concessions:r})]})})]})]})})}function DTe(){const[e,t]=M.useState([]),[r,n]=M.useState([]),[i,o]=M.useState(!0),[s,a]=M.useState({region:"",status:"",type:"",expiryWindow:""}),[l,c]=M.useState({sizeMin:"",sizeMax:"",ownerSearch:"",districtSearch:"",permitDateFrom:"",permitDateTo:""});M.useEffect(()=>{(async()=>{try{o(!0),await ys.initialize();const g=await ys.getMiningConcessions();console.log(`✅ Loaded ${g.length} real mining concessions for advanced filters`),t(g),n(g)}catch(g){console.error("Failed to load concessions data:",g)}finally{o(!1)}})()},[]),M.useEffect(()=>{if(e.length===0)return;let m=e;if(s.region&&(m=m.filter(g=>g.region===s.region)),s.status&&(m=m.filter(g=>g.status===s.status)),s.type&&(m=m.filter(g=>g.permitType===s.type)),s.expiryWindow){const g=new Date,b=new Date;switch(s.expiryWindow){case"30":b.setDate(g.getDate()+30);break;case"90":b.setDate(g.getDate()+90);break;case"180":b.setDate(g.getDate()+180);break}m=m.filter(w=>new Date(w.permitExpiryDate)<=b&&w.status==="active")}l.sizeMin&&(m=m.filter(g=>g.size>=parseFloat(l.sizeMin))),l.sizeMax&&(m=m.filter(g=>g.size<=parseFloat(l.sizeMax))),l.ownerSearch&&(m=m.filter(g=>g.owner.toLowerCase().includes(l.ownerSearch.toLowerCase()))),l.districtSearch&&(m=m.filter(g=>g.district.toLowerCase().includes(l.districtSearch.toLowerCase()))),l.permitDateFrom&&(m=m.filter(g=>{const b=new Date(g.permitExpiryDate),w=new Date(l.permitDateFrom);return b>=w})),l.permitDateTo&&(m=m.filter(g=>{const b=new Date(g.permitExpiryDate),w=new Date(l.permitDateTo);return b<=w})),n(m)},[e,s,l]);const p=()=>{a({region:"",status:"",type:"",expiryWindow:""}),c({sizeMin:"",sizeMax:"",ownerSearch:"",districtSearch:"",permitDateFrom:"",permitDateTo:""})},h=()=>{console.log("Applying filters:",{filters:s,advancedFilters:l}),alert("Filters applied successfully!")},y=()=>{const m=prompt("Enter a name for this filter set:");m&&(console.log("Saving filter set:",m,{filters:s,advancedFilters:l}),alert(`Filter set "${m}" saved successfully!`))};return v.jsxs("div",{className:"space-y-6",children:[v.jsx("div",{className:"flex items-center justify-between",children:v.jsxs("div",{children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Advanced Filters"}),v.jsx("p",{className:"text-gray-600",children:"Configure detailed filters for mining concession data"})]})}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[v.jsx("div",{className:"lg:col-span-1",children:v.jsx(Qq,{filters:s,onFiltersChange:a})}),v.jsx("div",{className:"lg:col-span-2",children:v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[v.jsxs("div",{className:"p-4 border-b border-gray-200",children:[v.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Advanced Filter Options"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Additional criteria for precise data filtering"})]}),v.jsxs("div",{className:"p-6 space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Concession Size (Hectares)"}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Minimum"}),v.jsx("input",{type:"number",placeholder:"Min size",value:l.sizeMin,onChange:m=>c(g=>({...g,sizeMin:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-epa-orange-500 focus:border-epa-orange-500"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Maximum"}),v.jsx("input",{type:"number",placeholder:"Max size",value:l.sizeMax,onChange:m=>c(g=>({...g,sizeMax:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-epa-orange-500 focus:border-epa-orange-500"})]})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Owner/Company Search"}),v.jsxs("div",{className:"relative",children:[v.jsx(vj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),v.jsx("input",{type:"text",placeholder:"Search by owner or company name...",value:l.ownerSearch,onChange:m=>c(g=>({...g,ownerSearch:m.target.value})),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-epa-orange-500 focus:border-epa-orange-500"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"District Search"}),v.jsxs("div",{className:"relative",children:[v.jsx(vj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),v.jsx("input",{type:"text",placeholder:"Search by district name...",value:l.districtSearch,onChange:m=>c(g=>({...g,districtSearch:m.target.value})),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-epa-orange-500 focus:border-epa-orange-500"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Permit Issue Date Range"}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"From"}),v.jsx("input",{type:"date",value:l.permitDateFrom,onChange:m=>c(g=>({...g,permitDateFrom:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-epa-orange-500 focus:border-epa-orange-500"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"To"}),v.jsx("input",{type:"date",value:l.permitDateTo,onChange:m=>c(g=>({...g,permitDateTo:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-epa-orange-500 focus:border-epa-orange-500"})]})]})]}),v.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t border-gray-200",children:[v.jsxs("button",{onClick:h,className:"flex items-center space-x-2 px-4 py-2 bg-epa-orange-600 text-white rounded-md hover:bg-epa-orange-700 focus:ring-2 focus:ring-epa-orange-500 focus:ring-offset-2",children:[v.jsx(mj,{className:"h-4 w-4"}),v.jsx("span",{children:"Apply Filters"})]}),v.jsxs("button",{onClick:p,className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:[v.jsx(Vse,{className:"h-4 w-4"}),v.jsx("span",{children:"Reset All"})]}),v.jsxs("button",{onClick:y,className:"flex items-center space-x-2 px-4 py-2 bg-epa-green-600 text-white rounded-md hover:bg-epa-green-700 focus:ring-2 focus:ring-epa-green-500 focus:ring-offset-2",children:[v.jsx(__,{className:"h-4 w-4"}),v.jsx("span",{children:"Save Filter Set"})]})]})]})]})})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[v.jsx("div",{className:"p-6 border-b border-gray-200",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filter Results"}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsxs("span",{className:"text-sm text-gray-600",children:[r.length," of ",e.length," concessions"]}),r.length>0&&v.jsx("button",{onClick:()=>{const m=ys.exportToCSV(r),g=new Blob([m],{type:"text/csv"}),b=URL.createObjectURL(g),w=document.createElement("a");w.href=b,w.download="filtered_mining_concessions.csv",w.click()},className:"text-xs px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700",children:"Export CSV"})]})]})}),v.jsx("div",{className:"p-6",children:i?v.jsxs("div",{className:"flex items-center justify-center py-12",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"}),v.jsx("span",{className:"ml-3 text-gray-600",children:"Loading real mining concessions data from EPA ArcGIS..."})]}):r.length>0?v.jsx(Yq,{concessions:r}):v.jsxs("div",{className:"text-center py-12",children:[v.jsx(mj,{className:"mx-auto h-12 w-12 text-gray-400"}),v.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No concessions match the current filters"}),v.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your filter criteria or reset all filters to see results."}),v.jsx("button",{onClick:p,className:"mt-4 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Reset All Filters"})]})})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[v.jsxs("div",{className:"p-4 border-b border-gray-200",children:[v.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Quick Filter Presets"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Common filter combinations based on real data patterns"})]}),v.jsx("div",{className:"p-6",children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[v.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-green-500 cursor-pointer transition-colors",onClick:()=>{a({...s,status:"active"})},children:[v.jsx("h3",{className:"font-medium text-gray-900",children:"Active Concessions"}),v.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"All currently active mining permits"}),v.jsxs("p",{className:"text-xs text-green-600 mt-2",children:[e.filter(m=>m.status==="active").length," concessions"]})]}),v.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-yellow-500 cursor-pointer transition-colors",onClick:()=>{a({...s,status:"active",expiryWindow:"90"})},children:[v.jsx("h3",{className:"font-medium text-gray-900",children:"Expiring in 90 Days"}),v.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Active permits expiring soon"}),v.jsxs("p",{className:"text-xs text-yellow-600 mt-2",children:[e.filter(m=>{if(m.status!=="active")return!1;const g=new Date(m.permitExpiryDate),b=new Date;return b.setDate(b.getDate()+90),g<=b}).length," concessions"]})]}),v.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-500 cursor-pointer transition-colors",onClick:()=>{c({...l,sizeMin:"100"})},children:[v.jsx("h3",{className:"font-medium text-gray-900",children:"Large Scale Operations"}),v.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Concessions over 100 hectares"}),v.jsxs("p",{className:"text-xs text-blue-600 mt-2",children:[e.filter(m=>m.size>=100).length," concessions"]})]}),v.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-red-500 cursor-pointer transition-colors",onClick:()=>{a({...s,status:"expired"})},children:[v.jsx("h3",{className:"font-medium text-gray-900",children:"Expired Permits"}),v.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Concessions with expired permits"}),v.jsxs("p",{className:"text-xs text-red-600 mt-2",children:[e.filter(m=>m.status==="expired").length," concessions"]})]}),v.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-purple-500 cursor-pointer transition-colors",onClick:()=>{a({...s,region:"Western"})},children:[v.jsx("h3",{className:"font-medium text-gray-900",children:"Western Region"}),v.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"All concessions in Western Region"}),v.jsxs("p",{className:"text-xs text-purple-600 mt-2",children:[e.filter(m=>m.region==="Western").length," concessions"]})]}),v.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-indigo-500 cursor-pointer transition-colors",onClick:()=>{c({...l,sizeMax:"25"})},children:[v.jsx("h3",{className:"font-medium text-gray-900",children:"Small Scale Operations"}),v.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Concessions under 25 hectares"}),v.jsxs("p",{className:"text-xs text-indigo-600 mt-2",children:[e.filter(m=>m.size<=25).length," concessions"]})]})]})})]})]})}function UQ(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=UQ(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Be(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=UQ(e))&&(n&&(n+=" "),n+=t);return n}var FTe=Array.isArray,Si=FTe,UTe=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,zQ=UTe,zTe=zQ,BTe=typeof self=="object"&&self&&self.Object===Object&&self,VTe=zTe||BTe||Function("return this")(),ba=VTe,qTe=ba,GTe=qTe.Symbol,C1=GTe,c9=C1,BQ=Object.prototype,WTe=BQ.hasOwnProperty,HTe=BQ.toString,Sm=c9?c9.toStringTag:void 0;function JTe(e){var t=WTe.call(e,Sm),r=e[Sm];try{e[Sm]=void 0;var n=!0}catch{}var i=HTe.call(e);return n&&(t?e[Sm]=r:delete e[Sm]),i}var ZTe=JTe,KTe=Object.prototype,YTe=KTe.toString;function QTe(e){return YTe.call(e)}var XTe=QTe,d9=C1,eOe=ZTe,tOe=XTe,rOe="[object Null]",nOe="[object Undefined]",p9=d9?d9.toStringTag:void 0;function iOe(e){return e==null?e===void 0?nOe:rOe:p9&&p9 in Object(e)?eOe(e):tOe(e)}var Ll=iOe;function oOe(e){return e!=null&&typeof e=="object"}var Dl=oOe,sOe=Ll,aOe=Dl,lOe="[object Symbol]";function uOe(e){return typeof e=="symbol"||aOe(e)&&sOe(e)==lOe}var Fy=uOe,cOe=Si,dOe=Fy,pOe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fOe=/^\w*$/;function hOe(e,t){if(cOe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||dOe(e)?!0:fOe.test(e)||!pOe.test(e)||t!=null&&e in Object(t)}var uR=hOe;function yOe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var wc=yOe;const Uy=yt(wc);var mOe=Ll,gOe=wc,vOe="[object AsyncFunction]",bOe="[object Function]",wOe="[object GeneratorFunction]",xOe="[object Proxy]";function SOe(e){if(!gOe(e))return!1;var t=mOe(e);return t==bOe||t==wOe||t==vOe||t==xOe}var cR=SOe;const Ce=yt(cR);var _Oe=ba,$Oe=_Oe["__core-js_shared__"],TOe=$Oe,GO=TOe,f9=function(){var e=/[^.]+$/.exec(GO&&GO.keys&&GO.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function OOe(e){return!!f9&&f9 in e}var EOe=OOe,jOe=Function.prototype,IOe=jOe.toString;function AOe(e){if(e!=null){try{return IOe.call(e)}catch{}try{return e+""}catch{}}return""}var VQ=AOe,POe=cR,NOe=EOe,MOe=wc,COe=VQ,kOe=/[\\^$.*+?()[\]{}|]/g,ROe=/^\[object .+?Constructor\]$/,LOe=Function.prototype,DOe=Object.prototype,FOe=LOe.toString,UOe=DOe.hasOwnProperty,zOe=RegExp("^"+FOe.call(UOe).replace(kOe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function BOe(e){if(!MOe(e)||NOe(e))return!1;var t=POe(e)?zOe:ROe;return t.test(COe(e))}var VOe=BOe;function qOe(e,t){return e?.[t]}var GOe=qOe,WOe=VOe,HOe=GOe;function JOe(e,t){var r=HOe(e,t);return WOe(r)?r:void 0}var wp=JOe,ZOe=wp,KOe=ZOe(Object,"create"),m$=KOe,h9=m$;function YOe(){this.__data__=h9?h9(null):{},this.size=0}var QOe=YOe;function XOe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var eEe=XOe,tEe=m$,rEe="__lodash_hash_undefined__",nEe=Object.prototype,iEe=nEe.hasOwnProperty;function oEe(e){var t=this.__data__;if(tEe){var r=t[e];return r===rEe?void 0:r}return iEe.call(t,e)?t[e]:void 0}var sEe=oEe,aEe=m$,lEe=Object.prototype,uEe=lEe.hasOwnProperty;function cEe(e){var t=this.__data__;return aEe?t[e]!==void 0:uEe.call(t,e)}var dEe=cEe,pEe=m$,fEe="__lodash_hash_undefined__";function hEe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=pEe&&t===void 0?fEe:t,this}var yEe=hEe,mEe=QOe,gEe=eEe,vEe=sEe,bEe=dEe,wEe=yEe;function zy(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}zy.prototype.clear=mEe;zy.prototype.delete=gEe;zy.prototype.get=vEe;zy.prototype.has=bEe;zy.prototype.set=wEe;var xEe=zy;function SEe(){this.__data__=[],this.size=0}var _Ee=SEe;function $Ee(e,t){return e===t||e!==e&&t!==t}var dR=$Ee,TEe=dR;function OEe(e,t){for(var r=e.length;r--;)if(TEe(e[r][0],t))return r;return-1}var g$=OEe,EEe=g$,jEe=Array.prototype,IEe=jEe.splice;function AEe(e){var t=this.__data__,r=EEe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():IEe.call(t,r,1),--this.size,!0}var PEe=AEe,NEe=g$;function MEe(e){var t=this.__data__,r=NEe(t,e);return r<0?void 0:t[r][1]}var CEe=MEe,kEe=g$;function REe(e){return kEe(this.__data__,e)>-1}var LEe=REe,DEe=g$;function FEe(e,t){var r=this.__data__,n=DEe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var UEe=FEe,zEe=_Ee,BEe=PEe,VEe=CEe,qEe=LEe,GEe=UEe;function By(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}By.prototype.clear=zEe;By.prototype.delete=BEe;By.prototype.get=VEe;By.prototype.has=qEe;By.prototype.set=GEe;var v$=By,WEe=wp,HEe=ba,JEe=WEe(HEe,"Map"),pR=JEe,y9=xEe,ZEe=v$,KEe=pR;function YEe(){this.size=0,this.__data__={hash:new y9,map:new(KEe||ZEe),string:new y9}}var QEe=YEe;function XEe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var eje=XEe,tje=eje;function rje(e,t){var r=e.__data__;return tje(t)?r[typeof t=="string"?"string":"hash"]:r.map}var b$=rje,nje=b$;function ije(e){var t=nje(this,e).delete(e);return this.size-=t?1:0,t}var oje=ije,sje=b$;function aje(e){return sje(this,e).get(e)}var lje=aje,uje=b$;function cje(e){return uje(this,e).has(e)}var dje=cje,pje=b$;function fje(e,t){var r=pje(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var hje=fje,yje=QEe,mje=oje,gje=lje,vje=dje,bje=hje;function Vy(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Vy.prototype.clear=yje;Vy.prototype.delete=mje;Vy.prototype.get=gje;Vy.prototype.has=vje;Vy.prototype.set=bje;var fR=Vy,qQ=fR,wje="Expected a function";function hR(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(wje);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(hR.Cache||qQ),r}hR.Cache=qQ;var GQ=hR;const xje=yt(GQ);var Sje=GQ,_je=500;function $je(e){var t=Sje(e,function(n){return r.size===_je&&r.clear(),n}),r=t.cache;return t}var Tje=$je,Oje=Tje,Eje=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jje=/\\(\\)?/g,Ije=Oje(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Eje,function(r,n,i,o){t.push(i?o.replace(jje,"$1"):n||r)}),t}),Aje=Ije;function Pje(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var yR=Pje,m9=C1,Nje=yR,Mje=Si,Cje=Fy,kje=1/0,g9=m9?m9.prototype:void 0,v9=g9?g9.toString:void 0;function WQ(e){if(typeof e=="string")return e;if(Mje(e))return Nje(e,WQ)+"";if(Cje(e))return v9?v9.call(e):"";var t=e+"";return t=="0"&&1/e==-kje?"-0":t}var Rje=WQ,Lje=Rje;function Dje(e){return e==null?"":Lje(e)}var HQ=Dje,Fje=Si,Uje=uR,zje=Aje,Bje=HQ;function Vje(e,t){return Fje(e)?e:Uje(e,t)?[e]:zje(Bje(e))}var JQ=Vje,qje=Fy,Gje=1/0;function Wje(e){if(typeof e=="string"||qje(e))return e;var t=e+"";return t=="0"&&1/e==-Gje?"-0":t}var w$=Wje,Hje=JQ,Jje=w$;function Zje(e,t){t=Hje(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Jje(t[r++])];return r&&r==n?e:void 0}var mR=Zje,Kje=mR;function Yje(e,t,r){var n=e==null?void 0:Kje(e,t);return n===void 0?r:n}var ZQ=Yje;const Gi=yt(ZQ);function Qje(e){return e==null}var Xje=Qje;const qe=yt(Xje);var eIe=Ll,tIe=Si,rIe=Dl,nIe="[object String]";function iIe(e){return typeof e=="string"||!tIe(e)&&rIe(e)&&eIe(e)==nIe}var oIe=iIe;const sp=yt(oIe);var KQ={exports:{}},mt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gR=Symbol.for("react.element"),vR=Symbol.for("react.portal"),x$=Symbol.for("react.fragment"),S$=Symbol.for("react.strict_mode"),_$=Symbol.for("react.profiler"),$$=Symbol.for("react.provider"),T$=Symbol.for("react.context"),sIe=Symbol.for("react.server_context"),O$=Symbol.for("react.forward_ref"),E$=Symbol.for("react.suspense"),j$=Symbol.for("react.suspense_list"),I$=Symbol.for("react.memo"),A$=Symbol.for("react.lazy"),aIe=Symbol.for("react.offscreen"),YQ;YQ=Symbol.for("react.module.reference");function Po(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case gR:switch(e=e.type,e){case x$:case _$:case S$:case E$:case j$:return e;default:switch(e=e&&e.$$typeof,e){case sIe:case T$:case O$:case A$:case I$:case $$:return e;default:return t}}case vR:return t}}}mt.ContextConsumer=T$;mt.ContextProvider=$$;mt.Element=gR;mt.ForwardRef=O$;mt.Fragment=x$;mt.Lazy=A$;mt.Memo=I$;mt.Portal=vR;mt.Profiler=_$;mt.StrictMode=S$;mt.Suspense=E$;mt.SuspenseList=j$;mt.isAsyncMode=function(){return!1};mt.isConcurrentMode=function(){return!1};mt.isContextConsumer=function(e){return Po(e)===T$};mt.isContextProvider=function(e){return Po(e)===$$};mt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===gR};mt.isForwardRef=function(e){return Po(e)===O$};mt.isFragment=function(e){return Po(e)===x$};mt.isLazy=function(e){return Po(e)===A$};mt.isMemo=function(e){return Po(e)===I$};mt.isPortal=function(e){return Po(e)===vR};mt.isProfiler=function(e){return Po(e)===_$};mt.isStrictMode=function(e){return Po(e)===S$};mt.isSuspense=function(e){return Po(e)===E$};mt.isSuspenseList=function(e){return Po(e)===j$};mt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===x$||e===_$||e===S$||e===E$||e===j$||e===aIe||typeof e=="object"&&e!==null&&(e.$$typeof===A$||e.$$typeof===I$||e.$$typeof===$$||e.$$typeof===T$||e.$$typeof===O$||e.$$typeof===YQ||e.getModuleId!==void 0)};mt.typeOf=Po;KQ.exports=mt;var lIe=KQ.exports,uIe=Ll,cIe=Dl,dIe="[object Number]";function pIe(e){return typeof e=="number"||cIe(e)&&uIe(e)==dIe}var QQ=pIe;const fIe=yt(QQ);var hIe=QQ;function yIe(e){return hIe(e)&&e!=+e}var mIe=yIe;const k1=yt(mIe);var Hn=function(t){return t===0?0:t>0?1:-1},Ed=function(t){return sp(t)&&t.indexOf("%")===t.length-1},le=function(t){return fIe(t)&&!k1(t)},gIe=function(t){return qe(t)},Ur=function(t){return le(t)||sp(t)},vIe=0,R1=function(t){var r=++vIe;return"".concat(t||"").concat(r)},Jn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!le(t)&&!sp(t))return n;var o;if(Ed(t)){var s=t.indexOf("%");o=r*parseFloat(t.slice(0,s))/100}else o=+t;return k1(o)&&(o=n),i&&o>r&&(o=r),o},Ou=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},bIe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},gu=function(t,r){return le(t)&&le(r)?function(n){return t+n*(r-t)}:function(){return r}};function U3(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Gi(n,t))===r})}var wIe=function(t,r){return le(t)&&le(r)?t-r:sp(t)&&sp(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function vh(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function z3(e){"@babel/helpers - typeof";return z3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z3(e)}var xIe=["viewBox","children"],SIe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],b9=["points","pathLength"],WO={svg:xIe,polygon:b9,polyline:b9},bR=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],s2=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(M.isValidElement(t)&&(n=t.props),!Uy(n))return null;var i={};return Object.keys(n).forEach(function(o){bR.includes(o)&&(i[o]=r||function(s){return n[o](n,s)})}),i},_Ie=function(t,r,n){return function(i){return t(r,n,i),null}},ap=function(t,r,n){if(!Uy(t)||z3(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(o){var s=t[o];bR.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=_Ie(s,r,n))}),i},$Ie=["children"],TIe=["children"];function w9(e,t){if(e==null)return{};var r=OIe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var x9={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},wl=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},S9=null,HO=null,wR=function e(t){if(t===S9&&Array.isArray(HO))return HO;var r=[];return M.Children.forEach(t,function(n){qe(n)||(lIe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),HO=r,S9=t,r};function To(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return wl(i)}):n=[wl(t)],wR(e).forEach(function(i){var o=Gi(i,"type.displayName")||Gi(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}function Ci(e,t){var r=To(e,t);return r&&r[0]}var _9=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!le(n)||n<=0||!le(i)||i<=0)},EIe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],jIe=function(t){return t&&t.type&&sp(t.type)&&EIe.indexOf(t.type)>=0},IIe=function(t,r,n,i){var o,s=(o=WO?.[i])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Ce(t)&&(i&&s.includes(r)||SIe.includes(r))||n&&bR.includes(r)},Ae=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(M.isValidElement(t)&&(i=t.props),!Uy(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;IIe((a=i)===null||a===void 0?void 0:a[s],s,r,n)&&(o[s]=i[s])}),o},B3=function e(t,r){if(t===r)return!0;var n=M.Children.count(t);if(n!==M.Children.count(r))return!1;if(n===0)return!0;if(n===1)return $9(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var o=t[i],s=r[i];if(Array.isArray(o)||Array.isArray(s)){if(!e(o,s))return!1}else if(!$9(o,s))return!1}return!0},$9=function(t,r){if(qe(t)&&qe(r))return!0;if(!qe(t)&&!qe(r)){var n=t.props||{},i=n.children,o=w9(n,$Ie),s=r.props||{},a=s.children,l=w9(s,TIe);return i&&a?vh(o,l)&&B3(i,a):!i&&!a?vh(o,l):!1}return!1},T9=function(t,r){var n=[],i={};return wR(t).forEach(function(o,s){if(jIe(o))n.push(o);else if(o){var a=wl(o.type),l=r[a]||{},c=l.handler,p=l.once;if(c&&(!p||!i[a])){var h=c(o,a,s);n.push(h),i[a]=!0}}}),n},AIe=function(t){var r=t&&t.type;return r&&x9[r]?x9[r]:null},PIe=function(t,r){return wR(r).indexOf(t)},NIe=["children","width","height","viewBox","className","style","title","desc"];function V3(){return V3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V3.apply(this,arguments)}function MIe(e,t){if(e==null)return{};var r=CIe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function q3(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,o=e.className,s=e.style,a=e.title,l=e.desc,c=MIe(e,NIe),p=i||{width:r,height:n,x:0,y:0},h=Be("recharts-surface",o);return L.createElement("svg",V3({},Ae(c,!0,"svg"),{className:h,width:r,height:n,style:s,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),L.createElement("title",null,a),L.createElement("desc",null,l),t)}var kIe=["children","className"];function G3(){return G3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G3.apply(this,arguments)}function RIe(e,t){if(e==null)return{};var r=LIe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ft=L.forwardRef(function(e,t){var r=e.children,n=e.className,i=RIe(e,kIe),o=Be("recharts-layer",n);return L.createElement("g",G3({className:o},Ae(i,!0),{ref:t}),r)}),$s=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]};function DIe(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}var FIe=DIe,UIe=FIe;function zIe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:UIe(e,t,r)}var BIe=zIe,VIe="\\ud800-\\udfff",qIe="\\u0300-\\u036f",GIe="\\ufe20-\\ufe2f",WIe="\\u20d0-\\u20ff",HIe=qIe+GIe+WIe,JIe="\\ufe0e\\ufe0f",ZIe="\\u200d",KIe=RegExp("["+ZIe+VIe+HIe+JIe+"]");function YIe(e){return KIe.test(e)}var XQ=YIe;function QIe(e){return e.split("")}var XIe=QIe,eX="\\ud800-\\udfff",eAe="\\u0300-\\u036f",tAe="\\ufe20-\\ufe2f",rAe="\\u20d0-\\u20ff",nAe=eAe+tAe+rAe,iAe="\\ufe0e\\ufe0f",oAe="["+eX+"]",W3="["+nAe+"]",H3="\\ud83c[\\udffb-\\udfff]",sAe="(?:"+W3+"|"+H3+")",tX="[^"+eX+"]",rX="(?:\\ud83c[\\udde6-\\uddff]){2}",nX="[\\ud800-\\udbff][\\udc00-\\udfff]",aAe="\\u200d",iX=sAe+"?",oX="["+iAe+"]?",lAe="(?:"+aAe+"(?:"+[tX,rX,nX].join("|")+")"+oX+iX+")*",uAe=oX+iX+lAe,cAe="(?:"+[tX+W3+"?",W3,rX,nX,oAe].join("|")+")",dAe=RegExp(H3+"(?="+H3+")|"+cAe+uAe,"g");function pAe(e){return e.match(dAe)||[]}var fAe=pAe,hAe=XIe,yAe=XQ,mAe=fAe;function gAe(e){return yAe(e)?mAe(e):hAe(e)}var vAe=gAe,bAe=BIe,wAe=XQ,xAe=vAe,SAe=HQ;function _Ae(e){return function(t){t=SAe(t);var r=wAe(t)?xAe(t):void 0,n=r?r[0]:t.charAt(0),i=r?bAe(r,1).join(""):t.slice(1);return n[e]()+i}}var $Ae=_Ae,TAe=$Ae,OAe=TAe("toUpperCase"),EAe=OAe;const P$=yt(EAe);function jt(e){return function(){return e}}const sX=Math.cos,a2=Math.sin,As=Math.sqrt,l2=Math.PI,N$=2*l2,J3=Math.PI,Z3=2*J3,ad=1e-6,jAe=Z3-ad;function aX(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function IAe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return aX;const r=10**t;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class AAe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?aX:IAe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,o,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,r,n,i,o){if(t=+t,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=n-t,c=i-r,p=s-t,h=a-r,y=p*p+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(y>ad)if(!(Math.abs(h*l-c*p)>ad)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-s,g=i-a,b=l*l+c*c,w=m*m+g*g,x=Math.sqrt(b),_=Math.sqrt(y),S=o*Math.tan((J3-Math.acos((b+y-w)/(2*x*_)))/2),O=S/_,$=S/x;Math.abs(O-1)>ad&&this._append`L${t+O*p},${r+O*h}`,this._append`A${o},${o},0,0,${+(h*m>p*g)},${this._x1=t+$*l},${this._y1=r+$*c}`}}arc(t,r,n,i,o,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(i),l=n*Math.sin(i),c=t+a,p=r+l,h=1^s,y=s?i-o:o-i;this._x1===null?this._append`M${c},${p}`:(Math.abs(this._x1-c)>ad||Math.abs(this._y1-p)>ad)&&this._append`L${c},${p}`,n&&(y<0&&(y=y%Z3+Z3),y>jAe?this._append`A${n},${n},0,1,${h},${t-a},${r-l}A${n},${n},0,1,${h},${this._x1=c},${this._y1=p}`:y>ad&&this._append`A${n},${n},0,${+(y>=J3)},${h},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function xR(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new AAe(t)}function SR(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function lX(e){this._context=e}lX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function M$(e){return new lX(e)}function uX(e){return e[0]}function cX(e){return e[1]}function dX(e,t){var r=jt(!0),n=null,i=M$,o=null,s=xR(a);e=typeof e=="function"?e:e===void 0?uX:jt(e),t=typeof t=="function"?t:t===void 0?cX:jt(t);function a(l){var c,p=(l=SR(l)).length,h,y=!1,m;for(n==null&&(o=i(m=s())),c=0;c<=p;++c)!(c<p&&r(h=l[c],c,l))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+e(h,c,l),+t(h,c,l));if(m)return o=null,m+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:jt(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:jt(+l),a):t},a.defined=function(l){return arguments.length?(r=typeof l=="function"?l:jt(!!l),a):r},a.curve=function(l){return arguments.length?(i=l,n!=null&&(o=i(n)),a):i},a.context=function(l){return arguments.length?(l==null?n=o=null:o=i(n=l),a):n},a}function Xb(e,t,r){var n=null,i=jt(!0),o=null,s=M$,a=null,l=xR(c);e=typeof e=="function"?e:e===void 0?uX:jt(+e),t=typeof t=="function"?t:jt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?cX:jt(+r);function c(h){var y,m,g,b=(h=SR(h)).length,w,x=!1,_,S=new Array(b),O=new Array(b);for(o==null&&(a=s(_=l())),y=0;y<=b;++y){if(!(y<b&&i(w=h[y],y,h))===x)if(x=!x)m=y,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),g=y-1;g>=m;--g)a.point(S[g],O[g]);a.lineEnd(),a.areaEnd()}x&&(S[y]=+e(w,y,h),O[y]=+t(w,y,h),a.point(n?+n(w,y,h):S[y],r?+r(w,y,h):O[y]))}if(_)return a=null,_+""||null}function p(){return dX().defined(i).curve(s).context(o)}return c.x=function(h){return arguments.length?(e=typeof h=="function"?h:jt(+h),n=null,c):e},c.x0=function(h){return arguments.length?(e=typeof h=="function"?h:jt(+h),c):e},c.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:jt(+h),c):n},c.y=function(h){return arguments.length?(t=typeof h=="function"?h:jt(+h),r=null,c):t},c.y0=function(h){return arguments.length?(t=typeof h=="function"?h:jt(+h),c):t},c.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:jt(+h),c):r},c.lineX0=c.lineY0=function(){return p().x(e).y(t)},c.lineY1=function(){return p().x(e).y(r)},c.lineX1=function(){return p().x(n).y(t)},c.defined=function(h){return arguments.length?(i=typeof h=="function"?h:jt(!!h),c):i},c.curve=function(h){return arguments.length?(s=h,o!=null&&(a=s(o)),c):s},c.context=function(h){return arguments.length?(h==null?o=a=null:a=s(o=h),c):o},c}class pX{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function PAe(e){return new pX(e,!0)}function NAe(e){return new pX(e,!1)}const _R={draw(e,t){const r=As(t/l2);e.moveTo(r,0),e.arc(0,0,r,0,N$)}},MAe={draw(e,t){const r=As(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},fX=As(1/3),CAe=fX*2,kAe={draw(e,t){const r=As(t/CAe),n=r*fX;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},RAe={draw(e,t){const r=As(t),n=-r/2;e.rect(n,n,r,r)}},LAe=.8908130915292852,hX=a2(l2/10)/a2(7*l2/10),DAe=a2(N$/10)*hX,FAe=-sX(N$/10)*hX,UAe={draw(e,t){const r=As(t*LAe),n=DAe*r,i=FAe*r;e.moveTo(0,-r),e.lineTo(n,i);for(let o=1;o<5;++o){const s=N$*o/5,a=sX(s),l=a2(s);e.lineTo(l*r,-a*r),e.lineTo(a*n-l*i,l*n+a*i)}e.closePath()}},JO=As(3),zAe={draw(e,t){const r=-As(t/(JO*3));e.moveTo(0,r*2),e.lineTo(-JO*r,-r),e.lineTo(JO*r,-r),e.closePath()}},Qi=-.5,Xi=As(3)/2,K3=1/As(12),BAe=(K3/2+1)*3,VAe={draw(e,t){const r=As(t/BAe),n=r/2,i=r*K3,o=n,s=r*K3+r,a=-o,l=s;e.moveTo(n,i),e.lineTo(o,s),e.lineTo(a,l),e.lineTo(Qi*n-Xi*i,Xi*n+Qi*i),e.lineTo(Qi*o-Xi*s,Xi*o+Qi*s),e.lineTo(Qi*a-Xi*l,Xi*a+Qi*l),e.lineTo(Qi*n+Xi*i,Qi*i-Xi*n),e.lineTo(Qi*o+Xi*s,Qi*s-Xi*o),e.lineTo(Qi*a+Xi*l,Qi*l-Xi*a),e.closePath()}};function qAe(e,t){let r=null,n=xR(i);e=typeof e=="function"?e:jt(e||_R),t=typeof t=="function"?t:jt(t===void 0?64:+t);function i(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:jt(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:jt(+o),i):t},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function u2(){}function c2(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function yX(e){this._context=e}yX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:c2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:c2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function GAe(e){return new yX(e)}function mX(e){this._context=e}mX.prototype={areaStart:u2,areaEnd:u2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:c2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function WAe(e){return new mX(e)}function gX(e){this._context=e}gX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:c2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function HAe(e){return new gX(e)}function vX(e){this._context=e}vX.prototype={areaStart:u2,areaEnd:u2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function JAe(e){return new vX(e)}function O9(e){return e<0?-1:1}function E9(e,t,r){var n=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),a=(o*i+s*n)/(n+i);return(O9(o)+O9(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function j9(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ZO(e,t,r){var n=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-n)/3;e._context.bezierCurveTo(n+a,i+a*t,o-a,s-a*r,o,s)}function d2(e){this._context=e}d2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ZO(this,this._t0,j9(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ZO(this,j9(this,r=E9(this,e,t)),r);break;default:ZO(this,this._t0,r=E9(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function bX(e){this._context=new wX(e)}(bX.prototype=Object.create(d2.prototype)).point=function(e,t){d2.prototype.point.call(this,t,e)};function wX(e){this._context=e}wX.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,o){this._context.bezierCurveTo(t,e,n,r,o,i)}};function ZAe(e){return new d2(e)}function KAe(e){return new bX(e)}function xX(e){this._context=e}xX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=I9(e),i=I9(t),o=0,s=1;s<r;++o,++s)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function I9(e){var t,r=e.length-1,n,i=new Array(r),o=new Array(r),s=new Array(r);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function YAe(e){return new xX(e)}function C$(e,t){this._context=e,this._t=t}C$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function QAe(e){return new C$(e,.5)}function XAe(e){return new C$(e,0)}function ePe(e){return new C$(e,1)}function qh(e,t){if((s=e.length)>1)for(var r=1,n,i,o=e[t[0]],s,a=o.length;r<s;++r)for(i=o,o=e[t[r]],n=0;n<a;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Y3(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function tPe(e,t){return e[t]}function rPe(e){const t=[];return t.key=e,t}function nPe(){var e=jt([]),t=Y3,r=qh,n=tPe;function i(o){var s=Array.from(e.apply(this,arguments),rPe),a,l=s.length,c=-1,p;for(const h of o)for(a=0,++c;a<l;++a)(s[a][c]=[0,+n(h,s[a].key,c,o)]).data=h;for(a=0,p=SR(t(s));a<l;++a)s[p[a]].index=a;return r(s,p),s}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:jt(Array.from(o)),i):e},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:jt(+o),i):n},i.order=function(o){return arguments.length?(t=o==null?Y3:typeof o=="function"?o:jt(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(r=o??qh,i):r},i}function iPe(e,t){if((n=e.length)>0){for(var r,n,i=0,o=e[0].length,s;i<o;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}qh(e,t)}}function oPe(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,o=n.length;r<o;++r){for(var s=0,a=0;s<i;++s)a+=e[s][r][1]||0;n[r][1]+=n[r][0]=-a/2}qh(e,t)}}function sPe(e,t){if(!(!((s=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,o,s;n<o;++n){for(var a=0,l=0,c=0;a<s;++a){for(var p=e[t[a]],h=p[n][1]||0,y=p[n-1][1]||0,m=(h-y)/2,g=0;g<a;++g){var b=e[t[g]],w=b[n][1]||0,x=b[n-1][1]||0;m+=w-x}l+=h,c+=m*h}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,qh(e,t)}}function rv(e){"@babel/helpers - typeof";return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rv(e)}var aPe=["type","size","sizeType"];function Q3(){return Q3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q3.apply(this,arguments)}function A9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function P9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A9(Object(r),!0).forEach(function(n){lPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lPe(e,t,r){return t=uPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uPe(e){var t=cPe(e,"string");return rv(t)=="symbol"?t:t+""}function cPe(e,t){if(rv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dPe(e,t){if(e==null)return{};var r=pPe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var SX={symbolCircle:_R,symbolCross:MAe,symbolDiamond:kAe,symbolSquare:RAe,symbolStar:UAe,symbolTriangle:zAe,symbolWye:VAe},fPe=Math.PI/180,hPe=function(t){var r="symbol".concat(P$(t));return SX[r]||_R},yPe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*fPe;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},mPe=function(t,r){SX["symbol".concat(P$(t))]=r},$R=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,o=i===void 0?64:i,s=t.sizeType,a=s===void 0?"area":s,l=dPe(t,aPe),c=P9(P9({},l),{},{type:n,size:o,sizeType:a}),p=function(){var w=hPe(n),x=qAe().type(w).size(yPe(o,a,n));return x()},h=c.className,y=c.cx,m=c.cy,g=Ae(c,!0);return y===+y&&m===+m&&o===+o?L.createElement("path",Q3({},g,{className:Be("recharts-symbols",h),transform:"translate(".concat(y,", ").concat(m,")"),d:p()})):null};$R.registerSymbol=mPe;function Gh(e){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gh(e)}function X3(){return X3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X3.apply(this,arguments)}function N9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gPe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N9(Object(r),!0).forEach(function(n){nv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M9(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$X(n.key),n)}}function bPe(e,t,r){return t&&M9(e.prototype,t),r&&M9(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wPe(e,t,r){return t=p2(t),xPe(e,_X()?Reflect.construct(t,r||[],p2(e).constructor):t.apply(e,r))}function xPe(e,t){if(t&&(Gh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SPe(e)}function SPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _X(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_X=function(){return!!e})()}function p2(e){return p2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},p2(e)}function _Pe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eN(e,t)}function eN(e,t){return eN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eN(e,t)}function nv(e,t,r){return t=$X(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $X(e){var t=$Pe(e,"string");return Gh(t)=="symbol"?t:t+""}function $Pe(e,t){if(Gh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eo=32,TR=function(e){function t(){return vPe(this,t),wPe(this,t,arguments)}return _Pe(t,e),bPe(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,o=eo/2,s=eo/6,a=eo/3,l=n.inactive?i:n.color;if(n.type==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:eo,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(eo,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return L.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(eo/8,"h").concat(eo,"v").concat(eo*3/4,"h").concat(-eo,"z"),className:"recharts-legend-icon"});if(L.isValidElement(n.legendIcon)){var c=gPe({},n);return delete c.legendIcon,L.cloneElement(n.legendIcon,c)}return L.createElement($R,{fill:l,cx:o,cy:o,size:eo,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,c=i.inactiveColor,p={x:0,y:0,width:eo,height:eo},h={display:a==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,g){var b=m.formatter||l,w=Be(nv(nv({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var x=Ce(m.value)?null:m.value;$s(!Ce(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=m.inactive?c:m.color;return L.createElement("li",X3({className:w,style:h,key:"legend-item-".concat(g)},ap(n.props,m,g)),L.createElement(q3,{width:s,height:s,viewBox:p,style:y},n.renderIcon(m)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},b?b(x,m,g):x))})}},{key:"render",value:function(){var n=this.props,i=n.payload,o=n.layout,s=n.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(M.PureComponent);nv(TR,"displayName","Legend");nv(TR,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var TPe=v$;function OPe(){this.__data__=new TPe,this.size=0}var EPe=OPe;function jPe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var IPe=jPe;function APe(e){return this.__data__.get(e)}var PPe=APe;function NPe(e){return this.__data__.has(e)}var MPe=NPe,CPe=v$,kPe=pR,RPe=fR,LPe=200;function DPe(e,t){var r=this.__data__;if(r instanceof CPe){var n=r.__data__;if(!kPe||n.length<LPe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new RPe(n)}return r.set(e,t),this.size=r.size,this}var FPe=DPe,UPe=v$,zPe=EPe,BPe=IPe,VPe=PPe,qPe=MPe,GPe=FPe;function qy(e){var t=this.__data__=new UPe(e);this.size=t.size}qy.prototype.clear=zPe;qy.prototype.delete=BPe;qy.prototype.get=VPe;qy.prototype.has=qPe;qy.prototype.set=GPe;var TX=qy,WPe="__lodash_hash_undefined__";function HPe(e){return this.__data__.set(e,WPe),this}var JPe=HPe;function ZPe(e){return this.__data__.has(e)}var KPe=ZPe,YPe=fR,QPe=JPe,XPe=KPe;function f2(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new YPe;++t<r;)this.add(e[t])}f2.prototype.add=f2.prototype.push=QPe;f2.prototype.has=XPe;var OX=f2;function e3e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var EX=e3e;function t3e(e,t){return e.has(t)}var jX=t3e,r3e=OX,n3e=EX,i3e=jX,o3e=1,s3e=2;function a3e(e,t,r,n,i,o){var s=r&o3e,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(e),p=o.get(t);if(c&&p)return c==t&&p==e;var h=-1,y=!0,m=r&s3e?new r3e:void 0;for(o.set(e,t),o.set(t,e);++h<a;){var g=e[h],b=t[h];if(n)var w=s?n(b,g,h,t,e,o):n(g,b,h,e,t,o);if(w!==void 0){if(w)continue;y=!1;break}if(m){if(!n3e(t,function(x,_){if(!i3e(m,_)&&(g===x||i(g,x,r,n,o)))return m.push(_)})){y=!1;break}}else if(!(g===b||i(g,b,r,n,o))){y=!1;break}}return o.delete(e),o.delete(t),y}var IX=a3e,l3e=ba,u3e=l3e.Uint8Array,c3e=u3e;function d3e(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var p3e=d3e;function f3e(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var OR=f3e,C9=C1,k9=c3e,h3e=dR,y3e=IX,m3e=p3e,g3e=OR,v3e=1,b3e=2,w3e="[object Boolean]",x3e="[object Date]",S3e="[object Error]",_3e="[object Map]",$3e="[object Number]",T3e="[object RegExp]",O3e="[object Set]",E3e="[object String]",j3e="[object Symbol]",I3e="[object ArrayBuffer]",A3e="[object DataView]",R9=C9?C9.prototype:void 0,KO=R9?R9.valueOf:void 0;function P3e(e,t,r,n,i,o,s){switch(r){case A3e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case I3e:return!(e.byteLength!=t.byteLength||!o(new k9(e),new k9(t)));case w3e:case x3e:case $3e:return h3e(+e,+t);case S3e:return e.name==t.name&&e.message==t.message;case T3e:case E3e:return e==t+"";case _3e:var a=m3e;case O3e:var l=n&v3e;if(a||(a=g3e),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=b3e,s.set(e,t);var p=y3e(a(e),a(t),n,i,o,s);return s.delete(e),p;case j3e:if(KO)return KO.call(e)==KO.call(t)}return!1}var N3e=P3e;function M3e(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var AX=M3e,C3e=AX,k3e=Si;function R3e(e,t,r){var n=t(e);return k3e(e)?n:C3e(n,r(e))}var L3e=R3e;function D3e(e,t){for(var r=-1,n=e==null?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}var F3e=D3e;function U3e(){return[]}var z3e=U3e,B3e=F3e,V3e=z3e,q3e=Object.prototype,G3e=q3e.propertyIsEnumerable,L9=Object.getOwnPropertySymbols,W3e=L9?function(e){return e==null?[]:(e=Object(e),B3e(L9(e),function(t){return G3e.call(e,t)}))}:V3e,H3e=W3e;function J3e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Z3e=J3e,K3e=Ll,Y3e=Dl,Q3e="[object Arguments]";function X3e(e){return Y3e(e)&&K3e(e)==Q3e}var eNe=X3e,D9=eNe,tNe=Dl,PX=Object.prototype,rNe=PX.hasOwnProperty,nNe=PX.propertyIsEnumerable,iNe=D9(function(){return arguments}())?D9:function(e){return tNe(e)&&rNe.call(e,"callee")&&!nNe.call(e,"callee")},ER=iNe,h2={exports:{}};function oNe(){return!1}var sNe=oNe;h2.exports;(function(e,t){var r=ba,n=sNe,i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?r.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||n;e.exports=c})(h2,h2.exports);var NX=h2.exports,aNe=9007199254740991,lNe=/^(?:0|[1-9]\d*)$/;function uNe(e,t){var r=typeof e;return t=t??aNe,!!t&&(r=="number"||r!="symbol"&&lNe.test(e))&&e>-1&&e%1==0&&e<t}var jR=uNe,cNe=9007199254740991;function dNe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=cNe}var IR=dNe,pNe=Ll,fNe=IR,hNe=Dl,yNe="[object Arguments]",mNe="[object Array]",gNe="[object Boolean]",vNe="[object Date]",bNe="[object Error]",wNe="[object Function]",xNe="[object Map]",SNe="[object Number]",_Ne="[object Object]",$Ne="[object RegExp]",TNe="[object Set]",ONe="[object String]",ENe="[object WeakMap]",jNe="[object ArrayBuffer]",INe="[object DataView]",ANe="[object Float32Array]",PNe="[object Float64Array]",NNe="[object Int8Array]",MNe="[object Int16Array]",CNe="[object Int32Array]",kNe="[object Uint8Array]",RNe="[object Uint8ClampedArray]",LNe="[object Uint16Array]",DNe="[object Uint32Array]",Ct={};Ct[ANe]=Ct[PNe]=Ct[NNe]=Ct[MNe]=Ct[CNe]=Ct[kNe]=Ct[RNe]=Ct[LNe]=Ct[DNe]=!0;Ct[yNe]=Ct[mNe]=Ct[jNe]=Ct[gNe]=Ct[INe]=Ct[vNe]=Ct[bNe]=Ct[wNe]=Ct[xNe]=Ct[SNe]=Ct[_Ne]=Ct[$Ne]=Ct[TNe]=Ct[ONe]=Ct[ENe]=!1;function FNe(e){return hNe(e)&&fNe(e.length)&&!!Ct[pNe(e)]}var UNe=FNe;function zNe(e){return function(t){return e(t)}}var MX=zNe,y2={exports:{}};y2.exports;(function(e,t){var r=zQ,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===n,s=o&&r.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a})(y2,y2.exports);var BNe=y2.exports,VNe=UNe,qNe=MX,F9=BNe,U9=F9&&F9.isTypedArray,GNe=U9?qNe(U9):VNe,CX=GNe,WNe=Z3e,HNe=ER,JNe=Si,ZNe=NX,KNe=jR,YNe=CX,QNe=Object.prototype,XNe=QNe.hasOwnProperty;function eMe(e,t){var r=JNe(e),n=!r&&HNe(e),i=!r&&!n&&ZNe(e),o=!r&&!n&&!i&&YNe(e),s=r||n||i||o,a=s?WNe(e.length,String):[],l=a.length;for(var c in e)(t||XNe.call(e,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||KNe(c,l)))&&a.push(c);return a}var tMe=eMe,rMe=Object.prototype;function nMe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||rMe;return e===r}var iMe=nMe;function oMe(e,t){return function(r){return e(t(r))}}var kX=oMe,sMe=kX,aMe=sMe(Object.keys,Object),lMe=aMe,uMe=iMe,cMe=lMe,dMe=Object.prototype,pMe=dMe.hasOwnProperty;function fMe(e){if(!uMe(e))return cMe(e);var t=[];for(var r in Object(e))pMe.call(e,r)&&r!="constructor"&&t.push(r);return t}var hMe=fMe,yMe=cR,mMe=IR;function gMe(e){return e!=null&&mMe(e.length)&&!yMe(e)}var L1=gMe,vMe=tMe,bMe=hMe,wMe=L1;function xMe(e){return wMe(e)?vMe(e):bMe(e)}var k$=xMe,SMe=L3e,_Me=H3e,$Me=k$;function TMe(e){return SMe(e,$Me,_Me)}var OMe=TMe,z9=OMe,EMe=1,jMe=Object.prototype,IMe=jMe.hasOwnProperty;function AMe(e,t,r,n,i,o){var s=r&EMe,a=z9(e),l=a.length,c=z9(t),p=c.length;if(l!=p&&!s)return!1;for(var h=l;h--;){var y=a[h];if(!(s?y in t:IMe.call(t,y)))return!1}var m=o.get(e),g=o.get(t);if(m&&g)return m==t&&g==e;var b=!0;o.set(e,t),o.set(t,e);for(var w=s;++h<l;){y=a[h];var x=e[y],_=t[y];if(n)var S=s?n(_,x,y,t,e,o):n(x,_,y,e,t,o);if(!(S===void 0?x===_||i(x,_,r,n,o):S)){b=!1;break}w||(w=y=="constructor")}if(b&&!w){var O=e.constructor,$=t.constructor;O!=$&&"constructor"in e&&"constructor"in t&&!(typeof O=="function"&&O instanceof O&&typeof $=="function"&&$ instanceof $)&&(b=!1)}return o.delete(e),o.delete(t),b}var PMe=AMe,NMe=wp,MMe=ba,CMe=NMe(MMe,"DataView"),kMe=CMe,RMe=wp,LMe=ba,DMe=RMe(LMe,"Promise"),FMe=DMe,UMe=wp,zMe=ba,BMe=UMe(zMe,"Set"),RX=BMe,VMe=wp,qMe=ba,GMe=VMe(qMe,"WeakMap"),WMe=GMe,tN=kMe,rN=pR,nN=FMe,iN=RX,oN=WMe,LX=Ll,Gy=VQ,B9="[object Map]",HMe="[object Object]",V9="[object Promise]",q9="[object Set]",G9="[object WeakMap]",W9="[object DataView]",JMe=Gy(tN),ZMe=Gy(rN),KMe=Gy(nN),YMe=Gy(iN),QMe=Gy(oN),ld=LX;(tN&&ld(new tN(new ArrayBuffer(1)))!=W9||rN&&ld(new rN)!=B9||nN&&ld(nN.resolve())!=V9||iN&&ld(new iN)!=q9||oN&&ld(new oN)!=G9)&&(ld=function(e){var t=LX(e),r=t==HMe?e.constructor:void 0,n=r?Gy(r):"";if(n)switch(n){case JMe:return W9;case ZMe:return B9;case KMe:return V9;case YMe:return q9;case QMe:return G9}return t});var XMe=ld,YO=TX,eCe=IX,tCe=N3e,rCe=PMe,H9=XMe,J9=Si,Z9=NX,nCe=CX,iCe=1,K9="[object Arguments]",Y9="[object Array]",ew="[object Object]",oCe=Object.prototype,Q9=oCe.hasOwnProperty;function sCe(e,t,r,n,i,o){var s=J9(e),a=J9(t),l=s?Y9:H9(e),c=a?Y9:H9(t);l=l==K9?ew:l,c=c==K9?ew:c;var p=l==ew,h=c==ew,y=l==c;if(y&&Z9(e)){if(!Z9(t))return!1;s=!0,p=!1}if(y&&!p)return o||(o=new YO),s||nCe(e)?eCe(e,t,r,n,i,o):tCe(e,t,l,r,n,i,o);if(!(r&iCe)){var m=p&&Q9.call(e,"__wrapped__"),g=h&&Q9.call(t,"__wrapped__");if(m||g){var b=m?e.value():e,w=g?t.value():t;return o||(o=new YO),i(b,w,r,n,o)}}return y?(o||(o=new YO),rCe(e,t,r,n,i,o)):!1}var aCe=sCe,lCe=aCe,X9=Dl;function DX(e,t,r,n,i){return e===t?!0:e==null||t==null||!X9(e)&&!X9(t)?e!==e&&t!==t:lCe(e,t,r,n,DX,i)}var AR=DX,uCe=TX,cCe=AR,dCe=1,pCe=2;function fCe(e,t,r,n){var i=r.length,o=i,s=!n;if(e==null)return!o;for(e=Object(e);i--;){var a=r[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){a=r[i];var l=a[0],c=e[l],p=a[1];if(s&&a[2]){if(c===void 0&&!(l in e))return!1}else{var h=new uCe;if(n)var y=n(c,p,l,e,t,h);if(!(y===void 0?cCe(p,c,dCe|pCe,n,h):y))return!1}}return!0}var hCe=fCe,yCe=wc;function mCe(e){return e===e&&!yCe(e)}var FX=mCe,gCe=FX,vCe=k$;function bCe(e){for(var t=vCe(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,gCe(i)]}return t}var wCe=bCe;function xCe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var UX=xCe,SCe=hCe,_Ce=wCe,$Ce=UX;function TCe(e){var t=_Ce(e);return t.length==1&&t[0][2]?$Ce(t[0][0],t[0][1]):function(r){return r===e||SCe(r,e,t)}}var OCe=TCe;function ECe(e,t){return e!=null&&t in Object(e)}var jCe=ECe,ICe=JQ,ACe=ER,PCe=Si,NCe=jR,MCe=IR,CCe=w$;function kCe(e,t,r){t=ICe(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var s=CCe(t[n]);if(!(o=e!=null&&r(e,s)))break;e=e[s]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&MCe(i)&&NCe(s,i)&&(PCe(e)||ACe(e)))}var RCe=kCe,LCe=jCe,DCe=RCe;function FCe(e,t){return e!=null&&DCe(e,t,LCe)}var UCe=FCe,zCe=AR,BCe=ZQ,VCe=UCe,qCe=uR,GCe=FX,WCe=UX,HCe=w$,JCe=1,ZCe=2;function KCe(e,t){return qCe(e)&&GCe(t)?WCe(HCe(e),t):function(r){var n=BCe(r,e);return n===void 0&&n===t?VCe(r,e):zCe(t,n,JCe|ZCe)}}var YCe=KCe;function QCe(e){return e}var Wy=QCe;function XCe(e){return function(t){return t?.[e]}}var eke=XCe,tke=mR;function rke(e){return function(t){return tke(t,e)}}var nke=rke,ike=eke,oke=nke,ske=uR,ake=w$;function lke(e){return ske(e)?ike(ake(e)):oke(e)}var uke=lke,cke=OCe,dke=YCe,pke=Wy,fke=Si,hke=uke;function yke(e){return typeof e=="function"?e:e==null?pke:typeof e=="object"?fke(e)?dke(e[0],e[1]):cke(e):hke(e)}var wa=yke;function mke(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var zX=mke;function gke(e){return e!==e}var vke=gke;function bke(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var wke=bke,xke=zX,Ske=vke,_ke=wke;function $ke(e,t,r){return t===t?_ke(e,t,r):xke(e,Ske,r)}var Tke=$ke,Oke=Tke;function Eke(e,t){var r=e==null?0:e.length;return!!r&&Oke(e,t,0)>-1}var jke=Eke;function Ike(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var Ake=Ike;function Pke(){}var Nke=Pke,QO=RX,Mke=Nke,Cke=OR,kke=1/0,Rke=QO&&1/Cke(new QO([,-0]))[1]==kke?function(e){return new QO(e)}:Mke,Lke=Rke,Dke=OX,Fke=jke,Uke=Ake,zke=jX,Bke=Lke,Vke=OR,qke=200;function Gke(e,t,r){var n=-1,i=Fke,o=e.length,s=!0,a=[],l=a;if(r)s=!1,i=Uke;else if(o>=qke){var c=t?null:Bke(e);if(c)return Vke(c);s=!1,i=zke,l=new Dke}else l=t?[]:a;e:for(;++n<o;){var p=e[n],h=t?t(p):p;if(p=r||p!==0?p:0,s&&h===h){for(var y=l.length;y--;)if(l[y]===h)continue e;t&&l.push(h),a.push(p)}else i(l,h,r)||(l!==a&&l.push(h),a.push(p))}return a}var Wke=Gke,Hke=wa,Jke=Wke;function Zke(e,t){return e&&e.length?Jke(e,Hke(t)):[]}var Kke=Zke;const eU=yt(Kke);function BX(e,t,r){return t===!0?eU(e,r):Ce(t)?eU(e,t):e}function Wh(e){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wh(e)}var Yke=["ref"];function tU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tU(Object(r),!0).forEach(function(n){R$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qX(n.key),n)}}function Xke(e,t,r){return t&&rU(e.prototype,t),r&&rU(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eRe(e,t,r){return t=m2(t),tRe(e,VX()?Reflect.construct(t,r||[],m2(e).constructor):t.apply(e,r))}function tRe(e,t){if(t&&(Wh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rRe(e)}function rRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VX=function(){return!!e})()}function m2(e){return m2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},m2(e)}function nRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sN(e,t)}function sN(e,t){return sN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sN(e,t)}function R$(e,t,r){return t=qX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qX(e){var t=iRe(e,"string");return Wh(t)=="symbol"?t:t+""}function iRe(e,t){if(Wh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oRe(e,t){if(e==null)return{};var r=sRe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function aRe(e){return e.value}function lRe(e,t){if(L.isValidElement(e))return L.cloneElement(e,t);if(typeof e=="function")return L.createElement(e,t);t.ref;var r=oRe(t,Yke);return L.createElement(TR,r)}var nU=1,Ld=function(e){function t(){var r;Qke(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=eRe(this,t,[].concat(i)),R$(r,"lastBoundingBox",{width:-1,height:-1}),r}return nRe(t,e),Xke(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>nU||Math.abs(i.height-this.lastBoundingBox.height)>nU)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ta({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,c=i.chartWidth,p=i.chartHeight,h,y;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();h={left:((c||0)-m.width)/2}}else h=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(a==="middle"){var g=this.getBBoxSnapshot();y={top:((p||0)-g.height)/2}}else y=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ta(Ta({},h),y)}},{key:"render",value:function(){var n=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,p=i.payload,h=Ta(Ta({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return L.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(m){n.wrapperNode=m}},lRe(o,Ta(Ta({},this.props),{},{payload:BX(p,c,aRe)})))}}],[{key:"getWithHeight",value:function(n,i){var o=Ta(Ta({},this.defaultProps),n.props),s=o.layout;return s==="vertical"&&le(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(M.PureComponent);R$(Ld,"displayName","Legend");R$(Ld,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var iU=C1,uRe=ER,cRe=Si,oU=iU?iU.isConcatSpreadable:void 0;function dRe(e){return cRe(e)||uRe(e)||!!(oU&&e&&e[oU])}var pRe=dRe,fRe=AX,hRe=pRe;function GX(e,t,r,n,i){var o=-1,s=e.length;for(r||(r=hRe),i||(i=[]);++o<s;){var a=e[o];t>0&&r(a)?t>1?GX(a,t-1,r,n,i):fRe(i,a):n||(i[i.length]=a)}return i}var WX=GX;function yRe(e){return function(t,r,n){for(var i=-1,o=Object(t),s=n(t),a=s.length;a--;){var l=s[e?a:++i];if(r(o[l],l,o)===!1)break}return t}}var mRe=yRe,gRe=mRe,vRe=gRe(),bRe=vRe,wRe=bRe,xRe=k$;function SRe(e,t){return e&&wRe(e,t,xRe)}var HX=SRe,_Re=L1;function $Re(e,t){return function(r,n){if(r==null)return r;if(!_Re(r))return e(r,n);for(var i=r.length,o=t?i:-1,s=Object(r);(t?o--:++o<i)&&n(s[o],o,s)!==!1;);return r}}var TRe=$Re,ORe=HX,ERe=TRe,jRe=ERe(ORe),PR=jRe,IRe=PR,ARe=L1;function PRe(e,t){var r=-1,n=ARe(e)?Array(e.length):[];return IRe(e,function(i,o,s){n[++r]=t(i,o,s)}),n}var JX=PRe;function NRe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var MRe=NRe,sU=Fy;function CRe(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,o=sU(e),s=t!==void 0,a=t===null,l=t===t,c=sU(t);if(!a&&!c&&!o&&e>t||o&&s&&l&&!a&&!c||n&&s&&l||!r&&l||!i)return 1;if(!n&&!o&&!c&&e<t||c&&r&&i&&!n&&!o||a&&r&&i||!s&&i||!l)return-1}return 0}var kRe=CRe,RRe=kRe;function LRe(e,t,r){for(var n=-1,i=e.criteria,o=t.criteria,s=i.length,a=r.length;++n<s;){var l=RRe(i[n],o[n]);if(l){if(n>=a)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var DRe=LRe,XO=yR,FRe=mR,URe=wa,zRe=JX,BRe=MRe,VRe=MX,qRe=DRe,GRe=Wy,WRe=Si;function HRe(e,t,r){t.length?t=XO(t,function(o){return WRe(o)?function(s){return FRe(s,o.length===1?o[0]:o)}:o}):t=[GRe];var n=-1;t=XO(t,VRe(URe));var i=zRe(e,function(o,s,a){var l=XO(t,function(c){return c(o)});return{criteria:l,index:++n,value:o}});return BRe(i,function(o,s){return qRe(o,s,r)})}var JRe=HRe;function ZRe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var KRe=ZRe,YRe=KRe,aU=Math.max;function QRe(e,t,r){return t=aU(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=aU(n.length-t,0),s=Array(o);++i<o;)s[i]=n[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=n[i];return a[t]=r(s),YRe(e,this,a)}}var XRe=QRe;function e4e(e){return function(){return e}}var t4e=e4e,r4e=wp,n4e=function(){try{var e=r4e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),ZX=n4e,i4e=t4e,lU=ZX,o4e=Wy,s4e=lU?function(e,t){return lU(e,"toString",{configurable:!0,enumerable:!1,value:i4e(t),writable:!0})}:o4e,a4e=s4e,l4e=800,u4e=16,c4e=Date.now;function d4e(e){var t=0,r=0;return function(){var n=c4e(),i=u4e-(n-r);if(r=n,i>0){if(++t>=l4e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var p4e=d4e,f4e=a4e,h4e=p4e,y4e=h4e(f4e),m4e=y4e,g4e=Wy,v4e=XRe,b4e=m4e;function w4e(e,t){return b4e(v4e(e,t,g4e),e+"")}var x4e=w4e,S4e=dR,_4e=L1,$4e=jR,T4e=wc;function O4e(e,t,r){if(!T4e(r))return!1;var n=typeof t;return(n=="number"?_4e(r)&&$4e(t,r.length):n=="string"&&t in r)?S4e(r[t],e):!1}var L$=O4e,E4e=WX,j4e=JRe,I4e=x4e,uU=L$,A4e=I4e(function(e,t){if(e==null)return[];var r=t.length;return r>1&&uU(e,t[0],t[1])?t=[]:r>2&&uU(t[0],t[1],t[2])&&(t=[t[0]]),j4e(e,E4e(t,1),[])}),P4e=A4e;const NR=yt(P4e);function iv(e){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iv(e)}function aN(){return aN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aN.apply(this,arguments)}function N4e(e,t){return R4e(e)||k4e(e,t)||C4e(e,t)||M4e()}function M4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C4e(e,t){if(e){if(typeof e=="string")return cU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cU(e,t)}}function cU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k4e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(p){c=!0,i=p}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function R4e(e){if(Array.isArray(e))return e}function dU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dU(Object(r),!0).forEach(function(n){L4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L4e(e,t,r){return t=D4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D4e(e){var t=F4e(e,"string");return iv(t)=="symbol"?t:t+""}function F4e(e,t){if(iv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U4e(e){return Array.isArray(e)&&Ur(e[0])&&Ur(e[1])?e.join(" ~ "):e}var z4e=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,o=i===void 0?{}:i,s=t.itemStyle,a=s===void 0?{}:s,l=t.labelStyle,c=l===void 0?{}:l,p=t.payload,h=t.formatter,y=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,b=t.label,w=t.labelFormatter,x=t.accessibilityLayer,_=x===void 0?!1:x,S=function(){if(p&&p.length){var F={padding:0,margin:0},G=(y?NR(p,y):p).map(function(B,W){if(B.type==="none")return null;var K=eE({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},a),ee=B.formatter||h||U4e,V=B.value,Q=B.name,oe=V,fe=Q;if(ee&&oe!=null&&fe!=null){var ae=ee(V,Q,B,W,p);if(Array.isArray(ae)){var Oe=N4e(ae,2);oe=Oe[0],fe=Oe[1]}else oe=ae}return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:K},Ur(fe)?L.createElement("span",{className:"recharts-tooltip-item-name"},fe):null,Ur(fe)?L.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,L.createElement("span",{className:"recharts-tooltip-item-value"},oe),L.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:F},G)}return null},O=eE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),$=eE({margin:0},c),T=!qe(b),j=T?b:"",A=Be("recharts-default-tooltip",m),N=Be("recharts-tooltip-label",g);T&&w&&p!==void 0&&p!==null&&(j=w(b,p));var k=_?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",aN({className:A,style:O},k),L.createElement("p",{className:N,style:$},L.isValidElement(j)?j:"".concat(j)),S())};function ov(e){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ov(e)}function tw(e,t,r){return t=B4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B4e(e){var t=V4e(e,"string");return ov(t)=="symbol"?t:t+""}function V4e(e,t){if(ov(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _m="recharts-tooltip-wrapper",q4e={visibility:"hidden"};function G4e(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Be(_m,tw(tw(tw(tw({},"".concat(_m,"-right"),le(r)&&t&&le(t.x)&&r>=t.x),"".concat(_m,"-left"),le(r)&&t&&le(t.x)&&r<t.x),"".concat(_m,"-bottom"),le(n)&&t&&le(t.y)&&n>=t.y),"".concat(_m,"-top"),le(n)&&t&&le(t.y)&&n<t.y))}function pU(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,o=e.position,s=e.reverseDirection,a=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&le(o[n]))return o[n];var p=r[n]-a-i,h=r[n]+i;if(t[n])return s[n]?p:h;if(s[n]){var y=p,m=l[n];return y<m?Math.max(h,l[n]):Math.max(p,l[n])}var g=h+a,b=l[n]+c;return g>b?Math.max(p,l[n]):Math.max(h,l[n])}function W4e(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function H4e(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipBox,a=e.useTranslate3d,l=e.viewBox,c,p,h;return s.height>0&&s.width>0&&r?(p=pU({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),h=pU({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=W4e({translateX:p,translateY:h,useTranslate3d:a})):c=q4e,{cssProperties:c,cssClasses:G4e({translateX:p,translateY:h,coordinate:r})}}function Hh(e){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hh(e)}function fU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fU(Object(r),!0).forEach(function(n){uN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YX(n.key),n)}}function Z4e(e,t,r){return t&&yU(e.prototype,t),r&&yU(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function K4e(e,t,r){return t=g2(t),Y4e(e,KX()?Reflect.construct(t,r||[],g2(e).constructor):t.apply(e,r))}function Y4e(e,t){if(t&&(Hh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q4e(e)}function Q4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KX=function(){return!!e})()}function g2(e){return g2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},g2(e)}function X4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lN(e,t)}function lN(e,t){return lN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lN(e,t)}function uN(e,t,r){return t=YX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YX(e){var t=eLe(e,"string");return Hh(t)=="symbol"?t:t+""}function eLe(e,t){if(Hh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mU=1,tLe=function(e){function t(){var r;J4e(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=K4e(this,t,[].concat(i)),uN(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),uN(r,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,c,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(c=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&c!==void 0?c:0}})}}),r}return X4e(t,e),Z4e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>mU||Math.abs(n.height-this.state.lastBoundingBox.height)>mU)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.children,p=i.coordinate,h=i.hasPayload,y=i.isAnimationActive,m=i.offset,g=i.position,b=i.reverseDirection,w=i.useTranslate3d,x=i.viewBox,_=i.wrapperStyle,S=H4e({allowEscapeViewBox:s,coordinate:p,offsetTopLeft:m,position:g,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:x}),O=S.cssClasses,$=S.cssProperties,T=hU(hU({transition:y&&o?"transform ".concat(a,"ms ").concat(l):void 0},$),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&h?"visible":"hidden",position:"absolute",top:0,left:0},_);return L.createElement("div",{tabIndex:-1,className:O,style:T,ref:function(A){n.wrapperNode=A}},c)}}])}(M.PureComponent),rLe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},xl={isSsr:rLe(),get:function(t){return xl[t]},set:function(t,r){if(typeof t=="string")xl[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(i){xl[i]=t[i]})}}};function Jh(e){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jh(e)}function gU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gU(Object(r),!0).forEach(function(n){MR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XX(n.key),n)}}function iLe(e,t,r){return t&&bU(e.prototype,t),r&&bU(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oLe(e,t,r){return t=v2(t),sLe(e,QX()?Reflect.construct(t,r||[],v2(e).constructor):t.apply(e,r))}function sLe(e,t){if(t&&(Jh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aLe(e)}function aLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QX=function(){return!!e})()}function v2(e){return v2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},v2(e)}function lLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cN(e,t)}function cN(e,t){return cN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cN(e,t)}function MR(e,t,r){return t=XX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XX(e){var t=uLe(e,"string");return Jh(t)=="symbol"?t:t+""}function uLe(e,t){if(Jh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cLe(e){return e.dataKey}function dLe(e,t){return L.isValidElement(e)?L.cloneElement(e,t):typeof e=="function"?L.createElement(e,t):L.createElement(z4e,t)}var co=function(e){function t(){return nLe(this,t),oLe(this,t,arguments)}return lLe(t,e),iLe(t,[{key:"render",value:function(){var n=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.content,p=i.coordinate,h=i.filterNull,y=i.isAnimationActive,m=i.offset,g=i.payload,b=i.payloadUniqBy,w=i.position,x=i.reverseDirection,_=i.useTranslate3d,S=i.viewBox,O=i.wrapperStyle,$=g??[];h&&$.length&&($=BX(g.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),b,cLe));var T=$.length>0;return L.createElement(tLe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:y,active:o,coordinate:p,hasPayload:T,offset:m,position:w,reverseDirection:x,useTranslate3d:_,viewBox:S,wrapperStyle:O},dLe(c,vU(vU({},this.props),{},{payload:$})))}}])}(M.PureComponent);MR(co,"displayName","Tooltip");MR(co,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!xl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var pLe=ba,fLe=function(){return pLe.Date.now()},hLe=fLe,yLe=/\s/;function mLe(e){for(var t=e.length;t--&&yLe.test(e.charAt(t)););return t}var gLe=mLe,vLe=gLe,bLe=/^\s+/;function wLe(e){return e&&e.slice(0,vLe(e)+1).replace(bLe,"")}var xLe=wLe,SLe=xLe,wU=wc,_Le=Fy,xU=0/0,$Le=/^[-+]0x[0-9a-f]+$/i,TLe=/^0b[01]+$/i,OLe=/^0o[0-7]+$/i,ELe=parseInt;function jLe(e){if(typeof e=="number")return e;if(_Le(e))return xU;if(wU(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=wU(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=SLe(e);var r=TLe.test(e);return r||OLe.test(e)?ELe(e.slice(2),r?2:8):$Le.test(e)?xU:+e}var eee=jLe,ILe=wc,tE=hLe,SU=eee,ALe="Expected a function",PLe=Math.max,NLe=Math.min;function MLe(e,t,r){var n,i,o,s,a,l,c=0,p=!1,h=!1,y=!0;if(typeof e!="function")throw new TypeError(ALe);t=SU(t)||0,ILe(r)&&(p=!!r.leading,h="maxWait"in r,o=h?PLe(SU(r.maxWait)||0,t):o,y="trailing"in r?!!r.trailing:y);function m(T){var j=n,A=i;return n=i=void 0,c=T,s=e.apply(A,j),s}function g(T){return c=T,a=setTimeout(x,t),p?m(T):s}function b(T){var j=T-l,A=T-c,N=t-j;return h?NLe(N,o-A):N}function w(T){var j=T-l,A=T-c;return l===void 0||j>=t||j<0||h&&A>=o}function x(){var T=tE();if(w(T))return _(T);a=setTimeout(x,b(T))}function _(T){return a=void 0,y&&n?m(T):(n=i=void 0,s)}function S(){a!==void 0&&clearTimeout(a),c=0,n=l=i=a=void 0}function O(){return a===void 0?s:_(tE())}function $(){var T=tE(),j=w(T);if(n=arguments,i=this,l=T,j){if(a===void 0)return g(l);if(h)return clearTimeout(a),a=setTimeout(x,t),m(l)}return a===void 0&&(a=setTimeout(x,t)),s}return $.cancel=S,$.flush=O,$}var CLe=MLe,kLe=CLe,RLe=wc,LLe="Expected a function";function DLe(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(LLe);return RLe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),kLe(e,t,{leading:n,maxWait:t,trailing:i})}var FLe=DLe;const tee=yt(FLe);function sv(e){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sv(e)}function _U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_U(Object(r),!0).forEach(function(n){ULe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_U(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ULe(e,t,r){return t=zLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zLe(e){var t=BLe(e,"string");return sv(t)=="symbol"?t:t+""}function BLe(e,t){if(sv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VLe(e,t){return HLe(e)||WLe(e,t)||GLe(e,t)||qLe()}function qLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GLe(e,t){if(e){if(typeof e=="string")return $U(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $U(e,t)}}function $U(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(p){c=!0,i=p}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function HLe(e){if(Array.isArray(e))return e}var rE=M.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,o=e.width,s=o===void 0?"100%":o,a=e.height,l=a===void 0?"100%":a,c=e.minWidth,p=c===void 0?0:c,h=e.minHeight,y=e.maxHeight,m=e.children,g=e.debounce,b=g===void 0?0:g,w=e.id,x=e.className,_=e.onResize,S=e.style,O=S===void 0?{}:S,$=M.useRef(null),T=M.useRef();T.current=_,M.useImperativeHandle(t,function(){return Object.defineProperty($.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),$.current},configurable:!0})});var j=M.useState({containerWidth:i.width,containerHeight:i.height}),A=VLe(j,2),N=A[0],k=A[1],C=M.useCallback(function(G,B){k(function(W){var K=Math.round(G),ee=Math.round(B);return W.containerWidth===K&&W.containerHeight===ee?W:{containerWidth:K,containerHeight:ee}})},[]);M.useEffect(function(){var G=function(Q){var oe,fe=Q[0].contentRect,ae=fe.width,Oe=fe.height;C(ae,Oe),(oe=T.current)===null||oe===void 0||oe.call(T,ae,Oe)};b>0&&(G=tee(G,b,{trailing:!0,leading:!1}));var B=new ResizeObserver(G),W=$.current.getBoundingClientRect(),K=W.width,ee=W.height;return C(K,ee),B.observe($.current),function(){B.disconnect()}},[C,b]);var F=M.useMemo(function(){var G=N.containerWidth,B=N.containerHeight;if(G<0||B<0)return null;$s(Ed(s)||Ed(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),$s(!r||r>0,"The aspect(%s) must be greater than zero.",r);var W=Ed(s)?G:s,K=Ed(l)?B:l;r&&r>0&&(W?K=W/r:K&&(W=K*r),y&&K>y&&(K=y)),$s(W>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,K,s,l,p,h,r);var ee=!Array.isArray(m)&&wl(m.type).endsWith("Chart");return L.Children.map(m,function(V){return L.isValidElement(V)?M.cloneElement(V,rw({width:W,height:K},ee?{style:rw({height:"100%",width:"100%",maxHeight:K,maxWidth:W},V.props.style)}:{})):V})},[r,m,l,y,h,p,N,s]);return L.createElement("div",{id:w?"".concat(w):void 0,className:Be("recharts-responsive-container",x),style:rw(rw({},O),{},{width:s,height:l,minWidth:p,minHeight:h,maxHeight:y}),ref:$},F)}),av=function(t){return null};av.displayName="Cell";function lv(e){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lv(e)}function TU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TU(Object(r),!0).forEach(function(n){JLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JLe(e,t,r){return t=ZLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZLe(e){var t=KLe(e,"string");return lv(t)=="symbol"?t:t+""}function KLe(e,t){if(lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dp={widthCache:{},cacheCount:0},YLe=2e3,QLe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},OU="recharts_measurement_span";function XLe(e){var t=dN({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var lg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||xl.isSsr)return{width:0,height:0};var n=XLe(r),i=JSON.stringify({text:t,copyStyle:n});if(Dp.widthCache[i])return Dp.widthCache[i];try{var o=document.getElementById(OU);o||(o=document.createElement("span"),o.setAttribute("id",OU),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=dN(dN({},QLe),n);Object.assign(o.style,s),o.textContent="".concat(t);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return Dp.widthCache[i]=l,++Dp.cacheCount>YLe&&(Dp.cacheCount=0,Dp.widthCache={}),l}catch{return{width:0,height:0}}},e5e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function uv(e){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uv(e)}function b2(e,t){return i5e(e)||n5e(e,t)||r5e(e,t)||t5e()}function t5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r5e(e,t){if(e){if(typeof e=="string")return EU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EU(e,t)}}function EU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function n5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(p){c=!0,i=p}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function i5e(e){if(Array.isArray(e))return e}function o5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a5e(n.key),n)}}function s5e(e,t,r){return t&&jU(e.prototype,t),r&&jU(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a5e(e){var t=l5e(e,"string");return uv(t)=="symbol"?t:t+""}function l5e(e,t){if(uv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,u5e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,c5e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ree={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},d5e=Object.keys(ree),Wf="NaN";function p5e(e,t){return e*ree[t]}var nw=function(){function e(t,r){o5e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!u5e.test(r)&&(this.num=NaN,this.unit=""),d5e.includes(r)&&(this.num=p5e(t,r),this.unit="px")}return s5e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=c5e.exec(r))!==null&&n!==void 0?n:[],o=b2(i,3),s=o[1],a=o[2];return new e(parseFloat(s),a??"")}}])}();function nee(e){if(e.includes(Wf))return Wf;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=IU.exec(t))!==null&&r!==void 0?r:[],i=b2(n,4),o=i[1],s=i[2],a=i[3],l=nw.parse(o??""),c=nw.parse(a??""),p=s==="*"?l.multiply(c):l.divide(c);if(p.isNaN())return Wf;t=t.replace(IU,p.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,y=(h=AU.exec(t))!==null&&h!==void 0?h:[],m=b2(y,4),g=m[1],b=m[2],w=m[3],x=nw.parse(g??""),_=nw.parse(w??""),S=b==="+"?x.add(_):x.subtract(_);if(S.isNaN())return Wf;t=t.replace(AU,S.toString())}return t}var PU=/\(([^()]*)\)/;function f5e(e){for(var t=e;t.includes("(");){var r=PU.exec(t),n=b2(r,2),i=n[1];t=t.replace(PU,nee(i))}return t}function h5e(e){var t=e.replace(/\s+/g,"");return t=f5e(t),t=nee(t),t}function y5e(e){try{return h5e(e)}catch{return Wf}}function nE(e){var t=y5e(e.slice(5,-1));return t===Wf?"":t}var m5e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],g5e=["dx","dy","angle","className","breakAll"];function pN(){return pN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pN.apply(this,arguments)}function NU(e,t){if(e==null)return{};var r=v5e(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function v5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function MU(e,t){return S5e(e)||x5e(e,t)||w5e(e,t)||b5e()}function b5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w5e(e,t){if(e){if(typeof e=="string")return CU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CU(e,t)}}function CU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(p){c=!0,i=p}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function S5e(e){if(Array.isArray(e))return e}var iee=/[ \f\n\r\t\v\u2028\u2029]+/,oee=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var o=[];qe(r)||(n?o=r.toString().split(""):o=r.toString().split(iee));var s=o.map(function(l){return{word:l,width:lg(l,i).width}}),a=n?0:lg(" ",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},_5e=function(t,r,n,i,o){var s=t.maxLines,a=t.children,l=t.style,c=t.breakAll,p=le(s),h=a,y=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(K,ee){var V=ee.word,Q=ee.width,oe=K[K.length-1];if(oe&&(i==null||o||oe.width+Q+n<Number(i)))oe.words.push(V),oe.width+=Q+n;else{var fe={words:[V],width:Q};K.push(fe)}return K},[])},m=y(r),g=function(W){return W.reduce(function(K,ee){return K.width>ee.width?K:ee})};if(!p)return m;for(var b="…",w=function(W){var K=h.slice(0,W),ee=oee({breakAll:c,style:l,children:K+b}).wordsWithComputedWidth,V=y(ee),Q=V.length>s||g(V).width>Number(i);return[Q,V]},x=0,_=h.length-1,S=0,O;x<=_&&S<=h.length-1;){var $=Math.floor((x+_)/2),T=$-1,j=w(T),A=MU(j,2),N=A[0],k=A[1],C=w($),F=MU(C,1),G=F[0];if(!N&&!G&&(x=$+1),N&&G&&(_=$-1),!N&&G){O=k;break}S++}return O||m},kU=function(t){var r=qe(t)?[]:t.toString().split(iee);return[{words:r}]},$5e=function(t){var r=t.width,n=t.scaleToFit,i=t.children,o=t.style,s=t.breakAll,a=t.maxLines;if((r||n)&&!xl.isSsr){var l,c,p=oee({breakAll:s,children:i,style:o});if(p){var h=p.wordsWithComputedWidth,y=p.spaceWidth;l=h,c=y}else return kU(i);return _5e({breakAll:s,children:i,maxLines:a,style:o},l,c,r,n)}return kU(i)},RU="#808080",lp=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,o=i===void 0?0:i,s=t.lineHeight,a=s===void 0?"1em":s,l=t.capHeight,c=l===void 0?"0.71em":l,p=t.scaleToFit,h=p===void 0?!1:p,y=t.textAnchor,m=y===void 0?"start":y,g=t.verticalAnchor,b=g===void 0?"end":g,w=t.fill,x=w===void 0?RU:w,_=NU(t,m5e),S=M.useMemo(function(){return $5e({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:h,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,h,_.style,_.width]),O=_.dx,$=_.dy,T=_.angle,j=_.className,A=_.breakAll,N=NU(_,g5e);if(!Ur(n)||!Ur(o))return null;var k=n+(le(O)?O:0),C=o+(le($)?$:0),F;switch(b){case"start":F=nE("calc(".concat(c,")"));break;case"middle":F=nE("calc(".concat((S.length-1)/2," * -").concat(a," + (").concat(c," / 2))"));break;default:F=nE("calc(".concat(S.length-1," * -").concat(a,")"));break}var G=[];if(h){var B=S[0].width,W=_.width;G.push("scale(".concat((le(W)?W/B:1)/B,")"))}return T&&G.push("rotate(".concat(T,", ").concat(k,", ").concat(C,")")),G.length&&(N.transform=G.join(" ")),L.createElement("text",pN({},Ae(N,!0),{x:k,y:C,className:Be("recharts-text",j),textAnchor:m,fill:x.includes("url")?RU:x}),S.map(function(K,ee){var V=K.words.join(A?"":" ");return L.createElement("tspan",{x:k,dy:ee===0?F:a,key:"".concat(V,"-").concat(ee)},V)}))};function Yu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function T5e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function CR(e){let t,r,n;e.length!==2?(t=Yu,r=(a,l)=>Yu(e(a),l),n=(a,l)=>e(a)-l):(t=e===Yu||e===T5e?e:O5e,r=e,n=e);function i(a,l,c=0,p=a.length){if(c<p){if(t(l,l)!==0)return p;do{const h=c+p>>>1;r(a[h],l)<0?c=h+1:p=h}while(c<p)}return c}function o(a,l,c=0,p=a.length){if(c<p){if(t(l,l)!==0)return p;do{const h=c+p>>>1;r(a[h],l)<=0?c=h+1:p=h}while(c<p)}return c}function s(a,l,c=0,p=a.length){const h=i(a,l,c,p-1);return h>c&&n(a[h-1],l)>-n(a[h],l)?h-1:h}return{left:i,center:s,right:o}}function O5e(){return 0}function see(e){return e===null?NaN:+e}function*E5e(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}const j5e=CR(Yu),I5e=j5e.right;CR(see).center;const D1=I5e;class LU extends Map{constructor(t,r=N5e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(DU(this,t))}has(t){return super.has(DU(this,t))}set(t,r){return super.set(A5e(this,t),r)}delete(t){return super.delete(P5e(this,t))}}function DU({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function A5e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function P5e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function N5e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function M5e(e=Yu){if(e===Yu)return aee;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function aee(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const C5e=Math.sqrt(50),k5e=Math.sqrt(10),R5e=Math.sqrt(2);function w2(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),s=o>=C5e?10:o>=k5e?5:o>=R5e?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=r&&r<2?w2(e,t,r*2):[a,l,c]}function fN(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,o,s]=n?w2(t,e,r):w2(e,t,r);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(n)if(s<0)for(let c=0;c<a;++c)l[c]=(o-c)/-s;else for(let c=0;c<a;++c)l[c]=(o-c)*s;else if(s<0)for(let c=0;c<a;++c)l[c]=(i+c)/-s;else for(let c=0;c<a;++c)l[c]=(i+c)*s;return l}function hN(e,t,r){return t=+t,e=+e,r=+r,w2(e,t,r)[2]}function yN(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?hN(t,e,r):hN(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function FU(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function UU(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function lee(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?aee:M5e(i);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,p=Math.log(l),h=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*h*(l-h)/l)*(c-l/2<0?-1:1),m=Math.max(r,Math.floor(t-c*h/l+y)),g=Math.min(n,Math.floor(t+(l-c)*h/l+y));lee(e,t,m,g,i)}const o=e[t];let s=r,a=n;for($m(e,r,t),i(e[n],o)>0&&$m(e,r,n);s<a;){for($m(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[r],o)===0?$m(e,r,a):(++a,$m(e,a,n)),a<=t&&(r=a+1),t<=a&&(n=a-1)}return e}function $m(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function L5e(e,t,r){if(e=Float64Array.from(E5e(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return UU(e);if(t>=1)return FU(e);var n,i=(n-1)*t,o=Math.floor(i),s=FU(lee(e,o).subarray(0,o+1)),a=UU(e.subarray(o+1));return s+(a-s)*(i-o)}}function D5e(e,t,r=see){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,o=Math.floor(i),s=+r(e[o],o,e),a=+r(e[o+1],o+1,e);return s+(a-s)*(i-o)}}function F5e(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(i);++n<i;)o[n]=e+n*r;return o}function No(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Fl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const mN=Symbol("implicit");function kR(){var e=new LU,t=[],r=[],n=mN;function i(o){let s=e.get(o);if(s===void 0){if(n!==mN)return n;e.set(o,s=t.push(o)-1)}return r[s%r.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new LU;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return kR(t,r).unknown(n)},No.apply(i,arguments),i}function cv(){var e=kR().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,o,s,a=!1,l=0,c=0,p=.5;delete e.unknown;function h(){var y=t().length,m=i<n,g=m?i:n,b=m?n:i;o=(b-g)/Math.max(1,y-l+c*2),a&&(o=Math.floor(o)),g+=(b-g-o*(y-l))*p,s=o*(1-l),a&&(g=Math.round(g),s=Math.round(s));var w=F5e(y).map(function(x){return g+o*x});return r(m?w.reverse():w)}return e.domain=function(y){return arguments.length?(t(y),h()):t()},e.range=function(y){return arguments.length?([n,i]=y,n=+n,i=+i,h()):[n,i]},e.rangeRound=function(y){return[n,i]=y,n=+n,i=+i,a=!0,h()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(y){return arguments.length?(a=!!y,h()):a},e.padding=function(y){return arguments.length?(l=Math.min(1,c=+y),h()):l},e.paddingInner=function(y){return arguments.length?(l=Math.min(1,y),h()):l},e.paddingOuter=function(y){return arguments.length?(c=+y,h()):c},e.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),h()):p},e.copy=function(){return cv(t(),[n,i]).round(a).paddingInner(l).paddingOuter(c).align(p)},No.apply(h(),arguments)}function uee(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return uee(t())},e}function ug(){return uee(cv.apply(null,arguments).paddingInner(1))}function RR(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function cee(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function F1(){}var dv=.7,x2=1/dv,bh="\\s*([+-]?\\d+)\\s*",pv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",da="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",U5e=/^#([0-9a-f]{3,8})$/,z5e=new RegExp(`^rgb\\(${bh},${bh},${bh}\\)$`),B5e=new RegExp(`^rgb\\(${da},${da},${da}\\)$`),V5e=new RegExp(`^rgba\\(${bh},${bh},${bh},${pv}\\)$`),q5e=new RegExp(`^rgba\\(${da},${da},${da},${pv}\\)$`),G5e=new RegExp(`^hsl\\(${pv},${da},${da}\\)$`),W5e=new RegExp(`^hsla\\(${pv},${da},${da},${pv}\\)$`),zU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};RR(F1,fv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:BU,formatHex:BU,formatHex8:H5e,formatHsl:J5e,formatRgb:VU,toString:VU});function BU(){return this.rgb().formatHex()}function H5e(){return this.rgb().formatHex8()}function J5e(){return dee(this).formatHsl()}function VU(){return this.rgb().formatRgb()}function fv(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=U5e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?qU(t):r===3?new yi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?iw(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?iw(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=z5e.exec(e))?new yi(t[1],t[2],t[3],1):(t=B5e.exec(e))?new yi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=V5e.exec(e))?iw(t[1],t[2],t[3],t[4]):(t=q5e.exec(e))?iw(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=G5e.exec(e))?HU(t[1],t[2]/100,t[3]/100,1):(t=W5e.exec(e))?HU(t[1],t[2]/100,t[3]/100,t[4]):zU.hasOwnProperty(e)?qU(zU[e]):e==="transparent"?new yi(NaN,NaN,NaN,0):null}function qU(e){return new yi(e>>16&255,e>>8&255,e&255,1)}function iw(e,t,r,n){return n<=0&&(e=t=r=NaN),new yi(e,t,r,n)}function Z5e(e){return e instanceof F1||(e=fv(e)),e?(e=e.rgb(),new yi(e.r,e.g,e.b,e.opacity)):new yi}function gN(e,t,r,n){return arguments.length===1?Z5e(e):new yi(e,t,r,n??1)}function yi(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}RR(yi,gN,cee(F1,{brighter(e){return e=e==null?x2:Math.pow(x2,e),new yi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?dv:Math.pow(dv,e),new yi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yi(Dd(this.r),Dd(this.g),Dd(this.b),S2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GU,formatHex:GU,formatHex8:K5e,formatRgb:WU,toString:WU}));function GU(){return`#${jd(this.r)}${jd(this.g)}${jd(this.b)}`}function K5e(){return`#${jd(this.r)}${jd(this.g)}${jd(this.b)}${jd((isNaN(this.opacity)?1:this.opacity)*255)}`}function WU(){const e=S2(this.opacity);return`${e===1?"rgb(":"rgba("}${Dd(this.r)}, ${Dd(this.g)}, ${Dd(this.b)}${e===1?")":`, ${e})`}`}function S2(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Dd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function jd(e){return e=Dd(e),(e<16?"0":"")+e.toString(16)}function HU(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ds(e,t,r,n)}function dee(e){if(e instanceof ds)return new ds(e.h,e.s,e.l,e.opacity);if(e instanceof F1||(e=fv(e)),!e)return new ds;if(e instanceof ds)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(r-n)/a+(r<n)*6:r===o?s=(n-t)/a+2:s=(t-r)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new ds(s,a,l,e.opacity)}function Y5e(e,t,r,n){return arguments.length===1?dee(e):new ds(e,t,r,n??1)}function ds(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}RR(ds,Y5e,cee(F1,{brighter(e){return e=e==null?x2:Math.pow(x2,e),new ds(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?dv:Math.pow(dv,e),new ds(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new yi(iE(e>=240?e-240:e+120,i,n),iE(e,i,n),iE(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new ds(JU(this.h),ow(this.s),ow(this.l),S2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=S2(this.opacity);return`${e===1?"hsl(":"hsla("}${JU(this.h)}, ${ow(this.s)*100}%, ${ow(this.l)*100}%${e===1?")":`, ${e})`}`}}));function JU(e){return e=(e||0)%360,e<0?e+360:e}function ow(e){return Math.max(0,Math.min(1,e||0))}function iE(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const LR=e=>()=>e;function Q5e(e,t){return function(r){return e+r*t}}function X5e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function eDe(e){return(e=+e)==1?pee:function(t,r){return r-t?X5e(t,r,e):LR(isNaN(t)?r:t)}}function pee(e,t){var r=t-e;return r?Q5e(e,r):LR(isNaN(e)?t:e)}const ZU=function e(t){var r=eDe(t);function n(i,o){var s=r((i=gN(i)).r,(o=gN(o)).r),a=r(i.g,o.g),l=r(i.b,o.b),c=pee(i.opacity,o.opacity);return function(p){return i.r=s(p),i.g=a(p),i.b=l(p),i.opacity=c(p),i+""}}return n.gamma=e,n}(1);function tDe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=e[i]*(1-o)+t[i]*o;return n}}function rDe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function nDe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),o=new Array(r),s;for(s=0;s<n;++s)i[s]=Hy(e[s],t[s]);for(;s<r;++s)o[s]=t[s];return function(a){for(s=0;s<n;++s)o[s]=i[s](a);return o}}function iDe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function _2(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function oDe(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Hy(e[i],t[i]):n[i]=t[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var vN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,oE=new RegExp(vN.source,"g");function sDe(e){return function(){return e}}function aDe(e){return function(t){return e(t)+""}}function lDe(e,t){var r=vN.lastIndex=oE.lastIndex=0,n,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(n=vN.exec(e))&&(i=oE.exec(t));)(o=i.index)>r&&(o=t.slice(r,o),a[s]?a[s]+=o:a[++s]=o),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:_2(n,i)})),r=oE.lastIndex;return r<t.length&&(o=t.slice(r),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?aDe(l[0].x):sDe(t):(t=l.length,function(c){for(var p=0,h;p<t;++p)a[(h=l[p]).i]=h.x(c);return a.join("")})}function Hy(e,t){var r=typeof t,n;return t==null||r==="boolean"?LR(t):(r==="number"?_2:r==="string"?(n=fv(t))?(t=n,ZU):lDe:t instanceof fv?ZU:t instanceof Date?iDe:rDe(t)?tDe:Array.isArray(t)?nDe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?oDe:_2)(e,t)}function DR(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function uDe(e,t){t===void 0&&(t=e,e=Hy);for(var r=0,n=t.length-1,i=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(i,i=t[++r]);return function(s){var a=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return o[a](s-a)}}function cDe(e){return function(){return e}}function $2(e){return+e}var KU=[0,1];function Zn(e){return e}function bN(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:cDe(isNaN(t)?NaN:.5)}function dDe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function pDe(e,t,r){var n=e[0],i=e[1],o=t[0],s=t[1];return i<n?(n=bN(i,n),o=r(s,o)):(n=bN(n,i),o=r(o,s)),function(a){return o(n(a))}}function fDe(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),o=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=bN(e[s],e[s+1]),o[s]=r(t[s],t[s+1]);return function(a){var l=D1(e,a,1,n)-1;return o[l](i[l](a))}}function U1(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function D$(){var e=KU,t=KU,r=Hy,n,i,o,s=Zn,a,l,c;function p(){var y=Math.min(e.length,t.length);return s!==Zn&&(s=dDe(e[0],e[y-1])),a=y>2?fDe:pDe,l=c=null,h}function h(y){return y==null||isNaN(y=+y)?o:(l||(l=a(e.map(n),t,r)))(n(s(y)))}return h.invert=function(y){return s(i((c||(c=a(t,e.map(n),_2)))(y)))},h.domain=function(y){return arguments.length?(e=Array.from(y,$2),p()):e.slice()},h.range=function(y){return arguments.length?(t=Array.from(y),p()):t.slice()},h.rangeRound=function(y){return t=Array.from(y),r=DR,p()},h.clamp=function(y){return arguments.length?(s=y?!0:Zn,p()):s!==Zn},h.interpolate=function(y){return arguments.length?(r=y,p()):r},h.unknown=function(y){return arguments.length?(o=y,h):o},function(y,m){return n=y,i=m,p()}}function FR(){return D$()(Zn,Zn)}function hDe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function T2(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Zh(e){return e=T2(Math.abs(e)),e?e[1]:NaN}function yDe(e,t){return function(r,n){for(var i=r.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>n&&(a=Math.max(1,n-l)),o.push(r.substring(i-=a,i+a)),!((l+=a+1)>n));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function mDe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var gDe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hv(e){if(!(t=gDe.exec(e)))throw new Error("invalid format: "+e);var t;return new UR({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}hv.prototype=UR.prototype;function UR(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}UR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vDe(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var fee;function bDe(e,t){var r=T2(e,t);if(!r)return e+"";var n=r[0],i=r[1],o=i-(fee=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return o===s?n:o>s?n+new Array(o-s+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+T2(e,Math.max(0,t+o-1))[0]}function YU(e,t){var r=T2(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const QU={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:hDe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>YU(e*100,t),r:YU,s:bDe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function XU(e){return e}var e7=Array.prototype.map,t7=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function wDe(e){var t=e.grouping===void 0||e.thousands===void 0?XU:yDe(e7.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?XU:mDe(e7.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(h){h=hv(h);var y=h.fill,m=h.align,g=h.sign,b=h.symbol,w=h.zero,x=h.width,_=h.comma,S=h.precision,O=h.trim,$=h.type;$==="n"?(_=!0,$="g"):QU[$]||(S===void 0&&(S=12),O=!0,$="g"),(w||y==="0"&&m==="=")&&(w=!0,y="0",m="=");var T=b==="$"?r:b==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",j=b==="$"?n:/[%p]/.test($)?s:"",A=QU[$],N=/[defgprs%]/.test($);S=S===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function k(C){var F=T,G=j,B,W,K;if($==="c")G=A(C)+G,C="";else{C=+C;var ee=C<0||1/C<0;if(C=isNaN(C)?l:A(Math.abs(C),S),O&&(C=vDe(C)),ee&&+C==0&&g!=="+"&&(ee=!1),F=(ee?g==="("?g:a:g==="-"||g==="("?"":g)+F,G=($==="s"?t7[8+fee/3]:"")+G+(ee&&g==="("?")":""),N){for(B=-1,W=C.length;++B<W;)if(K=C.charCodeAt(B),48>K||K>57){G=(K===46?i+C.slice(B+1):C.slice(B))+G,C=C.slice(0,B);break}}}_&&!w&&(C=t(C,1/0));var V=F.length+C.length+G.length,Q=V<x?new Array(x-V+1).join(y):"";switch(_&&w&&(C=t(Q+C,Q.length?x-G.length:1/0),Q=""),m){case"<":C=F+C+G+Q;break;case"=":C=F+Q+C+G;break;case"^":C=Q.slice(0,V=Q.length>>1)+F+C+G+Q.slice(V);break;default:C=Q+F+C+G;break}return o(C)}return k.toString=function(){return h+""},k}function p(h,y){var m=c((h=hv(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(Zh(y)/3)))*3,b=Math.pow(10,-g),w=t7[8+g/3];return function(x){return m(b*x)+w}}return{format:c,formatPrefix:p}}var sw,zR,hee;xDe({thousands:",",grouping:[3],currency:["$",""]});function xDe(e){return sw=wDe(e),zR=sw.format,hee=sw.formatPrefix,sw}function SDe(e){return Math.max(0,-Zh(Math.abs(e)))}function _De(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zh(t)/3)))*3-Zh(Math.abs(e)))}function $De(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Zh(t)-Zh(e))+1}function yee(e,t,r,n){var i=yN(e,t,r),o;switch(n=hv(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=_De(i,s))&&(n.precision=o),hee(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=$De(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=SDe(i))&&(n.precision=o-(n.type==="%")*2);break}}return zR(n)}function xc(e){var t=e.domain;return e.ticks=function(r){var n=t();return fN(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return yee(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,o=n.length-1,s=n[i],a=n[o],l,c,p=10;for(a<s&&(c=s,s=a,a=c,c=i,i=o,o=c);p-- >0;){if(c=hN(s,a,r),c===l)return n[i]=s,n[o]=a,t(n);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;l=c}return e},e}function O2(){var e=FR();return e.copy=function(){return U1(e,O2())},No.apply(e,arguments),xc(e)}function mee(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,$2),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return mee(e).unknown(t)},e=arguments.length?Array.from(e,$2):[0,1],xc(r)}function gee(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],o=e[n],s;return o<i&&(s=r,r=n,n=s,s=i,i=o,o=s),e[r]=t.floor(i),e[n]=t.ceil(o),e}function r7(e){return Math.log(e)}function n7(e){return Math.exp(e)}function TDe(e){return-Math.log(-e)}function ODe(e){return-Math.exp(-e)}function EDe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function jDe(e){return e===10?EDe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function IDe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function i7(e){return(t,r)=>-e(-t,r)}function BR(e){const t=e(r7,n7),r=t.domain;let n=10,i,o;function s(){return i=IDe(n),o=jDe(n),r()[0]<0?(i=i7(i),o=i7(o),e(TDe,ODe)):e(r7,n7),t}return t.base=function(a){return arguments.length?(n=+a,s()):n},t.domain=function(a){return arguments.length?(r(a),s()):r()},t.ticks=a=>{const l=r();let c=l[0],p=l[l.length-1];const h=p<c;h&&([c,p]=[p,c]);let y=i(c),m=i(p),g,b;const w=a==null?10:+a;let x=[];if(!(n%1)&&m-y<w){if(y=Math.floor(y),m=Math.ceil(m),c>0){for(;y<=m;++y)for(g=1;g<n;++g)if(b=y<0?g/o(-y):g*o(y),!(b<c)){if(b>p)break;x.push(b)}}else for(;y<=m;++y)for(g=n-1;g>=1;--g)if(b=y>0?g/o(-y):g*o(y),!(b<c)){if(b>p)break;x.push(b)}x.length*2<w&&(x=fN(c,p,w))}else x=fN(y,m,Math.min(m-y,w)).map(o);return h?x.reverse():x},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=hv(l)).precision==null&&(l.trim=!0),l=zR(l)),a===1/0)return l;const c=Math.max(1,n*a/t.ticks().length);return p=>{let h=p/o(Math.round(i(p)));return h*n<n-.5&&(h*=n),h<=c?l(p):""}},t.nice=()=>r(gee(r(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),t}function vee(){const e=BR(D$()).domain([1,10]);return e.copy=()=>U1(e,vee()).base(e.base()),No.apply(e,arguments),e}function o7(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function s7(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function VR(e){var t=1,r=e(o7(t),s7(t));return r.constant=function(n){return arguments.length?e(o7(t=+n),s7(t)):t},xc(r)}function bee(){var e=VR(D$());return e.copy=function(){return U1(e,bee()).constant(e.constant())},No.apply(e,arguments)}function a7(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ADe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function PDe(e){return e<0?-e*e:e*e}function qR(e){var t=e(Zn,Zn),r=1;function n(){return r===1?e(Zn,Zn):r===.5?e(ADe,PDe):e(a7(r),a7(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},xc(t)}function GR(){var e=qR(D$());return e.copy=function(){return U1(e,GR()).exponent(e.exponent())},No.apply(e,arguments),e}function NDe(){return GR.apply(null,arguments).exponent(.5)}function l7(e){return Math.sign(e)*e*e}function MDe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function wee(){var e=FR(),t=[0,1],r=!1,n;function i(o){var s=MDe(e(o));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(o){return e.invert(l7(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,$2)).map(l7)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return wee(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},No.apply(i,arguments),xc(i)}function xee(){var e=[],t=[],r=[],n;function i(){var s=0,a=Math.max(1,t.length);for(r=new Array(a-1);++s<a;)r[s-1]=D5e(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?n:t[D1(r,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?r[a-1]:e[0],a<r.length?r[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Yu),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(n=s,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return xee().domain(e).range(t).unknown(n)},No.apply(o,arguments)}function See(){var e=0,t=1,r=1,n=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[D1(n,l,0,r)]:o}function a(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return See().domain([e,t]).range(i).unknown(o)},No.apply(xc(s),arguments)}function _ee(){var e=[.5],t=[0,1],r,n=1;function i(o){return o!=null&&o<=o?t[D1(e,o,0,n)]:r}return i.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return _ee().domain(e).range(t).unknown(r)},No.apply(i,arguments)}const sE=new Date,aE=new Date;function zr(e,t,r,n){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let c;do l.push(c=new Date(+o)),t(o,a),e(o);while(c<o&&o<s);return l},i.filter=o=>zr(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););}),r&&(i.count=(o,s)=>(sE.setTime(+o),aE.setTime(+s),e(sE),e(aE),Math.floor(r(sE,aE))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?s=>n(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const E2=zr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);E2.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?zr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):E2);E2.range;const yl=1e3,xo=yl*60,ml=xo*60,Al=ml*24,WR=Al*7,u7=Al*30,lE=Al*365,Id=zr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*yl)},(e,t)=>(t-e)/yl,e=>e.getUTCSeconds());Id.range;const HR=zr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*yl)},(e,t)=>{e.setTime(+e+t*xo)},(e,t)=>(t-e)/xo,e=>e.getMinutes());HR.range;const JR=zr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*xo)},(e,t)=>(t-e)/xo,e=>e.getUTCMinutes());JR.range;const ZR=zr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*yl-e.getMinutes()*xo)},(e,t)=>{e.setTime(+e+t*ml)},(e,t)=>(t-e)/ml,e=>e.getHours());ZR.range;const KR=zr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ml)},(e,t)=>(t-e)/ml,e=>e.getUTCHours());KR.range;const z1=zr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*xo)/Al,e=>e.getDate()-1);z1.range;const F$=zr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Al,e=>e.getUTCDate()-1);F$.range;const $ee=zr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Al,e=>Math.floor(e/Al));$ee.range;function xp(e){return zr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*xo)/WR)}const U$=xp(0),j2=xp(1),CDe=xp(2),kDe=xp(3),Kh=xp(4),RDe=xp(5),LDe=xp(6);U$.range;j2.range;CDe.range;kDe.range;Kh.range;RDe.range;LDe.range;function Sp(e){return zr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/WR)}const z$=Sp(0),I2=Sp(1),DDe=Sp(2),FDe=Sp(3),Yh=Sp(4),UDe=Sp(5),zDe=Sp(6);z$.range;I2.range;DDe.range;FDe.range;Yh.range;UDe.range;zDe.range;const YR=zr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());YR.range;const QR=zr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());QR.range;const Pl=zr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Pl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Pl.range;const Nl=zr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Nl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Nl.range;function Tee(e,t,r,n,i,o){const s=[[Id,1,yl],[Id,5,5*yl],[Id,15,15*yl],[Id,30,30*yl],[o,1,xo],[o,5,5*xo],[o,15,15*xo],[o,30,30*xo],[i,1,ml],[i,3,3*ml],[i,6,6*ml],[i,12,12*ml],[n,1,Al],[n,2,2*Al],[r,1,WR],[t,1,u7],[t,3,3*u7],[e,1,lE]];function a(c,p,h){const y=p<c;y&&([c,p]=[p,c]);const m=h&&typeof h.range=="function"?h:l(c,p,h),g=m?m.range(c,+p+1):[];return y?g.reverse():g}function l(c,p,h){const y=Math.abs(p-c)/h,m=CR(([,,w])=>w).right(s,y);if(m===s.length)return e.every(yN(c/lE,p/lE,h));if(m===0)return E2.every(Math.max(yN(c,p,h),1));const[g,b]=s[y/s[m-1][2]<s[m][2]/y?m-1:m];return g.every(b)}return[a,l]}const[BDe,VDe]=Tee(Nl,QR,z$,$ee,KR,JR),[qDe,GDe]=Tee(Pl,YR,U$,z1,ZR,HR);function uE(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function cE(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Tm(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function WDe(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,c=Om(i),p=Em(i),h=Om(o),y=Em(o),m=Om(s),g=Em(s),b=Om(a),w=Em(a),x=Om(l),_=Em(l),S={a:ee,A:V,b:Q,B:oe,c:null,d:y7,e:y7,f:yFe,g:TFe,G:EFe,H:pFe,I:fFe,j:hFe,L:Oee,m:mFe,M:gFe,p:fe,q:ae,Q:v7,s:b7,S:vFe,u:bFe,U:wFe,V:xFe,w:SFe,W:_Fe,x:null,X:null,y:$Fe,Y:OFe,Z:jFe,"%":g7},O={a:Oe,A:Je,b:_t,B:Bt,c:null,d:m7,e:m7,f:NFe,g:BFe,G:qFe,H:IFe,I:AFe,j:PFe,L:jee,m:MFe,M:CFe,p:ei,q:dn,Q:v7,s:b7,S:kFe,u:RFe,U:LFe,V:DFe,w:FFe,W:UFe,x:null,X:null,y:zFe,Y:VFe,Z:GFe,"%":g7},$={a:k,A:C,b:F,B:G,c:B,d:f7,e:f7,f:lFe,g:p7,G:d7,H:h7,I:h7,j:iFe,L:aFe,m:nFe,M:oFe,p:N,q:rFe,Q:cFe,s:dFe,S:sFe,u:YDe,U:QDe,V:XDe,w:KDe,W:eFe,x:W,X:K,y:p7,Y:d7,Z:tFe,"%":uFe};S.x=T(r,S),S.X=T(n,S),S.c=T(t,S),O.x=T(r,O),O.X=T(n,O),O.c=T(t,O);function T(me,De){return function(Fe){var ne=[],Dt=-1,Ze=0,ir=me.length,or,pn,Ps;for(Fe instanceof Date||(Fe=new Date(+Fe));++Dt<ir;)me.charCodeAt(Dt)===37&&(ne.push(me.slice(Ze,Dt)),(pn=c7[or=me.charAt(++Dt)])!=null?or=me.charAt(++Dt):pn=or==="e"?" ":"0",(Ps=De[or])&&(or=Ps(Fe,pn)),ne.push(or),Ze=Dt+1);return ne.push(me.slice(Ze,Dt)),ne.join("")}}function j(me,De){return function(Fe){var ne=Tm(1900,void 0,1),Dt=A(ne,me,Fe+="",0),Ze,ir;if(Dt!=Fe.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(De&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(Ze=cE(Tm(ne.y,0,1)),ir=Ze.getUTCDay(),Ze=ir>4||ir===0?I2.ceil(Ze):I2(Ze),Ze=F$.offset(Ze,(ne.V-1)*7),ne.y=Ze.getUTCFullYear(),ne.m=Ze.getUTCMonth(),ne.d=Ze.getUTCDate()+(ne.w+6)%7):(Ze=uE(Tm(ne.y,0,1)),ir=Ze.getDay(),Ze=ir>4||ir===0?j2.ceil(Ze):j2(Ze),Ze=z1.offset(Ze,(ne.V-1)*7),ne.y=Ze.getFullYear(),ne.m=Ze.getMonth(),ne.d=Ze.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),ir="Z"in ne?cE(Tm(ne.y,0,1)).getUTCDay():uE(Tm(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(ir+5)%7:ne.w+ne.U*7-(ir+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,cE(ne)):uE(ne)}}function A(me,De,Fe,ne){for(var Dt=0,Ze=De.length,ir=Fe.length,or,pn;Dt<Ze;){if(ne>=ir)return-1;if(or=De.charCodeAt(Dt++),or===37){if(or=De.charAt(Dt++),pn=$[or in c7?De.charAt(Dt++):or],!pn||(ne=pn(me,Fe,ne))<0)return-1}else if(or!=Fe.charCodeAt(ne++))return-1}return ne}function N(me,De,Fe){var ne=c.exec(De.slice(Fe));return ne?(me.p=p.get(ne[0].toLowerCase()),Fe+ne[0].length):-1}function k(me,De,Fe){var ne=m.exec(De.slice(Fe));return ne?(me.w=g.get(ne[0].toLowerCase()),Fe+ne[0].length):-1}function C(me,De,Fe){var ne=h.exec(De.slice(Fe));return ne?(me.w=y.get(ne[0].toLowerCase()),Fe+ne[0].length):-1}function F(me,De,Fe){var ne=x.exec(De.slice(Fe));return ne?(me.m=_.get(ne[0].toLowerCase()),Fe+ne[0].length):-1}function G(me,De,Fe){var ne=b.exec(De.slice(Fe));return ne?(me.m=w.get(ne[0].toLowerCase()),Fe+ne[0].length):-1}function B(me,De,Fe){return A(me,t,De,Fe)}function W(me,De,Fe){return A(me,r,De,Fe)}function K(me,De,Fe){return A(me,n,De,Fe)}function ee(me){return s[me.getDay()]}function V(me){return o[me.getDay()]}function Q(me){return l[me.getMonth()]}function oe(me){return a[me.getMonth()]}function fe(me){return i[+(me.getHours()>=12)]}function ae(me){return 1+~~(me.getMonth()/3)}function Oe(me){return s[me.getUTCDay()]}function Je(me){return o[me.getUTCDay()]}function _t(me){return l[me.getUTCMonth()]}function Bt(me){return a[me.getUTCMonth()]}function ei(me){return i[+(me.getUTCHours()>=12)]}function dn(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var De=T(me+="",S);return De.toString=function(){return me},De},parse:function(me){var De=j(me+="",!1);return De.toString=function(){return me},De},utcFormat:function(me){var De=T(me+="",O);return De.toString=function(){return me},De},utcParse:function(me){var De=j(me+="",!0);return De.toString=function(){return me},De}}}var c7={"-":"",_:" ",0:"0"},tn=/^\s*\d+/,HDe=/^%/,JDe=/[\\^$*+?|[\]().{}]/g;function rt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(t)+i:i)}function ZDe(e){return e.replace(JDe,"\\$&")}function Om(e){return new RegExp("^(?:"+e.map(ZDe).join("|")+")","i")}function Em(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function KDe(e,t,r){var n=tn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function YDe(e,t,r){var n=tn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function QDe(e,t,r){var n=tn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function XDe(e,t,r){var n=tn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function eFe(e,t,r){var n=tn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function d7(e,t,r){var n=tn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function p7(e,t,r){var n=tn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function tFe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function rFe(e,t,r){var n=tn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function nFe(e,t,r){var n=tn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function f7(e,t,r){var n=tn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function iFe(e,t,r){var n=tn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function h7(e,t,r){var n=tn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function oFe(e,t,r){var n=tn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function sFe(e,t,r){var n=tn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function aFe(e,t,r){var n=tn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function lFe(e,t,r){var n=tn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function uFe(e,t,r){var n=HDe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function cFe(e,t,r){var n=tn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function dFe(e,t,r){var n=tn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function y7(e,t){return rt(e.getDate(),t,2)}function pFe(e,t){return rt(e.getHours(),t,2)}function fFe(e,t){return rt(e.getHours()%12||12,t,2)}function hFe(e,t){return rt(1+z1.count(Pl(e),e),t,3)}function Oee(e,t){return rt(e.getMilliseconds(),t,3)}function yFe(e,t){return Oee(e,t)+"000"}function mFe(e,t){return rt(e.getMonth()+1,t,2)}function gFe(e,t){return rt(e.getMinutes(),t,2)}function vFe(e,t){return rt(e.getSeconds(),t,2)}function bFe(e){var t=e.getDay();return t===0?7:t}function wFe(e,t){return rt(U$.count(Pl(e)-1,e),t,2)}function Eee(e){var t=e.getDay();return t>=4||t===0?Kh(e):Kh.ceil(e)}function xFe(e,t){return e=Eee(e),rt(Kh.count(Pl(e),e)+(Pl(e).getDay()===4),t,2)}function SFe(e){return e.getDay()}function _Fe(e,t){return rt(j2.count(Pl(e)-1,e),t,2)}function $Fe(e,t){return rt(e.getFullYear()%100,t,2)}function TFe(e,t){return e=Eee(e),rt(e.getFullYear()%100,t,2)}function OFe(e,t){return rt(e.getFullYear()%1e4,t,4)}function EFe(e,t){var r=e.getDay();return e=r>=4||r===0?Kh(e):Kh.ceil(e),rt(e.getFullYear()%1e4,t,4)}function jFe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+rt(t/60|0,"0",2)+rt(t%60,"0",2)}function m7(e,t){return rt(e.getUTCDate(),t,2)}function IFe(e,t){return rt(e.getUTCHours(),t,2)}function AFe(e,t){return rt(e.getUTCHours()%12||12,t,2)}function PFe(e,t){return rt(1+F$.count(Nl(e),e),t,3)}function jee(e,t){return rt(e.getUTCMilliseconds(),t,3)}function NFe(e,t){return jee(e,t)+"000"}function MFe(e,t){return rt(e.getUTCMonth()+1,t,2)}function CFe(e,t){return rt(e.getUTCMinutes(),t,2)}function kFe(e,t){return rt(e.getUTCSeconds(),t,2)}function RFe(e){var t=e.getUTCDay();return t===0?7:t}function LFe(e,t){return rt(z$.count(Nl(e)-1,e),t,2)}function Iee(e){var t=e.getUTCDay();return t>=4||t===0?Yh(e):Yh.ceil(e)}function DFe(e,t){return e=Iee(e),rt(Yh.count(Nl(e),e)+(Nl(e).getUTCDay()===4),t,2)}function FFe(e){return e.getUTCDay()}function UFe(e,t){return rt(I2.count(Nl(e)-1,e),t,2)}function zFe(e,t){return rt(e.getUTCFullYear()%100,t,2)}function BFe(e,t){return e=Iee(e),rt(e.getUTCFullYear()%100,t,2)}function VFe(e,t){return rt(e.getUTCFullYear()%1e4,t,4)}function qFe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Yh(e):Yh.ceil(e),rt(e.getUTCFullYear()%1e4,t,4)}function GFe(){return"+0000"}function g7(){return"%"}function v7(e){return+e}function b7(e){return Math.floor(+e/1e3)}var Fp,Aee,Pee;WFe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function WFe(e){return Fp=WDe(e),Aee=Fp.format,Fp.parse,Pee=Fp.utcFormat,Fp.utcParse,Fp}function HFe(e){return new Date(e)}function JFe(e){return e instanceof Date?+e:+new Date(+e)}function XR(e,t,r,n,i,o,s,a,l,c){var p=FR(),h=p.invert,y=p.domain,m=c(".%L"),g=c(":%S"),b=c("%I:%M"),w=c("%I %p"),x=c("%a %d"),_=c("%b %d"),S=c("%B"),O=c("%Y");function $(T){return(l(T)<T?m:a(T)<T?g:s(T)<T?b:o(T)<T?w:n(T)<T?i(T)<T?x:_:r(T)<T?S:O)(T)}return p.invert=function(T){return new Date(h(T))},p.domain=function(T){return arguments.length?y(Array.from(T,JFe)):y().map(HFe)},p.ticks=function(T){var j=y();return e(j[0],j[j.length-1],T??10)},p.tickFormat=function(T,j){return j==null?$:c(j)},p.nice=function(T){var j=y();return(!T||typeof T.range!="function")&&(T=t(j[0],j[j.length-1],T??10)),T?y(gee(j,T)):p},p.copy=function(){return U1(p,XR(e,t,r,n,i,o,s,a,l,c))},p}function ZFe(){return No.apply(XR(qDe,GDe,Pl,YR,U$,z1,ZR,HR,Id,Aee).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function KFe(){return No.apply(XR(BDe,VDe,Nl,QR,z$,F$,KR,JR,Id,Pee).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function B$(){var e=0,t=1,r,n,i,o,s=Zn,a=!1,l;function c(h){return h==null||isNaN(h=+h)?l:s(i===0?.5:(h=(o(h)-r)*i,a?Math.max(0,Math.min(1,h)):h))}c.domain=function(h){return arguments.length?([e,t]=h,r=o(e=+e),n=o(t=+t),i=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(h){return arguments.length?(a=!!h,c):a},c.interpolator=function(h){return arguments.length?(s=h,c):s};function p(h){return function(y){var m,g;return arguments.length?([m,g]=y,s=h(m,g),c):[s(0),s(1)]}}return c.range=p(Hy),c.rangeRound=p(DR),c.unknown=function(h){return arguments.length?(l=h,c):l},function(h){return o=h,r=h(e),n=h(t),i=r===n?0:1/(n-r),c}}function Sc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Nee(){var e=xc(B$()(Zn));return e.copy=function(){return Sc(e,Nee())},Fl.apply(e,arguments)}function Mee(){var e=BR(B$()).domain([1,10]);return e.copy=function(){return Sc(e,Mee()).base(e.base())},Fl.apply(e,arguments)}function Cee(){var e=VR(B$());return e.copy=function(){return Sc(e,Cee()).constant(e.constant())},Fl.apply(e,arguments)}function e4(){var e=qR(B$());return e.copy=function(){return Sc(e,e4()).exponent(e.exponent())},Fl.apply(e,arguments)}function YFe(){return e4.apply(null,arguments).exponent(.5)}function kee(){var e=[],t=Zn;function r(n){if(n!=null&&!isNaN(n=+n))return t((D1(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Yu),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>L5e(e,o/n))},r.copy=function(){return kee(t).domain(e)},Fl.apply(r,arguments)}function V$(){var e=0,t=.5,r=1,n=1,i,o,s,a,l,c=Zn,p,h=!1,y;function m(b){return isNaN(b=+b)?y:(b=.5+((b=+p(b))-o)*(n*b<n*o?a:l),c(h?Math.max(0,Math.min(1,b)):b))}m.domain=function(b){return arguments.length?([e,t,r]=b,i=p(e=+e),o=p(t=+t),s=p(r=+r),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),n=o<i?-1:1,m):[e,t,r]},m.clamp=function(b){return arguments.length?(h=!!b,m):h},m.interpolator=function(b){return arguments.length?(c=b,m):c};function g(b){return function(w){var x,_,S;return arguments.length?([x,_,S]=w,c=uDe(b,[x,_,S]),m):[c(0),c(.5),c(1)]}}return m.range=g(Hy),m.rangeRound=g(DR),m.unknown=function(b){return arguments.length?(y=b,m):y},function(b){return p=b,i=b(e),o=b(t),s=b(r),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),n=o<i?-1:1,m}}function Ree(){var e=xc(V$()(Zn));return e.copy=function(){return Sc(e,Ree())},Fl.apply(e,arguments)}function Lee(){var e=BR(V$()).domain([.1,1,10]);return e.copy=function(){return Sc(e,Lee()).base(e.base())},Fl.apply(e,arguments)}function Dee(){var e=VR(V$());return e.copy=function(){return Sc(e,Dee()).constant(e.constant())},Fl.apply(e,arguments)}function t4(){var e=qR(V$());return e.copy=function(){return Sc(e,t4()).exponent(e.exponent())},Fl.apply(e,arguments)}function QFe(){return t4.apply(null,arguments).exponent(.5)}const w7=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:cv,scaleDiverging:Ree,scaleDivergingLog:Lee,scaleDivergingPow:t4,scaleDivergingSqrt:QFe,scaleDivergingSymlog:Dee,scaleIdentity:mee,scaleImplicit:mN,scaleLinear:O2,scaleLog:vee,scaleOrdinal:kR,scalePoint:ug,scalePow:GR,scaleQuantile:xee,scaleQuantize:See,scaleRadial:wee,scaleSequential:Nee,scaleSequentialLog:Mee,scaleSequentialPow:e4,scaleSequentialQuantile:kee,scaleSequentialSqrt:YFe,scaleSequentialSymlog:Cee,scaleSqrt:NDe,scaleSymlog:bee,scaleThreshold:_ee,scaleTime:ZFe,scaleUtc:KFe,tickFormat:yee},Symbol.toStringTag,{value:"Module"}));var XFe=Fy;function e6e(e,t,r){for(var n=-1,i=e.length;++n<i;){var o=e[n],s=t(o);if(s!=null&&(a===void 0?s===s&&!XFe(s):r(s,a)))var a=s,l=o}return l}var q$=e6e;function t6e(e,t){return e>t}var Fee=t6e,r6e=q$,n6e=Fee,i6e=Wy;function o6e(e){return e&&e.length?r6e(e,i6e,n6e):void 0}var s6e=o6e;const G$=yt(s6e);function a6e(e,t){return e<t}var Uee=a6e,l6e=q$,u6e=Uee,c6e=Wy;function d6e(e){return e&&e.length?l6e(e,c6e,u6e):void 0}var p6e=d6e;const W$=yt(p6e);var f6e=yR,h6e=wa,y6e=JX,m6e=Si;function g6e(e,t){var r=m6e(e)?f6e:y6e;return r(e,h6e(t))}var v6e=g6e,b6e=WX,w6e=v6e;function x6e(e,t){return b6e(w6e(e,t),1)}var S6e=x6e;const _6e=yt(S6e);var $6e=AR;function T6e(e,t){return $6e(e,t)}var O6e=T6e;const H$=yt(O6e);var Jy=1e9,E6e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},n4,zt=!0,Io="[DecimalError] ",Fd=Io+"Invalid argument: ",r4=Io+"Exponent out of range: ",Zy=Math.floor,ud=Math.pow,j6e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Li,Zr=1e7,Rt=7,zee=9007199254740991,A2=Zy(zee/Rt),we={};we.absoluteValue=we.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};we.comparedTo=we.cmp=function(e){var t,r,n,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};we.decimalPlaces=we.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Rt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};we.dividedBy=we.div=function(e){return Sl(this,new this.constructor(e))};we.dividedToIntegerBy=we.idiv=function(e){var t=this,r=t.constructor;return xt(Sl(t,new r(e),0,1),r.precision)};we.equals=we.eq=function(e){return!this.cmp(e)};we.exponent=function(){return Tr(this)};we.greaterThan=we.gt=function(e){return this.cmp(e)>0};we.greaterThanOrEqualTo=we.gte=function(e){return this.cmp(e)>=0};we.isInteger=we.isint=function(){return this.e>this.d.length-2};we.isNegative=we.isneg=function(){return this.s<0};we.isPositive=we.ispos=function(){return this.s>0};we.isZero=function(){return this.s===0};we.lessThan=we.lt=function(e){return this.cmp(e)<0};we.lessThanOrEqualTo=we.lte=function(e){return this.cmp(e)<1};we.logarithm=we.log=function(e){var t,r=this,n=r.constructor,i=n.precision,o=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Li))throw Error(Io+"NaN");if(r.s<1)throw Error(Io+(r.s?"NaN":"-Infinity"));return r.eq(Li)?new n(0):(zt=!1,t=Sl(yv(r,o),yv(e,o),o),zt=!0,xt(t,i))};we.minus=we.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?qee(t,e):Bee(t,(e.s=-e.s,e))};we.modulo=we.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Io+"NaN");return r.s?(zt=!1,t=Sl(r,e,0,1).times(e),zt=!0,r.minus(t)):xt(new n(r),i)};we.naturalExponential=we.exp=function(){return Vee(this)};we.naturalLogarithm=we.ln=function(){return yv(this)};we.negated=we.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};we.plus=we.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Bee(t,e):qee(t,(e.s=-e.s,e))};we.precision=we.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Fd+e);if(t=Tr(i)+1,n=i.d.length-1,r=n*Rt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};we.squareRoot=we.sqrt=function(){var e,t,r,n,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Io+"NaN")}for(e=Tr(a),zt=!1,i=Math.sqrt(+a),i==0||i==1/0?(t=sa(a.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Zy((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(o=n,n=o.plus(Sl(a,o,s+2)).times(.5),sa(o.d).slice(0,s)===(t=sa(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(xt(o,r+1,0),o.times(o).eq(a)){n=o;break}}else if(t!="9999")break;s+=4}return zt=!0,xt(n,r)};we.times=we.mul=function(e){var t,r,n,i,o,s,a,l,c,p=this,h=p.constructor,y=p.d,m=(e=new h(e)).d;if(!p.s||!e.s)return new h(0);for(e.s*=p.s,r=p.e+e.e,l=y.length,c=m.length,l<c&&(o=y,y=m,m=o,s=l,l=c,c=s),o=[],s=l+c,n=s;n--;)o.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)a=o[i]+m[n]*y[i-n-1]+t,o[i--]=a%Zr|0,t=a/Zr|0;o[i]=(o[i]+t)%Zr|0}for(;!o[--s];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,zt?xt(e,h.precision):e};we.toDecimalPlaces=we.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ga(e,0,Jy),t===void 0?t=n.rounding:ga(t,0,8),xt(r,e+Tr(r)+1,t))};we.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=up(n,!0):(ga(e,0,Jy),t===void 0?t=i.rounding:ga(t,0,8),n=xt(new i(n),e+1,t),r=up(n,!0,e+1)),r};we.toFixed=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?up(i):(ga(e,0,Jy),t===void 0?t=o.rounding:ga(t,0,8),n=xt(new o(i),e+Tr(i)+1,t),r=up(n.abs(),!1,e+Tr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};we.toInteger=we.toint=function(){var e=this,t=e.constructor;return xt(new t(e),Tr(e)+1,t.rounding)};we.toNumber=function(){return+this};we.toPower=we.pow=function(e){var t,r,n,i,o,s,a=this,l=a.constructor,c=12,p=+(e=new l(e));if(!e.s)return new l(Li);if(a=new l(a),!a.s){if(e.s<1)throw Error(Io+"Infinity");return a}if(a.eq(Li))return a;if(n=l.precision,e.eq(Li))return xt(a,n);if(t=e.e,r=e.d.length-1,s=t>=r,o=a.s,s){if((r=p<0?-p:p)<=zee){for(i=new l(Li),t=Math.ceil(n/Rt+4),zt=!1;r%2&&(i=i.times(a),S7(i.d,t)),r=Zy(r/2),r!==0;)a=a.times(a),S7(a.d,t);return zt=!0,e.s<0?new l(Li).div(i):xt(i,n)}}else if(o<0)throw Error(Io+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,a.s=1,zt=!1,i=e.times(yv(a,n+c)),zt=!0,i=Vee(i),i.s=o,i};we.toPrecision=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?(r=Tr(i),n=up(i,r<=o.toExpNeg||r>=o.toExpPos)):(ga(e,1,Jy),t===void 0?t=o.rounding:ga(t,0,8),i=xt(new o(i),e,t),r=Tr(i),n=up(i,e<=r||r<=o.toExpNeg,e)),n};we.toSignificantDigits=we.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ga(e,1,Jy),t===void 0?t=n.rounding:ga(t,0,8)),xt(new n(r),e,t)};we.toString=we.valueOf=we.val=we.toJSON=we[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Tr(e),r=e.constructor;return up(e,t<=r.toExpNeg||t>=r.toExpPos)};function Bee(e,t){var r,n,i,o,s,a,l,c,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),zt?xt(t,h):t;if(l=e.d,c=t.d,s=e.e,i=t.e,l=l.slice(),o=s-i,o){for(o<0?(n=l,o=-o,a=c.length):(n=c,i=s,a=l.length),s=Math.ceil(h/Rt),a=s>a?s+1:a+1,o>a&&(o=a,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(a=l.length,o=c.length,a-o<0&&(o=a,n=c,c=l,l=n),r=0;o;)r=(l[--o]=l[o]+c[o]+r)/Zr|0,l[o]%=Zr;for(r&&(l.unshift(r),++i),a=l.length;l[--a]==0;)l.pop();return t.d=l,t.e=i,zt?xt(t,h):t}function ga(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Fd+e)}function sa(e){var t,r,n,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)n=e[t]+"",r=Rt-n.length,r&&(o+=vu(r)),o+=n;s=e[t],n=s+"",r=Rt-n.length,r&&(o+=vu(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Sl=function(){function e(n,i){var o,s=0,a=n.length;for(n=n.slice();a--;)o=n[a]*i+s,n[a]=o%Zr|0,s=o/Zr|0;return s&&n.unshift(s),n}function t(n,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(n[a]!=i[a]){l=n[a]>i[a]?1:-1;break}return l}function r(n,i,o){for(var s=0;o--;)n[o]-=s,s=n[o]<i[o]?1:0,n[o]=s*Zr+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,s){var a,l,c,p,h,y,m,g,b,w,x,_,S,O,$,T,j,A,N=n.constructor,k=n.s==i.s?1:-1,C=n.d,F=i.d;if(!n.s)return new N(n);if(!i.s)throw Error(Io+"Division by zero");for(l=n.e-i.e,j=F.length,$=C.length,m=new N(k),g=m.d=[],c=0;F[c]==(C[c]||0);)++c;if(F[c]>(C[c]||0)&&--l,o==null?_=o=N.precision:s?_=o+(Tr(n)-Tr(i))+1:_=o,_<0)return new N(0);if(_=_/Rt+2|0,c=0,j==1)for(p=0,F=F[0],_++;(c<$||p)&&_--;c++)S=p*Zr+(C[c]||0),g[c]=S/F|0,p=S%F|0;else{for(p=Zr/(F[0]+1)|0,p>1&&(F=e(F,p),C=e(C,p),j=F.length,$=C.length),O=j,b=C.slice(0,j),w=b.length;w<j;)b[w++]=0;A=F.slice(),A.unshift(0),T=F[0],F[1]>=Zr/2&&++T;do p=0,a=t(F,b,j,w),a<0?(x=b[0],j!=w&&(x=x*Zr+(b[1]||0)),p=x/T|0,p>1?(p>=Zr&&(p=Zr-1),h=e(F,p),y=h.length,w=b.length,a=t(h,b,y,w),a==1&&(p--,r(h,j<y?A:F,y))):(p==0&&(a=p=1),h=F.slice()),y=h.length,y<w&&h.unshift(0),r(b,h,w),a==-1&&(w=b.length,a=t(F,b,j,w),a<1&&(p++,r(b,j<w?A:F,w))),w=b.length):a===0&&(p++,b=[0]),g[c++]=p,a&&b[0]?b[w++]=C[O]||0:(b=[C[O]],w=1);while((O++<$||b[0]!==void 0)&&_--)}return g[0]||g.shift(),m.e=l,xt(m,s?o+Tr(m)+1:o)}}();function Vee(e,t){var r,n,i,o,s,a,l=0,c=0,p=e.constructor,h=p.precision;if(Tr(e)>16)throw Error(r4+Tr(e));if(!e.s)return new p(Li);for(t==null?(zt=!1,a=h):a=t,s=new p(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log(ud(2,c))/Math.LN10*2+5|0,a+=n,r=i=o=new p(Li),p.precision=a;;){if(i=xt(i.times(e),a),r=r.times(++l),s=o.plus(Sl(i,r,a)),sa(s.d).slice(0,a)===sa(o.d).slice(0,a)){for(;c--;)o=xt(o.times(o),a);return p.precision=h,t==null?(zt=!0,xt(o,h)):o}o=s}}function Tr(e){for(var t=e.e*Rt,r=e.d[0];r>=10;r/=10)t++;return t}function dE(e,t,r){if(t>e.LN10.sd())throw zt=!0,r&&(e.precision=r),Error(Io+"LN10 precision limit exceeded");return xt(new e(e.LN10),t)}function vu(e){for(var t="";e--;)t+="0";return t}function yv(e,t){var r,n,i,o,s,a,l,c,p,h=1,y=10,m=e,g=m.d,b=m.constructor,w=b.precision;if(m.s<1)throw Error(Io+(m.s?"NaN":"-Infinity"));if(m.eq(Li))return new b(0);if(t==null?(zt=!1,c=w):c=t,m.eq(10))return t==null&&(zt=!0),dE(b,c);if(c+=y,b.precision=c,r=sa(g),n=r.charAt(0),o=Tr(m),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=sa(m.d),n=r.charAt(0),h++;o=Tr(m),n>1?(m=new b("0."+r),o++):m=new b(n+"."+r.slice(1))}else return l=dE(b,c+2,w).times(o+""),m=yv(new b(n+"."+r.slice(1)),c-y).plus(l),b.precision=w,t==null?(zt=!0,xt(m,w)):m;for(a=s=m=Sl(m.minus(Li),m.plus(Li),c),p=xt(m.times(m),c),i=3;;){if(s=xt(s.times(p),c),l=a.plus(Sl(s,new b(i),c)),sa(l.d).slice(0,c)===sa(a.d).slice(0,c))return a=a.times(2),o!==0&&(a=a.plus(dE(b,c+2,w).times(o+""))),a=Sl(a,new b(h),c),b.precision=w,t==null?(zt=!0,xt(a,w)):a;a=l,i+=2}}function x7(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Zy(r/Rt),e.d=[],n=(r+1)%Rt,r<0&&(n+=Rt),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Rt;n<i;)e.d.push(+t.slice(n,n+=Rt));t=t.slice(n),n=Rt-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),zt&&(e.e>A2||e.e<-A2))throw Error(r4+r)}else e.s=0,e.e=0,e.d=[0];return e}function xt(e,t,r){var n,i,o,s,a,l,c,p,h=e.d;for(s=1,o=h[0];o>=10;o/=10)s++;if(n=t-s,n<0)n+=Rt,i=t,c=h[p=0];else{if(p=Math.ceil((n+1)/Rt),o=h.length,p>=o)return e;for(c=o=h[p],s=1;o>=10;o/=10)s++;n%=Rt,i=n-Rt+s}if(r!==void 0&&(o=ud(10,s-i-1),a=c/o%10|0,l=t<0||h[p+1]!==void 0||c%o,l=r<4?(a||l)&&(r==0||r==(e.s<0?3:2)):a>5||a==5&&(r==4||l||r==6&&(n>0?i>0?c/ud(10,s-i):0:h[p-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return l?(o=Tr(e),h.length=1,t=t-o-1,h[0]=ud(10,(Rt-t%Rt)%Rt),e.e=Zy(-t/Rt)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=p,o=1,p--):(h.length=p+1,o=ud(10,Rt-n),h[p]=i>0?(c/ud(10,s-i)%ud(10,i)|0)*o:0),l)for(;;)if(p==0){(h[0]+=o)==Zr&&(h[0]=1,++e.e);break}else{if(h[p]+=o,h[p]!=Zr)break;h[p--]=0,o=1}for(n=h.length;h[--n]===0;)h.pop();if(zt&&(e.e>A2||e.e<-A2))throw Error(r4+Tr(e));return e}function qee(e,t){var r,n,i,o,s,a,l,c,p,h,y=e.constructor,m=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),zt?xt(t,m):t;if(l=e.d,h=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n,s){for(p=s<0,p?(r=l,s=-s,a=h.length):(r=h,n=c,a=l.length),i=Math.max(Math.ceil(m/Rt),a)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,a=h.length,p=i<a,p&&(a=i),i=0;i<a;i++)if(l[i]!=h[i]){p=l[i]<h[i];break}s=0}for(p&&(r=l,l=h,h=r,t.s=-t.s),a=l.length,i=h.length-a;i>0;--i)l[a++]=0;for(i=h.length;i>s;){if(l[--i]<h[i]){for(o=i;o&&l[--o]===0;)l[o]=Zr-1;--l[o],l[i]+=Zr}l[i]-=h[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,zt?xt(t,m):t):new y(0)}function up(e,t,r){var n,i=Tr(e),o=sa(e.d),s=o.length;return t?(r&&(n=r-s)>0?o=o.charAt(0)+"."+o.slice(1)+vu(n):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+vu(-i-1)+o,r&&(n=r-s)>0&&(o+=vu(n))):i>=s?(o+=vu(i+1-s),r&&(n=r-i-1)>0&&(o=o+"."+vu(n))):((n=i+1)<s&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(o+="."),o+=vu(n))),e.s<0?"-"+o:o}function S7(e,t){if(e.length>t)return e.length=t,!0}function Gee(e){var t,r,n;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Fd+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return x7(s,o.toString())}else if(typeof o!="string")throw Error(Fd+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,j6e.test(o))x7(s,o);else throw Error(Fd+o)}if(i.prototype=we,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Gee,i.config=i.set=I6e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function I6e(e){if(!e||typeof e!="object")throw Error(Io+"Object expected");var t,r,n,i=["precision",1,Jy,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Zy(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Fd+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Fd+r+": "+n);return this}var n4=Gee(E6e);Li=new n4(1);const vt=n4;function A6e(e){return C6e(e)||M6e(e)||N6e(e)||P6e()}function P6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N6e(e,t){if(e){if(typeof e=="string")return wN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wN(e,t)}}function M6e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function C6e(e){if(Array.isArray(e))return wN(e)}function wN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var k6e=function(t){return t},Wee={"@@functional/placeholder":!0},Hee=function(t){return t===Wee},_7=function(t){return function r(){return arguments.length===0||arguments.length===1&&Hee(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},R6e=function e(t,r){return t===1?r:_7(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==Wee}).length;return s>=t?r.apply(void 0,i):e(t-s,_7(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var p=i.map(function(h){return Hee(h)?l.shift():h});return r.apply(void 0,A6e(p).concat(l))}))})},J$=function(t){return R6e(t.length,t)},xN=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},L6e=J$(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),D6e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return k6e;var i=r.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},SN=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Jee=function(t){var r=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r&&o.every(function(a,l){return a===r[l]})||(r=o,n=t.apply(void 0,o)),n}};function F6e(e){var t;return e===0?t=1:t=Math.floor(new vt(e).abs().log(10).toNumber())+1,t}function U6e(e,t,r){for(var n=new vt(e),i=0,o=[];n.lt(t)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var z6e=J$(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),B6e=J$(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),V6e=J$(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Z$={rangeStep:U6e,getDigitCount:F6e,interpolateNumber:z6e,uninterpolateNumber:B6e,uninterpolateTruncation:V6e};function _N(e){return W6e(e)||G6e(e)||Zee(e)||q6e()}function q6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G6e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function W6e(e){if(Array.isArray(e))return $N(e)}function mv(e,t){return Z6e(e)||J6e(e,t)||Zee(e,t)||H6e()}function H6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zee(e,t){if(e){if(typeof e=="string")return $N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $N(e,t)}}function $N(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function J6e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,o=void 0;try{for(var s=e[Symbol.iterator](),a;!(n=(a=s.next()).done)&&(r.push(a.value),!(t&&r.length===t));n=!0);}catch(l){i=!0,o=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw o}}return r}}function Z6e(e){if(Array.isArray(e))return e}function Kee(e){var t=mv(e,2),r=t[0],n=t[1],i=r,o=n;return r>n&&(i=n,o=r),[i,o]}function Yee(e,t,r){if(e.lte(0))return new vt(0);var n=Z$.getDigitCount(e.toNumber()),i=new vt(10).pow(n),o=e.div(i),s=n!==1?.05:.1,a=new vt(Math.ceil(o.div(s).toNumber())).add(r).mul(s),l=a.mul(i);return t?l:new vt(Math.ceil(l))}function K6e(e,t,r){var n=1,i=new vt(e);if(!i.isint()&&r){var o=Math.abs(e);o<1?(n=new vt(10).pow(Z$.getDigitCount(e)-1),i=new vt(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new vt(Math.floor(e)))}else e===0?i=new vt(Math.floor((t-1)/2)):r||(i=new vt(Math.floor(e)));var s=Math.floor((t-1)/2),a=D6e(L6e(function(l){return i.add(new vt(l-s).mul(n)).toNumber()}),xN);return a(0,t)}function Qee(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new vt(0),tickMin:new vt(0),tickMax:new vt(0)};var o=Yee(new vt(t).sub(e).div(r-1),n,i),s;e<=0&&t>=0?s=new vt(0):(s=new vt(e).add(t).div(2),s=s.sub(new vt(s).mod(o)));var a=Math.ceil(s.sub(e).div(o).toNumber()),l=Math.ceil(new vt(t).sub(s).div(o).toNumber()),c=a+l+1;return c>r?Qee(e,t,r,n,i+1):(c<r&&(l=t>0?l+(r-c):l,a=t>0?a:a+(r-c)),{step:o,tickMin:s.sub(new vt(a).mul(o)),tickMax:s.add(new vt(l).mul(o))})}function Y6e(e){var t=mv(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=Kee([r,n]),l=mv(a,2),c=l[0],p=l[1];if(c===-1/0||p===1/0){var h=p===1/0?[c].concat(_N(xN(0,i-1).map(function(){return 1/0}))):[].concat(_N(xN(0,i-1).map(function(){return-1/0})),[p]);return r>n?SN(h):h}if(c===p)return K6e(c,i,o);var y=Qee(c,p,s,o),m=y.step,g=y.tickMin,b=y.tickMax,w=Z$.rangeStep(g,b.add(new vt(.1).mul(m)),m);return r>n?SN(w):w}function Q6e(e,t){var r=mv(e,2),n=r[0],i=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Kee([n,i]),a=mv(s,2),l=a[0],c=a[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var p=Math.max(t,2),h=Yee(new vt(c).sub(l).div(p-1),o,0),y=[].concat(_N(Z$.rangeStep(new vt(l),new vt(c).sub(new vt(.99).mul(h)),h)),[c]);return n>i?SN(y):y}var X6e=Jee(Y6e),e8e=Jee(Q6e),t8e=!0,pE="Invariant failed";function cp(e,t){if(!e){if(t8e)throw new Error(pE);var r=typeof t=="function"?t():t,n=r?"".concat(pE,": ").concat(r):pE;throw new Error(n)}}var r8e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Qh(e){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(e)}function P2(){return P2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P2.apply(this,arguments)}function n8e(e,t){return a8e(e)||s8e(e,t)||o8e(e,t)||i8e()}function i8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o8e(e,t){if(e){if(typeof e=="string")return $7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $7(e,t)}}function $7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(p){c=!0,i=p}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function a8e(e){if(Array.isArray(e))return e}function l8e(e,t){if(e==null)return{};var r=u8e(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function u8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function c8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tte(n.key),n)}}function d8e(e,t,r){return t&&T7(e.prototype,t),r&&T7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p8e(e,t,r){return t=N2(t),f8e(e,Xee()?Reflect.construct(t,r||[],N2(e).constructor):t.apply(e,r))}function f8e(e,t){if(t&&(Qh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h8e(e)}function h8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xee=function(){return!!e})()}function N2(e){return N2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},N2(e)}function y8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TN(e,t)}function TN(e,t){return TN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},TN(e,t)}function ete(e,t,r){return t=tte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tte(e){var t=m8e(e,"string");return Qh(t)=="symbol"?t:t+""}function m8e(e,t){if(Qh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var K$=function(e){function t(){return c8e(this,t),p8e(this,t,arguments)}return y8e(t,e),d8e(t,[{key:"render",value:function(){var n=this.props,i=n.offset,o=n.layout,s=n.width,a=n.dataKey,l=n.data,c=n.dataPointFormatter,p=n.xAxis,h=n.yAxis,y=l8e(n,r8e),m=Ae(y,!1);this.props.direction==="x"&&p.type!=="number"&&cp(!1);var g=l.map(function(b){var w=c(b,a),x=w.x,_=w.y,S=w.value,O=w.errorVal;if(!O)return null;var $=[],T,j;if(Array.isArray(O)){var A=n8e(O,2);T=A[0],j=A[1]}else T=j=O;if(o==="vertical"){var N=p.scale,k=_+i,C=k+s,F=k-s,G=N(S-T),B=N(S+j);$.push({x1:B,y1:C,x2:B,y2:F}),$.push({x1:G,y1:k,x2:B,y2:k}),$.push({x1:G,y1:C,x2:G,y2:F})}else if(o==="horizontal"){var W=h.scale,K=x+i,ee=K-s,V=K+s,Q=W(S-T),oe=W(S+j);$.push({x1:ee,y1:oe,x2:V,y2:oe}),$.push({x1:K,y1:Q,x2:K,y2:oe}),$.push({x1:ee,y1:Q,x2:V,y2:Q})}return L.createElement(ft,P2({className:"recharts-errorBar",key:"bar-".concat($.map(function(fe){return"".concat(fe.x1,"-").concat(fe.x2,"-").concat(fe.y1,"-").concat(fe.y2)}))},m),$.map(function(fe){return L.createElement("line",P2({},fe,{key:"line-".concat(fe.x1,"-").concat(fe.x2,"-").concat(fe.y1,"-").concat(fe.y2)}))}))});return L.createElement(ft,{className:"recharts-errorBars"},g)}}])}(L.Component);ete(K$,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});ete(K$,"displayName","ErrorBar");function gv(e){"@babel/helpers - typeof";return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gv(e)}function O7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O7(Object(r),!0).forEach(function(n){g8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g8e(e,t,r){return t=v8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v8e(e){var t=b8e(e,"string");return gv(t)=="symbol"?t:t+""}function b8e(e,t){if(gv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rte=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,o=t.legendContent,s=Ci(r,Ld);if(!s)return null;var a=Ld.defaultProps,l=a!==void 0?Ic(Ic({},a),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:o==="children"?c=(n||[]).reduce(function(p,h){var y=h.item,m=h.props,g=m.sectors||m.data||[];return p.concat(g.map(function(b){return{type:s.props.iconType||y.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):c=(n||[]).map(function(p){var h=p.item,y=h.type.defaultProps,m=y!==void 0?Ic(Ic({},y),h.props):{},g=m.dataKey,b=m.name,w=m.legendType,x=m.hide;return{inactive:x,dataKey:g,type:l.iconType||w||"square",color:i4(h),value:b||g,payload:m}}),Ic(Ic(Ic({},l),Ld.getWithHeight(s,i)),{},{payload:c,item:s})};function vv(e){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vv(e)}function E7(e){return _8e(e)||S8e(e)||x8e(e)||w8e()}function w8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x8e(e,t){if(e){if(typeof e=="string")return ON(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ON(e,t)}}function S8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _8e(e){if(Array.isArray(e))return ON(e)}function ON(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function j7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j7(Object(r),!0).forEach(function(n){wh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wh(e,t,r){return t=$8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $8e(e){var t=T8e(e,"string");return vv(t)=="symbol"?t:t+""}function T8e(e,t){if(vv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cn(e,t,r){return qe(e)||qe(t)?r:Ur(t)?Gi(e,t,r):Ce(t)?t(e):r}function cg(e,t,r,n){var i=_6e(e,function(a){return Cn(a,t)});if(r==="number"){var o=i.filter(function(a){return le(a)||parseFloat(a)});return o.length?[W$(o),G$(o)]:[1/0,-1/0]}var s=n?i.filter(function(a){return!qe(a)}):i;return s.map(function(a){return Ur(a)||a instanceof Date?a:""})}var O8e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(r=n?.length)!==null&&r!==void 0?r:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<a;c++){var p=c>0?i[c-1].coordinate:i[a-1].coordinate,h=i[c].coordinate,y=c>=a-1?i[0].coordinate:i[c+1].coordinate,m=void 0;if(Hn(h-p)!==Hn(y-h)){var g=[];if(Hn(y-h)===Hn(l[1]-l[0])){m=y;var b=h+l[1]-l[0];g[0]=Math.min(b,(b+p)/2),g[1]=Math.max(b,(b+p)/2)}else{m=p;var w=y+l[1]-l[0];g[0]=Math.min(h,(w+h)/2),g[1]=Math.max(h,(w+h)/2)}var x=[Math.min(h,(m+h)/2),Math.max(h,(m+h)/2)];if(t>x[0]&&t<=x[1]||t>=g[0]&&t<=g[1]){s=i[c].index;break}}else{var _=Math.min(p,y),S=Math.max(p,y);if(t>(_+h)/2&&t<=(S+h)/2){s=i[c].index;break}}}else for(var O=0;O<a;O++)if(O===0&&t<=(n[O].coordinate+n[O+1].coordinate)/2||O>0&&O<a-1&&t>(n[O].coordinate+n[O-1].coordinate)/2&&t<=(n[O].coordinate+n[O+1].coordinate)/2||O===a-1&&t>(n[O].coordinate+n[O-1].coordinate)/2){s=n[O].index;break}return s},i4=function(t){var r,n=t,i=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?tr(tr({},t.type.defaultProps),t.props):t.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},E8e=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,c=a.length;l<c;l++)for(var p=o[a[l]].stackGroups,h=Object.keys(p),y=0,m=h.length;y<m;y++){var g=p[h[y]],b=g.items,w=g.cateAxisId,x=b.filter(function(j){return wl(j.type).indexOf("Bar")>=0});if(x&&x.length){var _=x[0].type.defaultProps,S=_!==void 0?tr(tr({},_),x[0].props):x[0].props,O=S.barSize,$=S[w];s[$]||(s[$]=[]);var T=qe(O)?r:O;s[$].push({item:x[0],stackList:x.slice(1),barSize:qe(T)?void 0:Jn(T,n,0)})}}return s},j8e=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,o=t.sizeList,s=o===void 0?[]:o,a=t.maxBarSize,l=s.length;if(l<1)return null;var c=Jn(r,i,0,!0),p,h=[];if(s[0].barSize===+s[0].barSize){var y=!1,m=i/l,g=s.reduce(function(O,$){return O+$.barSize||0},0);g+=(l-1)*c,g>=i&&(g-=(l-1)*c,c=0),g>=i&&m>0&&(y=!0,m*=.9,g=l*m);var b=(i-g)/2>>0,w={offset:b-c,size:0};p=s.reduce(function(O,$){var T={item:$.item,position:{offset:w.offset+w.size+c,size:y?m:$.barSize}},j=[].concat(E7(O),[T]);return w=j[j.length-1].position,$.stackList&&$.stackList.length&&$.stackList.forEach(function(A){j.push({item:A,position:w})}),j},h)}else{var x=Jn(n,i,0,!0);i-2*x-(l-1)*c<=0&&(c=0);var _=(i-2*x-(l-1)*c)/l;_>1&&(_>>=0);var S=a===+a?Math.min(_,a):_;p=s.reduce(function(O,$,T){var j=[].concat(E7(O),[{item:$.item,position:{offset:x+(_+c)*T+(_-S)/2,size:S}}]);return $.stackList&&$.stackList.length&&$.stackList.forEach(function(A){j.push({item:A,position:j[j.length-1].position})}),j},h)}return p},I8e=function(t,r,n,i){var o=n.children,s=n.width,a=n.margin,l=s-(a.left||0)-(a.right||0),c=rte({children:o,legendWidth:l});if(c){var p=i||{},h=p.width,y=p.height,m=c.align,g=c.verticalAlign,b=c.layout;if((b==="vertical"||b==="horizontal"&&g==="middle")&&m!=="center"&&le(t[m]))return tr(tr({},t),{},wh({},m,t[m]+(h||0)));if((b==="horizontal"||b==="vertical"&&m==="center")&&g!=="middle"&&le(t[g]))return tr(tr({},t),{},wh({},g,t[g]+(y||0)))}return t},A8e=function(t,r,n){return qe(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},nte=function(t,r,n,i,o){var s=r.props.children,a=To(s,K$).filter(function(c){return A8e(i,o,c.props.direction)});if(a&&a.length){var l=a.map(function(c){return c.props.dataKey});return t.reduce(function(c,p){var h=Cn(p,n);if(qe(h))return c;var y=Array.isArray(h)?[W$(h),G$(h)]:[h,h],m=l.reduce(function(g,b){var w=Cn(p,b,0),x=y[0]-Math.abs(Array.isArray(w)?w[0]:w),_=y[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(x,g[0]),Math.max(_,g[1])]},[1/0,-1/0]);return[Math.min(m[0],c[0]),Math.max(m[1],c[1])]},[1/0,-1/0])}return null},P8e=function(t,r,n,i,o){var s=r.map(function(a){return nte(t,a,n,o,i)}).filter(function(a){return!qe(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},ite=function(t,r,n,i,o){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&nte(t,l,c,i)||cg(t,c,n,o)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,c){for(var p=0,h=c.length;p<h;p++)a[c[p]]||(a[c[p]]=!0,l.push(c[p]));return l},[])},ote=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},ste=function(t,r,n,i){if(i)return t.map(function(l){return l.coordinate});var o,s,a=t.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(s=!0),l.coordinate});return o||a.push(r),s||a.push(n),a},gl=function(t,r,n){if(!t)return null;var i=t.scale,o=t.duplicateDomain,s=t.type,a=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&a?.length>=2?Hn(a[0]-a[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var p=(t.ticks||t.niceTicks).map(function(h){var y=o?o.indexOf(h):h;return{coordinate:i(y)+c,value:h,offset:c}});return p.filter(function(h){return!k1(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,y){return{coordinate:i(h)+c,value:h,index:y,offset:c}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(h){return{coordinate:i(h)+c,value:h,offset:c}}):i.domain().map(function(h,y){return{coordinate:i(h)+c,value:o?o[h]:h,index:y,offset:c}})},fE=new WeakMap,aw=function(t,r){if(typeof r!="function")return t;fE.has(t)||fE.set(t,new WeakMap);var n=fE.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},ate=function(t,r,n){var i=t.scale,o=t.type,s=t.layout,a=t.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:cv(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:O2(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:ug(),realScaleType:"point"}:o==="category"?{scale:cv(),realScaleType:"band"}:{scale:O2(),realScaleType:"linear"};if(sp(i)){var l="scale".concat(P$(i));return{scale:(w7[l]||ug)(),realScaleType:w7[l]?l:"point"}}return Ce(i)?{scale:i}:{scale:ug(),realScaleType:"point"}},I7=1e-4,lte=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),o=Math.min(i[0],i[1])-I7,s=Math.max(i[0],i[1])+I7,a=t(r[0]),l=t(r[n-1]);(a<o||a>s||l<o||l>s)&&t.domain([r[0],r[n-1]])}},N8e=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},M8e=function(t,r){if(!r||r.length!==2||!le(r[0])||!le(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!le(t[0])||t[0]<n)&&(o[0]=n),(!le(t[1])||t[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},C8e=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var o=0,s=0,a=0;a<r;++a){var l=k1(t[a][n][1])?t[a][n][0]:t[a][n][1];l>=0?(t[a][n][0]=o,t[a][n][1]=o+l,o=t[a][n][1]):(t[a][n][0]=s,t[a][n][1]=s+l,s=t[a][n][1])}},k8e=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var o=0,s=0;s<r;++s){var a=k1(t[s][n][1])?t[s][n][0]:t[s][n][1];a>=0?(t[s][n][0]=o,t[s][n][1]=o+a,o=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},R8e={sign:C8e,expand:iPe,none:qh,silhouette:oPe,wiggle:sPe,positive:k8e},L8e=function(t,r,n){var i=r.map(function(a){return a.props.dataKey}),o=R8e[n],s=nPe().keys(i).value(function(a,l){return+Cn(a,l,0)}).order(Y3).offset(o);return s(t)},D8e=function(t,r,n,i,o,s){if(!t)return null;var a=s?r.reverse():r,l={},c=a.reduce(function(h,y){var m,g=(m=y.type)!==null&&m!==void 0&&m.defaultProps?tr(tr({},y.type.defaultProps),y.props):y.props,b=g.stackId,w=g.hide;if(w)return h;var x=g[n],_=h[x]||{hasStack:!1,stackGroups:{}};if(Ur(b)){var S=_.stackGroups[b]||{numericAxisId:n,cateAxisId:i,items:[]};S.items.push(y),_.hasStack=!0,_.stackGroups[b]=S}else _.stackGroups[R1("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[y]};return tr(tr({},h),{},wh({},x,_))},l),p={};return Object.keys(c).reduce(function(h,y){var m=c[y];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(b,w){var x=m.stackGroups[w];return tr(tr({},b),{},wh({},w,{numericAxisId:n,cateAxisId:i,items:x.items,stackedData:L8e(t,x.items,o)}))},g)}return tr(tr({},h),{},wh({},y,m))},p)},ute=function(t,r){var n=r.realScaleType,i=r.type,o=r.tickCount,s=r.originalDomain,a=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=t.domain();if(!c.length)return null;var p=X6e(c,o,a);return t.domain([W$(p),G$(p)]),{niceTicks:p}}if(o&&i==="number"){var h=t.domain(),y=e8e(h,o,a);return{niceTicks:y}}return null},A7=function(t){var r=t.axis,n=t.ticks,i=t.offset,o=t.bandSize,s=t.entry,a=t.index;if(r.type==="category")return n[a]?n[a].coordinate+i:null;var l=Cn(s,r.dataKey,r.domain[a]);return qe(l)?null:r.scale(l)-o/2+i},F8e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},U8e=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?tr(tr({},t.type.defaultProps),t.props):t.props,o=i.stackId;if(Ur(o)){var s=r[o];if(s){var a=s.items.indexOf(t);return a>=0?s.stackedData[a]:null}}return null},z8e=function(t){return t.reduce(function(r,n){return[W$(n.concat([r[0]]).filter(le)),G$(n.concat([r[1]]).filter(le))]},[1/0,-1/0])},cte=function(t,r,n){return Object.keys(t).reduce(function(i,o){var s=t[o],a=s.stackedData,l=a.reduce(function(c,p){var h=z8e(p.slice(r,n+1));return[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},P7=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,N7=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,EN=function(t,r,n){if(Ce(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(le(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(P7.test(t[0])){var o=+P7.exec(t[0])[1];i[0]=r[0]-o}else Ce(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(le(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(N7.test(t[1])){var s=+N7.exec(t[1])[1];i[1]=r[1]+s}else Ce(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},M2=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var o=NR(r,function(h){return h.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var c=o[a],p=o[a-1];s=Math.min((c.coordinate||0)-(p.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},M7=function(t,r,n){return!t||!t.length||H$(t,Gi(n,"type.defaultProps.domain"))?r:t},dte=function(t,r){var n=t.type.defaultProps?tr(tr({},t.type.defaultProps),t.props):t.props,i=n.dataKey,o=n.name,s=n.unit,a=n.formatter,l=n.tooltipType,c=n.chartType,p=n.hide;return tr(tr({},Ae(t,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:i4(t),value:Cn(r,i),type:l,payload:r,chartType:c,hide:p})};function bv(e){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bv(e)}function C7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C7(Object(r),!0).forEach(function(n){pte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pte(e,t,r){return t=B8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B8e(e){var t=V8e(e,"string");return bv(t)=="symbol"?t:t+""}function V8e(e,t){if(bv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q8e(e,t){return J8e(e)||H8e(e,t)||W8e(e,t)||G8e()}function G8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W8e(e,t){if(e){if(typeof e=="string")return k7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k7(e,t)}}function k7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(p){c=!0,i=p}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function J8e(e){if(Array.isArray(e))return e}var C2=Math.PI/180,Z8e=function(t){return t*180/Math.PI},At=function(t,r,n,i){return{x:t+Math.cos(-C2*i)*n,y:r+Math.sin(-C2*i)*n}},fte=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},K8e=function(t,r,n,i,o){var s=t.width,a=t.height,l=t.startAngle,c=t.endAngle,p=Jn(t.cx,s,s/2),h=Jn(t.cy,a,a/2),y=fte(s,a,n),m=Jn(t.innerRadius,y,0),g=Jn(t.outerRadius,y,y*.8),b=Object.keys(r);return b.reduce(function(w,x){var _=r[x],S=_.domain,O=_.reversed,$;if(qe(_.range))i==="angleAxis"?$=[l,c]:i==="radiusAxis"&&($=[m,g]),O&&($=[$[1],$[0]]);else{$=_.range;var T=$,j=q8e(T,2);l=j[0],c=j[1]}var A=ate(_,o),N=A.realScaleType,k=A.scale;k.domain(S).range($),lte(k);var C=ute(k,tl(tl({},_),{},{realScaleType:N})),F=tl(tl(tl({},_),C),{},{range:$,radius:g,realScaleType:N,scale:k,cx:p,cy:h,innerRadius:m,outerRadius:g,startAngle:l,endAngle:c});return tl(tl({},w),{},pte({},x,F))},{})},Y8e=function(t,r){var n=t.x,i=t.y,o=r.x,s=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(i-s,2))},Q8e=function(t,r){var n=t.x,i=t.y,o=r.cx,s=r.cy,a=Y8e({x:n,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(n-o)/a,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:a,angle:Z8e(c),angleInRadian:c}},X8e=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),o=Math.floor(n/360),s=Math.min(i,o);return{startAngle:r-s*360,endAngle:n-s*360}},e9e=function(t,r){var n=r.startAngle,i=r.endAngle,o=Math.floor(n/360),s=Math.floor(i/360),a=Math.min(o,s);return t+a*360},R7=function(t,r){var n=t.x,i=t.y,o=Q8e({x:n,y:i},r),s=o.radius,a=o.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var p=X8e(r),h=p.startAngle,y=p.endAngle,m=a,g;if(h<=y){for(;m>y;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=y}else{for(;m>h;)m-=360;for(;m<y;)m+=360;g=m>=y&&m<=h}return g?tl(tl({},r),{},{radius:s,angle:e9e(m,r)}):null},hte=function(t){return!M.isValidElement(t)&&!Ce(t)&&typeof t!="boolean"?t.className:""};function wv(e){"@babel/helpers - typeof";return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wv(e)}var t9e=["offset"];function r9e(e){return s9e(e)||o9e(e)||i9e(e)||n9e()}function n9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i9e(e,t){if(e){if(typeof e=="string")return jN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jN(e,t)}}function o9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function s9e(e){if(Array.isArray(e))return jN(e)}function jN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a9e(e,t){if(e==null)return{};var r=l9e(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l9e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function L7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L7(Object(r),!0).forEach(function(n){u9e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u9e(e,t,r){return t=c9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c9e(e){var t=d9e(e,"string");return wv(t)=="symbol"?t:t+""}function d9e(e,t){if(wv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xv(){return xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xv.apply(this,arguments)}var p9e=function(t){var r=t.value,n=t.formatter,i=qe(t.children)?r:t.children;return Ce(n)?n(i):i},f9e=function(t,r){var n=Hn(r-t),i=Math.min(Math.abs(r-t),360);return n*i},h9e=function(t,r,n){var i=t.position,o=t.viewBox,s=t.offset,a=t.className,l=o,c=l.cx,p=l.cy,h=l.innerRadius,y=l.outerRadius,m=l.startAngle,g=l.endAngle,b=l.clockWise,w=(h+y)/2,x=f9e(m,g),_=x>=0?1:-1,S,O;i==="insideStart"?(S=m+_*s,O=b):i==="insideEnd"?(S=g-_*s,O=!b):i==="end"&&(S=g+_*s,O=b),O=x<=0?O:!O;var $=At(c,p,w,S),T=At(c,p,w,S+(O?1:-1)*359),j="M".concat($.x,",").concat($.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(O?0:1,`,
    `).concat(T.x,",").concat(T.y),A=qe(t.id)?R1("recharts-radial-line-"):t.id;return L.createElement("text",xv({},n,{dominantBaseline:"central",className:Be("recharts-radial-bar-label",a)}),L.createElement("defs",null,L.createElement("path",{id:A,d:j})),L.createElement("textPath",{xlinkHref:"#".concat(A)},r))},y9e=function(t){var r=t.viewBox,n=t.offset,i=t.position,o=r,s=o.cx,a=o.cy,l=o.innerRadius,c=o.outerRadius,p=o.startAngle,h=o.endAngle,y=(p+h)/2;if(i==="outside"){var m=At(s,a,c+n,y),g=m.x,b=m.y;return{x:g,y:b,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var w=(l+c)/2,x=At(s,a,w,y),_=x.x,S=x.y;return{x:_,y:S,textAnchor:"middle",verticalAnchor:"middle"}},m9e=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,o=t.position,s=r,a=s.x,l=s.y,c=s.width,p=s.height,h=p>=0?1:-1,y=h*i,m=h>0?"end":"start",g=h>0?"start":"end",b=c>=0?1:-1,w=b*i,x=b>0?"end":"start",_=b>0?"start":"end";if(o==="top"){var S={x:a+c/2,y:l-h*i,textAnchor:"middle",verticalAnchor:m};return Nr(Nr({},S),n?{height:Math.max(l-n.y,0),width:c}:{})}if(o==="bottom"){var O={x:a+c/2,y:l+p+y,textAnchor:"middle",verticalAnchor:g};return Nr(Nr({},O),n?{height:Math.max(n.y+n.height-(l+p),0),width:c}:{})}if(o==="left"){var $={x:a-w,y:l+p/2,textAnchor:x,verticalAnchor:"middle"};return Nr(Nr({},$),n?{width:Math.max($.x-n.x,0),height:p}:{})}if(o==="right"){var T={x:a+c+w,y:l+p/2,textAnchor:_,verticalAnchor:"middle"};return Nr(Nr({},T),n?{width:Math.max(n.x+n.width-T.x,0),height:p}:{})}var j=n?{width:c,height:p}:{};return o==="insideLeft"?Nr({x:a+w,y:l+p/2,textAnchor:_,verticalAnchor:"middle"},j):o==="insideRight"?Nr({x:a+c-w,y:l+p/2,textAnchor:x,verticalAnchor:"middle"},j):o==="insideTop"?Nr({x:a+c/2,y:l+y,textAnchor:"middle",verticalAnchor:g},j):o==="insideBottom"?Nr({x:a+c/2,y:l+p-y,textAnchor:"middle",verticalAnchor:m},j):o==="insideTopLeft"?Nr({x:a+w,y:l+y,textAnchor:_,verticalAnchor:g},j):o==="insideTopRight"?Nr({x:a+c-w,y:l+y,textAnchor:x,verticalAnchor:g},j):o==="insideBottomLeft"?Nr({x:a+w,y:l+p-y,textAnchor:_,verticalAnchor:m},j):o==="insideBottomRight"?Nr({x:a+c-w,y:l+p-y,textAnchor:x,verticalAnchor:m},j):Uy(o)&&(le(o.x)||Ed(o.x))&&(le(o.y)||Ed(o.y))?Nr({x:a+Jn(o.x,c),y:l+Jn(o.y,p),textAnchor:"end",verticalAnchor:"end"},j):Nr({x:a+c/2,y:l+p/2,textAnchor:"middle",verticalAnchor:"middle"},j)},g9e=function(t){return"cx"in t&&le(t.cx)};function Qr(e){var t=e.offset,r=t===void 0?5:t,n=a9e(e,t9e),i=Nr({offset:r},n),o=i.viewBox,s=i.position,a=i.value,l=i.children,c=i.content,p=i.className,h=p===void 0?"":p,y=i.textBreakAll;if(!o||qe(a)&&qe(l)&&!M.isValidElement(c)&&!Ce(c))return null;if(M.isValidElement(c))return M.cloneElement(c,i);var m;if(Ce(c)){if(m=M.createElement(c,i),M.isValidElement(m))return m}else m=p9e(i);var g=g9e(o),b=Ae(i,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return h9e(i,m,b);var w=g?y9e(i):m9e(i);return L.createElement(lp,xv({className:Be("recharts-label",h)},b,w,{breakAll:y}),m)}Qr.displayName="Label";var yte=function(t){var r=t.cx,n=t.cy,i=t.angle,o=t.startAngle,s=t.endAngle,a=t.r,l=t.radius,c=t.innerRadius,p=t.outerRadius,h=t.x,y=t.y,m=t.top,g=t.left,b=t.width,w=t.height,x=t.clockWise,_=t.labelViewBox;if(_)return _;if(le(b)&&le(w)){if(le(h)&&le(y))return{x:h,y,width:b,height:w};if(le(m)&&le(g))return{x:m,y:g,width:b,height:w}}return le(h)&&le(y)?{x:h,y,width:0,height:0}:le(r)&&le(n)?{cx:r,cy:n,startAngle:o||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:p||l||a||0,clockWise:x}:t.viewBox?t.viewBox:{}},v9e=function(t,r){return t?t===!0?L.createElement(Qr,{key:"label-implicit",viewBox:r}):Ur(t)?L.createElement(Qr,{key:"label-implicit",viewBox:r,value:t}):M.isValidElement(t)?t.type===Qr?M.cloneElement(t,{key:"label-implicit",viewBox:r}):L.createElement(Qr,{key:"label-implicit",content:t,viewBox:r}):Ce(t)?L.createElement(Qr,{key:"label-implicit",content:t,viewBox:r}):Uy(t)?L.createElement(Qr,xv({viewBox:r},t,{key:"label-implicit"})):null:null},b9e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,o=yte(t),s=To(i,Qr).map(function(l,c){return M.cloneElement(l,{viewBox:r||o,key:"label-".concat(c)})});if(!n)return s;var a=v9e(t.label,r||o);return[a].concat(r9e(s))};Qr.parseViewBox=yte;Qr.renderCallByParent=b9e;function w9e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var x9e=w9e;const S9e=yt(x9e);function Sv(e){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sv(e)}var _9e=["valueAccessor"],$9e=["data","dataKey","clockWise","id","textBreakAll"];function T9e(e){return I9e(e)||j9e(e)||E9e(e)||O9e()}function O9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E9e(e,t){if(e){if(typeof e=="string")return IN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IN(e,t)}}function j9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function I9e(e){if(Array.isArray(e))return IN(e)}function IN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k2(){return k2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k2.apply(this,arguments)}function D7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function F7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D7(Object(r),!0).forEach(function(n){A9e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A9e(e,t,r){return t=P9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P9e(e){var t=N9e(e,"string");return Sv(t)=="symbol"?t:t+""}function N9e(e,t){if(Sv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U7(e,t){if(e==null)return{};var r=M9e(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function M9e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var C9e=function(t){return Array.isArray(t.value)?S9e(t.value):t.value};function Qu(e){var t=e.valueAccessor,r=t===void 0?C9e:t,n=U7(e,_9e),i=n.data,o=n.dataKey,s=n.clockWise,a=n.id,l=n.textBreakAll,c=U7(n,$9e);return!i||!i.length?null:L.createElement(ft,{className:"recharts-label-list"},i.map(function(p,h){var y=qe(o)?r(p,h):Cn(p&&p.payload,o),m=qe(a)?{}:{id:"".concat(a,"-").concat(h)};return L.createElement(Qr,k2({},Ae(p,!0),c,m,{parentViewBox:p.parentViewBox,value:y,textBreakAll:l,viewBox:Qr.parseViewBox(qe(s)?p:F7(F7({},p),{},{clockWise:s})),key:"label-".concat(h),index:h}))}))}Qu.displayName="LabelList";function k9e(e,t){return e?e===!0?L.createElement(Qu,{key:"labelList-implicit",data:t}):L.isValidElement(e)||Ce(e)?L.createElement(Qu,{key:"labelList-implicit",data:t,content:e}):Uy(e)?L.createElement(Qu,k2({data:t},e,{key:"labelList-implicit"})):null:null}function R9e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=To(n,Qu).map(function(s,a){return M.cloneElement(s,{data:t,key:"labelList-".concat(a)})});if(!r)return i;var o=k9e(e.label,t);return[o].concat(T9e(i))}Qu.renderCallByParent=R9e;function _v(e){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_v(e)}function AN(){return AN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AN.apply(this,arguments)}function z7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function B7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z7(Object(r),!0).forEach(function(n){L9e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L9e(e,t,r){return t=D9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D9e(e){var t=F9e(e,"string");return _v(t)=="symbol"?t:t+""}function F9e(e,t){if(_v(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U9e=function(t,r){var n=Hn(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},lw=function(t){var r=t.cx,n=t.cy,i=t.radius,o=t.angle,s=t.sign,a=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,p=l*(a?1:-1)+i,h=Math.asin(l/p)/C2,y=c?o:o+s*h,m=At(r,n,p,y),g=At(r,n,i,y),b=c?o-s*h:o,w=At(r,n,p*Math.cos(h*C2),b);return{center:m,circleTangency:g,lineTangency:w,theta:h}},mte=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,o=t.outerRadius,s=t.startAngle,a=t.endAngle,l=U9e(s,a),c=s+l,p=At(r,n,o,s),h=At(r,n,o,c),y="M ".concat(p.x,",").concat(p.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var m=At(r,n,i,s),g=At(r,n,i,c);y+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else y+="L ".concat(r,",").concat(n," Z");return y},z9e=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,o=t.outerRadius,s=t.cornerRadius,a=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,p=t.endAngle,h=Hn(p-c),y=lw({cx:r,cy:n,radius:o,angle:c,sign:h,cornerRadius:s,cornerIsExternal:l}),m=y.circleTangency,g=y.lineTangency,b=y.theta,w=lw({cx:r,cy:n,radius:o,angle:p,sign:-h,cornerRadius:s,cornerIsExternal:l}),x=w.circleTangency,_=w.lineTangency,S=w.theta,O=l?Math.abs(c-p):Math.abs(c-p)-b-S;if(O<0)return a?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):mte({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:c,endAngle:p});var $="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(O>180),",").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var T=lw({cx:r,cy:n,radius:i,angle:c,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),j=T.circleTangency,A=T.lineTangency,N=T.theta,k=lw({cx:r,cy:n,radius:i,angle:p,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),C=k.circleTangency,F=k.lineTangency,G=k.theta,B=l?Math.abs(c-p):Math.abs(c-p)-N-G;if(B<0&&s===0)return"".concat($,"L").concat(r,",").concat(n,"Z");$+="L".concat(F.x,",").concat(F.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(B>180),",").concat(+(h>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(A.x,",").concat(A.y,"Z")}else $+="L".concat(r,",").concat(n,"Z");return $},B9e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},gte=function(t){var r=B7(B7({},B9e),t),n=r.cx,i=r.cy,o=r.innerRadius,s=r.outerRadius,a=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,p=r.startAngle,h=r.endAngle,y=r.className;if(s<o||p===h)return null;var m=Be("recharts-sector",y),g=s-o,b=Jn(a,g,0,!0),w;return b>0&&Math.abs(p-h)<360?w=z9e({cx:n,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(b,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:p,endAngle:h}):w=mte({cx:n,cy:i,innerRadius:o,outerRadius:s,startAngle:p,endAngle:h}),L.createElement("path",AN({},Ae(r,!0),{className:m,d:w,role:"img"}))};function $v(e){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$v(e)}function PN(){return PN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PN.apply(this,arguments)}function V7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function q7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V7(Object(r),!0).forEach(function(n){V9e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V9e(e,t,r){return t=q9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q9e(e){var t=G9e(e,"string");return $v(t)=="symbol"?t:t+""}function G9e(e,t){if($v(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G7={curveBasisClosed:WAe,curveBasisOpen:HAe,curveBasis:GAe,curveBumpX:PAe,curveBumpY:NAe,curveLinearClosed:JAe,curveLinear:M$,curveMonotoneX:ZAe,curveMonotoneY:KAe,curveNatural:YAe,curveStep:QAe,curveStepAfter:ePe,curveStepBefore:XAe},uw=function(t){return t.x===+t.x&&t.y===+t.y},jm=function(t){return t.x},Im=function(t){return t.y},W9e=function(t,r){if(Ce(t))return t;var n="curve".concat(P$(t));return(n==="curveMonotone"||n==="curveBump")&&r?G7["".concat(n).concat(r==="vertical"?"Y":"X")]:G7[n]||M$},H9e=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,o=i===void 0?[]:i,s=t.baseLine,a=t.layout,l=t.connectNulls,c=l===void 0?!1:l,p=W9e(n,a),h=c?o.filter(function(b){return uw(b)}):o,y;if(Array.isArray(s)){var m=c?s.filter(function(b){return uw(b)}):s,g=h.map(function(b,w){return q7(q7({},b),{},{base:m[w]})});return a==="vertical"?y=Xb().y(Im).x1(jm).x0(function(b){return b.base.x}):y=Xb().x(jm).y1(Im).y0(function(b){return b.base.y}),y.defined(uw).curve(p),y(g)}return a==="vertical"&&le(s)?y=Xb().y(Im).x1(jm).x0(s):le(s)?y=Xb().x(jm).y1(Im).y0(s):y=dX().x(jm).y(Im),y.defined(uw).curve(p),y(h)},NN=function(t){var r=t.className,n=t.points,i=t.path,o=t.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?H9e(t):i;return M.createElement("path",PN({},Ae(t,!1),s2(t),{className:Be("recharts-curve",r),d:s,ref:o}))},vte={exports:{}},J9e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Z9e=J9e,K9e=Z9e;function bte(){}function wte(){}wte.resetWarningCache=bte;var Y9e=function(){function e(n,i,o,s,a,l){if(l!==K9e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:wte,resetWarningCache:bte};return r.PropTypes=r,r};vte.exports=Y9e();var Q9e=vte.exports;const ot=yt(Q9e);var X9e=Object.getOwnPropertyNames,eUe=Object.getOwnPropertySymbols,tUe=Object.prototype.hasOwnProperty;function W7(e,t){return function(n,i,o){return e(n,i,o)&&t(n,i,o)}}function cw(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var o=i.cache,s=o.get(r),a=o.get(n);if(s&&a)return s===n&&a===r;o.set(r,n),o.set(n,r);var l=e(r,n,i);return o.delete(r),o.delete(n),l}}function H7(e){return X9e(e).concat(eUe(e))}var rUe=Object.hasOwn||function(e,t){return tUe.call(e,t)};function _p(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var nUe="__v",iUe="__o",oUe="_owner",J7=Object.getOwnPropertyDescriptor,Z7=Object.keys;function sUe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function aUe(e,t){return _p(e.getTime(),t.getTime())}function lUe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function uUe(e,t){return e===t}function K7(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),o=e.entries(),s,a,l=0;(s=o.next())&&!s.done;){for(var c=t.entries(),p=!1,h=0;(a=c.next())&&!a.done;){if(i[h]){h++;continue}var y=s.value,m=a.value;if(r.equals(y[0],m[0],l,h,e,t,r)&&r.equals(y[1],m[1],y[0],m[0],e,t,r)){p=i[h]=!0;break}h++}if(!p)return!1;l++}return!0}var cUe=_p;function dUe(e,t,r){var n=Z7(e),i=n.length;if(Z7(t).length!==i)return!1;for(;i-- >0;)if(!xte(e,t,r,n[i]))return!1;return!0}function Am(e,t,r){var n=H7(e),i=n.length;if(H7(t).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=n[i],!xte(e,t,r,o)||(s=J7(e,o),a=J7(t,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function pUe(e,t){return _p(e.valueOf(),t.valueOf())}function fUe(e,t){return e.source===t.source&&e.flags===t.flags}function Y7(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),o=e.values(),s,a;(s=o.next())&&!s.done;){for(var l=t.values(),c=!1,p=0;(a=l.next())&&!a.done;){if(!i[p]&&r.equals(s.value,a.value,s.value,a.value,e,t,r)){c=i[p]=!0;break}p++}if(!c)return!1}return!0}function hUe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function yUe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function xte(e,t,r,n){return(n===oUe||n===iUe||n===nUe)&&(e.$$typeof||t.$$typeof)?!0:rUe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var mUe="[object Arguments]",gUe="[object Boolean]",vUe="[object Date]",bUe="[object Error]",wUe="[object Map]",xUe="[object Number]",SUe="[object Object]",_Ue="[object RegExp]",$Ue="[object Set]",TUe="[object String]",OUe="[object URL]",EUe=Array.isArray,Q7=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,X7=Object.assign,jUe=Object.prototype.toString.call.bind(Object.prototype.toString);function IUe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,o=e.areMapsEqual,s=e.areNumbersEqual,a=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,p=e.areSetsEqual,h=e.areTypedArraysEqual,y=e.areUrlsEqual;return function(g,b,w){if(g===b)return!0;if(g==null||b==null)return!1;var x=typeof g;if(x!==typeof b)return!1;if(x!=="object")return x==="number"?s(g,b,w):x==="function"?i(g,b,w):!1;var _=g.constructor;if(_!==b.constructor)return!1;if(_===Object)return a(g,b,w);if(EUe(g))return t(g,b,w);if(Q7!=null&&Q7(g))return h(g,b,w);if(_===Date)return r(g,b,w);if(_===RegExp)return c(g,b,w);if(_===Map)return o(g,b,w);if(_===Set)return p(g,b,w);var S=jUe(g);return S===vUe?r(g,b,w):S===_Ue?c(g,b,w):S===wUe?o(g,b,w):S===$Ue?p(g,b,w):S===SUe?typeof g.then!="function"&&typeof b.then!="function"&&a(g,b,w):S===OUe?y(g,b,w):S===bUe?n(g,b,w):S===mUe?a(g,b,w):S===gUe||S===xUe||S===TUe?l(g,b,w):!1}}function AUe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?Am:sUe,areDatesEqual:aUe,areErrorsEqual:lUe,areFunctionsEqual:uUe,areMapsEqual:n?W7(K7,Am):K7,areNumbersEqual:cUe,areObjectsEqual:n?Am:dUe,arePrimitiveWrappersEqual:pUe,areRegExpsEqual:fUe,areSetsEqual:n?W7(Y7,Am):Y7,areTypedArraysEqual:n?Am:hUe,areUrlsEqual:yUe};if(r&&(i=X7({},i,r(i))),t){var o=cw(i.areArraysEqual),s=cw(i.areMapsEqual),a=cw(i.areObjectsEqual),l=cw(i.areSetsEqual);i=X7({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:l})}return i}function PUe(e){return function(t,r,n,i,o,s,a){return e(t,r,a)}}function NUe(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,o=e.strict;if(n)return function(l,c){var p=n(),h=p.cache,y=h===void 0?t?new WeakMap:void 0:h,m=p.meta;return r(l,c,{cache:y,equals:i,meta:m,strict:o})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,c){return r(l,c,s)}}var MUe=_c();_c({strict:!0});_c({circular:!0});_c({circular:!0,strict:!0});_c({createInternalComparator:function(){return _p}});_c({strict:!0,createInternalComparator:function(){return _p}});_c({circular:!0,createInternalComparator:function(){return _p}});_c({circular:!0,createInternalComparator:function(){return _p},strict:!0});function _c(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,o=e.strict,s=o===void 0?!1:o,a=AUe(e),l=IUe(a),c=n?n(l):PUe(l);return NUe({circular:r,comparator:l,createState:i,equals:c,strict:s})}function CUe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function ez(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>t?(e(o),r=-1):CUe(i)};requestAnimationFrame(n)}function MN(e){"@babel/helpers - typeof";return MN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},MN(e)}function kUe(e){return FUe(e)||DUe(e)||LUe(e)||RUe()}function RUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LUe(e,t){if(e){if(typeof e=="string")return tz(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tz(e,t)}}function tz(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FUe(e){if(Array.isArray(e))return e}function UUe(){var e={},t=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,a=kUe(s),l=a[0],c=a.slice(1);if(typeof l=="number"){ez(i.bind(null,c),l);return}i(l),ez(i.bind(null,c));return}MN(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function Tv(e){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tv(e)}function rz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rz(Object(r),!0).forEach(function(n){Ste(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ste(e,t,r){return t=zUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zUe(e){var t=BUe(e,"string");return Tv(t)==="symbol"?t:String(t)}function BUe(e,t){if(Tv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VUe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},qUe=function(t){return t},GUe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},dg=function(t,r){return Object.keys(r).reduce(function(n,i){return nz(nz({},n),{},Ste({},i,t(i,r[i])))},{})},iz=function(t,r,n){return t.map(function(i){return"".concat(GUe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function WUe(e,t){return ZUe(e)||JUe(e,t)||_te(e,t)||HUe()}function HUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JUe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(p){c=!0,i=p}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function ZUe(e){if(Array.isArray(e))return e}function KUe(e){return XUe(e)||QUe(e)||_te(e)||YUe()}function YUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _te(e,t){if(e){if(typeof e=="string")return CN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CN(e,t)}}function QUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XUe(e){if(Array.isArray(e))return CN(e)}function CN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var R2=1e-4,$te=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},Tte=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},oz=function(t,r){return function(n){var i=$te(t,r);return Tte(i,n)}},e7e=function(t,r){return function(n){var i=$te(t,r),o=[].concat(KUe(i.map(function(s,a){return s*a}).slice(1)),[0]);return Tte(o,n)}},sz=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],o=r[1],s=r[2],a=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),p=WUe(c,4);i=p[0],o=p[1],s=p[2],a=p[3]}}}var h=oz(i,s),y=oz(o,a),m=e7e(i,s),g=function(x){return x>1?1:x<0?0:x},b=function(x){for(var _=x>1?1:x,S=_,O=0;O<8;++O){var $=h(S)-_,T=m(S);if(Math.abs($-_)<R2||T<R2)return y(S);S=g(S-$/T)}return y(S)};return b.isStepper=!1,b},t7e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,o=i===void 0?8:i,s=t.dt,a=s===void 0?17:s,l=function(p,h,y){var m=-(p-h)*n,g=y*o,b=y+(m-g)*a/1e3,w=y*a/1e3+p;return Math.abs(w-h)<R2&&Math.abs(b)<R2?[h,0]:[w,b]};return l.isStepper=!0,l.dt=a,l},r7e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return sz(i);case"spring":return t7e();default:if(i.split("(")[0]==="cubic-bezier")return sz(i)}return typeof i=="function"?i:null};function Ov(e){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ov(e)}function az(e){return o7e(e)||i7e(e)||Ote(e)||n7e()}function n7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function o7e(e){if(Array.isArray(e))return RN(e)}function lz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lz(Object(r),!0).forEach(function(n){kN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kN(e,t,r){return t=s7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s7e(e){var t=a7e(e,"string");return Ov(t)==="symbol"?t:String(t)}function a7e(e,t){if(Ov(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ov(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l7e(e,t){return d7e(e)||c7e(e,t)||Ote(e,t)||u7e()}function u7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ote(e,t){if(e){if(typeof e=="string")return RN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RN(e,t)}}function RN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c7e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(p){c=!0,i=p}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function d7e(e){if(Array.isArray(e))return e}var L2=function(t,r,n){return t+(r-t)*n},LN=function(t){var r=t.from,n=t.to;return r!==n},p7e=function e(t,r,n){var i=dg(function(o,s){if(LN(s)){var a=t(s.from,s.to,s.velocity),l=l7e(a,2),c=l[0],p=l[1];return sn(sn({},s),{},{from:c,velocity:p})}return s},r);return n<1?dg(function(o,s){return LN(s)?sn(sn({},s),{},{velocity:L2(s.velocity,i[o].velocity,n),from:L2(s.from,i[o].from,n)}):s},r):e(t,i,n-1)};const f7e=function(e,t,r,n,i){var o=VUe(e,t),s=o.reduce(function(w,x){return sn(sn({},w),{},kN({},x,[e[x],t[x]]))},{}),a=o.reduce(function(w,x){return sn(sn({},w),{},kN({},x,{from:e[x],velocity:0,to:t[x]}))},{}),l=-1,c,p,h=function(){return null},y=function(){return dg(function(x,_){return _.from},a)},m=function(){return!Object.values(a).filter(LN).length},g=function(x){c||(c=x);var _=x-c,S=_/r.dt;a=p7e(r,a,S),i(sn(sn(sn({},e),t),y())),c=x,m()||(l=requestAnimationFrame(h))},b=function(x){p||(p=x);var _=(x-p)/n,S=dg(function($,T){return L2.apply(void 0,az(T).concat([r(_)]))},s);if(i(sn(sn(sn({},e),t),S)),_<1)l=requestAnimationFrame(h);else{var O=dg(function($,T){return L2.apply(void 0,az(T).concat([r(1)]))},s);i(sn(sn(sn({},e),t),O))}};return h=r.isStepper?g:b,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(l)}}};function Xh(e){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(e)}var h7e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function y7e(e,t){if(e==null)return{};var r=m7e(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function m7e(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function hE(e){return w7e(e)||b7e(e)||v7e(e)||g7e()}function g7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v7e(e,t){if(e){if(typeof e=="string")return DN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DN(e,t)}}function b7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function w7e(e){if(Array.isArray(e))return DN(e)}function DN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uz(Object(r),!0).forEach(function(n){j0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j0(e,t,r){return t=Ete(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ete(n.key),n)}}function S7e(e,t,r){return t&&cz(e.prototype,t),r&&cz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ete(e){var t=_7e(e,"string");return Xh(t)==="symbol"?t:String(t)}function _7e(e,t){if(Xh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FN(e,t)}function FN(e,t){return FN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},FN(e,t)}function T7e(e){var t=O7e();return function(){var n=D2(e),i;if(t){var o=D2(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return UN(this,i)}}function UN(e,t){if(t&&(Xh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zN(e)}function zN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O7e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function D2(e){return D2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},D2(e)}var Y$=function(e){$7e(r,e);var t=T7e(r);function r(n,i){var o;x7e(this,r),o=t.call(this,n,i);var s=o.props,a=s.isActive,l=s.attributeName,c=s.from,p=s.to,h=s.steps,y=s.children,m=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(zN(o)),o.changeStyle=o.changeStyle.bind(zN(o)),!a||m<=0)return o.state={style:{}},typeof y=="function"&&(o.state={style:p}),UN(o);if(h&&h.length)o.state={style:h[0].style};else if(c){if(typeof y=="function")return o.state={style:c},UN(o);o.state={style:l?j0({},l,c):c}}else o.state={style:{}};return o}return S7e(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,p=o.to,h=o.from,y=this.state.style;if(a){if(!s){var m={style:l?j0({},l,p):p};this.state&&y&&(l&&y[l]!==p||!l&&y!==p)&&this.setState(m);return}if(!(MUe(i.to,p)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=g||c?h:i.to;if(this.state&&y){var w={style:l?j0({},l,b):b};(l&&y[l]!==b||!l&&y!==b)&&this.setState(w)}this.runAnimation(Uo(Uo({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,c=i.easing,p=i.begin,h=i.onAnimationEnd,y=i.onAnimationStart,m=f7e(s,a,r7e(c),l,this.changeStyle),g=function(){o.stopJSAnimation=m()};this.manager.start([y,p,g,l,h])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,c=s[0],p=c.style,h=c.duration,y=h===void 0?0:h,m=function(b,w,x){if(x===0)return b;var _=w.duration,S=w.easing,O=S===void 0?"ease":S,$=w.style,T=w.properties,j=w.onAnimationEnd,A=x>0?s[x-1]:w,N=T||Object.keys($);if(typeof O=="function"||O==="spring")return[].concat(hE(b),[o.runJSAnimation.bind(o,{from:A.style,to:$,duration:_,easing:O}),_]);var k=iz(N,_,O),C=Uo(Uo(Uo({},A.style),$),{},{transition:k});return[].concat(hE(b),[C,_,j]).filter(qUe)};return this.manager.start([l].concat(hE(s.reduce(m,[p,Math.max(y,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=UUe());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,c=i.easing,p=i.onAnimationStart,h=i.onAnimationEnd,y=i.steps,m=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof m=="function"||c==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var b=a?j0({},a,l):l,w=iz(Object.keys(b),s,c);g.start([p,o,Uo(Uo({},b),{},{transition:w}),s,h])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=y7e(i,h7e),c=M.Children.count(o),p=this.state.style;if(typeof o=="function")return o(p);if(!a||c===0||s<=0)return o;var h=function(m){var g=m.props,b=g.style,w=b===void 0?{}:b,x=g.className,_=M.cloneElement(m,Uo(Uo({},l),{},{style:Uo(Uo({},w),p),className:x}));return _};return c===1?h(M.Children.only(o)):L.createElement("div",null,M.Children.map(o,function(y){return h(y)}))}}]),r}(M.PureComponent);Y$.displayName="Animate";Y$.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Y$.propTypes={from:ot.oneOfType([ot.object,ot.string]),to:ot.oneOfType([ot.object,ot.string]),attributeName:ot.string,duration:ot.number,begin:ot.number,easing:ot.oneOfType([ot.string,ot.func]),steps:ot.arrayOf(ot.shape({duration:ot.number.isRequired,style:ot.object.isRequired,easing:ot.oneOfType([ot.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ot.func]),properties:ot.arrayOf("string"),onAnimationEnd:ot.func})),children:ot.oneOfType([ot.node,ot.func]),isActive:ot.bool,canBegin:ot.bool,onAnimationEnd:ot.func,shouldReAnimate:ot.bool,onAnimationStart:ot.func,onAnimationReStart:ot.func};const ey=Y$;function Ev(e){"@babel/helpers - typeof";return Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ev(e)}function F2(){return F2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F2.apply(this,arguments)}function E7e(e,t){return P7e(e)||A7e(e,t)||I7e(e,t)||j7e()}function j7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I7e(e,t){if(e){if(typeof e=="string")return dz(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dz(e,t)}}function dz(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A7e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(p){c=!0,i=p}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function P7e(e){if(Array.isArray(e))return e}function pz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pz(Object(r),!0).forEach(function(n){N7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N7e(e,t,r){return t=M7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M7e(e){var t=C7e(e,"string");return Ev(t)=="symbol"?t:t+""}function C7e(e,t){if(Ev(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hz=function(t,r,n,i,o){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),a=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,p;if(s>0&&o instanceof Array){for(var h=[0,0,0,0],y=0,m=4;y<m;y++)h[y]=o[y]>s?s:o[y];p="M".concat(t,",").concat(r+a*h[0]),h[0]>0&&(p+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(t+l*h[0],",").concat(r)),p+="L ".concat(t+n-l*h[1],",").concat(r),h[1]>0&&(p+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+a*h[1])),p+="L ".concat(t+n,",").concat(r+i-a*h[2]),h[2]>0&&(p+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(t+n-l*h[2],",").concat(r+i)),p+="L ".concat(t+l*h[3],",").concat(r+i),h[3]>0&&(p+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+i-a*h[3])),p+="Z"}else if(s>0&&o===+o&&o>0){var g=Math.min(s,o);p="M ".concat(t,",").concat(r+a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+l*g,",").concat(r,`
            L `).concat(t+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n,",").concat(r+a*g,`
            L `).concat(t+n,",").concat(r+i-a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n-l*g,",").concat(r+i,`
            L `).concat(t+l*g,",").concat(r+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t,",").concat(r+i-a*g," Z")}else p="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return p},k7e=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,o=r.x,s=r.y,a=r.width,l=r.height;if(Math.abs(a)>0&&Math.abs(l)>0){var c=Math.min(o,o+a),p=Math.max(o,o+a),h=Math.min(s,s+l),y=Math.max(s,s+l);return n>=c&&n<=p&&i>=h&&i<=y}return!1},R7e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},o4=function(t){var r=fz(fz({},R7e),t),n=M.useRef(),i=M.useState(-1),o=E7e(i,2),s=o[0],a=o[1];M.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&a(O)}catch{}},[]);var l=r.x,c=r.y,p=r.width,h=r.height,y=r.radius,m=r.className,g=r.animationEasing,b=r.animationDuration,w=r.animationBegin,x=r.isAnimationActive,_=r.isUpdateAnimationActive;if(l!==+l||c!==+c||p!==+p||h!==+h||p===0||h===0)return null;var S=Be("recharts-rectangle",m);return _?L.createElement(ey,{canBegin:s>0,from:{width:p,height:h,x:l,y:c},to:{width:p,height:h,x:l,y:c},duration:b,animationEasing:g,isActive:_},function(O){var $=O.width,T=O.height,j=O.x,A=O.y;return L.createElement(ey,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:b,isActive:x,easing:g},L.createElement("path",F2({},Ae(r,!0),{className:S,d:hz(j,A,$,T,y),ref:n})))}):L.createElement("path",F2({},Ae(r,!0),{className:S,d:hz(l,c,p,h,y)}))},L7e=["points","className","baseLinePoints","connectNulls"];function Hf(){return Hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hf.apply(this,arguments)}function D7e(e,t){if(e==null)return{};var r=F7e(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function F7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yz(e){return V7e(e)||B7e(e)||z7e(e)||U7e()}function U7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z7e(e,t){if(e){if(typeof e=="string")return BN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BN(e,t)}}function B7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function V7e(e){if(Array.isArray(e))return BN(e)}function BN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var mz=function(t){return t&&t.x===+t.x&&t.y===+t.y},q7e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){mz(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),mz(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},pg=function(t,r){var n=q7e(t);r&&(n=[n.reduce(function(o,s){return[].concat(yz(o),yz(s))},[])]);var i=n.map(function(o){return o.reduce(function(s,a,l){return"".concat(s).concat(l===0?"M":"L").concat(a.x,",").concat(a.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},G7e=function(t,r,n){var i=pg(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(pg(r.reverse(),n).slice(1))},W7e=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,o=t.connectNulls,s=D7e(t,L7e);if(!r||!r.length)return null;var a=Be("recharts-polygon",n);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",c=G7e(r,i,o);return L.createElement("g",{className:a},L.createElement("path",Hf({},Ae(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),l?L.createElement("path",Hf({},Ae(s,!0),{fill:"none",d:pg(r,o)})):null,l?L.createElement("path",Hf({},Ae(s,!0),{fill:"none",d:pg(i,o)})):null)}var p=pg(r,o);return L.createElement("path",Hf({},Ae(s,!0),{fill:p.slice(-1)==="Z"?s.fill:"none",className:a,d:p}))};function VN(){return VN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VN.apply(this,arguments)}var s4=function(t){var r=t.cx,n=t.cy,i=t.r,o=t.className,s=Be("recharts-dot",o);return r===+r&&n===+n&&i===+i?M.createElement("circle",VN({},Ae(t,!1),s2(t),{className:s,cx:r,cy:n,r:i})):null};function jv(e){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jv(e)}var H7e=["x","y","top","left","width","height","className"];function qN(){return qN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qN.apply(this,arguments)}function gz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function J7e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gz(Object(r),!0).forEach(function(n){Z7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z7e(e,t,r){return t=K7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K7e(e){var t=Y7e(e,"string");return jv(t)=="symbol"?t:t+""}function Y7e(e,t){if(jv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q7e(e,t){if(e==null)return{};var r=X7e(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var eze=function(t,r,n,i,o,s){return"M".concat(t,",").concat(o,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},tze=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,o=i===void 0?0:i,s=t.top,a=s===void 0?0:s,l=t.left,c=l===void 0?0:l,p=t.width,h=p===void 0?0:p,y=t.height,m=y===void 0?0:y,g=t.className,b=Q7e(t,H7e),w=J7e({x:n,y:o,top:a,left:c,width:h,height:m},b);return!le(n)||!le(o)||!le(h)||!le(m)||!le(a)||!le(c)?null:L.createElement("path",qN({},Ae(w,!0),{className:Be("recharts-cross",g),d:eze(n,o,h,m,a,c)}))},rze=q$,nze=Fee,ize=wa;function oze(e,t){return e&&e.length?rze(e,ize(t),nze):void 0}var sze=oze;const aze=yt(sze);var lze=q$,uze=wa,cze=Uee;function dze(e,t){return e&&e.length?lze(e,uze(t),cze):void 0}var pze=dze;const fze=yt(pze);var hze=["cx","cy","angle","ticks","axisLine"],yze=["ticks","tick","angle","tickFormatter","stroke"];function ty(e){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ty(e)}function fg(){return fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fg.apply(this,arguments)}function vz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ac(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vz(Object(r),!0).forEach(function(n){Q$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bz(e,t){if(e==null)return{};var r=mze(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mze(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ite(n.key),n)}}function vze(e,t,r){return t&&wz(e.prototype,t),r&&wz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bze(e,t,r){return t=U2(t),wze(e,jte()?Reflect.construct(t,r||[],U2(e).constructor):t.apply(e,r))}function wze(e,t){if(t&&(ty(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xze(e)}function xze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jte=function(){return!!e})()}function U2(e){return U2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},U2(e)}function Sze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GN(e,t)}function GN(e,t){return GN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},GN(e,t)}function Q$(e,t,r){return t=Ite(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ite(e){var t=_ze(e,"string");return ty(t)=="symbol"?t:t+""}function _ze(e,t){if(ty(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ty(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X$=function(e){function t(){return gze(this,t),bze(this,t,arguments)}return Sze(t,e),vze(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,o=this.props,s=o.angle,a=o.cx,l=o.cy;return At(a,l,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,o=n.cy,s=n.angle,a=n.ticks,l=aze(a,function(p){return p.coordinate||0}),c=fze(a,function(p){return p.coordinate||0});return{cx:i,cy:o,startAngle:s,endAngle:s,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,s=n.angle,a=n.ticks,l=n.axisLine,c=bz(n,hze),p=a.reduce(function(g,b){return[Math.min(g[0],b.coordinate),Math.max(g[1],b.coordinate)]},[1/0,-1/0]),h=At(i,o,p[0],s),y=At(i,o,p[1],s),m=Ac(Ac(Ac({},Ae(c,!1)),{},{fill:"none"},Ae(l,!1)),{},{x1:h.x,y1:h.y,x2:y.x,y2:y.y});return L.createElement("line",fg({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,s=i.tick,a=i.angle,l=i.tickFormatter,c=i.stroke,p=bz(i,yze),h=this.getTickTextAnchor(),y=Ae(p,!1),m=Ae(s,!1),g=o.map(function(b,w){var x=n.getTickValueCoord(b),_=Ac(Ac(Ac(Ac({textAnchor:h,transform:"rotate(".concat(90-a,", ").concat(x.x,", ").concat(x.y,")")},y),{},{stroke:"none",fill:c},m),{},{index:w},x),{},{payload:b});return L.createElement(ft,fg({className:Be("recharts-polar-radius-axis-tick",hte(s)),key:"tick-".concat(b.coordinate)},ap(n.props,b,w)),t.renderTickItem(s,_,l?l(b.value,w):b.value))});return L.createElement(ft,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.axisLine,s=n.tick;return!i||!i.length?null:L.createElement(ft,{className:Be("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),s&&this.renderTicks(),Qr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,o){var s;return L.isValidElement(n)?s=L.cloneElement(n,i):Ce(n)?s=n(i):s=L.createElement(lp,fg({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),s}}])}(M.PureComponent);Q$(X$,"displayName","PolarRadiusAxis");Q$(X$,"axisType","radiusAxis");Q$(X$,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ry(e){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ry(e)}function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},md.apply(this,arguments)}function xz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xz(Object(r),!0).forEach(function(n){eT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pte(n.key),n)}}function Tze(e,t,r){return t&&Sz(e.prototype,t),r&&Sz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oze(e,t,r){return t=z2(t),Eze(e,Ate()?Reflect.construct(t,r||[],z2(e).constructor):t.apply(e,r))}function Eze(e,t){if(t&&(ry(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jze(e)}function jze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ate(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ate=function(){return!!e})()}function z2(e){return z2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},z2(e)}function Ize(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WN(e,t)}function WN(e,t){return WN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},WN(e,t)}function eT(e,t,r){return t=Pte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pte(e){var t=Aze(e,"string");return ry(t)=="symbol"?t:t+""}function Aze(e,t){if(ry(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ry(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pze=Math.PI/180,_z=1e-5,tT=function(e){function t(){return $ze(this,t),Oze(this,t,arguments)}return Ize(t,e),Tze(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.cx,s=i.cy,a=i.radius,l=i.orientation,c=i.tickSize,p=c||8,h=At(o,s,a,n.coordinate),y=At(o,s,a+(l==="inner"?-1:1)*p,n.coordinate);return{x1:h.x,y1:h.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,o=Math.cos(-n.coordinate*Pze),s;return o>_z?s=i==="outer"?"start":"end":o<-_z?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,s=n.radius,a=n.axisLine,l=n.axisLineType,c=Pc(Pc({},Ae(this.props,!1)),{},{fill:"none"},Ae(a,!1));if(l==="circle")return L.createElement(s4,md({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:o,r:s}));var p=this.props.ticks,h=p.map(function(y){return At(i,o,s,y.coordinate)});return L.createElement(W7e,md({className:"recharts-polar-angle-axis-line"},c,{points:h}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,s=i.tick,a=i.tickLine,l=i.tickFormatter,c=i.stroke,p=Ae(this.props,!1),h=Ae(s,!1),y=Pc(Pc({},p),{},{fill:"none"},Ae(a,!1)),m=o.map(function(g,b){var w=n.getTickLineCoord(g),x=n.getTickTextAnchor(g),_=Pc(Pc(Pc({textAnchor:x},p),{},{stroke:"none",fill:c},h),{},{index:b,payload:g,x:w.x2,y:w.y2});return L.createElement(ft,md({className:Be("recharts-polar-angle-axis-tick",hte(s)),key:"tick-".concat(g.coordinate)},ap(n.props,g,b)),a&&L.createElement("line",md({className:"recharts-polar-angle-axis-tick-line"},y,w)),s&&t.renderTickItem(s,_,l?l(g.value,b):g.value))});return L.createElement(ft,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.radius,s=n.axisLine;return o<=0||!i||!i.length?null:L.createElement(ft,{className:Be("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,o){var s;return L.isValidElement(n)?s=L.cloneElement(n,i):Ce(n)?s=n(i):s=L.createElement(lp,md({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),s}}])}(M.PureComponent);eT(tT,"displayName","PolarAngleAxis");eT(tT,"axisType","angleAxis");eT(tT,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Nze=kX,Mze=Nze(Object.getPrototypeOf,Object),Cze=Mze,kze=Ll,Rze=Cze,Lze=Dl,Dze="[object Object]",Fze=Function.prototype,Uze=Object.prototype,Nte=Fze.toString,zze=Uze.hasOwnProperty,Bze=Nte.call(Object);function Vze(e){if(!Lze(e)||kze(e)!=Dze)return!1;var t=Rze(e);if(t===null)return!0;var r=zze.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Nte.call(r)==Bze}var qze=Vze;const Gze=yt(qze);var Wze=Ll,Hze=Dl,Jze="[object Boolean]";function Zze(e){return e===!0||e===!1||Hze(e)&&Wze(e)==Jze}var Kze=Zze;const Yze=yt(Kze);function Iv(e){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iv(e)}function B2(){return B2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B2.apply(this,arguments)}function Qze(e,t){return rBe(e)||tBe(e,t)||eBe(e,t)||Xze()}function Xze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eBe(e,t){if(e){if(typeof e=="string")return $z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $z(e,t)}}function $z(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tBe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(p){c=!0,i=p}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function rBe(e){if(Array.isArray(e))return e}function Tz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Oz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tz(Object(r),!0).forEach(function(n){nBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nBe(e,t,r){return t=iBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iBe(e){var t=oBe(e,"string");return Iv(t)=="symbol"?t:t+""}function oBe(e,t){if(Iv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ez=function(t,r,n,i,o){var s=n-i,a;return a="M ".concat(t,",").concat(r),a+="L ".concat(t+n,",").concat(r),a+="L ".concat(t+n-s/2,",").concat(r+o),a+="L ".concat(t+n-s/2-i,",").concat(r+o),a+="L ".concat(t,",").concat(r," Z"),a},sBe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aBe=function(t){var r=Oz(Oz({},sBe),t),n=M.useRef(),i=M.useState(-1),o=Qze(i,2),s=o[0],a=o[1];M.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&a(S)}catch{}},[]);var l=r.x,c=r.y,p=r.upperWidth,h=r.lowerWidth,y=r.height,m=r.className,g=r.animationEasing,b=r.animationDuration,w=r.animationBegin,x=r.isUpdateAnimationActive;if(l!==+l||c!==+c||p!==+p||h!==+h||y!==+y||p===0&&h===0||y===0)return null;var _=Be("recharts-trapezoid",m);return x?L.createElement(ey,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:y,x:l,y:c},to:{upperWidth:p,lowerWidth:h,height:y,x:l,y:c},duration:b,animationEasing:g,isActive:x},function(S){var O=S.upperWidth,$=S.lowerWidth,T=S.height,j=S.x,A=S.y;return L.createElement(ey,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:b,easing:g},L.createElement("path",B2({},Ae(r,!0),{className:_,d:Ez(j,A,O,$,T),ref:n})))}):L.createElement("g",null,L.createElement("path",B2({},Ae(r,!0),{className:_,d:Ez(l,c,p,h,y)})))},lBe=["option","shapeType","propTransformer","activeClassName","isActive"];function Av(e){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Av(e)}function uBe(e,t){if(e==null)return{};var r=cBe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cBe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function V2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jz(Object(r),!0).forEach(function(n){dBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dBe(e,t,r){return t=pBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pBe(e){var t=fBe(e,"string");return Av(t)=="symbol"?t:t+""}function fBe(e,t){if(Av(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hBe(e,t){return V2(V2({},t),e)}function yBe(e,t){return e==="symbols"}function Iz(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return L.createElement(o4,r);case"trapezoid":return L.createElement(aBe,r);case"sector":return L.createElement(gte,r);case"symbols":if(yBe(t))return L.createElement($R,r);break;default:return null}}function mBe(e){return M.isValidElement(e)?e.props:e}function Mte(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?hBe:n,o=e.activeClassName,s=o===void 0?"recharts-active-shape":o,a=e.isActive,l=uBe(e,lBe),c;if(M.isValidElement(t))c=M.cloneElement(t,V2(V2({},l),mBe(t)));else if(Ce(t))c=t(l);else if(Gze(t)&&!Yze(t)){var p=i(t,l);c=L.createElement(Iz,{shapeType:r,elementProps:p})}else{var h=l;c=L.createElement(Iz,{shapeType:r,elementProps:h})}return a?L.createElement(ft,{className:s},c):c}function rT(e,t){return t!=null&&"trapezoids"in e.props}function nT(e,t){return t!=null&&"sectors"in e.props}function Pv(e,t){return t!=null&&"points"in e.props}function gBe(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&o}function vBe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function bBe(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function wBe(e,t){var r;return rT(e,t)?r=gBe:nT(e,t)?r=vBe:Pv(e,t)&&(r=bBe),r}function xBe(e,t){var r;return rT(e,t)?r="trapezoids":nT(e,t)?r="sectors":Pv(e,t)&&(r="points"),r}function SBe(e,t){if(rT(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(nT(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Pv(e,t)?t.payload:{}}function _Be(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=xBe(r,t),o=SBe(r,t),s=n.filter(function(l,c){var p=H$(o,l),h=r.props[i].filter(function(g){var b=wBe(r,t);return b(g,t)}),y=r.props[i].indexOf(h[h.length-1]),m=c===y;return p&&m}),a=n.indexOf(s[s.length-1]);return a}var Dx;function ny(e){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ny(e)}function Jf(){return Jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jf.apply(this,arguments)}function Az(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Az(Object(r),!0).forEach(function(n){mo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Az(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kte(n.key),n)}}function TBe(e,t,r){return t&&Pz(e.prototype,t),r&&Pz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function OBe(e,t,r){return t=q2(t),EBe(e,Cte()?Reflect.construct(t,r||[],q2(e).constructor):t.apply(e,r))}function EBe(e,t){if(t&&(ny(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jBe(e)}function jBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cte=function(){return!!e})()}function q2(e){return q2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},q2(e)}function IBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HN(e,t)}function HN(e,t){return HN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},HN(e,t)}function mo(e,t,r){return t=kte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kte(e){var t=ABe(e,"string");return ny(t)=="symbol"?t:t+""}function ABe(e,t){if(ny(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ny(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var va=function(e){function t(r){var n;return $Be(this,t),n=OBe(this,t,[r]),mo(n,"pieRef",null),mo(n,"sectorRefs",[]),mo(n,"id",R1("recharts-pie-")),mo(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ce(i)&&i()}),mo(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ce(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return IBe(t,e),TBe(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.label,a=o.labelLine,l=o.dataKey,c=o.valueKey,p=Ae(this.props,!1),h=Ae(s,!1),y=Ae(a,!1),m=s&&s.offsetRadius||20,g=n.map(function(b,w){var x=(b.startAngle+b.endAngle)/2,_=At(b.cx,b.cy,b.outerRadius+m,x),S=Et(Et(Et(Et({},p),b),{},{stroke:"none"},h),{},{index:w,textAnchor:t.getTextAnchor(_.x,b.cx)},_),O=Et(Et(Et(Et({},p),b),{},{fill:"none",stroke:b.fill},y),{},{index:w,points:[At(b.cx,b.cy,b.outerRadius,x),_]}),$=l;return qe(l)&&qe(c)?$="value":qe(l)&&($=c),L.createElement(ft,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(w)},a&&t.renderLabelLineItem(a,O,"line"),t.renderLabelItem(s,S,Cn(b,$)))});return L.createElement(ft,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var i=this,o=this.props,s=o.activeShape,a=o.blendStroke,l=o.inactiveShape;return n.map(function(c,p){if(c?.startAngle===0&&c?.endAngle===0&&n.length!==1)return null;var h=i.isActiveIndex(p),y=l&&i.hasActiveIndex()?l:null,m=h?s:y,g=Et(Et({},c),{},{stroke:a?c.fill:c.stroke,tabIndex:-1});return L.createElement(ft,Jf({ref:function(w){w&&!i.sectorRefs.includes(w)&&i.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},ap(i.props,c,p),{key:"sector-".concat(c?.startAngle,"-").concat(c?.endAngle,"-").concat(c.midAngle,"-").concat(p)}),L.createElement(Mte,Jf({option:m,isActive:h,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,o=i.sectors,s=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,c=i.animationEasing,p=i.animationId,h=this.state,y=h.prevSectors,m=h.prevIsAnimationActive;return L.createElement(ey,{begin:a,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var b=g.t,w=[],x=o&&o[0],_=x.startAngle;return o.forEach(function(S,O){var $=y&&y[O],T=O>0?Gi(S,"paddingAngle",0):0;if($){var j=gu($.endAngle-$.startAngle,S.endAngle-S.startAngle),A=Et(Et({},S),{},{startAngle:_+T,endAngle:_+j(b)+T});w.push(A),_=A.endAngle}else{var N=S.endAngle,k=S.startAngle,C=gu(0,N-k),F=C(b),G=Et(Et({},S),{},{startAngle:_+T,endAngle:_+F+T});w.push(G),_=G.endAngle}}),L.createElement(ft,null,n.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var a=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,o=n.isAnimationActive,s=this.state.prevSectors;return o&&i&&i.length&&(!s||!H$(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,o=i.hide,s=i.sectors,a=i.className,l=i.label,c=i.cx,p=i.cy,h=i.innerRadius,y=i.outerRadius,m=i.isAnimationActive,g=this.state.isAnimationFinished;if(o||!s||!s.length||!le(c)||!le(p)||!le(h)||!le(y))return null;var b=Be("recharts-pie",a);return L.createElement(ft,{tabIndex:this.props.rootTabIndex,className:b,ref:function(x){n.pieRef=x}},this.renderSectors(),l&&this.renderLabels(s),Qr.renderCallByParent(this.props,null,!1),(!m||g)&&Qu.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,o){if(L.isValidElement(n))return L.cloneElement(n,i);if(Ce(n))return n(i);var s=Be("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return L.createElement(NN,Jf({},i,{key:o,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,o){if(L.isValidElement(n))return L.cloneElement(n,i);var s=o;if(Ce(n)&&(s=n(i),L.isValidElement(s)))return s;var a=Be("recharts-pie-label-text",typeof n!="boolean"&&!Ce(n)?n.className:"");return L.createElement(lp,Jf({},i,{alignmentBaseline:"middle",className:a}),s)}}])}(M.PureComponent);Dx=va;mo(va,"displayName","Pie");mo(va,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!xl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});mo(va,"parseDeltaAngle",function(e,t){var r=Hn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});mo(va,"getRealPieData",function(e){var t=e.data,r=e.children,n=Ae(e,!1),i=To(r,av);return t&&t.length?t.map(function(o,s){return Et(Et(Et({payload:o},n),o),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(o){return Et(Et({},n),o.props)}):[]});mo(va,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,o=t.height,s=fte(i,o),a=n+Jn(e.cx,i,i/2),l=r+Jn(e.cy,o,o/2),c=Jn(e.innerRadius,s,0),p=Jn(e.outerRadius,s,s*.8),h=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:a,cy:l,innerRadius:c,outerRadius:p,maxRadius:h}});mo(va,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Et(Et({},t.type.defaultProps),t.props):t.props,i=Dx.getRealPieData(n);if(!i||!i.length)return null;var o=n.cornerRadius,s=n.startAngle,a=n.endAngle,l=n.paddingAngle,c=n.dataKey,p=n.nameKey,h=n.valueKey,y=n.tooltipType,m=Math.abs(n.minAngle),g=Dx.parseCoordinateOfPie(n,r),b=Dx.parseDeltaAngle(s,a),w=Math.abs(b),x=c;qe(c)&&qe(h)?($s(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):qe(c)&&($s(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=h);var _=i.filter(function(A){return Cn(A,x,0)!==0}).length,S=(w>=360?_:_-1)*l,O=w-_*m-S,$=i.reduce(function(A,N){var k=Cn(N,x,0);return A+(le(k)?k:0)},0),T;if($>0){var j;T=i.map(function(A,N){var k=Cn(A,x,0),C=Cn(A,p,N),F=(le(k)?k:0)/$,G;N?G=j.endAngle+Hn(b)*l*(k!==0?1:0):G=s;var B=G+Hn(b)*((k!==0?m:0)+F*O),W=(G+B)/2,K=(g.innerRadius+g.outerRadius)/2,ee=[{name:C,value:k,payload:A,dataKey:x,type:y}],V=At(g.cx,g.cy,K,W);return j=Et(Et(Et({percent:F,cornerRadius:o,name:C,tooltipPayload:ee,midAngle:W,middleRadius:K,tooltipPosition:V},A),g),{},{value:Cn(A,x),startAngle:G,endAngle:B,payload:A,paddingAngle:Hn(b)*l}),j})}return Et(Et({},g),{},{sectors:T,data:i})});var PBe=Math.ceil,NBe=Math.max;function MBe(e,t,r,n){for(var i=-1,o=NBe(PBe((t-e)/(r||1)),0),s=Array(o);o--;)s[n?o:++i]=e,e+=r;return s}var CBe=MBe,kBe=eee,Nz=1/0,RBe=17976931348623157e292;function LBe(e){if(!e)return e===0?e:0;if(e=kBe(e),e===Nz||e===-Nz){var t=e<0?-1:1;return t*RBe}return e===e?e:0}var Rte=LBe,DBe=CBe,FBe=L$,yE=Rte;function UBe(e){return function(t,r,n){return n&&typeof n!="number"&&FBe(t,r,n)&&(r=n=void 0),t=yE(t),r===void 0?(r=t,t=0):r=yE(r),n=n===void 0?t<r?1:-1:yE(n),DBe(t,r,n,e)}}var zBe=UBe,BBe=zBe,VBe=BBe(),qBe=VBe;const G2=yt(qBe);function Nv(e){"@babel/helpers - typeof";return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nv(e)}function Mz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mz(Object(r),!0).forEach(function(n){Lte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lte(e,t,r){return t=GBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GBe(e){var t=WBe(e,"string");return Nv(t)=="symbol"?t:t+""}function WBe(e,t){if(Nv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HBe=["Webkit","Moz","O","ms"],JBe=function(t,r){if(!t)return null;var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),i=HBe.reduce(function(o,s){return Cz(Cz({},o),{},Lte({},s+n,r))},{});return i[t]=r,i};function iy(e){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iy(e)}function W2(){return W2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W2.apply(this,arguments)}function kz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kz(Object(r),!0).forEach(function(n){Pi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Fte(n.key),n)}}function KBe(e,t,r){return t&&Rz(e.prototype,t),r&&Rz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function YBe(e,t,r){return t=H2(t),QBe(e,Dte()?Reflect.construct(t,r||[],H2(e).constructor):t.apply(e,r))}function QBe(e,t){if(t&&(iy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XBe(e)}function XBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dte=function(){return!!e})()}function H2(e){return H2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},H2(e)}function eVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JN(e,t)}function JN(e,t){return JN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},JN(e,t)}function Pi(e,t,r){return t=Fte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fte(e){var t=tVe(e,"string");return iy(t)=="symbol"?t:t+""}function tVe(e,t){if(iy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(iy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rVe=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,o=t.x,s=t.width,a=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=ug().domain(G2(0,l)).range([o,o+s-a]),p=c.domain().map(function(h){return c(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:p}},Lz=function(t){return t.changedTouches&&!!t.changedTouches.length},oy=function(e){function t(r){var n;return ZBe(this,t),n=YBe(this,t,[r]),Pi(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Pi(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Pi(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s?.({endIndex:o,startIndex:a})}),n.detachDragEndListener()}),Pi(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Pi(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Pi(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Pi(n,"handleSlideDragStart",function(i){var o=Lz(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return eVe(t,e),KBe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,o=n.endX,s=this.state.scaleValues,a=this.props,l=a.gap,c=a.data,p=c.length-1,h=Math.min(i,o),y=Math.max(i,o),m=t.getIndexInRange(s,h),g=t.getIndexInRange(s,y);return{startIndex:m-m%l,endIndex:g===p?p:g-g%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=Cn(o[n],a,n);return Ce(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,c=l.x,p=l.width,h=l.travellerWidth,y=l.startIndex,m=l.endIndex,g=l.onChange,b=n.pageX-o;b>0?b=Math.min(b,c+p-h-a,c+p-h-s):b<0&&(b=Math.max(b,c-s,c-a));var w=this.getIndex({startX:s+b,endX:a+b});(w.startIndex!==y||w.endIndex!==m)&&g&&g(w),this.setState({startX:s+b,endX:a+b,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var o=Lz(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,c=this.state[s],p=this.props,h=p.x,y=p.width,m=p.travellerWidth,g=p.onChange,b=p.gap,w=p.data,x={startX:this.state.startX,endX:this.state.endX},_=n.pageX-o;_>0?_=Math.min(_,h+y-m-c):_<0&&(_=Math.max(_,h-c)),x[s]=c+_;var S=this.getIndex(x),O=S.startIndex,$=S.endIndex,T=function(){var A=w.length-1;return s==="startX"&&(a>l?O%b===0:$%b===0)||a<l&&$===A||s==="endX"&&(a>l?$%b===0:O%b===0)||a>l&&$===A};this.setState(Pi(Pi({},s,c+_),"brushMoveStartX",n.pageX),function(){g&&T()&&g(S)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,c=s.endX,p=this.state[i],h=a.indexOf(p);if(h!==-1){var y=h+n;if(!(y===-1||y>=a.length)){var m=a[y];i==="startX"&&m>=c||i==="endX"&&m<=l||this.setState(Pi({},i,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,o=n.y,s=n.width,a=n.height,l=n.fill,c=n.stroke;return L.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,o=n.y,s=n.width,a=n.height,l=n.data,c=n.children,p=n.padding,h=M.Children.only(c);return h?L.cloneElement(h,{x:i,y:o,width:s,height:a,margin:p,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var o,s,a=this,l=this.props,c=l.y,p=l.travellerWidth,h=l.height,y=l.traveller,m=l.ariaLabel,g=l.data,b=l.startIndex,w=l.endIndex,x=Math.max(n,this.props.x),_=mE(mE({},Ae(this.props,!1)),{},{x,y:c,width:p,height:h}),S=m||"Min value: ".concat((o=g[b])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=g[w])===null||s===void 0?void 0:s.name);return L.createElement(ft,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function($){["ArrowLeft","ArrowRight"].includes($.key)&&($.preventDefault(),$.stopPropagation(),a.handleTravellerMoveKeyboard($.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(y,_))}},{key:"renderSlide",value:function(n,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,c=o.travellerWidth,p=Math.min(n,i)+c,h=Math.max(Math.abs(i-n)-c,0);return L.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:p,y:s,width:h,height:a})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,o=n.endIndex,s=n.y,a=n.height,l=n.travellerWidth,c=n.stroke,p=this.state,h=p.startX,y=p.endX,m=5,g={pointerEvents:"none",fill:c};return L.createElement(ft,{className:"recharts-brush-texts"},L.createElement(lp,W2({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,y)-m,y:s+a/2},g),this.getTextOfTick(i)),L.createElement(lp,W2({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,y)+l+m,y:s+a/2},g),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,i=n.data,o=n.className,s=n.children,a=n.x,l=n.y,c=n.width,p=n.height,h=n.alwaysShowText,y=this.state,m=y.startX,g=y.endX,b=y.isTextActive,w=y.isSlideMoving,x=y.isTravellerMoving,_=y.isTravellerFocused;if(!i||!i.length||!le(a)||!le(l)||!le(c)||!le(p)||c<=0||p<=0)return null;var S=Be("recharts-brush",o),O=L.Children.count(s)===1,$=JBe("userSelect","none");return L.createElement(ft,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:$},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(b||w||x||_||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,o=n.y,s=n.width,a=n.height,l=n.stroke,c=Math.floor(o+a/2)-1;return L.createElement(L.Fragment,null,L.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),L.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),L.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var o;return L.isValidElement(n)?o=L.cloneElement(n,i):Ce(n)?o=n(i):o=t.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(n,i){var o=n.data,s=n.width,a=n.x,l=n.travellerWidth,c=n.updateId,p=n.startIndex,h=n.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return mE({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:s},o&&o.length?rVe({data:o,width:s,x:a,travellerWidth:l,startIndex:p,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var y=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(n,i){for(var o=n.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);n[l]>i?a=l:s=l}return i>=n[a]?a:s}}])}(M.PureComponent);Pi(oy,"displayName","Brush");Pi(oy,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var nVe=PR;function iVe(e,t){var r;return nVe(e,function(n,i,o){return r=t(n,i,o),!r}),!!r}var oVe=iVe,sVe=EX,aVe=wa,lVe=oVe,uVe=Si,cVe=L$;function dVe(e,t,r){var n=uVe(e)?sVe:lVe;return r&&cVe(e,t,r)&&(t=void 0),n(e,aVe(t))}var pVe=dVe;const fVe=yt(pVe);var pa=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},Dz=ZX;function hVe(e,t,r){t=="__proto__"&&Dz?Dz(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var yVe=hVe,mVe=yVe,gVe=HX,vVe=wa;function bVe(e,t){var r={};return t=vVe(t),gVe(e,function(n,i,o){mVe(r,i,t(n,i,o))}),r}var wVe=bVe;const xVe=yt(wVe);function SVe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var _Ve=SVe,$Ve=PR;function TVe(e,t){var r=!0;return $Ve(e,function(n,i,o){return r=!!t(n,i,o),r}),r}var OVe=TVe,EVe=_Ve,jVe=OVe,IVe=wa,AVe=Si,PVe=L$;function NVe(e,t,r){var n=AVe(e)?EVe:jVe;return r&&PVe(e,t,r)&&(t=void 0),n(e,IVe(t))}var MVe=NVe;const Ute=yt(MVe);var CVe=["x","y"];function Mv(e){"@babel/helpers - typeof";return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mv(e)}function ZN(){return ZN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZN.apply(this,arguments)}function Fz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fz(Object(r),!0).forEach(function(n){kVe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kVe(e,t,r){return t=RVe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RVe(e){var t=LVe(e,"string");return Mv(t)=="symbol"?t:t+""}function LVe(e,t){if(Mv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DVe(e,t){if(e==null)return{};var r=FVe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FVe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function UVe(e,t){var r=e.x,n=e.y,i=DVe(e,CVe),o="".concat(r),s=parseInt(o,10),a="".concat(n),l=parseInt(a,10),c="".concat(t.height||i.height),p=parseInt(c,10),h="".concat(t.width||i.width),y=parseInt(h,10);return Pm(Pm(Pm(Pm(Pm({},t),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:p,width:y,name:t.name,radius:t.radius})}function Uz(e){return L.createElement(Mte,ZN({shapeType:"rectangle",propTransformer:UVe,activeClassName:"recharts-active-bar"},e))}var zVe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var o=le(n)||gIe(n);return o?t(n,i):(o||cp(!1),r)}},BVe=["value","background"],zte;function sy(e){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sy(e)}function VVe(e,t){if(e==null)return{};var r=qVe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qVe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function J2(){return J2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J2.apply(this,arguments)}function zz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zz(Object(r),!0).forEach(function(n){Fu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vte(n.key),n)}}function WVe(e,t,r){return t&&Bz(e.prototype,t),r&&Bz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HVe(e,t,r){return t=Z2(t),JVe(e,Bte()?Reflect.construct(t,r||[],Z2(e).constructor):t.apply(e,r))}function JVe(e,t){if(t&&(sy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZVe(e)}function ZVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bte=function(){return!!e})()}function Z2(e){return Z2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Z2(e)}function KVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KN(e,t)}function KN(e,t){return KN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KN(e,t)}function Fu(e,t,r){return t=Vte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vte(e){var t=YVe(e,"string");return sy(t)=="symbol"?t:t+""}function YVe(e,t){if(sy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $p=function(e){function t(){var r;GVe(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=HVe(this,t,[].concat(i)),Fu(r,"state",{isAnimationFinished:!1}),Fu(r,"id",R1("recharts-bar-")),Fu(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Fu(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return KVe(t,e),WVe(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,c=o.activeBar,p=Ae(this.props,!1);return n&&n.map(function(h,y){var m=y===l,g=m?c:s,b=br(br(br({},p),h),{},{isActive:m,option:g,index:y,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return L.createElement(ft,J2({className:"recharts-bar-rectangle"},ap(i.props,h,y),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(y)}),L.createElement(Uz,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,p=i.animationEasing,h=i.animationId,y=this.state.prevData;return L.createElement(ey,{begin:l,duration:c,isActive:a,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,b=o.map(function(w,x){var _=y&&y[x];if(_){var S=gu(_.x,w.x),O=gu(_.y,w.y),$=gu(_.width,w.width),T=gu(_.height,w.height);return br(br({},w),{},{x:S(g),y:O(g),width:$(g),height:T(g)})}if(s==="horizontal"){var j=gu(0,w.height),A=j(g);return br(br({},w),{},{y:w.y+w.height-A,height:A})}var N=gu(0,w.width),k=N(g);return br(br({},w),{},{width:k})});return L.createElement(ft,null,n.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,o=n.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!H$(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=Ae(this.props.background,!1);return o.map(function(c,p){c.value;var h=c.background,y=VVe(c,BVe);if(!h)return null;var m=br(br(br(br(br({},y),{},{fill:"#eee"},h),l),ap(n.props,c,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:p,className:"recharts-bar-background-rectangle"});return L.createElement(Uz,J2({key:"background-bar-".concat(p),option:n.props.background,isActive:p===a},m))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,c=o.layout,p=o.children,h=To(p,K$);if(!h)return null;var y=c==="vertical"?s[0].height/2:s[0].width/2,m=function(w,x){var _=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:_,errorVal:Cn(w,x)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return L.createElement(ft,g,h.map(function(b){return L.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:s,xAxis:a,yAxis:l,layout:c,offset:y,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.data,s=n.className,a=n.xAxis,l=n.yAxis,c=n.left,p=n.top,h=n.width,y=n.height,m=n.isAnimationActive,g=n.background,b=n.id;if(i||!o||!o.length)return null;var w=this.state.isAnimationFinished,x=Be("recharts-bar",s),_=a&&a.allowDataOverflow,S=l&&l.allowDataOverflow,O=_||S,$=qe(b)?this.id:b;return L.createElement(ft,{className:x},_||S?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat($)},L.createElement("rect",{x:_?c:c-h/2,y:S?p:p-y/2,width:_?h:h*2,height:S?y:y*2}))):null,L.createElement(ft,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat($,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,$),(!m||w)&&Qu.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(M.PureComponent);zte=$p;Fu($p,"displayName","Bar");Fu($p,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!xl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Fu($p,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,o=e.xAxis,s=e.yAxis,a=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,p=e.dataStartIndex,h=e.displayedData,y=e.offset,m=N8e(n,r);if(!m)return null;var g=t.layout,b=r.type.defaultProps,w=b!==void 0?br(br({},b),r.props):r.props,x=w.dataKey,_=w.children,S=w.minPointSize,O=g==="horizontal"?s:o,$=c?O.scale.domain():null,T=F8e({numericAxis:O}),j=To(_,av),A=h.map(function(N,k){var C,F,G,B,W,K;c?C=M8e(c[p+k],$):(C=Cn(N,x),Array.isArray(C)||(C=[T,C]));var ee=zVe(S,zte.defaultProps.minPointSize)(C[1],k);if(g==="horizontal"){var V,Q=[s.scale(C[0]),s.scale(C[1])],oe=Q[0],fe=Q[1];F=A7({axis:o,ticks:a,bandSize:i,offset:m.offset,entry:N,index:k}),G=(V=fe??oe)!==null&&V!==void 0?V:void 0,B=m.size;var ae=oe-fe;if(W=Number.isNaN(ae)?0:ae,K={x:F,y:s.y,width:B,height:s.height},Math.abs(ee)>0&&Math.abs(W)<Math.abs(ee)){var Oe=Hn(W||ee)*(Math.abs(ee)-Math.abs(W));G-=Oe,W+=Oe}}else{var Je=[o.scale(C[0]),o.scale(C[1])],_t=Je[0],Bt=Je[1];if(F=_t,G=A7({axis:s,ticks:l,bandSize:i,offset:m.offset,entry:N,index:k}),B=Bt-_t,W=m.size,K={x:o.x,y:G,width:o.width,height:W},Math.abs(ee)>0&&Math.abs(B)<Math.abs(ee)){var ei=Hn(B||ee)*(Math.abs(ee)-Math.abs(B));B+=ei}}return br(br(br({},N),{},{x:F,y:G,width:B,height:W,value:c?C:C[1],payload:N,background:K},j&&j[k]&&j[k].props),{},{tooltipPayload:[dte(r,N)],tooltipPosition:{x:F+B/2,y:G+W/2}})});return br({data:A,layout:g},y)});function Cv(e){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cv(e)}function QVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qte(n.key),n)}}function XVe(e,t,r){return t&&Vz(e.prototype,t),r&&Vz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ss(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qz(Object(r),!0).forEach(function(n){iT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iT(e,t,r){return t=qte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qte(e){var t=eqe(e,"string");return Cv(t)=="symbol"?t:t+""}function eqe(e,t){if(Cv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tqe=function(t,r,n,i,o){var s=t.width,a=t.height,l=t.layout,c=t.children,p=Object.keys(r),h={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:a-n.bottom,bottomMirror:a-n.bottom},y=!!Ci(c,$p);return p.reduce(function(m,g){var b=r[g],w=b.orientation,x=b.domain,_=b.padding,S=_===void 0?{}:_,O=b.mirror,$=b.reversed,T="".concat(w).concat(O?"Mirror":""),j,A,N,k,C;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var F=x[1]-x[0],G=1/0,B=b.categoricalDomain.sort(wIe);if(B.forEach(function(Je,_t){_t>0&&(G=Math.min((Je||0)-(B[_t-1]||0),G))}),Number.isFinite(G)){var W=G/F,K=b.layout==="vertical"?n.height:n.width;if(b.padding==="gap"&&(j=W*K/2),b.padding==="no-gap"){var ee=Jn(t.barCategoryGap,W*K),V=W*K/2;j=V-ee-(V-ee)/K*ee}}}i==="xAxis"?A=[n.left+(S.left||0)+(j||0),n.left+n.width-(S.right||0)-(j||0)]:i==="yAxis"?A=l==="horizontal"?[n.top+n.height-(S.bottom||0),n.top+(S.top||0)]:[n.top+(S.top||0)+(j||0),n.top+n.height-(S.bottom||0)-(j||0)]:A=b.range,$&&(A=[A[1],A[0]]);var Q=ate(b,o,y),oe=Q.scale,fe=Q.realScaleType;oe.domain(x).range(A),lte(oe);var ae=ute(oe,ss(ss({},b),{},{realScaleType:fe}));i==="xAxis"?(C=w==="top"&&!O||w==="bottom"&&O,N=n.left,k=h[T]-C*b.height):i==="yAxis"&&(C=w==="left"&&!O||w==="right"&&O,N=h[T]-C*b.width,k=n.top);var Oe=ss(ss(ss({},b),ae),{},{realScaleType:fe,x:N,y:k,scale:oe,width:i==="xAxis"?n.width:b.width,height:i==="yAxis"?n.height:b.height});return Oe.bandSize=M2(Oe,ae),!b.hide&&i==="xAxis"?h[T]+=(C?-1:1)*Oe.height:b.hide||(h[T]+=(C?-1:1)*Oe.width),ss(ss({},m),{},iT({},g,Oe))},{})},Gte=function(t,r){var n=t.x,i=t.y,o=r.x,s=r.y;return{x:Math.min(n,o),y:Math.min(i,s),width:Math.abs(o-n),height:Math.abs(s-i)}},rqe=function(t){var r=t.x1,n=t.y1,i=t.x2,o=t.y2;return Gte({x:r,y:n},{x:i,y:o})},Wte=function(){function e(t){QVe(this,e),this.scale=t}return XVe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(r)+a}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?r>=i&&r<=o:r>=o&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();iT(Wte,"EPS",1e-4);var a4=function(t){var r=Object.keys(t).reduce(function(n,i){return ss(ss({},n),{},iT({},i,Wte.create(t[i])))},{});return ss(ss({},r),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return xVe(i,function(l,c){return r[c].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return Ute(i,function(o,s){return r[s].isInRange(o)})}})};function nqe(e){return(e%180+180)%180}var iqe=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=nqe(i),s=o*Math.PI/180,a=Math.atan(n/r),l=s>a&&s<Math.PI-a?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},oqe=wa,sqe=L1,aqe=k$;function lqe(e){return function(t,r,n){var i=Object(t);if(!sqe(t)){var o=oqe(r);t=aqe(t),r=function(a){return o(i[a],a,i)}}var s=e(t,r,n);return s>-1?i[o?t[s]:s]:void 0}}var uqe=lqe,cqe=Rte;function dqe(e){var t=cqe(e),r=t%1;return t===t?r?t-r:t:0}var pqe=dqe,fqe=zX,hqe=wa,yqe=pqe,mqe=Math.max;function gqe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:yqe(r);return i<0&&(i=mqe(n+i,0)),fqe(e,hqe(t),i)}var vqe=gqe,bqe=uqe,wqe=vqe,xqe=bqe(wqe),Sqe=xqe;const _qe=yt(Sqe);var $qe=xje(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),l4=M.createContext(void 0),u4=M.createContext(void 0),Hte=M.createContext(void 0),Jte=M.createContext({}),Zte=M.createContext(void 0),Kte=M.createContext(0),Yte=M.createContext(0),Gz=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,o=r.offset,s=t.clipPathId,a=t.children,l=t.width,c=t.height,p=$qe(o);return L.createElement(l4.Provider,{value:n},L.createElement(u4.Provider,{value:i},L.createElement(Jte.Provider,{value:o},L.createElement(Hte.Provider,{value:p},L.createElement(Zte.Provider,{value:s},L.createElement(Kte.Provider,{value:c},L.createElement(Yte.Provider,{value:l},a)))))))},Tqe=function(){return M.useContext(Zte)},Qte=function(t){var r=M.useContext(l4);r==null&&cp(!1);var n=r[t];return n==null&&cp(!1),n},Oqe=function(){var t=M.useContext(l4);return Ou(t)},Eqe=function(){var t=M.useContext(u4),r=_qe(t,function(n){return Ute(n.domain,Number.isFinite)});return r||Ou(t)},Xte=function(t){var r=M.useContext(u4);r==null&&cp(!1);var n=r[t];return n==null&&cp(!1),n},jqe=function(){var t=M.useContext(Hte);return t},Iqe=function(){return M.useContext(Jte)},c4=function(){return M.useContext(Yte)},d4=function(){return M.useContext(Kte)};function ay(e){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ay(e)}function Aqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tre(n.key),n)}}function Pqe(e,t,r){return t&&Wz(e.prototype,t),r&&Wz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nqe(e,t,r){return t=K2(t),Mqe(e,ere()?Reflect.construct(t,r||[],K2(e).constructor):t.apply(e,r))}function Mqe(e,t){if(t&&(ay(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cqe(e)}function Cqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ere(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ere=function(){return!!e})()}function K2(e){return K2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},K2(e)}function kqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YN(e,t)}function YN(e,t){return YN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YN(e,t)}function Hz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hz(Object(r),!0).forEach(function(n){p4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p4(e,t,r){return t=tre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tre(e){var t=Rqe(e,"string");return ay(t)=="symbol"?t:t+""}function Rqe(e,t){if(ay(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ay(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lqe(e,t){return zqe(e)||Uqe(e,t)||Fqe(e,t)||Dqe()}function Dqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fqe(e,t){if(e){if(typeof e=="string")return Zz(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zz(e,t)}}function Zz(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Uqe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(p){c=!0,i=p}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function zqe(e){if(Array.isArray(e))return e}function QN(){return QN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QN.apply(this,arguments)}var Bqe=function(t,r){var n;return L.isValidElement(t)?n=L.cloneElement(t,r):Ce(t)?n=t(r):n=L.createElement("line",QN({},r,{className:"recharts-reference-line-line"})),n},Vqe=function(t,r,n,i,o,s,a,l,c){var p=o.x,h=o.y,y=o.width,m=o.height;if(n){var g=c.y,b=t.y.apply(g,{position:s});if(pa(c,"discard")&&!t.y.isInRange(b))return null;var w=[{x:p+y,y:b},{x:p,y:b}];return l==="left"?w.reverse():w}if(r){var x=c.x,_=t.x.apply(x,{position:s});if(pa(c,"discard")&&!t.x.isInRange(_))return null;var S=[{x:_,y:h+m},{x:_,y:h}];return a==="top"?S.reverse():S}if(i){var O=c.segment,$=O.map(function(T){return t.apply(T,{position:s})});return pa(c,"discard")&&fVe($,function(T){return!t.isInRange(T)})?null:$}return null};function qqe(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,o=e.yAxisId,s=e.shape,a=e.className,l=e.alwaysShow,c=Tqe(),p=Qte(i),h=Xte(o),y=jqe();if(!c||!y)return null;$s(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=a4({x:p.scale,y:h.scale}),g=Ur(t),b=Ur(r),w=n&&n.length===2,x=Vqe(m,g,b,w,y,e.position,p.orientation,h.orientation,e);if(!x)return null;var _=Lqe(x,2),S=_[0],O=S.x,$=S.y,T=_[1],j=T.x,A=T.y,N=pa(e,"hidden")?"url(#".concat(c,")"):void 0,k=Jz(Jz({clipPath:N},Ae(e,!0)),{},{x1:O,y1:$,x2:j,y2:A});return L.createElement(ft,{className:Be("recharts-reference-line",a)},Bqe(s,k),Qr.renderCallByParent(e,rqe({x1:O,y1:$,x2:j,y2:A})))}var f4=function(e){function t(){return Aqe(this,t),Nqe(this,t,arguments)}return kqe(t,e),Pqe(t,[{key:"render",value:function(){return L.createElement(qqe,this.props)}}])}(L.Component);p4(f4,"displayName","ReferenceLine");p4(f4,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function XN(){return XN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XN.apply(this,arguments)}function ly(e){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ly(e)}function Kz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kz(Object(r),!0).forEach(function(n){oT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nre(n.key),n)}}function Wqe(e,t,r){return t&&Qz(e.prototype,t),r&&Qz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hqe(e,t,r){return t=Y2(t),Jqe(e,rre()?Reflect.construct(t,r||[],Y2(e).constructor):t.apply(e,r))}function Jqe(e,t){if(t&&(ly(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zqe(e)}function Zqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rre(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rre=function(){return!!e})()}function Y2(e){return Y2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Y2(e)}function Kqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eM(e,t)}function eM(e,t){return eM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eM(e,t)}function oT(e,t,r){return t=nre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nre(e){var t=Yqe(e,"string");return ly(t)=="symbol"?t:t+""}function Yqe(e,t){if(ly(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ly(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qqe=function(t){var r=t.x,n=t.y,i=t.xAxis,o=t.yAxis,s=a4({x:i.scale,y:o.scale}),a=s.apply({x:r,y:n},{bandAware:!0});return pa(t,"discard")&&!s.isInRange(a)?null:a},sT=function(e){function t(){return Gqe(this,t),Hqe(this,t,arguments)}return Kqe(t,e),Wqe(t,[{key:"render",value:function(){var n=this.props,i=n.x,o=n.y,s=n.r,a=n.alwaysShow,l=n.clipPathId,c=Ur(i),p=Ur(o);if($s(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!p)return null;var h=Qqe(this.props);if(!h)return null;var y=h.x,m=h.y,g=this.props,b=g.shape,w=g.className,x=pa(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=Yz(Yz({clipPath:x},Ae(this.props,!0)),{},{cx:y,cy:m});return L.createElement(ft,{className:Be("recharts-reference-dot",w)},t.renderDot(b,_),Qr.renderCallByParent(this.props,{x:y-s,y:m-s,width:2*s,height:2*s}))}}])}(L.Component);oT(sT,"displayName","ReferenceDot");oT(sT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});oT(sT,"renderDot",function(e,t){var r;return L.isValidElement(e)?r=L.cloneElement(e,t):Ce(e)?r=e(t):r=L.createElement(s4,XN({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function tM(){return tM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tM.apply(this,arguments)}function uy(e){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uy(e)}function Xz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xz(Object(r),!0).forEach(function(n){aT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ore(n.key),n)}}function eGe(e,t,r){return t&&tB(e.prototype,t),r&&tB(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tGe(e,t,r){return t=Q2(t),rGe(e,ire()?Reflect.construct(t,r||[],Q2(e).constructor):t.apply(e,r))}function rGe(e,t){if(t&&(uy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nGe(e)}function nGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ire(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ire=function(){return!!e})()}function Q2(e){return Q2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Q2(e)}function iGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rM(e,t)}function rM(e,t){return rM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rM(e,t)}function aT(e,t,r){return t=ore(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ore(e){var t=oGe(e,"string");return uy(t)=="symbol"?t:t+""}function oGe(e,t){if(uy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sGe=function(t,r,n,i,o){var s=o.x1,a=o.x2,l=o.y1,c=o.y2,p=o.xAxis,h=o.yAxis;if(!p||!h)return null;var y=a4({x:p.scale,y:h.scale}),m={x:t?y.x.apply(s,{position:"start"}):y.x.rangeMin,y:n?y.y.apply(l,{position:"start"}):y.y.rangeMin},g={x:r?y.x.apply(a,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(c,{position:"end"}):y.y.rangeMax};return pa(o,"discard")&&(!y.isInRange(m)||!y.isInRange(g))?null:Gte(m,g)},lT=function(e){function t(){return Xqe(this,t),tGe(this,t,arguments)}return iGe(t,e),eGe(t,[{key:"render",value:function(){var n=this.props,i=n.x1,o=n.x2,s=n.y1,a=n.y2,l=n.className,c=n.alwaysShow,p=n.clipPathId;$s(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Ur(i),y=Ur(o),m=Ur(s),g=Ur(a),b=this.props.shape;if(!h&&!y&&!m&&!g&&!b)return null;var w=sGe(h,y,m,g,this.props);if(!w&&!b)return null;var x=pa(this.props,"hidden")?"url(#".concat(p,")"):void 0;return L.createElement(ft,{className:Be("recharts-reference-area",l)},t.renderRect(b,eB(eB({clipPath:x},Ae(this.props,!0)),w)),Qr.renderCallByParent(this.props,w))}}])}(L.Component);aT(lT,"displayName","ReferenceArea");aT(lT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});aT(lT,"renderRect",function(e,t){var r;return L.isValidElement(e)?r=L.cloneElement(e,t):Ce(e)?r=e(t):r=L.createElement(o4,tM({},t,{className:"recharts-reference-area-rect"})),r});function sre(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)if(r===void 0||r(e[i])===!0)n.push(e[i]);else return;return n}function aGe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return iqe(n,r)}function lGe(e,t,r){var n=r==="width",i=e.x,o=e.y,s=e.width,a=e.height;return t===1?{start:n?i:o,end:n?i+s:o+a}:{start:n?i+s:o+a,end:n?i:o}}function X2(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-i)<=0}function uGe(e,t){return sre(e,t+1)}function cGe(e,t,r,n,i){for(var o=(n||[]).slice(),s=t.start,a=t.end,l=0,c=1,p=s,h=function(){var g=n?.[l];if(g===void 0)return{v:sre(n,c)};var b=l,w,x=function(){return w===void 0&&(w=r(g,b)),w},_=g.coordinate,S=l===0||X2(e,_,x,p,a);S||(l=0,p=s,c+=1),S&&(p=_+e*(x()/2+i),l+=c)},y;c<=o.length;)if(y=h(),y)return y.v;return[]}function kv(e){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kv(e)}function rB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rB(Object(r),!0).forEach(function(n){dGe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dGe(e,t,r){return t=pGe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pGe(e){var t=fGe(e,"string");return kv(t)=="symbol"?t:t+""}function fGe(e,t){if(kv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hGe(e,t,r,n,i){for(var o=(n||[]).slice(),s=o.length,a=t.start,l=t.end,c=function(y){var m=o[y],g,b=function(){return g===void 0&&(g=r(m,y)),g};if(y===s-1){var w=e*(m.coordinate+e*b()/2-l);o[y]=m=_n(_n({},m),{},{tickCoord:w>0?m.coordinate-w*e:m.coordinate})}else o[y]=m=_n(_n({},m),{},{tickCoord:m.coordinate});var x=X2(e,m.tickCoord,b,a,l);x&&(l=m.tickCoord-e*(b()/2+i),o[y]=_n(_n({},m),{},{isShow:!0}))},p=s-1;p>=0;p--)c(p);return o}function yGe(e,t,r,n,i,o){var s=(n||[]).slice(),a=s.length,l=t.start,c=t.end;if(o){var p=n[a-1],h=r(p,a-1),y=e*(p.coordinate+e*h/2-c);s[a-1]=p=_n(_n({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate});var m=X2(e,p.tickCoord,function(){return h},l,c);m&&(c=p.tickCoord-e*(h/2+i),s[a-1]=_n(_n({},p),{},{isShow:!0}))}for(var g=o?a-1:a,b=function(_){var S=s[_],O,$=function(){return O===void 0&&(O=r(S,_)),O};if(_===0){var T=e*(S.coordinate-e*$()/2-l);s[_]=S=_n(_n({},S),{},{tickCoord:T<0?S.coordinate-T*e:S.coordinate})}else s[_]=S=_n(_n({},S),{},{tickCoord:S.coordinate});var j=X2(e,S.tickCoord,$,l,c);j&&(l=S.tickCoord+e*($()/2+i),s[_]=_n(_n({},S),{},{isShow:!0}))},w=0;w<g;w++)b(w);return s}function h4(e,t,r){var n=e.tick,i=e.ticks,o=e.viewBox,s=e.minTickGap,a=e.orientation,l=e.interval,c=e.tickFormatter,p=e.unit,h=e.angle;if(!i||!i.length||!n)return[];if(le(l)||xl.isSsr)return uGe(i,typeof l=="number"&&le(l)?l:0);var y=[],m=a==="top"||a==="bottom"?"width":"height",g=p&&m==="width"?lg(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=function(S,O){var $=Ce(c)?c(S.value,O):S.value;return m==="width"?aGe(lg($,{fontSize:t,letterSpacing:r}),g,h):lg($,{fontSize:t,letterSpacing:r})[m]},w=i.length>=2?Hn(i[1].coordinate-i[0].coordinate):1,x=lGe(o,w,m);return l==="equidistantPreserveStart"?cGe(w,x,b,i,s):(l==="preserveStart"||l==="preserveStartEnd"?y=yGe(w,x,b,i,s,l==="preserveStartEnd"):y=hGe(w,x,b,i,s),y.filter(function(_){return _.isShow}))}var mGe=["viewBox"],gGe=["viewBox"],vGe=["ticks"];function cy(e){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cy(e)}function Zf(){return Zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zf.apply(this,arguments)}function nB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nB(Object(r),!0).forEach(function(n){y4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gE(e,t){if(e==null)return{};var r=bGe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bGe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lre(n.key),n)}}function xGe(e,t,r){return t&&iB(e.prototype,t),r&&iB(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function SGe(e,t,r){return t=e_(t),_Ge(e,are()?Reflect.construct(t,r||[],e_(e).constructor):t.apply(e,r))}function _Ge(e,t){if(t&&(cy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ge(e)}function $Ge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function are(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(are=function(){return!!e})()}function e_(e){return e_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},e_(e)}function TGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nM(e,t)}function nM(e,t){return nM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nM(e,t)}function y4(e,t,r){return t=lre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lre(e){var t=OGe(e,"string");return cy(t)=="symbol"?t:t+""}function OGe(e,t){if(cy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ky=function(e){function t(r){var n;return wGe(this,t),n=SGe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return TGe(t,e),xGe(t,[{key:"shouldComponentUpdate",value:function(n,i){var o=n.viewBox,s=gE(n,mGe),a=this.props,l=a.viewBox,c=gE(a,gGe);return!vh(o,l)||!vh(s,c)||!vh(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,c=i.orientation,p=i.tickSize,h=i.mirror,y=i.tickMargin,m,g,b,w,x,_,S=h?-1:1,O=n.tickSize||p,$=le(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":m=g=n.coordinate,w=s+ +!h*l,b=w-S*O,_=b-S*y,x=$;break;case"left":b=w=n.coordinate,g=o+ +!h*a,m=g-S*O,x=m-S*y,_=$;break;case"right":b=w=n.coordinate,g=o+ +h*a,m=g+S*O,x=m+S*y,_=$;break;default:m=g=n.coordinate,w=s+ +h*l,b=w+S*O,_=b+S*y,x=$;break}return{line:{x1:m,y1:b,x2:g,y2:w},tick:{x,y:_}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,o=n.y,s=n.width,a=n.height,l=n.orientation,c=n.mirror,p=n.axisLine,h=jr(jr(jr({},Ae(this.props,!1)),Ae(p,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var y=+(l==="top"&&!c||l==="bottom"&&c);h=jr(jr({},h),{},{x1:i,y1:o+y*a,x2:i+s,y2:o+y*a})}else{var m=+(l==="left"&&!c||l==="right"&&c);h=jr(jr({},h),{},{x1:i+m*s,y1:o,x2:i+m*s,y2:o+a})}return L.createElement("line",Zf({},h,{className:Be("recharts-cartesian-axis-line",Gi(p,"className"))}))}},{key:"renderTicks",value:function(n,i,o){var s=this,a=this.props,l=a.tickLine,c=a.stroke,p=a.tick,h=a.tickFormatter,y=a.unit,m=h4(jr(jr({},this.props),{},{ticks:n}),i,o),g=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),w=Ae(this.props,!1),x=Ae(p,!1),_=jr(jr({},w),{},{fill:"none"},Ae(l,!1)),S=m.map(function(O,$){var T=s.getTickLineCoord(O),j=T.line,A=T.tick,N=jr(jr(jr(jr({textAnchor:g,verticalAnchor:b},w),{},{stroke:"none",fill:c},x),A),{},{index:$,payload:O,visibleTicksCount:m.length,tickFormatter:h});return L.createElement(ft,Zf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},ap(s.props,O,$)),l&&L.createElement("line",Zf({},_,j,{className:Be("recharts-cartesian-axis-tick-line",Gi(l,"className"))})),p&&t.renderTickItem(p,N,"".concat(Ce(h)?h(O.value,$):O.value).concat(y||"")))});return L.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var n=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,c=i.className,p=i.hide;if(p)return null;var h=this.props,y=h.ticks,m=gE(h,vGe),g=y;return Ce(l)&&(g=y&&y.length>0?l(this.props):l(m)),s<=0||a<=0||!g||!g.length?null:L.createElement(ft,{className:Be("recharts-cartesian-axis",c),ref:function(w){n.layerReference=w}},o&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Qr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,o){var s,a=Be(i.className,"recharts-cartesian-axis-tick-value");return L.isValidElement(n)?s=L.cloneElement(n,jr(jr({},i),{},{className:a})):Ce(n)?s=n(jr(jr({},i),{},{className:a})):s=L.createElement(lp,Zf({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(M.Component);y4(Ky,"displayName","CartesianAxis");y4(Ky,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var EGe=["x1","y1","x2","y2","key"],jGe=["offset"];function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}function oB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oB(Object(r),!0).forEach(function(n){IGe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IGe(e,t,r){return t=AGe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AGe(e){var t=PGe(e,"string");return dp(t)=="symbol"?t:t+""}function PGe(e,t){if(dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ad(){return Ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ad.apply(this,arguments)}function sB(e,t){if(e==null)return{};var r=NGe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NGe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var MGe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,o=t.y,s=t.width,a=t.height,l=t.ry;return L.createElement("rect",{x:i,y:o,ry:l,width:s,height:a,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function ure(e,t){var r;if(L.isValidElement(e))r=L.cloneElement(e,t);else if(Ce(e))r=e(t);else{var n=t.x1,i=t.y1,o=t.x2,s=t.y2,a=t.key,l=sB(t,EGe),c=Ae(l,!1);c.offset;var p=sB(c,jGe);r=L.createElement("line",Ad({},p,{x1:n,y1:i,x2:o,y2:s,fill:"none",key:a}))}return r}function CGe(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var c=Pn(Pn({},e),{},{x1:t,y1:a,x2:t+r,y2:a,key:"line-".concat(l),index:l});return ure(i,c)});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function kGe(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,o=e.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var c=Pn(Pn({},e),{},{x1:a,y1:t,x2:a,y2:t+r,key:"line-".concat(l),index:l});return ure(i,c)});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function RGe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,o=e.width,s=e.height,a=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var p=a.map(function(y){return Math.round(y+i-i)}).sort(function(y,m){return y-m});i!==p[0]&&p.unshift(0);var h=p.map(function(y,m){var g=!p[m+1],b=g?i+s-y:p[m+1]-y;if(b<=0)return null;var w=m%t.length;return L.createElement("rect",{key:"react-".concat(m),y,x:n,height:b,width:o,stroke:"none",fill:t[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function LGe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,o=e.x,s=e.y,a=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var p=c.map(function(y){return Math.round(y+o-o)}).sort(function(y,m){return y-m});o!==p[0]&&p.unshift(0);var h=p.map(function(y,m){var g=!p[m+1],b=g?o+a-y:p[m+1]-y;if(b<=0)return null;var w=m%n.length;return L.createElement("rect",{key:"react-".concat(m),x:y,y:s,width:b,height:l,stroke:"none",fill:n[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var DGe=function(t,r){var n=t.xAxis,i=t.width,o=t.height,s=t.offset;return ste(h4(Pn(Pn(Pn({},Ky.defaultProps),n),{},{ticks:gl(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,r)},FGe=function(t,r){var n=t.yAxis,i=t.width,o=t.height,s=t.offset;return ste(h4(Pn(Pn(Pn({},Ky.defaultProps),n),{},{ticks:gl(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,r)},Up={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function cre(e){var t,r,n,i,o,s,a=c4(),l=d4(),c=Iqe(),p=Pn(Pn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Up.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Up.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Up.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Up.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:Up.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Up.verticalFill,x:le(e.x)?e.x:c.left,y:le(e.y)?e.y:c.top,width:le(e.width)?e.width:c.width,height:le(e.height)?e.height:c.height}),h=p.x,y=p.y,m=p.width,g=p.height,b=p.syncWithTicks,w=p.horizontalValues,x=p.verticalValues,_=Oqe(),S=Eqe();if(!le(m)||m<=0||!le(g)||g<=0||!le(h)||h!==+h||!le(y)||y!==+y)return null;var O=p.verticalCoordinatesGenerator||DGe,$=p.horizontalCoordinatesGenerator||FGe,T=p.horizontalPoints,j=p.verticalPoints;if((!T||!T.length)&&Ce($)){var A=w&&w.length,N=$({yAxis:S?Pn(Pn({},S),{},{ticks:A?w:S.ticks}):void 0,width:a,height:l,offset:c},A?!0:b);$s(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(dp(N),"]")),Array.isArray(N)&&(T=N)}if((!j||!j.length)&&Ce(O)){var k=x&&x.length,C=O({xAxis:_?Pn(Pn({},_),{},{ticks:k?x:_.ticks}):void 0,width:a,height:l,offset:c},k?!0:b);$s(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(dp(C),"]")),Array.isArray(C)&&(j=C)}return L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(MGe,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),L.createElement(CGe,Ad({},p,{offset:c,horizontalPoints:T,xAxis:_,yAxis:S})),L.createElement(kGe,Ad({},p,{offset:c,verticalPoints:j,xAxis:_,yAxis:S})),L.createElement(RGe,Ad({},p,{horizontalPoints:T})),L.createElement(LGe,Ad({},p,{verticalPoints:j})))}cre.displayName="CartesianGrid";function dy(e){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dy(e)}function UGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fre(n.key),n)}}function zGe(e,t,r){return t&&aB(e.prototype,t),r&&aB(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function BGe(e,t,r){return t=t_(t),VGe(e,dre()?Reflect.construct(t,r||[],t_(e).constructor):t.apply(e,r))}function VGe(e,t){if(t&&(dy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qGe(e)}function qGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dre(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dre=function(){return!!e})()}function t_(e){return t_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},t_(e)}function GGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iM(e,t)}function iM(e,t){return iM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iM(e,t)}function pre(e,t,r){return t=fre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fre(e){var t=WGe(e,"string");return dy(t)=="symbol"?t:t+""}function WGe(e,t){if(dy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oM(){return oM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oM.apply(this,arguments)}function HGe(e){var t=e.xAxisId,r=c4(),n=d4(),i=Qte(t);return i==null?null:M.createElement(Ky,oM({},i,{className:Be("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return gl(s,!0)}}))}var uT=function(e){function t(){return UGe(this,t),BGe(this,t,arguments)}return GGe(t,e),zGe(t,[{key:"render",value:function(){return M.createElement(HGe,this.props)}}])}(M.Component);pre(uT,"displayName","XAxis");pre(uT,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function py(e){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},py(e)}function JGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mre(n.key),n)}}function ZGe(e,t,r){return t&&lB(e.prototype,t),r&&lB(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function KGe(e,t,r){return t=r_(t),YGe(e,hre()?Reflect.construct(t,r||[],r_(e).constructor):t.apply(e,r))}function YGe(e,t){if(t&&(py(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QGe(e)}function QGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hre(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hre=function(){return!!e})()}function r_(e){return r_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},r_(e)}function XGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sM(e,t)}function sM(e,t){return sM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sM(e,t)}function yre(e,t,r){return t=mre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mre(e){var t=eWe(e,"string");return py(t)=="symbol"?t:t+""}function eWe(e,t){if(py(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(py(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aM(){return aM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aM.apply(this,arguments)}var tWe=function(t){var r=t.yAxisId,n=c4(),i=d4(),o=Xte(r);return o==null?null:M.createElement(Ky,aM({},o,{className:Be("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(a){return gl(a,!0)}}))},cT=function(e){function t(){return JGe(this,t),KGe(this,t,arguments)}return XGe(t,e),ZGe(t,[{key:"render",value:function(){return M.createElement(tWe,this.props)}}])}(M.Component);yre(cT,"displayName","YAxis");yre(cT,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function uB(e){return oWe(e)||iWe(e)||nWe(e)||rWe()}function rWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nWe(e,t){if(e){if(typeof e=="string")return lM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lM(e,t)}}function iWe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oWe(e){if(Array.isArray(e))return lM(e)}function lM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var uM=function(t,r,n,i,o){var s=To(t,f4),a=To(t,sT),l=[].concat(uB(s),uB(a)),c=To(t,lT),p="".concat(i,"Id"),h=i[0],y=r;if(l.length&&(y=l.reduce(function(b,w){if(w.props[p]===n&&pa(w.props,"extendDomain")&&le(w.props[h])){var x=w.props[h];return[Math.min(b[0],x),Math.max(b[1],x)]}return b},y)),c.length){var m="".concat(h,"1"),g="".concat(h,"2");y=c.reduce(function(b,w){if(w.props[p]===n&&pa(w.props,"extendDomain")&&le(w.props[m])&&le(w.props[g])){var x=w.props[m],_=w.props[g];return[Math.min(b[0],x,_),Math.max(b[1],x,_)]}return b},y)}return o&&o.length&&(y=o.reduce(function(b,w){return le(w)?[Math.min(b[0],w),Math.max(b[1],w)]:b},y)),y},gre={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,p){this.fn=l,this.context=c,this.once=p||!1}function o(l,c,p,h,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var m=new i(p,h||l,y),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],p,h;if(this._eventsCount===0)return c;for(h in p=this._events)t.call(p,h)&&c.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(p)):c},a.prototype.listeners=function(c){var p=r?r+c:c,h=this._events[p];if(!h)return[];if(h.fn)return[h.fn];for(var y=0,m=h.length,g=new Array(m);y<m;y++)g[y]=h[y].fn;return g},a.prototype.listenerCount=function(c){var p=r?r+c:c,h=this._events[p];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,p,h,y,m,g){var b=r?r+c:c;if(!this._events[b])return!1;var w=this._events[b],x=arguments.length,_,S;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),x){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,p),!0;case 3:return w.fn.call(w.context,p,h),!0;case 4:return w.fn.call(w.context,p,h,y),!0;case 5:return w.fn.call(w.context,p,h,y,m),!0;case 6:return w.fn.call(w.context,p,h,y,m,g),!0}for(S=1,_=new Array(x-1);S<x;S++)_[S-1]=arguments[S];w.fn.apply(w.context,_)}else{var O=w.length,$;for(S=0;S<O;S++)switch(w[S].once&&this.removeListener(c,w[S].fn,void 0,!0),x){case 1:w[S].fn.call(w[S].context);break;case 2:w[S].fn.call(w[S].context,p);break;case 3:w[S].fn.call(w[S].context,p,h);break;case 4:w[S].fn.call(w[S].context,p,h,y);break;default:if(!_)for($=1,_=new Array(x-1);$<x;$++)_[$-1]=arguments[$];w[S].fn.apply(w[S].context,_)}}return!0},a.prototype.on=function(c,p,h){return o(this,c,p,h,!1)},a.prototype.once=function(c,p,h){return o(this,c,p,h,!0)},a.prototype.removeListener=function(c,p,h,y){var m=r?r+c:c;if(!this._events[m])return this;if(!p)return s(this,m),this;var g=this._events[m];if(g.fn)g.fn===p&&(!y||g.once)&&(!h||g.context===h)&&s(this,m);else{for(var b=0,w=[],x=g.length;b<x;b++)(g[b].fn!==p||y&&!g[b].once||h&&g[b].context!==h)&&w.push(g[b]);w.length?this._events[m]=w.length===1?w[0]:w:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var p;return c?(p=r?r+c:c,this._events[p]&&s(this,p)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a})(gre);var sWe=gre.exports;const aWe=yt(sWe);var vE=new aWe,bE="recharts.syncMouseEvents";function Rv(e){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rv(e)}function lWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vre(n.key),n)}}function uWe(e,t,r){return t&&cB(e.prototype,t),r&&cB(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wE(e,t,r){return t=vre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vre(e){var t=cWe(e,"string");return Rv(t)=="symbol"?t:t+""}function cWe(e,t){if(Rv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dWe=function(){function e(){lWe(this,e),wE(this,"activeIndex",0),wE(this,"coordinateList",[]),wE(this,"layout","horizontal")}return uWe(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,o=i===void 0?null:i,s=r.container,a=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,p=r.offset,h=p===void 0?null:p,y=r.mouseHandlerCallback,m=y===void 0?null:y;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=a??this.container,this.layout=c??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=o+l+c,y=s+this.offset.top+a/2+p;this.mouseHandlerCallback({pageX:h,pageY:y})}}}])}();function pWe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],i=e?.[1];if(n&&i&&le(n)&&le(i))return!0}return!1}function fWe(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function bre(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,o=e.endAngle,s=At(t,r,n,i),a=At(t,r,n,o);return{points:[s,a],cx:t,cy:r,radius:n,startAngle:i,endAngle:o}}function hWe(e,t,r){var n,i,o,s;if(e==="horizontal")n=t.x,o=n,i=r.top,s=r.top+r.height;else if(e==="vertical")i=t.y,s=i,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var a=t.cx,l=t.cy,c=t.innerRadius,p=t.outerRadius,h=t.angle,y=At(a,l,c,h),m=At(a,l,p,h);n=y.x,i=y.y,o=m.x,s=m.y}else return bre(t);return[{x:n,y:i},{x:o,y:s}]}function Lv(e){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lv(e)}function dB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dB(Object(r),!0).forEach(function(n){yWe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yWe(e,t,r){return t=mWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mWe(e){var t=gWe(e,"string");return Lv(t)=="symbol"?t:t+""}function gWe(e,t){if(Lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vWe(e){var t,r,n=e.element,i=e.tooltipEventType,o=e.isActive,s=e.activeCoordinate,a=e.activePayload,l=e.offset,c=e.activeTooltipIndex,p=e.tooltipAxisBandSize,h=e.layout,y=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!o||!s||y!=="ScatterChart"&&i!=="axis")return null;var g,b=NN;if(y==="ScatterChart")g=s,b=tze;else if(y==="BarChart")g=fWe(h,s,l,p),b=o4;else if(h==="radial"){var w=bre(s),x=w.cx,_=w.cy,S=w.radius,O=w.startAngle,$=w.endAngle;g={cx:x,cy:_,startAngle:O,endAngle:$,innerRadius:S,outerRadius:S},b=gte}else g={points:hWe(h,s,l)},b=NN;var T=dw(dw(dw(dw({stroke:"#ccc",pointerEvents:"none"},l),g),Ae(m,!1)),{},{payload:a,payloadIndex:c,className:Be("recharts-tooltip-cursor",m.className)});return M.isValidElement(m)?M.cloneElement(m,T):M.createElement(b,T)}var bWe=["item"],wWe=["children","className","width","height","style","compact","title","desc"];function fy(e){"@babel/helpers - typeof";return fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fy(e)}function Kf(){return Kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kf.apply(this,arguments)}function pB(e,t){return _We(e)||SWe(e,t)||xre(e,t)||xWe()}function xWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SWe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(p){c=!0,i=p}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function _We(e){if(Array.isArray(e))return e}function fB(e,t){if(e==null)return{};var r=$We(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $We(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function TWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Sre(n.key),n)}}function OWe(e,t,r){return t&&hB(e.prototype,t),r&&hB(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function EWe(e,t,r){return t=n_(t),jWe(e,wre()?Reflect.construct(t,r||[],n_(e).constructor):t.apply(e,r))}function jWe(e,t){if(t&&(fy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IWe(e)}function IWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wre(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wre=function(){return!!e})()}function n_(e){return n_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},n_(e)}function AWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cM(e,t)}function cM(e,t){return cM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cM(e,t)}function hy(e){return MWe(e)||NWe(e)||xre(e)||PWe()}function PWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xre(e,t){if(e){if(typeof e=="string")return dM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dM(e,t)}}function NWe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function MWe(e){if(Array.isArray(e))return dM(e)}function dM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yB(Object(r),!0).forEach(function(n){je(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function je(e,t,r){return t=Sre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sre(e){var t=CWe(e,"string");return fy(t)=="symbol"?t:t+""}function CWe(e,t){if(fy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kWe={xAxis:["bottom","top"],yAxis:["left","right"]},RWe={width:"100%",height:"100%"},_re={x:0,y:0};function pw(e){return e}var LWe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},DWe=function(t,r,n,i){var o=r.find(function(p){return p&&p.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:o.coordinate};if(t==="centric"){var s=o.coordinate,a=i.radius;return Y(Y(Y({},i),At(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,c=i.angle;return Y(Y(Y({},i),At(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return _re},dT=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,o=r.dataEndIndex,s=(n??[]).reduce(function(a,l){var c=l.props.data;return c&&c.length?[].concat(hy(a),hy(c)):a},[]);return s.length>0?s:t&&t.length&&le(i)&&le(o)?t.slice(i,o+1):[]};function $re(e){return e==="number"?[0,"auto"]:void 0}var pM=function(t,r,n,i){var o=t.graphicalItems,s=t.tooltipAxis,a=dT(r,t);return n<0||!o||!o.length||n>=a.length?null:o.reduce(function(l,c){var p,h=(p=c.props.data)!==null&&p!==void 0?p:r;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var y;if(s.dataKey&&!s.allowDuplicatedCategory){var m=h===void 0?a:h;y=U3(m,s.dataKey,i)}else y=h&&h[n]||a[n];return y?[].concat(hy(l),[dte(c,y)]):l},[])},mB=function(t,r,n,i){var o=i||{x:t.chartX,y:t.chartY},s=LWe(o,n),a=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,p=O8e(s,a,c,l);if(p>=0&&c){var h=c[p]&&c[p].value,y=pM(t,r,p,h),m=DWe(n,a,p,o);return{activeTooltipIndex:p,activeLabel:h,activePayload:y,activeCoordinate:m}}return null},FWe=function(t,r){var n=r.axes,i=r.graphicalItems,o=r.axisType,s=r.axisIdKey,a=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,p=t.layout,h=t.children,y=t.stackOffset,m=ote(p,o);return n.reduce(function(g,b){var w,x=b.type.defaultProps!==void 0?Y(Y({},b.type.defaultProps),b.props):b.props,_=x.type,S=x.dataKey,O=x.allowDataOverflow,$=x.allowDuplicatedCategory,T=x.scale,j=x.ticks,A=x.includeHidden,N=x[s];if(g[N])return g;var k=dT(t.data,{graphicalItems:i.filter(function(ae){var Oe,Je=s in ae.props?ae.props[s]:(Oe=ae.type.defaultProps)===null||Oe===void 0?void 0:Oe[s];return Je===N}),dataStartIndex:l,dataEndIndex:c}),C=k.length,F,G,B;pWe(x.domain,O,_)&&(F=EN(x.domain,null,O),m&&(_==="number"||T!=="auto")&&(B=cg(k,S,"category")));var W=$re(_);if(!F||F.length===0){var K,ee=(K=x.domain)!==null&&K!==void 0?K:W;if(S){if(F=cg(k,S,_),_==="category"&&m){var V=bIe(F);$&&V?(G=F,F=G2(0,C)):$||(F=M7(ee,F,b).reduce(function(ae,Oe){return ae.indexOf(Oe)>=0?ae:[].concat(hy(ae),[Oe])},[]))}else if(_==="category")$?F=F.filter(function(ae){return ae!==""&&!qe(ae)}):F=M7(ee,F,b).reduce(function(ae,Oe){return ae.indexOf(Oe)>=0||Oe===""||qe(Oe)?ae:[].concat(hy(ae),[Oe])},[]);else if(_==="number"){var Q=P8e(k,i.filter(function(ae){var Oe,Je,_t=s in ae.props?ae.props[s]:(Oe=ae.type.defaultProps)===null||Oe===void 0?void 0:Oe[s],Bt="hide"in ae.props?ae.props.hide:(Je=ae.type.defaultProps)===null||Je===void 0?void 0:Je.hide;return _t===N&&(A||!Bt)}),S,o,p);Q&&(F=Q)}m&&(_==="number"||T!=="auto")&&(B=cg(k,S,"category"))}else m?F=G2(0,C):a&&a[N]&&a[N].hasStack&&_==="number"?F=y==="expand"?[0,1]:cte(a[N].stackGroups,l,c):F=ite(k,i.filter(function(ae){var Oe=s in ae.props?ae.props[s]:ae.type.defaultProps[s],Je="hide"in ae.props?ae.props.hide:ae.type.defaultProps.hide;return Oe===N&&(A||!Je)}),_,p,!0);if(_==="number")F=uM(h,F,N,o,j),ee&&(F=EN(ee,F,O));else if(_==="category"&&ee){var oe=ee,fe=F.every(function(ae){return oe.indexOf(ae)>=0});fe&&(F=oe)}}return Y(Y({},g),{},je({},N,Y(Y({},x),{},{axisType:o,domain:F,categoricalDomain:B,duplicateDomain:G,originalDomain:(w=x.domain)!==null&&w!==void 0?w:W,isCategorical:m,layout:p})))},{})},UWe=function(t,r){var n=r.graphicalItems,i=r.Axis,o=r.axisType,s=r.axisIdKey,a=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,p=t.layout,h=t.children,y=dT(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),m=y.length,g=ote(p,o),b=-1;return n.reduce(function(w,x){var _=x.type.defaultProps!==void 0?Y(Y({},x.type.defaultProps),x.props):x.props,S=_[s],O=$re("number");if(!w[S]){b++;var $;return g?$=G2(0,m):a&&a[S]&&a[S].hasStack?($=cte(a[S].stackGroups,l,c),$=uM(h,$,S,o)):($=EN(O,ite(y,n.filter(function(T){var j,A,N=s in T.props?T.props[s]:(j=T.type.defaultProps)===null||j===void 0?void 0:j[s],k="hide"in T.props?T.props.hide:(A=T.type.defaultProps)===null||A===void 0?void 0:A.hide;return N===S&&!k}),"number",p),i.defaultProps.allowDataOverflow),$=uM(h,$,S,o)),Y(Y({},w),{},je({},S,Y(Y({axisType:o},i.defaultProps),{},{hide:!0,orientation:Gi(kWe,"".concat(o,".").concat(b%2),null),domain:$,originalDomain:O,isCategorical:g,layout:p})))}return w},{})},zWe=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,o=r.AxisComp,s=r.graphicalItems,a=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,p=t.children,h="".concat(i,"Id"),y=To(p,o),m={};return y&&y.length?m=FWe(t,{axes:y,graphicalItems:s,axisType:i,axisIdKey:h,stackGroups:a,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(m=UWe(t,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:h,stackGroups:a,dataStartIndex:l,dataEndIndex:c})),m},BWe=function(t){var r=Ou(t),n=gl(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:NR(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:M2(r,n)}},gB=function(t){var r=t.children,n=t.defaultShowTooltip,i=Ci(r,oy),o=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},VWe=function(t){return!t||!t.length?!1:t.some(function(r){var n=wl(r&&r.type);return n&&n.indexOf("Bar")>=0})},vB=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},qWe=function(t,r){var n=t.props,i=t.graphicalItems,o=t.xAxisMap,s=o===void 0?{}:o,a=t.yAxisMap,l=a===void 0?{}:a,c=n.width,p=n.height,h=n.children,y=n.margin||{},m=Ci(h,oy),g=Ci(h,Ld),b=Object.keys(l).reduce(function($,T){var j=l[T],A=j.orientation;return!j.mirror&&!j.hide?Y(Y({},$),{},je({},A,$[A]+j.width)):$},{left:y.left||0,right:y.right||0}),w=Object.keys(s).reduce(function($,T){var j=s[T],A=j.orientation;return!j.mirror&&!j.hide?Y(Y({},$),{},je({},A,Gi($,"".concat(A))+j.height)):$},{top:y.top||0,bottom:y.bottom||0}),x=Y(Y({},w),b),_=x.bottom;m&&(x.bottom+=m.props.height||oy.defaultProps.height),g&&r&&(x=I8e(x,i,n,r));var S=c-x.left-x.right,O=p-x.top-x.bottom;return Y(Y({brushBottom:_},x),{},{width:Math.max(S,0),height:Math.max(O,0)})},GWe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Tre=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,o=i===void 0?"axis":i,s=t.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=t.axisComponents,c=t.legendContent,p=t.formatAxisMap,h=t.defaultProps,y=function(x,_){var S=_.graphicalItems,O=_.stackGroups,$=_.offset,T=_.updateId,j=_.dataStartIndex,A=_.dataEndIndex,N=x.barSize,k=x.layout,C=x.barGap,F=x.barCategoryGap,G=x.maxBarSize,B=vB(k),W=B.numericAxisName,K=B.cateAxisName,ee=VWe(S),V=[];return S.forEach(function(Q,oe){var fe=dT(x.data,{graphicalItems:[Q],dataStartIndex:j,dataEndIndex:A}),ae=Q.type.defaultProps!==void 0?Y(Y({},Q.type.defaultProps),Q.props):Q.props,Oe=ae.dataKey,Je=ae.maxBarSize,_t=ae["".concat(W,"Id")],Bt=ae["".concat(K,"Id")],ei={},dn=l.reduce(function(fn,Sa){var Yy=_["".concat(Sa.axisType,"Map")],B1=ae["".concat(Sa.axisType,"Id")];Yy&&Yy[B1]||Sa.axisType==="zAxis"||cp(!1);var V1=Yy[B1];return Y(Y({},fn),{},je(je({},Sa.axisType,V1),"".concat(Sa.axisType,"Ticks"),gl(V1)))},ei),me=dn[K],De=dn["".concat(K,"Ticks")],Fe=O&&O[_t]&&O[_t].hasStack&&U8e(Q,O[_t].stackGroups),ne=wl(Q.type).indexOf("Bar")>=0,Dt=M2(me,De),Ze=[],ir=ee&&E8e({barSize:N,stackGroups:O,totalSize:GWe(dn,K)});if(ne){var or,pn,Ps=qe(Je)?G:Je,xa=(or=(pn=M2(me,De,!0))!==null&&pn!==void 0?pn:Ps)!==null&&or!==void 0?or:0;Ze=j8e({barGap:C,barCategoryGap:F,bandSize:xa!==Dt?xa:Dt,sizeList:ir[Bt],maxBarSize:Ps}),xa!==Dt&&(Ze=Ze.map(function(fn){return Y(Y({},fn),{},{position:Y(Y({},fn.position),{},{offset:fn.position.offset-xa/2})})}))}var $c=Q&&Q.type&&Q.type.getComposedData;$c&&V.push({props:Y(Y({},$c(Y(Y({},dn),{},{displayedData:fe,props:x,dataKey:Oe,item:Q,bandSize:Dt,barPosition:Ze,offset:$,stackedData:Fe,layout:k,dataStartIndex:j,dataEndIndex:A}))),{},je(je(je({key:Q.key||"item-".concat(oe)},W,dn[W]),K,dn[K]),"animationId",T)),childIndex:PIe(Q,x.children),item:Q})}),V},m=function(x,_){var S=x.props,O=x.dataStartIndex,$=x.dataEndIndex,T=x.updateId;if(!_9({props:S}))return null;var j=S.children,A=S.layout,N=S.stackOffset,k=S.data,C=S.reverseStackOrder,F=vB(A),G=F.numericAxisName,B=F.cateAxisName,W=To(j,n),K=D8e(k,W,"".concat(G,"Id"),"".concat(B,"Id"),N,C),ee=l.reduce(function(ae,Oe){var Je="".concat(Oe.axisType,"Map");return Y(Y({},ae),{},je({},Je,zWe(S,Y(Y({},Oe),{},{graphicalItems:W,stackGroups:Oe.axisType===G&&K,dataStartIndex:O,dataEndIndex:$}))))},{}),V=qWe(Y(Y({},ee),{},{props:S,graphicalItems:W}),_?.legendBBox);Object.keys(ee).forEach(function(ae){ee[ae]=p(S,ee[ae],V,ae.replace("Map",""),r)});var Q=ee["".concat(B,"Map")],oe=BWe(Q),fe=y(S,Y(Y({},ee),{},{dataStartIndex:O,dataEndIndex:$,updateId:T,graphicalItems:W,stackGroups:K,offset:V}));return Y(Y({formattedGraphicalItems:fe,graphicalItems:W,offset:V,stackGroups:K},oe),ee)},g=function(w){function x(_){var S,O,$;return TWe(this,x),$=EWe(this,x,[_]),je($,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),je($,"accessibilityManager",new dWe),je($,"handleLegendBBoxUpdate",function(T){if(T){var j=$.state,A=j.dataStartIndex,N=j.dataEndIndex,k=j.updateId;$.setState(Y({legendBBox:T},m({props:$.props,dataStartIndex:A,dataEndIndex:N,updateId:k},Y(Y({},$.state),{},{legendBBox:T}))))}}),je($,"handleReceiveSyncEvent",function(T,j,A){if($.props.syncId===T){if(A===$.eventEmitterSymbol&&typeof $.props.syncMethod!="function")return;$.applySyncEvent(j)}}),je($,"handleBrushChange",function(T){var j=T.startIndex,A=T.endIndex;if(j!==$.state.dataStartIndex||A!==$.state.dataEndIndex){var N=$.state.updateId;$.setState(function(){return Y({dataStartIndex:j,dataEndIndex:A},m({props:$.props,dataStartIndex:j,dataEndIndex:A,updateId:N},$.state))}),$.triggerSyncEvent({dataStartIndex:j,dataEndIndex:A})}}),je($,"handleMouseEnter",function(T){var j=$.getMouseInfo(T);if(j){var A=Y(Y({},j),{},{isTooltipActive:!0});$.setState(A),$.triggerSyncEvent(A);var N=$.props.onMouseEnter;Ce(N)&&N(A,T)}}),je($,"triggeredAfterMouseMove",function(T){var j=$.getMouseInfo(T),A=j?Y(Y({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};$.setState(A),$.triggerSyncEvent(A);var N=$.props.onMouseMove;Ce(N)&&N(A,T)}),je($,"handleItemMouseEnter",function(T){$.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),je($,"handleItemMouseLeave",function(){$.setState(function(){return{isTooltipActive:!1}})}),je($,"handleMouseMove",function(T){T.persist(),$.throttleTriggeredAfterMouseMove(T)}),je($,"handleMouseLeave",function(T){$.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};$.setState(j),$.triggerSyncEvent(j);var A=$.props.onMouseLeave;Ce(A)&&A(j,T)}),je($,"handleOuterEvent",function(T){var j=AIe(T),A=Gi($.props,"".concat(j));if(j&&Ce(A)){var N,k;/.*touch.*/i.test(j)?k=$.getMouseInfo(T.changedTouches[0]):k=$.getMouseInfo(T),A((N=k)!==null&&N!==void 0?N:{},T)}}),je($,"handleClick",function(T){var j=$.getMouseInfo(T);if(j){var A=Y(Y({},j),{},{isTooltipActive:!0});$.setState(A),$.triggerSyncEvent(A);var N=$.props.onClick;Ce(N)&&N(A,T)}}),je($,"handleMouseDown",function(T){var j=$.props.onMouseDown;if(Ce(j)){var A=$.getMouseInfo(T);j(A,T)}}),je($,"handleMouseUp",function(T){var j=$.props.onMouseUp;if(Ce(j)){var A=$.getMouseInfo(T);j(A,T)}}),je($,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&$.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),je($,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&$.handleMouseDown(T.changedTouches[0])}),je($,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&$.handleMouseUp(T.changedTouches[0])}),je($,"handleDoubleClick",function(T){var j=$.props.onDoubleClick;if(Ce(j)){var A=$.getMouseInfo(T);j(A,T)}}),je($,"handleContextMenu",function(T){var j=$.props.onContextMenu;if(Ce(j)){var A=$.getMouseInfo(T);j(A,T)}}),je($,"triggerSyncEvent",function(T){$.props.syncId!==void 0&&vE.emit(bE,$.props.syncId,T,$.eventEmitterSymbol)}),je($,"applySyncEvent",function(T){var j=$.props,A=j.layout,N=j.syncMethod,k=$.state.updateId,C=T.dataStartIndex,F=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)$.setState(Y({dataStartIndex:C,dataEndIndex:F},m({props:$.props,dataStartIndex:C,dataEndIndex:F,updateId:k},$.state)));else if(T.activeTooltipIndex!==void 0){var G=T.chartX,B=T.chartY,W=T.activeTooltipIndex,K=$.state,ee=K.offset,V=K.tooltipTicks;if(!ee)return;if(typeof N=="function")W=N(V,T);else if(N==="value"){W=-1;for(var Q=0;Q<V.length;Q++)if(V[Q].value===T.activeLabel){W=Q;break}}var oe=Y(Y({},ee),{},{x:ee.left,y:ee.top}),fe=Math.min(G,oe.x+oe.width),ae=Math.min(B,oe.y+oe.height),Oe=V[W]&&V[W].value,Je=pM($.state,$.props.data,W),_t=V[W]?{x:A==="horizontal"?V[W].coordinate:fe,y:A==="horizontal"?ae:V[W].coordinate}:_re;$.setState(Y(Y({},T),{},{activeLabel:Oe,activeCoordinate:_t,activePayload:Je,activeTooltipIndex:W}))}else $.setState(T)}),je($,"renderCursor",function(T){var j,A=$.state,N=A.isTooltipActive,k=A.activeCoordinate,C=A.activePayload,F=A.offset,G=A.activeTooltipIndex,B=A.tooltipAxisBandSize,W=$.getTooltipEventType(),K=(j=T.props.active)!==null&&j!==void 0?j:N,ee=$.props.layout,V=T.key||"_recharts-cursor";return L.createElement(vWe,{key:V,activeCoordinate:k,activePayload:C,activeTooltipIndex:G,chartName:r,element:T,isActive:K,layout:ee,offset:F,tooltipAxisBandSize:B,tooltipEventType:W})}),je($,"renderPolarAxis",function(T,j,A){var N=Gi(T,"type.axisType"),k=Gi($.state,"".concat(N,"Map")),C=T.type.defaultProps,F=C!==void 0?Y(Y({},C),T.props):T.props,G=k&&k[F["".concat(N,"Id")]];return M.cloneElement(T,Y(Y({},G),{},{className:Be(N,G.className),key:T.key||"".concat(j,"-").concat(A),ticks:gl(G,!0)}))}),je($,"renderPolarGrid",function(T){var j=T.props,A=j.radialLines,N=j.polarAngles,k=j.polarRadius,C=$.state,F=C.radiusAxisMap,G=C.angleAxisMap,B=Ou(F),W=Ou(G),K=W.cx,ee=W.cy,V=W.innerRadius,Q=W.outerRadius;return M.cloneElement(T,{polarAngles:Array.isArray(N)?N:gl(W,!0).map(function(oe){return oe.coordinate}),polarRadius:Array.isArray(k)?k:gl(B,!0).map(function(oe){return oe.coordinate}),cx:K,cy:ee,innerRadius:V,outerRadius:Q,key:T.key||"polar-grid",radialLines:A})}),je($,"renderLegend",function(){var T=$.state.formattedGraphicalItems,j=$.props,A=j.children,N=j.width,k=j.height,C=$.props.margin||{},F=N-(C.left||0)-(C.right||0),G=rte({children:A,formattedGraphicalItems:T,legendWidth:F,legendContent:c});if(!G)return null;var B=G.item,W=fB(G,bWe);return M.cloneElement(B,Y(Y({},W),{},{chartWidth:N,chartHeight:k,margin:C,onBBoxUpdate:$.handleLegendBBoxUpdate}))}),je($,"renderTooltip",function(){var T,j=$.props,A=j.children,N=j.accessibilityLayer,k=Ci(A,co);if(!k)return null;var C=$.state,F=C.isTooltipActive,G=C.activeCoordinate,B=C.activePayload,W=C.activeLabel,K=C.offset,ee=(T=k.props.active)!==null&&T!==void 0?T:F;return M.cloneElement(k,{viewBox:Y(Y({},K),{},{x:K.left,y:K.top}),active:ee,label:W,payload:ee?B:[],coordinate:G,accessibilityLayer:N})}),je($,"renderBrush",function(T){var j=$.props,A=j.margin,N=j.data,k=$.state,C=k.offset,F=k.dataStartIndex,G=k.dataEndIndex,B=k.updateId;return M.cloneElement(T,{key:T.key||"_recharts-brush",onChange:aw($.handleBrushChange,T.props.onChange),data:N,x:le(T.props.x)?T.props.x:C.left,y:le(T.props.y)?T.props.y:C.top+C.height+C.brushBottom-(A.bottom||0),width:le(T.props.width)?T.props.width:C.width,startIndex:F,endIndex:G,updateId:"brush-".concat(B)})}),je($,"renderReferenceElement",function(T,j,A){if(!T)return null;var N=$,k=N.clipPathId,C=$.state,F=C.xAxisMap,G=C.yAxisMap,B=C.offset,W=T.type.defaultProps||{},K=T.props,ee=K.xAxisId,V=ee===void 0?W.xAxisId:ee,Q=K.yAxisId,oe=Q===void 0?W.yAxisId:Q;return M.cloneElement(T,{key:T.key||"".concat(j,"-").concat(A),xAxis:F[V],yAxis:G[oe],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:k})}),je($,"renderActivePoints",function(T){var j=T.item,A=T.activePoint,N=T.basePoint,k=T.childIndex,C=T.isRange,F=[],G=j.props.key,B=j.item.type.defaultProps!==void 0?Y(Y({},j.item.type.defaultProps),j.item.props):j.item.props,W=B.activeDot,K=B.dataKey,ee=Y(Y({index:k,dataKey:K,cx:A.x,cy:A.y,r:4,fill:i4(j.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},Ae(W,!1)),s2(W));return F.push(x.renderActiveDot(W,ee,"".concat(G,"-activePoint-").concat(k))),N?F.push(x.renderActiveDot(W,Y(Y({},ee),{},{cx:N.x,cy:N.y}),"".concat(G,"-basePoint-").concat(k))):C&&F.push(null),F}),je($,"renderGraphicChild",function(T,j,A){var N=$.filterFormatItem(T,j,A);if(!N)return null;var k=$.getTooltipEventType(),C=$.state,F=C.isTooltipActive,G=C.tooltipAxis,B=C.activeTooltipIndex,W=C.activeLabel,K=$.props.children,ee=Ci(K,co),V=N.props,Q=V.points,oe=V.isRange,fe=V.baseLine,ae=N.item.type.defaultProps!==void 0?Y(Y({},N.item.type.defaultProps),N.item.props):N.item.props,Oe=ae.activeDot,Je=ae.hide,_t=ae.activeBar,Bt=ae.activeShape,ei=!!(!Je&&F&&ee&&(Oe||_t||Bt)),dn={};k!=="axis"&&ee&&ee.props.trigger==="click"?dn={onClick:aw($.handleItemMouseEnter,T.props.onClick)}:k!=="axis"&&(dn={onMouseLeave:aw($.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:aw($.handleItemMouseEnter,T.props.onMouseEnter)});var me=M.cloneElement(T,Y(Y({},N.props),dn));function De(Sa){return typeof G.dataKey=="function"?G.dataKey(Sa.payload):null}if(ei)if(B>=0){var Fe,ne;if(G.dataKey&&!G.allowDuplicatedCategory){var Dt=typeof G.dataKey=="function"?De:"payload.".concat(G.dataKey.toString());Fe=U3(Q,Dt,W),ne=oe&&fe&&U3(fe,Dt,W)}else Fe=Q?.[B],ne=oe&&fe&&fe[B];if(Bt||_t){var Ze=T.props.activeIndex!==void 0?T.props.activeIndex:B;return[M.cloneElement(T,Y(Y(Y({},N.props),dn),{},{activeIndex:Ze})),null,null]}if(!qe(Fe))return[me].concat(hy($.renderActivePoints({item:N,activePoint:Fe,basePoint:ne,childIndex:B,isRange:oe})))}else{var ir,or=(ir=$.getItemByXY($.state.activeCoordinate))!==null&&ir!==void 0?ir:{graphicalItem:me},pn=or.graphicalItem,Ps=pn.item,xa=Ps===void 0?T:Ps,$c=pn.childIndex,fn=Y(Y(Y({},N.props),dn),{},{activeIndex:$c});return[M.cloneElement(xa,fn),null,null]}return oe?[me,null,null]:[me,null]}),je($,"renderCustomized",function(T,j,A){return M.cloneElement(T,Y(Y({key:"recharts-customized-".concat(A)},$.props),$.state))}),je($,"renderMap",{CartesianGrid:{handler:pw,once:!0},ReferenceArea:{handler:$.renderReferenceElement},ReferenceLine:{handler:pw},ReferenceDot:{handler:$.renderReferenceElement},XAxis:{handler:pw},YAxis:{handler:pw},Brush:{handler:$.renderBrush,once:!0},Bar:{handler:$.renderGraphicChild},Line:{handler:$.renderGraphicChild},Area:{handler:$.renderGraphicChild},Radar:{handler:$.renderGraphicChild},RadialBar:{handler:$.renderGraphicChild},Scatter:{handler:$.renderGraphicChild},Pie:{handler:$.renderGraphicChild},Funnel:{handler:$.renderGraphicChild},Tooltip:{handler:$.renderCursor,once:!0},PolarGrid:{handler:$.renderPolarGrid,once:!0},PolarAngleAxis:{handler:$.renderPolarAxis},PolarRadiusAxis:{handler:$.renderPolarAxis},Customized:{handler:$.renderCustomized}}),$.clipPathId="".concat((S=_.id)!==null&&S!==void 0?S:R1("recharts"),"-clip"),$.throttleTriggeredAfterMouseMove=tee($.triggeredAfterMouseMove,(O=_.throttleDelay)!==null&&O!==void 0?O:1e3/60),$.state={},$}return AWe(x,w),OWe(x,[{key:"componentDidMount",value:function(){var S,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,O=S.children,$=S.data,T=S.height,j=S.layout,A=Ci(O,co);if(A){var N=A.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,C=pM(this.state,$,N,k),F=this.state.tooltipTicks[N].coordinate,G=(this.state.offset.top+T)/2,B=j==="horizontal",W=B?{x:F,y:G}:{y:F,x:G},K=this.state.formattedGraphicalItems.find(function(V){var Q=V.item;return Q.type.name==="Scatter"});K&&(W=Y(Y({},W),K.props.points[N].tooltipPosition),C=K.props.points[N].tooltipPayload);var ee={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:k,activePayload:C,activeCoordinate:W};this.setState(ee),this.renderCursor(A),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var $,T;this.accessibilityManager.setDetails({offset:{left:($=this.props.margin.left)!==null&&$!==void 0?$:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(S){B3([Ci(S.children,co)],[Ci(this.props.children,co)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Ci(this.props.children,co);if(S&&typeof S.props.shared=="boolean"){var O=S.props.shared?"axis":"item";return a.indexOf(O)>=0?O:o}return o}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var O=this.container,$=O.getBoundingClientRect(),T=e5e($),j={chartX:Math.round(S.pageX-T.left),chartY:Math.round(S.pageY-T.top)},A=$.width/O.offsetWidth||1,N=this.inRange(j.chartX,j.chartY,A);if(!N)return null;var k=this.state,C=k.xAxisMap,F=k.yAxisMap,G=this.getTooltipEventType(),B=mB(this.state,this.props.data,this.props.layout,N);if(G!=="axis"&&C&&F){var W=Ou(C).scale,K=Ou(F).scale,ee=W&&W.invert?W.invert(j.chartX):null,V=K&&K.invert?K.invert(j.chartY):null;return Y(Y({},j),{},{xValue:ee,yValue:V},B)}return B?Y(Y({},j),B):null}},{key:"inRange",value:function(S,O){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,j=S/$,A=O/$;if(T==="horizontal"||T==="vertical"){var N=this.state.offset,k=j>=N.left&&j<=N.left+N.width&&A>=N.top&&A<=N.top+N.height;return k?{x:j,y:A}:null}var C=this.state,F=C.angleAxisMap,G=C.radiusAxisMap;if(F&&G){var B=Ou(F);return R7({x:j,y:A},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,O=this.getTooltipEventType(),$=Ci(S,co),T={};$&&O==="axis"&&($.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=s2(this.props,this.handleOuterEvent);return Y(Y({},j),T)}},{key:"addListener",value:function(){vE.on(bE,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){vE.removeListener(bE,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,O,$){for(var T=this.state.formattedGraphicalItems,j=0,A=T.length;j<A;j++){var N=T[j];if(N.item===S||N.props.key===S.key||O===wl(N.item.type)&&$===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,O=this.state.offset,$=O.left,T=O.top,j=O.height,A=O.width;return L.createElement("defs",null,L.createElement("clipPath",{id:S},L.createElement("rect",{x:$,y:T,height:j,width:A})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(O,$){var T=pB($,2),j=T[0],A=T[1];return Y(Y({},O),{},je({},j,A.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(O,$){var T=pB($,2),j=T[0],A=T[1];return Y(Y({},O),{},je({},j,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[S])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(S){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[S])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(S){var O=this.state,$=O.formattedGraphicalItems,T=O.activeItem;if($&&$.length)for(var j=0,A=$.length;j<A;j++){var N=$[j],k=N.props,C=N.item,F=C.type.defaultProps!==void 0?Y(Y({},C.type.defaultProps),C.props):C.props,G=wl(C.type);if(G==="Bar"){var B=(k.data||[]).find(function(V){return k7e(S,V)});if(B)return{graphicalItem:N,payload:B}}else if(G==="RadialBar"){var W=(k.data||[]).find(function(V){return R7(S,V)});if(W)return{graphicalItem:N,payload:W}}else if(rT(N,T)||nT(N,T)||Pv(N,T)){var K=_Be({graphicalItem:N,activeTooltipItem:T,itemData:F.data}),ee=F.activeIndex===void 0?K:F.activeIndex;return{graphicalItem:Y(Y({},N),{},{childIndex:ee}),payload:Pv(N,T)?F.data[K]:N.props.data[K]}}}return null}},{key:"render",value:function(){var S=this;if(!_9(this))return null;var O=this.props,$=O.children,T=O.className,j=O.width,A=O.height,N=O.style,k=O.compact,C=O.title,F=O.desc,G=fB(O,wWe),B=Ae(G,!1);if(k)return L.createElement(Gz,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement(q3,Kf({},B,{width:j,height:A,title:C,desc:F}),this.renderClipPath(),T9($,this.renderMap)));if(this.props.accessibilityLayer){var W,K;B.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,B.role=(K=this.props.role)!==null&&K!==void 0?K:"application",B.onKeyDown=function(V){S.accessibilityManager.keyboardEvent(V)},B.onFocus=function(){S.accessibilityManager.focus()}}var ee=this.parseEventsOfWrapper();return L.createElement(Gz,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement("div",Kf({className:Be("recharts-wrapper",T),style:Y({position:"relative",cursor:"default",width:j,height:A},N)},ee,{ref:function(Q){S.container=Q}}),L.createElement(q3,Kf({},B,{width:j,height:A,title:C,desc:F,style:RWe}),this.renderClipPath(),T9($,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(M.Component);je(g,"displayName",r),je(g,"defaultProps",Y({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),je(g,"getDerivedStateFromProps",function(w,x){var _=w.dataKey,S=w.data,O=w.children,$=w.width,T=w.height,j=w.layout,A=w.stackOffset,N=w.margin,k=x.dataStartIndex,C=x.dataEndIndex;if(x.updateId===void 0){var F=gB(w);return Y(Y(Y({},F),{},{updateId:0},m(Y(Y({props:w},F),{},{updateId:0}),x)),{},{prevDataKey:_,prevData:S,prevWidth:$,prevHeight:T,prevLayout:j,prevStackOffset:A,prevMargin:N,prevChildren:O})}if(_!==x.prevDataKey||S!==x.prevData||$!==x.prevWidth||T!==x.prevHeight||j!==x.prevLayout||A!==x.prevStackOffset||!vh(N,x.prevMargin)){var G=gB(w),B={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},W=Y(Y({},mB(x,S,j)),{},{updateId:x.updateId+1}),K=Y(Y(Y({},G),B),W);return Y(Y(Y({},K),m(Y({props:w},K),x)),{},{prevDataKey:_,prevData:S,prevWidth:$,prevHeight:T,prevLayout:j,prevStackOffset:A,prevMargin:N,prevChildren:O})}if(!B3(O,x.prevChildren)){var ee,V,Q,oe,fe=Ci(O,oy),ae=fe&&(ee=(V=fe.props)===null||V===void 0?void 0:V.startIndex)!==null&&ee!==void 0?ee:k,Oe=fe&&(Q=(oe=fe.props)===null||oe===void 0?void 0:oe.endIndex)!==null&&Q!==void 0?Q:C,Je=ae!==k||Oe!==C,_t=!qe(S),Bt=_t&&!Je?x.updateId:x.updateId+1;return Y(Y({updateId:Bt},m(Y(Y({props:w},x),{},{updateId:Bt,dataStartIndex:ae,dataEndIndex:Oe}),x)),{},{prevChildren:O,dataStartIndex:ae,dataEndIndex:Oe})}return null}),je(g,"renderActiveDot",function(w,x,_){var S;return M.isValidElement(w)?S=M.cloneElement(w,x):Ce(w)?S=w(x):S=L.createElement(s4,x),L.createElement(ft,{className:"recharts-active-dot",key:_},S)});var b=M.forwardRef(function(x,_){return L.createElement(g,Kf({},x,{ref:_}))});return b.displayName=g.displayName,b},WWe=Tre({chartName:"BarChart",GraphicalChild:$p,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:uT},{axisType:"yAxis",AxisComp:cT}],formatAxisMap:tqe}),bB=Tre({chartName:"PieChart",GraphicalChild:va,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:tT},{axisType:"radiusAxis",AxisComp:X$}],formatAxisMap:K8e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const fw=["#f97316","#22c55e","#3b82f6","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f59e0b"];function HWe({stats:e}){const t=Object.entries(e.concessionsByRegion).map(([i,o])=>({region:i,count:o})),r=Object.entries(e.concessionsByType).map(([i,o])=>({type:i.replace("-"," "),count:o})),n=[{name:"Active",value:e.activePermits},{name:"Expired",value:e.expiredPermits},{name:"Soon to Expire",value:e.soonToExpire}];return v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Concessions by Region"}),v.jsx(rE,{width:"100%",height:300,children:v.jsxs(WWe,{data:t,children:[v.jsx(cre,{strokeDasharray:"3 3"}),v.jsx(uT,{dataKey:"region",angle:-45,textAnchor:"end",height:80,fontSize:12}),v.jsx(cT,{}),v.jsx(co,{}),v.jsx($p,{dataKey:"count",fill:"#f97316"})]})})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Permit Status Distribution"}),v.jsx(rE,{width:"100%",height:300,children:v.jsxs(bB,{children:[v.jsx(va,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:({name:i,percent:o})=>`${i} ${(o*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:n.map((i,o)=>v.jsx(av,{fill:fw[o%fw.length]},`cell-${o}`))}),v.jsx(co,{})]})})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Concessions by Type"}),v.jsx(rE,{width:"100%",height:300,children:v.jsxs(bB,{children:[v.jsx(va,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({type:i,percent:o})=>`${i} ${(o*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:r.map((i,o)=>v.jsx(av,{fill:fw[(o+3)%fw.length]},`cell-${o}`))}),v.jsx(co,{}),v.jsx(Ld,{})]})})]})]})}function JWe({stats:e}){const t=[{title:"Total Concessions",value:e.totalConcessions,icon:dS,color:"text-blue-600 bg-blue-100",trend:"+12%"},{title:"Active Permits",value:e.activePermits,icon:$_,color:"text-green-600 bg-green-100",trend:"+8%"},{title:"Expired Permits",value:e.expiredPermits,icon:lC,color:"text-red-600 bg-red-100",trend:"-3%"},{title:"Soon to Expire",value:e.soonToExpire,icon:Mg,color:"text-yellow-600 bg-yellow-100",trend:"+15%"}];return v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((r,n)=>{const i=r.icon;return v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-600",children:r.title}),v.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:r.value.toLocaleString()})]}),v.jsx("div",{className:`p-3 rounded-full ${r.color}`,children:v.jsx(i,{className:"h-6 w-6"})})]}),v.jsxs("div",{className:"mt-4",children:[v.jsx("span",{className:"text-sm text-gray-500",children:"vs last month: "}),v.jsx("span",{className:"text-sm font-medium text-green-600",children:r.trend})]})]},n)})})}function ZWe(){const[e,t]=M.useState({totalConcessions:0,activePermits:0,expiredPermits:0,soonToExpire:0,totalAreaCovered:0,concessionsByRegion:{},concessionsByType:{}}),[r,n]=M.useState(!0);return M.useEffect(()=>{(async()=>{try{n(!0),console.log("🔄 Loading real mining concessions data for analytics..."),await ys.initialize();const o=await ys.getDashboardStats();console.log("✅ Loaded real analytics data from EPA ArcGIS:",o),t(o)}catch(o){console.error("❌ Error loading analytics data:",o),t({totalConcessions:0,activePermits:0,expiredPermits:0,soonToExpire:0,totalAreaCovered:0,concessionsByRegion:{},concessionsByType:{}})}finally{n(!1)}})()},[]),r?v.jsx("div",{className:"flex items-center justify-center min-h-96",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-epa-orange-500 mx-auto mb-4"}),v.jsx("p",{className:"text-gray-600",children:"Loading real mining concessions analytics from EPA ArcGIS..."})]})}):v.jsxs("div",{className:"space-y-6",children:[v.jsx("div",{className:"flex items-center justify-between",children:v.jsxs("div",{children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics & Insights"}),v.jsx("p",{className:"text-gray-600",children:"Comprehensive analysis of mining concession data"})]})}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[v.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"p-2 bg-epa-blue-100 rounded-lg",children:v.jsx(Cse,{className:"h-6 w-6 text-epa-blue-600"})}),v.jsxs("div",{className:"ml-4",children:[v.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Area"}),v.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[e.totalAreaCovered.toLocaleString()," ha"]})]})]})}),v.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"p-2 bg-epa-green-100 rounded-lg",children:v.jsx($_,{className:"h-6 w-6 text-epa-green-600"})}),v.jsxs("div",{className:"ml-4",children:[v.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Rate"}),v.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[Math.round(e.activePermits/e.totalConcessions*100),"%"]})]})]})}),v.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"p-2 bg-epa-orange-100 rounded-lg",children:v.jsx(Jq,{className:"h-6 w-6 text-epa-orange-600"})}),v.jsxs("div",{className:"ml-4",children:[v.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Regions"}),v.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Object.keys(e.concessionsByRegion).length})]})]})}),v.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:v.jsx(Mse,{className:"h-6 w-6 text-red-600"})}),v.jsxs("div",{className:"ml-4",children:[v.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Expiring Soon"}),v.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.soonToExpire})]})]})})]}),v.jsx(JWe,{stats:e}),v.jsx(HWe,{stats:e}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Permit Status Summary"}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"text-gray-600",children:"Active Permits"}),v.jsx("span",{className:"font-semibold text-epa-green-600",children:e.activePermits})]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"text-gray-600",children:"Expired Permits"}),v.jsx("span",{className:"font-semibold text-red-600",children:e.expiredPermits})]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"text-gray-600",children:"Soon to Expire"}),v.jsx("span",{className:"font-semibold text-epa-orange-600",children:e.soonToExpire})]})]})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Regional Distribution"}),v.jsx("div",{className:"space-y-3",children:Object.entries(e.concessionsByRegion).map(([i,o])=>v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"text-gray-600",children:i}),v.jsx("span",{className:"font-semibold text-gray-900",children:o})]},i))})]})]})]})}function KWe(){const[e,t]=M.useState(""),[r,n]=M.useState({start:"",end:""}),[i,o]=M.useState([]),[s,a]=M.useState(null),[l,c]=M.useState(!0),[p,h]=M.useState(!1);M.useEffect(()=>{(async()=>{try{c(!0),console.log("🔄 Loading real mining concessions data for reports..."),await ys.initialize();const[S,O]=await Promise.all([ys.getMiningConcessions(),ys.getDashboardStats()]);o(S),a(O),console.log("✅ Loaded real data for reports:",S.length,"concessions")}catch(S){console.error("❌ Failed to load data for reports:",S)}finally{c(!1)}})()},[]);const y=[{id:"compliance",title:"Compliance Report",description:"Environmental compliance status of all mining operations",icon:ui},{id:"permits",title:"Permit Status Report",description:"Current status of all mining permits and licenses",icon:ui},{id:"regional",title:"Regional Analysis",description:"Mining activity breakdown by administrative regions",icon:ui},{id:"expiry",title:"Permit Expiry Report",description:"Permits expiring within specified timeframe",icon:ui},{id:"revenue",title:"Revenue Analysis",description:"Revenue generation and fee collection analysis",icon:ui},{id:"environmental",title:"Environmental Impact",description:"Environmental monitoring and impact assessment data",icon:ui}],m=async()=>{if(!e){alert("Please select a report type");return}if(!s||i.length===0){alert("Data is still loading. Please wait and try again.");return}h(!0);try{const _=y.find(A=>A.id===e)?.title||"Report";console.log(`🔄 Generating ${_} with real EPA data...`);let S="",O="";switch(e){case"compliance":S=g(i),O="compliance_report.csv";break;case"permits":S=b(i),O="permit_status_report.csv";break;case"regional":S=w(i,s),O="regional_analysis_report.csv";break;case"expiry":S=x(i),O="permit_expiry_report.csv";break;default:S=ys.exportToCSV(i),O="mining_concessions_report.csv"}const $=new Blob([S],{type:"text/csv"}),T=URL.createObjectURL($),j=document.createElement("a");j.href=T,j.download=O,j.click(),URL.revokeObjectURL(T),console.log(`✅ Generated and downloaded ${_}`)}catch(_){console.error("❌ Failed to generate report:",_),alert("Failed to generate report. Please try again.")}finally{h(!1)}},g=_=>{const S=["Concession ID","Name","Owner","Status","Region","Compliance Status","Last Updated"],O=_.map($=>[$.id,$.name,$.owner,$.status,$.region,$.status==="active"?"Compliant":"Non-Compliant",new Date().toLocaleDateString()]);return[S.join(","),...O.map($=>$.join(","))].join(`
`)},b=_=>{const S=["Concession ID","Name","Permit Type","Status","Expiry Date","Days Until Expiry"],O=_.map($=>{const T=new Date($.permitExpiryDate),j=new Date,A=Math.ceil((T.getTime()-j.getTime())/(1e3*60*60*24));return[$.id,$.name,$.permitType,$.status,$.permitExpiryDate,A.toString()]});return[S.join(","),...O.map($=>$.join(","))].join(`
`)},w=(_,S)=>{const O=["Region","Total Concessions","Active Permits","Total Area (hectares)"],$=Object.entries(S.concessionsByRegion).map(([T,j])=>{const A=_.filter(C=>C.region===T),N=A.filter(C=>C.status==="active").length,k=A.reduce((C,F)=>C+F.size,0);return[T,j.toString(),N.toString(),k.toFixed(2)]});return[O.join(","),...$.map(T=>T.join(","))].join(`
`)},x=_=>{const S=["Concession ID","Name","Owner","Expiry Date","Days Until Expiry","Priority"],O=new Date,$=_.map(T=>{const j=new Date(T.permitExpiryDate),A=Math.ceil((j.getTime()-O.getTime())/(1e3*60*60*24));let N="Low";return A<30?N="Critical":A<90?N="High":A<180&&(N="Medium"),[T.id,T.name,T.owner,T.permitExpiryDate,A.toString(),N]}).sort((T,j)=>parseInt(T[4])-parseInt(j[4]));return[S.join(","),...$.map(T=>T.join(","))].join(`
`)};return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports & Documentation"}),v.jsx("p",{className:"text-gray-600",children:"Generate comprehensive reports for mining concession data"})]}),s&&v.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[v.jsxs("span",{children:["📊 ",s.totalConcessions," Total Concessions"]}),v.jsxs("span",{children:["✅ ",s.activePermits," Active"]})]})]}),l?v.jsxs("div",{className:"flex items-center justify-center py-12",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-epa-orange-500"}),v.jsx("span",{className:"ml-3 text-gray-600",children:"Loading real mining data for reports..."})]}):v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[v.jsx("div",{className:"lg:col-span-2",children:v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[v.jsxs("div",{className:"p-4 border-b border-gray-200",children:[v.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Available Reports"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Select a report type to generate"})]}),v.jsx("div",{className:"p-6",children:v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:y.map(_=>{const S=_.icon;return v.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${e===_.id?"border-epa-orange-500 bg-epa-orange-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>t(_.id),children:v.jsxs("div",{className:"flex items-start space-x-3",children:[v.jsx(S,{className:"h-6 w-6 text-epa-orange-600 flex-shrink-0 mt-1"}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-sm font-medium text-gray-900",children:_.title}),v.jsx("p",{className:"text-xs text-gray-600 mt-1",children:_.description})]})]})},_.id)})})})]})}),v.jsx("div",{className:"lg:col-span-1",children:v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[v.jsx("div",{className:"p-4 border-b border-gray-200",children:v.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Report Configuration"})}),v.jsxs("div",{className:"p-6 space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("input",{type:"date",placeholder:"Start Date",value:r.start,onChange:_=>n(S=>({...S,start:_.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-epa-orange-500 focus:border-epa-orange-500"}),v.jsx("input",{type:"date",placeholder:"End Date",value:r.end,onChange:_=>n(S=>({...S,end:_.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-epa-orange-500 focus:border-epa-orange-500"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Export Format"}),v.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-epa-orange-500 focus:border-epa-orange-500",children:[v.jsx("option",{value:"pdf",children:"PDF Document"}),v.jsx("option",{value:"excel",children:"Excel Spreadsheet"}),v.jsx("option",{value:"csv",children:"CSV File"}),v.jsx("option",{value:"word",children:"Word Document"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Include"}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("label",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-epa-orange-600 focus:ring-epa-orange-500",defaultChecked:!0}),v.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Summary Statistics"})]}),v.jsxs("label",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-epa-orange-600 focus:ring-epa-orange-500",defaultChecked:!0}),v.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Charts & Graphs"})]}),v.jsxs("label",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-epa-orange-600 focus:ring-epa-orange-500"}),v.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Raw Data Tables"})]}),v.jsxs("label",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-epa-orange-600 focus:ring-epa-orange-500"}),v.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Map Images"})]})]})]}),v.jsx("button",{onClick:m,disabled:p||!s,className:`w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-md focus:ring-2 focus:ring-epa-orange-500 focus:ring-offset-2 ${p||!s?"bg-gray-400 cursor-not-allowed":"bg-epa-orange-600 hover:bg-epa-orange-700"} text-white`,children:p?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),v.jsx("span",{children:"Generating..."})]}):v.jsxs(v.Fragment,{children:[v.jsx(__,{className:"h-4 w-4"}),v.jsx("span",{children:"Generate Report"})]})})]})]})})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[v.jsxs("div",{className:"p-4 border-b border-gray-200",children:[v.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Available Report Types"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Quick access to generate reports with current EPA data"})]}),v.jsx("div",{className:"p-6",children:s?v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx("div",{className:"p-4 border border-gray-200 rounded-lg",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx(cS,{className:"h-8 w-8 text-epa-orange-600"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Compliance Dashboard"}),v.jsxs("p",{className:"text-xs text-gray-600",children:[s.activePermits," active permits, ",s.expiredPermits," expired"]})]})]}),v.jsx("button",{onClick:()=>{t("compliance"),m()},className:"text-xs px-3 py-1 bg-epa-orange-600 text-white rounded hover:bg-epa-orange-700",children:"Generate"})]})}),v.jsx("div",{className:"p-4 border border-gray-200 rounded-lg",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx(ui,{className:"h-8 w-8 text-epa-orange-600"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Regional Analysis"}),v.jsxs("p",{className:"text-xs text-gray-600",children:[Object.keys(s.concessionsByRegion).length," regions covered"]})]})]}),v.jsx("button",{onClick:()=>{t("regional"),m()},className:"text-xs px-3 py-1 bg-epa-orange-600 text-white rounded hover:bg-epa-orange-700",children:"Generate"})]})}),v.jsx("div",{className:"p-4 border border-gray-200 rounded-lg",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx(ui,{className:"h-8 w-8 text-epa-orange-600"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Permit Status Report"}),v.jsxs("p",{className:"text-xs text-gray-600",children:[s.totalConcessions," total concessions"]})]})]}),v.jsx("button",{onClick:()=>{t("permits"),m()},className:"text-xs px-3 py-1 bg-epa-orange-600 text-white rounded hover:bg-epa-orange-700",children:"Generate"})]})}),v.jsx("div",{className:"p-4 border border-gray-200 rounded-lg",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx(ui,{className:"h-8 w-8 text-epa-orange-600"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Expiry Report"}),v.jsxs("p",{className:"text-xs text-gray-600",children:[s.soonToExpire," permits expiring soon"]})]})]}),v.jsx("button",{onClick:()=>{t("expiry"),m()},className:"text-xs px-3 py-1 bg-epa-orange-600 text-white rounded hover:bg-epa-orange-700",children:"Generate"})]})})]}):v.jsxs("div",{className:"text-center py-8",children:[v.jsx(ui,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),v.jsx("p",{className:"text-gray-500",children:"Reports will be available once data is loaded"})]})})]})]})}function YWe(){const{user:e,loading:t}=S_();return t?v.jsx("div",{className:"min-h-screen flex items-center justify-center",children:v.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-epa-orange-600"})}):e?v.jsxs("div",{className:"min-h-screen bg-gray-100",children:[v.jsx(Jse,{}),v.jsxs("div",{className:"flex",children:[v.jsx(Kse,{}),v.jsx("main",{className:"flex-1 p-6",children:v.jsxs(Tse,{children:[v.jsx(Kl,{path:"/",element:v.jsx(FL,{})}),v.jsx(Kl,{path:"/map-view",element:v.jsx(FL,{})}),v.jsx(Kl,{path:"/concessions",element:v.jsx(LTe,{})}),v.jsx(Kl,{path:"/filters",element:v.jsx(DTe,{})}),v.jsx(Kl,{path:"/analytics",element:v.jsx(ZWe,{})}),v.jsx(Kl,{path:"/reports",element:v.jsx(KWe,{})}),v.jsx(Kl,{path:"*",element:v.jsx(_se,{to:"/",replace:!0})})]})})]})]}):v.jsx(Hse,{})}xE.createRoot(document.getElementById("root")).render(v.jsx(jse,{basename:"/GISMININGAPP",future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:v.jsx(Ise,{children:v.jsx(YWe,{})})}));export{rZe as $,jl as A,sKe as B,te as C,tZe as D,pKe as E,oKe as F,$k as G,tt as H,vge as I,K$e as J,DXe as K,y1 as L,Ve as M,Tn as N,uo as O,dr as P,lye as Q,T1 as R,CHe as S,kn as T,TC as U,Hd as V,AG as W,LXe as X,li as Y,X as Z,ue as _,I as a,C_e as a$,na as a0,$e as a1,eZe as a2,_k as a3,iZe as a4,nZe as a5,ea as a6,He as a7,gge as a8,Pe as a9,nSe as aA,iSe as aB,oSe as aC,D as aD,Py as aE,bp as aF,PZ as aG,ZYe as aH,tc as aI,Ahe as aJ,jhe as aK,jh as aL,Te as aM,NQe as aN,IKe as aO,w1 as aP,Xd as aQ,ya as aR,h_e as aS,m_e as aT,g_e as aU,__e as aV,j_e as aW,I_e as aX,OQ as aY,EQ as aZ,E_e as a_,hi as aa,OC as ab,ah as ac,q as ad,ZSe as ae,awe as af,JYe as ag,ct as ah,yS as ai,tG as aj,dle as ak,nr as al,ce as am,mZe as an,kQe as ao,xe as ap,r2e as aq,y$ as ar,wi as as,Nme as at,uc as au,Hw as av,NJe as aw,_He as ax,wr as ay,Il as az,HF as b,hae as b$,k_e as b0,Ny as b1,J0 as b2,tK as b3,rK as b4,eK as b5,BKe as b6,lF as b7,sYe as b8,OZe as b9,en as bA,Age as bB,U$e as bC,bI as bD,yp as bE,i1e as bF,KJe as bG,ZJe as bH,VJe as bI,ok as bJ,r1e as bK,GJe as bL,Jve as bM,op as bN,JJe as bO,HJe as bP,sc as bQ,WJe as bR,Hve as bS,EKe as bT,jKe as bU,$o as bV,hHe as bW,kHe as bX,A_ as bY,ke as bZ,aHe as b_,sle as ba,k_ as bb,mae as bc,Se as bd,qJe as be,ye as bf,mr as bg,My as bh,Ho as bi,rxe as bj,YL as bk,Ao as bl,OF as bm,bs as bn,Jd as bo,DG as bp,hr as bq,cW as br,$y as bs,UC as bt,Ie as bu,gae as bv,B2e as bw,Phe as bx,mle as by,SHe as bz,xx as c,ua as c$,Jce as c0,Nw as c1,xXe as c2,Bme as c3,SXe as c4,VD as c5,N_ as c6,A1 as c7,F_ as c8,oYe as c9,OKe as cA,Dce as cB,n$ as cC,$ve as cD,SK as cE,Zve as cF,PKe as cG,_K as cH,AKe as cI,ia as cJ,dZe as cK,WW as cL,Vce as cM,GW as cN,Cg as cO,XZ as cP,FZe as cQ,Sye as cR,yo as cS,BT as cT,aH as cU,ac as cV,Gye as cW,lve as cX,Os as cY,BHe as cZ,TG as c_,O1 as ca,LZe as cb,uW as cc,bj as cd,iHe as ce,Xq as cf,aZe as cg,sG as ch,Kce as ci,WC as cj,HC as ck,Yce as cl,z_ as cm,B_ as cn,E1 as co,Gg as cp,sZe as cq,dt as cr,$D as cs,She as ct,K_ as cu,yr as cv,eH as cw,t2 as cx,Ek as cy,Rve as cz,re as d,wKe as d$,xC as d0,VHe as d1,wk as d2,bk as d3,Hr as d4,fge as d5,RHe as d6,RG as d7,TKe as d8,Ik as d9,Zd as dA,bi as dB,at as dC,ge as dD,AZe as dE,Eme as dF,DZe as dG,jZe as dH,j1 as dI,qg as dJ,PD as dK,Eae as dL,La as dM,kg as dN,U_ as dO,pt as dP,Mr as dQ,PQe as dR,UF as dS,N5 as dT,xn as dU,Q2e as dV,Ne as dW,dK as dX,HQe as dY,xKe as dZ,I1 as d_,Dwe as da,E$e as db,y$e as dc,w$e as dd,j$e as de,i$ as df,wxe as dg,gxe as dh,mxe as di,rr as dj,pr as dk,Fn as dl,Rr as dm,Ri as dn,Vt as dp,fwe as dq,Fwe as dr,pwe as ds,mp as dt,Whe as du,pye as dv,vxe as dw,Re as dx,Rg as dy,pl as dz,L_ as e,cZe as e$,$n as e0,owe as e1,hl as e2,ZQe as e3,Px as e4,bKe as e5,YQe as e6,Dm as e7,SKe as e8,Cw as e9,ze as eA,$Se as eB,Jae as eC,TSe as eD,SQe as eE,mQe as eF,QK as eG,eg as eH,il as eI,$Qe as eJ,_Qe as eK,mXe as eL,vXe as eM,gXe as eN,hXe as eO,eXe as eP,iXe as eQ,sXe as eR,vQ as eS,pZe as eT,RJe as eU,M5 as eV,QW as eW,XW as eX,NZ as eY,CZ as eZ,r0e as e_,Ghe as ea,MJe as eb,yc as ec,AJe as ed,tHe as ee,rHe as ef,PJe as eg,tYe as eh,uYe as ei,eJe as ej,Cd as ek,_he as el,Fae as em,FI as en,DHe as eo,Y_ as ep,sTe as eq,Gle as er,g0e as es,Kye as et,Yye as eu,Qye as ev,Hye as ew,v0e as ex,MZ as ey,N0e as ez,be as f,hKe as f$,Wce as f0,gc as f1,ome as f2,U as f3,a0e as f4,ime as f5,r$ as f6,lHe as f7,xS as f8,oR as f9,M$e as fA,sge as fB,ige as fC,_u as fD,Q0e as fE,wI as fF,oa as fG,Yn as fH,The as fI,TZ as fJ,Or as fK,HD as fL,Ys as fM,Zae as fN,fa as fO,vs as fP,tv as fQ,Qk as fR,P_ as fS,Sxe as fT,xxe as fU,bxe as fV,Tt as fW,QQe as fX,nde as fY,dde as fZ,sH as f_,zHe as fa,M_ as fb,Kd as fc,Sk as fd,b$e as fe,Zwe as ff,f$e as fg,sxe as fh,P$e as fi,N$e as fj,eF as fk,mK as fl,z$e as fm,e2e as fn,_xe as fo,zS as fp,f$ as fq,Ot as fr,i9 as fs,JP as ft,p$ as fu,Cy as fv,M1 as fw,t$e as fx,yxe as fy,Xs as fz,Nge as g,cSe as g$,kge as g0,kS as g1,vue as g2,El as g3,XJe as g4,E as g5,Rf as g6,NI as g7,vZ as g8,nHe as g9,dXe as gA,aXe as gB,bYe as gC,Fi as gD,$Je as gE,Zye as gF,kA as gG,zZe as gH,XKe as gI,aYe as gJ,yHe as gK,vce as gL,Nh as gM,MW as gN,Yw as gO,qYe as gP,VYe as gQ,Oy as gR,Ui as gS,wt as gT,lr as gU,_o as gV,Ln as gW,BSe as gX,WSe as gY,hxe as gZ,bt as g_,Iw as ga,wZe as gb,L6 as gc,D6 as gd,cr as ge,Jo as gf,gle as gg,jC as gh,ble as gi,wle as gj,yd as gk,OHe as gl,kbe as gm,Gn as gn,S2e as go,Qwe as gp,PSe as gq,GY as gr,zSe as gs,F$e as gt,gG as gu,_G as gv,lXe as gw,cXe as gx,uXe as gy,pXe as gz,Ai as h,rJe as h$,DY as h0,c3 as h1,KSe as h2,ISe as h3,ASe as h4,ule as h5,MSe as h6,CSe as h7,GSe as h8,kSe as h9,P_e as hA,Hce as hB,mZ as hC,ede as hD,Wye as hE,cC as hF,pHe as hG,dC as hH,fHe as hI,Lk as hJ,eYe as hK,QKe as hL,uK as hM,iKe as hN,QY as hO,kC as hP,lf as hQ,Pr as hR,NXe as hS,ff as hT,m$e as hU,ji as hV,he as hW,_r as hX,LHe as hY,jce as hZ,tJe as h_,RSe as ha,LSe as hb,DSe as hc,FSe as hd,USe as he,Gr as hf,ale as hg,uge as hh,Vn as hi,wZ as hj,bHe as hk,THe as hl,cHe as hm,dHe as hn,uHe as ho,Cl as hp,zae as hq,VC as hr,rG as hs,MZe as ht,EZe as hu,RZe as hv,PHe as hw,rs as hx,i2e as hy,Jye as hz,WF as i,nG as i$,CQe as i0,MQe as i1,WY as i2,JY as i3,uZe as i4,Hhe as i5,Dy as i6,u0e as i7,GS as i8,Ge as i9,aJe as iA,tye as iB,uJe as iC,sJe as iD,PZe as iE,f1e as iF,c0e as iG,t0e as iH,n0e as iI,MHe as iJ,iYe as iK,n_e as iL,r_e as iM,V_ as iN,Mw as iO,BZe as iP,x1 as iQ,TQe as iR,vp as iS,ta as iT,VQe as iU,W2e as iV,fZe as iW,Kk as iX,kxe as iY,ZC as iZ,jJe as i_,jo as ia,IJe as ib,j_ as ic,vle as id,fs as ie,W0 as ig,qSe as ih,$Ke as ii,QSe as ij,AQe as ik,IQe as il,jHe as im,NHe as io,Ku as ip,sg as iq,Vg as ir,A$e as is,cae as it,YYe as iu,fG as iv,Lce as iw,CZe as ix,fW as iy,lJe as iz,oTe as j,b0e as j$,OG as j0,vHe as j1,tH as j2,HL as j3,zG as j4,FHe as j5,Ht as j6,RQe as j7,Lwe as j8,In as j9,JJ as jA,CG as jB,fKe as jC,iQe as jD,Fce as jE,MK as jF,cle as jG,oQe as jH,uZ as jI,$ye as jJ,_Ze as jK,kde as jL,Bde as jM,cH as jN,LJe as jO,lW as jP,PC as jQ,KL as jR,kK as jS,xZ as jT,ZKe as jU,JKe as jV,P1e as jW,Ph as jX,YKe as jY,KKe as jZ,bC as j_,XS as ja,ck as jb,Np as jc,dae as jd,ive as je,Qa as jf,Vh as jg,TXe as jh,Rwe as ji,Kwe as jj,Ywe as jk,oxe as jl,a$e as jm,v$e as jn,JZe as jo,lZe as jp,Zme as jq,FG as jr,Ih as js,_y as jt,xHe as ju,TI as jv,I_ as jw,wd as jx,Dde as jy,Qs as jz,Ye as k,Vj as k$,m0e as k0,y0e as k1,L1e as k2,oZe as k3,lu as k4,Kme as k5,qhe as k6,KZe as k7,hJe as k8,Ly as k9,_C as kA,$C as kB,DJe as kC,aG as kD,mC as kE,wHe as kF,mG as kG,$He as kH,vde as kI,gde as kJ,CJe as kK,KG as kL,Fue as kM,ln as kN,Wr as kO,V_e as kP,H_e as kQ,NZe as kR,q_e as kS,cYe as kT,W_e as kU,pYe as kV,lYe as kW,bue as kX,IHe as kY,G_e as kZ,mc as k_,Mt as ka,Axe as kb,Pxe as kc,Ke as kd,mu as ke,hQe as kf,fQe as kg,is as kh,qf as ki,us as kj,jD as kk,wYe as kl,xYe as km,SYe as kn,Yd as ko,Cu as kp,GQe as kq,WQe as kr,JQe as ks,r2 as kt,eHe as ku,yt as kv,iJe as kw,Xde as kx,MC as ky,rc as kz,z as l,gQe as l$,kt as l0,Bj as l1,Gj as l2,MS as l3,LG as l4,_le as l5,AHe as l6,yae as l7,iG as l8,rYe as l9,$Ze as lA,bZe as lB,eI as lC,A8 as lD,TZe as lE,v8 as lF,S8 as lG,fXe as lH,i2 as lI,yXe as lJ,EHe as lK,F6 as lL,XQe as lM,_Ke as lN,E2e as lO,oXe as lP,Es as lQ,oc as lR,tde as lS,kZe as lT,IZe as lU,bSe as lV,VL as lW,WYe as lX,Wbe as lY,Qc as lZ,vQe as l_,nYe as la,k0e as lb,C0e as lc,aF as ld,RYe as le,oJe as lf,s_e as lg,vZe as lh,s8 as li,t8 as lj,wye as lk,r8 as ll,xZe as lm,b8 as ln,n8 as lo,i8 as lp,UZe as lq,nXe as lr,Eye as ls,SZe as lt,u8 as lu,E8 as lv,z6 as lw,j8 as lx,I8 as ly,kye as lz,d as m,VZe as m0,GZe as m1,OQe as m2,CXe as m3,u9 as n,Wb as o,Z as p,fu as q,u as r,Pge as s,MP as t,Mge as u,Lge as v,RQ as w,T_ as x,oHe as y,Ue as z};
