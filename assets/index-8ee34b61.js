var fse=Object.defineProperty;var hse=(e,t,r)=>t in e?fse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Jp=(e,t,r)=>(hse(e,typeof t!="symbol"?t+"":t,r),r);function yse(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var ks=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function gt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function mse(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var iq={exports:{}},K2={},sq={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb=Symbol.for("react.element"),gse=Symbol.for("react.portal"),vse=Symbol.for("react.fragment"),bse=Symbol.for("react.strict_mode"),wse=Symbol.for("react.profiler"),xse=Symbol.for("react.provider"),Sse=Symbol.for("react.context"),_se=Symbol.for("react.forward_ref"),$se=Symbol.for("react.suspense"),Tse=Symbol.for("react.memo"),Ose=Symbol.for("react.lazy"),UD=Symbol.iterator;function Ese(e){return e===null||typeof e!="object"?null:(e=UD&&e[UD]||e["@@iterator"],typeof e=="function"?e:null)}var oq={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aq=Object.assign,lq={};function Jy(e,t,r){this.props=e,this.context=t,this.refs=lq,this.updater=r||oq}Jy.prototype.isReactComponent={};Jy.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Jy.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function uq(){}uq.prototype=Jy.prototype;function EN(e,t,r){this.props=e,this.context=t,this.refs=lq,this.updater=r||oq}var jN=EN.prototype=new uq;jN.constructor=EN;aq(jN,Jy.prototype);jN.isPureReactComponent=!0;var zD=Array.isArray,cq=Object.prototype.hasOwnProperty,AN={current:null},dq={key:!0,ref:!0,__self:!0,__source:!0};function pq(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)cq.call(t,n)&&!dq.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Wb,type:e,key:s,ref:o,props:i,_owner:AN.current}}function jse(e,t){return{$$typeof:Wb,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function IN(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wb}function Ase(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var BD=/\/+/g;function fO(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ase(""+e.key):t.toString(36)}function nx(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Wb:case gse:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+fO(o,0):n,zD(i)?(r="",e!=null&&(r=e.replace(BD,"$&/")+"/"),nx(i,t,r,"",function(c){return c})):i!=null&&(IN(i)&&(i=jse(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(BD,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",zD(e))for(var a=0;a<e.length;a++){s=e[a];var l=n+fO(s,a);o+=nx(s,t,r,l,i)}else if(l=Ese(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=n+fO(s,a++),o+=nx(s,t,r,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function k1(e,t,r){if(e==null)return e;var n=[],i=0;return nx(e,n,"","",function(s){return t.call(r,s,i++)}),n}function Ise(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ni={current:null},ix={transition:null},Pse={ReactCurrentDispatcher:ni,ReactCurrentBatchConfig:ix,ReactCurrentOwner:AN};function fq(){throw Error("act(...) is not supported in production builds of React.")}Je.Children={map:k1,forEach:function(e,t,r){k1(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return k1(e,function(){t++}),t},toArray:function(e){return k1(e,function(t){return t})||[]},only:function(e){if(!IN(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Je.Component=Jy;Je.Fragment=vse;Je.Profiler=wse;Je.PureComponent=EN;Je.StrictMode=bse;Je.Suspense=$se;Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pse;Je.act=fq;Je.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=aq({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=AN.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)cq.call(t,l)&&!dq.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Wb,type:e.type,key:i,ref:s,props:n,_owner:o}};Je.createContext=function(e){return e={$$typeof:Sse,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xse,_context:e},e.Consumer=e};Je.createElement=pq;Je.createFactory=function(e){var t=pq.bind(null,e);return t.type=e,t};Je.createRef=function(){return{current:null}};Je.forwardRef=function(e){return{$$typeof:_se,render:e}};Je.isValidElement=IN;Je.lazy=function(e){return{$$typeof:Ose,_payload:{_status:-1,_result:e},_init:Ise}};Je.memo=function(e,t){return{$$typeof:Tse,type:e,compare:t===void 0?null:t}};Je.startTransition=function(e){var t=ix.transition;ix.transition={};try{e()}finally{ix.transition=t}};Je.unstable_act=fq;Je.useCallback=function(e,t){return ni.current.useCallback(e,t)};Je.useContext=function(e){return ni.current.useContext(e)};Je.useDebugValue=function(){};Je.useDeferredValue=function(e){return ni.current.useDeferredValue(e)};Je.useEffect=function(e,t){return ni.current.useEffect(e,t)};Je.useId=function(){return ni.current.useId()};Je.useImperativeHandle=function(e,t,r){return ni.current.useImperativeHandle(e,t,r)};Je.useInsertionEffect=function(e,t){return ni.current.useInsertionEffect(e,t)};Je.useLayoutEffect=function(e,t){return ni.current.useLayoutEffect(e,t)};Je.useMemo=function(e,t){return ni.current.useMemo(e,t)};Je.useReducer=function(e,t,r){return ni.current.useReducer(e,t,r)};Je.useRef=function(e){return ni.current.useRef(e)};Je.useState=function(e){return ni.current.useState(e)};Je.useSyncExternalStore=function(e,t,r){return ni.current.useSyncExternalStore(e,t,r)};Je.useTransition=function(){return ni.current.useTransition()};Je.version="18.3.1";sq.exports=Je;var C=sq.exports;const L=gt(C),kse=yse({__proto__:null,default:L},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cse=C,Nse=Symbol.for("react.element"),Mse=Symbol.for("react.fragment"),Rse=Object.prototype.hasOwnProperty,Lse=Cse.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dse={key:!0,ref:!0,__self:!0,__source:!0};function hq(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Rse.call(t,n)&&!Dse.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Nse,type:e,key:s,ref:o,props:i,_owner:Lse.current}}K2.Fragment=Mse;K2.jsx=hq;K2.jsxs=hq;iq.exports=K2;var v=iq.exports,Oj={},yq={exports:{}},es={},mq={exports:{}},gq={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,Q){var se=V.length;V.push(Q);e:for(;0<se;){var fe=se-1>>>1,le=V[fe];if(0<i(le,Q))V[fe]=Q,V[se]=le,se=fe;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var Q=V[0],se=V.pop();if(se!==Q){V[0]=se;e:for(var fe=0,le=V.length,Oe=le>>>1;fe<Oe;){var Ze=2*(fe+1)-1,Tt=V[Ze],Gt=Ze+1,si=V[Gt];if(0>i(Tt,se))Gt<le&&0>i(si,Tt)?(V[fe]=si,V[Gt]=se,fe=Gt):(V[fe]=Tt,V[Ze]=se,fe=Ze);else if(Gt<le&&0>i(si,se))V[fe]=si,V[Gt]=se,fe=Gt;else break e}}return Q}function i(V,Q){var se=V.sortIndex-Q.sortIndex;return se!==0?se:V.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,p=null,y=3,m=!1,g=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(V){for(var Q=r(c);Q!==null;){if(Q.callback===null)n(c);else if(Q.startTime<=V)n(c),Q.sortIndex=Q.expirationTime,t(l,Q);else break;Q=r(c)}}function O(V){if(b=!1,x(V),!g)if(r(l)!==null)g=!0,Z($);else{var Q=r(c);Q!==null&&ee(O,Q.startTime-V)}}function $(V,Q){g=!1,b&&(b=!1,S(I),I=-1),m=!0;var se=y;try{for(x(Q),p=r(l);p!==null&&(!(p.expirationTime>Q)||V&&!N());){var fe=p.callback;if(typeof fe=="function"){p.callback=null,y=p.priorityLevel;var le=fe(p.expirationTime<=Q);Q=e.unstable_now(),typeof le=="function"?p.callback=le:p===r(l)&&n(l),x(Q)}else n(l);p=r(l)}if(p!==null)var Oe=!0;else{var Ze=r(c);Ze!==null&&ee(O,Ze.startTime-Q),Oe=!1}return Oe}finally{p=null,y=se,m=!1}}var T=!1,j=null,I=-1,k=5,M=-1;function N(){return!(e.unstable_now()-M<k)}function F(){if(j!==null){var V=e.unstable_now();M=V;var Q=!0;try{Q=j(!0,V)}finally{Q?G():(T=!1,j=null)}}else T=!1}var G;if(typeof _=="function")G=function(){_(F)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,W=B.port2;B.port1.onmessage=F,G=function(){W.postMessage(null)}}else G=function(){w(F,0)};function Z(V){j=V,T||(T=!0,G())}function ee(V,Q){I=w(function(){V(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,Z($))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(V){switch(y){case 1:case 2:case 3:var Q=3;break;default:Q=y}var se=y;y=Q;try{return V()}finally{y=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,Q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var se=y;y=V;try{return Q()}finally{y=se}},e.unstable_scheduleCallback=function(V,Q,se){var fe=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?fe+se:fe):se=fe,V){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=se+le,V={id:d++,callback:Q,priorityLevel:V,startTime:se,expirationTime:le,sortIndex:-1},se>fe?(V.sortIndex=se,t(c,V),r(l)===null&&V===r(c)&&(b?(S(I),I=-1):b=!0,ee(O,se-fe))):(V.sortIndex=le,t(l,V),g||m||(g=!0,Z($))),V},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(V){var Q=y;return function(){var se=y;y=Q;try{return V.apply(this,arguments)}finally{y=se}}}})(gq);mq.exports=gq;var Fse=mq.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Use=C,Xi=Fse;function oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vq=new Set,Yg={};function Cp(e,t){Zh(e,t),Zh(e+"Capture",t)}function Zh(e,t){for(Yg[e]=t,e=0;e<t.length;e++)vq.add(t[e])}var Ml=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ej=Object.prototype.hasOwnProperty,zse=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,VD={},qD={};function Bse(e){return Ej.call(qD,e)?!0:Ej.call(VD,e)?!1:zse.test(e)?qD[e]=!0:(VD[e]=!0,!1)}function Vse(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qse(e,t,r,n){if(t===null||typeof t>"u"||Vse(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ii(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var hn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){hn[e]=new ii(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];hn[t]=new ii(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){hn[e]=new ii(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){hn[e]=new ii(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){hn[e]=new ii(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){hn[e]=new ii(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){hn[e]=new ii(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){hn[e]=new ii(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){hn[e]=new ii(e,5,!1,e.toLowerCase(),null,!1,!1)});var PN=/[\-:]([a-z])/g;function kN(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(PN,kN);hn[t]=new ii(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(PN,kN);hn[t]=new ii(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(PN,kN);hn[t]=new ii(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){hn[e]=new ii(e,1,!1,e.toLowerCase(),null,!1,!1)});hn.xlinkHref=new ii("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){hn[e]=new ii(e,1,!1,e.toLowerCase(),null,!0,!0)});function CN(e,t,r,n){var i=hn.hasOwnProperty(t)?hn[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qse(t,r,i,n)&&(r=null),n||i===null?Bse(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Gl=Use.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C1=Symbol.for("react.element"),Xf=Symbol.for("react.portal"),eh=Symbol.for("react.fragment"),NN=Symbol.for("react.strict_mode"),jj=Symbol.for("react.profiler"),bq=Symbol.for("react.provider"),wq=Symbol.for("react.context"),MN=Symbol.for("react.forward_ref"),Aj=Symbol.for("react.suspense"),Ij=Symbol.for("react.suspense_list"),RN=Symbol.for("react.memo"),wu=Symbol.for("react.lazy"),xq=Symbol.for("react.offscreen"),GD=Symbol.iterator;function km(e){return e===null||typeof e!="object"?null:(e=GD&&e[GD]||e["@@iterator"],typeof e=="function"?e:null)}var Kt=Object.assign,hO;function p0(e){if(hO===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);hO=t&&t[1]||""}return`
`+hO+e}var yO=!1;function mO(e,t){if(!e||yO)return"";yO=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{yO=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?p0(e):""}function Gse(e){switch(e.tag){case 5:return p0(e.type);case 16:return p0("Lazy");case 13:return p0("Suspense");case 19:return p0("SuspenseList");case 0:case 2:case 15:return e=mO(e.type,!1),e;case 11:return e=mO(e.type.render,!1),e;case 1:return e=mO(e.type,!0),e;default:return""}}function Pj(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case eh:return"Fragment";case Xf:return"Portal";case jj:return"Profiler";case NN:return"StrictMode";case Aj:return"Suspense";case Ij:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wq:return(e.displayName||"Context")+".Consumer";case bq:return(e._context.displayName||"Context")+".Provider";case MN:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case RN:return t=e.displayName||null,t!==null?t:Pj(e.type)||"Memo";case wu:t=e._payload,e=e._init;try{return Pj(e(t))}catch{}}return null}function Wse(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pj(t);case 8:return t===NN?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function yc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sq(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Hse(e){var t=Sq(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function N1(e){e._valueTracker||(e._valueTracker=Hse(e))}function _q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Sq(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function jS(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function kj(e,t){var r=t.checked;return Kt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function WD(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=yc(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $q(e,t){t=t.checked,t!=null&&CN(e,"checked",t,!1)}function Cj(e,t){$q(e,t);var r=yc(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Nj(e,t.type,r):t.hasOwnProperty("defaultValue")&&Nj(e,t.type,yc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function HD(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Nj(e,t,r){(t!=="number"||jS(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var f0=Array.isArray;function Oh(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+yc(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Mj(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(oe(91));return Kt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function JD(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(oe(92));if(f0(r)){if(1<r.length)throw Error(oe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:yc(r)}}function Tq(e,t){var r=yc(t.value),n=yc(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function KD(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Oq(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rj(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Oq(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var M1,Eq=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(M1=M1||document.createElement("div"),M1.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=M1.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qg(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var cg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jse=["Webkit","ms","Moz","O"];Object.keys(cg).forEach(function(e){Jse.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cg[t]=cg[e]})});function jq(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||cg.hasOwnProperty(e)&&cg[e]?(""+t).trim():t+"px"}function Aq(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=jq(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var Kse=Kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lj(e,t){if(t){if(Kse[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(oe(62))}}function Dj(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fj=null;function LN(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Uj=null,Eh=null,jh=null;function ZD(e){if(e=Kb(e)){if(typeof Uj!="function")throw Error(oe(280));var t=e.stateNode;t&&(t=e$(t),Uj(e.stateNode,e.type,t))}}function Iq(e){Eh?jh?jh.push(e):jh=[e]:Eh=e}function Pq(){if(Eh){var e=Eh,t=jh;if(jh=Eh=null,ZD(e),t)for(e=0;e<t.length;e++)ZD(t[e])}}function kq(e,t){return e(t)}function Cq(){}var gO=!1;function Nq(e,t,r){if(gO)return e(t,r);gO=!0;try{return kq(e,t,r)}finally{gO=!1,(Eh!==null||jh!==null)&&(Cq(),Pq())}}function Xg(e,t){var r=e.stateNode;if(r===null)return null;var n=e$(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(oe(231,t,typeof r));return r}var zj=!1;if(Ml)try{var Cm={};Object.defineProperty(Cm,"passive",{get:function(){zj=!0}}),window.addEventListener("test",Cm,Cm),window.removeEventListener("test",Cm,Cm)}catch{zj=!1}function Zse(e,t,r,n,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var dg=!1,AS=null,IS=!1,Bj=null,Yse={onError:function(e){dg=!0,AS=e}};function Qse(e,t,r,n,i,s,o,a,l){dg=!1,AS=null,Zse.apply(Yse,arguments)}function Xse(e,t,r,n,i,s,o,a,l){if(Qse.apply(this,arguments),dg){if(dg){var c=AS;dg=!1,AS=null}else throw Error(oe(198));IS||(IS=!0,Bj=c)}}function Np(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Mq(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function YD(e){if(Np(e)!==e)throw Error(oe(188))}function eoe(e){var t=e.alternate;if(!t){if(t=Np(e),t===null)throw Error(oe(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return YD(i),e;if(s===n)return YD(i),t;s=s.sibling}throw Error(oe(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(oe(189))}}if(r.alternate!==n)throw Error(oe(190))}if(r.tag!==3)throw Error(oe(188));return r.stateNode.current===r?e:t}function Rq(e){return e=eoe(e),e!==null?Lq(e):null}function Lq(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Lq(e);if(t!==null)return t;e=e.sibling}return null}var Dq=Xi.unstable_scheduleCallback,QD=Xi.unstable_cancelCallback,toe=Xi.unstable_shouldYield,roe=Xi.unstable_requestPaint,mr=Xi.unstable_now,noe=Xi.unstable_getCurrentPriorityLevel,DN=Xi.unstable_ImmediatePriority,Fq=Xi.unstable_UserBlockingPriority,PS=Xi.unstable_NormalPriority,ioe=Xi.unstable_LowPriority,Uq=Xi.unstable_IdlePriority,Z2=null,ga=null;function soe(e){if(ga&&typeof ga.onCommitFiberRoot=="function")try{ga.onCommitFiberRoot(Z2,e,void 0,(e.current.flags&128)===128)}catch{}}var Oo=Math.clz32?Math.clz32:loe,ooe=Math.log,aoe=Math.LN2;function loe(e){return e>>>=0,e===0?32:31-(ooe(e)/aoe|0)|0}var R1=64,L1=4194304;function h0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function kS(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=h0(a):(s&=o,s!==0&&(n=h0(s)))}else o=r&~i,o!==0?n=h0(o):s!==0&&(n=h0(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Oo(t),i=1<<r,n|=e[r],t&=~i;return n}function uoe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function coe(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Oo(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=uoe(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Vj(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zq(){var e=R1;return R1<<=1,!(R1&4194240)&&(R1=64),e}function vO(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Hb(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Oo(t),e[t]=r}function doe(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Oo(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function FN(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Oo(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var mt=0;function Bq(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Vq,UN,qq,Gq,Wq,qj=!1,D1=[],rc=null,nc=null,ic=null,ev=new Map,tv=new Map,Nu=[],poe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function XD(e,t){switch(e){case"focusin":case"focusout":rc=null;break;case"dragenter":case"dragleave":nc=null;break;case"mouseover":case"mouseout":ic=null;break;case"pointerover":case"pointerout":ev.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tv.delete(t.pointerId)}}function Nm(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Kb(t),t!==null&&UN(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function foe(e,t,r,n,i){switch(t){case"focusin":return rc=Nm(rc,e,t,r,n,i),!0;case"dragenter":return nc=Nm(nc,e,t,r,n,i),!0;case"mouseover":return ic=Nm(ic,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return ev.set(s,Nm(ev.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,tv.set(s,Nm(tv.get(s)||null,e,t,r,n,i)),!0}return!1}function Hq(e){var t=Dd(e.target);if(t!==null){var r=Np(t);if(r!==null){if(t=r.tag,t===13){if(t=Mq(r),t!==null){e.blockedOn=t,Wq(e.priority,function(){qq(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Gj(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Fj=n,r.target.dispatchEvent(n),Fj=null}else return t=Kb(r),t!==null&&UN(t),e.blockedOn=r,!1;t.shift()}return!0}function e4(e,t,r){sx(e)&&r.delete(t)}function hoe(){qj=!1,rc!==null&&sx(rc)&&(rc=null),nc!==null&&sx(nc)&&(nc=null),ic!==null&&sx(ic)&&(ic=null),ev.forEach(e4),tv.forEach(e4)}function Mm(e,t){e.blockedOn===t&&(e.blockedOn=null,qj||(qj=!0,Xi.unstable_scheduleCallback(Xi.unstable_NormalPriority,hoe)))}function rv(e){function t(i){return Mm(i,e)}if(0<D1.length){Mm(D1[0],e);for(var r=1;r<D1.length;r++){var n=D1[r];n.blockedOn===e&&(n.blockedOn=null)}}for(rc!==null&&Mm(rc,e),nc!==null&&Mm(nc,e),ic!==null&&Mm(ic,e),ev.forEach(t),tv.forEach(t),r=0;r<Nu.length;r++)n=Nu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Nu.length&&(r=Nu[0],r.blockedOn===null);)Hq(r),r.blockedOn===null&&Nu.shift()}var Ah=Gl.ReactCurrentBatchConfig,CS=!0;function yoe(e,t,r,n){var i=mt,s=Ah.transition;Ah.transition=null;try{mt=1,zN(e,t,r,n)}finally{mt=i,Ah.transition=s}}function moe(e,t,r,n){var i=mt,s=Ah.transition;Ah.transition=null;try{mt=4,zN(e,t,r,n)}finally{mt=i,Ah.transition=s}}function zN(e,t,r,n){if(CS){var i=Gj(e,t,r,n);if(i===null)jO(e,t,n,NS,r),XD(e,n);else if(foe(i,e,t,r,n))n.stopPropagation();else if(XD(e,n),t&4&&-1<poe.indexOf(e)){for(;i!==null;){var s=Kb(i);if(s!==null&&Vq(s),s=Gj(e,t,r,n),s===null&&jO(e,t,n,NS,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else jO(e,t,n,null,r)}}var NS=null;function Gj(e,t,r,n){if(NS=null,e=LN(n),e=Dd(e),e!==null)if(t=Np(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Mq(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return NS=e,null}function Jq(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(noe()){case DN:return 1;case Fq:return 4;case PS:case ioe:return 16;case Uq:return 536870912;default:return 16}default:return 16}}var Vu=null,BN=null,ox=null;function Kq(){if(ox)return ox;var e,t=BN,r=t.length,n,i="value"in Vu?Vu.value:Vu.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return ox=i.slice(e,1<n?1-n:void 0)}function ax(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function F1(){return!0}function t4(){return!1}function ts(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?F1:t4,this.isPropagationStopped=t4,this}return Kt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=F1)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=F1)},persist:function(){},isPersistent:F1}),t}var Ky={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},VN=ts(Ky),Jb=Kt({},Ky,{view:0,detail:0}),goe=ts(Jb),bO,wO,Rm,Y2=Kt({},Jb,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qN,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rm&&(Rm&&e.type==="mousemove"?(bO=e.screenX-Rm.screenX,wO=e.screenY-Rm.screenY):wO=bO=0,Rm=e),bO)},movementY:function(e){return"movementY"in e?e.movementY:wO}}),r4=ts(Y2),voe=Kt({},Y2,{dataTransfer:0}),boe=ts(voe),woe=Kt({},Jb,{relatedTarget:0}),xO=ts(woe),xoe=Kt({},Ky,{animationName:0,elapsedTime:0,pseudoElement:0}),Soe=ts(xoe),_oe=Kt({},Ky,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$oe=ts(_oe),Toe=Kt({},Ky,{data:0}),n4=ts(Toe),Ooe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eoe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},joe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Aoe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=joe[e])?!!t[e]:!1}function qN(){return Aoe}var Ioe=Kt({},Jb,{key:function(e){if(e.key){var t=Ooe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ax(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Eoe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qN,charCode:function(e){return e.type==="keypress"?ax(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ax(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Poe=ts(Ioe),koe=Kt({},Y2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),i4=ts(koe),Coe=Kt({},Jb,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qN}),Noe=ts(Coe),Moe=Kt({},Ky,{propertyName:0,elapsedTime:0,pseudoElement:0}),Roe=ts(Moe),Loe=Kt({},Y2,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Doe=ts(Loe),Foe=[9,13,27,32],GN=Ml&&"CompositionEvent"in window,pg=null;Ml&&"documentMode"in document&&(pg=document.documentMode);var Uoe=Ml&&"TextEvent"in window&&!pg,Zq=Ml&&(!GN||pg&&8<pg&&11>=pg),s4=String.fromCharCode(32),o4=!1;function Yq(e,t){switch(e){case"keyup":return Foe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qq(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var th=!1;function zoe(e,t){switch(e){case"compositionend":return Qq(t);case"keypress":return t.which!==32?null:(o4=!0,s4);case"textInput":return e=t.data,e===s4&&o4?null:e;default:return null}}function Boe(e,t){if(th)return e==="compositionend"||!GN&&Yq(e,t)?(e=Kq(),ox=BN=Vu=null,th=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zq&&t.locale!=="ko"?null:t.data;default:return null}}var Voe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function a4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Voe[e.type]:t==="textarea"}function Xq(e,t,r,n){Iq(n),t=MS(t,"onChange"),0<t.length&&(r=new VN("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var fg=null,nv=null;function qoe(e){cG(e,0)}function Q2(e){var t=ih(e);if(_q(t))return e}function Goe(e,t){if(e==="change")return t}var eG=!1;if(Ml){var SO;if(Ml){var _O="oninput"in document;if(!_O){var l4=document.createElement("div");l4.setAttribute("oninput","return;"),_O=typeof l4.oninput=="function"}SO=_O}else SO=!1;eG=SO&&(!document.documentMode||9<document.documentMode)}function u4(){fg&&(fg.detachEvent("onpropertychange",tG),nv=fg=null)}function tG(e){if(e.propertyName==="value"&&Q2(nv)){var t=[];Xq(t,nv,e,LN(e)),Nq(qoe,t)}}function Woe(e,t,r){e==="focusin"?(u4(),fg=t,nv=r,fg.attachEvent("onpropertychange",tG)):e==="focusout"&&u4()}function Hoe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Q2(nv)}function Joe(e,t){if(e==="click")return Q2(t)}function Koe(e,t){if(e==="input"||e==="change")return Q2(t)}function Zoe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mo=typeof Object.is=="function"?Object.is:Zoe;function iv(e,t){if(Mo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Ej.call(t,i)||!Mo(e[i],t[i]))return!1}return!0}function c4(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function d4(e,t){var r=c4(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=c4(r)}}function rG(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rG(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nG(){for(var e=window,t=jS();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=jS(e.document)}return t}function WN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Yoe(e){var t=nG(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&rG(r.ownerDocument.documentElement,r)){if(n!==null&&WN(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=d4(r,s);var o=d4(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Qoe=Ml&&"documentMode"in document&&11>=document.documentMode,rh=null,Wj=null,hg=null,Hj=!1;function p4(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Hj||rh==null||rh!==jS(n)||(n=rh,"selectionStart"in n&&WN(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),hg&&iv(hg,n)||(hg=n,n=MS(Wj,"onSelect"),0<n.length&&(t=new VN("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=rh)))}function U1(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var nh={animationend:U1("Animation","AnimationEnd"),animationiteration:U1("Animation","AnimationIteration"),animationstart:U1("Animation","AnimationStart"),transitionend:U1("Transition","TransitionEnd")},$O={},iG={};Ml&&(iG=document.createElement("div").style,"AnimationEvent"in window||(delete nh.animationend.animation,delete nh.animationiteration.animation,delete nh.animationstart.animation),"TransitionEvent"in window||delete nh.transitionend.transition);function X2(e){if($O[e])return $O[e];if(!nh[e])return e;var t=nh[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in iG)return $O[e]=t[r];return e}var sG=X2("animationend"),oG=X2("animationiteration"),aG=X2("animationstart"),lG=X2("transitionend"),uG=new Map,f4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jc(e,t){uG.set(e,t),Cp(t,[e])}for(var TO=0;TO<f4.length;TO++){var OO=f4[TO],Xoe=OO.toLowerCase(),eae=OO[0].toUpperCase()+OO.slice(1);jc(Xoe,"on"+eae)}jc(sG,"onAnimationEnd");jc(oG,"onAnimationIteration");jc(aG,"onAnimationStart");jc("dblclick","onDoubleClick");jc("focusin","onFocus");jc("focusout","onBlur");jc(lG,"onTransitionEnd");Zh("onMouseEnter",["mouseout","mouseover"]);Zh("onMouseLeave",["mouseout","mouseover"]);Zh("onPointerEnter",["pointerout","pointerover"]);Zh("onPointerLeave",["pointerout","pointerover"]);Cp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cp("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var y0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tae=new Set("cancel close invalid load scroll toggle".split(" ").concat(y0));function h4(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Xse(n,t,void 0,e),e.currentTarget=null}function cG(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;h4(i,a,c),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;h4(i,a,c),s=l}}}if(IS)throw e=Bj,IS=!1,Bj=null,e}function Nt(e,t){var r=t[Qj];r===void 0&&(r=t[Qj]=new Set);var n=e+"__bubble";r.has(n)||(dG(t,e,2,!1),r.add(n))}function EO(e,t,r){var n=0;t&&(n|=4),dG(r,e,n,t)}var z1="_reactListening"+Math.random().toString(36).slice(2);function sv(e){if(!e[z1]){e[z1]=!0,vq.forEach(function(r){r!=="selectionchange"&&(tae.has(r)||EO(r,!1,e),EO(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[z1]||(t[z1]=!0,EO("selectionchange",!1,t))}}function dG(e,t,r,n){switch(Jq(t)){case 1:var i=yoe;break;case 4:i=moe;break;default:i=zN}r=i.bind(null,t,r,e),i=void 0,!zj||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function jO(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Dd(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}Nq(function(){var c=s,d=LN(r),p=[];e:{var y=uG.get(e);if(y!==void 0){var m=VN,g=e;switch(e){case"keypress":if(ax(r)===0)break e;case"keydown":case"keyup":m=Poe;break;case"focusin":g="focus",m=xO;break;case"focusout":g="blur",m=xO;break;case"beforeblur":case"afterblur":m=xO;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=r4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=boe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Noe;break;case sG:case oG:case aG:m=Soe;break;case lG:m=Roe;break;case"scroll":m=goe;break;case"wheel":m=Doe;break;case"copy":case"cut":case"paste":m=$oe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=i4}var b=(t&4)!==0,w=!b&&e==="scroll",S=b?y!==null?y+"Capture":null:y;b=[];for(var _=c,x;_!==null;){x=_;var O=x.stateNode;if(x.tag===5&&O!==null&&(x=O,S!==null&&(O=Xg(_,S),O!=null&&b.push(ov(_,O,x)))),w)break;_=_.return}0<b.length&&(y=new m(y,g,null,r,d),p.push({event:y,listeners:b}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",y&&r!==Fj&&(g=r.relatedTarget||r.fromElement)&&(Dd(g)||g[Rl]))break e;if((m||y)&&(y=d.window===d?d:(y=d.ownerDocument)?y.defaultView||y.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=c,g=g?Dd(g):null,g!==null&&(w=Np(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(b=r4,O="onMouseLeave",S="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(b=i4,O="onPointerLeave",S="onPointerEnter",_="pointer"),w=m==null?y:ih(m),x=g==null?y:ih(g),y=new b(O,_+"leave",m,r,d),y.target=w,y.relatedTarget=x,O=null,Dd(d)===c&&(b=new b(S,_+"enter",g,r,d),b.target=x,b.relatedTarget=w,O=b),w=O,m&&g)t:{for(b=m,S=g,_=0,x=b;x;x=Kp(x))_++;for(x=0,O=S;O;O=Kp(O))x++;for(;0<_-x;)b=Kp(b),_--;for(;0<x-_;)S=Kp(S),x--;for(;_--;){if(b===S||S!==null&&b===S.alternate)break t;b=Kp(b),S=Kp(S)}b=null}else b=null;m!==null&&y4(p,y,m,b,!1),g!==null&&w!==null&&y4(p,w,g,b,!0)}}e:{if(y=c?ih(c):window,m=y.nodeName&&y.nodeName.toLowerCase(),m==="select"||m==="input"&&y.type==="file")var $=Goe;else if(a4(y))if(eG)$=Koe;else{$=Hoe;var T=Woe}else(m=y.nodeName)&&m.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&($=Joe);if($&&($=$(e,c))){Xq(p,$,r,d);break e}T&&T(e,y,c),e==="focusout"&&(T=y._wrapperState)&&T.controlled&&y.type==="number"&&Nj(y,"number",y.value)}switch(T=c?ih(c):window,e){case"focusin":(a4(T)||T.contentEditable==="true")&&(rh=T,Wj=c,hg=null);break;case"focusout":hg=Wj=rh=null;break;case"mousedown":Hj=!0;break;case"contextmenu":case"mouseup":case"dragend":Hj=!1,p4(p,r,d);break;case"selectionchange":if(Qoe)break;case"keydown":case"keyup":p4(p,r,d)}var j;if(GN)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else th?Yq(e,r)&&(I="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(I="onCompositionStart");I&&(Zq&&r.locale!=="ko"&&(th||I!=="onCompositionStart"?I==="onCompositionEnd"&&th&&(j=Kq()):(Vu=d,BN="value"in Vu?Vu.value:Vu.textContent,th=!0)),T=MS(c,I),0<T.length&&(I=new n4(I,e,null,r,d),p.push({event:I,listeners:T}),j?I.data=j:(j=Qq(r),j!==null&&(I.data=j)))),(j=Uoe?zoe(e,r):Boe(e,r))&&(c=MS(c,"onBeforeInput"),0<c.length&&(d=new n4("onBeforeInput","beforeinput",null,r,d),p.push({event:d,listeners:c}),d.data=j))}cG(p,t)})}function ov(e,t,r){return{instance:e,listener:t,currentTarget:r}}function MS(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Xg(e,r),s!=null&&n.unshift(ov(e,s,i)),s=Xg(e,t),s!=null&&n.push(ov(e,s,i))),e=e.return}return n}function Kp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function y4(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,i?(l=Xg(r,s),l!=null&&o.unshift(ov(r,l,a))):i||(l=Xg(r,s),l!=null&&o.push(ov(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var rae=/\r\n?/g,nae=/\u0000|\uFFFD/g;function m4(e){return(typeof e=="string"?e:""+e).replace(rae,`
`).replace(nae,"")}function B1(e,t,r){if(t=m4(t),m4(e)!==t&&r)throw Error(oe(425))}function RS(){}var Jj=null,Kj=null;function Zj(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yj=typeof setTimeout=="function"?setTimeout:void 0,iae=typeof clearTimeout=="function"?clearTimeout:void 0,g4=typeof Promise=="function"?Promise:void 0,sae=typeof queueMicrotask=="function"?queueMicrotask:typeof g4<"u"?function(e){return g4.resolve(null).then(e).catch(oae)}:Yj;function oae(e){setTimeout(function(){throw e})}function AO(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),rv(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);rv(t)}function sc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function v4(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Zy=Math.random().toString(36).slice(2),pa="__reactFiber$"+Zy,av="__reactProps$"+Zy,Rl="__reactContainer$"+Zy,Qj="__reactEvents$"+Zy,aae="__reactListeners$"+Zy,lae="__reactHandles$"+Zy;function Dd(e){var t=e[pa];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Rl]||r[pa]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=v4(e);e!==null;){if(r=e[pa])return r;e=v4(e)}return t}e=r,r=e.parentNode}return null}function Kb(e){return e=e[pa]||e[Rl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ih(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(oe(33))}function e$(e){return e[av]||null}var Xj=[],sh=-1;function Ac(e){return{current:e}}function Ut(e){0>sh||(e.current=Xj[sh],Xj[sh]=null,sh--)}function kt(e,t){sh++,Xj[sh]=e.current,e.current=t}var mc={},zn=Ac(mc),_i=Ac(!1),up=mc;function Yh(e,t){var r=e.type.contextTypes;if(!r)return mc;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function $i(e){return e=e.childContextTypes,e!=null}function LS(){Ut(_i),Ut(zn)}function b4(e,t,r){if(zn.current!==mc)throw Error(oe(168));kt(zn,t),kt(_i,r)}function pG(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(oe(108,Wse(e)||"Unknown",i));return Kt({},r,n)}function DS(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mc,up=zn.current,kt(zn,e),kt(_i,_i.current),!0}function w4(e,t,r){var n=e.stateNode;if(!n)throw Error(oe(169));r?(e=pG(e,t,up),n.__reactInternalMemoizedMergedChildContext=e,Ut(_i),Ut(zn),kt(zn,e)):Ut(_i),kt(_i,r)}var hl=null,t$=!1,IO=!1;function fG(e){hl===null?hl=[e]:hl.push(e)}function uae(e){t$=!0,fG(e)}function Ic(){if(!IO&&hl!==null){IO=!0;var e=0,t=mt;try{var r=hl;for(mt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}hl=null,t$=!1}catch(i){throw hl!==null&&(hl=hl.slice(e+1)),Dq(DN,Ic),i}finally{mt=t,IO=!1}}return null}var oh=[],ah=0,FS=null,US=0,vs=[],bs=0,cp=null,Sl=1,_l="";function Yc(e,t){oh[ah++]=US,oh[ah++]=FS,FS=e,US=t}function hG(e,t,r){vs[bs++]=Sl,vs[bs++]=_l,vs[bs++]=cp,cp=e;var n=Sl;e=_l;var i=32-Oo(n)-1;n&=~(1<<i),r+=1;var s=32-Oo(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Sl=1<<32-Oo(t)+i|r<<i|n,_l=s+e}else Sl=1<<s|r<<i|n,_l=e}function HN(e){e.return!==null&&(Yc(e,1),hG(e,1,0))}function JN(e){for(;e===FS;)FS=oh[--ah],oh[ah]=null,US=oh[--ah],oh[ah]=null;for(;e===cp;)cp=vs[--bs],vs[bs]=null,_l=vs[--bs],vs[bs]=null,Sl=vs[--bs],vs[bs]=null}var Ji=null,Gi=null,Vt=!1,vo=null;function yG(e,t){var r=_s(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function x4(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ji=e,Gi=sc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ji=e,Gi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=cp!==null?{id:Sl,overflow:_l}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=_s(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ji=e,Gi=null,!0):!1;default:return!1}}function eA(e){return(e.mode&1)!==0&&(e.flags&128)===0}function tA(e){if(Vt){var t=Gi;if(t){var r=t;if(!x4(e,t)){if(eA(e))throw Error(oe(418));t=sc(r.nextSibling);var n=Ji;t&&x4(e,t)?yG(n,r):(e.flags=e.flags&-4097|2,Vt=!1,Ji=e)}}else{if(eA(e))throw Error(oe(418));e.flags=e.flags&-4097|2,Vt=!1,Ji=e}}}function S4(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ji=e}function V1(e){if(e!==Ji)return!1;if(!Vt)return S4(e),Vt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zj(e.type,e.memoizedProps)),t&&(t=Gi)){if(eA(e))throw mG(),Error(oe(418));for(;t;)yG(e,t),t=sc(t.nextSibling)}if(S4(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Gi=sc(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Gi=null}}else Gi=Ji?sc(e.stateNode.nextSibling):null;return!0}function mG(){for(var e=Gi;e;)e=sc(e.nextSibling)}function Qh(){Gi=Ji=null,Vt=!1}function KN(e){vo===null?vo=[e]:vo.push(e)}var cae=Gl.ReactCurrentBatchConfig;function Lm(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(oe(309));var n=r.stateNode}if(!n)throw Error(oe(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(oe(284));if(!r._owner)throw Error(oe(290,e))}return e}function q1(e,t){throw e=Object.prototype.toString.call(t),Error(oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _4(e){var t=e._init;return t(e._payload)}function gG(e){function t(S,_){if(e){var x=S.deletions;x===null?(S.deletions=[_],S.flags|=16):x.push(_)}}function r(S,_){if(!e)return null;for(;_!==null;)t(S,_),_=_.sibling;return null}function n(S,_){for(S=new Map;_!==null;)_.key!==null?S.set(_.key,_):S.set(_.index,_),_=_.sibling;return S}function i(S,_){return S=uc(S,_),S.index=0,S.sibling=null,S}function s(S,_,x){return S.index=x,e?(x=S.alternate,x!==null?(x=x.index,x<_?(S.flags|=2,_):x):(S.flags|=2,_)):(S.flags|=1048576,_)}function o(S){return e&&S.alternate===null&&(S.flags|=2),S}function a(S,_,x,O){return _===null||_.tag!==6?(_=LO(x,S.mode,O),_.return=S,_):(_=i(_,x),_.return=S,_)}function l(S,_,x,O){var $=x.type;return $===eh?d(S,_,x.props.children,O,x.key):_!==null&&(_.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===wu&&_4($)===_.type)?(O=i(_,x.props),O.ref=Lm(S,_,x),O.return=S,O):(O=hx(x.type,x.key,x.props,null,S.mode,O),O.ref=Lm(S,_,x),O.return=S,O)}function c(S,_,x,O){return _===null||_.tag!==4||_.stateNode.containerInfo!==x.containerInfo||_.stateNode.implementation!==x.implementation?(_=DO(x,S.mode,O),_.return=S,_):(_=i(_,x.children||[]),_.return=S,_)}function d(S,_,x,O,$){return _===null||_.tag!==7?(_=Xd(x,S.mode,O,$),_.return=S,_):(_=i(_,x),_.return=S,_)}function p(S,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return _=LO(""+_,S.mode,x),_.return=S,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case C1:return x=hx(_.type,_.key,_.props,null,S.mode,x),x.ref=Lm(S,null,_),x.return=S,x;case Xf:return _=DO(_,S.mode,x),_.return=S,_;case wu:var O=_._init;return p(S,O(_._payload),x)}if(f0(_)||km(_))return _=Xd(_,S.mode,x,null),_.return=S,_;q1(S,_)}return null}function y(S,_,x,O){var $=_!==null?_.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return $!==null?null:a(S,_,""+x,O);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case C1:return x.key===$?l(S,_,x,O):null;case Xf:return x.key===$?c(S,_,x,O):null;case wu:return $=x._init,y(S,_,$(x._payload),O)}if(f0(x)||km(x))return $!==null?null:d(S,_,x,O,null);q1(S,x)}return null}function m(S,_,x,O,$){if(typeof O=="string"&&O!==""||typeof O=="number")return S=S.get(x)||null,a(_,S,""+O,$);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case C1:return S=S.get(O.key===null?x:O.key)||null,l(_,S,O,$);case Xf:return S=S.get(O.key===null?x:O.key)||null,c(_,S,O,$);case wu:var T=O._init;return m(S,_,x,T(O._payload),$)}if(f0(O)||km(O))return S=S.get(x)||null,d(_,S,O,$,null);q1(_,O)}return null}function g(S,_,x,O){for(var $=null,T=null,j=_,I=_=0,k=null;j!==null&&I<x.length;I++){j.index>I?(k=j,j=null):k=j.sibling;var M=y(S,j,x[I],O);if(M===null){j===null&&(j=k);break}e&&j&&M.alternate===null&&t(S,j),_=s(M,_,I),T===null?$=M:T.sibling=M,T=M,j=k}if(I===x.length)return r(S,j),Vt&&Yc(S,I),$;if(j===null){for(;I<x.length;I++)j=p(S,x[I],O),j!==null&&(_=s(j,_,I),T===null?$=j:T.sibling=j,T=j);return Vt&&Yc(S,I),$}for(j=n(S,j);I<x.length;I++)k=m(j,S,I,x[I],O),k!==null&&(e&&k.alternate!==null&&j.delete(k.key===null?I:k.key),_=s(k,_,I),T===null?$=k:T.sibling=k,T=k);return e&&j.forEach(function(N){return t(S,N)}),Vt&&Yc(S,I),$}function b(S,_,x,O){var $=km(x);if(typeof $!="function")throw Error(oe(150));if(x=$.call(x),x==null)throw Error(oe(151));for(var T=$=null,j=_,I=_=0,k=null,M=x.next();j!==null&&!M.done;I++,M=x.next()){j.index>I?(k=j,j=null):k=j.sibling;var N=y(S,j,M.value,O);if(N===null){j===null&&(j=k);break}e&&j&&N.alternate===null&&t(S,j),_=s(N,_,I),T===null?$=N:T.sibling=N,T=N,j=k}if(M.done)return r(S,j),Vt&&Yc(S,I),$;if(j===null){for(;!M.done;I++,M=x.next())M=p(S,M.value,O),M!==null&&(_=s(M,_,I),T===null?$=M:T.sibling=M,T=M);return Vt&&Yc(S,I),$}for(j=n(S,j);!M.done;I++,M=x.next())M=m(j,S,I,M.value,O),M!==null&&(e&&M.alternate!==null&&j.delete(M.key===null?I:M.key),_=s(M,_,I),T===null?$=M:T.sibling=M,T=M);return e&&j.forEach(function(F){return t(S,F)}),Vt&&Yc(S,I),$}function w(S,_,x,O){if(typeof x=="object"&&x!==null&&x.type===eh&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case C1:e:{for(var $=x.key,T=_;T!==null;){if(T.key===$){if($=x.type,$===eh){if(T.tag===7){r(S,T.sibling),_=i(T,x.props.children),_.return=S,S=_;break e}}else if(T.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===wu&&_4($)===T.type){r(S,T.sibling),_=i(T,x.props),_.ref=Lm(S,T,x),_.return=S,S=_;break e}r(S,T);break}else t(S,T);T=T.sibling}x.type===eh?(_=Xd(x.props.children,S.mode,O,x.key),_.return=S,S=_):(O=hx(x.type,x.key,x.props,null,S.mode,O),O.ref=Lm(S,_,x),O.return=S,S=O)}return o(S);case Xf:e:{for(T=x.key;_!==null;){if(_.key===T)if(_.tag===4&&_.stateNode.containerInfo===x.containerInfo&&_.stateNode.implementation===x.implementation){r(S,_.sibling),_=i(_,x.children||[]),_.return=S,S=_;break e}else{r(S,_);break}else t(S,_);_=_.sibling}_=DO(x,S.mode,O),_.return=S,S=_}return o(S);case wu:return T=x._init,w(S,_,T(x._payload),O)}if(f0(x))return g(S,_,x,O);if(km(x))return b(S,_,x,O);q1(S,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,_!==null&&_.tag===6?(r(S,_.sibling),_=i(_,x),_.return=S,S=_):(r(S,_),_=LO(x,S.mode,O),_.return=S,S=_),o(S)):r(S,_)}return w}var Xh=gG(!0),vG=gG(!1),zS=Ac(null),BS=null,lh=null,ZN=null;function YN(){ZN=lh=BS=null}function QN(e){var t=zS.current;Ut(zS),e._currentValue=t}function rA(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ih(e,t){BS=e,ZN=lh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(wi=!0),e.firstContext=null)}function Cs(e){var t=e._currentValue;if(ZN!==e)if(e={context:e,memoizedValue:t,next:null},lh===null){if(BS===null)throw Error(oe(308));lh=e,BS.dependencies={lanes:0,firstContext:e}}else lh=lh.next=e;return t}var Fd=null;function XN(e){Fd===null?Fd=[e]:Fd.push(e)}function bG(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,XN(t)):(r.next=i.next,i.next=r),t.interleaved=r,Ll(e,n)}function Ll(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var xu=!1;function eM(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wG(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Il(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function oc(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,tt&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Ll(e,r)}return i=n.interleaved,i===null?(t.next=t,XN(n)):(t.next=i.next,i.next=t),n.interleaved=t,Ll(e,r)}function lx(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,FN(e,r)}}function $4(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function VS(e,t,r,n){var i=e.updateQueue;xu=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;o=0,d=c=l=null,a=s;do{var y=a.lane,m=a.eventTime;if((n&y)===y){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,b=a;switch(y=t,m=r,b.tag){case 1:if(g=b.payload,typeof g=="function"){p=g.call(m,p,y);break e}p=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=b.payload,y=typeof g=="function"?g.call(m,p,y):g,y==null)break e;p=Kt({},p,y);break e;case 2:xu=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,y=i.effects,y===null?i.effects=[a]:y.push(a))}else m={eventTime:m,lane:y,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=p):d=d.next=m,o|=y;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;y=a,a=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(1);if(d===null&&(l=p),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);pp|=o,e.lanes=o,e.memoizedState=p}}function T4(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(oe(191,i));i.call(n)}}}var Zb={},va=Ac(Zb),lv=Ac(Zb),uv=Ac(Zb);function Ud(e){if(e===Zb)throw Error(oe(174));return e}function tM(e,t){switch(kt(uv,t),kt(lv,e),kt(va,Zb),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Rj(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Rj(t,e)}Ut(va),kt(va,t)}function ey(){Ut(va),Ut(lv),Ut(uv)}function xG(e){Ud(uv.current);var t=Ud(va.current),r=Rj(t,e.type);t!==r&&(kt(lv,e),kt(va,r))}function rM(e){lv.current===e&&(Ut(va),Ut(lv))}var Ht=Ac(0);function qS(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var PO=[];function nM(){for(var e=0;e<PO.length;e++)PO[e]._workInProgressVersionPrimary=null;PO.length=0}var ux=Gl.ReactCurrentDispatcher,kO=Gl.ReactCurrentBatchConfig,dp=0,Jt=null,Ur=null,en=null,GS=!1,yg=!1,cv=0,dae=0;function bn(){throw Error(oe(321))}function iM(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Mo(e[r],t[r]))return!1;return!0}function sM(e,t,r,n,i,s){if(dp=s,Jt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ux.current=e===null||e.memoizedState===null?yae:mae,e=r(n,i),yg){s=0;do{if(yg=!1,cv=0,25<=s)throw Error(oe(301));s+=1,en=Ur=null,t.updateQueue=null,ux.current=gae,e=r(n,i)}while(yg)}if(ux.current=WS,t=Ur!==null&&Ur.next!==null,dp=0,en=Ur=Jt=null,GS=!1,t)throw Error(oe(300));return e}function oM(){var e=cv!==0;return cv=0,e}function na(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Jt.memoizedState=en=e:en=en.next=e,en}function Ns(){if(Ur===null){var e=Jt.alternate;e=e!==null?e.memoizedState:null}else e=Ur.next;var t=en===null?Jt.memoizedState:en.next;if(t!==null)en=t,Ur=e;else{if(e===null)throw Error(oe(310));Ur=e,e={memoizedState:Ur.memoizedState,baseState:Ur.baseState,baseQueue:Ur.baseQueue,queue:Ur.queue,next:null},en===null?Jt.memoizedState=en=e:en=en.next=e}return en}function dv(e,t){return typeof t=="function"?t(e):t}function CO(e){var t=Ns(),r=t.queue;if(r===null)throw Error(oe(311));r.lastRenderedReducer=e;var n=Ur,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((dp&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=p,o=n):l=l.next=p,Jt.lanes|=d,pp|=d}c=c.next}while(c!==null&&c!==s);l===null?o=n:l.next=a,Mo(n,t.memoizedState)||(wi=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,Jt.lanes|=s,pp|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function NO(e){var t=Ns(),r=t.queue;if(r===null)throw Error(oe(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Mo(s,t.memoizedState)||(wi=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function SG(){}function _G(e,t){var r=Jt,n=Ns(),i=t(),s=!Mo(n.memoizedState,i);if(s&&(n.memoizedState=i,wi=!0),n=n.queue,aM(OG.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||en!==null&&en.memoizedState.tag&1){if(r.flags|=2048,pv(9,TG.bind(null,r,n,i,t),void 0,null),nn===null)throw Error(oe(349));dp&30||$G(r,t,i)}return i}function $G(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Jt.updateQueue,t===null?(t={lastEffect:null,stores:null},Jt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function TG(e,t,r,n){t.value=r,t.getSnapshot=n,EG(t)&&jG(e)}function OG(e,t,r){return r(function(){EG(t)&&jG(e)})}function EG(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Mo(e,r)}catch{return!0}}function jG(e){var t=Ll(e,1);t!==null&&Eo(t,e,1,-1)}function O4(e){var t=na();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dv,lastRenderedState:e},t.queue=e,e=e.dispatch=hae.bind(null,Jt,e),[t.memoizedState,e]}function pv(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Jt.updateQueue,t===null?(t={lastEffect:null,stores:null},Jt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function AG(){return Ns().memoizedState}function cx(e,t,r,n){var i=na();Jt.flags|=e,i.memoizedState=pv(1|t,r,void 0,n===void 0?null:n)}function r$(e,t,r,n){var i=Ns();n=n===void 0?null:n;var s=void 0;if(Ur!==null){var o=Ur.memoizedState;if(s=o.destroy,n!==null&&iM(n,o.deps)){i.memoizedState=pv(t,r,s,n);return}}Jt.flags|=e,i.memoizedState=pv(1|t,r,s,n)}function E4(e,t){return cx(8390656,8,e,t)}function aM(e,t){return r$(2048,8,e,t)}function IG(e,t){return r$(4,2,e,t)}function PG(e,t){return r$(4,4,e,t)}function kG(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function CG(e,t,r){return r=r!=null?r.concat([e]):null,r$(4,4,kG.bind(null,t,e),r)}function lM(){}function NG(e,t){var r=Ns();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&iM(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function MG(e,t){var r=Ns();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&iM(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function RG(e,t,r){return dp&21?(Mo(r,t)||(r=zq(),Jt.lanes|=r,pp|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,wi=!0),e.memoizedState=r)}function pae(e,t){var r=mt;mt=r!==0&&4>r?r:4,e(!0);var n=kO.transition;kO.transition={};try{e(!1),t()}finally{mt=r,kO.transition=n}}function LG(){return Ns().memoizedState}function fae(e,t,r){var n=lc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},DG(e))FG(t,r);else if(r=bG(e,t,r,n),r!==null){var i=ti();Eo(r,e,n,i),UG(r,t,n)}}function hae(e,t,r){var n=lc(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(DG(e))FG(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Mo(a,o)){var l=t.interleaved;l===null?(i.next=i,XN(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=bG(e,t,i,n),r!==null&&(i=ti(),Eo(r,e,n,i),UG(r,t,n))}}function DG(e){var t=e.alternate;return e===Jt||t!==null&&t===Jt}function FG(e,t){yg=GS=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function UG(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,FN(e,r)}}var WS={readContext:Cs,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useInsertionEffect:bn,useLayoutEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useMutableSource:bn,useSyncExternalStore:bn,useId:bn,unstable_isNewReconciler:!1},yae={readContext:Cs,useCallback:function(e,t){return na().memoizedState=[e,t===void 0?null:t],e},useContext:Cs,useEffect:E4,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,cx(4194308,4,kG.bind(null,t,e),r)},useLayoutEffect:function(e,t){return cx(4194308,4,e,t)},useInsertionEffect:function(e,t){return cx(4,2,e,t)},useMemo:function(e,t){var r=na();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=na();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=fae.bind(null,Jt,e),[n.memoizedState,e]},useRef:function(e){var t=na();return e={current:e},t.memoizedState=e},useState:O4,useDebugValue:lM,useDeferredValue:function(e){return na().memoizedState=e},useTransition:function(){var e=O4(!1),t=e[0];return e=pae.bind(null,e[1]),na().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Jt,i=na();if(Vt){if(r===void 0)throw Error(oe(407));r=r()}else{if(r=t(),nn===null)throw Error(oe(349));dp&30||$G(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,E4(OG.bind(null,n,s,e),[e]),n.flags|=2048,pv(9,TG.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=na(),t=nn.identifierPrefix;if(Vt){var r=_l,n=Sl;r=(n&~(1<<32-Oo(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=cv++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=dae++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mae={readContext:Cs,useCallback:NG,useContext:Cs,useEffect:aM,useImperativeHandle:CG,useInsertionEffect:IG,useLayoutEffect:PG,useMemo:MG,useReducer:CO,useRef:AG,useState:function(){return CO(dv)},useDebugValue:lM,useDeferredValue:function(e){var t=Ns();return RG(t,Ur.memoizedState,e)},useTransition:function(){var e=CO(dv)[0],t=Ns().memoizedState;return[e,t]},useMutableSource:SG,useSyncExternalStore:_G,useId:LG,unstable_isNewReconciler:!1},gae={readContext:Cs,useCallback:NG,useContext:Cs,useEffect:aM,useImperativeHandle:CG,useInsertionEffect:IG,useLayoutEffect:PG,useMemo:MG,useReducer:NO,useRef:AG,useState:function(){return NO(dv)},useDebugValue:lM,useDeferredValue:function(e){var t=Ns();return Ur===null?t.memoizedState=e:RG(t,Ur.memoizedState,e)},useTransition:function(){var e=NO(dv)[0],t=Ns().memoizedState;return[e,t]},useMutableSource:SG,useSyncExternalStore:_G,useId:LG,unstable_isNewReconciler:!1};function oo(e,t){if(e&&e.defaultProps){t=Kt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function nA(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Kt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var n$={isMounted:function(e){return(e=e._reactInternals)?Np(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ti(),i=lc(e),s=Il(n,i);s.payload=t,r!=null&&(s.callback=r),t=oc(e,s,i),t!==null&&(Eo(t,e,i,n),lx(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ti(),i=lc(e),s=Il(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=oc(e,s,i),t!==null&&(Eo(t,e,i,n),lx(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ti(),n=lc(e),i=Il(r,n);i.tag=2,t!=null&&(i.callback=t),t=oc(e,i,n),t!==null&&(Eo(t,e,n,r),lx(t,e,n))}};function j4(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!iv(r,n)||!iv(i,s):!0}function zG(e,t,r){var n=!1,i=mc,s=t.contextType;return typeof s=="object"&&s!==null?s=Cs(s):(i=$i(t)?up:zn.current,n=t.contextTypes,s=(n=n!=null)?Yh(e,i):mc),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=n$,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function A4(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&n$.enqueueReplaceState(t,t.state,null)}function iA(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},eM(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Cs(s):(s=$i(t)?up:zn.current,i.context=Yh(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(nA(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&n$.enqueueReplaceState(i,i.state,null),VS(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ty(e,t){try{var r="",n=t;do r+=Gse(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function MO(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function sA(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var vae=typeof WeakMap=="function"?WeakMap:Map;function BG(e,t,r){r=Il(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){JS||(JS=!0,yA=n),sA(e,t)},r}function VG(e,t,r){r=Il(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){sA(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){sA(e,t),typeof n!="function"&&(ac===null?ac=new Set([this]):ac.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function I4(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new vae;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=kae.bind(null,e,t,r),t.then(e,e))}function P4(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function k4(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Il(-1,1),t.tag=2,oc(r,t,1))),r.lanes|=1),e)}var bae=Gl.ReactCurrentOwner,wi=!1;function Gn(e,t,r,n){t.child=e===null?vG(t,null,r,n):Xh(t,e.child,r,n)}function C4(e,t,r,n,i){r=r.render;var s=t.ref;return Ih(t,i),n=sM(e,t,r,n,s,i),r=oM(),e!==null&&!wi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Dl(e,t,i)):(Vt&&r&&HN(t),t.flags|=1,Gn(e,t,n,i),t.child)}function N4(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!mM(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,qG(e,t,s,n,i)):(e=hx(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:iv,r(o,n)&&e.ref===t.ref)return Dl(e,t,i)}return t.flags|=1,e=uc(s,n),e.ref=t.ref,e.return=t,t.child=e}function qG(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(iv(s,n)&&e.ref===t.ref)if(wi=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(wi=!0);else return t.lanes=e.lanes,Dl(e,t,i)}return oA(e,t,r,n,i)}function GG(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(ch,Ui),Ui|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,kt(ch,Ui),Ui|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,kt(ch,Ui),Ui|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,kt(ch,Ui),Ui|=n;return Gn(e,t,i,r),t.child}function WG(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function oA(e,t,r,n,i){var s=$i(r)?up:zn.current;return s=Yh(t,s),Ih(t,i),r=sM(e,t,r,n,s,i),n=oM(),e!==null&&!wi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Dl(e,t,i)):(Vt&&n&&HN(t),t.flags|=1,Gn(e,t,r,i),t.child)}function M4(e,t,r,n,i){if($i(r)){var s=!0;DS(t)}else s=!1;if(Ih(t,i),t.stateNode===null)dx(e,t),zG(t,r,n),iA(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Cs(c):(c=$i(r)?up:zn.current,c=Yh(t,c));var d=r.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&A4(t,o,n,c),xu=!1;var y=t.memoizedState;o.state=y,VS(t,n,o,i),l=t.memoizedState,a!==n||y!==l||_i.current||xu?(typeof d=="function"&&(nA(t,r,d,n),l=t.memoizedState),(a=xu||j4(t,r,a,n,y,l,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,wG(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:oo(t.type,a),o.props=c,p=t.pendingProps,y=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Cs(l):(l=$i(r)?up:zn.current,l=Yh(t,l));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||y!==l)&&A4(t,o,n,l),xu=!1,y=t.memoizedState,o.state=y,VS(t,n,o,i);var g=t.memoizedState;a!==p||y!==g||_i.current||xu?(typeof m=="function"&&(nA(t,r,m,n),g=t.memoizedState),(c=xu||j4(t,r,c,n,y,g,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),n=!1)}return aA(e,t,r,n,s,i)}function aA(e,t,r,n,i,s){WG(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&w4(t,r,!1),Dl(e,t,s);n=t.stateNode,bae.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Xh(t,e.child,null,s),t.child=Xh(t,null,a,s)):Gn(e,t,a,s),t.memoizedState=n.state,i&&w4(t,r,!0),t.child}function HG(e){var t=e.stateNode;t.pendingContext?b4(e,t.pendingContext,t.pendingContext!==t.context):t.context&&b4(e,t.context,!1),tM(e,t.containerInfo)}function R4(e,t,r,n,i){return Qh(),KN(i),t.flags|=256,Gn(e,t,r,n),t.child}var lA={dehydrated:null,treeContext:null,retryLane:0};function uA(e){return{baseLanes:e,cachePool:null,transitions:null}}function JG(e,t,r){var n=t.pendingProps,i=Ht.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),kt(Ht,i&1),e===null)return tA(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=o$(o,n,0,null),e=Xd(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=uA(r),t.memoizedState=lA,e):uM(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return wae(e,t,o,n,a,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=uc(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=uc(a,s):(s=Xd(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?uA(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=lA,n}return s=e.child,e=s.sibling,n=uc(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function uM(e,t){return t=o$({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function G1(e,t,r,n){return n!==null&&KN(n),Xh(t,e.child,null,r),e=uM(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wae(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=MO(Error(oe(422))),G1(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=o$({mode:"visible",children:n.children},i,0,null),s=Xd(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Xh(t,e.child,null,o),t.child.memoizedState=uA(o),t.memoizedState=lA,s);if(!(t.mode&1))return G1(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(oe(419)),n=MO(s,n,void 0),G1(e,t,o,n)}if(a=(o&e.childLanes)!==0,wi||a){if(n=nn,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ll(e,i),Eo(n,e,i,-1))}return yM(),n=MO(Error(oe(421))),G1(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Cae.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Gi=sc(i.nextSibling),Ji=t,Vt=!0,vo=null,e!==null&&(vs[bs++]=Sl,vs[bs++]=_l,vs[bs++]=cp,Sl=e.id,_l=e.overflow,cp=t),t=uM(t,n.children),t.flags|=4096,t)}function L4(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),rA(e.return,t,r)}function RO(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function KG(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Gn(e,t,n.children,r),n=Ht.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&L4(e,r,t);else if(e.tag===19)L4(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(kt(Ht,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&qS(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),RO(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&qS(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}RO(t,!0,r,null,s);break;case"together":RO(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function dx(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Dl(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),pp|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(oe(153));if(t.child!==null){for(e=t.child,r=uc(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=uc(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function xae(e,t,r){switch(t.tag){case 3:HG(t),Qh();break;case 5:xG(t);break;case 1:$i(t.type)&&DS(t);break;case 4:tM(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;kt(zS,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(kt(Ht,Ht.current&1),t.flags|=128,null):r&t.child.childLanes?JG(e,t,r):(kt(Ht,Ht.current&1),e=Dl(e,t,r),e!==null?e.sibling:null);kt(Ht,Ht.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return KG(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),kt(Ht,Ht.current),n)break;return null;case 22:case 23:return t.lanes=0,GG(e,t,r)}return Dl(e,t,r)}var ZG,cA,YG,QG;ZG=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};cA=function(){};YG=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Ud(va.current);var s=null;switch(r){case"input":i=kj(e,i),n=kj(e,n),s=[];break;case"select":i=Kt({},i,{value:void 0}),n=Kt({},n,{value:void 0}),s=[];break;case"textarea":i=Mj(e,i),n=Mj(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=RS)}Lj(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Yg.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(a=i?.[c],n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Yg.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Nt("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};QG=function(e,t,r,n){r!==n&&(t.flags|=4)};function Dm(e,t){if(!Vt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function wn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Sae(e,t,r){var n=t.pendingProps;switch(JN(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(t),null;case 1:return $i(t.type)&&LS(),wn(t),null;case 3:return n=t.stateNode,ey(),Ut(_i),Ut(zn),nM(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(V1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vo!==null&&(vA(vo),vo=null))),cA(e,t),wn(t),null;case 5:rM(t);var i=Ud(uv.current);if(r=t.type,e!==null&&t.stateNode!=null)YG(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(oe(166));return wn(t),null}if(e=Ud(va.current),V1(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[pa]=t,n[av]=s,e=(t.mode&1)!==0,r){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(i=0;i<y0.length;i++)Nt(y0[i],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":WD(n,s),Nt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Nt("invalid",n);break;case"textarea":JD(n,s),Nt("invalid",n)}Lj(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&B1(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&B1(n.textContent,a,e),i=["children",""+a]):Yg.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Nt("scroll",n)}switch(r){case"input":N1(n),HD(n,s,!0);break;case"textarea":N1(n),KD(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=RS)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Oq(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[pa]=t,e[av]=n,ZG(e,t,!1,!1),t.stateNode=e;e:{switch(o=Dj(r,n),r){case"dialog":Nt("cancel",e),Nt("close",e),i=n;break;case"iframe":case"object":case"embed":Nt("load",e),i=n;break;case"video":case"audio":for(i=0;i<y0.length;i++)Nt(y0[i],e);i=n;break;case"source":Nt("error",e),i=n;break;case"img":case"image":case"link":Nt("error",e),Nt("load",e),i=n;break;case"details":Nt("toggle",e),i=n;break;case"input":WD(e,n),i=kj(e,n),Nt("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Kt({},n,{value:void 0}),Nt("invalid",e);break;case"textarea":JD(e,n),i=Mj(e,n),Nt("invalid",e);break;default:i=n}Lj(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Aq(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Eq(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Qg(e,l):typeof l=="number"&&Qg(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Yg.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Nt("scroll",e):l!=null&&CN(e,s,l,o))}switch(r){case"input":N1(e),HD(e,n,!1);break;case"textarea":N1(e),KD(e);break;case"option":n.value!=null&&e.setAttribute("value",""+yc(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Oh(e,!!n.multiple,s,!1):n.defaultValue!=null&&Oh(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=RS)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wn(t),null;case 6:if(e&&t.stateNode!=null)QG(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(oe(166));if(r=Ud(uv.current),Ud(va.current),V1(t)){if(n=t.stateNode,r=t.memoizedProps,n[pa]=t,(s=n.nodeValue!==r)&&(e=Ji,e!==null))switch(e.tag){case 3:B1(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&B1(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[pa]=t,t.stateNode=n}return wn(t),null;case 13:if(Ut(Ht),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Vt&&Gi!==null&&t.mode&1&&!(t.flags&128))mG(),Qh(),t.flags|=98560,s=!1;else if(s=V1(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(oe(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(oe(317));s[pa]=t}else Qh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wn(t),s=!1}else vo!==null&&(vA(vo),vo=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ht.current&1?Br===0&&(Br=3):yM())),t.updateQueue!==null&&(t.flags|=4),wn(t),null);case 4:return ey(),cA(e,t),e===null&&sv(t.stateNode.containerInfo),wn(t),null;case 10:return QN(t.type._context),wn(t),null;case 17:return $i(t.type)&&LS(),wn(t),null;case 19:if(Ut(Ht),s=t.memoizedState,s===null)return wn(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Dm(s,!1);else{if(Br!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=qS(e),o!==null){for(t.flags|=128,Dm(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return kt(Ht,Ht.current&1|2),t.child}e=e.sibling}s.tail!==null&&mr()>ry&&(t.flags|=128,n=!0,Dm(s,!1),t.lanes=4194304)}else{if(!n)if(e=qS(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Dm(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Vt)return wn(t),null}else 2*mr()-s.renderingStartTime>ry&&r!==1073741824&&(t.flags|=128,n=!0,Dm(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=mr(),t.sibling=null,r=Ht.current,kt(Ht,n?r&1|2:r&1),t):(wn(t),null);case 22:case 23:return hM(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ui&1073741824&&(wn(t),t.subtreeFlags&6&&(t.flags|=8192)):wn(t),null;case 24:return null;case 25:return null}throw Error(oe(156,t.tag))}function _ae(e,t){switch(JN(t),t.tag){case 1:return $i(t.type)&&LS(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ey(),Ut(_i),Ut(zn),nM(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return rM(t),null;case 13:if(Ut(Ht),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(oe(340));Qh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ut(Ht),null;case 4:return ey(),null;case 10:return QN(t.type._context),null;case 22:case 23:return hM(),null;case 24:return null;default:return null}}var W1=!1,Mn=!1,$ae=typeof WeakSet=="function"?WeakSet:Set,ve=null;function uh(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){rr(e,t,n)}else r.current=null}function dA(e,t,r){try{r()}catch(n){rr(e,t,n)}}var D4=!1;function Tae(e,t){if(Jj=CS,e=nG(),WN(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,d=0,p=e,y=null;t:for(;;){for(var m;p!==r||i!==0&&p.nodeType!==3||(a=o+i),p!==s||n!==0&&p.nodeType!==3||(l=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(m=p.firstChild)!==null;)y=p,p=m;for(;;){if(p===e)break t;if(y===r&&++c===i&&(a=o),y===s&&++d===n&&(l=o),(m=p.nextSibling)!==null)break;p=y,y=p.parentNode}p=m}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Kj={focusedElem:e,selectionRange:r},CS=!1,ve=t;ve!==null;)if(t=ve,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ve=e;else for(;ve!==null;){t=ve;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var b=g.memoizedProps,w=g.memoizedState,S=t.stateNode,_=S.getSnapshotBeforeUpdate(t.elementType===t.type?b:oo(t.type,b),w);S.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(O){rr(t,t.return,O)}if(e=t.sibling,e!==null){e.return=t.return,ve=e;break}ve=t.return}return g=D4,D4=!1,g}function mg(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&dA(t,r,s)}i=i.next}while(i!==n)}}function i$(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function pA(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function XG(e){var t=e.alternate;t!==null&&(e.alternate=null,XG(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[pa],delete t[av],delete t[Qj],delete t[aae],delete t[lae])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function eW(e){return e.tag===5||e.tag===3||e.tag===4}function F4(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||eW(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fA(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=RS));else if(n!==4&&(e=e.child,e!==null))for(fA(e,t,r),e=e.sibling;e!==null;)fA(e,t,r),e=e.sibling}function hA(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(hA(e,t,r),e=e.sibling;e!==null;)hA(e,t,r),e=e.sibling}var dn=null,ao=!1;function Xl(e,t,r){for(r=r.child;r!==null;)tW(e,t,r),r=r.sibling}function tW(e,t,r){if(ga&&typeof ga.onCommitFiberUnmount=="function")try{ga.onCommitFiberUnmount(Z2,r)}catch{}switch(r.tag){case 5:Mn||uh(r,t);case 6:var n=dn,i=ao;dn=null,Xl(e,t,r),dn=n,ao=i,dn!==null&&(ao?(e=dn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):dn.removeChild(r.stateNode));break;case 18:dn!==null&&(ao?(e=dn,r=r.stateNode,e.nodeType===8?AO(e.parentNode,r):e.nodeType===1&&AO(e,r),rv(e)):AO(dn,r.stateNode));break;case 4:n=dn,i=ao,dn=r.stateNode.containerInfo,ao=!0,Xl(e,t,r),dn=n,ao=i;break;case 0:case 11:case 14:case 15:if(!Mn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&dA(r,t,o),i=i.next}while(i!==n)}Xl(e,t,r);break;case 1:if(!Mn&&(uh(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){rr(r,t,a)}Xl(e,t,r);break;case 21:Xl(e,t,r);break;case 22:r.mode&1?(Mn=(n=Mn)||r.memoizedState!==null,Xl(e,t,r),Mn=n):Xl(e,t,r);break;default:Xl(e,t,r)}}function U4(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new $ae),t.forEach(function(n){var i=Nae.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function zs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:dn=a.stateNode,ao=!1;break e;case 3:dn=a.stateNode.containerInfo,ao=!0;break e;case 4:dn=a.stateNode.containerInfo,ao=!0;break e}a=a.return}if(dn===null)throw Error(oe(160));tW(s,o,i),dn=null,ao=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){rr(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rW(t,e),t=t.sibling}function rW(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zs(t,e),Bo(e),n&4){try{mg(3,e,e.return),i$(3,e)}catch(b){rr(e,e.return,b)}try{mg(5,e,e.return)}catch(b){rr(e,e.return,b)}}break;case 1:zs(t,e),Bo(e),n&512&&r!==null&&uh(r,r.return);break;case 5:if(zs(t,e),Bo(e),n&512&&r!==null&&uh(r,r.return),e.flags&32){var i=e.stateNode;try{Qg(i,"")}catch(b){rr(e,e.return,b)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&$q(i,s),Dj(a,o);var c=Dj(a,s);for(o=0;o<l.length;o+=2){var d=l[o],p=l[o+1];d==="style"?Aq(i,p):d==="dangerouslySetInnerHTML"?Eq(i,p):d==="children"?Qg(i,p):CN(i,d,p,c)}switch(a){case"input":Cj(i,s);break;case"textarea":Tq(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Oh(i,!!s.multiple,m,!1):y!==!!s.multiple&&(s.defaultValue!=null?Oh(i,!!s.multiple,s.defaultValue,!0):Oh(i,!!s.multiple,s.multiple?[]:"",!1))}i[av]=s}catch(b){rr(e,e.return,b)}}break;case 6:if(zs(t,e),Bo(e),n&4){if(e.stateNode===null)throw Error(oe(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(b){rr(e,e.return,b)}}break;case 3:if(zs(t,e),Bo(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{rv(t.containerInfo)}catch(b){rr(e,e.return,b)}break;case 4:zs(t,e),Bo(e);break;case 13:zs(t,e),Bo(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(pM=mr())),n&4&&U4(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Mn=(c=Mn)||d,zs(t,e),Mn=c):zs(t,e),Bo(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(ve=e,d=e.child;d!==null;){for(p=ve=d;ve!==null;){switch(y=ve,m=y.child,y.tag){case 0:case 11:case 14:case 15:mg(4,y,y.return);break;case 1:uh(y,y.return);var g=y.stateNode;if(typeof g.componentWillUnmount=="function"){n=y,r=y.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(b){rr(n,r,b)}}break;case 5:uh(y,y.return);break;case 22:if(y.memoizedState!==null){B4(p);continue}}m!==null?(m.return=y,ve=m):B4(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=jq("display",o))}catch(b){rr(e,e.return,b)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(b){rr(e,e.return,b)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:zs(t,e),Bo(e),n&4&&U4(e);break;case 21:break;default:zs(t,e),Bo(e)}}function Bo(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(eW(r)){var n=r;break e}r=r.return}throw Error(oe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Qg(i,""),n.flags&=-33);var s=F4(e);hA(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=F4(e);fA(e,a,o);break;default:throw Error(oe(161))}}catch(l){rr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Oae(e,t,r){ve=e,nW(e)}function nW(e,t,r){for(var n=(e.mode&1)!==0;ve!==null;){var i=ve,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||W1;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Mn;a=W1;var c=Mn;if(W1=o,(Mn=l)&&!c)for(ve=i;ve!==null;)o=ve,l=o.child,o.tag===22&&o.memoizedState!==null?V4(i):l!==null?(l.return=o,ve=l):V4(i);for(;s!==null;)ve=s,nW(s),s=s.sibling;ve=i,W1=a,Mn=c}z4(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ve=s):z4(e)}}function z4(e){for(;ve!==null;){var t=ve;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Mn||i$(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Mn)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:oo(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&T4(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}T4(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&rv(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}Mn||t.flags&512&&pA(t)}catch(y){rr(t,t.return,y)}}if(t===e){ve=null;break}if(r=t.sibling,r!==null){r.return=t.return,ve=r;break}ve=t.return}}function B4(e){for(;ve!==null;){var t=ve;if(t===e){ve=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ve=r;break}ve=t.return}}function V4(e){for(;ve!==null;){var t=ve;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{i$(4,t)}catch(l){rr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){rr(t,i,l)}}var s=t.return;try{pA(t)}catch(l){rr(t,s,l)}break;case 5:var o=t.return;try{pA(t)}catch(l){rr(t,o,l)}}}catch(l){rr(t,t.return,l)}if(t===e){ve=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ve=a;break}ve=t.return}}var Eae=Math.ceil,HS=Gl.ReactCurrentDispatcher,cM=Gl.ReactCurrentOwner,js=Gl.ReactCurrentBatchConfig,tt=0,nn=null,Tr=null,fn=0,Ui=0,ch=Ac(0),Br=0,fv=null,pp=0,s$=0,dM=0,gg=null,vi=null,pM=0,ry=1/0,tl=null,JS=!1,yA=null,ac=null,H1=!1,qu=null,KS=0,vg=0,mA=null,px=-1,fx=0;function ti(){return tt&6?mr():px!==-1?px:px=mr()}function lc(e){return e.mode&1?tt&2&&fn!==0?fn&-fn:cae.transition!==null?(fx===0&&(fx=zq()),fx):(e=mt,e!==0||(e=window.event,e=e===void 0?16:Jq(e.type)),e):1}function Eo(e,t,r,n){if(50<vg)throw vg=0,mA=null,Error(oe(185));Hb(e,r,n),(!(tt&2)||e!==nn)&&(e===nn&&(!(tt&2)&&(s$|=r),Br===4&&Mu(e,fn)),Ti(e,n),r===1&&tt===0&&!(t.mode&1)&&(ry=mr()+500,t$&&Ic()))}function Ti(e,t){var r=e.callbackNode;coe(e,t);var n=kS(e,e===nn?fn:0);if(n===0)r!==null&&QD(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&QD(r),t===1)e.tag===0?uae(q4.bind(null,e)):fG(q4.bind(null,e)),sae(function(){!(tt&6)&&Ic()}),r=null;else{switch(Bq(n)){case 1:r=DN;break;case 4:r=Fq;break;case 16:r=PS;break;case 536870912:r=Uq;break;default:r=PS}r=dW(r,iW.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function iW(e,t){if(px=-1,fx=0,tt&6)throw Error(oe(327));var r=e.callbackNode;if(Ph()&&e.callbackNode!==r)return null;var n=kS(e,e===nn?fn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ZS(e,n);else{t=n;var i=tt;tt|=2;var s=oW();(nn!==e||fn!==t)&&(tl=null,ry=mr()+500,Qd(e,t));do try{Iae();break}catch(a){sW(e,a)}while(1);YN(),HS.current=s,tt=i,Tr!==null?t=0:(nn=null,fn=0,t=Br)}if(t!==0){if(t===2&&(i=Vj(e),i!==0&&(n=i,t=gA(e,i))),t===1)throw r=fv,Qd(e,0),Mu(e,n),Ti(e,mr()),r;if(t===6)Mu(e,n);else{if(i=e.current.alternate,!(n&30)&&!jae(i)&&(t=ZS(e,n),t===2&&(s=Vj(e),s!==0&&(n=s,t=gA(e,s))),t===1))throw r=fv,Qd(e,0),Mu(e,n),Ti(e,mr()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(oe(345));case 2:Qc(e,vi,tl);break;case 3:if(Mu(e,n),(n&130023424)===n&&(t=pM+500-mr(),10<t)){if(kS(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){ti(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Yj(Qc.bind(null,e,vi,tl),t);break}Qc(e,vi,tl);break;case 4:if(Mu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Oo(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=mr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Eae(n/1960))-n,10<n){e.timeoutHandle=Yj(Qc.bind(null,e,vi,tl),n);break}Qc(e,vi,tl);break;case 5:Qc(e,vi,tl);break;default:throw Error(oe(329))}}}return Ti(e,mr()),e.callbackNode===r?iW.bind(null,e):null}function gA(e,t){var r=gg;return e.current.memoizedState.isDehydrated&&(Qd(e,t).flags|=256),e=ZS(e,t),e!==2&&(t=vi,vi=r,t!==null&&vA(t)),e}function vA(e){vi===null?vi=e:vi.push.apply(vi,e)}function jae(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Mo(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mu(e,t){for(t&=~dM,t&=~s$,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Oo(t),n=1<<r;e[r]=-1,t&=~n}}function q4(e){if(tt&6)throw Error(oe(327));Ph();var t=kS(e,0);if(!(t&1))return Ti(e,mr()),null;var r=ZS(e,t);if(e.tag!==0&&r===2){var n=Vj(e);n!==0&&(t=n,r=gA(e,n))}if(r===1)throw r=fv,Qd(e,0),Mu(e,t),Ti(e,mr()),r;if(r===6)throw Error(oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qc(e,vi,tl),Ti(e,mr()),null}function fM(e,t){var r=tt;tt|=1;try{return e(t)}finally{tt=r,tt===0&&(ry=mr()+500,t$&&Ic())}}function fp(e){qu!==null&&qu.tag===0&&!(tt&6)&&Ph();var t=tt;tt|=1;var r=js.transition,n=mt;try{if(js.transition=null,mt=1,e)return e()}finally{mt=n,js.transition=r,tt=t,!(tt&6)&&Ic()}}function hM(){Ui=ch.current,Ut(ch)}function Qd(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,iae(r)),Tr!==null)for(r=Tr.return;r!==null;){var n=r;switch(JN(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&LS();break;case 3:ey(),Ut(_i),Ut(zn),nM();break;case 5:rM(n);break;case 4:ey();break;case 13:Ut(Ht);break;case 19:Ut(Ht);break;case 10:QN(n.type._context);break;case 22:case 23:hM()}r=r.return}if(nn=e,Tr=e=uc(e.current,null),fn=Ui=t,Br=0,fv=null,dM=s$=pp=0,vi=gg=null,Fd!==null){for(t=0;t<Fd.length;t++)if(r=Fd[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Fd=null}return e}function sW(e,t){do{var r=Tr;try{if(YN(),ux.current=WS,GS){for(var n=Jt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}GS=!1}if(dp=0,en=Ur=Jt=null,yg=!1,cv=0,cM.current=null,r===null||r.return===null){Br=1,fv=t,Tr=null;break}e:{var s=e,o=r.return,a=r,l=t;if(t=fn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var y=d.alternate;y?(d.updateQueue=y.updateQueue,d.memoizedState=y.memoizedState,d.lanes=y.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=P4(o);if(m!==null){m.flags&=-257,k4(m,o,a,s,t),m.mode&1&&I4(s,c,t),t=m,l=c;var g=t.updateQueue;if(g===null){var b=new Set;b.add(l),t.updateQueue=b}else g.add(l);break e}else{if(!(t&1)){I4(s,c,t),yM();break e}l=Error(oe(426))}}else if(Vt&&a.mode&1){var w=P4(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),k4(w,o,a,s,t),KN(ty(l,a));break e}}s=l=ty(l,a),Br!==4&&(Br=2),gg===null?gg=[s]:gg.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var S=BG(s,l,t);$4(s,S);break e;case 1:a=l;var _=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ac===null||!ac.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var O=VG(s,a,t);$4(s,O);break e}}s=s.return}while(s!==null)}lW(r)}catch($){t=$,Tr===r&&r!==null&&(Tr=r=r.return);continue}break}while(1)}function oW(){var e=HS.current;return HS.current=WS,e===null?WS:e}function yM(){(Br===0||Br===3||Br===2)&&(Br=4),nn===null||!(pp&268435455)&&!(s$&268435455)||Mu(nn,fn)}function ZS(e,t){var r=tt;tt|=2;var n=oW();(nn!==e||fn!==t)&&(tl=null,Qd(e,t));do try{Aae();break}catch(i){sW(e,i)}while(1);if(YN(),tt=r,HS.current=n,Tr!==null)throw Error(oe(261));return nn=null,fn=0,Br}function Aae(){for(;Tr!==null;)aW(Tr)}function Iae(){for(;Tr!==null&&!toe();)aW(Tr)}function aW(e){var t=cW(e.alternate,e,Ui);e.memoizedProps=e.pendingProps,t===null?lW(e):Tr=t,cM.current=null}function lW(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=_ae(r,t),r!==null){r.flags&=32767,Tr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Br=6,Tr=null;return}}else if(r=Sae(r,t,Ui),r!==null){Tr=r;return}if(t=t.sibling,t!==null){Tr=t;return}Tr=t=e}while(t!==null);Br===0&&(Br=5)}function Qc(e,t,r){var n=mt,i=js.transition;try{js.transition=null,mt=1,Pae(e,t,r,n)}finally{js.transition=i,mt=n}return null}function Pae(e,t,r,n){do Ph();while(qu!==null);if(tt&6)throw Error(oe(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(oe(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(doe(e,s),e===nn&&(Tr=nn=null,fn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||H1||(H1=!0,dW(PS,function(){return Ph(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=js.transition,js.transition=null;var o=mt;mt=1;var a=tt;tt|=4,cM.current=null,Tae(e,r),rW(r,e),Yoe(Kj),CS=!!Jj,Kj=Jj=null,e.current=r,Oae(r),roe(),tt=a,mt=o,js.transition=s}else e.current=r;if(H1&&(H1=!1,qu=e,KS=i),s=e.pendingLanes,s===0&&(ac=null),soe(r.stateNode),Ti(e,mr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(JS)throw JS=!1,e=yA,yA=null,e;return KS&1&&e.tag!==0&&Ph(),s=e.pendingLanes,s&1?e===mA?vg++:(vg=0,mA=e):vg=0,Ic(),null}function Ph(){if(qu!==null){var e=Bq(KS),t=js.transition,r=mt;try{if(js.transition=null,mt=16>e?16:e,qu===null)var n=!1;else{if(e=qu,qu=null,KS=0,tt&6)throw Error(oe(331));var i=tt;for(tt|=4,ve=e.current;ve!==null;){var s=ve,o=s.child;if(ve.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ve=c;ve!==null;){var d=ve;switch(d.tag){case 0:case 11:case 15:mg(8,d,s)}var p=d.child;if(p!==null)p.return=d,ve=p;else for(;ve!==null;){d=ve;var y=d.sibling,m=d.return;if(XG(d),d===c){ve=null;break}if(y!==null){y.return=m,ve=y;break}ve=m}}}var g=s.alternate;if(g!==null){var b=g.child;if(b!==null){g.child=null;do{var w=b.sibling;b.sibling=null,b=w}while(b!==null)}}ve=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ve=o;else e:for(;ve!==null;){if(s=ve,s.flags&2048)switch(s.tag){case 0:case 11:case 15:mg(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,ve=S;break e}ve=s.return}}var _=e.current;for(ve=_;ve!==null;){o=ve;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ve=x;else e:for(o=_;ve!==null;){if(a=ve,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:i$(9,a)}}catch($){rr(a,a.return,$)}if(a===o){ve=null;break e}var O=a.sibling;if(O!==null){O.return=a.return,ve=O;break e}ve=a.return}}if(tt=i,Ic(),ga&&typeof ga.onPostCommitFiberRoot=="function")try{ga.onPostCommitFiberRoot(Z2,e)}catch{}n=!0}return n}finally{mt=r,js.transition=t}}return!1}function G4(e,t,r){t=ty(r,t),t=BG(e,t,1),e=oc(e,t,1),t=ti(),e!==null&&(Hb(e,1,t),Ti(e,t))}function rr(e,t,r){if(e.tag===3)G4(e,e,r);else for(;t!==null;){if(t.tag===3){G4(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ac===null||!ac.has(n))){e=ty(r,e),e=VG(t,e,1),t=oc(t,e,1),e=ti(),t!==null&&(Hb(t,1,e),Ti(t,e));break}}t=t.return}}function kae(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ti(),e.pingedLanes|=e.suspendedLanes&r,nn===e&&(fn&r)===r&&(Br===4||Br===3&&(fn&130023424)===fn&&500>mr()-pM?Qd(e,0):dM|=r),Ti(e,t)}function uW(e,t){t===0&&(e.mode&1?(t=L1,L1<<=1,!(L1&130023424)&&(L1=4194304)):t=1);var r=ti();e=Ll(e,t),e!==null&&(Hb(e,t,r),Ti(e,r))}function Cae(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),uW(e,r)}function Nae(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(oe(314))}n!==null&&n.delete(t),uW(e,r)}var cW;cW=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||_i.current)wi=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return wi=!1,xae(e,t,r);wi=!!(e.flags&131072)}else wi=!1,Vt&&t.flags&1048576&&hG(t,US,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;dx(e,t),e=t.pendingProps;var i=Yh(t,zn.current);Ih(t,r),i=sM(null,t,n,e,i,r);var s=oM();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$i(n)?(s=!0,DS(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,eM(t),i.updater=n$,t.stateNode=i,i._reactInternals=t,iA(t,n,e,r),t=aA(null,t,n,!0,s,r)):(t.tag=0,Vt&&s&&HN(t),Gn(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(dx(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Rae(n),e=oo(n,e),i){case 0:t=oA(null,t,n,e,r);break e;case 1:t=M4(null,t,n,e,r);break e;case 11:t=C4(null,t,n,e,r);break e;case 14:t=N4(null,t,n,oo(n.type,e),r);break e}throw Error(oe(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:oo(n,i),oA(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:oo(n,i),M4(e,t,n,i,r);case 3:e:{if(HG(t),e===null)throw Error(oe(387));n=t.pendingProps,s=t.memoizedState,i=s.element,wG(e,t),VS(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=ty(Error(oe(423)),t),t=R4(e,t,n,r,i);break e}else if(n!==i){i=ty(Error(oe(424)),t),t=R4(e,t,n,r,i);break e}else for(Gi=sc(t.stateNode.containerInfo.firstChild),Ji=t,Vt=!0,vo=null,r=vG(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Qh(),n===i){t=Dl(e,t,r);break e}Gn(e,t,n,r)}t=t.child}return t;case 5:return xG(t),e===null&&tA(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Zj(n,i)?o=null:s!==null&&Zj(n,s)&&(t.flags|=32),WG(e,t),Gn(e,t,o,r),t.child;case 6:return e===null&&tA(t),null;case 13:return JG(e,t,r);case 4:return tM(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Xh(t,null,n,r):Gn(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:oo(n,i),C4(e,t,n,i,r);case 7:return Gn(e,t,t.pendingProps,r),t.child;case 8:return Gn(e,t,t.pendingProps.children,r),t.child;case 12:return Gn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,kt(zS,n._currentValue),n._currentValue=o,s!==null)if(Mo(s.value,o)){if(s.children===i.children&&!_i.current){t=Dl(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Il(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),rA(s.return,r,t),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(oe(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),rA(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Gn(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ih(t,r),i=Cs(i),n=n(i),t.flags|=1,Gn(e,t,n,r),t.child;case 14:return n=t.type,i=oo(n,t.pendingProps),i=oo(n.type,i),N4(e,t,n,i,r);case 15:return qG(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:oo(n,i),dx(e,t),t.tag=1,$i(n)?(e=!0,DS(t)):e=!1,Ih(t,r),zG(t,n,i),iA(t,n,i,r),aA(null,t,n,!0,e,r);case 19:return KG(e,t,r);case 22:return GG(e,t,r)}throw Error(oe(156,t.tag))};function dW(e,t){return Dq(e,t)}function Mae(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _s(e,t,r,n){return new Mae(e,t,r,n)}function mM(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rae(e){if(typeof e=="function")return mM(e)?1:0;if(e!=null){if(e=e.$$typeof,e===MN)return 11;if(e===RN)return 14}return 2}function uc(e,t){var r=e.alternate;return r===null?(r=_s(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function hx(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")mM(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case eh:return Xd(r.children,i,s,t);case NN:o=8,i|=8;break;case jj:return e=_s(12,r,t,i|2),e.elementType=jj,e.lanes=s,e;case Aj:return e=_s(13,r,t,i),e.elementType=Aj,e.lanes=s,e;case Ij:return e=_s(19,r,t,i),e.elementType=Ij,e.lanes=s,e;case xq:return o$(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bq:o=10;break e;case wq:o=9;break e;case MN:o=11;break e;case RN:o=14;break e;case wu:o=16,n=null;break e}throw Error(oe(130,e==null?e:typeof e,""))}return t=_s(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function Xd(e,t,r,n){return e=_s(7,e,n,t),e.lanes=r,e}function o$(e,t,r,n){return e=_s(22,e,n,t),e.elementType=xq,e.lanes=r,e.stateNode={isHidden:!1},e}function LO(e,t,r){return e=_s(6,e,null,t),e.lanes=r,e}function DO(e,t,r){return t=_s(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lae(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vO(0),this.expirationTimes=vO(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vO(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gM(e,t,r,n,i,s,o,a,l){return e=new Lae(e,t,r,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=_s(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},eM(s),e}function Dae(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xf,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function pW(e){if(!e)return mc;e=e._reactInternals;e:{if(Np(e)!==e||e.tag!==1)throw Error(oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($i(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(oe(171))}if(e.tag===1){var r=e.type;if($i(r))return pG(e,r,t)}return t}function fW(e,t,r,n,i,s,o,a,l){return e=gM(r,n,!0,e,i,s,o,a,l),e.context=pW(null),r=e.current,n=ti(),i=lc(r),s=Il(n,i),s.callback=t??null,oc(r,s,i),e.current.lanes=i,Hb(e,i,n),Ti(e,n),e}function a$(e,t,r,n){var i=t.current,s=ti(),o=lc(i);return r=pW(r),t.context===null?t.context=r:t.pendingContext=r,t=Il(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=oc(i,t,o),e!==null&&(Eo(e,i,o,s),lx(e,i,o)),o}function YS(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function W4(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function vM(e,t){W4(e,t),(e=e.alternate)&&W4(e,t)}function Fae(){return null}var hW=typeof reportError=="function"?reportError:function(e){console.error(e)};function bM(e){this._internalRoot=e}l$.prototype.render=bM.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(oe(409));a$(e,t,null,null)};l$.prototype.unmount=bM.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fp(function(){a$(null,e,null,null)}),t[Rl]=null}};function l$(e){this._internalRoot=e}l$.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gq();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Nu.length&&t!==0&&t<Nu[r].priority;r++);Nu.splice(r,0,e),r===0&&Hq(e)}};function wM(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u$(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function H4(){}function Uae(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=YS(o);s.call(c)}}var o=fW(t,n,e,0,null,!1,!1,"",H4);return e._reactRootContainer=o,e[Rl]=o.current,sv(e.nodeType===8?e.parentNode:e),fp(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var c=YS(l);a.call(c)}}var l=gM(e,0,!1,null,null,!1,!1,"",H4);return e._reactRootContainer=l,e[Rl]=l.current,sv(e.nodeType===8?e.parentNode:e),fp(function(){a$(t,l,r,n)}),l}function c$(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=YS(o);a.call(l)}}a$(t,o,e,i)}else o=Uae(r,t,e,i,n);return YS(o)}Vq=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=h0(t.pendingLanes);r!==0&&(FN(t,r|1),Ti(t,mr()),!(tt&6)&&(ry=mr()+500,Ic()))}break;case 13:fp(function(){var n=Ll(e,1);if(n!==null){var i=ti();Eo(n,e,1,i)}}),vM(e,1)}};UN=function(e){if(e.tag===13){var t=Ll(e,134217728);if(t!==null){var r=ti();Eo(t,e,134217728,r)}vM(e,134217728)}};qq=function(e){if(e.tag===13){var t=lc(e),r=Ll(e,t);if(r!==null){var n=ti();Eo(r,e,t,n)}vM(e,t)}};Gq=function(){return mt};Wq=function(e,t){var r=mt;try{return mt=e,t()}finally{mt=r}};Uj=function(e,t,r){switch(t){case"input":if(Cj(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=e$(n);if(!i)throw Error(oe(90));_q(n),Cj(n,i)}}}break;case"textarea":Tq(e,r);break;case"select":t=r.value,t!=null&&Oh(e,!!r.multiple,t,!1)}};kq=fM;Cq=fp;var zae={usingClientEntryPoint:!1,Events:[Kb,ih,e$,Iq,Pq,fM]},Fm={findFiberByHostInstance:Dd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bae={bundleType:Fm.bundleType,version:Fm.version,rendererPackageName:Fm.rendererPackageName,rendererConfig:Fm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Rq(e),e===null?null:e.stateNode},findFiberByHostInstance:Fm.findFiberByHostInstance||Fae,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var J1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!J1.isDisabled&&J1.supportsFiber)try{Z2=J1.inject(Bae),ga=J1}catch{}}es.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zae;es.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wM(t))throw Error(oe(200));return Dae(e,t,null,r)};es.createRoot=function(e,t){if(!wM(e))throw Error(oe(299));var r=!1,n="",i=hW;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=gM(e,1,!1,null,null,r,!1,n,i),e[Rl]=t.current,sv(e.nodeType===8?e.parentNode:e),new bM(t)};es.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(oe(188)):(e=Object.keys(e).join(","),Error(oe(268,e)));return e=Rq(t),e=e===null?null:e.stateNode,e};es.flushSync=function(e){return fp(e)};es.hydrate=function(e,t,r){if(!u$(t))throw Error(oe(200));return c$(null,e,t,!0,r)};es.hydrateRoot=function(e,t,r){if(!wM(e))throw Error(oe(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=hW;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=fW(t,null,e,1,r??null,i,!1,s,o),e[Rl]=t.current,sv(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new l$(t)};es.render=function(e,t,r){if(!u$(t))throw Error(oe(200));return c$(null,e,t,!1,r)};es.unmountComponentAtNode=function(e){if(!u$(e))throw Error(oe(40));return e._reactRootContainer?(fp(function(){c$(null,null,e,!1,function(){e._reactRootContainer=null,e[Rl]=null})}),!0):!1};es.unstable_batchedUpdates=fM;es.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!u$(r))throw Error(oe(200));if(e==null||e._reactInternals===void 0)throw Error(oe(38));return c$(e,t,r,!1,n)};es.version="18.3.1-next-f1338f8080-20240426";function yW(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yW)}catch(e){console.error(e)}}yW(),yq.exports=es;var Vae=yq.exports,J4=Vae;Oj.createRoot=J4.createRoot,Oj.hydrateRoot=J4.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hv(){return hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hv.apply(this,arguments)}var Gu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Gu||(Gu={}));const K4="popstate";function qae(e){e===void 0&&(e={});function t(n,i){let{pathname:s,search:o,hash:a}=n.location;return bA("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:gW(i)}return Wae(t,r,null,e)}function Er(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function mW(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Gae(){return Math.random().toString(36).substr(2,8)}function Z4(e,t){return{usr:e.state,key:e.key,idx:t}}function bA(e,t,r,n){return r===void 0&&(r=null),hv({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Yy(t):t,{state:r,key:t&&t.key||n||Gae()})}function gW(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Yy(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Wae(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=Gu.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(hv({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function p(){a=Gu.Pop;let w=d(),S=w==null?null:w-c;c=w,l&&l({action:a,location:b.location,delta:S})}function y(w,S){a=Gu.Push;let _=bA(b.location,w,S);r&&r(_,w),c=d()+1;let x=Z4(_,c),O=b.createHref(_);try{o.pushState(x,"",O)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(O)}s&&l&&l({action:a,location:b.location,delta:1})}function m(w,S){a=Gu.Replace;let _=bA(b.location,w,S);r&&r(_,w),c=d();let x=Z4(_,c),O=b.createHref(_);o.replaceState(x,"",O),s&&l&&l({action:a,location:b.location,delta:0})}function g(w){let S=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof w=="string"?w:gW(w);return _=_.replace(/ $/,"%20"),Er(S,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,S)}let b={get action(){return a},get location(){return e(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(K4,p),l=w,()=>{i.removeEventListener(K4,p),l=null}},createHref(w){return t(i,w)},createURL:g,encodeLocation(w){let S=g(w);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:y,replace:m,go(w){return o.go(w)}};return b}var Y4;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Y4||(Y4={}));function Hae(e,t,r){return r===void 0&&(r="/"),Jae(e,t,r,!1)}function Jae(e,t,r,n){let i=typeof t=="string"?Yy(t):t,s=wW(i.pathname||"/",r);if(s==null)return null;let o=vW(e);Kae(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=ole(s);a=ile(o[l],c,n)}return a}function vW(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Er(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=ep([n,l.relativePath]),d=r.concat(l);s.children&&s.children.length>0&&(Er(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),vW(s.children,t,d,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:rle(c,s.index),routesMeta:d})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of bW(s.path))i(s,o,l)}),t}function bW(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=bW(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function Kae(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:nle(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Zae=/^:[\w-]+$/,Yae=3,Qae=2,Xae=1,ele=10,tle=-2,Q4=e=>e==="*";function rle(e,t){let r=e.split("/"),n=r.length;return r.some(Q4)&&(n+=tle),t&&(n+=Qae),r.filter(i=>!Q4(i)).reduce((i,s)=>i+(Zae.test(s)?Yae:s===""?Xae:ele),n)}function nle(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function ile(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,i={},s="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",p=X4({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),y=l.route;if(!p&&c&&r&&!n[n.length-1].route.index&&(p=X4({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:ep([s,p.pathname]),pathnameBase:cle(ep([s,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(s=ep([s,p.pathnameBase]))}return o}function X4(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=sle(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((c,d,p)=>{let{paramName:y,isOptional:m}=d;if(y==="*"){let b=a[p]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const g=a[p];return m&&!g?c[y]=void 0:c[y]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function sle(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),mW(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function ole(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return mW(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function wW(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function ale(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Yy(e):e;return{pathname:r?r.startsWith("/")?r:lle(r,t):t,search:dle(n),hash:ple(i)}}function lle(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function FO(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ule(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function xW(e,t){let r=ule(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function SW(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Yy(e):(i=hv({},e),Er(!i.pathname||!i.pathname.includes("?"),FO("?","pathname","search",i)),Er(!i.pathname||!i.pathname.includes("#"),FO("#","pathname","hash",i)),Er(!i.search||!i.search.includes("#"),FO("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let p=t.length-1;if(!n&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}a=p>=0?t[p]:"/"}let l=ale(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const ep=e=>e.join("/").replace(/\/\/+/g,"/"),cle=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dle=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ple=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function fle(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const _W=["post","put","patch","delete"];new Set(_W);const hle=["get",..._W];new Set(hle);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yv(){return yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yv.apply(this,arguments)}const xM=C.createContext(null),yle=C.createContext(null),Yb=C.createContext(null),d$=C.createContext(null),Mp=C.createContext({outlet:null,matches:[],isDataRoute:!1}),$W=C.createContext(null);function Qb(){return C.useContext(d$)!=null}function p$(){return Qb()||Er(!1),C.useContext(d$).location}function TW(e){C.useContext(Yb).static||C.useLayoutEffect(e)}function OW(){let{isDataRoute:e}=C.useContext(Mp);return e?jle():mle()}function mle(){Qb()||Er(!1);let e=C.useContext(xM),{basename:t,future:r,navigator:n}=C.useContext(Yb),{matches:i}=C.useContext(Mp),{pathname:s}=p$(),o=JSON.stringify(xW(i,r.v7_relativeSplatPath)),a=C.useRef(!1);return TW(()=>{a.current=!0}),C.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let p=SW(c,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ep([t,p.pathname])),(d.replace?n.replace:n.push)(p,d.state,d)},[t,n,o,s,e])}function gle(e,t){return vle(e,t)}function vle(e,t,r,n){Qb()||Er(!1);let{navigator:i}=C.useContext(Yb),{matches:s}=C.useContext(Mp),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=p$(),d;if(t){var p;let w=typeof t=="string"?Yy(t):t;l==="/"||(p=w.pathname)!=null&&p.startsWith(l)||Er(!1),d=w}else d=c;let y=d.pathname||"/",m=y;if(l!=="/"){let w=l.replace(/^\//,"").split("/");m="/"+y.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=Hae(e,{pathname:m}),b=_le(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:ep([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:ep([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,r,n);return t&&b?C.createElement(d$.Provider,{value:{location:yv({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Gu.Pop}},b):b}function ble(){let e=Ele(),t=fle(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),r?C.createElement("pre",{style:i},r):null,s)}const wle=C.createElement(ble,null);class xle extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?C.createElement(Mp.Provider,{value:this.props.routeContext},C.createElement($W.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Sle(e){let{routeContext:t,match:r,children:n}=e,i=C.useContext(xM);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(Mp.Provider,{value:t},n)}function _le(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(i=r)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(p=>p.route.id&&a?.[p.route.id]!==void 0);d>=0||Er(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:y,errors:m}=r,g=p.route.loader&&y[p.route.id]===void 0&&(!m||m[p.route.id]===void 0);if(p.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,p,y)=>{let m,g=!1,b=null,w=null;r&&(m=a&&p.route.id?a[p.route.id]:void 0,b=p.route.errorElement||wle,l&&(c<0&&y===0?(Ale("route-fallback",!1),g=!0,w=null):c===y&&(g=!0,w=p.route.hydrateFallbackElement||null)));let S=t.concat(o.slice(0,y+1)),_=()=>{let x;return m?x=b:g?x=w:p.route.Component?x=C.createElement(p.route.Component,null):p.route.element?x=p.route.element:x=d,C.createElement(Sle,{match:p,routeContext:{outlet:d,matches:S,isDataRoute:r!=null},children:x})};return r&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?C.createElement(xle,{location:r.location,revalidation:r.revalidation,component:b,error:m,children:_(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):_()},null)}var EW=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(EW||{}),QS=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(QS||{});function $le(e){let t=C.useContext(xM);return t||Er(!1),t}function Tle(e){let t=C.useContext(yle);return t||Er(!1),t}function Ole(e){let t=C.useContext(Mp);return t||Er(!1),t}function jW(e){let t=Ole(),r=t.matches[t.matches.length-1];return r.route.id||Er(!1),r.route.id}function Ele(){var e;let t=C.useContext($W),r=Tle(QS.UseRouteError),n=jW(QS.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function jle(){let{router:e}=$le(EW.UseNavigateStable),t=jW(QS.UseNavigateStable),r=C.useRef(!1);return TW(()=>{r.current=!0}),C.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,yv({fromRouteId:t},s)))},[e,t])}const e5={};function Ale(e,t,r){!t&&!e5[e]&&(e5[e]=!0)}function Ile(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Ple(e){let{to:t,replace:r,state:n,relative:i}=e;Qb()||Er(!1);let{future:s,static:o}=C.useContext(Yb),{matches:a}=C.useContext(Mp),{pathname:l}=p$(),c=OW(),d=SW(t,xW(a,s.v7_relativeSplatPath),l,i==="path"),p=JSON.stringify(d);return C.useEffect(()=>c(JSON.parse(p),{replace:r,state:n,relative:i}),[c,p,i,r,n]),null}function uu(e){Er(!1)}function kle(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Gu.Pop,navigator:s,static:o=!1,future:a}=e;Qb()&&Er(!1);let l=t.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:l,navigator:s,static:o,future:yv({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof n=="string"&&(n=Yy(n));let{pathname:d="/",search:p="",hash:y="",state:m=null,key:g="default"}=n,b=C.useMemo(()=>{let w=wW(d,l);return w==null?null:{location:{pathname:w,search:p,hash:y,state:m,key:g},navigationType:i}},[l,d,p,y,m,g,i]);return b==null?null:C.createElement(Yb.Provider,{value:c},C.createElement(d$.Provider,{children:r,value:b}))}function Cle(e){let{children:t,location:r}=e;return gle(wA(t),r)}new Promise(()=>{});function wA(e,t){t===void 0&&(t=[]);let r=[];return C.Children.forEach(e,(n,i)=>{if(!C.isValidElement(n))return;let s=[...t,i];if(n.type===C.Fragment){r.push.apply(r,wA(n.props.children,s));return}n.type!==uu&&Er(!1),!n.props.index||!n.props.children||Er(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=wA(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Nle="6";try{window.__reactRouterVersion=Nle}catch{}const Mle="startTransition",t5=kse[Mle];function Rle(e){let{basename:t,children:r,future:n,window:i}=e,s=C.useRef();s.current==null&&(s.current=qae({window:i,v5Compat:!0}));let o=s.current,[a,l]=C.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},d=C.useCallback(p=>{c&&t5?t5(()=>l(p)):l(p)},[l,c]);return C.useLayoutEffect(()=>o.listen(d),[o,d]),C.useEffect(()=>Ile(n),[n]),C.createElement(kle,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}var r5;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(r5||(r5={}));var n5;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(n5||(n5={}));const Lle="modulepreload",Dle=function(e){return"/GISMININGAPP/"+e},i5={},ae=function(t,r,n){if(!r||r.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(r.map(s=>{if(s=Dle(s),s in i5)return;i5[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!n)for(let d=i.length-1;d>=0;d--){const p=i[d];if(p.href===s&&(!o||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":Lle,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((d,p)=>{c.addEventListener("load",d),c.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},Fle=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ae(()=>Promise.resolve().then(()=>Qy),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class SM extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Ule extends SM{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class s5 extends SM{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class o5 extends SM{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var xA;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(xA||(xA={}));var zle=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(p){o(p)}}function l(d){try{c(n.throw(d))}catch(p){o(p)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class Ble{constructor(t,{headers:r={},customFetch:n,region:i=xA.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=Fle(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return zle(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=r;let a={},{region:l}=r;l||(l=this.region);const c=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const p=yield this.fetch(c.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:d}).catch(b=>{throw new Ule(b)}),y=p.headers.get("x-relay-error");if(y&&y==="true")throw new s5(p);if(!p.ok)throw new o5(p);let m=((n=p.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return m==="application/json"?g=yield p.json():m==="application/octet-stream"?g=yield p.blob():m==="text/event-stream"?g=p:m==="multipart/form-data"?g=yield p.formData():g=yield p.text(),{data:g,error:null,response:p}}catch(i){return{data:null,error:i,response:i instanceof o5||i instanceof s5?i.context:void 0}}})}}var bi={},_M={},f$={},Xb={},h$={},y$={},Vle=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate globalThis object")},ny=Vle();const qle=ny.fetch,AW=ny.fetch.bind(ny),IW=ny.Headers,Gle=ny.Request,Wle=ny.Response,Qy=Object.freeze(Object.defineProperty({__proto__:null,Headers:IW,Request:Gle,Response:Wle,default:AW,fetch:qle},Symbol.toStringTag,{value:"Module"})),Hle=mse(Qy);var m$={};Object.defineProperty(m$,"__esModule",{value:!0});let Jle=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};m$.default=Jle;var PW=ks&&ks.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(y$,"__esModule",{value:!0});const Kle=PW(Hle),Zle=PW(m$);let Yle=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Kle.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let c=null,d=null,p=null,y=s.status,m=s.statusText;if(s.ok){if(this.method!=="HEAD"){const S=await s.text();S===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=S:d=JSON.parse(S))}const b=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");b&&w&&w.length>1&&(p=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,p=null,y=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const b=await s.text();try{c=JSON.parse(b),Array.isArray(c)&&s.status===404&&(d=[],c=null,y=200,m="OK")}catch{s.status===404&&b===""?(y=204,m="No Content"):c={message:b}}if(c&&this.isMaybeSingle&&(!((l=c?.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,y=200,m="OK"),c&&this.shouldThrowOnError)throw new Zle.default(c)}return{error:c,data:d,count:p,status:y,statusText:m}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s?.name)!==null&&o!==void 0?o:"FetchError"}: ${s?.message}`,details:`${(a=s?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};y$.default=Yle;var Qle=ks&&ks.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(h$,"__esModule",{value:!0});const Xle=Qle(y$);let eue=class extends Xle.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};h$.default=eue;var tue=ks&&ks.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xb,"__esModule",{value:!0});const rue=tue(h$);let nue=class extends rue.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Xb.default=nue;var iue=ks&&ks.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(f$,"__esModule",{value:!0});const Um=iue(Xb);let sue=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=r,this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Um.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Um.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Um.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new Um.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Um.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};f$.default=sue;var g$={},v$={};Object.defineProperty(v$,"__esModule",{value:!0});v$.version=void 0;v$.version="0.0.0-automated";Object.defineProperty(g$,"__esModule",{value:!0});g$.DEFAULT_HEADERS=void 0;const oue=v$;g$.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${oue.version}`};var kW=ks&&ks.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_M,"__esModule",{value:!0});const aue=kW(f$),lue=kW(Xb),uue=g$;let cue=class CW{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},uue.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new aue.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new CW(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,p])=>p!==void 0).map(([d,p])=>[d,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([d,p])=>{a.searchParams.append(d,p)})):(o="POST",l=r);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new lue.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};_M.default=cue;var Xy=ks&&ks.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bi,"__esModule",{value:!0});bi.PostgrestError=bi.PostgrestBuilder=bi.PostgrestTransformBuilder=bi.PostgrestFilterBuilder=bi.PostgrestQueryBuilder=bi.PostgrestClient=void 0;const NW=Xy(_M);bi.PostgrestClient=NW.default;const MW=Xy(f$);bi.PostgrestQueryBuilder=MW.default;const RW=Xy(Xb);bi.PostgrestFilterBuilder=RW.default;const LW=Xy(h$);bi.PostgrestTransformBuilder=LW.default;const DW=Xy(y$);bi.PostgrestBuilder=DW.default;const FW=Xy(m$);bi.PostgrestError=FW.default;var due=bi.default={PostgrestClient:NW.default,PostgrestQueryBuilder:MW.default,PostgrestFilterBuilder:RW.default,PostgrestTransformBuilder:LW.default,PostgrestBuilder:DW.default,PostgrestError:FW.default};const{PostgrestClient:pue,PostgrestQueryBuilder:OYe,PostgrestFilterBuilder:EYe,PostgrestTransformBuilder:jYe,PostgrestBuilder:AYe,PostgrestError:IYe}=due;function fue(){if(typeof WebSocket<"u")return WebSocket;if(typeof globalThis.WebSocket<"u")return globalThis.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const hue=fue(),yue="2.11.15",mue=`realtime-js/${yue}`,gue="1.0.0",UW=1e4,vue=1e3;var bg;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(bg||(bg={}));var Tn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Tn||(Tn={}));var lo;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(lo||(lo={}));var SA;(function(e){e.websocket="websocket"})(SA||(SA={}));var Id;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Id||(Id={}));class bue{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+i));o=o+i;const l=n.decode(t.slice(o,o+s));o=o+s;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class zW{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Et;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Et||(Et={}));const a5=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,o)=>(s[o]=wue(o,e,t,i),s),{})},wue=(e,t,r,n)=>{const i=t.find(a=>a.name===e),s=i?.type,o=r[e];return s&&!n.includes(s)?BW(s,o):_A(o)},BW=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return $ue(t,r)}switch(e){case Et.bool:return xue(t);case Et.float4:case Et.float8:case Et.int2:case Et.int4:case Et.int8:case Et.numeric:case Et.oid:return Sue(t);case Et.json:case Et.jsonb:return _ue(t);case Et.timestamp:return Tue(t);case Et.abstime:case Et.date:case Et.daterange:case Et.int4range:case Et.int8range:case Et.money:case Et.reltime:case Et.text:case Et.time:case Et.timestamptz:case Et.timetz:case Et.tsrange:case Et.tstzrange:return _A(t);default:return _A(t)}},_A=e=>e,xue=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Sue=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},_ue=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},$ue=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const o=e.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>BW(t,a))}return e},Tue=e=>typeof e=="string"?e.replace(" ","T"):e,VW=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class UO{constructor(t,r,n={},i=UW){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var l5;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(l5||(l5={}));class wg{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wg.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=wg.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=wg.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(s,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const p=s[c];if(p){const y=d.map(w=>w.presence_ref),m=p.map(w=>w.presence_ref),g=d.filter(w=>m.indexOf(w.presence_ref)<0),b=p.filter(w=>y.indexOf(w.presence_ref)<0);g.length>0&&(a[c]=g),b.length>0&&(l[c]=b)}else a[c]=d}),this.syncDiff(s,{joins:a,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),d.length>0){const p=t[a].map(m=>m.presence_ref),y=d.filter(m=>p.indexOf(m.presence_ref)<0);t[a].unshift(...y)}n(a,d,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const d=l.map(p=>p.presence_ref);c=c.filter(p=>d.indexOf(p.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var u5;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(u5||(u5={}));var c5;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(c5||(c5={}));var rl;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(rl||(rl={}));class $M{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Tn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new UO(this,lo.join,this.params,this.timeout),this.rejoinTimer=new zW(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Tn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(lo.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new wg(this),this.broadcastEndpointURL=VW(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Tn.closed){const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(d=>t?.(rl.CHANNEL_ERROR,d)),this._onClose(()=>t?.(rl.CLOSED));const l={},c={broadcast:s,presence:o,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var p;if(this.socket.setAuth(),d===void 0){t?.(rl.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,m=(p=y?.length)!==null&&p!==void 0?p:0,g=[];for(let b=0;b<m;b++){const w=y[b],{filter:{event:S,schema:_,table:x,filter:O}}=w,$=d&&d[b];if($&&$.event===S&&$.schema===_&&$.table===x&&$.filter===O)g.push(Object.assign(Object.assign({},w),{id:$.id}));else{this.unsubscribe(),this.state=Tn.errored,t?.(rl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(rl.SUBSCRIBED);return}}).receive("error",d=>{this.state=Tn.errored,t?.(rl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t?.(rl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Tn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(lo.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new UO(this,lo.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new UO(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=lo;if(n&&[a,l,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let y=this._onMessage(o,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var g,b,w;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(b=m.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(m=>m.callback(y,n)):(s=this.bindings[o])===null||s===void 0||s.filter(m=>{var g,b,w,S,_,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const O=m.id,$=(g=m.filter)===null||g===void 0?void 0:g.event;return O&&((b=r.ids)===null||b===void 0?void 0:b.includes(O))&&($==="*"||$?.toLocaleLowerCase()===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const O=(_=(S=m?.filter)===null||S===void 0?void 0:S.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return O==="*"||O===((x=r?.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof y=="object"&&"ids"in y){const g=y.data,{schema:b,table:w,commit_timestamp:S,type:_,errors:x}=g;y=Object.assign(Object.assign({},{schema:b,table:w,commit_timestamp:S,eventType:_,new:{},old:{},errors:x}),this._getPayloadRecords(g))}m.callback(y,n)})}_isClosed(){return this.state===Tn.closed}_isJoined(){return this.state===Tn.joined}_isJoining(){return this.state===Tn.joining}_isLeaving(){return this.state===Tn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&$M.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(lo.close,{},t)}_onError(t){this._on(lo.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=a5(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=a5(t.columns,t.old_record)),r}}const d5=()=>{},Oue=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Eue{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=UW,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=d5,this.ref=0,this.logger=d5,this.conn=null,this.sendBuffer=[],this.serializer=new bue,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>ae(()=>Promise.resolve().then(()=>Qy),void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${SA.websocket}`,this.httpEndpoint=VW(t),r?.transport?this.transport=r.transport:this.transport=null,r?.params&&(this.params=r.params),r?.timeout&&(this.timeout=r.timeout),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r?.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r?.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r?.encode?r.encode:(s,o)=>o(JSON.stringify(s)),this.decode=r?.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new zW(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r?.fetch),r?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=r?.worker||!1,this.workerUrl=r?.workerUrl}this.accessToken=r?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=hue),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:gue}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case bg.connecting:return Id.Connecting;case bg.open:return Id.Open;case bg.closing:return Id.Closing;default:return Id.Closed}}isConnected(){return this.connectionState()===Id.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new $M(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:mue};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(lo.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(vue,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:s,ref:o}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(a=>a._isMember(n)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(lo.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Oue],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class TM extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Yr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class jue extends TM{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class $A extends TM{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Aue=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(p){o(p)}}function l(d){try{c(n.throw(d))}catch(p){o(p)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const qW=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ae(()=>Promise.resolve().then(()=>Qy),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Iue=()=>Aue(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ae(()=>Promise.resolve().then(()=>Qy),void 0)).Response:Response}),TA=e=>{if(Array.isArray(e))return e.map(r=>TA(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=TA(n)}),t};var Rp=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(p){o(p)}}function l(d){try{c(n.throw(d))}catch(p){o(p)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const zO=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Pue=(e,t,r)=>Rp(void 0,void 0,void 0,function*(){const n=yield Iue();e instanceof n&&!r?.noResolveJson?e.json().then(i=>{t(new jue(zO(i),e.status||500))}).catch(i=>{t(new $A(zO(i),i))}):t(new $A(zO(e),e))}),kue=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function e1(e,t,r,n,i,s){return Rp(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,kue(t,n,i,s)).then(l=>{if(!l.ok)throw l;return n?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Pue(l,a,n))})})}function XS(e,t,r,n){return Rp(this,void 0,void 0,function*(){return e1(e,"GET",t,r,n)})}function Su(e,t,r,n,i){return Rp(this,void 0,void 0,function*(){return e1(e,"POST",t,n,i,r)})}function Cue(e,t,r,n,i){return Rp(this,void 0,void 0,function*(){return e1(e,"PUT",t,n,i,r)})}function Nue(e,t,r,n){return Rp(this,void 0,void 0,function*(){return e1(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function GW(e,t,r,n,i){return Rp(this,void 0,void 0,function*(){return e1(e,"DELETE",t,n,i,r)})}var oi=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(p){o(p)}}function l(d){try{c(n.throw(d))}catch(p){o(p)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Mue={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},p5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Rue{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=qW(i)}uploadOrUpdate(t,r,n,i){return oi(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},p5),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),p=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:s,headers:a},o?.duplex?{duplex:o.duplex}:{})),y=yield p.json();return p.ok?{data:{path:c,id:y.Id,fullPath:y.Key},error:null}:{data:null,error:y}}catch(s){if(Yr(s))return{data:null,error:s};throw s}})}upload(t,r,n){return oi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return oi(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:p5.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const p=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),y=yield p.json();return p.ok?{data:{path:s,fullPath:y.Key},error:null}:{data:null,error:y}}catch(l){if(Yr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return oi(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const s=yield Su(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new TM("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(Yr(n))return{data:null,error:n};throw n}})}update(t,r,n){return oi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return oi(this,void 0,void 0,function*(){try{return{data:yield Su(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Yr(i))return{data:null,error:i};throw i}})}copy(t,r,n){return oi(this,void 0,void 0,function*(){try{return{data:{path:(yield Su(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Yr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return oi(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Su(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Yr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return oi(this,void 0,void 0,function*(){try{const i=yield Su(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Yr(i))return{data:null,error:i};throw i}})}download(t,r){return oi(this,void 0,void 0,function*(){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(r?.transform||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield XS(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Yr(a))return{data:null,error:a};throw a}})}info(t){return oi(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield XS(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:TA(n),error:null}}catch(n){if(Yr(n))return{data:null,error:n};throw n}})}exists(t){return oi(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Nue(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Yr(n)&&n instanceof $A){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r?.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const a=typeof r?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(r?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(t){return oi(this,void 0,void 0,function*(){try{return{data:yield GW(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Yr(r))return{data:null,error:r};throw r}})}list(t,r,n){return oi(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Mue),r),{prefix:t||""});return{data:yield Su(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Yr(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Lue="2.7.1",Due={"X-Client-Info":`storage-js/${Lue}`};var Zp=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(p){o(p)}}function l(d){try{c(n.throw(d))}catch(p){o(p)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class Fue{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Due),r),this.fetch=qW(n)}listBuckets(){return Zp(this,void 0,void 0,function*(){try{return{data:yield XS(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Yr(t))return{data:null,error:t};throw t}})}getBucket(t){return Zp(this,void 0,void 0,function*(){try{return{data:yield XS(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Yr(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Zp(this,void 0,void 0,function*(){try{return{data:yield Su(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Yr(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Zp(this,void 0,void 0,function*(){try{return{data:yield Cue(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Yr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Zp(this,void 0,void 0,function*(){try{return{data:yield Su(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Yr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Zp(this,void 0,void 0,function*(){try{return{data:yield GW(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Yr(r))return{data:null,error:r};throw r}})}}class Uue extends Fue{constructor(t,r={},n){super(t,r,n)}from(t){return new Rue(this.url,this.headers,t,this.fetch)}}const zue="2.52.0";let m0="";typeof Deno<"u"?m0="deno":typeof document<"u"?m0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?m0="react-native":m0="node";const Bue={"X-Client-Info":`supabase-js-${m0}/${zue}`},Vue={headers:Bue},que={schema:"public"},Gue={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Wue={};var Hue=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(p){o(p)}}function l(d){try{c(n.throw(d))}catch(p){o(p)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Jue=e=>{let t;return e?t=e:typeof fetch>"u"?t=AW:t=fetch,(...r)=>t(...r)},Kue=()=>typeof Headers>"u"?IW:Headers,Zue=(e,t,r)=>{const n=Jue(r),i=Kue();return(s,o)=>Hue(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new i(o?.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},o),{headers:c}))})};var Yue=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(p){o(p)}}function l(d){try{c(n.throw(d))}catch(p){o(p)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};function Que(e){return e.endsWith("/")?e:e+"/"}function Xue(e,t){var r,n;const{db:i,auth:s,realtime:o,globalThis:a}=e,{db:l,auth:c,realtime:d,globalThis:p}=t,y={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},d),o),globalThis:Object.assign(Object.assign(Object.assign({},p),a),{headers:Object.assign(Object.assign({},(r=p?.headers)!==null&&r!==void 0?r:{}),(n=a?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Yue(this,void 0,void 0,function*(){return""})};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}const WW="2.71.1",yf=30*1e3,OA=3,BO=OA*yf,ece="http://localhost:9999",tce="supabase.auth.token",rce={"X-Client-Info":`gotrue-js/${WW}`},EA="X-Supabase-Api-Version",HW={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},nce=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ice=10*60*1e3;class OM extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Fe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class sce extends OM{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function oce(e){return Fe(e)&&e.name==="AuthApiError"}class JW extends OM{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Pc extends OM{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class cu extends Pc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ace(e){return Fe(e)&&e.name==="AuthSessionMissingError"}class K1 extends Pc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Z1 extends Pc{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Y1 extends Pc{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lce(e){return Fe(e)&&e.name==="AuthImplicitGrantRedirectError"}class f5 extends Pc{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class jA extends Pc{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function VO(e){return Fe(e)&&e.name==="AuthRetryableFetchError"}class h5 extends Pc{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class AA extends Pc{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const e_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),y5=` 	
\r=`.split(""),uce=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<y5.length;t+=1)e[y5[t].charCodeAt(0)]=-2;for(let t=0;t<e_.length;t+=1)e[e_[t].charCodeAt(0)]=t;return e})();function m5(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(e_[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(e_[n]),t.queuedBits-=6}}function KW(e,t,r){const n=uce[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function g5(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{pce(o,n,r)};for(let o=0;o<e.length;o+=1)KW(e.charCodeAt(o),i,s);return t.join("")}function cce(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function dce(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}cce(n,t)}}function pce(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function fce(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)KW(e.charCodeAt(i),r,n);return new Uint8Array(t)}function hce(e){const t=[];return dce(e,r=>t.push(r)),new Uint8Array(t)}function yce(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>m5(i,r,n)),m5(null,r,n),t.join("")}function mce(e){return Math.round(Date.now()/1e3)+e}function gce(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Js=()=>typeof window<"u"&&typeof document<"u",Bc={tested:!1,writable:!1},ZW=()=>{if(!Js())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bc.tested)return Bc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Bc.tested=!0,Bc.writable=!0}catch{Bc.tested=!0,Bc.writable=!1}return Bc.writable};function vce(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const YW=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ae(()=>Promise.resolve().then(()=>Qy),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},bce=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",mf=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Vc=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},eu=async(e,t)=>{await e.removeItem(t)};class b${constructor(){this.promise=new b$.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}b$.promiseConstructor=Promise;function qO(e){const t=e.split(".");if(t.length!==3)throw new AA("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!nce.test(t[n]))throw new AA("JWT not in base64url format");return{header:JSON.parse(g5(t[0])),payload:JSON.parse(g5(t[1])),signature:fce(t[2]),raw:{header:t[0],payload:t[1]}}}async function wce(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function xce(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){n(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function Sce(e){return("0"+e.toString(16)).substr(-2)}function _ce(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Sce).join("")}async function $ce(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Tce(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await $ce(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yp(e,t,r=!1){const n=_ce();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await mf(e,`${t}-code-verifier`,i);const s=await Tce(n);return[s,n===s?"plain":"s256"]}const Oce=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ece(e){const t=e.headers.get(EA);if(!t||!t.match(Oce))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function jce(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Ace(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ice=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qp(e){if(!Ice.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function GO(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function v5(e){return JSON.parse(JSON.stringify(e))}var Pce=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Xc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),kce=[502,503,504];async function b5(e){var t;if(!bce(e))throw new jA(Xc(e),0);if(kce.includes(e.status))throw new jA(Xc(e),e.status);let r;try{r=await e.json()}catch(s){throw new JW(Xc(s),s)}let n;const i=Ece(e);if(i&&i.getTime()>=HW["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new h5(Xc(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new cu}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new h5(Xc(r),e.status,r.weak_password.reasons);throw new sce(Xc(r),e.status||500,n)}const Cce=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function We(e,t,r,n){var i;const s=Object.assign({},n?.headers);s[EA]||(s[EA]=HW["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Nce(e,t,r+a,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(l):{data:Object.assign({},l),error:null}}async function Nce(e,t,r,n,i,s){const o=Cce(t,n,i,s);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new jA(Xc(l),0)}if(a.ok||await b5(a),n?.noResolveJson)return a;try{return await a.json()}catch(l){await b5(l)}}function Ra(e){var t;let r=null;Dce(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=mce(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function w5(e){const t=Ra(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ru(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Mce(e){return{data:e,error:null}}function Rce(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,o=Pce(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Lce(e){return e}function Dce(e){return e.access_token&&e.refresh_token&&e.expires_in}const WO=["globalThis","local","others"];var Fce=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class Uce{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=YW(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=WO[0]){if(WO.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${WO.join(", ")}`);try{return await We(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await We(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ru})}catch(n){if(Fe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Fce(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await We(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Rce,redirectTo:r?.redirectTo})}catch(r){if(Fe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await We(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ru})}catch(r){if(Fe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await We(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Lce});if(d.error)throw d.error;const p=await d.json(),y=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(g=>{const b=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);c[`${w}Page`]=b}),c.total=parseInt(y)),{data:Object.assign(Object.assign({},p),c),error:null}}catch(c){if(Fe(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Qp(t);try{return await We(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ru})}catch(r){if(Fe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Qp(t);try{return await We(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ru})}catch(n){if(Fe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Qp(t);try{return await We(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ru})}catch(n){if(Fe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Qp(t.userId);try{const{data:r,error:n}=await We(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Qp(t.userId),Qp(t.id);try{return{data:await We(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}}}function x5(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function zce(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Xp={debug:!!(globalThis&&ZW()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class QW extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Bce extends QW{}async function Vce(e,t,r){Xp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Xp.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Xp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Xp.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Xp.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Bce(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Xp.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}zce();const qce={url:ece,storageKey:tce,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rce,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function S5(e,t,r){return await r()}const ef={};class mv{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=mv.nextInstanceID,mv.nextInstanceID+=1,this.instanceID>0&&Js()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},qce),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Uce({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=YW(i.fetch),this.lock=i.lock||S5,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Js()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Vce:this.lock=S5,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:ZW()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=x5(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=x5(this.memoryStorage)),Js()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=ef[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ef[this.storageKey]=Object.assign(Object.assign({},ef[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ef[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ef[this.storageKey]=Object.assign(Object.assign({},ef[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${WW}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=vce(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Js()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),lce(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Fe(r)?{error:r}:{error:new JW("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ra}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Fe(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:d,password:p,options:y}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Yp(this.storage,this.storageKey)),s=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:d,password:p,data:(r=y?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:m,code_challenge_method:g},xform:Ra})}else if("phone"in t){const{phone:d,password:p,options:y}=t;s=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(n=y?.data)!==null&&n!==void 0?n:{},channel:(i=y?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Ra})}else throw new Z1("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Fe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:o,options:a}=t;r=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:w5})}else if("phone"in t){const{phone:s,password:o,options:a}=t;r=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:w5})}else throw new Z1("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new K1}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Fe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,s,o,a,l,c,d,p,y,m;let g,b;if("message"in t)g=t.message,b=t.signature;else{const{chain:w,wallet:S,statement:_,options:x}=t;let O;if(Js())if(typeof S=="object")O=S;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))O=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!x?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=S}const $=new URL((r=x?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in O&&O.signIn){const T=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x?.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),_?{statement:_}:null));let j;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")j=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)j=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)g=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),b=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${$.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(i=(n=x?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=x?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((c=x?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((p=(d=x?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...x.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const T=await O.signMessage(new TextEncoder().encode(g),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=T}}try{const{data:w,error:S}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:yce(b)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ra});if(S)throw S;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new K1}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:S})}catch(w){if(Fe(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await Vc(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:o}=await We(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ra});if(await eu(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new K1}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(Fe(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=t,a=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ra}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new K1}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(Fe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,s,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Yp(this.storage,this.storageKey));const{error:p}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(n=l?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:d}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:d}}throw new Z1("You must provide either an email or phone number.")}catch(a){if(Fe(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await We(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Ra});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Fe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Yp(this.storage,this.storageKey)),await We(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:Mce})}catch(s){if(Fe(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new cu;const{error:i}=await We(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Fe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:o}=await We(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:o,error:a}=await We(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new Z1("You must provide either an email or phone number and a type")}catch(r){if(Fe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Vc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<BO:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Vc(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=GO()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ru}):await this._useSession(async r=>{var n,i,s;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new cu}:await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ru})})}catch(r){if(Fe(r))return ace(r)&&(await this._removeSession(),await eu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new cu;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Yp(this.storage,this.storageKey));const{data:c,error:d}=await We(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ru});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Fe(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new cu;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:o}=qO(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Fe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new cu;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Fe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Js())throw new Y1("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Y1(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new f5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Y1("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new f5("No code detected.");const{data:_,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!s||!a||!o||!c)throw new Y1("No session defined in URL");const d=Math.round(Date.now()/1e3),p=parseInt(a);let y=d+p;l&&(y=parseInt(l));const m=y-d;m*1e3<=yf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${p}s`);const g=y-p;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,y,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,y,d);const{data:b,error:w}=await this._getUser(s);if(w)throw w;const S={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:y,refresh_token:o,token_type:c,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:t.type},error:null}}catch(n){if(Fe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Vc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"globalThis"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"globalThis"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(oce(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await eu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=gce(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Yp(this.storage,this.storageKey,!0));try{return await We(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Fe(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,a,l,c,d;const{data:p,error:y}=s;if(y)throw y;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await We(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(c=p.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Js()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if(Fe(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await We(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await xce(async i=>(i>0&&await wce(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await We(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ra})),(i,s)=>{const o=200*Math.pow(2,i);return s&&VO(s)&&Date.now()+o-n<yf})}catch(n){if(this._debug(r,"error",n),Fe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Js()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Vc(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Vc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await mf(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:GO()}else if(i&&!i.user&&!i.user){const o=await Vc(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await eu(this.storage,this.storageKey+"-user"),await mf(this.storage,this.storageKey,i)):i.user=GO()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<BO;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${BO}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),VO(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new cu;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new b$;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new cu;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),Fe(s)){const o={session:null,error:s};return VO(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await mf(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=v5(i);await mf(this.storage,this.storageKey,s)}else{const i=v5(r);await mf(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await eu(this.storage,this.storageKey),await eu(this.storage,this.storageKey+"-code-verifier"),await eu(this.storage,this.storageKey+"-user"),this.userStorage&&await eu(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Js()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),yf);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/yf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${yf}ms, refresh threshold is ${OA} ticks`),i<=OA&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof QW)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Js()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await Yp(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await We(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await We(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:o,error:a}=await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(Fe(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Fe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=t?.factors||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=qO(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+ice>i)return n;const{data:s,error:o}=await We(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};n=m.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=qO(n);r?.allowExpired||jce(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!c){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:s,header:i,signature:o},error:null}}const d=Ace(i.alg),p=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,p,o,hce(`${a}.${l}`)))throw new AA("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}}}mv.nextInstanceID=0;const Gce=mv;class Wce extends Gce{constructor(t){super(t)}}var Hce=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(p){o(p)}}function l(d){try{c(n.throw(d))}catch(p){o(p)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class Jce{constructor(t,r,n){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=Que(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:que,realtime:Wue,auth:Object.assign(Object.assign({},Gue),{storageKey:c}),globalThis:Vue},p=Xue(n??{},d);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=p.global.headers)!==null&&s!==void 0?s:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=p.auth)!==null&&o!==void 0?o:{},this.headers,p.global.fetch),this.fetch=Zue(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new pue(new URL("rest/v1",l).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new Ble(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Uue(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Hce(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:o,lock:a,debug:l},c,d){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Wce({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),c),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Eue(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Kce=(e,t,r)=>new Jce(e,t,r),Zce="https://iyxffzusjqehxkfbksev.supabase.co",Yce="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml5eGZmenVzanFlaHhrZmJrc2V2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI3MDY5MzQsImV4cCI6MjA2ODI4MjkzNH0.dVdkR9St5_ev1kMFE5xkaovw70sHPVFa0LS88MCunmc",zm=Kce(Zce,Yce),XW=C.createContext(void 0);function Qce({children:e}){const[t,r]=C.useState(null),[n,i]=C.useState(null),[s,o]=C.useState(null),[a,l]=C.useState(!0);C.useEffect(()=>{zm.auth.getSession().then(({data:{session:m}})=>{if(o(m),i(m?.user??null),m?.user){const g={id:m.user.id,username:m.user.email?.split("@")[0]||"",email:m.user.email||"",role:"staff",firstName:m.user.user_metadata?.full_name?.split(" ")[0]||"User",lastName:m.user.user_metadata?.full_name?.split(" ")[1]||""};r(g),localStorage.setItem("miningUser",JSON.stringify(g))}l(!1)});const{data:{subscription:y}}=zm.auth.onAuthStateChange(async(m,g)=>{if(o(g),i(g?.user??null),g?.user){const b={id:g.user.id,username:g.user.email?.split("@")[0]||"",email:g.user.email||"",role:"staff",firstName:g.user.user_metadata?.full_name?.split(" ")[0]||"User",lastName:g.user.user_metadata?.full_name?.split(" ")[1]||""};r(b),localStorage.setItem("miningUser",JSON.stringify(b))}else r(null),localStorage.removeItem("miningUser");l(!1)});return()=>y.unsubscribe()},[]);const c=async(y,m)=>{try{const{error:g}=await zm.auth.signInWithPassword({email:y,password:m});return g?{success:!1,error:g.message}:{success:!0}}catch{return{success:!1,error:"An unexpected error occurred"}}},d=async(y,m,g)=>{try{const{error:b}=await zm.auth.signUp({email:y,password:m,options:{data:{full_name:g}}});return b?{success:!1,error:b.message}:{success:!0}}catch{return{success:!1,error:"An unexpected error occurred"}}},p=async()=>{await zm.auth.signOut(),r(null),i(null),o(null),localStorage.removeItem("miningUser")};return v.jsx(XW.Provider,{value:{user:t,supabaseUser:n,session:s,login:c,signUp:d,logout:p,loading:a},children:e})}function w$(){const e=C.useContext(XW);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}var Xce={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ede=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tde=(e,t)=>{const r=C.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:a,...l},c)=>C.createElement("svg",{ref:c,...Xce,width:i,height:i,stroke:n,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${ede(e)}`,...l},[...t.map(([d,p])=>C.createElement(d,p)),...(Array.isArray(a)?a:[a])||[]]));return r.displayName=`${e}`,r};var $t=tde;const rde=$t("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),gv=$t("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),t_=$t("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),nde=$t("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),ide=$t("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),EM=$t("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),sde=$t("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ode=$t("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ade=$t("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),lde=$t("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),x$=$t("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),ude=$t("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),yi=$t("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),IA=$t("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),PA=$t("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),cde=$t("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),eH=$t("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),r_=$t("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),dde=$t("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),tH=$t("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),pde=$t("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),kA=$t("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),fde=$t("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),rH=$t("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]),S$=$t("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),nH=$t("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),hde=$t("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);function yde({onBackToLogin:e}){const[t,r]=C.useState(""),[n,i]=C.useState(""),[s,o]=C.useState(""),[a,l]=C.useState(""),[c,d]=C.useState(""),[p,y]=C.useState(""),[m,g]=C.useState(!1),{signUp:b}=w$(),w=async S=>{if(S.preventDefault(),g(!0),d(""),y(""),n!==s){d("Passwords do not match"),g(!1);return}if(n.length<6){d("Password must be at least 6 characters"),g(!1);return}const _=await b(t,n,a);_.success?y("Registration successful! Please check your email to verify your account."):d(_.error||"Registration failed"),g(!1)};return v.jsxs("div",{className:"min-h-screen flex",children:[v.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:'url("/images/mining-operation.svg")'},children:v.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40"})}),v.jsxs("div",{className:"relative z-10 flex flex-col justify-end p-12 text-white",children:[v.jsxs("div",{className:"mb-8",children:[v.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Join EPA Mining Oversight"}),v.jsx("p",{className:"text-xl opacity-90 mb-4",children:"Register for Mining Concessions Management System"}),v.jsx("p",{className:"text-lg opacity-80",children:"Get access to Ghana's comprehensive mining oversight platform"})]}),v.jsx("div",{className:"border-t border-white/20 pt-6",children:v.jsx("p",{className:"text-sm opacity-70",children:"Environmental protection  Compliance monitoring  Resource management"})})]})]}),v.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-4 bg-gradient-to-br from-epa-orange-50 to-epa-green-50",children:v.jsxs("div",{className:"max-w-md w-full space-y-8",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"mx-auto h-20 w-20 mb-4",children:v.jsx("img",{src:"/epa-logo.png",alt:"EPA Logo",className:"h-full w-full"})}),v.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Create Account"}),v.jsx("p",{className:"mt-2 text-gray-600",children:"Environmental Protection Authority"}),v.jsx("p",{className:"text-gray-600",children:"Mining Concession Management System"})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[v.jsxs("form",{className:"space-y-6",onSubmit:w,children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),v.jsxs("div",{className:"mt-1 relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx(nH,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{id:"fullName",name:"fullName",type:"text",required:!0,value:a,onChange:S=>l(S.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-epa-orange-500 focus:border-epa-orange-500",placeholder:"Enter your full name"})]})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),v.jsxs("div",{className:"mt-1 relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx(eH,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:t,onChange:S=>r(S.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-epa-orange-500 focus:border-epa-orange-500",placeholder:"Enter your email"})]})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),v.jsxs("div",{className:"mt-1 relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx(PA,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:n,onChange:S=>i(S.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-epa-orange-500 focus:border-epa-orange-500",placeholder:"Create a password",minLength:6})]})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),v.jsxs("div",{className:"mt-1 relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx(PA,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:s,onChange:S=>o(S.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-epa-orange-500 focus:border-epa-orange-500",placeholder:"Confirm your password",minLength:6})]})]}),c&&v.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md text-sm",children:c}),p&&v.jsx("div",{className:"bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-md text-sm",children:p}),v.jsx("button",{type:"submit",disabled:m,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-epa-orange-600 hover:bg-epa-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-epa-orange-500 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Creating Account...":"Create Account"})]}),v.jsx("div",{className:"mt-6 border-t border-gray-200 pt-6",children:v.jsx("div",{className:"text-center",children:v.jsx("button",{onClick:e,className:"text-sm text-epa-orange-600 hover:text-epa-orange-700 font-medium",children:"Already have an account? Sign in"})})})]})]})})]})}function mde(){const[e,t]=C.useState(""),[r,n]=C.useState(""),[i,s]=C.useState(""),[o,a]=C.useState(!1),[l,c]=C.useState(!1),{login:d}=w$(),p=async y=>{y.preventDefault(),a(!0),s("");const m=await d(e,r);m.success||s(m.error||"Login failed"),a(!1)};return l?v.jsx(yde,{onBackToLogin:()=>c(!1)}):v.jsxs("div",{className:"min-h-screen flex",children:[v.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:'url("/images/mining-operation.svg")'},children:v.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40"})}),v.jsxs("div",{className:"relative z-10 flex flex-col justify-end p-12 text-white",children:[v.jsxs("div",{className:"mb-8",children:[v.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Ghana EPA Mining Concessions"}),v.jsx("p",{className:"text-xl opacity-90 mb-4",children:"Environmental Protection & Mining Operations Management"}),v.jsx("p",{className:"text-lg opacity-80",children:"Comprehensive oversight and regulation of mining activities across Ghana"})]}),v.jsx("div",{className:"border-t border-white/20 pt-6",children:v.jsx("p",{className:"text-sm opacity-70",children:"Monitoring environmental compliance  Managing permits  Protecting Ghana's resources"})})]})]}),v.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-4 bg-gradient-to-br from-epa-orange-50 to-epa-green-50",children:v.jsxs("div",{className:"max-w-md w-full space-y-8",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"mx-auto h-20 w-20 mb-4",children:v.jsx("img",{src:"/epa-logo.png",alt:"EPA Logo",className:"h-full w-full"})}),v.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Welcome Back"}),v.jsx("p",{className:"mt-2 text-gray-600",children:"Environmental Protection Authority"}),v.jsx("p",{className:"text-gray-600",children:"Mining Concession Management System"})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[v.jsxs("form",{className:"space-y-6",onSubmit:p,children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),v.jsxs("div",{className:"mt-1 relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx(eH,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e,onChange:y=>t(y.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-epa-orange-500 focus:border-epa-orange-500",placeholder:"Enter your email"})]})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),v.jsxs("div",{className:"mt-1 relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx(PA,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:r,onChange:y=>n(y.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-epa-orange-500 focus:border-epa-orange-500",placeholder:"Enter password"})]})]}),i&&v.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md text-sm",children:i}),v.jsx("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-epa-orange-600 hover:bg-epa-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-epa-orange-500 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Signing in...":"Sign in"})]}),v.jsx("div",{className:"mt-6 border-t border-gray-200 pt-6",children:v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Don't have an account?"}),v.jsx("button",{onClick:()=>c(!0),className:"w-full bg-white border border-epa-orange-600 text-epa-orange-600 hover:bg-epa-orange-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-epa-orange-500 font-medium py-2 px-4 rounded-md transition duration-150 ease-in-out",children:"Create New Account"}),v.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Contact your EPA administrator for access approval"})]})})]})]})})]})}function gde(){const{user:e,logout:t}=w$();return v.jsx("nav",{className:"bg-white shadow-sm border-b-2 border-epa-orange-500",children:v.jsx("div",{className:"px-6 py-4",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("img",{src:"/epa-logo.png",alt:"EPA Logo",className:"h-10 w-10"}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"EPA Mining Concessions"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Environmental Protection Agency"})]})]}),v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsxs("button",{className:"relative p-2 text-gray-400 hover:text-gray-600 transition-colors",children:[v.jsx(ide,{className:"h-5 w-5"}),v.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 bg-red-500 rounded-full"})]}),v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(nH,{className:"h-5 w-5 text-gray-400"}),v.jsxs("div",{className:"text-sm",children:[v.jsxs("p",{className:"font-medium text-gray-900",children:[e?.firstName," ",e?.lastName]}),v.jsx("p",{className:"text-gray-500 capitalize",children:e?.role})]})]}),v.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Logout",children:v.jsx(cde,{className:"h-5 w-5"})})]})]})]})})})}const vde=[{icon:dde,label:"Map View",path:"/map-view"},{icon:rH,label:"Concessions",path:"/concessions"},{icon:IA,label:"Filters",path:"/filters"},{icon:t_,label:"Analytics",path:"/analytics"},{icon:yi,label:"Reports",path:"/reports"},{icon:fde,label:"Admin",path:"/admin"}];function bde(){const[e,t]=C.useState(!1),r=OW(),n=p$(),i=s=>{r(s)};return v.jsx("div",{className:`bg-white shadow-sm border-r border-gray-200 transition-all duration-300 ${e?"w-16":"w-64"}`,children:v.jsxs("div",{className:"h-full flex flex-col",children:[v.jsx("div",{className:"p-4 border-b border-gray-200",children:v.jsx("button",{onClick:()=>t(!e),className:"w-full flex items-center justify-end text-gray-500 hover:text-gray-700",children:e?v.jsx(ade,{className:"h-5 w-5"}):v.jsx(ode,{className:"h-5 w-5"})})}),v.jsx("nav",{className:"flex-1 p-4 space-y-2",children:vde.map(s=>{const o=s.icon,a=n.pathname===s.path;return v.jsxs("button",{onClick:()=>i(s.path),className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left transition-colors ${a?"bg-epa-orange-50 text-epa-orange-700 border border-epa-orange-200":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[v.jsx(o,{className:"h-5 w-5 flex-shrink-0"}),!e&&v.jsx("span",{className:"font-medium",children:s.label})]},s.path)})})]})})}const wde=({className:e="",selectedConcessions:t=[],onZoomToSelected:r,onDataLoaded:n})=>{const i=C.useRef(null),s=C.useRef(null),[o,a]=C.useState("loading"),[l,c]=C.useState(""),d=C.useRef(!1),p=C.useRef(null),y=C.useRef(null),m=C.useRef(null),g=C.useRef(null),b=C.useRef(null),w=C.useRef(null),S=C.useRef(null),_=C.useRef(null);return C.useEffect(()=>{if(d.current)return;d.current=!0;let x=!0,O=0;const $=50,T=()=>{if(console.log(" Checking ArcGIS and DOM readiness..."),console.log("window.require:",typeof window.require),console.log("mapRef.current:",!!i.current),console.log("DOM element:",i.current),!x){console.log(" Component unmounted, stopping initialization");return}if(!window.require){console.log(" ArcGIS require not found, waiting..."),O<$?(O++,setTimeout(T,100)):(a("error"),c("ArcGIS API failed to load after 5 seconds"));return}if(!i.current){console.log(" mapRef not ready, waiting..."),O<$?(O++,setTimeout(T,100)):(a("error"),c("DOM element not ready after 5 seconds"));return}console.log(" Both ArcGIS and DOM are ready! Initializing map..."),j()},j=()=>{const N=window.require;try{N(["esri/Map","esri/views/MapView"],(F,G)=>{if(console.log(" ArcGIS modules loaded successfully"),!x||!i.current){console.log(" Component unmounted or mapRef missing during initialization");return}try{console.log(" Creating map...");const B=new F({basemap:"topo-vector"});console.log(" Creating map view with container:",i.current);const W=new G({container:i.current,map:B,center:[-1,7.9],zoom:7});s.current=W,console.log(" Waiting for view to be ready..."),W.when(()=>{if(console.log(" SUCCESS! Map view is ready!"),x){a("loaded"),console.log(" Initializing widgets before adding layers..."),M(W),setTimeout(()=>{I(B,W)},500);try{k(W)}catch(Z){console.warn(" Popup configuration failed, but continuing:",Z)}}}).catch(Z=>{console.error(" View.when() failed:",Z),x&&(a("error"),c(`Map view error: ${Z.message}`))})}catch(B){console.error(" Error creating map/view:",B),x&&(a("error"),c(`Map creation error: ${B instanceof Error?B.message:"Unknown error"}`))}},F=>{console.error(" Failed to load ArcGIS modules:",F),x&&(a("error"),c(`Module load error: ${F.message}`))})}catch(F){console.error(" Error in require call:",F),x&&(a("error"),c(`Require error: ${F instanceof Error?F.message:"Unknown error"}`))}},I=(N,F)=>{const G=window.require;G(["esri/layers/FeatureLayer"],B=>{console.log(" Adding mining concessions layer...");const W=new B({url:"https://services6.arcgis.com/Av3KhOzUMUMSORVt/arcgis/rest/services/Mining_Concessions/FeatureServer/0",title:"Mining Concessions",outFields:["*"],renderer:{type:"simple",symbol:{type:"simple-fill",color:[255,165,0,.4],outline:{color:[255,140,0,1],width:2}}},popupTemplate:{title:"{Name}",content:[{type:"fields",fieldInfos:[{fieldName:"PermitNumber",label:"Permit Number",visible:!0},{fieldName:"ContactPerson",label:"Contact Person",visible:!0},{fieldName:"LicenseStatus",label:"Status",visible:!0},{fieldName:"LicenseType",label:"License Type",visible:!0},{fieldName:"Size",label:"Size",visible:!0},{fieldName:"Town",label:"Town",visible:!0},{fieldName:"District",label:"District",visible:!0},{fieldName:"Region",label:"Region",visible:!0}]}],actions:[{title:"Print Concession Details",id:"print-concession",className:"esri-icon-printer"}]},labelingInfo:[{labelExpressionInfo:{expression:"$feature.Name"},symbol:{type:"text",color:"black",backgroundColor:[255,255,255,.8],borderLineColor:"black",borderLineSize:1,font:{family:"Arial",size:10,weight:"bold"},haloColor:"white",haloSize:1},minScale:5e5,maxScale:0}]});N.add(W),S.current=W,console.log(" Mining concessions layer added successfully"),W.when(()=>{if(console.log(" Mining layer loaded successfully"),console.log(" Layer extent:",W.fullExtent),console.log(" Layer fields:",W.fields.map(Z=>Z.name)),b.current){console.log(" Adding mining layer to search widget...");const Z=window.require;Z(["esri/widgets/Search"],ee=>{const V={layer:W,searchFields:["Name","ContactPerson","Town","District","Region"],displayField:"Name",exactMatch:!1,outFields:["*"],name:"Mining Concessions",placeholder:"Search mining concessions...",maxResults:6,maxSuggestions:6,suggestionsEnabled:!0,minSuggestCharacters:2};b.current.sources.add(V),console.log(" Mining concessions added to search widget")})}}).catch(Z=>{console.error(" Error loading mining layer:",Z)})})},k=N=>{try{console.log(" Configuring basic map events..."),N.on("click",F=>{console.log(" Map clicked at:",F.mapPoint),N.hitTest(F).then(G=>{if(console.log(" Hit test results:",G.results),G.results.length>0){const B=G.results[0].graphic;console.log(" Feature clicked:",B.attributes)}})}),console.log(" Basic map events configured successfully")}catch(F){console.error(" Error configuring events:",F)}},M=N=>{console.log(" Setting up simplified map controls...");const F=window.require;F(["esri/widgets/Zoom"],G=>{try{const B=new G({view:N});N.ui.add(B,"top-right"),B.domNode.style.display="none",console.log(" Basic zoom widget added (hidden)")}catch(B){console.error(" Error adding zoom widget:",B)}}),console.log(" Simplified map controls initialized")};return setTimeout(T,300),()=>{if(console.log(" Cleaning up map..."),x=!1,s.current)try{s.current.destroy(),s.current=null}catch(N){console.error("Error destroying map view:",N)}p.current=null,y.current=null,m.current=null,g.current=null,b.current=null,w.current=null,S.current=null,_.current=null}},[]),C.useEffect(()=>{if(!s.current||!t.length)return;setTimeout(()=>{const O=window.require;O&&O(["esri/rest/support/Query"],$=>{const T=s.current.map.layers.find(I=>I.url?.includes("Mining_Concessions"));if(!T)return;const j=new $({where:t.map(I=>`ConcessionID = '${I.id}'`).join(" OR "),returnGeometry:!0});T.queryFeatures(j).then(I=>{I.features.length>0&&O(["esri/geometry/geometryEngine"],k=>{const M=k.union(I.features.map(N=>N.geometry)).extent;s.current.goTo(M.expand(1.2)),r&&setTimeout(()=>r(),2e3)})}).catch(I=>{console.error("Error querying features:",I)})})},1e3)},[t,r]),v.jsxs("div",{className:`relative h-full ${e}`,children:[v.jsx("div",{ref:i,className:"w-full h-full"}),o==="loaded"&&v.jsxs("div",{className:"absolute top-2 left-2 z-50 flex flex-col space-y-1",children:[v.jsx("div",{className:"bg-white rounded shadow-md border border-gray-200 p-1",children:v.jsx("input",{type:"text",placeholder:" Search concessions...",className:"w-48 px-2 py-1 border-0 rounded text-xs focus:outline-none focus:ring-1 focus:ring-blue-400",onKeyPress:x=>{if(x.key==="Enter"){const O=x.target.value;if(O&&S.current){console.log(" Searching for:",O);const $=window.require;$(["esri/rest/support/Query"],T=>{const j=new T({where:`Name LIKE '%${O}%' OR ContactPerson LIKE '%${O}%' OR Town LIKE '%${O}%' OR District LIKE '%${O}%' OR Region LIKE '%${O}%'`,returnGeometry:!0,outFields:["*"]});S.current.queryFeatures(j).then(I=>{I.features.length>0?(s.current.goTo(I.features[0].geometry.extent.expand(2)),s.current.popup.open({features:[I.features[0]],location:I.features[0].geometry.centroid}),alert(`Found ${I.features.length} matching concessions. Zoomed to first result.`)):alert("No matching concessions found.")}).catch(I=>{console.error("Search error:",I),alert("Search failed. Please try again.")})})}}}})}),v.jsx("button",{onClick:()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(x=>{const{latitude:O,longitude:$}=x.coords;s.current&&(s.current.center=[$,O],s.current.zoom=12,console.log(" Located user at:",O,$),alert("Found your location!"))},x=>{console.error("Geolocation error:",x),alert("Could not get your location. Please enable location services.")}):alert("Geolocation not supported by this browser.")},className:"bg-white hover:bg-gray-100 border border-gray-300 rounded shadow-md px-2 py-1 text-gray-700 text-xs font-medium flex items-center justify-center",title:"Find My Location",children:""})]}),o==="loaded"&&v.jsxs("div",{className:"absolute top-2 right-2 z-50 flex flex-col space-y-1",children:[v.jsxs("div",{className:"bg-white rounded shadow-md border border-gray-200 flex flex-col",children:[v.jsx("button",{onClick:()=>{s.current&&(s.current.zoom=s.current.zoom+1)},className:"hover:bg-gray-100 rounded-t px-2 py-1 text-gray-700 text-sm font-bold border-b border-gray-200",title:"Zoom In",children:"+"}),v.jsx("button",{onClick:()=>{s.current&&(s.current.zoom=s.current.zoom-1)},className:"hover:bg-gray-100 rounded-b px-2 py-1 text-gray-700 text-sm font-bold",title:"Zoom Out",children:""})]}),v.jsx("button",{onClick:()=>{if(s.current&&s.current.map){const O=s.current.map.basemap.id==="topo-vector"?"satellite":"topo-vector";s.current.map.basemap=O,console.log(" Switched basemap to:",O)}},className:"bg-white hover:bg-gray-100 border border-gray-300 rounded shadow-md px-2 py-1 text-gray-700 text-xs",title:"Toggle Basemap",children:""}),v.jsx("button",{onClick:()=>{if(S.current){const x=S.current.labelsVisible;S.current.labelsVisible=!x,console.log(" Labels:",x?"OFF":"ON"),alert(`Labels turned ${x?"OFF":"ON"}`)}},className:"bg-white hover:bg-gray-100 border border-gray-300 rounded shadow-md px-2 py-1 text-gray-700 text-xs",title:"Toggle Labels",children:""}),v.jsx("button",{onClick:()=>{s.current&&(console.log(" Initiating print..."),s.current.takeScreenshot({format:"png",quality:90,width:1200,height:800}).then(x=>{const O=window.open("","_blank");O&&(O.document.write(`
                      <html>
                        <head>
                          <title>Ghana Mining Concessions Map</title>
                          <style>
                            body { margin: 0; text-align: center; }
                            img { max-width: 100%; height: auto; }
                            h1 { font-family: Arial, sans-serif; color: #333; }
                            @media print { body { margin: 0; } }
                          </style>
                        </head>
                        <body>
                          <h1>Ghana Mining Concessions Map</h1>
                          <p>Environmental Protection Agency - ${new Date().toLocaleDateString()}</p>
                          <img src="${x.dataUrl}" alt="Mining Concessions Map">
                          <script>window.onload = () => window.print();<\/script>
                        </body>
                      </html>
                    `),O.document.close())}).catch(x=>{console.error("Screenshot error:",x),alert("Print feature temporarily unavailable.")}))},className:"bg-white hover:bg-gray-100 border border-gray-300 rounded shadow-md px-2 py-1 text-gray-700 text-xs",title:"Print Map",children:""})]}),o==="loaded"&&v.jsx("div",{className:"absolute bottom-2 left-2 z-50 bg-green-600 text-white rounded px-2 py-1 text-xs font-medium shadow-md",children:" Live Data"}),o==="loading"&&v.jsx("div",{className:"absolute inset-0 bg-gray-100 flex items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),v.jsx("p",{className:"text-gray-600",children:"Loading map..."})]})}),o==="error"&&v.jsx("div",{className:"absolute inset-0 bg-red-50 flex items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-red-600 mb-2",children:"Error loading map"}),v.jsx("p",{className:"text-red-500 text-sm",children:l})]})})]})};function xde({dataService:e,concessions:t}){const[r,n]=C.useState(null),[i,s]=C.useState(!1);C.useEffect(()=>{e&&t.length>0&&o()},[e,t]);const o=async()=>{if(e){s(!0);try{const a=await e.getDashboardStats();n(a)}catch(a){console.error("Failed to load analytics:",a)}finally{s(!1)}}};return i?v.jsx("div",{className:"flex items-center justify-center h-48",children:v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-epa-orange-500"})}):r?v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsx("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-2xl font-bold text-blue-900",children:r.totalConcessions}),v.jsx("div",{className:"text-xs text-blue-700",children:"Total Concessions"})]}),v.jsx(t_,{className:"h-6 w-6 text-blue-600"})]})}),v.jsx("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-2xl font-bold text-green-900",children:r.activePermits}),v.jsx("div",{className:"text-xs text-green-700",children:"Active Permits"})]}),v.jsx(S$,{className:"h-6 w-6 text-green-600"})]})}),v.jsx("div",{className:"bg-red-50 p-3 rounded-lg border border-red-200",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-2xl font-bold text-red-900",children:r.expiredPermits}),v.jsx("div",{className:"text-xs text-red-700",children:"Expired Permits"})]}),v.jsx(gv,{className:"h-6 w-6 text-red-600"})]})}),v.jsx("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:r.soonToExpire}),v.jsx("div",{className:"text-xs text-yellow-700",children:"Expiring Soon"})]}),v.jsx(gv,{className:"h-6 w-6 text-yellow-600"})]})})]}),v.jsx("div",{className:"bg-purple-50 p-3 rounded-lg border border-purple-200",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"text-xl font-bold text-purple-900",children:[r.totalAreaCovered.toLocaleString()," ha"]}),v.jsx("div",{className:"text-xs text-purple-700",children:"Total Area Covered"})]}),v.jsx(tH,{className:"h-6 w-6 text-purple-600"})]})}),v.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200",children:[v.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Concessions by Region"}),v.jsx("div",{className:"space-y-2",children:Object.entries(r.concessionsByRegion).sort(([,a],[,l])=>l-a).map(([a,l])=>v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"text-xs text-gray-700",children:a}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("div",{className:"bg-blue-200 h-2 rounded",style:{width:`${l/Math.max(...Object.values(r.concessionsByRegion))*60}px`,minWidth:"8px"}}),v.jsx("span",{className:"text-xs font-medium text-gray-900 w-6 text-right",children:l})]})]},a))})]}),v.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200",children:[v.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Concessions by Type"}),v.jsx("div",{className:"space-y-2",children:Object.entries(r.concessionsByType).map(([a,l])=>v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"text-xs text-gray-700 capitalize",children:a.replace("-"," ")}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("div",{className:"bg-green-200 h-2 rounded",style:{width:`${l/Math.max(...Object.values(r.concessionsByType))*60}px`,minWidth:"8px"}}),v.jsx("span",{className:"text-xs font-medium text-gray-900 w-6 text-right",children:l})]})]},a))})]}),v.jsx("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:v.jsxs("div",{className:"text-xs text-gray-600",children:[v.jsx("div",{className:"font-medium",children:" Real-time Analytics"}),v.jsxs("div",{className:"mt-1",children:[" Data source: EPA Mining Database via ArcGIS  Last updated: ",new Date().toLocaleTimeString()," Refresh rate: Every 5 minutes"]})]})})]}):v.jsxs("div",{className:"text-center text-gray-500 py-8",children:[v.jsx(t_,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),v.jsx("p",{children:"Analytics will appear when data is loaded"})]})}function Sde({dataService:e,concessions:t}){const[r,n]=C.useState(!1),[i,s]=C.useState({expiringConcessions:[],regionSummary:{},complianceStatus:{compliant:0,expiring:0,expired:0}});C.useEffect(()=>{e&&t.length>0&&o()},[e,t]);const o=async()=>{n(!0);try{const l=new Date;l.setMonth(l.getMonth()+6);const c=t.filter(g=>new Date(g.permitExpiryDate)<=l&&g.status==="active"),d={};t.forEach(g=>{d[g.region]||(d[g.region]={count:0,totalArea:0}),d[g.region].count+=1,d[g.region].totalArea+=g.size});const p=t.filter(g=>g.status==="active").length,y=t.filter(g=>g.status==="expired").length,m=c.length;s({expiringConcessions:c.slice(0,10),regionSummary:d,complianceStatus:{compliant:p,expiring:m,expired:y}})}catch(l){console.error("Failed to generate report data:",l)}finally{n(!1)}},a=()=>{const l=["ID,Name,Owner,Region,District,Size (ha),Permit Type,Status,Expiry Date",...t.map(y=>`${y.id},"${y.name}","${y.owner}",${y.region},${y.district},${y.size},${y.permitType},${y.status},${y.permitExpiryDate}`)].join(`
`),c=new Blob([l],{type:"text/csv"}),d=window.URL.createObjectURL(c),p=document.createElement("a");p.href=d,p.download=`mining-concessions-report-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(p),p.click(),document.body.removeChild(p),window.URL.revokeObjectURL(d)};return r?v.jsx("div",{className:"flex items-center justify-center h-48",children:v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-epa-orange-500"})}):!e||t.length===0?v.jsxs("div",{className:"text-center text-gray-500 py-8",children:[v.jsx(yi,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),v.jsx("p",{children:"Reports will be generated when data is loaded"})]}):v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex space-x-2",children:[v.jsxs("button",{onClick:a,className:"flex items-center space-x-2 px-3 py-2 bg-epa-orange-600 text-white rounded-md text-sm hover:bg-epa-orange-700 transition-colors",children:[v.jsx(x$,{className:"h-4 w-4"}),v.jsx("span",{children:"Export CSV"})]}),v.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 transition-colors",children:[v.jsx(yi,{className:"h-4 w-4"}),v.jsx("span",{children:"Full Report"})]})]}),v.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[v.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[v.jsx(S$,{className:"h-4 w-4 mr-2"}),"Compliance Overview"]}),v.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[v.jsxs("div",{className:"text-center p-3 bg-green-50 rounded border border-green-200",children:[v.jsx("div",{className:"text-lg font-bold text-green-900",children:i.complianceStatus.compliant}),v.jsx("div",{className:"text-xs text-green-700",children:"Compliant"})]}),v.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded border border-yellow-200",children:[v.jsx("div",{className:"text-lg font-bold text-yellow-900",children:i.complianceStatus.expiring}),v.jsx("div",{className:"text-xs text-yellow-700",children:"Expiring Soon"})]}),v.jsxs("div",{className:"text-center p-3 bg-red-50 rounded border border-red-200",children:[v.jsx("div",{className:"text-lg font-bold text-red-900",children:i.complianceStatus.expired}),v.jsx("div",{className:"text-xs text-red-700",children:"Expired"})]})]})]}),i.expiringConcessions.length>0&&v.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[v.jsxs("h4",{className:"text-sm font-semibold text-yellow-900 mb-3 flex items-center",children:[v.jsx(gv,{className:"h-4 w-4 mr-2"}),"Permits Expiring Soon (Next 6 Months)"]}),v.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:i.expiringConcessions.map(l=>v.jsxs("div",{className:"p-2 bg-yellow-100 rounded text-xs",children:[v.jsx("div",{className:"font-medium text-yellow-900",children:l.name}),v.jsx("div",{className:"text-yellow-800",children:l.owner}),v.jsxs("div",{className:"text-yellow-700 flex items-center space-x-4 mt-1",children:[v.jsxs("span",{className:"flex items-center",children:[v.jsx(EM,{className:"h-3 w-3 mr-1"}),"Expires: ",new Date(l.permitExpiryDate).toLocaleDateString()]}),v.jsxs("span",{className:"flex items-center",children:[v.jsx(r_,{className:"h-3 w-3 mr-1"}),l.region]})]})]},l.id))})]}),v.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[v.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[v.jsx(r_,{className:"h-4 w-4 mr-2"}),"Regional Summary"]}),v.jsx("div",{className:"space-y-3",children:Object.entries(i.regionSummary).sort(([,l],[,c])=>c.count-l.count).map(([l,c])=>v.jsx("div",{className:"p-3 bg-gray-50 rounded",children:v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsxs("div",{children:[v.jsx("div",{className:"font-medium text-gray-900",children:l}),v.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[c.count," concessions  ",c.totalArea.toLocaleString()," hectares"]})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("div",{className:"text-sm font-bold text-blue-900",children:c.count}),v.jsx("div",{className:"text-xs text-gray-500",children:"permits"})]})]})},l))})]}),v.jsx("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:v.jsxs("div",{className:"text-xs text-gray-600",children:[v.jsx("div",{className:"font-medium",children:" Report Summary"}),v.jsxs("div",{className:"mt-2 space-y-1",children:[v.jsxs("div",{children:[" Total concessions analyzed: ",t.length]}),v.jsx("div",{children:" Data source: EPA Mining Database via ArcGIS"}),v.jsxs("div",{children:[" Report generated: ",new Date().toLocaleString()]}),v.jsx("div",{children:" Coverage: All active mining regions in Ghana"})]})]})})]})}function _5(){const[e,t]=C.useState(!1),[r,n]=C.useState(!1),[i,s]=C.useState(!1),[o,a]=C.useState(!1),[l,c]=C.useState(null),[d,p]=C.useState([]),[y,m]=C.useState([]),[g,b]=C.useState({name:"",owner:"",region:""});C.useEffect(()=>{l&&w()},[l]);const w=async()=>{if(l)try{const x=await l.getMiningConcessions();p(x),m(x)}catch(x){console.error("Failed to load concessions:",x)}},S=async()=>{if(l)try{const x=await l.searchConcessions(g);m(x),console.log(`Found ${x.length} matching concessions`)}catch(x){console.error("Search failed:",x)}},_=x=>{c(x)};return v.jsxs("div",{className:"h-[calc(100vh-120px)] bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 relative",children:[e&&v.jsxs("div",{className:"absolute top-16 left-4 z-10 w-64 bg-white rounded-lg shadow-lg border border-gray-200 p-4",children:[v.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:["Map Layers ",l&&`(${d.length} concessions)`]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("label",{className:"flex items-center space-x-2",children:[v.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300"}),v.jsxs("span",{className:"text-sm text-gray-700",children:["Mining Concessions",l&&v.jsx("span",{className:"text-green-600 text-xs",children:"  Real Data"})]})]}),v.jsxs("label",{className:"flex items-center space-x-2",children:[v.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300"}),v.jsx("span",{className:"text-sm text-gray-700",children:"Administrative Boundaries"})]}),v.jsxs("label",{className:"flex items-center space-x-2",children:[v.jsx("input",{type:"checkbox",className:"rounded border-gray-300"}),v.jsx("span",{className:"text-sm text-gray-700",children:"Protected Areas"})]}),v.jsxs("label",{className:"flex items-center space-x-2",children:[v.jsx("input",{type:"checkbox",className:"rounded border-gray-300"}),v.jsx("span",{className:"text-sm text-gray-700",children:"Water Bodies"})]}),v.jsxs("label",{className:"flex items-center space-x-2",children:[v.jsx("input",{type:"checkbox",className:"rounded border-gray-300"}),v.jsx("span",{className:"text-sm text-gray-700",children:"Road Network"})]})]}),l&&v.jsxs("div",{className:"mt-4 p-3 bg-green-50 rounded border border-green-200",children:[v.jsx("div",{className:"text-xs font-medium text-green-800",children:"Real ArcGIS Data Active"}),v.jsxs("div",{className:"text-xs text-green-600 mt-1",children:[" ",d.length," mining concessions loaded  Data refreshed every 5 minutes  Source: EPA Mining Database"]})]})]}),r&&v.jsxs("div",{className:"absolute top-16 left-4 z-10 w-80 bg-white rounded-lg shadow-lg border border-gray-200 p-4",children:[v.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:["Search Mining Concessions (",y.length," found)"]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Concession Name"}),v.jsx("input",{type:"text",placeholder:"Search by name...",value:g.name,onChange:x=>b({...g,name:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-epa-orange-500 focus:border-epa-orange-500"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Owner/Company"}),v.jsx("input",{type:"text",placeholder:"Search by owner...",value:g.owner,onChange:x=>b({...g,owner:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-epa-orange-500 focus:border-epa-orange-500"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Region"}),v.jsxs("select",{value:g.region,onChange:x=>b({...g,region:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-epa-orange-500 focus:border-epa-orange-500",children:[v.jsx("option",{value:"",children:"All Regions"}),v.jsx("option",{value:"Ashanti",children:"Ashanti"}),v.jsx("option",{value:"Western",children:"Western"}),v.jsx("option",{value:"Eastern",children:"Eastern"}),v.jsx("option",{value:"Central",children:"Central"}),v.jsx("option",{value:"Northern",children:"Northern"}),v.jsx("option",{value:"Upper East",children:"Upper East"}),v.jsx("option",{value:"Upper West",children:"Upper West"}),v.jsx("option",{value:"Volta",children:"Volta"}),v.jsx("option",{value:"Greater Accra",children:"Greater Accra"}),v.jsx("option",{value:"Brong Ahafo",children:"Brong Ahafo"})]})]}),v.jsx("button",{onClick:S,className:"w-full px-3 py-2 bg-epa-orange-600 text-white rounded-md text-sm hover:bg-epa-orange-700 transition-colors",children:"Search & Zoom"}),y.length>0&&v.jsxs("div",{className:"mt-4 max-h-48 overflow-y-auto border-t pt-3",children:[v.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-2",children:"Search Results:"}),v.jsxs("div",{className:"space-y-2",children:[y.slice(0,10).map(x=>v.jsxs("div",{className:"p-2 bg-gray-50 rounded text-xs",children:[v.jsx("div",{className:"font-medium text-gray-900",children:x.name}),v.jsx("div",{className:"text-gray-600",children:x.owner}),v.jsxs("div",{className:"text-gray-500",children:[x.region," - ",x.size," ha"]})]},x.id)),y.length>10&&v.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["...and ",y.length-10," more"]})]})]})]})]}),i&&v.jsxs("div",{className:"absolute top-16 left-4 z-10 w-96 bg-white rounded-lg shadow-lg border border-gray-200 max-h-[calc(100vh-200px)] overflow-y-auto",children:[v.jsxs("div",{className:"p-4 border-b border-gray-200",children:[v.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Mining Concessions Analytics"}),v.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Real-time data from EPA database"})]}),v.jsx("div",{className:"p-4",children:v.jsx(xde,{dataService:l,concessions:d})})]}),o&&v.jsxs("div",{className:"absolute top-16 left-4 z-10 w-96 bg-white rounded-lg shadow-lg border border-gray-200 max-h-[calc(100vh-200px)] overflow-y-auto",children:[v.jsxs("div",{className:"p-4 border-b border-gray-200",children:[v.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Mining Concessions Reports"}),v.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Generate and export compliance reports"})]}),v.jsx("div",{className:"p-4",children:v.jsx(Sde,{dataService:l,concessions:d})})]}),v.jsx("div",{className:"absolute bottom-4 left-4 z-10 bg-black text-yellow-400 rounded-lg shadow-xl border-2 border-yellow-400 px-4 py-3",children:v.jsxs("div",{className:"flex items-center space-x-4 text-sm font-mono",children:[v.jsx("span",{children:" Ghana Mining Concessions"}),v.jsx("span",{children:" Live Coordinate Tracking"}),v.jsx("span",{children:" Professional GIS Scale"}),v.jsx("span",{className:"animate-pulse",children:" LIVE"})]})}),v.jsx("div",{className:"w-full h-full rounded-lg overflow-hidden border-2 border-blue-600 shadow-lg bg-blue-900",children:v.jsx("div",{className:"relative w-full h-full",children:v.jsx(wde,{className:"w-full h-full rounded",onDataLoaded:_})})})]})}function iH({concessions:e}){const[t,r]=C.useState("name"),[n,i]=C.useState("asc"),[s,o]=C.useState(null),a=m=>{m===t?i(n==="asc"?"desc":"asc"):(r(m),i("asc"))},l=[...e].sort((m,g)=>{const b=m[t],w=g[t];return b==null||w==null?0:b<w?n==="asc"?-1:1:b>w?n==="asc"?1:-1:0}),c=m=>{switch(m){case"active":return"bg-green-100 text-green-800";case"expired":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},d=m=>m==="large-scale"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800",p=m=>{const g=new Date(m),b=new Date,w=new Date(b.getTime()+30*24*60*60*1e3);return g<=w&&g>=b},y=({field:m,children:g})=>v.jsxs("button",{onClick:()=>a(m),className:"flex items-center space-x-1 text-left font-medium text-gray-900 hover:text-gray-700",children:[v.jsx("span",{children:g}),t===m&&(n==="asc"?v.jsx(lde,{className:"h-4 w-4"}):v.jsx(sde,{className:"h-4 w-4"}))]});return v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[v.jsx("thead",{className:"bg-gray-50",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:v.jsx(y,{field:"name",children:"Name"})}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:v.jsx(y,{field:"id",children:"ID"})}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:v.jsx(y,{field:"size",children:"Size (ha)"})}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:v.jsx(y,{field:"owner",children:"Owner"})}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:v.jsx(y,{field:"permitType",children:"Type"})}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:v.jsx(y,{field:"permitExpiryDate",children:"Expiry Date"})}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:v.jsx(y,{field:"region",children:"Region"})}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:v.jsx(y,{field:"status",children:"Status"})}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),v.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(m=>v.jsxs("tr",{className:"hover:bg-gray-50",children:[v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx(r_,{className:"h-4 w-4 text-gray-400 mr-2"}),v.jsx("div",{className:"text-sm font-medium text-gray-900",children:m.name})]})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m.id}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.size.toLocaleString()}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx(hde,{className:"h-4 w-4 text-gray-400 mr-2"}),v.jsx("div",{className:"text-sm text-gray-900",children:m.owner})]})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${d(m.permitType)}`,children:m.permitType.replace("-"," ")})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx(EM,{className:"h-4 w-4 text-gray-400 mr-2"}),v.jsx("div",{className:"text-sm text-gray-900",children:new Date(m.permitExpiryDate).toLocaleDateString()}),p(m.permitExpiryDate)&&m.status==="active"&&v.jsx(gv,{className:"h-4 w-4 text-yellow-500 ml-2"})]})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.region}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c(m.status)}`,children:m.status})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:v.jsxs("button",{onClick:()=>o(m),className:"text-primary-600 hover:text-primary-900 flex items-center",children:[v.jsx(ude,{className:"h-4 w-4 mr-1"}),"View"]})})]},m.id))})]})}),s&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:v.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-96 overflow-y-auto",children:v.jsxs("div",{className:"p-6",children:[v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.name}),v.jsx("button",{onClick:()=>o(null),className:"text-gray-400 hover:text-gray-600",children:""})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-gray-700",children:"ID:"}),v.jsx("p",{className:"text-gray-900",children:s.id})]}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-gray-700",children:"Size:"}),v.jsxs("p",{className:"text-gray-900",children:[s.size," hectares"]})]}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-gray-700",children:"Owner:"}),v.jsx("p",{className:"text-gray-900",children:s.owner})]}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-gray-700",children:"Permit Type:"}),v.jsx("p",{className:"text-gray-900 capitalize",children:s.permitType.replace("-"," ")})]}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-gray-700",children:"Expiry Date:"}),v.jsx("p",{className:"text-gray-900",children:new Date(s.permitExpiryDate).toLocaleDateString()})]}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-gray-700",children:"Status:"}),v.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c(s.status)}`,children:s.status})]}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-gray-700",children:"District:"}),v.jsx("p",{className:"text-gray-900",children:s.district})]}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-gray-700",children:"Region:"}),v.jsx("p",{className:"text-gray-900",children:s.region})]}),s.contactInfo&&v.jsxs("div",{className:"col-span-2 mt-4",children:[v.jsx("p",{className:"font-medium text-gray-700 mb-2",children:"Contact Information:"}),v.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[s.contactInfo.phone&&v.jsxs("p",{className:"text-sm",children:[v.jsx("span",{className:"font-medium",children:"Phone:"})," ",s.contactInfo.phone]}),s.contactInfo.email&&v.jsxs("p",{className:"text-sm",children:[v.jsx("span",{className:"font-medium",children:"Email:"})," ",s.contactInfo.email]}),s.contactInfo.address&&v.jsxs("p",{className:"text-sm",children:[v.jsx("span",{className:"font-medium",children:"Address:"})," ",s.contactInfo.address]})]})]})]})]})})})]})}function _de({value:e,onChange:t}){return v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx(kA,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{type:"text",value:e,onChange:r=>t(r.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500",placeholder:"Search by name, ID, region, or owner..."})]})}const $de=["Western","Ashanti","Northern","Eastern","Volta","Central","Upper East","Greater Accra"],Tde=["active","expired","pending"],Ode=["small-scale","large-scale"],Ede=[{label:"Next 30 days",value:"30"},{label:"Next 60 days",value:"60"},{label:"Next 90 days",value:"90"},{label:"Next 6 months",value:"180"},{label:"Next year",value:"365"}];function sH({filters:e,onFiltersChange:t}){const r=(i,s)=>{t({...e,[i]:s})},n=()=>{t({region:"",status:"",type:"",expiryWindow:""})};return v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filters"}),v.jsx("button",{onClick:n,className:"text-sm text-epa-orange-600 hover:text-epa-orange-700 font-medium",children:"Clear All"})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Region"}),v.jsxs("select",{value:e.region,onChange:i=>r("region",i.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[v.jsx("option",{value:"",children:"All Regions"}),$de.map(i=>v.jsx("option",{value:i,children:i},i))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),v.jsxs("select",{value:e.status,onChange:i=>r("status",i.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[v.jsx("option",{value:"",children:"All Statuses"}),Tde.map(i=>v.jsx("option",{value:i,className:"capitalize",children:i},i))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Permit Type"}),v.jsxs("select",{value:e.type,onChange:i=>r("type",i.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[v.jsx("option",{value:"",children:"All Types"}),Ode.map(i=>v.jsx("option",{value:i,className:"capitalize",children:i.replace("-"," ")},i))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiry Window"}),v.jsxs("select",{value:e.expiryWindow,onChange:i=>r("expiryWindow",i.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[v.jsx("option",{value:"",children:"All Permits"}),Ede.map(i=>v.jsx("option",{value:i.value,children:i.label},i.value))]})]})]})]})}function jde({concessions:e}){const t=()=>{const s=[["ID","Name","Size (ha)","Owner","Permit Type","Expiry Date","District","Region","Status"].join(","),...e.map(c=>[c.id,`"${c.name}"`,c.size,`"${c.owner}"`,c.permitType,c.permitExpiryDate,c.district,c.region,c.status].join(","))].join(`
`),o=new Blob([s],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),l=URL.createObjectURL(o);a.setAttribute("href",l),a.setAttribute("download",`mining-concessions-${new Date().toISOString().split("T")[0]}.csv`),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},r=()=>{const i={type:"FeatureCollection",features:e.map(l=>({type:"Feature",properties:{id:l.id,name:l.name,size:l.size,owner:l.owner,permitType:l.permitType,permitExpiryDate:l.permitExpiryDate,district:l.district,region:l.region,status:l.status},geometry:{type:"Polygon",coordinates:[l.coordinates.map(c=>[c[1],c[0]])]}}))},s=new Blob([JSON.stringify(i,null,2)],{type:"application/json"}),o=document.createElement("a"),a=URL.createObjectURL(s);o.setAttribute("href",a),o.setAttribute("download",`mining-concessions-${new Date().toISOString().split("T")[0]}.geojson`),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)},n=async()=>{try{const{jsPDF:i}=await ae(()=>import("./jspdf.es.min-cce2d5c0.js").then(l=>l.j),[]),s=(await ae(()=>import("./html2canvas.esm-f16e60ff.js"),[])).default,o=new i;o.setFontSize(20),o.text("Mining Concessions Report",20,20),o.setFontSize(12),o.text(`Generated on: ${new Date().toLocaleDateString()}`,20,35),o.text(`Total Concessions: ${e.length}`,20,50),o.text(`Active Permits: ${e.filter(l=>l.status==="active").length}`,20,60),o.text(`Expired Permits: ${e.filter(l=>l.status==="expired").length}`,20,70);const a=document.querySelector(".map-container");if(a)try{const c=(await s(a)).toDataURL("image/png");o.addPage(),o.text("Map View",20,20),o.addImage(c,"PNG",20,30,170,120)}catch(l){console.warn("Could not capture map:",l)}o.save(`mining-concessions-report-${new Date().toISOString().split("T")[0]}.pdf`)}catch(i){console.error("Error generating PDF:",i),alert("Error generating PDF report. Please try again.")}};return v.jsxs("div",{className:"flex flex-wrap gap-2",children:[v.jsxs("button",{onClick:t,className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[v.jsx(rH,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),v.jsxs("button",{onClick:r,className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[v.jsx(x$,{className:"h-4 w-4 mr-2"}),"Export GeoJSON"]}),v.jsxs("button",{onClick:n,className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[v.jsx(yi,{className:"h-4 w-4 mr-2"}),"PDF Report"]})]})}function u(e,t,r,n){var i,s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function PYe(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var Ade=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function kYe(e){function t(s){e.error=e.hasError?new Ade(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(o){return t(o),i()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}let Wu;function q(e){return typeof Wu[e]=="function"?Wu[e]=Wu[e](globalThis):Wu[e]}Wu=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},q.add=(e,t,r,n)=>{(n||Wu[e]===void 0)&&(Wu[e]=t),r&&q(e)},q.cache=Wu,q.add("big-integer-warning-enabled",!0),q.add("esri-deprecation-warnings",!0),q.add("esri-tests-disable-screenshots",!1),q.add("esri-tests-use-full-window",!1),q.add("esri-tests-post-to-influx",!0),q.add("esri-cim-animations-enable-status","enabled"),q.add("esri-cim-animations-spotlight",!1),q.add("esri-cim-animations-freeze-time",!1),(()=>{q.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(q.add("host-browser",e),q.add("host-node",typeof globalThis.process=="object"&&globalThis.process.versions?.node&&globalThis.process.versions.v8),q.add("dom",e),q("host-browser")){const t=navigator,r=t.userAgent,n=t.appVersion,i=parseFloat(n);if(q.add("wp",parseFloat(r.split("Windows Phone")[1])||void 0),q.add("msapp",parseFloat(r.split("MSAppHost/")[1])||void 0),q.add("khtml",n.includes("Konqueror")?i:void 0),q.add("edge",parseFloat(r.split("Edge/")[1])||void 0),q.add("opr",parseFloat(r.split("OPR/")[1])||void 0),q.add("webkit",!q("wp")&&!q("edge")&&parseFloat(r.split("WebKit/")[1])||void 0),q.add("chrome",!q("edge")&&!q("opr")&&parseFloat(r.split("Chrome/")[1])||void 0),q.add("android",!q("wp")&&parseFloat(r.split("Android ")[1])||void 0),q.add("safari",!n.includes("Safari")||q("wp")||q("chrome")||q("android")||q("edge")||q("opr")?void 0:parseFloat(n.split("Version/")[1])),q.add("mac",n.includes("Macintosh")),!q("wp")&&/(iPhone|iPod|iPad)/.test(r)){const s=RegExp.$1.replace(/P/,"p"),o=/OS ([\d_]+)/.test(r)?RegExp.$1:"1",a=parseFloat(o.replace(/_/,".").replaceAll("_",""));q.add(s,a),q.add("ios",a)}q("webkit")||(!r.includes("Gecko")||q("wp")||q("khtml")||q("edge")||q.add("mozilla",i),q("mozilla")&&q.add("ff",parseFloat(r.split("Firefox/")[1]||r.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),r=/iPhone/i.test(e);t&&q.add("esri-mobile",t),r&&q.add("esri-iPhone",r),q.add("esri-geolocation",!!navigator.geolocation)}q.add("esri-wasm","WebAssembly"in globalThis),q.add("esri-performance-mode-frames-between-render",20),q.add("esri-force-performance-mode",!1),q.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),q.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),q.add("esri-atomics","Atomics"in globalThis),q.add("esri-workers","Worker"in globalThis),q.add("web-feat:cache","caches"in globalThis),q.add("esri-workers-arraybuffer-transfer",!q("safari")||Number(q("safari"))>=12),q.add("workers-pool-size",8),q.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),q.add("featurelayer-simplify-payload-size-factors",[1,1,4]),q.add("featurelayer-fast-triangulation-enabled",!0),q.add("featurelayer-animation-enabled",!0),q.add("featurelayer-snapshot-enabled",!0),q.add("featurelayer-snapshot-initial-tolerance",0),q.add("featurelayer-snapshot-point-min-threshold",8e4),q.add("featurelayer-snapshot-point-max-threshold",4e5),q.add("featurelayer-snapshot-multipoint-min-threshold",2e4),q.add("featurelayer-snapshot-multipoint-max-threshold",1e5),q.add("featurelayer-snapshot-polygon-min-threshold",1e3),q.add("featurelayer-snapshot-polygon-max-threshold",2e3),q.add("featurelayer-snapshot-polyline-min-threshold",1e3),q.add("featurelayer-snapshot-polyline-max-threshold",2e3),q.add("featurelayer-snapshot-max-vertex-count",25e4),q.add("featurelayer-snapshot-non-hosted-exceedslimit-enabled",!1),q.add("featurelayer-snapshot-concurrency",4),q.add("featurelayer-snapshot-coverage",.1),q.add("featurelayer-query-max-depth",4),q.add("featurelayer-query-pausing-enabled",!1),q.add("featurelayer-query-tile-concurrency",4),q.add("featurelayer-query-tile-max-features",6e5),q.add("featurelayer-advanced-symbols",!1),q.add("featurelayer-pbf",!0),q.add("featurelayer-pbf-statistics",!1),q.add("feature-layers-workers",!0),q.add("feature-polyline-generalization-factor",1),q.add("mapview-transitions-duration",200),q.add("mapview-essential-goto-duration",200),q.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),q.add("mapserver-pbf-version-support",10.81),q.add("mapservice-popup-identify-max-tolerance",20),q.add("request-queue-concurrency-hosted",16),q.add("request-queue-concurrency-non-hosted",4),q.add("curve-densification-coarse-segments",128),q.add("curve-densification-max-segments",2e3),q.add("curve-densification-min-segments",3),q.add("curve-densification-pixel-deviation",.5),q.add("view-readyState-waiting-delay",1e3),q.add("gradient-depth-bias",.01),q.add("gradient-depth-epsilon",1e-8),q.add("enable-feature:esri-compress-textures",!0),q("host-webworker")||q("host-browser")&&(q.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),q.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{q.add("esri-image-decode",!0,!0,!0)}).catch(()=>{q.add("esri-image-decode",!1,!0,!0)})}return!1}),q.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();function CYe(e){}function Ide(e){return()=>e}function NYe(e){return e}var Fi;let Pde=(Fi=class{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*Fi._m}getInt(){return this._seed=(Fi._a*this._seed+Fi._c)%Fi._m,this._seed}getFloat(){return this.getInt()/(Fi._m-1)}getIntRange(t,r){return Math.round(this.getFloatRange(t,r))}getFloatRange(t,r){const n=r-t;return t+this.getInt()/Fi._m*n}},Fi._m=2147483647,Fi._a=48271,Fi._c=0,Fi);function kde(e,t,r,n,i,s,o){if(e==null&&n==null)return!0;t=Math.max(0,t),i=Math.max(0,i),r=Math.max(0,r<0?(e?.length??0)+r:r),s=Math.max(0,s<0?(n?.length??0)+s:s);const a=r-t;if(e==null||n==null||a!==s-i)return!1;if(o){for(let l=0;l<a;l++)if(!o(e[t+l],n[i+l]))return!1}else for(let l=0;l<a;l++)if(e[t+l]!==n[i+l])return!1;return!0}function _$(e,t,r){return kde(e,0,e?.length??0,t,0,t?.length??0,r)}function MYe(e,t,r){let n,i;return r?(n=t.filter(s=>!e.some(o=>r(o,s))),i=e.filter(s=>!t.some(o=>r(o,s)))):(n=t.filter(s=>!e.includes(s)),i=e.filter(s=>!t.includes(s))),{added:n,removed:i}}let oH=class{constructor(){this.last=0}};const aH=new oH;function CA(e,t,r,n){n=n||aH;const i=Math.max(0,n.last-10);for(let o=i;o<r;++o)if(e[o]===t)return n.last=o,o;const s=Math.min(i,r);for(let o=0;o<s;++o)if(e[o]===t)return n.last=o,o;return-1}function Cde(e,t,r,n){const i=r??e.length,s=CA(e,t,i,n);if(s!==-1)return e[s]=e[i-1],r==null&&e.pop(),t}const Bs=new Set;function Nde(e,t,r=e.length,n=t.length,i,s){if(n===0||r===0)return r;Bs.clear();for(let a=0;a<n;++a)Bs.add(t[a]);i=i||aH;const o=Math.max(0,i.last-10);for(let a=o;a<r;++a)if(Bs.has(e[a])&&(s?.push(e[a]),Bs.delete(e[a]),e[a]=e[r-1],--r,--a,Bs.size===0||r===0))return Bs.clear(),r;for(let a=0;a<o;++a)if(Bs.has(e[a])&&(s?.push(e[a]),Bs.delete(e[a]),e[a]=e[r-1],--r,--a,Bs.size===0||r===0))return Bs.clear(),r;return Bs.clear(),r}function Mde(e){return e?($5.seed=e,()=>$5.getFloat()):Math.random}const $5=new Pde;function LYe(e,t){if(!e)return e;const r=Mde(t);for(let n=e.length-1;n>0;n--){const i=Math.floor(r()*(n+1)),s=e[n];e[n]=e[i],e[i]=s}return e}function lH(e,t){const r=e.indexOf(t);return r!==-1?(e.splice(r,1),t):null}function t1(e,t){return e!=null}function DYe(e){return e instanceof ArrayBuffer}function jM(e){return e?.constructor?.name==="Int8Array"}function uH(e){return e?.constructor?.name==="Uint8Array"}function cH(e){return e?.constructor?.name==="Uint8ClampedArray"}function AM(e){return e?.constructor?.name==="Int16Array"}function dH(e){return e?.constructor?.name==="Uint16Array"}function IM(e){return e?.constructor?.name==="Int32Array"}function pH(e){return e?.constructor?.name==="Uint32Array"}function Rde(e){return e?.constructor?.name==="Float16Array"}function $$(e){return e?.constructor?.name==="Float32Array"}function T$(e){return e?.constructor?.name==="Float64Array"}function Lde(e){return"buffer"in e}const fH=1024;function FYe(e){return T$(e)||$$(e)||IM(e)||AM(e)||jM(e)}function UYe(e){return T$(e)||$$(e)}function zYe(e){return T$(e)?179769e303:Rde(e)?65504:$$(e)?3402823e32:pH(e)?4294967295:dH(e)?65535:uH(e)||cH(e)?255:IM(e)?2147483647:AM(e)?32767:jM(e)?127:256}const BYe=-32768,VYe=-2147483648;function hH(e,t){let r;if(t)for(r in e)e.hasOwnProperty(r)&&(e[r]===void 0?delete e[r]:e[r]instanceof Object&&hH(e[r],!0));else for(r in e)e.hasOwnProperty(r)&&e[r]===void 0&&delete e[r];return e}function D(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=gH(e);if(t!=null)return t;if(n_(e))return e.clone();if(yH(e))return e.map(D);if(mH(e))throw new Error("Trying to clone an unclonable Accessor instance");const r={};for(const n of Object.getOwnPropertyNames(e))r[n]=D(e[n]);return r}function NA(e){if(!e||typeof e!="object"||typeof e=="function"||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=gH(e);if(t!=null)return t;if(yH(e)){let n=!0;const i=e.map(s=>{const o=NA(s);return s!=null&&o==null&&(n=!1),o});return n?i:null}if(n_(e))return e.clone();if(e instanceof File||e instanceof Blob)return e;if(mH(e))return null;const r=new(Object.getPrototypeOf(e)).constructor;for(const n of Object.getOwnPropertyNames(e)){const i=e[n],s=NA(i);if(i!=null&&s==null)return null;r[n]=s}return r}function n_(e){return typeof e.clone=="function"}function yH(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function mH(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function T5(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function gH(e){if(jM(e)||uH(e)||cH(e)||AM(e)||dH(e)||IM(e)||pH(e)||$$(e)||T$(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[r,n]of e)t.set(r,D(n));return t}if(e instanceof Set){const t=new Set;for(const r of e)t.add(D(r));return t}return null}function PM(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof e?.getTime=="function"&&typeof t?.getTime=="function"&&e.getTime()===t.getTime()||!1}function Dde(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&_$(e,t):e instanceof Set?t instanceof Set&&Ude(e,t):e instanceof Map?t instanceof Map&&zde(e,t):!!T5(e)&&T5(t)&&Fde(e,t))}function Fde(e,t){if(e===null||t===null)return!1;const r=Object.keys(e);if(t===null||Object.keys(t).length!==r.length)return!1;for(const n of r)if(e[n]!==t[n]||!Object.prototype.hasOwnProperty.call(t,n))return!1;return!0}function Ude(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function zde(e,t){if(e.size!==t.size)return!1;for(const[r,n]of e){const i=t.get(r);if(i!==n||i===void 0&&!t.has(r))return!1}return!0}function kM(e,t,r=!1){return bH(e,t,r)}function O$(e,t){if(t!=null)return t[e]||vH(e.split("."),!1,t)}function or(e,t,r){const n=e.split("."),i=n.pop(),s=vH(n,!0,r);s&&i&&(s[i]=t)}function O5(e,t){if(e==null&&t==null)return!1;if(e==null||t==null)return!0;if(typeof e=="object"){if(Array.isArray(e)){const r=t;if(e.length!==r.length)return!0;for(let n=0;n<e.length;n++)if(O5(e[n],r[n]))return!0;return!1}if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const r in e)if(O5(e[r],t[r]))return!0;return!1}return e!==t}function vH(e,t,r){let n=r;for(const i of e){if(n==null)return;if(!(i in n)){if(!t)return;n[i]={}}n=n[i]}return n}function bH(e,t,r){return t?Object.keys(t).reduce((n,i)=>{if(i==="__proto__")return n;let s=n[i],o=t[i];return s===o?n:s===void 0?(n[i]=D(o),n):(Array.isArray(o)||Array.isArray(n)?(s=s?Array.isArray(s)?n[i]=s.slice():n[i]=[s]:n[i]=[],o&&(Array.isArray(o)||(o=[o]),r?o.forEach(a=>{s.includes(a)||s.push(a)}):n[i]=o.slice())):o&&typeof o=="object"?n[i]=bH(s,o,r):n.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(n[i]=o),n)},e||{}):e}const Xe={apiKey:void 0,apiKeys:{scopes:[]},applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(kM(Xe,globalThis.esriConfig,!0),delete Xe.has),!Xe.assetsPath){{const e="4.33";Xe.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}Xe.defaultAssetsPath=Xe.assetsPath}const Bde=/\{([^}]+)\}/g;function E5(e){return e??""}function Lp(e,t){return t?e.replaceAll(Bde,typeof t=="object"?(r,n)=>E5(O$(n,t)):(r,n)=>E5(t(n))):e}function qYe(e,t){return e.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,r=>t?.includes(r)?r:`\\${r}`)}function wH(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}let j5;function GYe(e){return j5??(j5=new DOMParser),j5.parseFromString(e||"","text/html").body.innerText||""}const A5={info:0,warn:1,error:2,none:3};var xr;let ce=(xr=class{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,xr._loggers.set(this.module,this);const r=this.module.lastIndexOf(".");r!==-1&&(this._parent=xr.getLogger(this.module.slice(0,r)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){}static get test(){}static getLogger(t){return t=typeof t!="string"?t.declaredClass:t,xr._loggers.get(t)||new xr({module:t})}_log(t,r,...n){if(this._matchLevel(t)){if(r!=="always"&&!xr._throttlingDisabled){const i=qde(n),s=this._loggedMessages[t].get(i);if(r==="once"&&s!=null||r==="oncePerTick"&&s&&s>=xr._tickCounter)return;this._loggedMessages[t].set(i,xr._tickCounter),xr._scheduleTickCounterIncrement()}for(const i of Xe.log.interceptors)if(i(t,this.module,...n))return;this._inheritedWriter()(t,this.module,...n)}}_parentWithMember(t,r){let n=this;for(;n!=null;){const i=n[t];if(i!=null)return i;n=n.parent}return r}_inheritedWriter(){return this._parentWithMember("writer",Vde)}_matchLevel(t){const r=Xe.log.level||"warn";return A5[this._parentWithMember("level",r)]<=A5[t]}static _scheduleTickCounterIncrement(){xr._tickCounterScheduled||(xr._tickCounterScheduled=!0,Promise.resolve().then(()=>{xr._tickCounter++,xr._tickCounterScheduled=!1}))}},xr._loggers=new Map,xr._tickCounter=0,xr._tickCounterScheduled=!1,xr._throttlingDisabled=!1,xr);function Vde(e,t,...r){console[e](`[${t}]`,...r)}function qde(...e){return wH(JSON.stringify(e,(r,n)=>typeof n!="object"||Array.isArray(n)?n:"[Object]"))}function Gde(e,t){return e.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(r,n)=>n===""?"$":(O$(n,t)??"").toString())}let xH=class{constructor(t,r,n=void 0){this.name=t,this.details=n,this.message=(r&&Gde(r,n))??""}toString(){return"["+this.name+"]: "+this.message}},K=class SH extends xH{constructor(t,r,n){super(t,r,n)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,r)=>{if(r&&typeof r=="object"&&typeof r.toJSON=="function")return r;try{return D(r)}catch{return"[object]"}}))}}catch(t){throw ce.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new SH(t.name,t.message,t.details)}};K.prototype.type="error";function vv(e){return e&&typeof e=="object"&&"toJSON"in e&&typeof e.toJSON=="function"}const Wde=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,Hde={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function I5(e){const t=e?.match(Wde);if(!t)return null;const[,r,n,i]=t;if(!r)return null;let s=null,o=null,a=null;const{devext:l,qaext:c,www:d}=Hde;if(n)if(s=r,i)switch(i.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qa":({customBaseUrl:o,portalHostname:a}=c);break;default:return null}else({customBaseUrl:o,portalHostname:a}=d);else switch(r.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qaext":({customBaseUrl:o,portalHostname:a}=c);break;case"www":({customBaseUrl:o,portalHostname:a}=d);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:a,urlKey:s}}function _H(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function $H(e){const t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,r=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,n=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):r.test(e)?e=e.replace(r,"https://devext.arcgis.com"):n.test(e)&&(e=e.replace(n,"https://qaext.arcgis.com")),e}function Jde(e){const t=atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r.buffer}function Kde(e){const t=new Uint8Array(e);let r="";for(let n=0;n<t.length;n++)r+=String.fromCharCode(t[n]);return btoa(r)}const Zde=()=>ce.getLogger("esri.core.urlUtils"),em=Xe.request,P5="esri/config: esriConfig.request.proxyUrl is not set.",TH=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,OH=/^\s*http:/i,Yde=/^\s*https:/i,Qde=/^\s*file:/i,EH=/:\d+$/,Xde=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,epe=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),tpe=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let tp=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let r=this.uri.match(epe);this.scheme=r[2]||(r[1]?"":null),this.authority=r[4]||(r[3]?"":null),this.path=r[5],this.query=r[7]||(r[6]?"":null),this.fragment=r[9]||(r[8]?"":null),this.authority!=null&&(r=this.authority.match(tpe),this.user=r[3]||null,this.password=r[4]||null,this.host=r[6]||r[7],this.port=r[9]||null)}toString(){return this.uri}};const Q1={},rpe=new tp(Xe.applicationUrl);let Ln=rpe;const npe=ipe();let CM=npe;const NM=()=>Ln,JYe=()=>CM;function ipe(){const e=Ln.path,t=e.slice(0,e.lastIndexOf("/")+1);return`${`${Ln.scheme}://${Ln.host}${Ln.port!=null?`:${Ln.port}`:""}`}${t}`}function sn(e){if(!e)return null;const t={path:null,query:null},r=new tp(e),n=e.indexOf("?");return r.query===null?t.path=e:(t.path=e.slice(0,n),t.query=MM(r.query)),r.fragment&&(t.hash=r.fragment,r.query===null&&(t.path=t.path.slice(0,t.path.length-(r.fragment.length+1)))),t}function MM(e){const t=e.split("&"),r={};for(const n of t){if(!n)continue;const i=n.indexOf("=");let s,o;i<0?(s=decodeURIComponent(n),o=""):(s=decodeURIComponent(n.slice(0,i)),o=decodeURIComponent(n.slice(i+1)));let a=r[s];typeof a=="string"&&(a=r[s]=[a]),Array.isArray(a)?a.push(o):r[s]=o}return r}function bv(e,t){return e?t&&typeof t=="function"?Object.keys(e).map(r=>encodeURIComponent(r)+"="+encodeURIComponent(t(r,e[r]))).join("&"):Object.keys(e).map(r=>{const n=e[r];if(n==null)return"";const i=encodeURIComponent(r)+"=",s=t?.[r];return s?i+encodeURIComponent(s(n)):Array.isArray(n)?n.map(o=>vv(o)?i+encodeURIComponent(JSON.stringify(o)):i+encodeURIComponent(o)).join("&"):vv(n)?i+encodeURIComponent(JSON.stringify(n)):i+encodeURIComponent(n)}).filter(r=>r).join("&"):""}function jH(e=!1){let t,r=em.proxyUrl;if(typeof e=="string"){t=kH(e);const n=E$(e);n&&(r=n.proxyUrl)}else t=!!e;if(!r)throw Zde().warn(P5),new K("urlUtils:proxy-not-set",P5);return t&&RA()&&(r=UM(r)),sn(r)}function KYe(e,t=!1){const r=E$(e);let n,i;if(r){const s=RM(r.proxyUrl);n=s.path,i=s.query?MM(s.query):null}else if(t){const s=jH(e);n=s.path,i=s.query}if(n){const s=sn(e);e=n+"?"+s.path;const o=bv({...i,...s.query});o&&(e=`${e}?${o}`)}return e}const Bm={path:"",query:""};function RM(e){const t=e.indexOf("?");return t!==-1?(Bm.path=e.slice(0,t),Bm.query=e.slice(t+1)):(Bm.path=e,Bm.query=null),Bm}function AH(e){return e=(e=s_(e=mpe(e=RM(e).path),!0)).toLowerCase()}function spe(e){const t={proxyUrl:e.proxyUrl,urlPrefix:AH(e.urlPrefix)},r=em.proxyRules,n=t.urlPrefix;let i=r.length;for(let s=0;s<r.length;s++){const o=r[s].urlPrefix;if(n.indexOf(o)===0){if(n.length===o.length)return-1;i=s;break}o.indexOf(n)===0&&(i=s+1)}return r.splice(i,0,t),i}function E$(e){const t=em.proxyRules,r=AH(e);for(let n=0;n<t.length;n++)if(r.indexOf(t[n].urlPrefix)===0)return t[n]}function ope(e,t){if(!e||!t)return!1;e=i_(e),t=i_(t);const r=I5(e),n=I5(t);return r!=null&&n!=null?r.portalHostname===n.portalHostname:r==null&&n==null&&ba(e,t,!0)}function IH(e,t){return e=i_(e),t=i_(t),s_(e)===s_(t)}function i_(e){const t=(e=jo(e)).indexOf("/sharing");return t>0?e.slice(0,t):e.replace(/\/+$/,"")}function MA(e,t=em.interceptors){const r=n=>n instanceof RegExp?n.test(e):typeof n=="string"?e.startsWith(n):n==null;if(t){for(const n of t)if(Array.isArray(n.urls)){if(n.urls.some(r))return n}else if(r(n.urls))return n}return null}function ba(e,t,r=!1){if(!e||!t)return!1;const n=DA(e),i=DA(t);return!(!r&&n.scheme!==i.scheme)&&n.host!=null&&i.host!=null&&n.host.toLowerCase()===i.host.toLowerCase()&&n.port===i.port}function LM(e){if(typeof e=="string"){if(!Oi(e))return!0;e=DA(e)}if(ba(e,Ln))return!0;const t=em.trustedServers||[];for(let r=0;r<t.length;r++){const n=ape(t[r]);for(let i=0;i<n.length;i++)if(ba(e,n[i]))return!0}return!1}function ape(e){return Q1[e]||(FM(e)||_a(e)?Q1[e]=[new tp(xs(e))]:Q1[e]=[new tp(`http://${e}`),new tp(`https://${e}`)]),Q1[e]}function xs(e,t=CM,r){return _a(e)?r?.preserveProtocolRelative?e:Ln.scheme==="http"&&Ln.authority===Ki(e).slice(2)?`http:${e}`:`https:${e}`:FM(e)?e:hp(e[0]==="/"?hpe(t):t,e)}function DM(e,t=CM,r){if(e==null||!Oi(e))return e;const n=jo(e),i=n.toLowerCase(),s=jo(t).toLowerCase().replace(/\/+$/,""),o=r?jo(r).toLowerCase().replace(/\/+$/,""):null;if(o&&s.indexOf(o)!==0)return e;const a=(p,y,m)=>(m=p.indexOf(y,m))===-1?p.length:m;let l=a(i,"/",i.indexOf("//")+2),c=-1;for(;i.slice(0,l+1)===s.slice(0,l)+"/"&&(c=l+1,l!==i.length);)l=a(i,"/",l+1);if(c===-1||o&&c<o.length)return e;e=n.slice(c);const d=s.slice(c-1).replaceAll(/[^/]+/g,"").length;if(d>0)for(let p=0;p<d;p++)e=`../${e}`;else e=`./${e}`;return e}function jo(e){return e=bpe(e=vpe(e=gpe(e=xs(e=e.trim()))))}function hp(...e){const t=e.filter(t1);if(!t?.length)return;const r=[];if(Oi(t[0])){const i=t[0],s=i.indexOf("//");s!==-1&&(r.push(i.slice(0,s+1)),ppe(t[0])&&(r[0]+="/"),t[0]=i.slice(s+2))}else t[0][0]==="/"&&r.push("");const n=t.reduce((i,s)=>s?i.concat(s.split("/")):i,[]);for(let i=0;i<n.length;i++){const s=n[i];s===".."&&r.length>0&&r[r.length-1]!==".."?r.pop():(!s&&i===n.length-1||s&&(s!=="."||r.length===0))&&r.push(s)}return r.join("/")}function Ki(e,t=!1){if(e==null||tm(e)||Wl(e))return null;let r=e.indexOf("://");if(r===-1&&_a(e))r=2;else{if(r===-1)return null;r+=3}const n=e.indexOf("/",r);return n!==-1&&(e=e.slice(0,n)),t&&(e=s_(e,!0)),e}function Oi(e){return _a(e)||FM(e)}function tm(e){return e!=null&&e.slice(0,5)==="blob:"}function Wl(e){return e!=null&&e.slice(0,5)==="data:"}function lpe(e){const t=iy(e);return t?.isBase64?Jde(t.data):null}function ZYe(e){return Kde(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const upe=/^data:(.*?)(;base64)?,(.*)$/;function iy(e){const t=e.match(upe);if(!t)return null;const[,r,n,i]=t;return{mediaType:r,isBase64:!!n,data:i}}function PH(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function cpe(e){return(await fetch(e)).blob()}function YYe(e){const t=lpe(e);if(!t)return null;const r=iy(e);return new Blob([t],{type:r.mediaType})}function _a(e){return e!=null&&e[0]==="/"&&e[1]==="/"}function FM(e){return e!=null&&TH.test(e)}function kH(e){return e!=null&&Yde.test(e)||Ln.scheme==="https"&&_a(e)}function dpe(e){return e!=null&&OH.test(e)||Ln.scheme==="http"&&_a(e)}function ppe(e){return e!=null&&Qde.test(e)}function UM(e){return _a(e)?`https:${e}`:e.replace(OH,"https:")}function fpe(){return Ln.scheme==="http"}function RA(){return Ln.scheme==="https"}function s_(e,t=!1){return _a(e)?e.slice(2):(e=e.replace(TH,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function hpe(e){const t=e.indexOf("//"),r=e.indexOf("/",t+2);return r===-1?e:e.slice(0,r)}function ype(e){let t=0;if(Oi(e)){const n=e.indexOf("//");n!==-1&&(t=n+2)}const r=e.lastIndexOf("/");return r<t?e:e.slice(0,r+1)}function QYe(e,t){if(!e)return"";const r=sn(e).path.replace(/\/+$/,""),n=r.slice(r.lastIndexOf("/")+1);if(!t?.length)return n;const i=new RegExp(`\\.(${t.join("|")})$`,"i");return n.replace(i,"")}function mpe(e){return e.endsWith("/")?e:`${e}/`}function CH(e){return e.replace(/\/+$/,"")}function gpe(e){if(/^https?:\/\//i.test(e)){const t=RM(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function vpe(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function bpe(e){const t=em.httpsDomains;if(!dpe(e))return e;const r=e.indexOf("/",7);let n;if(n=r===-1?e:e.slice(0,r),n=n.toLowerCase().slice(7),EH.test(n)){if(!n.endsWith(":80"))return e;n=n.slice(0,-3),e=e.replace(":80","")}return fpe()&&n===Ln.authority&&!Xde.test(e)||(RA()&&n===Ln.authority||t&&t.some(i=>n===i||n.endsWith(`.${i}`))||RA()&&!E$(e))&&(e=UM(e)),e}function LA(e,t,r){if(!(t&&r&&e&&Oi(e)))return e;const n=e.indexOf("//"),i=e.indexOf("/",n+2),s=e.indexOf(":",n+2),o=Math.min(i<0?e.length:i,s<0?e.length:s);return e.slice(n+2,o).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,n+2)}${r}${e.slice(o)}`}function NH(e,t){const r=new URL(e);return r.host=t,r.port&&!EH.test(t)&&(r.port=""),r.toString()}function wpe(e){return new URL(e).host}function DA(e){return typeof e=="string"?new tp(xs(e)):(e.scheme||(e.scheme=Ln.scheme),e)}function MH(e,t){const r=sn(e),n=Object.keys(r.query||{});return n.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${n.join(", ")}.`),r.path}function RH(e,t,r){const n=sn(e),i=n.query||{};return i[t]=String(r),`${n.path}?${bv(i)}`}function HO(e,t){if(!t)return e;const r=sn(e),n=r.query||{};for(const[s,o]of Object.entries(t))o!=null&&(n[s]=o);const i=bv(n);return i?`${r.path}?${i}`:r.path}function LH(e){if(e==null)return null;const t=e.match(DH);return t?t[2]:null}function k5(e){if(e==null)return null;const t=e.match(DH);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function XYe(e){return typeof e=="string"?iy(e)??{data:e}:new Promise((t,r)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>t(iy(n.result)),n.onerror=i=>r(i)})}const DH=/([^.]*)\.([^/]*)$/,FH="20250708",UH="3f313cd890df21896088a60e19e9d26665f8c30f";Symbol.dispose??(Symbol.dispose=Symbol("Symbol.dispose")),Symbol.asyncDispose??(Symbol.asyncDispose=Symbol("Symbol.asyncDispose"));const zH="4.33";let Ke,zM=zH;zM="4.33.9";function eQe(e){Ke=e}function tQe(e){const t=Ke?.findCredential(e);return t?.token?RH(e,"token",t.token):e}q("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),q("host-webworker");function rQe(e,t){for(const r of e.values())if(t(r))return!0;return!1}function j$(e,t,r){const n=e.get(t);if(n!==void 0)return n;const i=r();return e.set(t,i),i}function nQe(e){const t=new Map;return r=>(t.has(r)||t.set(r,e(r)),t.get(r))}const xpe={remove:()=>{}};function vr(e){return e?{remove(){e&&(e(),e=void 0)}}:xpe}function Spe(e){e.forEach(t=>t?.remove())}function A$(e){return vr(()=>Spe(e))}function iQe(e){return vr(()=>e?.abort())}function sQe(e){return{[Symbol.dispose](){e.remove()}}}function _pe(e){return{setTimeout:(t,r)=>{const n=e.setTimeout(t,r);return vr(()=>e.clearTimeout(n))}}}const $pe=_pe(globalThis);function BM(e){return Tpe(e)||BH(e)}function Tpe(e){return e!=null&&typeof e=="object"&&"on"in e&&typeof e.on=="function"}function BH(e){return e!=null&&typeof e=="object"&&"addEventListener"in e&&typeof e.addEventListener=="function"}function VM(e,t,r){if(!BM(e))throw new TypeError("target is not a Evented or EventTarget object");return BH(e)?Ope(e,t,r):e.on(t,r)}function Ope(e,t,r,n){if(Array.isArray(t)){const i=t.slice();for(const s of i)e.addEventListener(s,r,n);return vr(()=>{for(const s of i)e.removeEventListener(s,r,n)})}return e.addEventListener(t,r,n),vr(()=>e.removeEventListener(t,r,n))}function VH(e,t,r){if(!BM(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);const n=VM(e,t,i=>{n.remove(),r.call(e,i)});return n}function Epe(e,t){if(e==null)throw new Error(t??"value is None")}function As(e){return e?.destroy(),null}function oQe(e){return e?.dispose(),null}function Ao(e){return e?.remove(),null}function qH(e){return e?.abort(),null}function aQe(e){return e?.release(),null}function jpe(e,t,r){return e!=null&&t!=null?r!=null?r(e,t):e.equals(t):e===t}function Ape(e,t){let r;return e.some((n,i)=>(r=t(n,i),r!=null)),r??void 0}function gr(e="Aborted"){return new K("AbortError",e)}function Un(e,t="Aborted"){if(Fl(e))throw gr(t)}function I$(e){return e instanceof AbortSignal?e:e?.signal??void 0}function Fl(e){const t=I$(e);return t!=null&&t.aborted}function ca(e){if(Ls(e))throw e}function lQe(e){if(!Ls(e))throw e}function yp(e,t){const r=I$(e);if(r!=null){if(!r.aborted)return VH(r,"abort",()=>t());t()}}function GH(e,t){const r=I$(e);if(r!=null)return Un(r),VH(r,"abort",()=>t(gr()))}function Ipe(e,t){return I$(t)==null?e:new Promise((r,n)=>{let i=yp(t,()=>n(gr()));const s=()=>{i=Ao(i)};e.then(s,s),e.then(r,n)})}function Ls(e){return e?.name==="AbortError"}async function Ppe(e){try{return await e}catch(t){if(!Ls(t))throw t;return}}async function qM(e){if(!e)return;if(typeof e.forEach!="function"){const r=Object.keys(e),n=r.map(o=>e[o]),i=await qM(n),s={};return r.map((o,a)=>s[o]=i[a]),s}const t=e;return Promise.allSettled(t).then(r=>Array.from(t,(n,i)=>{const s=r[i];return s.status==="fulfilled"?{promise:n,value:s.value}:{promise:n,error:s.reason}}))}async function uQe(e){return(await Promise.allSettled(e)).filter(t=>t.status==="fulfilled").map(t=>t.value)}async function cQe(e){return(await Promise.allSettled(e)).filter(t=>t.status==="rejected").map(t=>t.reason)}function kpe(e,t=void 0,r){const n=new AbortController;return yp(r,()=>n.abort()),new Promise((i,s)=>{let o=setTimeout(()=>{o=0,i(t)},e);yp(n,()=>{o&&(clearTimeout(o),s(gr()))})})}function rm(e){return e&&typeof e.then=="function"}function C5(e){return rm(e)?e:Promise.resolve(e)}function GM(e,t=-1){let r,n,i,s,o=null;const a=(...l)=>{if(r){n=l,s&&s.reject(gr()),s=gc();const y=s.promise;if(o){const m=o;o=null,m.abort()}return y}if(i=s||gc(),s=null,t>0){const y=new AbortController;r=C5(e(...l,y.signal));const m=r;kpe(t).then(()=>{r===m&&(s?y.abort():o=y)})}else r=1,r=C5(e(...l));const c=()=>{const y=n;n=i=r=o=null,y!=null&&a(...y)},d=r,p=i;return d.then(c,c),d.then(p.resolve,p.reject),p.promise};return a}function gc(){let e,t;const r=new Promise((i,s)=>{e=i,t=s}),n=i=>{e(i)};return n.resolve=i=>e(i),n.reject=i=>t(i),n.timeout=(i,s)=>$pe.setTimeout(()=>n.reject(s),i),n.promise=r,n}function dQe(e,t){t.then(e.resolve,e.reject)}async function N5(e){await Promise.resolve(),Un(e)}function Dp(e,t){const r=t?.url?.path;if(e&&r&&(e=xs(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const n=DM(e,t.portalItem.itemUrl);n!=null&&Cpe.test(n)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(n).path)}return(e=FA(e,t?.portal))&&k$.test(e)?WM(e):e}function mp(e,t,r=sy.YES){if((e=e&&k$.test(e)?KH(e):e)==null)return e;!Oi(e)&&t?.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let n=xs(e);if(t){const i=t.verifyItemRelativeUrls?.rootPath||t.url?.path;if(i){const s=FA(i,t.portal),o=FA(n,t.portal);n=DM(o,s,s),n!=null&&n!==o&&n!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=JH(n,t?.portal),Oi(n)&&(n=jo(n)),t?.resources&&t?.portalItem&&!Oi(n)&&!Wl(n)&&r===sy.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(n),compress:!1}),n}function P$(e,t,r){return Dp(e,r)}function gp(e,t,r,n){const i=mp(e,n);i!==void 0&&(t[r]=i)}const k$=/\/items\/([^/]+)\/resources\/(.*)/,Cpe=/^\.\/resources\//;function WH(e){return(e?.match(k$)??null)?.[1]??null}function HH(e){const t=e?.match(k$)??null;if(t==null)return null;const r=t[2],n=r.lastIndexOf("/");if(n===-1){const{path:o,extension:a}=k5(r);return{prefix:null,filename:o,extension:a}}const{path:i,extension:s}=k5(r.slice(n+1));return{prefix:r.slice(0,n),filename:i,extension:s}}function JH(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?LA(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function FA(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const r=`${t.urlKey}.${t.customBaseUrl}`,n=NM();return ba(n,`${n.scheme}://${r}`)?LA(e,t.portalHostname,r):LA(e,r,t.portalHostname)}function WM(e){if(!e)return e||null;let t=e;return t&&Ke&&!Ke.findCredential(t)&&(t=$H(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function KH(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&Ke&&!Ke.findCredential(t)&&(t=$H(t)),t}var sy;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(sy||(sy={}));const Npe=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return sy},ensureMainOnlineDomain:JH,fromCDNUrl:KH,fromJSON:Dp,itemIdFromResourceUrl:WH,prefixAndFilenameFromResourceUrl:HH,read:P$,toCDNUrl:WM,toJSON:mp,write:gp},Symbol.toStringTag,{value:"Module"})),ZH={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},YH=Object.values(ZH),QH=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${YH.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),Mpe=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${YH.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),Rpe=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function pQe(e){return QH.test(e)}function Ul(e){if(e==null)return null;const t=sn(e),r=t?.path.match(QH)||t?.path.match(Mpe);if(!r)return null;const[,n,i,s,o]=r,a=i.indexOf("/");return{title:HM(a!==-1?i.slice(a+1):i),serverType:ZH[s.toLowerCase()],sublayer:o!=null&&o!==""?parseInt(o,10):null,url:{path:n}}}function Lpe(e){const t=sn(e).path.match(Rpe);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function HM(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function Dpe(e,t){const r=[];if(e){const n=Ul(e);n!=null&&n.title&&r.push(n.title)}if(t){const n=HM(t);r.push(n)}if(r.length===2){if(r[0].toLowerCase().includes(r[1].toLowerCase()))return r[0];if(r[1].toLowerCase().includes(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function o_(e){let t=Ki(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(".arcgis.com")&&(t.startsWith("services")||t.startsWith("tiles")||t.startsWith("features")||/^[a-z\d-]+\.svcs[a-z\d-]*\./.test(t)))}function Fpe(e,t){return e&&CH(MH(e,t))}function Upe(e){let{url:t}=e;if(!t)return{url:t};t=MH(t,e.logger);const r=sn(t),n=Ul(r.path);let i;if(n!=null)n.sublayer!=null&&e.layer.layerId==null&&(i=n.sublayer),t=n.url.path;else if(e.nonStandardUrlAllowed){const s=Lpe(r.path);s!=null&&(t=s.serviceUrl,i=s.sublayerId)}return{url:CH(t),layerId:i}}function zpe(e,t,r,n,i){gp(t,n,"url",i),n.url&&e.layerId!=null&&(n.url=hp(n.url,r,e.layerId.toString()))}function fQe(e){if(!e)return!1;const t=e.toLowerCase(),r=t.includes("/services/"),n=t.includes("/mapserver/wmsserver"),i=t.includes("/imageserver/wmsserver"),s=t.includes("/wmsserver");return r&&(n||i||s)}function hQe(e){if(!e)return!1;const t=new tp(xs(e)),r=t.authority?.toLowerCase();return r==="server.arcgisonline.com"||r==="services.arcgisonline.com"}const Bpe=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function JM(e){if(!KM(e))return null;const t=n=>n instanceof RegExp?n.test(e):typeof n=="string"&&e.startsWith(n),r=Xe.apiKeys;if(Array.isArray(r.scopes)){for(const n of r.scopes)if(Array.isArray(n.urls)){if(n.urls.some(t))return n.token}else if(t(n.urls))return n.token}return r.basemapStyles&&/^https?:\/\/(i?basemaps|basemapstyles)-api\.arcgis\.com\//i.test(e)?r.basemapStyles:Xe.apiKey&&/^https?:\/\/.+\.arcgis\.com(\/|$)/i.test(e)?Xe.apiKey:null}function UA(){return Xe.apiKey!=null||Xe.apiKeys.basemapStyles!=null}function Vpe(e,t){return t?KM(e):JM(e)!=null}function KM(e){const t=Ki(e,!0);return!!t&&!Bpe.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function qpe(e,t,r=!1,n){return new Promise((i,s)=>{if(Fl(n))return void s(M5());let o=()=>{c(),s(new Error(`Unable to load ${t}`))},a=()=>{const d=e;c(),i(d)},l=()=>{if(!e)return;const d=e;c(),d.src="",s(M5())};const c=()=>{q("esri-image-decode")||(e.removeEventListener("error",o),e.removeEventListener("load",a)),o=null,a=null,e=null,n?.removeEventListener("abort",l),l=null,r&&URL.revokeObjectURL(t)};n?.addEventListener("abort",l),q("esri-image-decode")?e.decode().then(a,o):(e.addEventListener("error",o),e.addEventListener("load",a))})}function M5(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const XH="Timeout exceeded";function Gpe(){return new Error(XH)}function yQe(e){return typeof e=="object"&&!!e&&"message"in e&&e.message===XH}function Wpe(e){Xe.request.crossOriginNoCorsDomains||(Xe.request.crossOriginNoCorsDomains={});const t=Xe.request.crossOriginNoCorsDomains;for(let r of e)r=r.toLowerCase(),/^https?:\/\//.test(r)?t[Ki(r)??""]=0:(t[Ki("http://"+r)??""]=0,t[Ki("https://"+r)??""]=0)}function Hpe(e){const t=Xe.request.crossOriginNoCorsDomains;if(t){let r=Ki(e);if(r)return r=r.toLowerCase(),!ba(r,NM())&&t[r]<Date.now()-36e5}return!1}async function Jpe(e){const t=sn(e);e=t.path,t.query?.f==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}const r=Xe.request.crossOriginNoCorsDomains,n=Ki(e);r&&n&&(r[n.toLowerCase()]=Date.now())}const zA=new Map;function Kpe(e,t){const r=t?.preferredHost;if(!r||ba(e,`https://${r}`,!0))return;const n=Ul(e);if(!n||n.serverType!=="FeatureServer"||_H(e))return;const i=n.url.path.toLowerCase();zA.has(i)||zA.set(i,r)}function R5(e){const t=Ul(e)?.url.path.toLowerCase();if(!t)return e;const r=zA.get(t);return r?NH(e,r):e}async function nt(e,t){e instanceof URL&&(e=e.toString()),t?.query instanceof URLSearchParams&&(t.query=MM(t.query.toString().replaceAll("+"," ")));const r=Wl(e),n=tm(e);n||r||(e=jo(e));const i={url:e,requestOptions:{...t}},s=m=>({data:m,getAllHeaders:oy,getHeader:oy,httpStatus:200,requestOptions:i.requestOptions,url:i.url}),o=MA(e,ys.internalInterceptors);if(o){const m=await D5(o,i);if(m!=null)return s(m)}let a=MA(e);if(a){const m=await D5(a,i);if(m!=null)return s(m);a.after||a.error||(a=null)}if(e=i.url,(t=i.requestOptions).responseType==="image"&&(q("host-webworker")||q("host-node")))throw Io("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),i);if(t.method==="head"){if(t.body)throw Io("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),i);if(r||n)throw Io("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),i)}if(await efe(),a_)return a_.execute(e,t);const l=new AbortController,c=yp(t,()=>l.abort()),d={controller:l,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:a,params:i,redoRequest:!1,useIdentity:ys.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},p=t.useRequestQueue?sfe(d):VA(d),y=await p.finally(()=>c?.remove());return a?.after?.(y),y}let a_,eJ=!1;const ys=Xe.request,tJ="FormData"in globalThis,Zpe=new Set([499,498,403,401]),Ype=new Set(["COM_0056","COM_0057","SB_0008"]),Qpe=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],oy=()=>null,l_=Symbol();function Xpe(e){const t=Ki(e);t&&!nt._corsServers.includes(t)&&nt._corsServers.push(t)}function L5(e){const t=Ki(e);return!t||t.endsWith(".arcgis.com")||nt._corsServers.includes(t)||LM(t)}function Io(e,t,r,n){let i;const s={url:r.url,requestOptions:r.requestOptions,getAllHeaders:oy,getHeader:oy,ssl:!1};if(t instanceof K)return t.details?(t.details=D(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=s,t;if(t){const o=n&&(()=>Array.from(n.headers)),a=n&&(d=>n.headers.get(d)),l=n?.status,c=t.message;c&&(i=c),o&&a&&(s.getAllHeaders=o,s.getHeader=a),s.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||l||0,s.subCode=t.subcode,s.messageCode=t.messageCode,typeof t.details=="string"?(s.messages=[t.details],i??(i=t.details)):(s.messages=t.details,i??(i=s.messages?.[0])),s.raw=l_ in t?t[l_]:t}return i??(i="Error"),Ls(t)?gr():new K(e,i,s)}async function efe(){q("host-webworker")&&(!a_&&globalThis.invokeStaticMessage?a_=await ae(()=>import("./request-83ce1d20.js"),[]):eJ=!0)}async function BA(){Ke||await ae(()=>import("./IdentityManager-ccf31ef8.js").then(e=>e.I),["assets/IdentityManager-ccf31ef8.js","assets/sanitizerUtils-d00433fc.js"])}async function tfe(e){const t=e.params.url,r=e.params.requestOptions,n=e.controller.signal,i=r.body;let s=null,o=null;if(tJ&&"HTMLFormElement"in globalThis&&(i instanceof FormData?s=i:i instanceof HTMLFormElement&&(s=new FormData(i))),typeof i=="string"&&(o=i),e.fetchOptions={cache:r.cacheBust?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:r.method==="head"?"HEAD":"GET",mode:"cors",priority:ys.priority,redirect:"follow",signal:n},(s||o)&&(e.fetchOptions.body=s||o),(eJ||r.authMode==="anonymous")&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||r.query?.token||s?.get("token")),!e.hasToken){const a=JM(t);a&&(r.query??(r.query={}),r.query.token=a,e.hasToken=!0)}if(e.useIdentity&&!e.hasToken&&!e.credential&&!e.credentialToken&&!rJ(t)&&!Fl(n)){let a;r.authMode==="immediate"?(await BA(),a=await Ke.getCredential(t,{signal:n})):r.authMode==="no-prompt"?(await BA(),a=await Ke.getCredential(t,{prompt:!1,signal:n}).catch(()=>{})):Ke&&(a=Ke.findCredential(t)),a&&(e.credential=a,e.credentialToken=a.token,e.useSSL=!!a.ssl)}}function rJ(e){return Qpe.some(t=>t.test(e))}async function rfe(e){let t=e.params.url,r=R5(t);const n=e.params.requestOptions,i=e.fetchOptions??{},s=tm(t)||Wl(t),o=n.responseType||"json",a=s?0:n.timeout!=null?n.timeout:ys.timeout;let l=!1;if(!s){e.useSSL&&(t=UM(t));let m={...n.query};e.credentialToken&&(m.token=e.credentialToken);let g=bv(m);q("esri-url-encodes-apostrophe")&&(g=g.replaceAll("'","%27"));const b=r.length+1+g.length;let w;l=n.method==="delete"||n.method==="post"||n.method==="put"||!!n.body||b>ys.maxUrlLength;const S=n.useProxy||!!E$(t);if(S){const _=jH(t);w=_.path,!l&&w.length+1+b>ys.maxUrlLength&&(l=!0),_.query&&(m={..._.query,...m})}if(i.method==="HEAD"&&(l||S)){if(l)throw b>ys.maxUrlLength?Io("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):Io("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(S)throw Io("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}l?(i.method=n.method==="delete"?"DELETE":n.method==="put"?"PUT":"POST",n.body?t=HO(t,m):(i.body=bv(m),i.headers||(i.headers={}),i.headers["Content-Type"]="application/x-www-form-urlencoded")):t=HO(t,m),S&&(e.useProxy=!0,t=`${w}?${t}`),m.token&&tJ&&i.body instanceof FormData&&!_H(t)&&i.body.set("token",m.token),n.hasOwnProperty("withCredentials")?e.withCredentials=n.withCredentials:ba(t,NM())||(LM(t)||Ke&&Ke.findServerInfo(t)?.webTierAuth)&&(e.withCredentials=!0),e.withCredentials&&(i.credentials="include",Hpe(t)&&await Jpe(l?HO(t,m):t)),r=R5(t)}let c,d,p=0,y=!1;a>0&&(p=setTimeout(()=>{y=!0,e.controller.abort()},a));try{if(n.responseType==="native-request-init")d=i,d.url=r,n.signal?d.signal=n.signal:delete d.signal;else if(n.responseType!=="image"||i.cache!=="default"||i.method!=="GET"||l||nfe(n.headers)||!s&&!e.useProxy&&ys.proxyUrl&&!L5(t)){if(nt._beforeFetch&&await nt._beforeFetch(t,i),c=await fetch(r,i),nt._afterFetch&&await nt._afterFetch(c),e.useProxy||Xpe(t),n.responseType==="native")d=c;else if(i.method!=="HEAD")if(c.ok){switch(o){case"array-buffer":d=await c.arrayBuffer();break;case"blob":case"image":d=await c.blob();break;default:d=await c.text()}if(p&&(clearTimeout(p),p=0),o==="json"||o==="xml"||o==="document")if(d)switch(o){case"json":d=JSON.parse(d);break;case"xml":d=F5(d,"application/xml");break;case"document":d=F5(d,"text/html")}else d=null;if(d){if(o==="array-buffer"||o==="blob"){const m=c.headers.get("Content-Type");if(m&&/application\/json|text\/plain/i.test(m)&&d[o==="blob"?"size":"byteLength"]<=750)try{const g=await new Response(d).json();g.error&&(d=g)}catch{}}o==="image"&&d instanceof Blob&&(d=await U5(URL.createObjectURL(d),e,!0))}}else{d=await c.text();try{d=JSON.parse(d)}catch{}}}else d=await U5(r,e)}catch(m){if(m.name==="AbortError")throw y?Gpe():gr("Request canceled");if(!(!c&&m instanceof TypeError&&ys.proxyUrl)||n.body||n.method==="delete"||n.method==="head"||n.method==="post"||n.method==="put"||e.useProxy||L5(t))throw m;e.redoRequest=!0,spe({proxyUrl:ys.proxyUrl,urlPrefix:Ki(t)??""})}finally{p&&clearTimeout(p)}return[c,d]}async function D5(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,n;try{n=await e.before(t)}catch(i){r=Io("request:interceptor",i,t)}if((n instanceof Error||n instanceof K)&&(r=Io("request:interceptor",n,t)),r)throw e.error&&e.error(r),r;return n}}function nfe(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function F5(e,t){let r;try{r=new DOMParser().parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}nt._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],nt._beforeFetch=void 0,nt._afterFetch=void 0;const ife=new Map;async function sfe(e){const t=afe(e.params.url);if(!t)return VA(e);const{QueueProcessor:r}=await ae(()=>import("./QueueProcessor-68074791.js"),["assets/QueueProcessor-68074791.js","assets/ReactiveMap-240c4127.js","assets/signal-3a81bd24.js"]);return j$(ife,t.origin,()=>{const i=t.isHosted?q("request-queue-concurrency-hosted"):q("request-queue-concurrency-non-hosted");return new r({concurrency:i,process:s=>{if(Fl(s.params.requestOptions))throw Io("",gr("Request canceled"),s.params);return VA(s)}})}).push(e)}async function VA(e){let t,r;await tfe(e);try{do[t,r]=await rfe(e);while(!await ofe(e,t,r))}catch(s){const o=Io("request:server",s,e.params,t);throw o.details.ssl=e.useSSL,e.interceptor?.error&&e.interceptor.error(o),o}const n=e.params.url;if(r)if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(n)){if(!e.hasToken&&!e.credentialToken&&r.user?.username&&!LM(n)){const s=Ki(n,!0);s&&ys.trustedServers.push(s)}Array.isArray(r.authorizedCrossOriginNoCorsDomains)&&Wpe(r.authorizedCrossOriginNoCorsDomains)}else(e.params.requestOptions.responseType||"json")==="json"&&Kpe(n,r);const i=e.credential;if(i&&Ke){let o=Ke.findServerInfo(i.server)?.owningSystemUrl;if(o){o=o.replace(/\/?$/,"/sharing");const a=Ke.findCredential(o,i.userId);a&&Ke._getIdenticalSvcIdx(o,a)===-1&&a.resources.unshift(o)}}return{data:r,getAllHeaders:t?()=>Array.from(t.headers):oy,getHeader:t?s=>t.headers.get(s):oy,httpStatus:t?.status??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function ofe(e,t,r){if(e.redoRequest)return e.redoRequest=!1,!1;const n=e.params.requestOptions;if(!t||n.responseType==="native"||n.responseType==="native-request-init")return!0;let i,s;if(r&&(r.error&&typeof r.error=="object"?i=r.error:r.status==="error"&&Array.isArray(r.messages)&&(i={...r},i[l_]=r,i.details=r.messages)),!i&&!t.ok)throw i=new Error(`Unable to load ${t.url} status: ${t.status}`),i[l_]=r,i;let o,a=null;i&&(s=Number(i.code),a=i.hasOwnProperty("subcode")?Number(i.subcode):null,o=i.messageCode,o=o?.toUpperCase());const l=n.authMode;if(s===403&&(a===4||i.message?.toLowerCase().includes("ssl")&&!i.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(l!=="no-prompt"||s===498)&&s!==void 0&&Zpe.has(s)&&!rJ(e.params.url)&&(s!==403||(!o||!Ype.has(o))&&(a==null||a===2&&e.credentialToken))){await BA();try{const c=await Ke.getCredential(e.params.url,{error:Io("request:server",i,e.params),credential:e.credential,prompt:l!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=c,e.credentialToken=c.token,e.useSSL=e.useSSL||c.ssl,!1}catch(c){if(l==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;i=c}}if(i)throw i;return!0}function U5(e,t,r=!1){const n=t.controller.signal,i=new Image;return t.withCredentials?i.crossOrigin="use-credentials":i.crossOrigin="anonymous",i.alt="",i.fetchPriority=ys.priority,i.src=e,qpe(i,e,r,n)}function afe(e){let t,r;return typeof e=="string"?(t=Ki(e,!0),r=o_(e)):(t=e.origin,r=o_(e.toString())),t==null?null:{origin:t,isHosted:r}}function lfe(e){return e?.release&&typeof e.release=="function"}function ufe(e){return e?.acquire&&typeof e.acquire=="function"}var ap;let C$=(ap=class{constructor(t,r,n,i=1,s=0){this._ctor=t,this._acquireFunction=r,this._releaseFunction=n,this.allocationSize=i,this._pool=new Array(s),this._initialSize=s;for(let o=0;o<s;o++)this._pool[o]=new this._ctor;this.allocationSize=Math.max(i,1)}destroy(){this.prune(0)}acquire(...t){let r;if(ap.test.disabled)r=new this._ctor;else{if(this._pool.length===0){const n=this.allocationSize;for(let i=0;i<n;i++)this._pool[i]=new this._ctor}r=this._pool.pop()}return this._acquireFunction?this._acquireFunction(r,...t):ufe(r)&&r.acquire(...t),r}release(t){t&&!ap.test.disabled&&(this._releaseFunction?this._releaseFunction(t):lfe(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let r=t;r<this._pool.length;++r){const n=this._pool[r];this._dispose(n)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}},ap.test={disabled:!1},ap);function cfe(e){e.length=0}let _u=class{constructor(t=50,r=50){this._pool=new C$(Array,void 0,cfe,r,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return JO.acquire()}static release(t){return JO.release(t)}static prune(){JO.prune()}};const JO=new _u(100),z5=new WeakMap;function dfe(e,t,r=!1){const n=` DEPRECATED - ${t}`;if(!r)return void e.warn(n);let i=z5.get(e);i||(i=new Set,z5.set(e,i)),i.has(t)||(i.add(t),e.warn(n))}function gQe(e,t,r={}){q("esri-deprecation-warnings")&&ay(e,`Module: ${t}`,r)}function nJ(e,t,r={}){if(q("esri-deprecation-warnings")){const{moduleName:n}=r;ay(e,`Function: ${(n?n+"::":"")+t+"()"}`,r)}}function pfe(e,t,r={}){if(q("esri-deprecation-warnings")){const{moduleName:n}=r;ay(e,`Property: ${(n?n+"::":"")+t}`,r)}}function ffe(e,t,r={}){q("esri-deprecation-warnings")&&ay(e,`Multiple argument constructor: ${t}`,{warnOnce:!0,replacement:`new ${t}({ <your properties here> })`,...r})}function ay(e,t,r={}){if(q("esri-deprecation-warnings")){const{replacement:n,version:i,see:s,warnOnce:o}=r;let a=t;if(n&&(a+=`
	 Replacement: ${n}`),i&&(a+=`
	 Version: ${i}`),s)if(Array.isArray(s)){a+=`
	 See for more details:`;for(const l of s)a+=`
		${l}`}else a+=`
	 See ${s} for more details.`;dfe(e,a,o)}}function vQe(e){const t=[];return function*(){yield*t;for(const r of e)t.push(r),yield r}}function bQe(e,t){for(const r of e)if(r!=null&&t(r))return r}function B5(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let ZM=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(r=>{t+=r.length}),t}add(t,r){if(B5(t)){const n=this._getOrCreateGroup(r);for(const i of t)q5(i)&&n.push(i)}else q5(t)&&this._getOrCreateGroup(r).push(t);return this}forEach(t,r){if(typeof t=="function")this._groups.forEach(n=>n.forEach(t));else{const n=this._getGroup(t);n&&r&&n.forEach(r)}}has(t){return this._groups.has(X1(t))}remove(t){if(typeof t!="string"&&B5(t)){for(const r of t)this.remove(r);return this}return this.has(t)?(V5(this._getGroup(t)),this._groups.delete(X1(t)),this):this}removeAll(){return this._groups.forEach(V5),this._groups.clear(),this}removeReference(t){return this._groups.delete(t),this}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const r=[];return this._groups.set(X1(t),r),r}_getGroup(t){return this._groups.get(X1(t))}};function X1(e){return e||"_default_"}function V5(e){for(const t of e)t instanceof ZM?t.removeAll():t.remove()}function q5(e){return e!=null&&(!!e.remove||e instanceof ZM)}const iJ=Symbol("Accessor-beforeDestroy");function ri(e){return e.__accessor__??null}function hfe(e,t){return e?.metadata?.[t]!=null}function yx(e,t,r){return r?u_(e,t,{policy:r,path:""}):u_(e,t,null)}function u_(e,t,r){return t?Object.keys(t).reduce((n,i)=>{const s=i;if(s==="__proto__")return n;let o=null,a="merge";if(r&&(o=r.path?`${r.path}.${i}`:i,a=r.policy(o)),a==="replace"||a==="replace-arrays"&&Array.isArray(n[s]))return n[s]=t[s],n;if(n[s]===void 0)return n[s]=D(t[s]),n;let l=n[s],c=t[s];if(l===c)return n;if(Array.isArray(c)||Array.isArray(n))l=l?Array.isArray(l)?n[s]=l.slice():n[s]=[l]:n[s]=[],c&&(Array.isArray(c)||(c=[c]),c.forEach(d=>{l.includes(d)||l.push(d)}));else if(c&&typeof c=="object")if(r){const d=r.path;r.path=o,n[s]=u_(l,c,r),r.path=d}else n[s]=u_(l,c,null);else n.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(n[s]=c);return n},e||{}):e}function sJ(e){return Array.isArray(e)?e:e.split(".")}function G5(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function yfe(e){if(Array.isArray(e)){const t=[];for(const r of e)t.push(...G5(r));return t}return G5(e)}function oJ(e,t,r,n){const i=yfe(t);if(i.length!==1){const s=i.map(o=>n(e,o,r));return A$(s)}return n(e,i[0],r)}function aJ(e,t){const r=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const i=parseInt(r,10);if(!isNaN(i))return Array.isArray(t)?t[i]:t.at(i)}const n=ri(t);return hfe(n,r)?n.get(r):t[r]}function lJ(e,t,r){if(e==null)return e;const n=aJ(t[r],e);return!n&&r<t.length-1?void 0:r===t.length-1?n:lJ(n,t,r+1)}function r1(e,t,r=0){return typeof t!="string"||t.includes(".")?lJ(e,sJ(t),r):aJ(t,e)}function vp(e,t){return r1(e,t)}function W5(e,t){return r1(t,e)!==void 0}const Bi={INITIALIZING:0,CONSTRUCTING:1,CONSTRUCTED:2,DESTROYING:3,DESTROYED:4};function n1(e){let t=e.constructor.__accessorMetadata__;const r=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!r){t=Object.create(t);for(const n in t)t[n]=D(t[n]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function i1(e,t){const r=n1(e);let n=r[t];return n||(n=r[t]={}),n}function mfe(e,t){return yx(e,t,vfe)}const gfe=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function vfe(e){return gfe.test(e)?"replace":"merge"}let bfe=class{constructor(t,r){this._observers=t,this._observer=r}remove(){lH(this._observers,this._observer)}},uJ=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return wfe;this._observers==null&&(this._observers=[]);const r=this._observers;let n=!1,i=!1;const s=r.length;for(let o=0;o<s;++o){const a=r[o];if(a.destroyed)i=!0;else if(a===t){n=!0;break}}return n||(r.push(t),i&&this._removeDestroyedObservers()),new bfe(r,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const r=t.length;let n=0;for(let i=0;i<r;++i){for(;i+n<r&&t[i+n].destroyed;)++n;if(n>0){if(!(i+n<r))break;t[i]=t[i+n]}}t.length=r-n}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const r of t)r.onCommitted();this._observers=null}}};const wfe=vr();var Re;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER"})(Re||(Re={}));const qA=Re.USER+1;function $l(e){switch(e){case"defaults":return Re.DEFAULTS;case"service":return Re.SERVICE;case"portal-item":return Re.PORTAL_ITEM;case"web-scene":return Re.WEB_SCENE;case"web-map":return Re.WEB_MAP;case"link-chart":return Re.LINK_CHART;case"user":return Re.USER;default:return null}}function wv(e){switch(e){case Re.DEFAULTS:return"defaults";case Re.SERVICE:return"service";case Re.PORTAL_ITEM:return"portal-item";case Re.WEB_SCENE:return"web-scene";case Re.WEB_MAP:return"web-map";case Re.LINK_CHART:return"link-chart";case Re.USER:return"user"}}function xfe(e){return wv(e)}const ct={Dirty:1,Overridden:2,Computing:4,NonNullable:8,HasDefaultValue:16,DepTrackingInitialized:32,AutoTracked:64,ExplicitlyTracking:128};let N$=class{constructor(t){this.accessed=void 0,this._handles=void 0,this._observer=t}destroy(){this.accessed?.clear(),this.clear()}onAccessed(t){this._observer!=null&&t!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(t))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(t=>{this._handles.push(t.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let t=0;t<this._handles.length;++t)this._handles[t].remove();this._handles.length=0}}};const c_=new N$,g0=[];let xg=c_;function Ae(e){xg.onAccessed(e)}let mx=!1,gx=!1;function vc(e,t,r){if(mx)return YM(e,t,r);let n=null;return cJ(e),n=t.call(r),dJ(),n}function Sfe(e,t){return vc(c_,e,t)}function YM(e,t,r){const n=mx;mx=!0,cJ(e);let i=null;try{i=t.call(r)}catch(s){gx&&ce.getLogger("esri.core.accessorSupport.tracking").error(s)}return dJ(),mx=n,i}function cJ(e){xg=e,g0.push(e)}function dJ(){const e=g0.length;if(e>1){const t=g0.pop();xg=g0[e-2],t.onTrackingEnd()}else if(e===1){const t=g0.pop();xg=c_,t.onTrackingEnd()}else xg=c_}function pJ(e,t){if(t.flags&ct.DepTrackingInitialized)return;t.flags|=ct.DepTrackingInitialized;const r=gx;gx=!1,t.flags&ct.AutoTracked?YM(t.trackingTarget,t.metadata.get,e):fJ(e,t),gx=r}const _fe=[];function fJ(e,t){t.flags&ct.ExplicitlyTracking||(t.flags|=ct.ExplicitlyTracking,YM(t.trackingTarget,()=>{const r=t.metadata.dependsOn||_fe;for(const n of r)if(typeof n!="string"||n.includes(".")){const i=sJ(n);for(let s=0,o=e;s<i.length&&o!=null&&typeof o=="object";++s)o=H5(o,i[s],s!==i.length-1)}else H5(e,n,!1)}),t.flags&=~ct.ExplicitlyTracking)}function H5(e,t,r){const n=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const s=parseInt(n,10);if(!isNaN(s))return Array.isArray(e)?e[s]:e.at(s)}const i=ri(e);if(i){const s=i.propertiesByName.get(n);s&&(Ae(s),pJ(e,s))}return r?e[n]:void 0}let J5=class extends uJ{constructor(t,r){super(),this.propertyName=t,this.metadata=r,this.trackingTarget=new N$(this),this.flags=0,this.flags=ct.Dirty|(r.nonNullable?ct.NonNullable:0)|(r.hasOwnProperty("value")?ct.HasDefaultValue:0)|(r.get===void 0?ct.DepTrackingInitialized:0)|(r.dependsOn===void 0?ct.AutoTracked:0)}destroy(){this.flags&ct.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(t){t.mutable&&Ae(this);const r=t.store,n=this.propertyName,i=this.flags,s=r.get(n);if(i&ct.Computing||~i&ct.Dirty&&r.has(n))return s;this.flags|=ct.Computing;const o=t.host;let a;i&ct.AutoTracked?a=vc(this.trackingTarget,this.metadata.get,o):(fJ(o,this),a=this.metadata.get.call(o)),this.flags|=ct.DepTrackingInitialized,r.set(n,a,Re.COMPUTED);const l=r.get(n);return l===s?this.flags&=~ct.Dirty:Sfe(this.commit,this),this.flags&=~ct.Computing,l}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~ct.Dirty,this.onCommitted()}onInvalidated(){~this.flags&ct.Overridden&&(this.flags|=ct.Dirty);const t=this._observers;if(t&&t.length>0)for(const r of t)r.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const r=t.slice();for(const n of r)n.onCommitted()}}},$fe=class hJ{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new hJ;return this._values.forEach((n,i)=>{t&&t.has(i)||r.set(i,D(n))}),r}get(t){return this._values.get(t)}originOf(){return Re.USER}keys(){return[...this._values.keys()]}set(t,r){this._values.set(t,r)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}isAtOrigin(t,r){return this.has(t)}isBelowOrigin(t,r){return!this.has(t)}forEach(t){this._values.forEach(t)}};function tf(e,t,r){return e!==void 0}function K5(e,t,r,n){return e!==void 0&&(!(r==null&&e.flags&ct.NonNullable)||(n.lifecycle,!1))}let Tfe=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=Bi.INITIALIZING,this.store=new $fe,this.mutable=!0,this._origin=Re.USER;const r=this.host.constructor.__accessorMetadata__;for(const n in r){const i=new J5(n,r[n]);this.propertiesByName.set(n,i)}this.metadata=r}initialize(){this.lifecycle=Bi.CONSTRUCTING}constructed(){this.lifecycle=Bi.CONSTRUCTED}destroy(){this.lifecycle=Bi.DESTROYED,this.propertiesByName.forEach(t=>t.destroy())}get initialized(){return this.lifecycle!==Bi.INITIALIZING}get(t){const r=this.propertiesByName.get(t);if(!tf(r))return;if(r.metadata.get)return r.getComputed(this);this.mutable&&Ae(r);const n=this.store;return n.has(t)?n.get(t):r.metadata.value}originOf(t){const r=this.store.originOf(t);if(r===void 0){const n=this.propertiesByName.get(t);if(n!==void 0&&n.flags&ct.HasDefaultValue)return"defaults"}return wv(r)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const r=this.propertiesByName.get(t);if(tf(r))return this.store.has(t)?this.store.get(t):r.metadata.value}internalSet(t,r){const n=this.propertiesByName.get(t);tf(n)&&this._internalSet(n,r)}getDependsInfo(t,r,n){const i=this.propertiesByName.get(r);if(!tf(i))return"";const s=new N$,o=vc(s,()=>i.metadata.get?.call(t));let a=`${n}${t.declaredClass.split(".").pop()}.${r}: ${o}
`;const l=s.accessed??new Set;if(l.size===0)return a;n+="  ";for(const c of l)c instanceof J5&&(a+=`${n}${c.propertyName}: undefined
`);return a}setAtOrigin(t,r,n){const i=this.propertiesByName.get(t);if(tf(i))return this._setAtOrigin(i,r,n)}isOverridden(t){const r=this.propertiesByName.get(t);return r!==void 0&&!!(r.flags&ct.Overridden)}clearOrigin(t,r){const n=this.store,i=this.propertiesByName.get(t);if(!tf(i))return;const s=n.isAtOrigin(t,r)&&!(i.flags&ct.Overridden);n.delete(t,r),s&&i.notifyChange()}clearOverride(t){const r=this.propertiesByName.get(t);r&&r.flags&ct.Overridden&&(r.flags&=~ct.Overridden,r.notifyChange())}override(t,r){const n=this.propertiesByName.get(t);if(!K5(n,t,r,this))return;const i=n.metadata.cast;if(i){const s=this._cast(i,r),{valid:o,value:a}=s;if(KO.release(s),!o)return;r=a}n.flags|=ct.Overridden,this._internalSet(n,r)}set(t,r){const n=this.propertiesByName.get(t);if(!K5(n,t,r,this))return;const i=n.metadata.cast;if(i){const o=this._cast(i,r),{valid:a,value:l}=o;if(KO.release(o),!a)return;r=l}const s=n.metadata.set;s?s.call(this.host,r):this._internalSet(n,r)}setDefaultOrigin(t){this._origin=$l(t)}getDefaultOrigin(){return wv(this._origin)}notifyChange(t){const r=this.propertiesByName.get(t);r!==void 0&&r.notifyChange()}invalidate(t){const r=this.propertiesByName.get(t);r!==void 0&&r.invalidate()}commit(t){const r=this.propertiesByName.get(t);r!==void 0&&r.commit()}_internalSet(t,r){const n=this.lifecycle!==Bi.INITIALIZING?this._origin:Re.DEFAULTS;this._setAtOrigin(t,r,n)}_setAtOrigin(t,r,n){const i=this.store,s=t.propertyName;if(i.isAtOrigin(s,n)&&PM(r,i.get(s))&&~t.flags&ct.Overridden)return;const o=i.isBelowOrigin(s,n)||i.isAtOrigin(s,n);o&&t.invalidate(),i.set(s,r,n),o&&t.commit(),pJ(this.host,t)}_cast(t,r){const n=KO.acquire();return n.valid=!0,n.value=r,t&&(n.value=t.call(this.host,r,n)),n}},Ofe=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const KO=new C$(Ofe);function d_(e,t,r){if(e&&t)if(typeof t=="object")for(const n of Object.getOwnPropertyNames(t))d_(e,n,t[n]);else{if(t.includes(".")){const i=t.split("."),s=i.splice(-1,1)[0];return void d_(vp(e,i),s,r)}const n=e.__accessor__;n!=null&&Efe(t,n),e[t]=r}}function Efe(e,t){if(q("esri-unknown-property-errors")&&!jfe(e,t))throw new K("set:unknown-property",Afe(e,t))}function jfe(e,t){return t.metadata[e]!=null}function Afe(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}let Ife;function Pfe(){return Ife}var Z5;(function(e){e[e.Ignore=0]="Ignore",e[e.Destroy=1]="Destroy",e[e.ThrowError=2]="ThrowError"})(Z5||(Z5={}));let kfe=class extends C${constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const r=super.acquire(...t);return this._set.delete(r),r}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const ew=[];function p_(e){ew.push(e),ew.length===1&&queueMicrotask(()=>{const t=ew.slice();ew.length=0;for(const r of t)r()})}let yJ=class{constructor(t,r=30){this.name=t,this._counter=0,this._samples=new Array(r)}push(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}set(t){t!=null&&(this._samples[this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,r)=>t-r)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,r)=>t+r,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var GA;(function(e){const t=(s,o,a,l)=>{let c=o,d=o;const p=a>>>1,y=s[c-1];for(;d<=p;){d=c<<1,d<a&&l(s[d-1],s[d])<0&&++d;const m=s[d-1];if(l(m,y)<=0)break;s[c-1]=m,c=d}s[c-1]=y},r=(s,o)=>s<o?-1:s>o?1:0;function n(s,o,a,l){o===void 0&&(o=0),a===void 0&&(a=s.length),l===void 0&&(l=r);for(let d=a>>>1;d>o;d--)t(s,d,a,l);const c=o+1;for(let d=a-1;d>o;d--){const p=s[o];s[o]=s[d],s[d]=p,t(s,c,d,l)}}function*i(s,o,a,l){o===void 0&&(o=0),a===void 0&&(a=s.length),l===void 0&&(l=r);for(let d=a>>>1;d>o;d--)t(s,d,a,l),yield;const c=o+1;for(let d=a-1;d>o;d--){const p=s[o];s[o]=s[d],s[d]=p,t(s,c,d,l),yield}}e.sort=n,e.iterableSort=i})(GA||(GA={}));const Y5=GA,Cfe=1.5,Nfe=1.1;let mJ=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new oH,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>Q5(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const r=new Array;for(let n=0;n<this._length;n++){const i=this.data[n];t(i)&&r.push(i)}return r}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,r){const n=this.data.indexOf(t,r);return n!==-1&&n<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let r=t;r<this._length;++r)this.data[r]=this._deallocator(this.data[r]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,r=t.length){for(let n=0;n<r;n++)this.data[this._length++]=t[n]}fill(t,r){for(let n=0;n<r;n++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,Q5(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const r=CA(this.data,t,this.length,this._hint);if(r!==-1)return this.data.splice(r,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(CA(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,r=t.length,n){this.length=Nde(this.data,t,this.length,r,this._hint,n),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,r){if(t>=this.length||r>=this.length||t===r)return;const n=this.data[t];this.data[t]=this.data[r],this.data[r]=n}sort(t){Y5.sort(this.data,0,this.length,t)}iterableSort(t){return Y5.iterableSort(this.data,0,this.length,t)}some(t,r){for(let n=0;n<this.length;++n)if(t.call(r,this.data[n],n,this.data))return!0;return!1}find(t,r){const{data:n,length:i}=this;for(let s=0;s<i;++s)if(t.call(r,n[s]))return n[s]}filterInPlace(t,r){let n=0;for(let i=0;i<this._length;++i){const s=this.data[i];t.call(r,s,i,this.data)&&(this.data[i]=this.data[n],this.data[n]=s,n++)}if(this._deallocator)for(let i=n;i<this._length;i++)this.data[i]=this._deallocator(this.data[i]);return this._length=n,this._shrink(),this}forAll(t,r){const{data:n,length:i}=this;for(let s=0;s<i;++s)t.call(r,n[s],s,n)}forEach(t,r){this.data.slice(0,this.length).forEach(t,r)}map(t,r){const n=new Array(this.length);for(let i=0;i<this.length;++i)n[i]=t.call(r,this.data[i],i,this.data);return n}reduce(t,r){let n=r;for(let i=0;i<this.length;++i)n=t(n,this.data[i],i,this.data);return n}has(t){const r=this.length,n=this.data;for(let i=0;i<r;++i)if(n[i]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function Q5(e){e.data.length>Cfe*e.length&&(e.data.length=Math.floor(e.length*Nfe))}function IQe(e){return e}function PQe(e){return 1e3*e}function kQe(e){return e}let Mfe=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},X5=0;const Vm={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},WA=["prepare","preRender","render","postRender","update","finish"],HA=[],xv=new mJ;function Rfe(){}const JA={frameTasks:xv,willDispatch:!1,clearFrameTasks:Lfe,dispatch:bJ,executeFrameTasks:Dfe,reschedule:Rfe};function gJ(e){const t=new Mfe(e);return HA.push(t),JA.willDispatch||(JA.willDispatch=!0,p_(bJ)),t}function Lfe(e=!1){xv.forAll(t=>{t.removed=!0}),e&&vJ()}function Dfe(e){const t=e-X5;X5=e;const r=1e3/60,n=Math.max(0,t-r);Vm.time=e,Vm.frameDuration=r-n;for(let i=0;i<WA.length;i++){const s=performance.now(),o=WA[i];xv.forAll(a=>{a.paused||a.removed||(i===0&&a.ticks++,a.phases[o]&&(Vm.elapsedFrameTime=performance.now()-e,Vm.deltaTime=a.ticks===0?0:t,a.phases[o]?.call(a,Vm)))}),zfe[i].push(performance.now()-s)}vJ(),Bfe.push(performance.now()-e)}const tw=new mJ;function vJ(){xv.forAll(e=>{e.removed&&tw.push(e)}),xv.removeUnorderedMany(tw.data,tw.length),tw.clear()}function bJ(){for(;HA.length;){const e=HA.shift();e.isActive&&e.callback()}JA.willDispatch=!1}function Ffe(e=1,t){const r=gc(),n=()=>{Fl(t)?r.reject(gr()):e===0?r():(--e,p_(()=>n()))};return n(),r.promise}function Ufe(e){return Ffe(1,e)}async function NQe(e){await Ufe(e),await new Promise(t=>requestAnimationFrame(()=>{e?.aborted||t()}))}const zfe=WA.map(e=>new yJ(e)),Bfe=new yJ("total");function MQe(e,t){for(const r of e.values())if(t(r))return!0;return!1}function f_(e,t){if(!t)return e;for(const r of t)r!=null&&e.add(r);return e}function eF(e,t){return t!=null&&e.add(t),e}function wJ(e,t){const r=new Set;return f_(r,e),f_(r,t),r}function RQe(e,t){const r=new Set;for(const n of t)e.has(n)&&r.add(n);return r}function LQe(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const r of e)if(!t.has(r))return!1;return!0}function DQe(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function FQe(e,t){const r=new Set(e);for(const n of t)r.delete(n);return r}let Vfe=0;function vx(){return++Vfe}let QM=class extends N${constructor(t){super(new qfe(t)),this._observer&&tF.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&tF.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}},qfe=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=Gfe}};const tF=new FinalizationRegistry(e=>{e.deref()?.destroy()});function Gfe(){}let kh=!1;const h_=[];function xJ(e,t){let r=new QM(s),n=null,i=!1;function s(){if(!r||i)return;if(kh)return void $J(s);const a=n;r.clear(),kh=!0,i=!0,n=vc(r,e),i=!1,kh=!1,t(n,a),TJ()}function o(){r&&(r.destroy(),r=null,n=null)}return i=!0,n=vc(r,e),i=!1,vr(o)}function SJ(e,t){let r=new QM(i),n=null;function i(){t(n,o)}function s(){r&&(r.destroy(),r=null),n=null}function o(){return r?(r.clear(),n=vc(r,e),n):null}return o(),vr(s)}function _J(e,t){let r=!1,n=!1;const i=!!t?.sync;let s=new QM(()=>{r||n||(n=!0,i?o():queueMicrotask(o))});function o(){n=!1,s&&!r&&(kh?$J(o):(s.clear(),kh=!0,r=!0,vc(s,e),r=!1,kh=!1,TJ()))}function a(){s&&(s.destroy(),s=null)}return r=!0,vc(s,e),r=!1,vr(a)}function $J(e){h_.includes(e)||h_.unshift(e)}function TJ(){for(;h_.length;)h_.pop()()}var Sg;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(Sg||(Sg={}));var Gy;let XM=(Gy=class{constructor(){this.uid=vx(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,r,n,i,s){return this.pool.acquire(Sg.Untracked,t,r,n,i,s,PM)}static acquireTracked(t,r,n,i){return this.pool.acquire(Sg.Tracked,t,r,n,null,null,i)}notify(t,r){this.type===Sg.Untracked?this.callback.call(this.target,t,r,this.path,this.target):this.callback.call(null,t,r,void 0,void 0)}acquire(t,r,n,i,s,o,a){this.uid=vx(),this.removed=!1,this.type=t,this.oldValue=r,this.callback=n,this.getValue=i,this.target=s,this.path=o,this.equals=a}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=vx(),this.removed=!0}},Gy.pool=new kfe(Gy),Gy);const bx=new _u,cc=new Set;let y_;function m_(e){cc.delete(e),cc.add(e),y_||(y_=gJ(Jfe))}function Wfe(e){if(e.removed)return;const t=e.oldValue,r=e.getValue();e.equals(t,r)||(e.oldValue=r,e.notify(r,t))}function Hfe(e){for(const t of cc.values())t.target===e&&(t.removed=!0)}function Jfe(){let e=10;for(;y_&&e--;){y_=null;const t=Kfe(),r=bx.acquire();for(const n of t){const i=n.uid;Wfe(n),i===n.uid&&n.removed&&r.push(n)}for(const n of cc)n.removed&&(r.push(n),cc.delete(n));for(const n of r)XM.pool.release(n);bx.release(r),bx.release(t),Zfe.forEach(n=>n())}}function Kfe(){const e=bx.acquire();e.length=cc.size;let t=0;for(const r of cc)e[t]=r,++t;return cc.clear(),e}const Zfe=new Set;function Yfe(e,t,r){let n=oJ(e,t,r,(i,s,o)=>{let a,l,c=SJ(()=>r1(i,s),(d,p)=>{i.__accessor__?.lifecycle===Bi.DESTROYED||a&&a.uid!==l?n.remove():(a||(a=XM.acquireUntracked(d,o,p,i,s),l=a.uid),m_(a))});return vr(()=>{c.remove(),a&&(a.uid!==l||a.removed||(a.removed=!0,m_(a)),a=null),n=c=null})});return n}function Qfe(e,t,r){const n=oJ(e,t,r,(i,s,o)=>{let a=!1;return xJ(()=>r1(i,s),(l,c)=>{i.__accessor__.lifecycle!==Bi.DESTROYED?a||(a=!0,PM(c,l)||o.call(i,l,c,s,i),a=!1):n.remove()})});return n}function Xfe(e,t,r,n=!1){return e.__accessor__&&e.__accessor__.lifecycle!==Bi.DESTROYED?n?Qfe(e,t,r):Yfe(e,t,r):vr()}function ehe(e,t,r){let n,i,s=SJ(e,(o,a)=>{n&&n.uid!==i?s.remove():(n||(n=XM.acquireTracked(o,t,a,r),i=n.uid),m_(n))});return vr(()=>{s.remove(),n&&(n.uid!==i||n.removed||(n.removed=!0,m_(n)),n=null),s=null})}function the(e,t,r){let n=!1;return xJ(e,(i,s)=>{n||(n=!0,r(s,i)||t(i,s),n=!1)})}function rhe(e,t,r=!1,n=Dde){return r?the(e,t,n):ehe(e,t,n)}const rp=()=>ce.getLogger("esri.core.accessorSupport.ensureTypes");function nhe(e){if(e==null)return e;const t=new Date(e);return isNaN(t.getTime())?(rp().error("Accessor#set",`Invalid date value: '${e}', falling back to current date`),new Date):t}function ihe(e){return e==null?e:!!e}function s1(e){return e==null?e:e.toString()}function Jn(e,t=0){return e==null?e:(e=parseFloat(e),isNaN(e)?t:e)}function eR(e){return e==null?e:Math.round(parseFloat(e))}function she(e){return null}function ohe(e,t){return r=>{let n=e(r);return t.step!=null&&(n=Math.round(n/t.step)*t.step),t.min!=null&&(n=Math.max(t.min,n)),t.max!=null&&(n=Math.min(t.max,n)),n}}function OJ(e){return e?.constructor&&e.constructor.__accessorMetadata__!==void 0}function g_(e,t){return t!=null&&e&&!(t instanceof e)}function EJ(e){return e&&"isCollection"in e}function rF(e){return e?.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function ahe(e,t){if(!t?.constructor||!EJ(t.constructor))return KA(e,t)?t:new e(t);const r=rF(e.prototype.itemType),n=rF(t.constructor.prototype.itemType);return r?n?r===n?t:r.prototype.isPrototypeOf(n.prototype)?new e(t):(KA(e,t),t):new e(t):t}function KA(e,t){return!!OJ(t)&&(rp().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+R$(e)+"'"),!0)}function M$(e,t){return t==null?t:EJ(e)?ahe(e,t):g_(e,t)?KA(e,t)?t:new e(t):t}function R$(e){return e?.prototype?.declaredClass||"unknown"}const lhe=new WeakMap;function uhe(e){switch(e){case Number:return t=>Jn(t);case Be:return eR;case Boolean:return ihe;case String:return s1;case Date:return nhe;case nm:return she;default:return j$(lhe,e,()=>M$.bind(null,e))}}function br(e,t){const r=uhe(e);return arguments.length===1?r:r(t)}function Sv(e,t,r){return arguments.length===1?Sv.bind(null,e):t&&(Array.isArray(t)?t.map(n=>e(n,r)):[e(t,r)])}function che(e,t){return arguments.length===1?Sv(r=>br(e,r)):Sv(r=>br(e,r),t)}function jJ(e,t,r){return t!==0&&Array.isArray(r)?r.map(n=>jJ(e,t-1,n)):e(r)}function v_(e,t,r){if(arguments.length===2)return s=>v_(e,t,s);if(!r)return r;r=jJ(e,t,r);let n=t,i=r;for(;n>0&&Array.isArray(i);)n--,i=i[0];if(i!==void 0)for(let s=0;s<n;s++)r=[r];return r}function dhe(e,t,r){return arguments.length===2?v_(n=>br(e,n),t):v_(n=>br(e,n),t,r)}function AJ(e){return!!Array.isArray(e)&&!e.some(t=>{const r=typeof t;return!(r==="string"||r==="number"||r==="function"&&e.length>1)})}function ZA(e,t){if(arguments.length===2)return ZA(e).call(null,t);const r=new Set,n=e.filter(a=>typeof a!="function"),i=e.filter(a=>typeof a=="function");for(const a of e)typeof a!="string"&&typeof a!="number"||r.add(a);let s=null,o=null;return(a,l)=>{if(a==null)return a;const c=typeof a,d=c==="string"||c==="number";return d&&(r.has(a)||i.some(p=>c==="string"&&p===String||c==="number"&&p===Number))||c==="object"&&i.some(p=>!g_(a,p))?a:(d&&n.length?(s||(s=n.map(p=>typeof p=="string"?`'${p}'`:`${p}`).join(", ")),rp().error("Accessor#set",`'${a}' is not a valid value for this property, only the following values are valid: ${s}`)):typeof a=="object"&&i.length?(o||(o=i.map(p=>R$(p)).join(", ")),rp().error("Accessor#set",`'${a}' is not a valid value for this property, value must be one of ${o}`)):rp().error("Accessor#set",`'${a}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function $a(e,t){if(arguments.length===2)return $a(e).call(null,t);const r={},n=[],i=[];for(const l in e.typeMap){const c=e.typeMap[l];r[l]=br(c),n.push(R$(c)),i.push(l)}const s=()=>`'${n.join("', '")}'`,o=()=>`'${i.join("', '")}'`,a=typeof e.key=="string"?l=>l[e.key]:e.key;return l=>{if(e.base&&!g_(e.base,l)||l==null)return l;const c=a(l)||e.defaultKeyValue,d=r[c];if(!d)return rp().error("Accessor#set",`Invalid property value, value needs to be one of ${s()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!g_(e.typeMap[c],l))return l;if(typeof e.key=="string"&&!OJ(l)){const p={};for(const y in l)y!==e.key&&(p[y]=l[y]);return d(p)}return d(l)}}let Be=class{},nm=class{};const qQe={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function phe(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function IJ(e){switch(e.type){case"native":return br(e.value);case"array":return Sv(IJ(e.value));case"one-of":return fhe(e);default:return null}}function fhe(e){let t=null;return(r,n)=>QA(r,e)?r:(t==null&&(t=YA(e)),rp().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),n&&(n.valid=!1),null)}function YA(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case Be:return"integer";case Date:return"date";case nm:return"null";default:return R$(e.value)}case"array":return`array of ${YA(e.value)}`;case"one-of":{const t=e.values.map(r=>YA(r));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function QA(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case Be:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string";case nm:return e===null}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(r=>!QA(r,t.value));case"one-of":return t.values.some(r=>QA(e,r))}}function f(e={}){return(t,r)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${r}. Accessor does not support static properties.`);const n=Object.getOwnPropertyDescriptor(t,r),i=i1(t,r);n&&(n.get||n.set?(i.get=n.get||i.get,i.set=n.set||i.set):"value"in n&&("value"in e&&ce.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${r}" on "${t.constructor.name}" already defined in the metadata`,e),i.value=e.value=n.value)),e.readOnly!=null&&(i.readOnly=e.readOnly);const s=e.aliasOf;if(s){const l=typeof s=="string"?s:s.source,c=typeof s=="string"?null:s.overridable===!0;let d;i.dependsOn=[l],i.get=function(){let p=vp(this,l);if(typeof p=="function"){d||(d=l.split(".").slice(0,-1).join("."));const y=vp(this,d);y&&(p=p.bind(y))}return p},i.readOnly||(i.set=c?function(p){this._override(r,p)}:function(p){d_(this,l,p)})}const o=e.type,a=e.types;if(!i.cast){let l;o?l=hhe(o):a&&(l=Array.isArray(a)?Sv($a(a[0])):$a(a)),e.cast=yhe(e.cast,l)}mfe(i,e),e.range&&(i.cast=ohe(i.cast,e.range))}}function tR(e,t,r){const n=i1(e,r);n.json||(n.json={});let i=n.json;return t!==void 0&&(i.origins||(i.origins={}),i.origins[t]||(i.origins[t]={}),i=i.origins[t]),i}function hhe(e){let t=0,r=e;if(phe(e))return IJ(e);for(;Array.isArray(r)&&r.length===1&&typeof r[0]!="string"&&typeof r[0]!="number";)r=r[0],t++;const n=r;if(AJ(n))return t===0?ZA(n):v_(ZA(n),t);if(t===1)return che(n);if(t>1)return dhe(n,t);const i=e;return i.from?i.from:br(i)}function yhe(e,t){if(e||t)return e?t?(r,n)=>t(e(r,n),n):e:t}function mhe(e){if(e.json&&e.json.origins){const t=e.json.origins,r={"web-document":["web-scene","web-map"]};for(const n in r)if(t[n]){const i=t[n];r[n].forEach(s=>{t[s]=i}),delete t[n]}}}let Ro=class extends xH{constructor(t,r,n){super(t,r,n)}};Ro.prototype.type="warning";function PJ(e){return!!e&&e.prototype?.declaredClass&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const XA=()=>ce.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function nF(e,t,r){e&&(!r&&!t.read||t.read?.reader||t.read?.enabled===!1||bhe(e)&&or("read.reader",im(e),t))}function im(e){const t=e.ndimArray??0;if(t>1)return vhe(e);if(t===1)return iF(e);if("type"in e&&CJ(e.type)){const r=e.type.prototype?.itemType?.Type,n=iF(typeof r=="function"?{type:r}:{types:r});return(i,s,o)=>{const a=n(i,s,o);return a&&new e.type(a)}}return rR(e)}function rR(e){return"type"in e?ghe(e.type):whe(e.types)}function ghe(e){return e.prototype.read?(t,r,n)=>{if(t==null)return t;const i=typeof t;if(i!=="object")return void XA().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${i}'`);const s=new e;return s.read(t,n),s}:e.fromJSON}function kJ(e,t,r,n){return n!==0&&Array.isArray(t)?t.map(i=>kJ(e,i,r,n-1)):e(t,void 0,r)}function vhe(e){const t=rR(e),r=kJ.bind(null,t),n=e.ndimArray??0;return(i,s,o)=>{if(i==null)return i;i=r(i,o,n);let a=n,l=i;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let c=0;c<a;c++)i=[i];return i}}function iF(e){const t=rR(e);return(r,n,i)=>{if(r==null)return r;if(Array.isArray(r)){const o=[];for(const a of r){const l=t(a,void 0,i);l!==void 0&&o.push(l)}return o}const s=t(r,void 0,i);return s!==void 0?[s]:void 0}}function CJ(e){if(!PJ(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?nR(t.Type):NJ(t.Type))}function bhe(e){return"types"in e?NJ(e.types):nR(e.type)}function nR(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||CJ(e))}function NJ(e){for(const t in e.typeMap)if(!nR(e.typeMap[t]))return!1;return!0}function whe(e){let t=null;const r=e.errorContext??"type",n=e.validate;return(i,s,o)=>{if(i==null)return i;const a=typeof i;if(a!=="object")return void XA().error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);t||(t=xhe(e));const l=e.key;if(typeof l!="string")return;const c=i[l],d=c?t[c]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!d){const y=`Type '${c||"unknown"}' is not supported`;return o?.messages&&i&&o.messages.push(new Ro(`${r}:unsupported`,y,{definition:i,context:o})),void XA().error(y)}const p=new d;return p.read(i,o),n?n(p):p}}function xhe(e){const t={};for(const r in e.typeMap){const n=e.typeMap[r],i=n1(n.prototype);if(typeof e.key=="function")continue;const s=i[e.key];if(!s)continue;if(s.json?.type&&Array.isArray(s.json.type)&&s.json.type.length===1&&typeof s.json.type[0]=="string"){t[s.json.type[0]]=n;continue}const o=s.json?.write;if(!o?.writer){t[r]=n;continue}const a=o.target,l=typeof a=="string"?a:e.key,c={};o.writer(r,c,l),c[l]&&(t[c[l]]=n)}return t}function She(e){if(e.json||(e.json={}),oF(e.json),aF(e.json),sF(e.json),e.json.origins)for(const t in e.json.origins)oF(e.json.origins[t]),aF(e.json.origins[t]),sF(e.json.origins[t]);return!0}function sF(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function oF(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function aF(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function lF(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const r=e?.ndimArray??0;e&&(r===1||"type"in e&&PJ(e.type))?t.write.writer=The:r>1?t.write.writer=Ohe(r):t.types?Array.isArray(t.types)?t.write.writer=$he(t.types[0]):t.write.writer=_he(t.types):t.write.writer=_v}function _he(e){return(t,r,n,i)=>t?MJ(t,e,i)?_v(t,r,n,i):void 0:_v(t,r,n,i)}function MJ(e,t,r){for(const n in t.typeMap)if(e instanceof t.typeMap[n])return!0;if(r?.messages){const n=t.errorContext??"type",i=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;r&&r.messages&&e&&r.messages.push(new K(`${n}:unsupported`,i,{definition:e,context:r})),ce.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(i)}return!1}function $he(e){return(t,r,n,i)=>!t||!Array.isArray(t)?_v(t,r,n,i):_v(t.filter(s=>MJ(s,e,i)),r,n,i)}function _v(e,t,r,n){or(r,b_(e,n),t)}function b_(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?w_(e):e}function w_(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function The(e,t,r,n){let i;e===null?i=null:e&&typeof e.map=="function"?(i=e.map(s=>b_(s,n)),typeof i.toArray=="function"&&(i=i.toArray())):i=[b_(e,n)],or(r,i,t)}function RJ(e,t,r){return r!==0&&Array.isArray(e)?e.map(n=>RJ(n,t,r-1)):b_(e,t)}function Ohe(e){return(t,r,n,i)=>{let s;if(t===null)s=null;else{s=RJ(t,i,e);let o=e,a=s;for(;o>0&&Array.isArray(a);)o--,a=a[0];if(a!==void 0)for(let l=0;l<o;l++)s=[s]}or(n,s,r)}}function Ehe(e,t){return iR(e,"any",t?.origin)}function eI(e,t){return iR(e,"read",t?.origin)}function LJ(e,t){return iR(e,"write",t?.origin)}function iR(e,t,r){let n=e?.json;if(n?.origins&&r){let i;i=r==="link-chart"?n.origins[r]&&(t==="any"||t in n.origins[r])?n.origins[r]:n.origins["web-map"]:n.origins[r],i&&(t==="any"||t in i)&&(n=i)}return n}function jhe(e){const t=Ahe(e);if(e.json.origins)for(const r in e.json.origins){const n=e.json.origins[r],i=n.types?Ihe(n):t;nF(i,n,!1),n.types&&!n.write&&e.json.write?.enabled&&(n.write={...e.json.write}),lF(i,n)}nF(t,e.json,!0),lF(t,e.json)}function Ahe(e){return e.json.types?tI(e.json):e.type?DJ(e):tI(e)}function Ihe(e){return e.type?DJ(e):tI(e)}function DJ(e){if(!e.type)return;let t=0,r=e.type;for(;Array.isArray(r)&&!AJ(r);)r=r[0],t++;return{type:r,ndimArray:t}}function tI(e){if(!e.types)return;let t=0,r=e.types;for(;Array.isArray(r);)r=r[0],t++;return{types:r,ndimArray:t}}function Phe(e){She(e)&&(mhe(e),jhe(e))}const ZO=new Set,YO=new Set;function A(e){return t=>{e??(e="esri.core.Accessor"),t.prototype.declaredClass=e,Che(t);const r=[],n=[];let i=t.prototype;for(;i;)i.hasOwnProperty("initialize")&&!ZO.has(i.initialize)&&(ZO.add(i.initialize),r.push(i.initialize)),i.hasOwnProperty("destroy")&&!YO.has(i.destroy)&&(YO.add(i.destroy),n.push(i.destroy)),i=Object.getPrototypeOf(i);ZO.clear(),YO.clear();const s=class extends t{constructor(...a){if(super(...a),this.constructor===s&&typeof this.postscript=="function"){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=r.length-1;l>=0;l--)r[l].call(this)}}),n.length){let l=!1;const c=this[iJ];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){this.__accessor__.lifecycle=Bi.DESTROYING,l=!0,c.call(this);for(let d=0;d<n.length;d++)n[d].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};s.__accessorMetadata__=n1(t.prototype),s.prototype.declaredClass=e;const o=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(s,"name",{value:o,configurable:!0}),s}}function khe(e,t){return t.get==null?function(){const r=this.__accessor__,n=r.propertiesByName.get(e);if(n===void 0)return;r.mutable&&Ae(n);const i=r.store;return i.has(e)?i.get(e):n.metadata.value}:function(){const r=this.__accessor__,n=r.propertiesByName.get(e);if(n!==void 0)return n.getComputed(r)}}function Che(e){const t=e.prototype,r=n1(t),n={};for(const i of Object.getOwnPropertyNames(r)){const s=r[i];Phe(s),n[i]={enumerable:!0,configurable:!0,get:khe(i,s),set(o){const a=this.__accessor__;if(a!==void 0){if(a.mutable)return a.initialized&&s.readOnly?uF("read-only",i):a.lifecycle===Bi.CONSTRUCTED&&s.constructOnly?uF("construct-only",i):void a.set(i,o)}else Object.defineProperty(this,i,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(e.prototype,n)}const uF=(e,t)=>{ce.getLogger("esri.core.Accessor").error(`cannot assign to ${e} property '${t}'`)};var cF,dF;function Nhe(e){if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor?.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const Vo=Symbol("Accessor-Handles"),QO=Symbol("Accessor-Initialized");var lp;let ft=(lp=class{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:r,declaredClass:n,constructor:i}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const s=this;class o extends s{constructor(...l){super(...l),this.inherited=null,i&&i.apply(this,l)}}n1(o.prototype);for(const a in t){const l=t[a];o.prototype[a]=typeof l=="function"?function(...c){const d=this.inherited;let p;this.inherited=function(...y){if(s.prototype[a])return s.prototype[a].apply(this,y)};try{p=l.apply(this,c)}catch(y){throw this.inherited=d,y}return this.inherited=d,p}:t[a]}for(const a in r){const l=Nhe(r[a]);f(l)(o.prototype,a)}return A(n)(o)}static freeze(t){return t instanceof lp?t.__accessor__.mutable=!1:Object.freeze(t),t}static isFrozen(t){return t instanceof lp?!t.__accessor__.mutable:Object.isFrozen(t)}constructor(...t){if(this[cF]=null,this[dF]=!1,this.constructor===lp)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const r=new Tfe(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:r}),t.length>0&&(r.ctorArgs=this.normalizeCtorArgs?.apply(this,t)??t[0])}postscript(){const t=this.__accessor__,r=t.ctorArgs;t.initialize(),r&&(this.set(r),t.ctorArgs=null),t.constructed(),this.initialize(),this[QO]=!0}initialize(){}[iJ](){this[Vo]=As(this[Vo])}destroy(){this.destroyed||(Hfe(this),this.__accessor__.destroy(),Pfe()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[QO]}get destroyed(){return this.__accessor__?.lifecycle===Bi.DESTROYED||!1}get destroying(){return this.__accessor__?.lifecycle===Bi.DESTROYING||!1}commitProperty(t){vp(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,r){return d_(this,t,r),this}watch(t,r,n){return nJ(ce.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://arcg.is/1vaqf42#watch",warnOnce:!0}),Xfe(this,t,r,n)}addHandles(t,r){if(this.destroyed){const n=Array.isArray(t)?t:[t];for(const i of n)i.remove();return}(this[Vo]??(this[Vo]=new ZM)).add(t,r)}removeHandles(t){this[Vo]?.remove(t)}removeAllHandles(){this[Vo]?.removeAll()}removeHandlesReference(t){this[Vo]?.removeReference(t)}hasHandles(t){return this[Vo]?.has(t)===!0}_override(t,r){r===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,r){r==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,r){return this.__accessor__.internalSet(t,r),this}},cF=Vo,dF=QO,lp),wx=class FJ{constructor(){this._emitter=new FJ.EventEmitter(this)}emit(t,r){return this._emitter.emit(t,r)}on(t,r){return this._emitter.on(t,r)}once(t,r){return this._emitter.once(t,r)}hasEventListener(t){return this._emitter.hasEventListener(t)}};(function(e){class t{constructor(i=null){this._target=i,this._listenersMap=null}clear(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clear()}emit(i,s){let o=this._listenersMap?.get(i);if(!o)return!1;const a=this._target||this;let l=!1;for(const c of o.slice()){const d="deref"in c?c.deref():c;d?d?.call(a,s):l=!0}return l&&(o=o.filter(c=>!("deref"in c)||c.deref()!=null),this._listenersMap.set(i,o)),o.length>0}on(i,s){if(Array.isArray(i)){const a=i.map(l=>this.on(l,s));return A$(a)}if(i.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??(this._listenersMap=new Map);const o=this._listenersMap.get(i)||[];return o.push(s),this._listenersMap.set(i,o),vr(()=>{const a=this._listenersMap?.get(i),l=a?.indexOf(s)??-1;l>=0&&a.splice(l,1)})}once(i,s){const o=this.on(i,a=>{o.remove(),("deref"in s?s.deref():s)?.call(null,a)});return o}hasEventListener(i){const s=this._listenersMap?.get(i);return s!=null&&s.length>0}}e.EventEmitter=t,e.EventedMixin=n=>{let i=class extends n{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(s,o){return this._emitter.emit(s,o)}on(s,o){return this._emitter.on(s,o)}once(s,o){return this._emitter.once(s,o)}hasEventListener(s){return this._emitter.hasEventListener(s)}};return i=u([A("esri.core.Evented")],i),i};let r=class extends ft{constructor(){super(...arguments),this._emitter=new wx.EventEmitter(this)}destroy(){this._emitter.clear()}emit(n,i){return this._emitter.emit(n,i)}on(n,i){return this._emitter.on(n,i)}once(n,i){return this._emitter.once(n,i)}hasEventListener(n){return this._emitter.hasEventListener(n)}};r=u([A("esri.core.Evented.EventedAccessor")],r),e.EventedAccessor=r})(wx||(wx={}));const L$=wx;var rt;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(rt||(rt={}));function UJ(e){return(t,r)=>{t[r]=e}}let sR=class extends uJ{notify(){const t=this._observers;if(t&&t.length>0){const r=t.slice();for(const n of r)n.onInvalidated(),n.onCommitted()}}};var La;let Mhe=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}},Rhe=class{constructor(t,r,n,i,s){this.target=t,this.added=r,this.removed=n,this.start=i,this.deleteCount=s}};const ns=new C$(Mhe,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1});function pF(e){e&&typeof e=="object"&&"destroy"in e&&typeof e.destroy=="function"&&e.destroy()}function XO(e){return e?e instanceof $u?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function eE(e){if(e?.length)return e[0]}function Lhe(e,t,r,n){const i=Math.min(e.length-r,t.length-n);let s=0;for(;s<i&&e[r+s]===t[n+s];)s++;return s}function zJ(e,t,r,n){t&&t.forEach((i,s,o)=>{e.push(i),zJ(e,r.call(n,i,s,o),r,n)})}const tu=new Set,ru=new Set,nu=new Set,tE=new Map;let Dhe=0;var Wy;let $u=(Wy=class extends L$.EventedAccessor{static isCollection(t){return t!=null&&t instanceof La}constructor(t){super(t),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new sR,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:Dhe++})}normalizeCtorArgs(t){return t?Array.isArray(t)||t instanceof La?{items:t}:t:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return Ae(this._observable),this._items}set items(t){this._emitBeforeChanges(rt.ADD)||(this._splice(0,this.length,XO(t)),this._emitAfterChanges(rt.ADD))}hasEventListener(t){return!this.destroyed&&(t==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(t))}on(t,r){if(this.destroyed)return vr();if(t==="change"){const n=this._chgListeners,i={removed:!1,callback:r};return n.push(i),this._notifications&&this._notifications.push({listeners:n.slice(),items:this._items.slice(),changes:[]}),vr(()=>{i.removed=!0,n.splice(n.indexOf(i),1)})}return this._emitter.on(t,r)}once(t,r){const n="deref"in r?()=>r.deref():()=>r,i=this.on(t,s=>{n()?.call(null,s),i.remove()});return i}add(t,r){if(Ae(this._observable),this._emitBeforeChanges(rt.ADD))return this;const n=this.getNextIndex(r??null);return this._splice(n,0,[t]),this._emitAfterChanges(rt.ADD),this}addMany(t,r=this._items.length){if(Ae(this._observable),!t?.length)return this;if(this._emitBeforeChanges(rt.ADD))return this;const n=this.getNextIndex(r);return this._splice(n,0,XO(t)),this._emitAfterChanges(rt.ADD),this}at(t){if(Ae(this._observable),(t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length))return this._items[t]}removeAll(){if(Ae(this._observable),!this.length||this._emitBeforeChanges(rt.REMOVE))return[];const t=this._removeAllRaw();return this._emitAfterChanges(rt.REMOVE),t}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return Ae(this._observable),this._createNewInstance({items:this._items.map(D)})}concat(...t){Ae(this._observable);const r=t.map(XO);return this._createNewInstance({items:this._items.concat(...r)})}drain(t,r){if(Ae(this._observable),!this.length||this._emitBeforeChanges(rt.REMOVE))return;const n=this._splice(0,this.length),i=n.length;for(let s=0;s<i;s++)t.call(r,n[s],s,n);this._emitAfterChanges(rt.REMOVE)}destroyAll(){this.drain(pF)}destroyMany(t){const r=this.removeMany(t);return r.forEach(pF),r}every(t,r){return Ae(this._observable),this._items.every(t,r)}filter(t,r){Ae(this._observable);const n=arguments.length===2?this._items.filter(t,r):this._items.filter(t);return this._createNewInstance({items:n})}find(t,r){return Ae(this._observable),this._items.find(t,r)}findIndex(t,r){return Ae(this._observable),this._items.findIndex(t,r)}flatten(t,r){Ae(this._observable);const n=[];return zJ(n,this,t,r),new La(n)}forEach(t,r){return Ae(this._observable),this._items.forEach(t,r)}getItemAt(t){return Ae(this._observable),this._items[t]}getNextIndex(t){Ae(this._observable);const r=this.length;return(t=t??r)<0?t=0:t>r&&(t=r),t}includes(t,r=0){return Ae(this._observable),this._items.includes(t,r)}indexOf(t,r=0){return Ae(this._observable),this._items.indexOf(t,r)}join(t=","){return Ae(this._observable),this._items.join(t)}lastIndexOf(t,r=this.length-1){return Ae(this._observable),this._items.lastIndexOf(t,r)}map(t,r){Ae(this._observable);const n=this._items.map(t,r);return new La({items:n})}reorder(t,r=this.length-1){Ae(this._observable);const n=this.indexOf(t);if(n!==-1){if(r<0?r=0:r>=this.length&&(r=this.length-1),n!==r){if(this._emitBeforeChanges(rt.MOVE))return t;this._splice(n,1),this._splice(r,0,[t]),this._emitAfterChanges(rt.MOVE)}return t}}pop(){if(Ae(this._observable),!this.length||this._emitBeforeChanges(rt.REMOVE))return;const t=eE(this._splice(this.length-1,1));return this._emitAfterChanges(rt.REMOVE),t}push(...t){return Ae(this._observable),this._emitBeforeChanges(rt.ADD)||(this._splice(this.length,0,t),this._emitAfterChanges(rt.ADD)),this.length}reduce(t,r){Ae(this._observable);const n=this._items;return arguments.length===2?n.reduce(t,r):n.reduce(t)}reduceRight(t,r){Ae(this._observable);const n=this._items;return arguments.length===2?n.reduceRight(t,r):n.reduceRight(t)}remove(t){return Ae(this._observable),this.removeAt(this.indexOf(t))}removeAt(t){if(Ae(this._observable),t<0||t>=this.length||this._emitBeforeChanges(rt.REMOVE))return;const r=eE(this._splice(t,1));return this._emitAfterChanges(rt.REMOVE),r}removeMany(t){if(Ae(this._observable),!t?.length||this._emitBeforeChanges(rt.REMOVE))return[];const r=t instanceof La?t.toArray():t,n=this._items,i=[],s=r.length;for(let o=0;o<s;o++){const a=r[o],l=n.indexOf(a);if(l>-1){const c=1+Lhe(r,n,o+1,l+1),d=this._splice(l,c);d&&d.length>0&&i.push.apply(i,d),o+=c-1}}return this._emitAfterChanges(rt.REMOVE),i}reverse(){if(Ae(this._observable),this._emitBeforeChanges(rt.MOVE))return this;const t=this._splice(0,this.length);return t&&(t.reverse(),this._splice(0,0,t)),this._emitAfterChanges(rt.MOVE),this}shift(){if(Ae(this._observable),!this.length||this._emitBeforeChanges(rt.REMOVE))return;const t=eE(this._splice(0,1));return this._emitAfterChanges(rt.REMOVE),t}slice(t=0,r=this.length){return Ae(this._observable),this._createNewInstance({items:this._items.slice(t,r)})}some(t,r){return Ae(this._observable),this._items.some(t,r)}sort(t){if(Ae(this._observable),!this.length||this._emitBeforeChanges(rt.MOVE)||!this._requiresSort(t))return this;const r=this._splice(0,this.length);return arguments.length?r.sort(t):r.sort(),this._splice(0,0,r),this._emitAfterChanges(rt.MOVE),this}_requiresSort(t=(r,n)=>r===n?0:r<n?-1:1){const r=this.length-1;for(let n=0;n<r;n++)if(t(this.items[n],this.items[n+1])>0)return!0;return!1}splice(t,r,...n){Ae(this._observable),arguments.length===1&&(r=this.length),r??(r=0);const i=(r?rt.REMOVE:0)|(n.length?rt.ADD:0);if(this._emitBeforeChanges(i))return[];const s=this._splice(t,r,n)||[];return this._emitAfterChanges(i),s}toArray(){return Ae(this._observable),this._items.slice()}toJSON(t){return Ae(this._observable),this.toArray().map(r=>vv(r)?r.toJSON(t):r)}toLocaleString(){return Ae(this._observable),this._items.toLocaleString()}toString(){return Ae(this._observable),this._items.toString()}unshift(...t){return Ae(this._observable),!t.length||this._emitBeforeChanges(rt.ADD)||(this._splice(0,0,t),this._emitAfterChanges(rt.ADD)),this.length}_createNewInstance(t){return new this.constructor(t)}_splice(t,r,n){const i=this._items,s=this.itemType;let o,a;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=gJ(()=>this._dispatchChange())),t<0&&(t+=this.length),r){if(a=i.splice(t,r),this.hasEventListener("before-remove")){const l=ns.acquire();l.target=this,l.cancellable=!0;for(let c=0,d=a.length;c<d;c++)o=a[c],l.reset(o),this.emit("before-remove",l),l.defaultPrevented&&(a.splice(c,1),i.splice(t,0,o),t+=1,c-=1,d-=1);ns.release(l)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const l=ns.acquire();l.target=this,l.cancellable=!1;const c=a.length;for(let d=0;d<c;d++)l.reset(a[d]),this.emit("after-remove",l);ns.release(l)}}if(n?.length){if(s){const p=[];for(const y of n){const m=s.ensureType(y);m==null&&y!=null||p.push(m)}n=p}const l=this.hasEventListener("before-add"),c=this.hasEventListener("after-add"),d=t===this.length;if(l||c){const p=ns.acquire();p.target=this,p.cancellable=!0;const y=ns.acquire();y.target=this,y.cancellable=!1;for(const m of n)l?(p.reset(m),this.emit("before-add",p),p.defaultPrevented||(d?i.push(m):i.splice(t++,0,m),this._set("length",i.length),c&&(y.reset(m),this.emit("after-add",y)))):(d?i.push(m):i.splice(t++,0,m),this._set("length",i.length),y.reset(m),this.emit("after-add",y));ns.release(y),ns.release(p)}else{if(d)for(const p of n)i.push(p);else i.splice(t,0,...n);this._set("length",i.length)}}if((n?.length||a?.length)&&this._notifyChangeEvent(n,a),this.hasEventListener("after-splice")){const l=new Rhe(this,n,a,t,r);this.emit("after-splice",l)}return a}_emitBeforeChanges(t){let r=!1;if(this.hasEventListener("before-changes")){const n=ns.acquire();n.target=this,n.cancellable=!0,n.type=t,this.emit("before-changes",n),r=n.defaultPrevented,ns.release(n)}return r}_emitAfterChanges(t){if(this.hasEventListener("after-changes")){const r=ns.acquire();r.target=this,r.cancellable=!1,r.type=t,this.emit("after-changes",r),ns.release(r)}this._observable.notify()}_notifyChangeEvent(t,r){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:t,removed:r})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const t=this._notifications;this._notifications=null;for(const r of t){const n=r.changes;tu.clear(),ru.clear(),nu.clear();for(const{added:c,removed:d}of n){if(c)if(nu.size===0&&ru.size===0)for(const p of c)tu.add(p);else for(const p of c)ru.has(p)?(nu.add(p),ru.delete(p)):nu.has(p)||tu.add(p);if(d)if(nu.size===0&&tu.size===0)for(const p of d)ru.add(p);else for(const p of d)tu.has(p)?tu.delete(p):(nu.delete(p),ru.add(p))}const i=_u.acquire();tu.forEach(c=>{i.push(c)});const s=_u.acquire();ru.forEach(c=>{s.push(c)});const o=this._items,a=r.items,l=_u.acquire();if(nu.forEach(c=>{a.indexOf(c)!==o.indexOf(c)&&l.push(c)}),r.listeners&&(i.length||s.length||l.length)){const c={target:this,added:i,removed:s,moved:l},d=r.listeners.length;for(let p=0;p<d;p++){const y=r.listeners[p];y.removed||y.callback.call(this,c)}}_u.release(i),_u.release(s),_u.release(l)}tu.clear(),ru.clear(),nu.clear()}},La=Wy,Wy.ofType=t=>{if(!t)return La;if(tE.has(t))return tE.get(t);let r=null;if(typeof t=="function")r=t.prototype.declaredClass;else if(t.base)r=t.base.prototype.declaredClass;else for(const i in t.typeMap){const s=t.typeMap[i].prototype.declaredClass;r?r+=` | ${s}`:r=s}let n=class extends La{};return u([UJ({Type:t,ensureType:typeof t=="function"?br(t):$a(t)})],n.prototype,"itemType",void 0),n=u([A(`esri.core.Collection<${r}>`)],n),tE.set(t,n),n},Wy);u([f()],$u.prototype,"_updating",void 0),u([f()],$u.prototype,"length",void 0),u([f()],$u.prototype,"items",null),u([f({readOnly:!0})],$u.prototype,"updating",null),$u=La=u([A("esri.core.Collection")],$u);const Te=$u;function ly(e,t,r=Te){return t||(t=new r),t===e||(t.removeAll(),Uhe(e)?t.addMany(e):e&&t.add(e)),t}function Fhe(e){return e}function Uhe(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}let zhe=class BJ{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new BJ;return this._values.forEach((n,i)=>{t&&t.has(i)||r.set(i,D(n.value),n.origin)}),r}get(t,r){r=this._normalizeOrigin(r);const n=this._values.get(t);return r==null||n?.origin===r?n?.value:void 0}originOf(t){return this._values.get(t)?.origin??Re.USER}keys(t){t=this._normalizeOrigin(t);const r=[...this._values.keys()];return t==null?r:r.filter(n=>this._values.get(n)?.origin===t)}set(t,r,n){if((n=this._normalizeOrigin(n))===Re.DEFAULTS){const i=this._values.get(t);if(i?.origin!=null&&i.origin>n)return}this._values.set(t,new Bhe(r,n))}delete(t,r){(r=this._normalizeOrigin(r))!=null&&this._values.get(t)?.origin!==r||this._values.delete(t)}has(t,r){return(r=this._normalizeOrigin(r))!=null?this._values.get(t)?.origin===r:this._values.has(t)}isAtOrigin(t,r){return r=this._normalizeOrigin(r),this.has(t,r)&&this.originOf(t)===r}isBelowOrigin(t,r){return r=this._normalizeOrigin(r),!this.has(t)||this.originOf(t)<r}forEach(t){this._values.forEach(({value:r},n)=>t(r,n))}_normalizeOrigin(t){if(t!=null)return t===Re.DEFAULTS?t:Re.USER}},Bhe=class{constructor(t,r){this.value=t,this.origin=r}};function VJ(e,t,r){t.keys().forEach(i=>{r.set(i,t.get(i),Re.DEFAULTS)});const n=e.metadata;Object.keys(n).forEach(i=>{e.internalGet(i)&&r.set(i,e.internalGet(i),Re.DEFAULTS)})}function Vhe(e,t,r){if(!e?.read||e.read.enabled===!1||!e.read.source)return!1;const n=e.read.source;if(typeof n=="string"){if(n===t||n.includes(".")&&n.indexOf(t)===0&&W5(n,r))return!0}else for(const i of n)if(i===t||i.includes(".")&&i.indexOf(t)===0&&W5(i,r))return!0;return!1}function qhe(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function Ghe(e,t,r,n,i){let s=eI(t[r],i);qhe(s)&&(e[r]=!0);for(const o of Object.getOwnPropertyNames(t))s=eI(t[o],i),Vhe(s,r,n)&&(e[o]=!0)}function Whe(e,t,r,n){const i=r.metadata,s=Ehe(i[t],n),o=s?.default;if(o===void 0)return;const a=typeof o=="function"?o.call(e,t,n):o;a!==void 0&&r.set(t,a)}const qJ={origin:"service"};function GJ(e,t,r=qJ){if(!t||typeof t!="object")return;const n=ri(e),i=n.metadata,s={};for(const o of Object.getOwnPropertyNames(t))Ghe(s,i,o,t,r);n.setDefaultOrigin(r.origin);for(const o of Object.getOwnPropertyNames(s)){const a=eI(i[o],r).read,l=a?.source;let c;c=l&&typeof l=="string"?r1(t,l):t[o],a?.reader&&(c=a.reader.call(e,c,t,r)),c!==void 0&&n.set(o,c)}if(!r||!r.ignoreDefaults){n.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(i))s[o]||Whe(e,o,n,r)}n.setDefaultOrigin("user")}function WJ(e,t,r,n=qJ){const i={...n,messages:[]};r(i),i.messages?.forEach(s=>{s.type!=="warning"||e.loaded?n?.messages&&n.messages.push(s):e.loadWarnings.push(s)})}function Hhe(e,t,r,n,i){const s={};return t.write?.writer?.call(e,n,s,r,i),s}function HJ(e,t,r,n,i,s){if(!n?.write)return!1;const o=vp(e,r);if(!i&&n.write.overridePolicy){const a=n.write.overridePolicy.call(e,o,r,s??void 0);a!==void 0&&(i=a)}if(i||(i=n.write),!i||i.enabled===!1||i.layerContainerTypes&&s?.layerContainerType&&!i.layerContainerTypes.includes(s.layerContainerType))return!1;if((o===null&&!i.allowNull&&!i.writerEnsuresNonNull||o===void 0)&&i.isRequired){const a=new K("web-document-write:property-required",`Missing value for required property '${r}' on '${e.declaredClass}'`,{propertyName:r,target:e});return a&&s?.messages?s.messages.push(a):a&&!s&&ce.getLogger("esri.core.accessorSupport.write").error(a.name,a.message),!1}return!(o===void 0||o===null&&!i.allowNull&&!i.writerEnsuresNonNull||!i.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(r)===Re.DEFAULTS)&&Jhe(e,r,s,n,o)||!i.ignoreOrigin&&s?.origin&&t.store.multipleOriginsSupported&&t.store.originOf(r)<$l(s.origin))}function Jhe(e,t,r,n,i){const s=n.default;if(s===void 0)return!1;if(n.defaultEquals!=null)return n.defaultEquals(i);if(typeof s=="function"){if(Array.isArray(i)){const o=s.call(e,t,r??void 0);return _$(o,i)}return!1}return s===i}function Khe(e,t,r,n){const i=ri(e),s=i.metadata,o=LJ(s[t],n);return!!o&&HJ(e,i,t,o,r,n)}function JJ(e,t,r){if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return yx(t,e.toJSON(r));const n=ri(e),i=n.metadata;for(const s in i){const o=LJ(i[s],r);if(!HJ(e,n,s,o,void 0,r))continue;const a=vp(e,s),l=Hhe(e,o,o.write&&typeof o.write.target=="string"?o.write.target:s,a,r);Object.keys(l).length>0&&(t=yx(t,l),r?.resources?.pendingOperations?.length&&r.resources.pendingOperations.push(Promise.all(r.resources.pendingOperations).then(()=>yx(t,l,()=>"replace-arrays"))),r?.writtenProperties&&r.writtenProperties.push({target:e,propName:s,oldOrigin:xfe(n.store.originOf(s)),newOrigin:r.origin}))}return t}const KJ=e=>{let t=class extends e{constructor(...r){super(...r);const n=ri(this),i=n.store,s=new zhe;n.store=s,VJ(n,i,s)}read(r,n){GJ(this,r,n)}write(r,n){return JJ(this,r??{},n)}toJSON(r){return this.write({},r)}static fromJSON(r,n){return Zhe.call(this,r,n)}};return t=u([A("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function Zhe(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const r=new this;return r.read(e,t),r}let v0=class extends KJ(ft){};v0=u([A("esri.core.JSONSupport")],v0),function(e){e.JSONSupportMixin=KJ}(v0||(v0={}));const z=v0;var Tu;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(Tu||(Tu={}));let Yhe=class{constructor(){this._resolver=gc(),this._status=Tu.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=Tu.RESOLVED,this._cleanUp()},()=>{this._status=Tu.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===Tu.RESOLVED}isRejected(){return this._status===Tu.REJECTED}isFulfilled(){return this._status!==Tu.PENDING}abort(){this._resolver.reject(gr())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=gc(),r=[...this._resolvingPromises,t.promise],n=this._allPromise=Promise.all(r);n.then(()=>{this.isFulfilled()||this._allPromise!==n||this._resolver.resolve()},i=>{this.isFulfilled()||this._allPromise!==n||Ls(i)||this._resolver.reject(i)}),t.resolve()}};const ZJ=e=>{let t=class extends e{constructor(...r){super(...r),this._promiseProps=new Yhe,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(r,n){return this._promiseProps.promise.then(()=>this).then(r,n)}catch(r){return this.when(null,r)}addResolvingPromise(r){r&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in r?r.when():r)}};return t=u([A("esri.core.Promise")],t),t};let zd=class extends ZJ(ft){};zd=u([A("esri.core.Promise")],zd),function(e){e.EsriPromiseMixin=ZJ}(zd||(zd={}));const Qhe="not-loaded",Xhe="loading",eye="failed",fF="loaded",YJ=e=>{let t=class extends e{constructor(...r){super(...r),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(n=>{const i=this.load.bind(this);this.load=s=>{const o=new Promise((a,l)=>{const c=GH(s,l);this.destroyed&&l(new K("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(a,l).finally(()=>{c&&c.remove()})});if(this.loadStatus===Qhe){this._set("loadStatus",Xhe);const a=this._loadController=new AbortController;i({signal:a.signal})}return n(),o}})),this.when(()=>{this._set("loadStatus",fF),this._loadController=null},n=>{this._set("loadStatus",eye),this._set("loadError",n),this._loadController=null})}destroy(){this._loadController&&(this._loadController=qH(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===fF}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new K("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return u([f({readOnly:!0})],t.prototype,"loaded",null),u([f({readOnly:!0})],t.prototype,"loadError",void 0),u([f({clonable:!1})],t.prototype,"loadStatus",void 0),u([f({type:[Ro],readOnly:!0})],t.prototype,"loadWarnings",null),t=u([A("esri.core.Loadable")],t),t};let xi=class extends YJ(zd){};xi=u([A("esri.core.Loadable")],xi),function(e){function t(r){return!(!r||!r.load)}e.LoadableMixin=YJ,e.isLoadable=t}(xi||(xi={}));function eXe(e,t,r){return qM(e.map((n,i)=>t.apply(r,[n,i])))}async function tye(e,t,r){return(await qM(e.map((n,i)=>t.apply(r,[n,i])))).map(n=>n.value)}function oR(e){return{ok:!0,value:e}}function aR(e){return{ok:!1,error:e}}function rye(e){return e!=null&&e.ok===!0?e.value:null}function nye(e){return e!=null&&e.ok===!1?e.error:null}async function lR(e){if(e==null)return{ok:!1,error:new Error("no promise provided")};try{return oR(await e)}catch(t){return aR(t)}}async function iye(e){try{return oR(await e)}catch(t){return ca(t),aR(t)}}function sye(e,t){return new du(e,t)}let du=class extends ft{get value(){return rye(this._result)}get error(){return nye(this._result)}get finished(){return this._result!=null}constructor(t,r){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=qH(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:n}=this._abortController;this.promise=t(n),this.promise.then(i=>{this._result=oR(i),this._cleanup()},i=>{this._result=aR(i),this._cleanup()}),this._abortHandle=yp(r,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=Ao(this._abortHandle),this._abortController=null}};u([f()],du.prototype,"value",null),u([f()],du.prototype,"error",null),u([f()],du.prototype,"finished",null),u([f()],du.prototype,"promise",void 0),u([f()],du.prototype,"_result",void 0),du=u([A("esri.core.asyncUtils.ReactiveTask")],du);async function D$(e,t){return await e.load(),oye(e,t)}async function oye(e,t){const r=[],n=(...s)=>{for(const o of s)o!=null&&(Array.isArray(o)?n(...o):Te.isCollection(o)?o.forEach(a=>n(a)):xi.isLoadable(o)&&r.push(o))};t(n);let i=null;if(await tye(r,async s=>{const o=await lR(aye(s)?s.loadAll():s.load());o.ok!==!1||i||(i=o)}),i)throw i.error;return e}function aye(e){return"loadAll"in e&&typeof e.loadAll=="function"}function re(e,t,r){let n,i;return t===void 0?(i=e,n=[void 0]):typeof t!="string"?(i=e,n=[void 0],r=t):(i=t,n=Array.isArray(e)?e:[e]),(s,o)=>{const a=s.constructor.prototype;for(const l of n){const c=tR(s,l,i);c.write&&typeof c.write=="object"||(c.write={}),r&&(c.write.target=r),c.write.writer=a[o]}}}let Pe=class{constructor(t,r={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=r,this.apiValues=[],this.jsonValues=[],this._apiToJSON=lye(t),this.apiValues=hF(this._apiToJSON),this.jsonValues=hF(this._jsonToAPI),this.read=n=>this.fromJSON(n),this.write=(n,i,s)=>{const o=this.toJSON(n);o!==void 0&&or(s,o,i)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const r=this._apiToJSON[t];return this._options.useNumericKeys?+r:r}return this._options.ignoreUnknown?null:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}};function lye(e){const t={};for(const r in e)t[e[r]]=r;return t}function hF(e){const t=[];for(const r in e)t.push(r);return t.sort(),t}function Ar(){return function(e,t){return new Pe(e,{ignoreUnknown:!0,...t})}}let uR=class{constructor(t,r,n,i,s,o){this.semiMajorAxis=t,this.flattening=r,this.outerAtmosphereRimWidth=n,this.atmosphereHeight=i,this.scaleHeight=s;const a=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*a,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=o||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const Zt=new uR(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),wa=new uR(3396190,1/169.8944472236118,23e4,6e4,.111),bc=new uR(1737400,0,0,0,0);function fr(e){if(!Xe.assetsPath)throw ce.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new K("assets:path-not-set","config.assetsPath is not set");return hp(Xe.assetsPath,e)}let rE,R=null;function QJ(){return!!R}function uye(){return!!q("esri-wasm")}function XJ(){return rE||(rE=ae(()=>import("./pe-wasm-aad81ace.js"),[]).then(({default:e})=>e({locateFile:t=>fr(`esri/geometry/support/${t}`)})).then(e=>{rK(e)}),rE)}var rI,Dt;(function(e){function t(s,o,a){R.ensureCache.prepare();const l=Pd(a),c=a===l,d=R.ensureFloat64(l),p=R._pe_geog_to_proj(R.getPointer(s),o,d);return p&&Lu(a,o,d,c),p}function r(s,o,a,l){switch(l){case Dt.PE_TRANSFORM_P_TO_G:return n(s,o,a);case Dt.PE_TRANSFORM_G_TO_P:return t(s,o,a)}return 0}function n(s,o,a){return i(s,o,a,0)}function i(s,o,a,l){R.ensureCache.prepare();const c=Pd(a),d=a===c,p=R.ensureFloat64(c),y=R._pe_proj_to_geog_center(R.getPointer(s),o,p,l);return y&&Lu(a,o,p,d),y}e.geogToProj=t,e.projGeog=r,e.projToGeog=n,e.projToGeogCenter=i})(rI||(rI={})),function(e){function t(){e.PE_BUFFER_MAX=R.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=R.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=R.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=R.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=R.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=R.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=R.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=R.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=R.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=R.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=R.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=R.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=R.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=R.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=R.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=R.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=R.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=R.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=R.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=R.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_STR_FMT_WKT=R.PeDefs.prototype.PE_STR_FMT_WKT,e.PE_STR_FMT_WKT2=R.PeDefs.prototype.PE_STR_FMT_WKT2,e.PE_PARM_X0=R.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=R.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=R.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=R.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=R.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=R.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=R.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=R.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=R.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=R.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(Dt||(Dt={}));let eK=null;var nI;(function(e){const t={},r={},n=m=>{const g=m.getType();switch(g){case Dt.PE_TYPE_GEOGCS:m=R.castObject(m,R.PeGeogcs);break;case Dt.PE_TYPE_PROJCS:m=R.castObject(m,R.PeProjcs);break;case Dt.PE_TYPE_GEOGTRAN:m=R.castObject(m,R.PeGeogtran);break;default:g&Dt.PE_TYPE_UNIT&&(m=R.castObject(m,R.PeUnit))}return m};function i(){R.PeFactory.prototype.initialize(null)}function s(m){return o(Dt.PE_TYPE_COORDSYS,m)}function o(m,g){let b=null,w=t[m];if(w||(w={},t[m]=w),w.hasOwnProperty(String(g))&&(b=w[g],R.compare(b,R.NULL)&&(b=null)),!b){const S=R.PeFactory.prototype.factoryByType(m,g);R.compare(S,R.NULL)||(b=n(S),w[g]=b)}return b}function a(m,g){let b=null,w=r[m];if(w||(w={},r[m]=w),w.hasOwnProperty(g)&&(b=w[g],R.compare(b,R.NULL)&&(b=null)),!b){const S=R.PeFactory.prototype.fromString(m,g);R.compare(S,R.NULL)||(b=n(S),w[g]=b)}return b}function l(m){return o(Dt.PE_TYPE_GEOGCS,m)}function c(m){return o(Dt.PE_TYPE_GEOGTRAN,m)}function d(m){return R.PeFactory.prototype.getCode(m)}function p(m){return o(Dt.PE_TYPE_PROJCS,m)}function y(m){return o(Dt.PE_TYPE_UNIT,m)}e.initialize=i,e.coordsys=s,e.factoryByType=o,e.fromString=a,e.geogcs=l,e.geogtran=c,e.getCode=d,e.projcs=p,e.unit=y})(nI||(nI={}));let tK=null;var x_,iI,sI,oI,aI,lI,S_,uI,__,$_,cI;function rK(e){function t(s,o,a){s[o]=a(s[o])}R=e,Dt.init(),x_.init(),S_.init(),__.init(),$_.init(),eK=class extends R.PeDouble{constructor(s=NaN){super(s)}destroy(){R.destroy(this)}[Symbol.dispose](){this.destroy()}},tK=class extends R.PeGCSExtent{destroy(){R.destroy(this)}[Symbol.dispose](){this.destroy()}};const r=[R.PeAngunit,R.PeDatum,R.PeGeogcs,R.PeGeogtran,R.PeObject,R.PeParameter,R.PePrimem,R.PeProjcs,R.PeSpheroid,R.PeUnit];for(const s of r)t(s.prototype,"getName",o=>function(){return o.call(this,new Array(Dt.PE_NAME_MAX))});for(const s of[R.PeGeogtran,R.PeProjcs])t(s.prototype,"getParameters",o=>function(){const a=new Array(Dt.PE_PARM_MAX);let l=o.call(this);for(let c=0;c<a.length;c++){const d=R.getValue(l,"*");a[c]=d?R.wrapPointer(d,R.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return a});t(R.PeHorizon.prototype,"getCoord",s=>function(o=!1){const a=this.getSize();if(!a)return null;const l=[];return Lu(l,a,s.call(this),o),l}),t(R.PeGTlistExtendedEntry.prototype,"getEntries",s=>{const o=R._pe_getPeGTlistExtendedGTsSize();return function(){let a=null;const l=s.call(this);if(!R.compare(l,R.NULL)){a=[l];const c=this.getSteps();if(c>1){const d=R.getPointer(l);for(let p=1;p<c;p++)a.push(R.wrapPointer(d+o*p,R.PeGTlistExtendedGTs))}}return a}});const n=R._pe_getPeHorizonSize(),i=s=>function(){let o=this._cache;if(o||(o=new Map,this._cache=o),o.has(s))return o.get(s);let a=null;const l=s.call(this);if(!R.compare(l,R.NULL)){a=[l];const c=l.getNump();if(c>1){const d=R.getPointer(l);for(let p=1;p<c;p++)a.push(R.wrapPointer(d+n*p,R.PeHorizon))}}return o.set(s,a),a};t(R.PeProjcs.prototype,"horizonGcsGenerate",i),t(R.PeProjcs.prototype,"horizonPcsGenerate",i),R.PeObject.prototype.toString=function(s=Dt.PE_STR_OPTS_NONE){R.ensureCache.prepare();const o=R.getPointer(this),a=R.ensureInt8(new Array(Dt.PE_BUFFER_MAX));return R.UTF8ToString(R._pe_object_to_string_ext(o,s,a))},R.PeGeogcs.prototype.destroy=function(){this.Delete(),so(this),this.ptr=0},R.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},R.PeProjcs.prototype.destroy=function(){this.Delete(),so(this),this.ptr=0},R.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function so(e){if(!e)return;const t=R.getClass(e);if(!t)return;const r=R.getCache(t);if(!r)return;const n=R.getPointer(e);n&&delete r[n]}function rw(e,t){const r=[],n=new Array(t);for(let i=0;i<e;i++)r.push(R.ensureInt8(n));return r}function Pd(e){return ArrayBuffer.isView(e)?e:Array.isArray(e[0])?e.flat():e}function Lu(e,t,r,n=!1){if(n)for(let i=0;i<2*t;i++)e[i]=R.getValue(r+i*Float64Array.BYTES_PER_ELEMENT,"double");else{const i=e.length===0;for(let s=0;s<t;s++)i&&(e[s]=new Array(2)),e[s][0]=R.getValue(r,"double"),e[s][1]=R.getValue(r+Float64Array.BYTES_PER_ELEMENT,"double"),r+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function r(){e.PE_GTLIST_OPTS_COMMON=R.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=R._pe_getPeGTlistExtendedEntrySize()}function n(i,s,o,a,l,c){let d=null;const p=new R.PeInteger(c);try{const y=R.PeGTlistExtended.prototype.getGTlist(i,s,o,a,l,p);if((c=p.val)&&(d=[y],c>1)){const m=R.getPointer(y);for(let g=1;g<c;g++)d.push(R.wrapPointer(m+t*g,R.PeGTlistExtendedEntry))}}finally{R.destroy(p)}return d}e.init=r,e.getGTlist=n})(x_||(x_={})),function(e){function t(r){if(r?.length){for(const n of r)so(n),n.getEntries().forEach(i=>{so(i);const s=i.getGeogtran();so(s),s.getParameters().forEach(so),[s.getGeogcs1(),s.getGeogcs2()].forEach(o=>{so(o);const a=o.getDatum();so(a),so(a.getSpheroid()),so(o.getPrimem()),so(o.getUnit())})});R.PeGTlistExtendedEntry.prototype.Delete(r[0])}}e.destroy=t}(iI||(iI={})),function(e){function t(r,n,i,s,o){R.ensureCache.prepare();const a=Pd(i),l=i===a,c=R.ensureFloat64(a);let d=0;s&&(d=R.ensureFloat64(s));const p=R._pe_geog_to_geog(R.getPointer(r),n,c,d,o);return p&&Lu(i,n,c,l),p}e.geogToGeog=t}(sI||(sI={})),function(e){function t(s,o,a,l,c,d,p,y){R.PeLineType.prototype.geodesic_coordinate(s,o,a,l,c,d,p,y)}function r(s,o,a,l,c,d,p,y,m){R.PeLineType.prototype.geodetic_coordinate(s,o,a,l,c,d,p,y,m)}function n(s,o,a,l,c,d,p,y,m,g){R.PeLineType.prototype.geodetic_distance(s,o,a,l,c,d,p,y,m,g)}function i(s,o,a,l,c,d,p,y,m){R.PeLineType.prototype.great_elliptic_distance(s,o,a,l,c,d,p,y,m)}e.geodesicCoordinate=t,e.geodeticCoordinate=r,e.geodeticDistance=n,e.greatEllipticDistance=i}(oI||(oI={})),function(e){function t(o,a){return R.PeMath.prototype.phi_to_eta(o,a)}function r(o,a){return R.PeMath.prototype.eta_to_phi(o,a)}function n(o,a){return R.PeMath.prototype.phi_to_phig(o,a)}function i(o,a,l){return R.PeMath.prototype.q(o,a,l)}function s(o,a){return R.PeMath.prototype.q90(o,a)}e.phiToEta=t,e.etaToPhi=r,e.phiToPhig=n,e.q=i,e.q90=s}(aI||(aI={})),function(e){const t=(c,d,p,y,m,g)=>{let b,w;switch(R.ensureCache.prepare(),c){case"dd":b=R._pe_geog_to_dd,w=Dt.PE_DD_MAX;break;case"ddm":b=R._pe_geog_to_ddm,w=Dt.PE_DDM_MAX;break;case"dms":b=R._pe_geog_to_dms,w=Dt.PE_DMS_MAX}let S=0;d&&(S=R.getPointer(d));const _=Pd(y),x=R.ensureFloat64(_),O=rw(p,w),$=b(S,p,x,m,R.ensureInt32(O));if($)for(let T=0;T<p;T++)g[T]=R.UTF8ToString(O[T]);return $},r=(c,d,p,y,m)=>{let g;switch(R.ensureCache.prepare(),c){case"dd":g=R._pe_dd_to_geog;break;case"ddm":g=R._pe_ddm_to_geog;break;case"dms":g=R._pe_dms_to_geog}let b=0;d&&(b=R.getPointer(d));const w=y.map(O=>R.ensureString(O)),S=R.ensureInt32(w),_=R.ensureFloat64(new Array(2*p)),x=g(b,p,S,_);return x&&Lu(m,p,_),x};function n(c,d,p,y,m){return t("dms",c,d,p,y,m)}function i(c,d,p,y){return r("dms",c,d,p,y)}function s(c,d,p,y,m){return t("ddm",c,d,p,y,m)}function o(c,d,p,y){return r("ddm",c,d,p,y)}function a(c,d,p,y,m){return t("dd",c,d,p,y,m)}function l(c,d,p,y){return r("dd",c,d,p,y)}e.geogToDms=n,e.dmsToGeog=i,e.geogToDdm=s,e.ddmToGeog=o,e.geogToDd=a,e.ddToGeog=l}(lI||(lI={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=R.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=R.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=R.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=R.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=R.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function r(i,s,o,a,l,c,d){R.ensureCache.prepare();let p=0;i&&(p=R.getPointer(i));const y=Pd(o),m=R.ensureFloat64(y),g=rw(s,Dt.PE_MGRS_MAX),b=R.ensureInt32(g),w=R._pe_geog_to_mgrs_extended(p,s,m,a,l,c,b);if(w)for(let S=0;S<s;S++)d[S]=R.UTF8ToString(g[S]);return w}function n(i,s,o,a,l){R.ensureCache.prepare();let c=0;i&&(c=R.getPointer(i));const d=o.map(g=>R.ensureString(g)),p=R.ensureInt32(d),y=R.ensureFloat64(new Array(2*s)),m=R._pe_mgrs_to_geog_extended(c,s,p,a,y);return m&&Lu(l,s,y),m}e.init=t,e.geogToMgrsExtended=r,e.mgrsToGeogExtended=n}(S_||(S_={})),function(e){function t(n,i,s,o,a,l,c){R.ensureCache.prepare();let d=0;n&&(d=R.getPointer(n));const p=Pd(s),y=R.ensureFloat64(p),m=rw(i,Dt.PE_MGRS_MAX),g=R.ensureInt32(m),b=R._pe_geog_to_usng(d,i,y,o,a,l,g);if(b)for(let w=0;w<i;w++)c[w]=R.UTF8ToString(m[w]);return b}function r(n,i,s,o){R.ensureCache.prepare();let a=0;n&&(a=R.getPointer(n));const l=s.map(y=>R.ensureString(y)),c=R.ensureInt32(l),d=R.ensureFloat64(new Array(2*i)),p=R._pe_usng_to_geog(a,i,c,d);return p&&Lu(o,i,d),p}e.geogToUsng=t,e.usngToGeog=r}(uI||(uI={})),function(e){function t(){e.PE_UTM_OPTS_NONE=R.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=R.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=R.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function r(i,s,o,a,l){R.ensureCache.prepare();let c=0;i&&(c=R.getPointer(i));const d=Pd(o),p=R.ensureFloat64(d),y=rw(s,Dt.PE_UTM_MAX),m=R.ensureInt32(y),g=R._pe_geog_to_utm(c,s,p,a,m);if(g)for(let b=0;b<s;b++)l[b]=R.UTF8ToString(y[b]);return g}function n(i,s,o,a,l){R.ensureCache.prepare();let c=0;i&&(c=R.getPointer(i));const d=o.map(g=>R.ensureString(g)),p=R.ensureInt32(d),y=R.ensureFloat64(new Array(2*s)),m=R._pe_utm_to_geog(c,s,p,a,y);return m&&Lu(l,s,y),m}e.init=t,e.geogToUtm=r,e.utmToGeog=n}(__||(__={})),function(e){const t=new Map;function r(){e.PE_PCSINFO_OPTION_NONE=R.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=R.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=R.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=R.PePCSInfo.prototype.PE_POLE_POINT}function n(i,s=e.PE_PCSINFO_OPTION_DOMAIN){let o=null,a=null;return t.has(i)&&(a=t.get(i),a[s]&&(o=a[s])),o||(o=R.PePCSInfo.prototype.generate(i,s),a||(a=[],t.set(i,a)),a[s]=o),o}e.init=r,e.generate=n}($_||($_={})),function(e){function t(){return R.PeVersion.prototype.version_string()}e.versionString=t}(cI||(cI={}));const cye=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return rI},get PeDefs(){return Dt},get PeDouble(){return eK},get PeFactory(){return nI},get PeGCSExtent(){return tK},get PeGTTransformations(){return sI},get PeGTlistExtended(){return x_},get PeGTlistExtendedEntry(){return iI},get PeLineType(){return oI},get PeMath(){return aI},get PeNotationDms(){return lI},get PeNotationMgrs(){return S_},get PeNotationUsng(){return uI},get PeNotationUtm(){return __},get PePCSInfo(){return $_},get PeVersion(){return cI},_init:rK,get _pe(){return R},isLoaded:QJ,isSupported:uye,load:XJ},Symbol.toStringTag,{value:"Module"}));var bp;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(bp||(bp={}));let h;const E={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10641:0,10665:0,10674:0,10744:0,10745:0,10759:0,10773:0,10802:0,10820:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,65061:2,65062:2,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(h=2e3;h<=2045;h++)E[h]=0;for(h=2056;h<=2065;h++)E[h]=0;for(h=2067;h<=2135;h++)E[h]=0;for(h=2137;h<=2154;h++)E[h]=0;for(h=2161;h<=2170;h++)E[h]=0;for(h=2172;h<=2193;h++)E[h]=0;for(h=2195;h<=2198;h++)E[h]=0;for(h=2200;h<=2203;h++)E[h]=0;for(h=2205;h<=2217;h++)E[h]=0;for(h=2222;h<=2224;h++)E[h]=1;for(h=2225;h<=2250;h++)E[h]=2;for(h=2251;h<=2253;h++)E[h]=1;for(h=2257;h<=2264;h++)E[h]=2;for(h=2274;h<=2279;h++)E[h]=2;for(h=2280;h<=2282;h++)E[h]=1;for(h=2283;h<=2289;h++)E[h]=2;for(h=2290;h<=2292;h++)E[h]=0;for(h=2308;h<=2313;h++)E[h]=0;for(h=2315;h<=2491;h++)E[h]=0;for(h=2494;h<=2866;h++)E[h]=0;for(h=2867;h<=2869;h++)E[h]=1;for(h=2870;h<=2888;h++)E[h]=2;for(h=2891;h<=2895;h++)E[h]=2;for(h=2896;h<=2898;h++)E[h]=1;for(h=2902;h<=2908;h++)E[h]=2;for(h=2915;h<=2920;h++)E[h]=2;for(h=2921;h<=2923;h++)E[h]=1;for(h=2924;h<=2930;h++)E[h]=2;for(h=2931;h<=2962;h++)E[h]=0;for(h=2964;h<=2968;h++)E[h]=2;for(h=2969;h<=2973;h++)E[h]=0;for(h=2975;h<=2991;h++)E[h]=0;for(h=2995;h<=3051;h++)E[h]=0;for(h=3054;h<=3079;h++)E[h]=0;for(h=3081;h<=3088;h++)E[h]=0;for(h=3092;h<=3101;h++)E[h]=0;for(h=3106;h<=3138;h++)E[h]=0;for(h=3146;h<=3151;h++)E[h]=0;for(h=3153;h<=3166;h++)E[h]=0;for(h=3168;h<=3172;h++)E[h]=0;for(h=3174;h<=3203;h++)E[h]=0;for(h=3294;h<=3358;h++)E[h]=0;for(h=3367;h<=3403;h++)E[h]=0;for(h=3408;h<=3416;h++)E[h]=0;for(h=3417;h<=3438;h++)E[h]=2;for(h=3441;h<=3446;h++)E[h]=2;for(h=3447;h<=3450;h++)E[h]=0;for(h=3451;h<=3459;h++)E[h]=2;for(h=3460;h<=3478;h++)E[h]=0;for(h=3554;h<=3559;h++)E[h]=0;for(h=3560;h<=3570;h++)E[h]=2;for(h=3571;h<=3581;h++)E[h]=0;for(h=3594;h<=3597;h++)E[h]=0;for(h=3601;h<=3604;h++)E[h]=0;for(h=3637;h<=3639;h++)E[h]=0;for(h=3665;h<=3667;h++)E[h]=0;for(h=3693;h<=3695;h++)E[h]=0;for(h=3701;h<=3727;h++)E[h]=0;for(h=3728;h<=3739;h++)E[h]=2;for(h=3740;h<=3751;h++)E[h]=0;for(h=3753;h<=3760;h++)E[h]=2;for(h=3761;h<=3773;h++)E[h]=0;for(h=3775;h<=3777;h++)E[h]=0;for(h=3779;h<=3781;h++)E[h]=0;for(h=3783;h<=3785;h++)E[h]=0;for(h=3788;h<=3791;h++)E[h]=0;for(h=3797;h<=3802;h++)E[h]=0;for(h=3814;h<=3816;h++)E[h]=0;for(h=3825;h<=3829;h++)E[h]=0;for(h=3832;h<=3841;h++)E[h]=0;for(h=3844;h<=3852;h++)E[h]=0;for(h=3873;h<=3885;h++)E[h]=0;for(h=3890;h<=3893;h++)E[h]=0;for(h=3907;h<=3912;h++)E[h]=0;for(h=3942;h<=3950;h++)E[h]=0;for(h=3968;h<=3970;h++)E[h]=0;for(h=3973;h<=3976;h++)E[h]=0;for(h=3986;h<=3989;h++)E[h]=0;for(h=3994;h<=3997;h++)E[h]=0;for(h=4048;h<=4051;h++)E[h]=0;for(h=4056;h<=4063;h++)E[h]=0;for(h=4093;h<=4096;h++)E[h]=0;for(h=4390;h<=4398;h++)E[h]=0;for(h=4399;h<=4413;h++)E[h]=2;for(h=4418;h<=4433;h++)E[h]=2;for(h=4455;h<=4457;h++)E[h]=2;for(h=4484;h<=4489;h++)E[h]=0;for(h=4491;h<=4554;h++)E[h]=0;for(h=4568;h<=4589;h++)E[h]=0;for(h=4652;h<=4656;h++)E[h]=0;for(h=4766;h<=4800;h++)E[h]=0;for(h=5014;h<=5016;h++)E[h]=0;for(h=5069;h<=5072;h++)E[h]=0;for(h=5105;h<=5130;h++)E[h]=0;for(h=5167;h<=5188;h++)E[h]=0;for(h=5253;h<=5259;h++)E[h]=0;for(h=5269;h<=5275;h++)E[h]=0;for(h=5292;h<=5311;h++)E[h]=0;for(h=5329;h<=5331;h++)E[h]=0;for(h=5343;h<=5349;h++)E[h]=0;for(h=5355;h<=5357;h++)E[h]=0;for(h=5387;h<=5389;h++)E[h]=0;for(h=5459;h<=5463;h++)E[h]=0;for(h=5479;h<=5482;h++)E[h]=0;for(h=5518;h<=5520;h++)E[h]=0;for(h=5530;h<=5539;h++)E[h]=0;for(h=5550;h<=5552;h++)E[h]=0;for(h=5562;h<=5583;h++)E[h]=0;for(h=5623;h<=5625;h++)E[h]=2;for(h=5631;h<=5639;h++)E[h]=0;for(h=5649;h<=5653;h++)E[h]=0;for(h=5663;h<=5680;h++)E[h]=0;for(h=5682;h<=5685;h++)E[h]=0;for(h=5875;h<=5877;h++)E[h]=0;for(h=5896;h<=5899;h++)E[h]=0;for(h=5921;h<=5940;h++)E[h]=0;for(h=6050;h<=6125;h++)E[h]=0;for(h=6244;h<=6275;h++)E[h]=0;for(h=6328;h<=6348;h++)E[h]=0;for(h=6350;h<=6356;h++)E[h]=0;for(h=6366;h<=6372;h++)E[h]=0;for(h=6381;h<=6387;h++)E[h]=0;for(h=6393;h<=6404;h++)E[h]=0;for(h=6480;h<=6483;h++)E[h]=0;for(h=6511;h<=6514;h++)E[h]=0;for(h=6579;h<=6581;h++)E[h]=0;for(h=6619;h<=6624;h++)E[h]=0;for(h=6625;h<=6627;h++)E[h]=2;for(h=6628;h<=6632;h++)E[h]=0;for(h=6634;h<=6637;h++)E[h]=0;for(h=6669;h<=6692;h++)E[h]=0;for(h=6707;h<=6709;h++)E[h]=0;for(h=6720;h<=6723;h++)E[h]=0;for(h=6732;h<=6738;h++)E[h]=0;for(h=6931;h<=6933;h++)E[h]=0;for(h=6956;h<=6959;h++)E[h]=0;for(h=7005;h<=7007;h++)E[h]=0;for(h=7057;h<=7070;h++)E[h]=2;for(h=7074;h<=7082;h++)E[h]=0;for(h=7109;h<=7118;h++)E[h]=0;for(h=7119;h<=7127;h++)E[h]=1;for(h=7374;h<=7376;h++)E[h]=0;for(h=7528;h<=7586;h++)E[h]=0;for(h=7587;h<=7645;h++)E[h]=2;for(h=7692;h<=7696;h++)E[h]=0;for(h=7755;h<=7787;h++)E[h]=0;for(h=7791;h<=7795;h++)E[h]=0;for(h=7799;h<=7801;h++)E[h]=0;for(h=7803;h<=7805;h++)E[h]=0;for(h=7825;h<=7831;h++)E[h]=0;for(h=7845;h<=7859;h++)E[h]=0;for(h=8013;h<=8032;h++)E[h]=0;for(h=8065;h<=8068;h++)E[h]=1;for(h=8518;h<=8529;h++)E[h]=2;for(h=8533;h<=8536;h++)E[h]=2;for(h=8538;h<=8540;h++)E[h]=2;for(h=8677;h<=8679;h++)E[h]=0;for(h=8836;h<=8840;h++)E[h]=0;for(h=8857;h<=8859;h++)E[h]=0;for(h=8908;h<=8910;h++)E[h]=0;for(h=9154;h<=9159;h++)E[h]=0;for(h=9205;h<=9218;h++)E[h]=0;for(h=9271;h<=9273;h++)E[h]=0;for(h=9295;h<=9297;h++)E[h]=0;for(h=9356;h<=9360;h++)E[h]=0;for(h=9404;h<=9407;h++)E[h]=0;for(h=9476;h<=9482;h++)E[h]=0;for(h=9487;h<=9494;h++)E[h]=0;for(h=9697;h<=9699;h++)E[h]=0;for(h=9821;h<=9865;h++)E[h]=0;for(h=10285;h<=10291;h++)E[h]=0;for(h=10314;h<=10317;h++)E[h]=0;for(h=10448;h<=10465;h++)E[h]=0;for(h=10726;h<=10729;h++)E[h]=0;for(h=10731;h<=10733;h++)E[h]=0;for(h=11114;h<=11118;h++)E[h]=0;for(h=20004;h<=20032;h++)E[h]=0;for(h=20047;h<=20049;h++)E[h]=0;for(h=20062;h<=20092;h++)E[h]=0;for(h=20135;h<=20138;h++)E[h]=0;for(h=20248;h<=20258;h++)E[h]=0;for(h=20348;h<=20358;h++)E[h]=0;for(h=20436;h<=20440;h++)E[h]=0;for(h=20822;h<=20824;h++)E[h]=0;for(h=20904;h<=20932;h++)E[h]=0;for(h=20934;h<=20936;h++)E[h]=0;for(h=21004;h<=21032;h++)E[h]=0;for(h=21035;h<=21037;h++)E[h]=0;for(h=21095;h<=21097;h++)E[h]=0;for(h=21148;h<=21150;h++)E[h]=0;for(h=21207;h<=21264;h++)E[h]=0;for(h=21307;h<=21364;h++)E[h]=0;for(h=21413;h<=21423;h++)E[h]=0;for(h=21453;h<=21463;h++)E[h]=0;for(h=21473;h<=21483;h++)E[h]=0;for(h=21780;h<=21782;h++)E[h]=0;for(h=21891;h<=21894;h++)E[h]=0;for(h=21896;h<=21899;h++)E[h]=0;for(h=22171;h<=22177;h++)E[h]=0;for(h=22181;h<=22187;h++)E[h]=0;for(h=22191;h<=22197;h++)E[h]=0;for(h=22207;h<=22222;h++)E[h]=0;for(h=22229;h<=22232;h++)E[h]=0;for(h=22234;h<=22236;h++)E[h]=0;for(h=22243;h<=22250;h++)E[h]=0;for(h=22262;h<=22265;h++)E[h]=0;for(h=22307;h<=22322;h++)E[h]=0;for(h=22348;h<=22357;h++)E[h]=0;for(h=22407;h<=22422;h++)E[h]=0;for(h=22462;h<=22465;h++)E[h]=0;for(h=22521;h<=22525;h++)E[h]=0;for(h=22607;h<=22622;h++)E[h]=0;for(h=22641;h<=22646;h++)E[h]=0;for(h=22648;h<=22657;h++)E[h]=0;for(h=22707;h<=22722;h++)E[h]=0;for(h=22762;h<=22765;h++)E[h]=0;for(h=22807;h<=22822;h++)E[h]=0;for(h=22991;h<=22994;h++)E[h]=0;for(h=23028;h<=23038;h++)E[h]=0;for(h=23301;h<=23333;h++)E[h]=2;for(h=23830;h<=23853;h++)E[h]=0;for(h=23866;h<=23872;h++)E[h]=0;for(h=23877;h<=23884;h++)E[h]=0;for(h=23886;h<=23894;h++)E[h]=0;for(h=23946;h<=23948;h++)E[h]=0;for(h=24311;h<=24313;h++)E[h]=0;for(h=24342;h<=24347;h++)E[h]=0;for(h=24370;h<=24374;h++)E[h]=10;for(h=24375;h<=24381;h++)E[h]=0;for(h=24718;h<=24721;h++)E[h]=0;for(h=24817;h<=24821;h++)E[h]=0;for(h=24877;h<=24882;h++)E[h]=0;for(h=24891;h<=24893;h++)E[h]=0;for(h=25391;h<=25395;h++)E[h]=0;for(h=25828;h<=25838;h++)E[h]=0;for(h=26191;h<=26195;h++)E[h]=0;for(h=26391;h<=26393;h++)E[h]=0;for(h=26701;h<=26722;h++)E[h]=0;for(h=26729;h<=26799;h++)E[h]=2;for(h=26801;h<=26803;h++)E[h]=2;for(h=26811;h<=26813;h++)E[h]=2;for(h=26847;h<=26870;h++)E[h]=2;for(h=26891;h<=26899;h++)E[h]=0;for(h=26901;h<=26923;h++)E[h]=0;for(h=26929;h<=26946;h++)E[h]=0;for(h=26948;h<=26998;h++)E[h]=0;for(h=27037;h<=27040;h++)E[h]=0;for(h=27205;h<=27232;h++)E[h]=0;for(h=27258;h<=27260;h++)E[h]=0;for(h=27391;h<=27398;h++)E[h]=0;for(h=27561;h<=27564;h++)E[h]=0;for(h=27571;h<=27574;h++)E[h]=0;for(h=27581;h<=27584;h++)E[h]=0;for(h=27591;h<=27594;h++)E[h]=0;for(h=27700;h<=27707;h++)E[h]=0;for(h=28191;h<=28193;h++)E[h]=0;for(h=28348;h<=28358;h++)E[h]=0;for(h=28402;h<=28432;h++)E[h]=0;for(h=28462;h<=28492;h++)E[h]=0;for(h=29118;h<=29122;h++)E[h]=0;for(h=29168;h<=29172;h++)E[h]=0;for(h=29177;h<=29185;h++)E[h]=0;for(h=29187;h<=29195;h++)E[h]=0;for(h=29900;h<=29903;h++)E[h]=0;for(h=30161;h<=30179;h++)E[h]=0;for(h=30491;h<=30494;h++)E[h]=0;for(h=30729;h<=30732;h++)E[h]=0;for(h=31251;h<=31259;h++)E[h]=0;for(h=31265;h<=31268;h++)E[h]=0;for(h=31275;h<=31279;h++)E[h]=0;for(h=31281;h<=31297;h++)E[h]=0;for(h=31461;h<=31469;h++)E[h]=0;for(h=31491;h<=31495;h++)E[h]=0;for(h=31917;h<=31922;h++)E[h]=0;for(h=31965;h<=32e3;h++)E[h]=0;for(h=32001;h<=32003;h++)E[h]=2;for(h=32005;h<=32031;h++)E[h]=2;for(h=32033;h<=32060;h++)E[h]=2;for(h=32064;h<=32067;h++)E[h]=2;for(h=32074;h<=32077;h++)E[h]=2;for(h=32081;h<=32086;h++)E[h]=0;for(h=32107;h<=32130;h++)E[h]=0;for(h=32133;h<=32159;h++)E[h]=0;for(h=32164;h<=32167;h++)E[h]=2;for(h=32180;h<=32199;h++)E[h]=0;for(h=32201;h<=32260;h++)E[h]=0;for(h=32301;h<=32360;h++)E[h]=0;for(h=32401;h<=32460;h++)E[h]=0;for(h=32501;h<=32560;h++)E[h]=0;for(h=32601;h<=32662;h++)E[h]=0;for(h=32664;h<=32667;h++)E[h]=2;for(h=32701;h<=32761;h++)E[h]=0;for(h=53001;h<=53004;h++)E[h]=0;for(h=53008;h<=53019;h++)E[h]=0;for(h=53021;h<=53032;h++)E[h]=0;for(h=53034;h<=53037;h++)E[h]=0;for(h=53042;h<=53046;h++)E[h]=0;for(h=53074;h<=53080;h++)E[h]=0;for(h=54001;h<=54004;h++)E[h]=0;for(h=54008;h<=54019;h++)E[h]=0;for(h=54021;h<=54032;h++)E[h]=0;for(h=54034;h<=54037;h++)E[h]=0;for(h=54042;h<=54046;h++)E[h]=0;for(h=54048;h<=54053;h++)E[h]=0;for(h=54074;h<=54080;h++)E[h]=0;for(h=54090;h<=54096;h++)E[h]=0;for(h=54098;h<=54101;h++)E[h]=0;for(h=65161;h<=65163;h++)E[h]=0;for(h=102001;h<=102040;h++)E[h]=0;for(h=102042;h<=102063;h++)E[h]=0;for(h=102065;h<=102067;h++)E[h]=0;for(h=102070;h<=102117;h++)E[h]=0;for(h=102122;h<=102216;h++)E[h]=0;for(h=102221;h<=102377;h++)E[h]=0;for(h=102382;h<=102388;h++)E[h]=0;for(h=102389;h<=102398;h++)E[h]=2;for(h=102399;h<=102444;h++)E[h]=0;for(h=102445;h<=102447;h++)E[h]=2;for(h=102448;h<=102458;h++)E[h]=0;for(h=102459;h<=102468;h++)E[h]=2;for(h=102469;h<=102499;h++)E[h]=0;for(h=102500;h<=102519;h++)E[h]=1;for(h=102520;h<=102524;h++)E[h]=0;for(h=102525;h<=102529;h++)E[h]=2;for(h=102530;h<=102588;h++)E[h]=0;for(h=102590;h<=102598;h++)E[h]=0;for(h=102601;h<=102603;h++)E[h]=0;for(h=102605;h<=102628;h++)E[h]=0;for(h=102629;h<=102646;h++)E[h]=2;for(h=102648;h<=102700;h++)E[h]=2;for(h=102701;h<=102703;h++)E[h]=0;for(h=102707;h<=102730;h++)E[h]=2;for(h=102733;h<=102758;h++)E[h]=2;for(h=102767;h<=102900;h++)E[h]=0;for(h=102901;h<=102933;h++)E[h]=2;for(h=102934;h<=102950;h++)E[h]=13;for(h=102951;h<=102963;h++)E[h]=0;for(h=102965;h<=102969;h++)E[h]=0;for(h=102971;h<=102973;h++)E[h]=0;for(h=102975;h<=102989;h++)E[h]=0;for(h=102990;h<=102992;h++)E[h]=1;for(h=102997;h<=103002;h++)E[h]=0;for(h=103003;h<=103008;h++)E[h]=2;for(h=103009;h<=103011;h++)E[h]=0;for(h=103012;h<=103014;h++)E[h]=2;for(h=103019;h<=103021;h++)E[h]=0;for(h=103022;h<=103024;h++)E[h]=2;for(h=103029;h<=103031;h++)E[h]=0;for(h=103032;h<=103034;h++)E[h]=2;for(h=103065;h<=103068;h++)E[h]=0;for(h=103074;h<=103076;h++)E[h]=0;for(h=103077;h<=103079;h++)E[h]=1;for(h=103080;h<=103082;h++)E[h]=0;for(h=103083;h<=103085;h++)E[h]=2;for(h=103090;h<=103093;h++)E[h]=0;for(h=103097;h<=103099;h++)E[h]=0;for(h=103100;h<=103102;h++)E[h]=2;for(h=103107;h<=103109;h++)E[h]=0;for(h=103110;h<=103112;h++)E[h]=2;for(h=103113;h<=103116;h++)E[h]=0;for(h=103117;h<=103120;h++)E[h]=2;for(h=103153;h<=103157;h++)E[h]=0;for(h=103158;h<=103162;h++)E[h]=2;for(h=103163;h<=103165;h++)E[h]=0;for(h=103166;h<=103168;h++)E[h]=1;for(h=103169;h<=103171;h++)E[h]=2;for(h=103186;h<=103188;h++)E[h]=0;for(h=103189;h<=103191;h++)E[h]=2;for(h=103192;h<=103195;h++)E[h]=0;for(h=103196;h<=103199;h++)E[h]=2;for(h=103200;h<=103224;h++)E[h]=0;for(h=103225;h<=103227;h++)E[h]=1;for(h=103232;h<=103237;h++)E[h]=0;for(h=103238;h<=103243;h++)E[h]=2;for(h=103244;h<=103246;h++)E[h]=0;for(h=103247;h<=103249;h++)E[h]=2;for(h=103254;h<=103256;h++)E[h]=0;for(h=103257;h<=103259;h++)E[h]=2;for(h=103264;h<=103266;h++)E[h]=0;for(h=103267;h<=103269;h++)E[h]=2;for(h=103300;h<=103375;h++)E[h]=0;for(h=103381;h<=103383;h++)E[h]=0;for(h=103384;h<=103386;h++)E[h]=1;for(h=103387;h<=103389;h++)E[h]=0;for(h=103390;h<=103392;h++)E[h]=2;for(h=103397;h<=103399;h++)E[h]=0;for(h=103400;h<=103471;h++)E[h]=2;for(h=103476;h<=103478;h++)E[h]=0;for(h=103479;h<=103481;h++)E[h]=2;for(h=103486;h<=103488;h++)E[h]=0;for(h=103489;h<=103491;h++)E[h]=2;for(h=103492;h<=103495;h++)E[h]=0;for(h=103496;h<=103499;h++)E[h]=2;for(h=103528;h<=103543;h++)E[h]=0;for(h=103544;h<=103548;h++)E[h]=2;for(h=103549;h<=103551;h++)E[h]=0;for(h=103552;h<=103554;h++)E[h]=1;for(h=103555;h<=103557;h++)E[h]=2;for(h=103558;h<=103560;h++)E[h]=0;for(h=103571;h<=103573;h++)E[h]=0;for(h=103574;h<=103576;h++)E[h]=2;for(h=103577;h<=103580;h++)E[h]=0;for(h=103581;h<=103583;h++)E[h]=2;for(h=103595;h<=103694;h++)E[h]=0;for(h=103696;h<=103699;h++)E[h]=0;for(h=103700;h<=103793;h++)E[h]=2;for(h=103794;h<=103890;h++)E[h]=0;for(h=103891;h<=103896;h++)E[h]=2;for(h=103900;h<=103971;h++)E[h]=2;for(h=103972;h<=103977;h++)E[h]=0;for(h=112e3;h<=112101;h++)E[h]=0;const nK=[102100,102113,3857,3785,900913],dye=[104905,104971],pye=[4326,...nK,...dye],$v=[-20037508342788905e-9,20037508342788905e-9],dI=[-20037508342787e-6,20037508342787e-6],nE={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:$v,origin:dI,dx:1e-5},iK={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:$v,origin:dI,dx:1e-5},102100:nE,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:$v,origin:dI,dx:1e-5},3857:nE,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:nE};function Ei(e,t){if(e===t)return!0;if(e==null||t==null)return!1;const r=e.wkid,n=t.wkid;if(r!=null||n!=null){if(r===n||Ta(e)&&Ta(t))return!0;const o=e.latestWkid;if(o!=null&&n===o)return!0;const a=t.latestWkid;return a!=null&&r===a}let i,s;return e.wkt2&&t.wkt2?(i=e.wkt2,s=t.wkt2):e.wkt&&t.wkt&&(i=e.wkt,s=t.wkt),!(!i||!s)&&i.toUpperCase()===s.toUpperCase()}function xx(e){const t=e?.wkid;return t!=null&&t>=2e3&&iK[t]||null}function yF(e){if(!e)return;const{wkid:t,vcsWkid:r}=e;if(t)return r?JSON.stringify({wkid:t,vcsWkid:r}):String(t);const n=e.wkt||e.wkt2;return JSON.stringify(n?r?{wkt:n,vcsWkid:r}:{wkt:n}:{})}function o1(e){if(!ha(e))return!1;const{wkid:t}=e;if(t)return E[t]==null;const r=e.wkt2||e.wkt;return!!r&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(r)}function fye(e){return!(sK(e)||oK(e))}function wp(e){return e?.wkid===4326}function iXe(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function mF(e){return e?.wkid===bp.CGCS2000}function Ta(e){const t=e?.wkid;return t!=null&&t>=2e3&&nK.includes(t)}function hye(e){return e?.wkid===32662}function F$(e){return e===bp.GCSMARS2000||e===bp.GCSMARS2000_SPHERE}function sK(e){return F$(e?.wkid)}function U$(e){return e===bp.GCSMOON2000}function oK(e){return U$(e?.wkid)}function yye(e){const t=e?.wkid;return t!=null&&t>=2e3&&pye.includes(t)}function ha(e){if(e==null)return!1;const t=e.wkid;return t!=null&&t>=2e3||e.wkt2!=null||e.wkt!=null}const aK={wkid:4326,wkt:Lp(iK[4326].wkTemplate,{Central_Meridian:"0.0"})},lK={wkid:102100,latestWkid:3857},mye={wkid:32662};function cR(e){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const gye=cR(Zt),dR=cR(wa),pR=cR(bc),vye={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${Zt.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},bye=dR.wkt.toUpperCase(),wye=pR.wkt.toUpperCase();function xye(e){if(e!=null&&ha(e)){const t=e.wkid,r=e.wkt2??e.wkt;if(F$(t))return wa;const n=r?.toUpperCase();if(r&&n===bye)return wa;if(U$(t)||n&&n===wye)return bc}return Zt}function sXe(e){return F$(e)?wa:U$(e)?bc:Zt}function T_(e){return Ei(e,gye)}function wc(e){return T_(e)||Ei(e,dR)||Ei(e,pR)}const Sye=39.37,_ye=Zt.radius*Math.PI/200,uK=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,uy=E,cK=/UNIT\[([^\]]+)]/i,$ye=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),Tye=Ar()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),Vs=e=>e*e,iu=e=>e*e*e,Tv={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:Vs(.001)},"square-centimeters":{inBaseUnits:Vs(.01)},"square-decimeters":{inBaseUnits:Vs(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:Vs(1e3)},"square-inches":{inBaseUnits:Vs(.0254)},"square-feet":{inBaseUnits:Vs(.3048)},"square-yards":{inBaseUnits:Vs(.9144)},"square-miles":{inBaseUnits:Vs(1609.344)},"square-nautical-miles":{inBaseUnits:Vs(1852)},"square-us-feet":{inBaseUnits:Vs(1200/3937)},acres:{inBaseUnits:.0015625*Vs(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*iu(.001)},"cubic-centimeters":{inBaseUnits:1e3*iu(.01)},"cubic-decimeters":{inBaseUnits:1e3*iu(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*iu(1e3)},"cubic-inches":{inBaseUnits:1e3*iu(.0254)},"cubic-feet":{inBaseUnits:1e3*iu(.3048)},"cubic-yards":{inBaseUnits:1e3*iu(.9144)},"cubic-miles":{inBaseUnits:1e3*iu(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},Oye=(()=>{const e={};for(const t in Tv)for(const r in Tv[t].units)e[r]=t;return e})();function Eye(e,t,r){return e*Tv[r].units[t].inBaseUnits}function jye(e,t,r){return e/Tv[r].units[t].inBaseUnits}const Aye=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function pI(e){const t=Oye[e];if(!t)throw new Error("unknown type");return t}function gF(e,t=null){return t=t||pI(e),Tv[t].baseUnit===e}function On(e,t,r){if(t===r)return e;const n=pI(t);if(n!==pI(r))throw new Error("incompatible units");const i=gF(t,n)?e:Eye(e,t,n);return gF(r,n)?i:jye(i,r,n)}function oXe(e,t,r,n=!1){if(!n&&o1(t))throw new Error("Unable to convert from an angular unit to a linear unit.");const i=a1(t);return i!==r&&(e=i?On(e,i,r):On(e*=kc(t),"meters",r)),e}function aXe(e,t,r,n=!1){if(!n&&o1(r))throw new Error("Unable to convert from a linear unit to an angular unit.");const i=a1(r);return t!==i&&(e=i?On(e,t,i):On(e,t,"meters")/kc(r)),e}function Iye(e,t,r){return On(e,t,"meters")/(r*Math.PI/180)}function fR(e){return Tye.fromJSON(e.toLowerCase())||null}function O_(e){if(e!=null&&!fye(e))return 1;const t=kc(e);return t>1e5?1:t}function Pye(e){return kc(e)>=xye(e).metersPerDegree?"meters":a1(e)}function kc(e,t=Zt.metersPerDegree){return kye(e,!0)??t}function kye(e,t=!1){const r=e?.wkid??null,n=e?.wkt2??e?.wkt??null;let i=null;if(r){if(F$(r))return wa.metersPerDegree;if(U$(r))return bc.metersPerDegree;i=uy.values[uy[r]],!i&&t&&$ye.has(r)&&(i=_ye)}else n&&(fK(n)?i=vF(uK.exec(n),i):pK(n)&&(i=vF(cK.exec(n),i)));return i}function lXe(e){return o1(e)?1:kc(e)}function vF(e,t){return e?.[1]?dK(e[1]):t}function dK(e){return parseFloat(e.split(",")[1])}function a1(e){const t=e?.wkid??null,r=e?.wkt2??e?.wkt??null;let n=null;if(t)n=uy.units[uy[t]];else if(r){const i=fK(r)?uK:pK(r)?cK:null;if(i){const s=i.exec(r);s?.[1]&&(n=Nye(s[1]))}}return n!=null?fR(n):null}function uXe(e){const t=a1(e);return t==null?null:Aye.get(t)}function pK(e){return/^GEOCCS/i.test(e)}function fK(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const Cye=1e-7;function Nye(e){let r=/[\\"']{1}([^\\"']+)/.exec(e)?.[1];if(!r||!fR(r)){const n=dK(e);r=null;const i=uy.values;for(let s=0;s<i.length;++s)if(Math.abs(n-i[s])<Cye){r=uy.units[s];break}}return r}const Mye={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},Rye={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},Lye={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},Dye=Ar()(Mye),Fye=Ar()(Rye),cXe=Ar()(Lye);var Go,wl;let be=(wl=class extends z{static fromJSON(t){if(!t)return null;if(t?.wkid===102100)return Go.WebMercator;if(t?.wkid===4326)return Go.WGS84;const r=new Go;return r.read(t),r}constructor(t){super(t),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(t){return t&&typeof t=="object"?t:{[typeof t=="string"?"wkt":"wkid"]:t}}get isWGS84(){return wp(this)}get isWebMercator(){return Ta(this)}get isGeographic(){return o1(this)}get isWrappable(){return yye(this)}get metersPerUnit(){return kc(this)}get unit(){return a1(this)||(this.isGeographic?"degrees":null)}writeWkt(t,r){this.wkid||(r.wkt=t)}clone(){if(this===Go.WGS84)return new Go(aK);if(this===Go.WebMercator)return new Go(lK);const t=new Go;return this.wkid!=null?(t.wkid=this.wkid,this.latestWkid!=null&&(t.latestWkid=this.latestWkid),this.vcsWkid!=null&&(t.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(t.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(t.wkt=this.wkt),this.wkt2!=null&&(t.wkt2=this.wkt2)),this.imageCoordinateSystem&&(t.imageCoordinateSystem=D(this.imageCoordinateSystem)),t}equals(t){if(t==null)return!1;if(this.imageCoordinateSystem||t.imageCoordinateSystem){if(this.imageCoordinateSystem==null||t.imageCoordinateSystem==null)return!1;const{id:r,referenceServiceName:n}=t.imageCoordinateSystem,{geodataXform:i}=t.imageCoordinateSystem,s=this.imageCoordinateSystem;return r==null||i?JSON.stringify(s)===JSON.stringify(t.imageCoordinateSystem):n?s.id===r&&s.referenceServiceName===n:s.id===r}return Ei(this,t)}toJSON(t){return this.write(void 0,t)}},Go=wl,wl.GCS_NAD_1927=null,wl.WGS84=null,wl.WebMercator=null,wl.PlateCarree=null,wl);u([f({readOnly:!0})],be.prototype,"isWGS84",null),u([f({readOnly:!0})],be.prototype,"isWebMercator",null),u([f({readOnly:!0})],be.prototype,"isGeographic",null),u([f({readOnly:!0})],be.prototype,"isWrappable",null),u([f({type:Be,json:{write:!0}})],be.prototype,"latestWkid",void 0),u([f({readOnly:!0})],be.prototype,"metersPerUnit",null),u([f({readOnly:!0})],be.prototype,"unit",null),u([f({type:Be,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],be.prototype,"wkid",void 0),u([f({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],be.prototype,"wkt",void 0),u([re("wkt"),re("web-scene","wkt")],be.prototype,"writeWkt",null),u([f({type:String,json:{write:!1}})],be.prototype,"wkt2",void 0),u([f({type:Be,json:{write:!0}})],be.prototype,"vcsWkid",void 0),u([f({type:Be,json:{write:!0}})],be.prototype,"latestVcsWkid",void 0),u([f()],be.prototype,"imageCoordinateSystem",void 0),be=Go=u([A("esri.geometry.SpatialReference")],be),be.prototype.toJSON.isDefaultToJSON=!0,be.GCS_NAD_1927=ft.freeze(new be({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),be.WGS84=ft.freeze(new be(aK)),be.WebMercator=ft.freeze(new be(lK)),be.PlateCarree=ft.freeze(new be(mye));function X(e,t,r){let n,i;return t===void 0||Array.isArray(t)?(i=e,r=t,n=[void 0]):(i=t,n=Array.isArray(e)?e:[e]),(s,o)=>{const a=s.constructor.prototype;n.forEach(l=>{const c=tR(s,l,i);c.read&&typeof c.read=="object"||(c.read={}),c.read.reader=a[o],r&&(c.read.source=(c.read.source||[]).concat(r))})}}let An=class extends z{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=be.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,r){if(t instanceof be)return t;if(t!=null){const n=new be;return n.read(t,r),n}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,r){this.cache[t]=r}};u([f()],An.prototype,"type",void 0),u([f({readOnly:!0})],An.prototype,"cache",null),u([f({readOnly:!0})],An.prototype,"extent",null),u([f({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],An.prototype,"hasM",void 0),u([f({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],An.prototype,"hasZ",void 0),u([f({type:be,json:{write:!0},value:be.WGS84})],An.prototype,"spatialReference",void 0),u([X("spatialReference")],An.prototype,"readSpatialReference",null),An=u([A("esri.geometry.Geometry")],An);const Uye=Object.prototype.toString;function zye(e){const t="__accessorMetadata__"in e?br(e):e;return function(...r){if(r.push(t),typeof r[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return Bye.apply(this,r)}}function Bye(e,t,r,n){i1(e,t).cast=n}function Vye(e){return(t,r)=>{i1(t,e).cast=t[r]}}function ht(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&Uye.call(e[0])==="[object Function]"?zye(e[0]):e.length===1&&typeof e[0]=="string"?Vye(e[0]):void 0}function cy(e){if(e&&typeof e=="object"&&"type"in e&&e.type==="mesh")throw new K("internal:mesh","Mesh geometries are not supported for this operation")}function qye(e){e.forEach(cy)}const Gye=57.29577951308232,Wye=.017453292519943;function bF(e){return e*Gye}function wF(e){return e*Wye}function pXe(e){return Math.PI/2-2*Math.atan(Math.exp(-e/Zt.radius))}function fI(e){return e.wkid!=null||e.wkt!=null}const iE=[0,0];function E_(e,t,r,n,i){const s=e,o=i;if(o.spatialReference=r,"x"in s&&"x"in o)[o.x,o.y]=t(s.x,s.y,iE,n);else if("xmin"in s&&"xmin"in o)[o.xmin,o.ymin]=t(s.xmin,s.ymin,iE,n),[o.xmax,o.ymax]=t(s.xmax,s.ymax,iE,n);else if("paths"in s&&"paths"in o||"rings"in s&&"rings"in o){const a="paths"in s?s.paths:s.rings,l=[];let c;for(let d=0;d<a.length;d++){const p=a[d];c=[],l.push(c);for(let y=0;y<p.length;y++)c.push(t(p[y][0],p[y][1],[0,0],n)),p[y].length>2&&c[y].push(p[y][2]),p[y].length>3&&c[y].push(p[y][3])}"paths"in o?o.paths=l:o.rings=l}else if("points"in s&&"points"in o){const a=s.points,l=[];for(let c=0;c<a.length;c++)l[c]=t(a[c][0],a[c][1],[0,0],n),a[c].length>2&&l[c].push(a[c][2]),a[c].length>3&&l[c].push(a[c][3]);o.points=l}return i}function Sx(e,t){const r=e&&(fI(e)?e:e.spatialReference),n=t&&(fI(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!r||!n)&&(!!Ei(n,r)||Ta(n)&&wp(r)||Ta(r)&&wp(n))}function hK(e,t){if(e==null)return null;const r=e.spatialReference,n=t&&(fI(t)?t:t.spatialReference);return Sx(r,n)?Ei(r,n)?D(e):Ta(n)?E_(e,dh,be.WebMercator,!1,D(e)):wp(n)?E_(e,z$,be.WGS84,!1,D(e)):null:null}function dh(e,t,r=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const n=wF(t);return r[0]=wF(e)*Zt.radius,r[1]=Zt.halfSemiMajorAxis*Math.log((1+Math.sin(n))/(1-Math.sin(n))),r}function z$(e,t,r=[0,0],n=!1){if(e===$v[0])r[0]=-180;else if(e===$v[1])r[0]=180;else{const i=bF(e/Zt.radius);r[0]=n?i:i-360*Math.floor((i+180)/360)}return r[1]=bF(Math.PI/2-2*Math.atan(Math.exp(-t/Zt.radius))),r}function _x(e,t=!1,r=D(e)){return cy(e),cy(r),E_(e,dh,be.WebMercator,t,r)}function b0(e,t=!1,r=D(e)){return cy(e),cy(r),E_(e,z$,be.WGS84,t,r)}function Hye(e,t){const r=e.x-t.x,n=e.y-t.y,i=e.z!=null&&t.z!=null?e.z-t.z:0;return Math.sqrt(r*r+n*n+i*i)}function Jye(e){return yK(e,mK)?.[0]??null}function Kye(e){return yK(e,mK)?.[1]??null}function yK({x:e,y:t,spatialReference:r},n=[0,0]){if(r){if(Ta(r))return z$(e,t,n);if(o1(r))return n[0]=e,n[1]=t,n}return null}const mK=[0,0];var $x;const sE=[0,0];function xF(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let qe=$x=class extends An{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const r=e._get("spatialReference");t._set("spatialReference",ft.isFrozen(r)?r:r.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,r,n,i){let s;if(Array.isArray(e))s=e,i=t,e=s[0],t=s[1],r=s[2],n=s[3];else if(e&&typeof e=="object"){if(s=e,e=s.x!=null?s.x:s.longitude,t=s.y!=null?s.y:s.latitude,r=s.z,n=s.m,(i=s.spatialReference)&&i.declaredClass!=="esri.geometry.SpatialReference"&&(i=new be(i)),s.longitude!=null||s.latitude!=null){if(s.longitude==null)ce.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(s.latitude==null)ce.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!s.declaredClass&&i?.isWebMercator){const a=dh(s.longitude,s.latitude,sE);e=a[0],t=a[1]}}}else xF(r)?(i=r,r=null):xF(n)&&(i=n,n=null);const o={x:e,y:t};return o.x==null&&o.y!=null?ce.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):o.y==null&&o.x!=null&&ce.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),i!=null&&(o.spatialReference=i),r!=null&&(o.z=r),n!=null&&(o.m=n),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){return Kye(this)}set latitude(e){const{spatialReference:t,x:r}=this;e!=null&&t&&(t.isWebMercator?this._set("y",dh(r,e,sE)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){return Jye(this)}set longitude(e){const{y:t,spatialReference:r}=this;e!=null&&r&&(r.isWebMercator?this._set("x",dh(e,t,sE)[0]):r.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,r){t[r]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new $x;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return $x.copy(e,this),this}equals(e){if(e==null)return!1;const{x:t,y:r,z:n,m:i,spatialReference:s}=this,{z:o,m:a}=e;let{x:l,y:c,spatialReference:d}=e;if(!s.equals(d))if(s.isWebMercator&&d.isWGS84)[l,c]=dh(l,c),d=s;else{if(!s.isWGS84||!d.isWebMercator)return!1;[l,c]=z$(l,c),d=s}return t===l&&r===c&&n===o&&i===a&&s.wkid===d.wkid}offset(e,t,r){return this.x+=e,this.y+=t,r!=null&&(this.z=(this.z??0)+r),this}normalize(){if(!this.spatialReference)return this;const e=xx(this.spatialReference);if(!e)return this;let t=this.x;const[r,n]=e.valid,i=2*n;let s;return t>n?(s=Math.ceil(Math.abs(t-n)/i),t-=s*i):t<r&&(s=Math.ceil(Math.abs(t-r)/i),t+=s*i),this._set("x",t),this}distance(e){return Hye(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};u([f({readOnly:!0})],qe.prototype,"cache",null),u([f({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],qe.prototype,"hasM",null),u([f({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],qe.prototype,"hasZ",null),u([f({type:Number})],qe.prototype,"latitude",null),u([f({type:Number})],qe.prototype,"longitude",null),u([f({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),ht(e=>isNaN(e)?e:Jn(e))],qe.prototype,"x",void 0),u([re("x")],qe.prototype,"writeX",null),u([X("x")],qe.prototype,"readX",null),u([f({type:Number,json:{write:!0}})],qe.prototype,"y",void 0),u([f({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],qe.prototype,"z",void 0),u([f({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],qe.prototype,"m",void 0),qe=$x=u([A("esri.geometry.Point")],qe),qe.prototype.toJSON.isDefaultToJSON=!0;const oE=[0,0];function gK(e,t){return t!=null&&Vn(e,t.x,t.y,t.z)}function fXe(e,t){if(!t.points?.length)return!1;for(const r of t.points)if(!dy(e,r))return!1;return!0}function Zye(e,t){const{xmin:r,ymin:n,zmin:i,xmax:s,ymax:o,zmax:a}=t;return e.hasZ&&t.hasZ?Vn(e,r,n,i)&&Vn(e,r,o,i)&&Vn(e,s,o,i)&&Vn(e,s,n,i)&&Vn(e,r,n,a)&&Vn(e,r,o,a)&&Vn(e,s,o,a)&&Vn(e,s,n,a):Vn(e,r,n)&&Vn(e,r,o)&&Vn(e,s,o)&&Vn(e,s,n)}function dy(e,t){return Vn(e,t[0],t[1])}function Yye(e,t){return Vn(e,t[0],t[1],t[2])}function Vn(e,t,r,n){return t>=e.xmin&&t<=e.xmax&&r>=e.ymin&&r<=e.ymax&&(n==null||!e.hasZ||n>=e.zmin&&n<=e.zmax)}function Qye(e,t){return oE[1]=t.y,oE[0]=t.x,Xye(e,oE)}function Xye(e,t){return vK(e.rings,t)}function vK(e,t){if(!e)return!1;if(eme(e))return SF(!1,e,t);let r=!1;for(let n=0,i=e.length;n<i;n++)r=SF(r,e[n],t);return r}function eme(e){return!Array.isArray(e[0][0])}function SF(e,t,r){const[n,i]=r;let s=e,o=0;for(let a=0,l=t.length;a<l;a++){o++,o===l&&(o=0);const[c,d]=t[a],[p,y]=t[o];(d<i&&y>=i||y<i&&d>=i)&&c+(i-d)/(y-d)*(p-c)<n&&(s=!s)}return s}function tme(e,t){return gK(e,t)}function rme(e,t){const r=e.hasZ&&t.hasZ;let n,i,s;if(e.xmin<=t.xmin){if(n=t.xmin,e.xmax<n)return!1}else if(n=e.xmin,t.xmax<n)return!1;if(e.ymin<=t.ymin){if(i=t.ymin,e.ymax<i)return!1}else if(i=e.ymin,t.ymax<i)return!1;if(r&&t.hasZ){if(e.zmin<=t.zmin){if(s=t.zmin,e.zmax<s)return!1}else if(s=e.zmin,t.zmax<s)return!1}return!0}function nme(e,t){const{points:r,hasZ:n}=t,i=n?Yye:dy;for(const s of r)if(i(e,s))return!0;return!1}const xp=[0,0],Sp=[0,0],_p=[0,0],$p=[0,0],ime=[xp,Sp,_p,$p],bK=[[_p,xp],[xp,Sp],[Sp,$p],[$p,_p]];function sme(e,t){return ome(e,t.rings)}function ome(e,t){xp[0]=e.xmin,xp[1]=e.ymax,Sp[0]=e.xmax,Sp[1]=e.ymax,_p[0]=e.xmin,_p[1]=e.ymin,$p[0]=e.xmax,$p[1]=e.ymin;for(const r of ime)if(vK(t,r))return!0;for(const r of t){if(!r.length)continue;let n=r[0];if(dy(e,n))return!0;for(let i=1;i<r.length;i++){const s=r[i];if(dy(e,s)||wK(n,s,bK))return!0;n=s}}return!1}function ame(e,t){xp[0]=e.xmin,xp[1]=e.ymax,Sp[0]=e.xmax,Sp[1]=e.ymax,_p[0]=e.xmin,_p[1]=e.ymin,$p[0]=e.xmax,$p[1]=e.ymin;const r=t.paths;for(const n of r){if(!r.length)continue;let i=n[0];if(dy(e,i))return!0;for(let s=1;s<n.length;s++){const o=n[s];if(dy(e,o)||wK(i,o,bK))return!0;i=o}}return!1}const Hr=[0,0];function lme(e){for(let t=0;t<e.length;t++){const r=e[t];for(let i=0;i<r.length-1;i++){const s=r[i],o=r[i+1];for(let a=t+1;a<e.length;a++)for(let l=0;l<e[a].length-1;l++){const c=e[a][l],d=e[a][l+1];if(hI(s,o,c,d,Hr)&&!(Hr[0]===s[0]&&Hr[1]===s[1]||Hr[0]===c[0]&&Hr[1]===c[1]||Hr[0]===o[0]&&Hr[1]===o[1]||Hr[0]===d[0]&&Hr[1]===d[1]))return!0}}const n=r.length;if(!(n<=4))for(let i=0;i<n-3;i++){let s=n-1;i===0&&(s=n-2);const o=r[i],a=r[i+1];for(let l=i+2;l<s;l++){const c=r[l],d=r[l+1];if(hI(o,a,c,d,Hr)&&!(Hr[0]===o[0]&&Hr[1]===o[1]||Hr[0]===c[0]&&Hr[1]===c[1]||Hr[0]===a[0]&&Hr[1]===a[1]||Hr[0]===d[0]&&Hr[1]===d[1]))return!0}}}return!1}function wK(e,t,r){for(let n=0;n<r.length;n++)if(hI(e,t,r[n][0],r[n][1]))return!0;return!1}function hI(e,t,r,n,i){const[s,o]=e,[a,l]=t,[c,d]=r,[p,y]=n,m=p-c,g=s-c,b=a-s,w=y-d,S=o-d,_=l-o,x=w*b-m*_;if(x===0)return!1;const O=(m*S-w*g)/x,$=(b*S-_*g)/x;return O>=0&&O<=1&&$>=0&&$<=1&&(i&&(i[0]=s+O*(a-s),i[1]=o+O*(l-o)),!0)}function ume(e){switch(e){case"esriGeometryEnvelope":case"extent":return rme;case"esriGeometryMultipoint":case"multipoint":return nme;case"esriGeometryPoint":case"point":return tme;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return sme;case"esriGeometryPolyline":case"polyline":return ame}}var Ks;function cme(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function su(e,t,r){return t==null?r:r==null?t:e(t,r)}let ze=Ks=class extends An{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,r,n,i){return cme(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?be.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:r,ymax:n,spatialReference:i??be.WGS84}}static fromPoint(e){return new Ks({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new qe({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new Ks;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&Sx(t,r)&&(e=t.isWebMercator?_x(e):b0(e,!0)),e.type==="point"?gK(this,e):e.type==="extent"&&Zye(this,e)}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&Sx(t,r)&&(e=t.isWebMercator?_x(e):b0(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),r=this.width*t,n=this.height*t;if(this.xmin+=r,this.ymin+=n,this.xmax-=r,this.ymax-=n,this.hasZ){const i=(this.zmax-this.zmin)*t;this.zmin+=i,this.zmax-=i}if(this.hasM){const i=(this.mmax-this.mmin)*t;this.mmin+=i,this.mmax-=i}return this}intersects(e){if(e==null)return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,r=e.spatialReference;return t&&r&&!Ei(t,r)&&Sx(t,r)&&(e=t.isWebMercator?_x(e):b0(e,!0)),ume(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,r){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,r!=null&&(this.zmin+=r,this.zmax+=r),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=su(Math.min,this.zmin,e.zmin),this.zmax=su(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=su(Math.min,this.mmin,e.mmin),this.mmax=su(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:e!=null&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=su(Math.max,this.zmin,e.zmin),this.zmax=su(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=su(Math.max,this.mmin,e.mmin),this.mmax=su(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=xx(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,r=this._getCM(e);if(r){const n=t.isWebMercator?b0(r):r;this.xmin-=r.x,this.xmax-=r.x,t.isWebMercator||(n.x=aE(n.x,e).x),this.spatialReference=new be(Lp((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:n.x}))}return this}_getCM(e){let t=null;const[r,n]=e.valid,i=this.xmin,s=this.xmax;return i>=r&&i<=n&&s>=r&&s<=n||(t=this.center),t}_normalize(e,t,r){const n=this.spatialReference;if(!n)return this;const i=r??xx(n);if(i==null)return this;const s=this._getParts(i).map(l=>l.extent);if(s.length<2)return s[0]||this;if(s.length>2)return e?this._shiftCM(i):this.set({xmin:i.valid[0],xmax:i.valid[1]});if(e)return this._shiftCM(i);if(t)return s;let o=!0,a=!0;return s.forEach(l=>{l.hasZ||(o=!1),l.hasM||(a=!1)}),{rings:s.map(l=>{const c=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(o){const d=(l.zmax-l.zmin)/2;for(let p=0;p<c.length;p++)c[p].push(d)}if(a){const d=(l.mmax-l.mmin)/2;for(let p=0;p<c.length;p++)c[p].push(d)}return c}),hasZ:o,hasM:a,spatialReference:n}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:i,ymax:s,spatialReference:o}=this,a=this.width,l=this.xmin,c=this.xmax;let d;e=e||xx(o);const[p,y]=e.valid;d=aE(this.xmin,e);const m=d.x,g=d.frameId;d=aE(this.xmax,e);const b=d.x,w=d.frameId,S=m===b&&a>0;if(a>2*y){const _=new Ks(l<c?m:b,i,y,s,o),x=new Ks(p,i,l<c?b:m,s,o),O=new Ks(0,i,y,s,o),$=new Ks(p,i,0,s,o),T=[],j=[];_.contains(O)&&T.push(g),_.contains($)&&j.push(g),x.contains(O)&&T.push(w),x.contains($)&&j.push(w);for(let I=g+1;I<w;I++)T.push(I),j.push(I);t.push({extent:_,frameIds:[g]},{extent:x,frameIds:[w]},{extent:O,frameIds:T},{extent:$,frameIds:j})}else m>b||S?t.push({extent:new Ks(m,i,y,s,o),frameIds:[g]},{extent:new Ks(p,i,b,s,o),frameIds:[w]}):t.push({extent:new Ks(m,i,b,s,o),frameIds:[g]});this.cache._parts=t}const r=this.hasZ,n=this.hasM;if(r||n){const i={};r&&(i.zmin=this.zmin,i.zmax=this.zmax),n&&(i.mmin=this.mmin,i.mmax=this.mmax);for(let s=0;s<t.length;s++)t[s].extent.set(i)}return t}};function aE(e,t){const[r,n]=t.valid,i=2*n;let s,o=0;return e>n?(s=Math.ceil(Math.abs(e-n)/i),e-=s*i,o=s):e<r&&(s=Math.ceil(Math.abs(e-r)/i),e+=s*i,o=-s),{x:e,frameId:o}}u([f({readOnly:!0})],ze.prototype,"cache",null),u([f({readOnly:!0})],ze.prototype,"center",null),u([f({readOnly:!0})],ze.prototype,"extent",null),u([f({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],ze.prototype,"hasM",null),u([f({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],ze.prototype,"hasZ",null),u([f({readOnly:!0})],ze.prototype,"height",null),u([f({readOnly:!0})],ze.prototype,"width",null),u([f({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],ze.prototype,"xmin",void 0),u([f({type:Number,json:{write:!0}})],ze.prototype,"ymin",void 0),u([f({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],ze.prototype,"mmin",void 0),u([f({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],ze.prototype,"zmin",void 0),u([f({type:Number,json:{write:!0}})],ze.prototype,"xmax",void 0),u([f({type:Number,json:{write:!0}})],ze.prototype,"ymax",void 0),u([f({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],ze.prototype,"mmax",void 0),u([f({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],ze.prototype,"zmax",void 0),ze=Ks=u([A("esri.geometry.Extent")],ze),ze.prototype.toJSON.isDefaultToJSON=!0;let _g;const dme=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,yI=globalThis.document?.documentElement;function xK(){const e=yI?.getAttribute("lang"),t=globalThis.navigator?.language;return dme??e??t??"en"}function Is(){return _g===void 0&&(_g=xK()),_g}const pme=/^(?<language>[a-z]{2,3})(?:-[a-z]{3})?(?:-[A-Z][a-z]{3})?(?:-(?<region>[A-Z]{2}|\d{3}))?(?:-.*)?$/;function hR(e=Is()){return pme.exec(e)?.groups}const Tx=[];function hXe(e){return Tx.push(e),vr(()=>{Tx.splice(Tx.indexOf(e),1)})}const Ox=[];function yR(e){return Ox.push(e),vr(()=>Ox.splice(Ox.indexOf(e),1))}function _F(){const e=xK();_g!==e&&([...Ox].forEach(t=>t(e)),_g=e,[...Tx].forEach(t=>t(e)))}globalThis.addEventListener?.("languagechange",_F),yI&&new MutationObserver(()=>{_F()}).observe(yI,{attributeFilter:["lang"]});let nw;function fme(e){return nw&&!nw.destroyed||(nw=e()),nw}var mI;const hme=new Pe({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let er=mI=class extends ft{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new mI({categories:this.categories?D(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let r=[];this.categories&&(r=this.categories.map(o=>Array.isArray(o)?JSON.stringify(o):o));let n="";if(this.extent){const o=hK(this.extent,be.WGS84);o!=null&&(n=`${o.xmin},${o.ymin},${o.xmax},${o.ymax}`)}let i=this.query;!this.disableExtraQuery&&e.extraQuery&&(i="("+i+")"+e.extraQuery);const s={categories:r,bbox:n,q:i,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(s.sortField=this.sortField.split(",").map(o=>hme.toJSON(o.trim())).join(","),s.sortOrder=this.sortOrder),{query:{...t,...s}}}};u([f()],er.prototype,"categories",void 0),u([f()],er.prototype,"disableExtraQuery",void 0),u([f({type:ze})],er.prototype,"extent",void 0),u([f()],er.prototype,"filter",void 0),u([f()],er.prototype,"num",void 0),u([f()],er.prototype,"query",void 0),u([f()],er.prototype,"sortField",void 0),u([f()],er.prototype,"sortOrder",null),u([f()],er.prototype,"start",void 0),er=mI=u([A("esri.portal.PortalQueryParams")],er);var gI;let Qt=gI=class extends z{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t&&this.portal?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.portal?.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then(t=>{const r=t.categorySchema||[];return r.some(n=>n.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):r})}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new K("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new gI({sourceJSON:e});return t.read(e),t}queryItems(e,t){let r=br(er,e);const n=this.portal;return parseFloat(n.currentVersion)>5?(r=r||new er,n.queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",t)):(r=r?r.clone():new er,r.query="group:"+this.id+(r.query?" "+r.query:""),n.queryItems(r,t))}_fetchCategorySchemaSet(e,t){const r=this.portal;return r.fetchSelf(r.authMode,!0,t).then(n=>{const i=n.contentCategorySetsGroupQuery;if(i){const s=new er({disableExtraQuery:!0,num:1,query:i});return r.queryGroups(s,t)}throw new K("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(n=>{if(n.total){const i=n.results[0],s=new er({num:1,query:`typekeywords:"${e}"`});return i.queryItems(s,t)}throw new K("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(n=>n.total?n.results[0].fetchData("json",t).then(i=>{const s=i?.categorySchema;return s?.length?s:[]}):[])}};u([f()],Qt.prototype,"access",void 0),u([f({type:Date})],Qt.prototype,"created",void 0),u([f()],Qt.prototype,"description",void 0),u([f()],Qt.prototype,"id",void 0),u([f()],Qt.prototype,"isInvitationOnly",void 0),u([f({type:Date})],Qt.prototype,"modified",void 0),u([f()],Qt.prototype,"owner",void 0),u([f()],Qt.prototype,"portal",void 0),u([f()],Qt.prototype,"snippet",void 0),u([f()],Qt.prototype,"sortField",void 0),u([f()],Qt.prototype,"sortOrder",void 0),u([f()],Qt.prototype,"sourceJSON",void 0),u([f()],Qt.prototype,"tags",void 0),u([f()],Qt.prototype,"thumbnail",void 0),u([f({readOnly:!0})],Qt.prototype,"thumbnailUrl",null),u([f()],Qt.prototype,"title",void 0),u([f({readOnly:!0})],Qt.prototype,"url",null),Qt=gI=u([A("esri.portal.PortalGroup")],Qt);let ed=class extends ft{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};u([f()],ed.prototype,"nextQueryParams",void 0),u([f()],ed.prototype,"queryParams",void 0),u([f()],ed.prototype,"results",void 0),u([f()],ed.prototype,"total",void 0),ed=u([A("esri.portal.PortalQueryResult")],ed);let Da=class extends z{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const t=this.portal?.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new K("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};u([f({type:Date})],Da.prototype,"created",void 0),u([f()],Da.prototype,"id",void 0),u([f()],Da.prototype,"portal",void 0),u([f()],Da.prototype,"title",void 0),u([f({readOnly:!0})],Da.prototype,"url",null),u([f()],Da.prototype,"username",void 0),Da=u([A("esri.portal.PortalFolder")],Da);var vI;let lt=vI=class extends z{constructor(e){super(e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.id=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.id}`:null}get url(){const e=this.portal?.restUrl;return e?`${e}/community/users/${this.id}`:null}addItem(e){const t=e&&e.item,r=e?.data,n=e?.folder,i={method:"post"};t&&(i.query=t.createPostQuery(),r!=null&&(typeof r=="string"?i.query.text=r:typeof r=="object"&&(i.query.text=JSON.stringify(r))));let s=this.userContentUrl;return n&&(s+="/"+(typeof n=="string"?n:n.id)),this.portal.request(s+"/addItem",i).then(o=>(t.id=o.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}async deleteItem(e,t=!1){let r=this.userContentUrl;e.ownerFolder&&(r+="/"+e.ownerFolder);const n=t?{permanentDelete:!0}:{};await this.portal.request(r+`/items/${e.id}/delete`,{method:"post",query:n}),e.id=null,e.portal=null}async deleteItems(e,t=!1){e=e.slice();const r=this.userContentUrl+"/deleteItems",n=[],i=e.map(s=>s.id);if(i.length){const s={method:"post",query:{items:i.join(","),permanentDelete:t}},o=await this.portal.request(r,s);for(const a of o.results){const l=e.find(p=>a.itemId===p.id),c=a.success;let d=null;c?(l.id=null,l.portal=null):a.error&&(d=new K("portal:delete-item-failed",a.error.message,a.error)),n.push({item:l,success:c,error:d})}}return n}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then(t=>{let r;return r=t&&t.folders?t.folders.map(n=>{const i=Da.fromJSON(n);return i.portal=this.portal,i}):[],r})}fetchGroups(){return this.portal.request(this.url??"").then(e=>{let t;return t=e&&e.groups?e.groups.map(r=>{const n=Qt.fromJSON(r);return n.portal=this.portal,n}):[],t})}async fetchItems(e){e??(e={});let t=this.userContentUrl??"";e.folder&&(t+="/"+e.folder.id);const{default:r}=await ae(()=>Promise.resolve().then(()=>SK),void 0),n={folders:!1,inRecycleBin:!!e.inRecycleBin||null,foldersContent:!(e.folder||!e.includeSubfolderItems)||null,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"},i=await this.portal.request(t,{query:n});let s;return i?.items?(s=i.items.map(o=>{const a=r.fromJSON(o);return a.portal=this.portal,a}),await Promise.all(s.map(o=>o.load())),{items:s,nextStart:i.nextStart,total:i.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new Qt({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new K("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(e,t){const r=this.userContentUrl,n=t?{folderID:typeof t=="string"?t:t.id}:null;await this.portal.request(r+`/items/${e.id}/restore`,{method:"post",query:n})}toJSON(){throw new K("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new vI({sourceJSON:e});return t.read(e),t}};u([f()],lt.prototype,"access",void 0),u([f({type:Date})],lt.prototype,"created",void 0),u([f()],lt.prototype,"culture",void 0),u([f()],lt.prototype,"description",void 0),u([f()],lt.prototype,"email",void 0),u([f()],lt.prototype,"favGroupId",void 0),u([f()],lt.prototype,"fullName",void 0),u([f()],lt.prototype,"id",void 0),u([f({type:Date})],lt.prototype,"modified",void 0),u([f()],lt.prototype,"orgId",void 0),u([f()],lt.prototype,"portal",void 0),u([f()],lt.prototype,"preferredView",void 0),u([f()],lt.prototype,"privileges",void 0),u([f()],lt.prototype,"region",void 0),u([f()],lt.prototype,"role",void 0),u([f()],lt.prototype,"roleId",void 0),u([f()],lt.prototype,"sourceJSON",void 0),u([f()],lt.prototype,"thumbnail",void 0),u([f({readOnly:!0})],lt.prototype,"thumbnailUrl",null),u([f()],lt.prototype,"units",void 0),u([f({readOnly:!0})],lt.prototype,"userContentUrl",null),u([f({readOnly:!0})],lt.prototype,"url",null),u([f()],lt.prototype,"username",void 0),u([f()],lt.prototype,"userLicenseTypeId",void 0),u([f()],lt.prototype,"userType",void 0),lt=vI=u([A("esri.portal.PortalUser")],lt);var Ii;let qm;const $F={PortalGroup:()=>Promise.resolve({default:Qt}),PortalItem:()=>ae(()=>Promise.resolve().then(()=>SK),void 0),PortalUser:()=>Promise.resolve({default:lt})};var xl;let te=(xl=class extends z.JSONSupportMixin(xi){constructor(t){super(t),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=Xe.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(t){return typeof t=="string"?{url:t}:t}destroy(){TF.unregister(this),this.defaultBasemap=As(this.defaultBasemap),this.defaultDevBasemap=As(this.defaultDevBasemap),this.defaultVectorBasemap=As(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=Ao(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(t){if(t)for(const r of t)Xe.request.trustedServers.includes(r)||Xe.request.trustedServers.push(r);return t}readDefaultBasemap(t){return this._readBasemap(t)}readDefaultDevBasemap(t){return this._readBasemap(t)}readDefaultVectorBasemap(t){return this._readBasemap(t)}get extraQuery(){const t=this.user?.orgId,r=!t||this.canSearchPublic;return this.id&&!r?` AND orgid:${this.id}`:null}get hasAPIKey(){return Vpe(this.restUrl)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let t=this.url;if(t){const r=t.indexOf("/sharing");t=r>0?t.slice(0,r):this.url.replace(/\/+$/,""),t+="/sharing/rest"}return t}get thumbnailUrl(){const t=this.restUrl,r=this.thumbnail;return t&&r?this._normalizeSSL(t+"/portals/self/resources/"+r):null}readUrlKey(t){return t&&t.toLowerCase()}readUser(t){let r=null;return t&&(r=lt.fromJSON(t),r.portal=this),r}load(t){const r=ae(()=>Promise.resolve().then(()=>lve),void 0).then(({default:n})=>{Un(t),qm=n}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,t)).then(n=>{if(!this.hasAPIKey&&Ke){const i=Ke;this.credential=i.findCredential(this.restUrl),this.credential||this.authMode!==Ii.AUTH_MODE_AUTO&&this.authMode!==Ii.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=i.on("credential-create",yme(new WeakRef(this))),TF.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=n,this.read(n)});return this.addResolvingPromise(r),Promise.resolve(this)}async createElevationLayers(){await this.load();const t=this._getHelperService("defaultElevationLayers"),r=(await ae(()=>import("./ElevationLayer-2a6c8e3f.js"),["assets/ElevationLayer-2a6c8e3f.js","assets/ArcGISCachedService-e94b2854.js","assets/TileInfo-ce8dbde4.js","assets/TileKey-e7ec6ed7.js","assets/TileInfoTilemapCache-4691b1a6.js","assets/TilemapCache-ad67f345.js","assets/ByteSizeUnit-d4757d40.js","assets/memoryEstimations-95fc020c.js"])).default;return t?t.map(n=>new r({id:n.id,url:n.url})):[]}async fetchBasemaps(t,r){const n=await this._fetchBasemaps(t,r);if(r?.include3d===!0&&this.use3dBasemaps!==!1){const i=await this._fetchBasemaps3D(t,r);n.unshift(...i)}return n}async fetchDefault3DBasemap(t){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const r=new er;r.query=this.default3DBasemapQuery,r.disableExtraQuery=!0;const n=(await this.queryItems(r,t)).results.find(i=>i.type==="Web Scene");return n?new qm({portalItem:n}):null}fetchCategorySchema(t){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",t).then(r=>r.categorySchema):Fl(t)?Promise.reject(gr()):Promise.resolve([])}async fetchClassificationSchema(t){return this.hasClassificationSchema?this.request(this.restUrl+"/portals/self/classification/classificationSchema",t).then(r=>r.classificationSchema):null}fetchFeaturedGroups(t){const r=this.featuredGroups,n=new er({num:100,sortField:"title"});if(r?.length){const i=[];for(const s of r)i.push(`(title:"${s.title}" AND owner:${s.owner})`);return n.query=i.join(" OR "),this.queryGroups(n,t).then(s=>s.results)}return Fl(t)?Promise.reject(gr()):Promise.resolve([])}fetchRegions(t){const r=this.user?.culture||this.culture||Is();return this.request(this.restUrl+"/portals/regions",{...t,query:{culture:r}})}fetchSettings(t){const r=this.user?.culture||this.culture||Is();return this.request(this.restUrl+"/portals/self/settings",{...t,query:{culture:r}})}static getDefault(){return fme(()=>new Ii)}queryGroups(t,r){return this.queryPortal("/community/groups",t,"PortalGroup",r)}queryItems(t,r){return this.queryPortal("/search",t,"PortalItem",r)}queryUsers(t,r){return t.sortField||(t.sortField="username"),this.queryPortal("/community/users",t,"PortalUser",r)}fetchSelf(t=this.authMode,r=!1,n){const i=this.restUrl+"/portals/self",s={authMode:t,query:{culture:Is().toLowerCase()},withCredentials:!0,...n};return s.authMode==="auto"&&(s.authMode="no-prompt"),r&&(s.query.default=!0),this.request(i,s)}queryPortal(t,r,n,i){const s=br(er,r),o=a=>this.request(this.restUrl+t,{...s.toRequestOptions(this),...i}).then(l=>{const c=s.clone();return c.start=l.nextStart,new ed({nextQueryParams:c,queryParams:s,total:l.total,results:Ii._resultsToTypedArray(a,{portal:this},l,i)})}).then(l=>Promise.all(l.results.map(c=>typeof c.when=="function"?c.when():l)).then(()=>l,c=>(ca(c),l)));return n&&$F[n]?$F[n]().then(({default:a})=>(Un(i),o(a))):o()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new K("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===Ii.AUTH_MODE_ANONYMOUS||this.authMode===Ii.AUTH_MODE_NO_PROMPT&&!Ke)return Promise.reject(new K("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const t=r=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(r||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=r,this.fetchSelf("immediate"))):this.user&&this.credential===r?null:(this.credential=r,this.fetchSelf("immediate"))).then(n=>{n&&(this.sourceJSON=n,this.read(n))});return Ke?Ke.getCredential(this.restUrl,{prompt:this.authMode!==Ii.AUTH_MODE_NO_PROMPT}).then(r=>t(r)):t(this.credential)}normalizeUrl(t){const r=this.credential?.token;return this._normalizeSSL(r?t+(t.includes("?")?"&":"?")+"token="+r:t)}requestToTypedArray(t,r,n){return this.request(t,r).then(i=>{const s=Ii._resultsToTypedArray(n,{portal:this},i);return Promise.all(s.map(o=>typeof o.when=="function"?o.when():i)).then(()=>s,()=>s)})}request(t,r={}){const n={f:"json",...r.query},{authMode:i=this.authMode===Ii.AUTH_MODE_ANONYMOUS||this.authMode===Ii.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:s=null,cacheBust:o=!1,method:a="auto",responseType:l="json",signal:c}=r,d={authMode:i,body:s,cacheBust:o,method:a,query:n,responseType:l,timeout:0,signal:c};return r.withCredentials&&(d.withCredentials=!0),nt(this._normalizeSSL(t),d).then(p=>p.data)}toJSON(){throw new K("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");return new Ii({sourceJSON:t})}_getHelperService(t){const r=this.helperServices&&this.helperServices[t];if(!r)throw new K("portal:service-not-found",`The \`helperServices\` do not include an entry named "${t}"`);return r}async _fetchBasemaps(t,r){const n=new er;n.query=t||(UA()?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),n.disableExtraQuery=!0;const i=await this.queryGroups(n,r);if(!i.total)return[];const s=i.results[0];n.num=100,n.query='type:"Web Map" -type:"Web Application"',n.sortField=s.sortField||"name",n.sortOrder=s.sortOrder||"desc";const o=await s.queryItems(n,r);return o.total?o.results.filter(a=>a.type==="Web Map").map(a=>new qm({portalItem:a})):[]}async _fetchBasemaps3D(t,r){const n=t||this.basemapGalleryGroupQuery3D;if(!n)return[];if(UA())return[];const i=new er({query:n,disableExtraQuery:!0}),s=await this.queryGroups(i,r);if(!s.total)return[];const o=s.results[0];i.num=100,i.query='type:"Web Scene"',i.sortField=o.sortField||"name",i.sortOrder=o.sortOrder||"desc";const a=await o.queryItems(i,r);return a.total?a.results.filter(l=>l.type==="Web Scene").map(l=>new qm({portalItem:l})):[]}_normalizeSSL(t){return t.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(t){if(t){const r=qm.fromJSON(t);return r.portalItem={portal:this},r}return null}static _resultsToTypedArray(t,r,n,i){let s;if(n){const o=i!=null?i.signal:null;s=n.listings||n.notifications||n.userInvitations||n.tags||n.items||n.groups||n.comments||n.provisions||n.results||n.relatedItems||n,(t||r)&&(s=s.map(a=>{const l=Object.assign(t?t.fromJSON(a):a,r);return typeof l.load=="function"&&l.load(o),l}))}else s=[];return s}},Ii=xl,xl.AUTH_MODE_ANONYMOUS="anonymous",xl.AUTH_MODE_AUTO="auto",xl.AUTH_MODE_IMMEDIATE="immediate",xl.AUTH_MODE_NO_PROMPT="no-prompt",xl);u([f()],te.prototype,"access",void 0),u([f()],te.prototype,"allSSL",void 0),u([f()],te.prototype,"authMode",void 0),u([f()],te.prototype,"authorizedCrossOriginDomains",void 0),u([X("authorizedCrossOriginDomains")],te.prototype,"readAuthorizedCrossOriginDomains",null),u([f()],te.prototype,"basemapGalleryGroupQuery",void 0),u([f({json:{name:"3DBasemapGalleryGroupQuery"}})],te.prototype,"basemapGalleryGroupQuery3D",void 0),u([f()],te.prototype,"bingKey",void 0),u([f()],te.prototype,"canListApps",void 0),u([f()],te.prototype,"canListData",void 0),u([f()],te.prototype,"canListPreProvisionedItems",void 0),u([f()],te.prototype,"canProvisionDirectPurchase",void 0),u([f()],te.prototype,"canSearchPublic",void 0),u([f()],te.prototype,"canShareBingPublic",void 0),u([f()],te.prototype,"canSharePublic",void 0),u([f()],te.prototype,"canSignInArcGIS",void 0),u([f()],te.prototype,"canSignInIDP",void 0),u([f()],te.prototype,"colorSetsGroupQuery",void 0),u([f()],te.prototype,"commentsEnabled",void 0),u([f({type:Date})],te.prototype,"created",void 0),u([f()],te.prototype,"credential",void 0),u([f()],te.prototype,"culture",void 0),u([f()],te.prototype,"currentVersion",void 0),u([f()],te.prototype,"customBaseUrl",void 0),u([f()],te.prototype,"default3DBasemapQuery",void 0),u([f()],te.prototype,"defaultBasemap",void 0),u([X("defaultBasemap")],te.prototype,"readDefaultBasemap",null),u([f()],te.prototype,"defaultDevBasemap",void 0),u([X("defaultDevBasemap")],te.prototype,"readDefaultDevBasemap",null),u([f({type:ze})],te.prototype,"defaultExtent",void 0),u([f()],te.prototype,"defaultVectorBasemap",void 0),u([X("defaultVectorBasemap")],te.prototype,"readDefaultVectorBasemap",null),u([f()],te.prototype,"description",void 0),u([f()],te.prototype,"devBasemapGalleryGroupQuery",void 0),u([f()],te.prototype,"eueiEnabled",void 0),u([f({readOnly:!0})],te.prototype,"extraQuery",null),u([f()],te.prototype,"featuredGroups",void 0),u([f()],te.prototype,"featuredItemsGroupQuery",void 0),u([f()],te.prototype,"galleryTemplatesGroupQuery",void 0),u([f()],te.prototype,"layoutGroupQuery",void 0),u([f()],te.prototype,"livingAtlasGroupQuery",void 0),u([f({readOnly:!0})],te.prototype,"hasAPIKey",null),u([f()],te.prototype,"hasCategorySchema",void 0),u([f()],te.prototype,"hasClassificationSchema",void 0),u([f()],te.prototype,"helpBase",void 0),u([f()],te.prototype,"helperServices",void 0),u([f()],te.prototype,"helpMap",void 0),u([f()],te.prototype,"homePageFeaturedContent",void 0),u([f()],te.prototype,"homePageFeaturedContentCount",void 0),u([f()],te.prototype,"httpPort",void 0),u([f()],te.prototype,"httpsPort",void 0),u([f()],te.prototype,"id",void 0),u([f()],te.prototype,"ipCntryCode",void 0),u([f({readOnly:!0})],te.prototype,"isOrganization",null),u([f()],te.prototype,"isPortal",void 0),u([f()],te.prototype,"isReadOnly",void 0),u([f({readOnly:!0})],te.prototype,"itemPageUrl",null),u([f()],te.prototype,"layerTemplatesGroupQuery",void 0),u([f()],te.prototype,"maxTokenExpirationMinutes",void 0),u([f({type:Date})],te.prototype,"modified",void 0),u([f()],te.prototype,"name",void 0),u([f()],te.prototype,"portalHostname",void 0),u([f()],te.prototype,"portalMode",void 0),u([f()],te.prototype,"portalProperties",void 0),u([f()],te.prototype,"region",void 0),u([f()],te.prototype,"recycleBinEnabled",void 0),u([f({readOnly:!0})],te.prototype,"restUrl",null),u([f()],te.prototype,"rotatorPanels",void 0),u([f()],te.prototype,"showHomePageDescription",void 0),u([f()],te.prototype,"sourceJSON",void 0),u([f()],te.prototype,"staticImagesUrl",void 0),u([f({json:{name:"2DStylesGroupQuery"}})],te.prototype,"stylesGroupQuery2d",void 0),u([f({json:{name:"stylesGroupQuery"}})],te.prototype,"stylesGroupQuery3d",void 0),u([f()],te.prototype,"supportsHostedServices",void 0),u([f()],te.prototype,"symbolSetsGroupQuery",void 0),u([f()],te.prototype,"templatesGroupQuery",void 0),u([f()],te.prototype,"thumbnail",void 0),u([f({readOnly:!0})],te.prototype,"thumbnailUrl",null),u([f()],te.prototype,"units",void 0),u([f()],te.prototype,"url",void 0),u([f()],te.prototype,"urlKey",void 0),u([X("urlKey")],te.prototype,"readUrlKey",null),u([f()],te.prototype,"user",void 0),u([X("user")],te.prototype,"readUser",null),u([f()],te.prototype,"use3dBasemaps",void 0),u([f()],te.prototype,"useDefault3dBasemap",void 0),u([f()],te.prototype,"useStandardizedQuery",void 0),u([f()],te.prototype,"useVectorBasemaps",void 0),u([f()],te.prototype,"vectorBasemapGalleryGroupQuery",void 0),te=Ii=u([A("esri.portal.Portal")],te);const TF=new FinalizationRegistry(e=>{e.remove()});function yme(e){const t=Ke;return()=>{const r=e.deref();r&&t.findCredential(r.restUrl)&&r.signIn().catch(()=>{})}}let Fa=class extends ft{constructor(t){super(t),this.portalItem=null}normalizeCtorArgs(t){return t?.portalItem&&t.path?{...t,path:OF(t.path,t.portalItem)}:t}set path(t){t!=null&&Oi(t)?ce.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",t)}_castPath(t){return OF(t,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(t="json",r){const n=this.cdnUrl;if(n==null)throw new K("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(n,{responseType:t,query:{token:this.portalItem.apiKey,_ts:r?.cacheBust?Date.now():null},signal:r?.signal})}async update(t,r){const{addOrUpdateResources:n}=await ae(()=>import("./resourceUtils-9b9fd27c.js"),[]);return await n(this.portalItem,[{resource:this,content:t,compress:r?.compress,access:r?.access}],"update",r),this}hasPath(){return this.path!=null}};function OF(e,t){return e==null?e:(e=e.replace(/^\/+/,""),t!=null&&Oi(e)&&(e=DM(e,t.itemUrl)),e?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}u([f()],Fa.prototype,"portalItem",void 0),u([f({type:String,value:null})],Fa.prototype,"path",null),u([ht("path")],Fa.prototype,"_castPath",null),u([f({type:String,readOnly:!0})],Fa.prototype,"url",null),u([f({type:String,readOnly:!0})],Fa.prototype,"cdnUrl",null),u([f({type:String,readOnly:!0})],Fa.prototype,"itemRelativeUrl",null),Fa=u([A("esri.portal.PortalItemResource")],Fa);let Bd=class extends ft{constructor(t){super(t),this.created=null,this.rating=null}};u([f({type:Date})],Bd.prototype,"created",void 0),u([f()],Bd.prototype,"rating",void 0),Bd=u([A("esri.portal.PortalRating")],Bd);var td;const mme=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Knowledge Graph Layer","Map Service","Media Layer","Scene Service","Stream Service","Video Service","Vector Tile Service","WCS","WFS","WMS","WMTS"]),gme=new Set(["KML","GeoJson","CSV"]);let $e=td=class extends z.JSONSupportMixin(xi){static from(e){return M$(td,e)}constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.classification=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let r=e;return e==="Feature Service"||e==="Feature Collection"?r=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":e==="Image Service"?r=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":e==="Scene Service"?r="Scene Layer":e==="Video Service"?r="Video Layer":e==="Scene Package"?r="Scene Layer Package":e==="Stream Service"?r="Feature Layer":e==="Geoprocessing Service"?r=t.includes("Web Tool")?"Tool":"Geoprocessing Service":e==="Geoenrichment Service"?r="GeoEnrichment Service":e==="Geocoding Service"?r="Locator":e==="Microsoft Powerpoint"?r="Microsoft PowerPoint":e==="GeoJson"?r="GeoJSON":e==="Globe Service"?r="Globe Layer":e==="Vector Tile Service"?r="Tile Layer":e==="netCDF"?r="NetCDF":e==="Map Service"?r=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e?.toLowerCase().includes("add in")?r=e.replaceAll(/(add in)/gi,"Add-In"):e==="datastore catalog service"?r="Big Data File Share":e==="Compact Tile Package"?r="Tile Package (tpkx)":e==="Raster function template"?r="Raster Function Template":e==="OGCFeatureServer"?r="OGC Feature Layer":e==="web mapping application"&&t.includes("configurableApp")?r="Instant App":e==="Insights Page"?r="Insights Report":e==="Excalibur Imagery Project"?r="Excalibur Project":e==="3DTiles Service"?r="3D tiles layer":e==="3DTiles Package"&&(r="3D tiles package"),r}readExtent(e){return e&&e.length?new ze(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type?.toLowerCase()||"",t=this.typeKeywords||[],r="esri/images/portal/",n="16";let i,s=!1,o=!1,a=!1,l=!1,c=!1,d=!1,p=!1,y=!1;return e.indexOf("service")>0||e==="feature collection"||e==="kml"||e==="wms"||e==="wmts"||e==="wfs"?(s=t.includes("Hosted Service"),e==="feature service"||e==="feature collection"||e==="kml"||e==="wfs"?(o=t.includes("Table"),a=t.includes("Route Layer"),l=t.includes("Markup"),c=t.includes("Spatiotemporal"),d=t.includes("UtilityNetwork"),i=c&&o?"spatiotemporaltable":o?"table":a?"routelayer":l?"markup":c?"spatiotemporal":d?"utilitynetwork":s?"featureshosted":"features"):e==="map service"||e==="wms"||e==="wmts"?(c=t.includes("Spatiotemporal"),p=t.includes("Relational"),i=c||p?"mapimages":s||t.includes("Tiled")||e==="wmts"?"maptiles":"mapimages"):i=e==="scene service"?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":e==="image service"?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":e==="stream service"?"streamlayer":e==="vector tile service"?"vectortile":e==="datastore catalog service"?"datastorecollection":e==="geocoding service"?"geocodeservice":e==="video service"?t.includes("Live Stream")?"livestreamvideolayer":"videolayer":e==="geoprocessing service"?t.includes("Web Tool")?"tool":"layers":e==="geodata service"?"geodataservice":e==="3dtiles service"?t.includes("3DObject")?"3dobjecttileslayer":t.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):e==="web map"||e==="cityengine web scene"?i="maps":e==="web scene"?i=t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":e==="web mapping application"&&t.includes("configurableApp")?i="instantapps":e==="web mapping application"||e==="mobile application"||e==="application"||e==="operation view"||e==="desktop application"?i="apps":e==="map document"||e==="map package"||e==="published map"||e==="scene document"||e==="globe document"||e==="basemap package"||e==="mobile basemap package"||e==="mobile map package"||e==="project package"||e==="project template"||e==="pro map"||e==="layout"||e==="layer"&&t.includes("ArcGIS Pro")||e==="explorer map"&&t.indexOf("Explorer Document")?i="mapsgray":e==="service definition"||e==="shapefile"||e==="cad drawing"||e==="geojson"||e==="netcdf"||e==="administrative report"?i="datafiles":e==="360 vr experience"?i="360vr":e==="explorer add in"||e==="desktop add in"||e==="windows viewer add in"||e==="windows viewer configuration"?i="appsgray":e==="arcgis pro add in"||e==="arcgis pro configuration"?i="addindesktop":e==="pdf"?i="pdf":e==="microsoft word"?i="word":e==="microsoft excel"?i="excel":e==="microsoft powerpoint"?i="ppt":e==="rule package"||e==="file geodatabase"||e==="sqlite geodatabase"||e==="csv collection"||e==="kml collection"||e==="windows mobile package"||e==="map template"||e==="desktop application template"||e==="gml"||e==="arcpad package"||e==="code sample"||e==="document link"||e==="earth configuration"||e==="operations dashboard add in"||e==="rules package"||e==="workflow manager package"||e==="explorer map"&&t.includes("Explorer Mapping Application")||t.includes("Document")?i="datafilesgray":e==="network analysis service"||e==="geoprocessing service"||e==="geodata service"||e==="geometry service"||e==="geoprocessing package"||e==="locator package"||e==="geoprocessing sample"||e==="workflow manager service"?i="toolsgray":e==="layer"||e==="layer package"||e==="explorer layer"?i="layersgray":e==="analysis model"?i="analysismodel":e==="scene package"?i="scenepackage":e==="3dtiles package"?i="3dtileslayerpackage":e==="3dtiles service"?i="3dtileslayer":e==="mobile scene package"?i="mobilescenepackage":e==="tile package"||e==="compact tile package"?i="tilepackage":e==="task file"?i="taskfile":e==="report template"?i="report-template":e==="statistical data collection"?i="statisticaldatacollection":e==="insights workbook"?i="workbook":e==="insights model"?i="insightsmodel":e==="insights page"?i="insightspage":e==="insights theme"?i="insightstheme":e==="hub initiative"?i="hubinitiative":e==="hub page"?i="hubpage":e==="hub site application"?i="hubsite":e==="hub event"?i="hubevent":e==="hub project"?i="hubproject":e==="relational database connection"?i="relationaldatabaseconnection":e==="big data file share"?i="datastorecollection":e==="image collection"?i="imagecollection":e==="desktop style"?i="desktopstyle":e==="style"?i=t.includes("Dictionary")?"dictionarystyle":"style":e==="dashboard"?i="dashboard":e==="raster function template"?i="rasterprocessingtemplate":e==="vector tile package"?i="vectortilepackage":e==="ortho mapping project"?i="orthomappingproject":e==="ortho mapping template"?i="orthomappingtemplate":e==="solution"?i="solutions":e==="geopackage"?i="geopackage":e==="deep learning package"?i="deeplearningpackage":e==="real time analytic"?i="realtimeanalytics":e==="reality mapping project"?i="realitymappingproject":e==="big data analytic"?i="bigdataanalytics":e==="feed"?i="feed":e==="excalibur imagery project"?i="excaliburimageryproject":e==="notebook"?i="notebook":e==="storymap"?i="storymap":e==="survey123 add in"?i="survey123addin":e==="mission"?i="mission":e==="mission report"?i="missionreport":e==="mission template"?i="missiontemplate":e==="quickcapture project"?i="quickcaptureproject":e==="pro report"?i="proreport":e==="pro report template"?i="proreporttemplate":e==="urban model"?i="urbanmodel":e==="urban project"?i="urbanproject":e==="web experience"?i="experiencebuilder":e==="web experience template"?i="webexperiencetemplate":e==="experience builder widget"?i="experiencebuilderwidget":e==="experience builder widget package"?i="experiencebuilderwidgetpackage":e==="workflow"?i="workflow":e==="kernel gateway connection"?i="kernelgatewayconnection":e==="insights script"?i="insightsscript":e==="hub initiative template"?i="hubinitiativetemplate":e==="storymap theme"?i="storymaptheme":e==="knowledge graph"?i="knowledgegraph":e==="knowledge graph layer"?i="knowledgegraphlayer":e==="knowledge studio project"?i="knowledgestudio":e==="native application"?i="nativeapp":e==="native application installer"?i="nativeappinstaller":e==="web link chart"?i="linkchart":e==="knowledge graph web investigation"?i="investigation":e==="ogcfeatureserver"?i="features":e==="pro presentation"?i="propresentation":e==="pro project"?i="proproject":e==="insights workbook package"?i="insightsworkbookpackage":e==="apache parquet"?i="apacheparquet":e==="notebook code snippet library"?i="notebookcodesnippets":e==="suitability model"?i="suitabilitymodel":e==="esri classifier definition"?i="classifierdefinition":e==="esri classification schema"?i="classificationschema":e==="insights data engineering workbook"?i="dataengineeringworkbook":e==="insights data engineering model"?i="dataengineeringmodel":e==="deep learning studio project"?i="deeplearningproject":e==="discussion"?i="discussion":e==="allsource project"?i="allsourceproject":e==="api key"?i="apikey":e==="data pipeline"?i="datapipelines":e==="group layer"?(y=t.includes("Map"),i=y?"layergroup2d":"layergroup"):i=e==="media layer"?"onlinemedialayer":e==="form"?t.includes("Survey123")?"survey":"datafilesgray":e==="csv"?"csv":e==="image"?"image":"maps",i?fr(r+i+n+".png"):null}get isLayer(){return this.type!=null&&mme.has(this.type)}get itemCdnUrl(){return WM(this.itemUrl)}get itemPageUrl(){const e=this.portal?.itemPageUrl;return e&&this.id?`${e}?id=${this.id}`:null}get itemUrl(){const e=this.portal?.restUrl;return e&&this.id?`${e}/content/items/${this.id}`:null}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`)??null:null}get userItemUrl(){const e=this.portal?.restUrl;if(!e)return null;const t=this.owner||this.portal?.user?.id;return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){const t=this.portal??(this.portal=te.getDefault()),r=t.load(e).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?t.request(this.itemUrl,{signal:e!=null?e.signal:null,query:{token:this.apiKey}}):{}).then(n=>{this.sourceJSON=n,this.read(n)});return this.addResolvingPromise(r),Promise.resolve(this)}async addRating(e){const t={method:"post",query:{}},r=e instanceof Bd?e.rating:e;return r==null||isNaN(r)||typeof e!="number"||(t.query.rating=r),this.portal?(await this.portal.request(this.itemUrl+"/addRating",t),new Bd({rating:r,created:new Date})):null}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:D(this.applicationProxies),avgRating:this.avgRating,categories:D(this.categories),classification:D(this.classification),created:D(this.created),culture:this.culture,description:this.description,extent:D(this.extent),groupCategories:D(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:D(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:D(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:D(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:D(this.typeKeywords),url:this.url};this.loaded&&(e.loadStatus="loaded");const t=new td({sourceJSON:this.sourceJSON}).set(e);return t._set("isOrgItem",this.isOrgItem),t}createPostQuery(){const e=this.toJSON();for(const t of["tags","typeKeywords","categories"])e[t]=e[t]?.join(", ");for(const t of["extent","classification"]){const r=e[t];r&&(e[t]=JSON.stringify(r))}return e}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(e="json",t){return this.portal.request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}async fetchRating(e){const t=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e});return t.rating!=null?(t.created=new Date(t.created),new Bd(t)):null}fetchRelatedItems(e,t){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},td)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(e=>(this.applicationProxies&&!Object.hasOwn(e,"appProxies")&&(this.applicationProxies=null),this.sourceJSON=e,this.read(e),this))}update(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e?.data,r={method:"post"};r.query=this.createPostQuery();for(const n in r.query)r.query[n]===null&&(r.query[n]="");return r.query.clearEmptyFields=!0,t!=null&&(typeof t=="string"?r.query.text=t:typeof t=="object"&&(r.query.text=JSON.stringify(t))),this.portal.request(`${this.userItemUrl}/update`,r).then(()=>this.reload())}):Promise.reject(new K("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(e){if(!this.id)throw new K("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:t,itemUrl:r}=this;await t.signIn();const{copyResources:n,folder:i,tags:s,title:o}=e||{},a={method:"post",query:{copyPrivateResources:n==="all",folder:typeof i=="string"?i:i?.id,includeResources:!!n,tags:s?.join(","),title:o}},{itemId:l}=await t.request(`${r}/copy`,a);return new td({id:l,portal:t})}updateThumbnail(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e.thumbnail,r=e.filename,n={method:"post"};if(typeof t=="string")Wl(t)?n.query={data:t}:n.query={url:xs(t)},r!=null&&(n.query.filename=r);else{const i=new FormData;r!=null?i.append("file",t,r):i.append("file",t),n.body=i}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,n).then(()=>this.reload())}):Promise.reject(new K("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){const{fetchResources:r}=await ae(()=>import("./resourceUtils-9b9fd27c.js"),[]);return r(this,e,t)}async addResource(e,t,r){const{addOrUpdateResources:n}=await ae(()=>import("./resourceUtils-9b9fd27c.js"),[]);return e.portalItem=this,await n(this,[{resource:e,content:t,compress:r?.compress,access:r?.access}],"add",r),e}async removeResource(e,t){const{removeResource:r}=await ae(()=>import("./resourceUtils-9b9fd27c.js"),[]);if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new K("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return r(this,e,t)}async removeAllResources(e){const{removeAllResources:t}=await ae(()=>import("./resourceUtils-9b9fd27c.js"),[]);return t(this,e)}resourceFromPath(e){return new Fa({portalItem:this,path:e})}toJSON(){const e=this.extent,t={accessInformation:this.accessInformation,categories:D(this.categories),classification:D(this.classification),created:this.created?.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:D(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:D(this.typeKeywords),url:this.url};return hH(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new td({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};u([f({type:["private","shared","org","public"]})],$e.prototype,"access",void 0),u([f()],$e.prototype,"accessInformation",void 0),u([f({type:String})],$e.prototype,"apiKey",void 0),u([f({json:{read:{source:"appProxies"}}})],$e.prototype,"applicationProxies",void 0),u([f()],$e.prototype,"avgRating",void 0),u([f()],$e.prototype,"categories",void 0),u([f()],$e.prototype,"classification",void 0),u([f({type:Date})],$e.prototype,"created",void 0),u([f()],$e.prototype,"culture",void 0),u([f()],$e.prototype,"description",void 0),u([f({readOnly:!0})],$e.prototype,"displayName",null),u([f({type:ze})],$e.prototype,"extent",void 0),u([X("extent")],$e.prototype,"readExtent",null),u([f()],$e.prototype,"groupCategories",void 0),u([f({readOnly:!0})],$e.prototype,"iconUrl",null),u([f()],$e.prototype,"id",void 0),u([f({readOnly:!0})],$e.prototype,"isLayer",null),u([f({type:Boolean,readOnly:!0})],$e.prototype,"isOrgItem",void 0),u([f()],$e.prototype,"itemControl",void 0),u([f({readOnly:!0})],$e.prototype,"itemPageUrl",null),u([f({readOnly:!0})],$e.prototype,"itemUrl",null),u([f()],$e.prototype,"licenseInfo",void 0),u([f({type:Date})],$e.prototype,"modified",void 0),u([f()],$e.prototype,"name",void 0),u([f()],$e.prototype,"numComments",void 0),u([f()],$e.prototype,"numRatings",void 0),u([f()],$e.prototype,"numViews",void 0),u([f()],$e.prototype,"owner",void 0),u([f()],$e.prototype,"ownerFolder",void 0),u([f({type:te})],$e.prototype,"portal",void 0),u([f()],$e.prototype,"screenshots",void 0),u([f()],$e.prototype,"size",void 0),u([f()],$e.prototype,"snippet",void 0),u([f()],$e.prototype,"sourceJSON",void 0),u([f({type:String})],$e.prototype,"sourceUrl",void 0),u([f({type:String})],$e.prototype,"spatialReference",void 0),u([f()],$e.prototype,"tags",void 0),u([f()],$e.prototype,"thumbnail",void 0),u([f({readOnly:!0})],$e.prototype,"thumbnailUrl",null),u([f()],$e.prototype,"title",void 0),u([f()],$e.prototype,"type",void 0),u([f()],$e.prototype,"typeKeywords",void 0),u([f({type:String,json:{read(e,t){if(gme.has(t.type)){const r=this.portal?.restUrl;e||(e=r&&this.id?`${r}/content/items/${this.id}/data`:null)}return e}}})],$e.prototype,"url",void 0),u([f({readOnly:!0})],$e.prototype,"userItemUrl",null),$e=td=u([A("esri.portal.PortalItem")],$e);const SK=Object.freeze(Object.defineProperty({__proto__:null,get default(){return $e}},Symbol.toStringTag,{value:"Module"})),_K={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:"no",nl:!0,no:!0,nn:"no",pl:!0,pt:"pt-BR","pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,zh:"zh-CN","zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function vme(e){return e in _K}function EF(e){if(vme(e)){const t=_K[e];return t===!0?e:t}return null}const w0=[],Ch=new Map;function jF(e){for(const t of Ch.keys())TK(e.pattern,t)&&Ch.delete(t)}function bme(e){return w0.includes(e)||(jF(e),w0.unshift(e)),vr(()=>{const t=w0.indexOf(e);t>-1&&(w0.splice(t,1),jF(e))})}async function wme(e){const t=Is();Ch.has(e)||Ch.set(e,xme(e,t));const r=Ch.get(e);return r&&await Sme.add(r),r}function $K(e){const t=hR(e);return t?EF(e)??EF(t.language):null}async function xme(e,t){const r=[];for(const n of w0)if(TK(n.pattern,e))try{return await n.fetchMessageBundle(e,t)}catch(i){r.push(i)}throw r.length?new K("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:r}):new K("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function TK(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}yR(()=>{Ch.clear()});const Sme=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=gc())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function _me(e){if(!e)return;const t=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):e.includes("-3d")?e.slice(0,e.indexOf("-3d")):e,r=await wme("esri/t9n/basemaps");return r[e]||r[t]}const bI={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return fr("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return fr("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return fr("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return fr("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return fr("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return fr("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return fr("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return fr("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return fr("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return fr("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return fr("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return fr("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return fr("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return fr("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return fr("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return fr("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return fr("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]}},Lo="system",xc="unknown",Sc="UTC",$me=Intl.DateTimeFormat().resolvedOptions().timeZone,AF=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);class Fp extends Error{}class Tme extends Fp{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class Ome extends Fp{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class Eme extends Fp{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class ph extends Fp{}class OK extends Fp{constructor(t){super(`Invalid unit ${t}`)}}class Pn extends Fp{}class ou extends Fp{constructor(){super("Zone is an abstract class")}}const pe="numeric",Do="short",Zi="long",j_={year:pe,month:pe,day:pe},EK={year:pe,month:Do,day:pe},jme={year:pe,month:Do,day:pe,weekday:Do},jK={year:pe,month:Zi,day:pe},AK={year:pe,month:Zi,day:pe,weekday:Zi},IK={hour:pe,minute:pe},PK={hour:pe,minute:pe,second:pe},kK={hour:pe,minute:pe,second:pe,timeZoneName:Do},CK={hour:pe,minute:pe,second:pe,timeZoneName:Zi},NK={hour:pe,minute:pe,hourCycle:"h23"},MK={hour:pe,minute:pe,second:pe,hourCycle:"h23"},RK={hour:pe,minute:pe,second:pe,hourCycle:"h23",timeZoneName:Do},LK={hour:pe,minute:pe,second:pe,hourCycle:"h23",timeZoneName:Zi},DK={year:pe,month:pe,day:pe,hour:pe,minute:pe},FK={year:pe,month:pe,day:pe,hour:pe,minute:pe,second:pe},UK={year:pe,month:Do,day:pe,hour:pe,minute:pe},zK={year:pe,month:Do,day:pe,hour:pe,minute:pe,second:pe},Ame={year:pe,month:Do,day:pe,weekday:Do,hour:pe,minute:pe},BK={year:pe,month:Zi,day:pe,hour:pe,minute:pe,timeZoneName:Do},VK={year:pe,month:Zi,day:pe,hour:pe,minute:pe,second:pe,timeZoneName:Do},qK={year:pe,month:Zi,day:pe,weekday:Zi,hour:pe,minute:pe,timeZoneName:Zi},GK={year:pe,month:Zi,day:pe,weekday:Zi,hour:pe,minute:pe,second:pe,timeZoneName:Zi};class Up{get type(){throw new ou}get name(){throw new ou}get ianaName(){return this.name}get isUniversal(){throw new ou}offsetName(t,r){throw new ou}formatOffset(t,r){throw new ou}offset(t){throw new ou}equals(t){throw new ou}get isValid(){throw new ou}}let lE=null;class B$ extends Up{static get instance(){return lE===null&&(lE=new B$),lE}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:r,locale:n}){return rZ(t,r,n)}formatOffset(t,r){return $g(this.offset(t),r)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}const wI=new Map;function Ime(e){let t=wI.get(e);return t===void 0&&(t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),wI.set(e,t)),t}const Pme={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function kme(e,t){const r=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,i,s,o,a,l,c,d]=n;return[o,i,s,a,l,c,d]}function Cme(e,t){const r=e.formatToParts(t),n=[];for(let i=0;i<r.length;i++){const{type:s,value:o}=r[i],a=Pme[s];s==="era"?n[a]=o:Ce(a)||(n[a]=parseInt(o,10))}return n}const uE=new Map;class ji extends Up{static create(t){let r=uE.get(t);return r===void 0&&uE.set(t,r=new ji(t)),r}static resetCache(){uE.clear(),wI.clear()}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=ji.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:r,locale:n}){return rZ(t,r,n,this.name)}formatOffset(t,r){return $g(this.offset(t),r)}offset(t){if(!this.valid)return NaN;const r=new Date(t);if(isNaN(r))return NaN;const n=Ime(this.name);let[i,s,o,a,l,c,d]=n.formatToParts?Cme(n,r):kme(n,r);a==="BC"&&(i=-Math.abs(i)+1);const y=q$({year:i,month:s,day:o,hour:l===24?0:l,minute:c,second:d,millisecond:0});let m=+r;const g=m%1e3;return m-=g>=0?g:1e3+g,(y-m)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let IF={};function Nme(e,t={}){const r=JSON.stringify([e,t]);let n=IF[r];return n||(n=new Intl.ListFormat(e,t),IF[r]=n),n}const xI=new Map;function SI(e,t={}){const r=JSON.stringify([e,t]);let n=xI.get(r);return n===void 0&&(n=new Intl.DateTimeFormat(e,t),xI.set(r,n)),n}const _I=new Map;function Mme(e,t={}){const r=JSON.stringify([e,t]);let n=_I.get(r);return n===void 0&&(n=new Intl.NumberFormat(e,t),_I.set(r,n)),n}const $I=new Map;function Rme(e,t={}){const{base:r,...n}=t,i=JSON.stringify([e,n]);let s=$I.get(i);return s===void 0&&(s=new Intl.RelativeTimeFormat(e,t),$I.set(i,s)),s}let x0=null;function Lme(){return x0||(x0=new Intl.DateTimeFormat().resolvedOptions().locale,x0)}const TI=new Map;function WK(e){let t=TI.get(e);return t===void 0&&(t=new Intl.DateTimeFormat(e).resolvedOptions(),TI.set(e,t)),t}const OI=new Map;function Dme(e){let t=OI.get(e);if(!t){const r=new Intl.Locale(e);t="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,"minimalDays"in t||(t={...HK,...t}),OI.set(e,t)}return t}function Fme(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const r=e.indexOf("-u-");if(r===-1)return[e];{let n,i;try{n=SI(e).resolvedOptions(),i=e}catch{const l=e.substring(0,r);n=SI(l).resolvedOptions(),i=l}const{numberingSystem:s,calendar:o}=n;return[i,s,o]}}function Ume(e,t,r){return(r||t)&&(e.includes("-u-")||(e+="-u"),r&&(e+=`-ca-${r}`),t&&(e+=`-nu-${t}`)),e}function zme(e){const t=[];for(let r=1;r<=12;r++){const n=he.utc(2009,r,1);t.push(e(n))}return t}function Bme(e){const t=[];for(let r=1;r<=7;r++){const n=he.utc(2016,11,13+r);t.push(e(n))}return t}function iw(e,t,r,n){const i=e.listingMode();return i==="error"?null:i==="en"?r(t):n(t)}function Vme(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||WK(e.locale).numberingSystem==="latn"}class qme{constructor(t,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:i,floor:s,...o}=n;if(!r||Object.keys(o).length>0){const a={useGrouping:!1,...n};n.padTo>0&&(a.minimumIntegerDigits=n.padTo),this.inf=Mme(t,a)}}format(t){if(this.inf){const r=this.floor?Math.floor(t):t;return this.inf.format(r)}else{const r=this.floor?Math.floor(t):wR(t,3);return $r(r,this.padTo)}}}class Gme{constructor(t,r,n){this.opts=n,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const o=-1*(t.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;t.offset!==0&&ji.create(a).valid?(i=a,this.dt=t):(i="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,i=t.zone.name):(i="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=SI(r,s)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(r=>{if(r.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:n}}else return r}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class Wme{constructor(t,r,n){this.opts={style:"long",...n},!r&&eZ()&&(this.rtf=Rme(t,n))}format(t,r){return this.rtf?this.rtf.format(t,r):h0e(r,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,r){return this.rtf?this.rtf.formatToParts(t,r):[]}}const HK={firstDay:1,minimalDays:4,weekend:[6,7]};class dt{static fromOpts(t){return dt.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,r,n,i,s=!1){const o=t||tr.defaultLocale,a=o||(s?"en-US":Lme()),l=r||tr.defaultNumberingSystem,c=n||tr.defaultOutputCalendar,d=jI(i)||tr.defaultWeekSettings;return new dt(a,l,c,d,o)}static resetCache(){x0=null,xI.clear(),_I.clear(),$I.clear(),TI.clear(),OI.clear()}static fromObject({locale:t,numberingSystem:r,outputCalendar:n,weekSettings:i}={}){return dt.create(t,r,n,i)}constructor(t,r,n,i,s){const[o,a,l]=Fme(t);this.locale=o,this.numberingSystem=r||a||null,this.outputCalendar=n||l||null,this.weekSettings=i,this.intl=Ume(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Vme(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&r?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:dt.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,jI(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,r=!1){return iw(this,t,sZ,()=>{const n=r?{month:t,day:"numeric"}:{month:t},i=r?"format":"standalone";return this.monthsCache[i][t]||(this.monthsCache[i][t]=zme(s=>this.extract(s,n,"month"))),this.monthsCache[i][t]})}weekdays(t,r=!1){return iw(this,t,lZ,()=>{const n=r?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},i=r?"format":"standalone";return this.weekdaysCache[i][t]||(this.weekdaysCache[i][t]=Bme(s=>this.extract(s,n,"weekday"))),this.weekdaysCache[i][t]})}meridiems(){return iw(this,void 0,()=>uZ,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[he.utc(2016,11,13,9),he.utc(2016,11,13,19)].map(r=>this.extract(r,t,"dayperiod"))}return this.meridiemCache})}eras(t){return iw(this,t,cZ,()=>{const r={era:t};return this.eraCache[t]||(this.eraCache[t]=[he.utc(-40,1,1),he.utc(2017,1,1)].map(n=>this.extract(n,r,"era"))),this.eraCache[t]})}extract(t,r,n){const i=this.dtFormatter(t,r),s=i.formatToParts(),o=s.find(a=>a.type.toLowerCase()===n);return o?o.value:null}numberFormatter(t={}){return new qme(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,r={}){return new Gme(t,this.intl,r)}relFormatter(t={}){return new Wme(this.intl,this.isEnglish(),t)}listFormatter(t={}){return Nme(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||WK(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:tZ()?Dme(this.locale):HK}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let cE=null;class Or extends Up{static get utcInstance(){return cE===null&&(cE=new Or(0)),cE}static instance(t){return t===0?Or.utcInstance:new Or(t)}static parseSpecifier(t){if(t){const r=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new Or(G$(r[1],r[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${$g(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${$g(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,r){return $g(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class Hme extends Up{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Du(e,t){if(Ce(e)||e===null)return t;if(e instanceof Up)return e;if(Xme(e)){const r=e.toLowerCase();return r==="default"?t:r==="local"||r==="system"?B$.instance:r==="utc"||r==="gmt"?Or.utcInstance:Or.parseSpecifier(r)||ji.create(e)}else return dc(e)?Or.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new Hme(e)}const mR={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},PF={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Jme=mR.hanidec.replace(/[\[|\]]/g,"").split("");function Kme(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);if(e[r].search(mR.hanidec)!==-1)t+=Jme.indexOf(e[r]);else for(const i in PF){const[s,o]=PF[i];n>=s&&n<=o&&(t+=n-s)}}return parseInt(t,10)}else return t}const EI=new Map;function Zme(){EI.clear()}function qs({numberingSystem:e},t=""){const r=e||"latn";let n=EI.get(r);n===void 0&&(n=new Map,EI.set(r,n));let i=n.get(t);return i===void 0&&(i=new RegExp(`${mR[r]}${t}`),n.set(t,i)),i}let kF=()=>Date.now(),CF="system",NF=null,MF=null,RF=null,LF=60,DF,FF=null;class tr{static get now(){return kF}static set now(t){kF=t}static set defaultZone(t){CF=t}static get defaultZone(){return Du(CF,B$.instance)}static get defaultLocale(){return NF}static set defaultLocale(t){NF=t}static get defaultNumberingSystem(){return MF}static set defaultNumberingSystem(t){MF=t}static get defaultOutputCalendar(){return RF}static set defaultOutputCalendar(t){RF=t}static get defaultWeekSettings(){return FF}static set defaultWeekSettings(t){FF=jI(t)}static get twoDigitCutoffYear(){return LF}static set twoDigitCutoffYear(t){LF=t%100}static get throwOnInvalid(){return DF}static set throwOnInvalid(t){DF=t}static resetCaches(){dt.resetCache(),ji.resetCache(),he.resetCache(),Zme()}}class So{constructor(t,r){this.reason=t,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const JK=[0,31,59,90,120,151,181,212,243,273,304,334],KK=[0,31,60,91,121,152,182,213,244,274,305,335];function $s(e,t){return new So("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function gR(e,t,r){const n=new Date(Date.UTC(e,t-1,r));e<100&&e>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const i=n.getUTCDay();return i===0?7:i}function ZK(e,t,r){return r+(l1(e)?KK:JK)[t-1]}function YK(e,t){const r=l1(e)?KK:JK,n=r.findIndex(s=>s<t),i=t-r[n];return{month:n+1,day:i}}function vR(e,t){return(e-t+7)%7+1}function A_(e,t=4,r=1){const{year:n,month:i,day:s}=e,o=ZK(n,i,s),a=vR(gR(n,i,s),r);let l=Math.floor((o-a+14-t)/7),c;return l<1?(c=n-1,l=Ov(c,t,r)):l>Ov(n,t,r)?(c=n+1,l=1):c=n,{weekYear:c,weekNumber:l,weekday:a,...W$(e)}}function UF(e,t=4,r=1){const{weekYear:n,weekNumber:i,weekday:s}=e,o=vR(gR(n,1,t),r),a=Nh(n);let l=i*7+s-o-7+t,c;l<1?(c=n-1,l+=Nh(c)):l>a?(c=n+1,l-=Nh(n)):c=n;const{month:d,day:p}=YK(c,l);return{year:c,month:d,day:p,...W$(e)}}function dE(e){const{year:t,month:r,day:n}=e,i=ZK(t,r,n);return{year:t,ordinal:i,...W$(e)}}function zF(e){const{year:t,ordinal:r}=e,{month:n,day:i}=YK(t,r);return{year:t,month:n,day:i,...W$(e)}}function BF(e,t){if(!Ce(e.localWeekday)||!Ce(e.localWeekNumber)||!Ce(e.localWeekYear)){if(!Ce(e.weekday)||!Ce(e.weekNumber)||!Ce(e.weekYear))throw new ph("Cannot mix locale-based week fields with ISO-based week fields");return Ce(e.localWeekday)||(e.weekday=e.localWeekday),Ce(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),Ce(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function Yme(e,t=4,r=1){const n=V$(e.weekYear),i=Ts(e.weekNumber,1,Ov(e.weekYear,t,r)),s=Ts(e.weekday,1,7);return n?i?s?!1:$s("weekday",e.weekday):$s("week",e.weekNumber):$s("weekYear",e.weekYear)}function Qme(e){const t=V$(e.year),r=Ts(e.ordinal,1,Nh(e.year));return t?r?!1:$s("ordinal",e.ordinal):$s("year",e.year)}function QK(e){const t=V$(e.year),r=Ts(e.month,1,12),n=Ts(e.day,1,I_(e.year,e.month));return t?r?n?!1:$s("day",e.day):$s("month",e.month):$s("year",e.year)}function XK(e){const{hour:t,minute:r,second:n,millisecond:i}=e,s=Ts(t,0,23)||t===24&&r===0&&n===0&&i===0,o=Ts(r,0,59),a=Ts(n,0,59),l=Ts(i,0,999);return s?o?a?l?!1:$s("millisecond",i):$s("second",n):$s("minute",r):$s("hour",t)}function Ce(e){return typeof e>"u"}function dc(e){return typeof e=="number"}function V$(e){return typeof e=="number"&&e%1===0}function Xme(e){return typeof e=="string"}function e0e(e){return Object.prototype.toString.call(e)==="[object Date]"}function eZ(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function tZ(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function t0e(e){return Array.isArray(e)?e:[e]}function VF(e,t,r){if(e.length!==0)return e.reduce((n,i)=>{const s=[t(i),i];return n&&r(n[0],s[0])===n[0]?n:s},null)[1]}function r0e(e,t){return t.reduce((r,n)=>(r[n]=e[n],r),{})}function py(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function jI(e){if(e==null)return null;if(typeof e!="object")throw new Pn("Week settings must be an object");if(!Ts(e.firstDay,1,7)||!Ts(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(t=>!Ts(t,1,7)))throw new Pn("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function Ts(e,t,r){return V$(e)&&e>=t&&e<=r}function n0e(e,t){return e-t*Math.floor(e/t)}function $r(e,t=2){const r=e<0;let n;return r?n="-"+(""+-e).padStart(t,"0"):n=(""+e).padStart(t,"0"),n}function Ou(e){if(!(Ce(e)||e===null||e===""))return parseInt(e,10)}function qc(e){if(!(Ce(e)||e===null||e===""))return parseFloat(e)}function bR(e){if(!(Ce(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function wR(e,t,r=!1){const n=10**t;return(r?Math.trunc:Math.round)(e*n)/n}function l1(e){return e%4===0&&(e%100!==0||e%400===0)}function Nh(e){return l1(e)?366:365}function I_(e,t){const r=n0e(t-1,12)+1,n=e+(t-r)/12;return r===2?l1(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function q$(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function qF(e,t,r){return-vR(gR(e,1,t),r)+t-1}function Ov(e,t=4,r=1){const n=qF(e,t,r),i=qF(e+1,t,r);return(Nh(e)-n+i)/7}function AI(e){return e>99?e:e>tr.twoDigitCutoffYear?1900+e:2e3+e}function rZ(e,t,r,n=null){const i=new Date(e),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(s.timeZone=n);const o={timeZoneName:t,...s},a=new Intl.DateTimeFormat(r,o).formatToParts(i).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function G$(e,t){let r=parseInt(e,10);Number.isNaN(r)&&(r=0);const n=parseInt(t,10)||0,i=r<0||Object.is(r,-0)?-n:n;return r*60+i}function nZ(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new Pn(`Invalid unit value ${e}`);return t}function P_(e,t){const r={};for(const n in e)if(py(e,n)){const i=e[n];if(i==null)continue;r[t(n)]=nZ(i)}return r}function $g(e,t){const r=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),i=e>=0?"+":"-";switch(t){case"short":return`${i}${$r(r,2)}:${$r(n,2)}`;case"narrow":return`${i}${r}${n>0?`:${n}`:""}`;case"techie":return`${i}${$r(r,2)}${$r(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function W$(e){return r0e(e,["hour","minute","second","millisecond"])}const i0e=["January","February","March","April","May","June","July","August","September","October","November","December"],iZ=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s0e=["J","F","M","A","M","J","J","A","S","O","N","D"];function sZ(e){switch(e){case"narrow":return[...s0e];case"short":return[...iZ];case"long":return[...i0e];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const oZ=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],aZ=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],o0e=["M","T","W","T","F","S","S"];function lZ(e){switch(e){case"narrow":return[...o0e];case"short":return[...aZ];case"long":return[...oZ];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const uZ=["AM","PM"],a0e=["Before Christ","Anno Domini"],l0e=["BC","AD"],u0e=["B","A"];function cZ(e){switch(e){case"narrow":return[...u0e];case"short":return[...l0e];case"long":return[...a0e];default:return null}}function c0e(e){return uZ[e.hour<12?0:1]}function d0e(e,t){return lZ(t)[e.weekday-1]}function p0e(e,t){return sZ(t)[e.month-1]}function f0e(e,t){return cZ(t)[e.year<0?0:1]}function h0e(e,t,r="always",n=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(e)===-1;if(r==="auto"&&s){const p=e==="days";switch(t){case 1:return p?"tomorrow":`next ${i[e][0]}`;case-1:return p?"yesterday":`last ${i[e][0]}`;case 0:return p?"today":`this ${i[e][0]}`}}const o=Object.is(t,-0)||t<0,a=Math.abs(t),l=a===1,c=i[e],d=n?l?c[1]:c[2]||c[1]:l?i[e][0]:e;return o?`${a} ${d} ago`:`in ${a} ${d}`}function GF(e,t){let r="";for(const n of e)n.literal?r+=n.val:r+=t(n.val);return r}const y0e={D:j_,DD:EK,DDD:jK,DDDD:AK,t:IK,tt:PK,ttt:kK,tttt:CK,T:NK,TT:MK,TTT:RK,TTTT:LK,f:DK,ff:UK,fff:BK,ffff:qK,F:FK,FF:zK,FFF:VK,FFFF:GK};class Dn{static create(t,r={}){return new Dn(t,r)}static parseFormat(t){let r=null,n="",i=!1;const s=[];for(let o=0;o<t.length;o++){const a=t.charAt(o);a==="'"?(n.length>0&&s.push({literal:i||/^\s+$/.test(n),val:n}),r=null,n="",i=!i):i||a===r?n+=a:(n.length>0&&s.push({literal:/^\s+$/.test(n),val:n}),n=a,r=a)}return n.length>0&&s.push({literal:i||/^\s+$/.test(n),val:n}),s}static macroTokenToFormatOpts(t){return y0e[t]}constructor(t,r){this.opts=r,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...r}).format()}dtFormatter(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r})}formatDateTime(t,r){return this.dtFormatter(t,r).format()}formatDateTimeParts(t,r){return this.dtFormatter(t,r).formatToParts()}formatInterval(t,r){return this.dtFormatter(t.start,r).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,r){return this.dtFormatter(t,r).resolvedOptions()}num(t,r=0){if(this.opts.forceSimple)return $r(t,r);const n={...this.opts};return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(t)}formatDateTimeFromString(t,r){const n=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(m,g)=>this.loc.extract(t,m,g),o=m=>t.isOffsetFixed&&t.offset===0&&m.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,m.format):"",a=()=>n?c0e(t):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(m,g)=>n?p0e(t,m):s(g?{month:m}:{month:m,day:"numeric"},"month"),c=(m,g)=>n?d0e(t,m):s(g?{weekday:m}:{weekday:m,month:"long",day:"numeric"},"weekday"),d=m=>{const g=Dn.macroTokenToFormatOpts(m);return g?this.formatWithSystemDefault(t,g):m},p=m=>n?f0e(t,m):s({era:m},"era"),y=m=>{switch(m){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return a();case"d":return i?s({day:"numeric"},"day"):this.num(t.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(t.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(t.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(t.year,6);case"G":return p("short");case"GG":return p("long");case"GGGGG":return p("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return d(m)}};return GF(Dn.parseFormat(r),y)}formatDurationFromString(t,r){const n=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=l=>c=>{const d=n(c);return d?this.num(l.get(d),c.length):c},s=Dn.parseFormat(r),o=s.reduce((l,{literal:c,val:d})=>c?l:l.concat(d),[]),a=t.shiftTo(...o.map(n).filter(l=>l));return GF(s,i(a))}}const dZ=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function sm(...e){const t=e.reduce((r,n)=>r+n.source,"");return RegExp(`^${t}$`)}function om(...e){return t=>e.reduce(([r,n,i],s)=>{const[o,a,l]=s(t,i);return[{...r,...o},a||n,l]},[{},null,1]).slice(0,2)}function am(e,...t){if(e==null)return[null,null];for(const[r,n]of t){const i=r.exec(e);if(i)return n(i)}return[null,null]}function pZ(...e){return(t,r)=>{const n={};let i;for(i=0;i<e.length;i++)n[e[i]]=Ou(t[r+i]);return[n,null,r+i]}}const fZ=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,m0e=`(?:${fZ.source}?(?:\\[(${dZ.source})\\])?)?`,xR=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,hZ=RegExp(`${xR.source}${m0e}`),SR=RegExp(`(?:T${hZ.source})?`),g0e=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,v0e=/(\d{4})-?W(\d\d)(?:-?(\d))?/,b0e=/(\d{4})-?(\d{3})/,w0e=pZ("weekYear","weekNumber","weekDay"),x0e=pZ("year","ordinal"),S0e=/(\d{4})-(\d\d)-(\d\d)/,yZ=RegExp(`${xR.source} ?(?:${fZ.source}|(${dZ.source}))?`),_0e=RegExp(`(?: ${yZ.source})?`);function Mh(e,t,r){const n=e[t];return Ce(n)?r:Ou(n)}function $0e(e,t){return[{year:Mh(e,t),month:Mh(e,t+1,1),day:Mh(e,t+2,1)},null,t+3]}function lm(e,t){return[{hours:Mh(e,t,0),minutes:Mh(e,t+1,0),seconds:Mh(e,t+2,0),milliseconds:bR(e[t+3])},null,t+4]}function u1(e,t){const r=!e[t]&&!e[t+1],n=G$(e[t+1],e[t+2]),i=r?null:Or.instance(n);return[{},i,t+3]}function c1(e,t){const r=e[t]?ji.create(e[t]):null;return[{},r,t+1]}const T0e=RegExp(`^T?${xR.source}$`),O0e=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function E0e(e){const[t,r,n,i,s,o,a,l,c]=e,d=t[0]==="-",p=l&&l[0]==="-",y=(m,g=!1)=>m!==void 0&&(g||m&&d)?-m:m;return[{years:y(qc(r)),months:y(qc(n)),weeks:y(qc(i)),days:y(qc(s)),hours:y(qc(o)),minutes:y(qc(a)),seconds:y(qc(l),l==="-0"),milliseconds:y(bR(c),p)}]}const j0e={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function _R(e,t,r,n,i,s,o){const a={year:t.length===2?AI(Ou(t)):Ou(t),month:iZ.indexOf(r)+1,day:Ou(n),hour:Ou(i),minute:Ou(s)};return o&&(a.second=Ou(o)),e&&(a.weekday=e.length>3?oZ.indexOf(e)+1:aZ.indexOf(e)+1),a}const A0e=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function I0e(e){const[,t,r,n,i,s,o,a,l,c,d,p]=e,y=_R(t,i,n,r,s,o,a);let m;return l?m=j0e[l]:c?m=0:m=G$(d,p),[y,new Or(m)]}function P0e(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const k0e=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,C0e=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,N0e=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function WF(e){const[,t,r,n,i,s,o,a]=e;return[_R(t,i,n,r,s,o,a),Or.utcInstance]}function M0e(e){const[,t,r,n,i,s,o,a]=e;return[_R(t,a,r,n,i,s,o),Or.utcInstance]}const R0e=sm(g0e,SR),L0e=sm(v0e,SR),D0e=sm(b0e,SR),F0e=sm(hZ),mZ=om($0e,lm,u1,c1),U0e=om(w0e,lm,u1,c1),z0e=om(x0e,lm,u1,c1),B0e=om(lm,u1,c1);function V0e(e){return am(e,[R0e,mZ],[L0e,U0e],[D0e,z0e],[F0e,B0e])}function q0e(e){return am(P0e(e),[A0e,I0e])}function G0e(e){return am(e,[k0e,WF],[C0e,WF],[N0e,M0e])}function W0e(e){return am(e,[O0e,E0e])}const H0e=om(lm);function J0e(e){return am(e,[T0e,H0e])}const K0e=sm(S0e,_0e),Z0e=sm(yZ),Y0e=om(lm,u1,c1);function Q0e(e){return am(e,[K0e,mZ],[Z0e,Y0e])}const HF="Invalid Duration",gZ={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},X0e={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...gZ},is=146097/400,rf=146097/4800,ege={years:{quarters:4,months:12,weeks:is/7,days:is,hours:is*24,minutes:is*24*60,seconds:is*24*60*60,milliseconds:is*24*60*60*1e3},quarters:{months:3,weeks:is/28,days:is/4,hours:is*24/4,minutes:is*24*60/4,seconds:is*24*60*60/4,milliseconds:is*24*60*60*1e3/4},months:{weeks:rf/7,days:rf,hours:rf*24,minutes:rf*24*60,seconds:rf*24*60*60,milliseconds:rf*24*60*60*1e3},...gZ},Vd=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],tge=Vd.slice(0).reverse();function au(e,t,r=!1){const n={values:r?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new et(n)}function vZ(e,t){let r=t.milliseconds??0;for(const n of tge.slice(1))t[n]&&(r+=t[n]*e[n].milliseconds);return r}function JF(e,t){const r=vZ(e,t)<0?-1:1;Vd.reduceRight((n,i)=>{if(Ce(t[i]))return n;if(n){const s=t[n]*r,o=e[i][n],a=Math.floor(s/o);t[i]+=a*r,t[n]-=a*o*r}return i},null),Vd.reduce((n,i)=>{if(Ce(t[i]))return n;if(n){const s=t[n]%1;t[n]-=s,t[i]+=s*e[n][i]}return i},null)}function rge(e){const t={};for(const[r,n]of Object.entries(e))n!==0&&(t[r]=n);return t}class et{constructor(t){const r=t.conversionAccuracy==="longterm"||!1;let n=r?ege:X0e;t.matrix&&(n=t.matrix),this.values=t.values,this.loc=t.loc||dt.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(t,r){return et.fromObject({milliseconds:t},r)}static fromObject(t,r={}){if(t==null||typeof t!="object")throw new Pn(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new et({values:P_(t,et.normalizeUnit),loc:dt.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(t){if(dc(t))return et.fromMillis(t);if(et.isDuration(t))return t;if(typeof t=="object")return et.fromObject(t);throw new Pn(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,r){const[n]=W0e(t);return n?et.fromObject(n,r):et.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,r){const[n]=J0e(t);return n?et.fromObject(n,r):et.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,r=null){if(!t)throw new Pn("need to specify a reason the Duration is invalid");const n=t instanceof So?t:new So(t,r);if(tr.throwOnInvalid)throw new Eme(n);return new et({invalid:n})}static normalizeUnit(t){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!r)throw new OK(t);return r}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,r={}){const n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?Dn.create(this.loc,n).formatDurationFromString(this,t):HF}toHuman(t={}){if(!this.isValid)return HF;const r=Vd.map(n=>{const i=this.values[n];return Ce(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:n.slice(0,-1)}).format(i)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=wR(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},he.fromMillis(r,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?vZ(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const r=et.fromDurationLike(t),n={};for(const i of Vd)(py(r.values,i)||py(this.values,i))&&(n[i]=r.get(i)+this.get(i));return au(this,{values:n},!0)}minus(t){if(!this.isValid)return this;const r=et.fromDurationLike(t);return this.plus(r.negate())}mapUnits(t){if(!this.isValid)return this;const r={};for(const n of Object.keys(this.values))r[n]=nZ(t(this.values[n],n));return au(this,{values:r},!0)}get(t){return this[et.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const r={...this.values,...P_(t,et.normalizeUnit)};return au(this,{values:r})}reconfigure({locale:t,numberingSystem:r,conversionAccuracy:n,matrix:i}={}){const o={loc:this.loc.clone({locale:t,numberingSystem:r}),matrix:i,conversionAccuracy:n};return au(this,o)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return JF(this.matrix,t),au(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=rge(this.normalize().shiftToAll().toObject());return au(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(o=>et.normalizeUnit(o));const r={},n={},i=this.toObject();let s;for(const o of Vd)if(t.indexOf(o)>=0){s=o;let a=0;for(const c in n)a+=this.matrix[c][o]*n[c],n[c]=0;dc(i[o])&&(a+=i[o]);const l=Math.trunc(a);r[o]=l,n[o]=(a*1e3-l*1e3)/1e3}else dc(i[o])&&(n[o]=i[o]);for(const o in n)n[o]!==0&&(r[s]+=o===s?n[o]:n[o]/this.matrix[s][o]);return JF(this.matrix,r),au(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const r of Object.keys(this.values))t[r]=this.values[r]===0?0:-this.values[r];return au(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function r(n,i){return n===void 0||n===0?i===void 0||i===0:n===i}for(const n of Vd)if(!r(this.values[n],t.values[n]))return!1;return!0}}const nf="Invalid Interval";function nge(e,t){return!e||!e.isValid?Xt.invalid("missing or invalid start"):!t||!t.isValid?Xt.invalid("missing or invalid end"):t<e?Xt.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class Xt{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,r=null){if(!t)throw new Pn("need to specify a reason the Interval is invalid");const n=t instanceof So?t:new So(t,r);if(tr.throwOnInvalid)throw new Ome(n);return new Xt({invalid:n})}static fromDateTimes(t,r){const n=Gm(t),i=Gm(r),s=nge(n,i);return s??new Xt({start:n,end:i})}static after(t,r){const n=et.fromDurationLike(r),i=Gm(t);return Xt.fromDateTimes(i,i.plus(n))}static before(t,r){const n=et.fromDurationLike(r),i=Gm(t);return Xt.fromDateTimes(i.minus(n),i)}static fromISO(t,r){const[n,i]=(t||"").split("/",2);if(n&&i){let s,o;try{s=he.fromISO(n,r),o=s.isValid}catch{o=!1}let a,l;try{a=he.fromISO(i,r),l=a.isValid}catch{l=!1}if(o&&l)return Xt.fromDateTimes(s,a);if(o){const c=et.fromISO(i,r);if(c.isValid)return Xt.after(s,c)}else if(l){const c=et.fromISO(n,r);if(c.isValid)return Xt.before(a,c)}}return Xt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",r){if(!this.isValid)return NaN;const n=this.start.startOf(t,r);let i;return r?.useLocaleWeeks?i=this.end.reconfigure({locale:n.locale}):i=this.end,i=i.startOf(t,r),Math.floor(i.diff(n,t).get(t))+(i.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:r}={}){return this.isValid?Xt.fromDateTimes(t||this.s,r||this.e):this}splitAt(...t){if(!this.isValid)return[];const r=t.map(Gm).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),n=[];let{s:i}=this,s=0;for(;i<this.e;){const o=r[s]||this.e,a=+o>+this.e?this.e:o;n.push(Xt.fromDateTimes(i,a)),i=a,s+=1}return n}splitBy(t){const r=et.fromDurationLike(t);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,i=1,s;const o=[];for(;n<this.e;){const a=this.start.plus(r.mapUnits(l=>l*i));s=+a>+this.e?this.e:a,o.push(Xt.fromDateTimes(n,s)),n=s,i+=1}return o}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const r=this.s>t.s?this.s:t.s,n=this.e<t.e?this.e:t.e;return r>=n?null:Xt.fromDateTimes(r,n)}union(t){if(!this.isValid)return this;const r=this.s<t.s?this.s:t.s,n=this.e>t.e?this.e:t.e;return Xt.fromDateTimes(r,n)}static merge(t){const[r,n]=t.sort((i,s)=>i.s-s.s).reduce(([i,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[i,s.union(o)]:[i.concat([s]),o]:[i,o],[[],null]);return n&&r.push(n),r}static xor(t){let r=null,n=0;const i=[],s=t.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...s),a=o.sort((l,c)=>l.time-c.time);for(const l of a)n+=l.type==="s"?1:-1,n===1?r=l.time:(r&&+r!=+l.time&&i.push(Xt.fromDateTimes(r,l.time)),r=null);return Xt.merge(i)}difference(...t){return Xt.xor([this].concat(t)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:nf}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=j_,r={}){return this.isValid?Dn.create(this.s.loc.clone(r),t).formatInterval(this):nf}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:nf}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:nf}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:nf}toFormat(t,{separator:r="  "}={}){return this.isValid?`${this.s.toFormat(t)}${r}${this.e.toFormat(t)}`:nf}toDuration(t,r){return this.isValid?this.e.diff(this.s,t,r):et.invalid(this.invalidReason)}mapEndpoints(t){return Xt.fromDateTimes(t(this.s),t(this.e))}}class sw{static hasDST(t=tr.defaultZone){const r=he.now().setZone(t).set({month:12});return!t.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(t){return ji.isValidZone(t)}static normalizeZone(t){return Du(t,tr.defaultZone)}static getStartOfWeek({locale:t=null,locObj:r=null}={}){return(r||dt.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:r=null}={}){return(r||dt.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:r=null}={}){return(r||dt.create(t)).getWeekendDays().slice()}static months(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||dt.create(r,n,s)).months(t)}static monthsFormat(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||dt.create(r,n,s)).months(t,!0)}static weekdays(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||dt.create(r,n,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||dt.create(r,n,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return dt.create(t).meridiems()}static eras(t="short",{locale:r=null}={}){return dt.create(r,null,"gregory").eras(t)}static features(){return{relative:eZ(),localeWeek:tZ()}}}function KF(e,t){const r=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(t)-r(e);return Math.floor(et.fromMillis(n).as("days"))}function ige(e,t,r){const n=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const d=KF(l,c);return(d-d%7)/7}],["days",KF]],i={},s=e;let o,a;for(const[l,c]of n)r.indexOf(l)>=0&&(o=l,i[l]=c(e,t),a=s.plus(i),a>t?(i[l]--,e=s.plus(i),e>t&&(a=e,i[l]--,e=s.plus(i))):e=a);return[e,i,a,o]}function sge(e,t,r,n){let[i,s,o,a]=ige(e,t,r);const l=t-i,c=r.filter(p=>["hours","minutes","seconds","milliseconds"].indexOf(p)>=0);c.length===0&&(o<t&&(o=i.plus({[a]:1})),o!==i&&(s[a]=(s[a]||0)+l/(o-i)));const d=et.fromObject(s,n);return c.length>0?et.fromMillis(l,n).shiftTo(...c).plus(d):d}const oge="missing Intl.DateTimeFormat.formatToParts support";function st(e,t=r=>r){return{regex:e,deser:([r])=>t(Kme(r))}}const age=String.fromCharCode(160),bZ=`[ ${age}]`,wZ=new RegExp(bZ,"g");function lge(e){return e.replace(/\./g,"\\.?").replace(wZ,bZ)}function ZF(e){return e.replace(/\./g,"").replace(wZ," ").toLowerCase()}function Gs(e,t){return e===null?null:{regex:RegExp(e.map(lge).join("|")),deser:([r])=>e.findIndex(n=>ZF(r)===ZF(n))+t}}function YF(e,t){return{regex:e,deser:([,r,n])=>G$(r,n),groups:t}}function ow(e){return{regex:e,deser:([t])=>t}}function uge(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function cge(e,t){const r=qs(t),n=qs(t,"{2}"),i=qs(t,"{3}"),s=qs(t,"{4}"),o=qs(t,"{6}"),a=qs(t,"{1,2}"),l=qs(t,"{1,3}"),c=qs(t,"{1,6}"),d=qs(t,"{1,9}"),p=qs(t,"{2,4}"),y=qs(t,"{4,6}"),m=w=>({regex:RegExp(uge(w.val)),deser:([S])=>S,literal:!0}),b=(w=>{if(e.literal)return m(w);switch(w.val){case"G":return Gs(t.eras("short"),0);case"GG":return Gs(t.eras("long"),0);case"y":return st(c);case"yy":return st(p,AI);case"yyyy":return st(s);case"yyyyy":return st(y);case"yyyyyy":return st(o);case"M":return st(a);case"MM":return st(n);case"MMM":return Gs(t.months("short",!0),1);case"MMMM":return Gs(t.months("long",!0),1);case"L":return st(a);case"LL":return st(n);case"LLL":return Gs(t.months("short",!1),1);case"LLLL":return Gs(t.months("long",!1),1);case"d":return st(a);case"dd":return st(n);case"o":return st(l);case"ooo":return st(i);case"HH":return st(n);case"H":return st(a);case"hh":return st(n);case"h":return st(a);case"mm":return st(n);case"m":return st(a);case"q":return st(a);case"qq":return st(n);case"s":return st(a);case"ss":return st(n);case"S":return st(l);case"SSS":return st(i);case"u":return ow(d);case"uu":return ow(a);case"uuu":return st(r);case"a":return Gs(t.meridiems(),0);case"kkkk":return st(s);case"kk":return st(p,AI);case"W":return st(a);case"WW":return st(n);case"E":case"c":return st(r);case"EEE":return Gs(t.weekdays("short",!1),1);case"EEEE":return Gs(t.weekdays("long",!1),1);case"ccc":return Gs(t.weekdays("short",!0),1);case"cccc":return Gs(t.weekdays("long",!0),1);case"Z":case"ZZ":return YF(new RegExp(`([+-]${a.source})(?::(${n.source}))?`),2);case"ZZZ":return YF(new RegExp(`([+-]${a.source})(${n.source})?`),2);case"z":return ow(/[a-z_+-/]{1,256}?/i);case" ":return ow(/[^\S\n\r]/);default:return m(w)}})(e)||{invalidReason:oge};return b.token=e,b}const dge={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function pge(e,t,r){const{type:n,value:i}=e;if(n==="literal"){const l=/^\s+$/.test(i);return{literal:!l,val:l?" ":i}}const s=t[n];let o=n;n==="hour"&&(t.hour12!=null?o=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?o="hour12":o="hour24":o=r.hour12?"hour12":"hour24");let a=dge[o];if(typeof a=="object"&&(a=a[s]),a)return{literal:!1,val:a}}function fge(e){return[`^${e.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,e]}function hge(e,t,r){const n=e.match(t);if(n){const i={};let s=1;for(const o in r)if(py(r,o)){const a=r[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(i[a.token.val[0]]=a.deser(n.slice(s,s+l))),s+=l}return[n,i]}else return[n,{}]}function yge(e){const t=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,n;return Ce(e.z)||(r=ji.create(e.z)),Ce(e.Z)||(r||(r=new Or(e.Z)),n=e.Z),Ce(e.q)||(e.M=(e.q-1)*3+1),Ce(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),Ce(e.u)||(e.S=bR(e.u)),[Object.keys(e).reduce((s,o)=>{const a=t(o);return a&&(s[a]=e[o]),s},{}),r,n]}let pE=null;function mge(){return pE||(pE=he.fromMillis(1555555555555)),pE}function gge(e,t){if(e.literal)return e;const r=Dn.macroTokenToFormatOpts(e.val),n=$Z(r,t);return n==null||n.includes(void 0)?e:n}function xZ(e,t){return Array.prototype.concat(...e.map(r=>gge(r,t)))}class SZ{constructor(t,r){if(this.locale=t,this.format=r,this.tokens=xZ(Dn.parseFormat(r),t),this.units=this.tokens.map(n=>cge(n,t)),this.disqualifyingUnit=this.units.find(n=>n.invalidReason),!this.disqualifyingUnit){const[n,i]=fge(this.units);this.regex=RegExp(n,"i"),this.handlers=i}}explainFromTokens(t){if(this.isValid){const[r,n]=hge(t,this.regex,this.handlers),[i,s,o]=n?yge(n):[null,null,void 0];if(py(n,"a")&&py(n,"H"))throw new ph("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:n,result:i,zone:s,specificOffset:o}}else return{input:t,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function _Z(e,t,r){return new SZ(e,r).explainFromTokens(t)}function vge(e,t,r){const{result:n,zone:i,specificOffset:s,invalidReason:o}=_Z(e,t,r);return[n,i,s,o]}function $Z(e,t){if(!e)return null;const n=Dn.create(t,e).dtFormatter(mge()),i=n.formatToParts(),s=n.resolvedOptions();return i.map(o=>pge(o,e,s))}const fE="Invalid DateTime",QF=864e13;function S0(e){return new So("unsupported zone",`the zone "${e.name}" is not supported`)}function hE(e){return e.weekData===null&&(e.weekData=A_(e.c)),e.weekData}function yE(e){return e.localWeekData===null&&(e.localWeekData=A_(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function Gc(e,t){const r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new he({...r,...t,old:r})}function TZ(e,t,r){let n=e-t*60*1e3;const i=r.offset(n);if(t===i)return[n,t];n-=(i-t)*60*1e3;const s=r.offset(n);return i===s?[n,i]:[e-Math.min(i,s)*60*1e3,Math.max(i,s)]}function aw(e,t){e+=t*60*1e3;const r=new Date(e);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function Ex(e,t,r){return TZ(q$(e),t,r)}function XF(e,t){const r=e.o,n=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,s={...e.c,year:n,month:i,day:Math.min(e.c.day,I_(n,i))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},o=et.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=q$(s);let[l,c]=TZ(a,r,e.zone);return o!==0&&(l+=o,c=e.zone.offset(l)),{ts:l,o:c}}function sf(e,t,r,n,i,s){const{setZone:o,zone:a}=r;if(e&&Object.keys(e).length!==0||t){const l=t||a,c=he.fromObject(e,{...r,zone:l,specificOffset:s});return o?c:c.setZone(a)}else return he.invalid(new So("unparsable",`the input "${i}" can't be parsed as ${n}`))}function lw(e,t,r=!0){return e.isValid?Dn.create(dt.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}function mE(e,t){const r=e.c.year>9999||e.c.year<0;let n="";return r&&e.c.year>=0&&(n+="+"),n+=$r(e.c.year,r?6:4),t?(n+="-",n+=$r(e.c.month),n+="-",n+=$r(e.c.day)):(n+=$r(e.c.month),n+=$r(e.c.day)),n}function e6(e,t,r,n,i,s){let o=$r(e.c.hour);return t?(o+=":",o+=$r(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!r)&&(o+=":")):o+=$r(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!r)&&(o+=$r(e.c.second),(e.c.millisecond!==0||!n)&&(o+=".",o+=$r(e.c.millisecond,3))),i&&(e.isOffsetFixed&&e.offset===0&&!s?o+="Z":e.o<0?(o+="-",o+=$r(Math.trunc(-e.o/60)),o+=":",o+=$r(Math.trunc(-e.o%60))):(o+="+",o+=$r(Math.trunc(e.o/60)),o+=":",o+=$r(Math.trunc(e.o%60)))),s&&(o+="["+e.zone.ianaName+"]"),o}const OZ={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},bge={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},wge={ordinal:1,hour:0,minute:0,second:0,millisecond:0},EZ=["year","month","day","hour","minute","second","millisecond"],xge=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Sge=["year","ordinal","hour","minute","second","millisecond"];function _ge(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new OK(e);return t}function t6(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return _ge(e)}}function $ge(e){if(_0===void 0&&(_0=tr.now()),e.type!=="iana")return e.offset(_0);const t=e.name;let r=II.get(t);return r===void 0&&(r=e.offset(_0),II.set(t,r)),r}function r6(e,t){const r=Du(t.zone,tr.defaultZone);if(!r.isValid)return he.invalid(S0(r));const n=dt.fromObject(t);let i,s;if(Ce(e.year))i=tr.now();else{for(const l of EZ)Ce(e[l])&&(e[l]=OZ[l]);const o=QK(e)||XK(e);if(o)return he.invalid(o);const a=$ge(r);[i,s]=Ex(e,a,r)}return new he({ts:i,zone:r,loc:n,o:s})}function n6(e,t,r){const n=Ce(r.round)?!0:r.round,i=(o,a)=>(o=wR(o,n||r.calendary?0:2,!0),t.loc.clone(r).relFormatter(r).format(o,a)),s=o=>r.calendary?t.hasSame(e,o)?0:t.startOf(o).diff(e.startOf(o),o).get(o):t.diff(e,o).get(o);if(r.unit)return i(s(r.unit),r.unit);for(const o of r.units){const a=s(o);if(Math.abs(a)>=1)return i(a,o)}return i(e>t?-0:0,r.units[r.units.length-1])}function i6(e){let t={},r;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],r=Array.from(e).slice(0,e.length-1)):r=Array.from(e),[t,r]}let _0;const II=new Map;class he{constructor(t){const r=t.zone||tr.defaultZone;let n=t.invalid||(Number.isNaN(t.ts)?new So("invalid input"):null)||(r.isValid?null:S0(r));this.ts=Ce(t.ts)?tr.now():t.ts;let i=null,s=null;if(!n)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(r))[i,s]=[t.old.c,t.old.o];else{const a=dc(t.o)&&!t.old?t.o:r.offset(this.ts);i=aw(this.ts,a),n=Number.isNaN(i.year)?new So("invalid input"):null,i=n?null:i,s=n?null:a}this._zone=r,this.loc=t.loc||dt.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new he({})}static local(){const[t,r]=i6(arguments),[n,i,s,o,a,l,c]=r;return r6({year:n,month:i,day:s,hour:o,minute:a,second:l,millisecond:c},t)}static utc(){const[t,r]=i6(arguments),[n,i,s,o,a,l,c]=r;return t.zone=Or.utcInstance,r6({year:n,month:i,day:s,hour:o,minute:a,second:l,millisecond:c},t)}static fromJSDate(t,r={}){const n=e0e(t)?t.valueOf():NaN;if(Number.isNaN(n))return he.invalid("invalid input");const i=Du(r.zone,tr.defaultZone);return i.isValid?new he({ts:n,zone:i,loc:dt.fromObject(r)}):he.invalid(S0(i))}static fromMillis(t,r={}){if(dc(t))return t<-QF||t>QF?he.invalid("Timestamp out of range"):new he({ts:t,zone:Du(r.zone,tr.defaultZone),loc:dt.fromObject(r)});throw new Pn(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,r={}){if(dc(t))return new he({ts:t*1e3,zone:Du(r.zone,tr.defaultZone),loc:dt.fromObject(r)});throw new Pn("fromSeconds requires a numerical input")}static fromObject(t,r={}){t=t||{};const n=Du(r.zone,tr.defaultZone);if(!n.isValid)return he.invalid(S0(n));const i=dt.fromObject(r),s=P_(t,t6),{minDaysInFirstWeek:o,startOfWeek:a}=BF(s,i),l=tr.now(),c=Ce(r.specificOffset)?n.offset(l):r.specificOffset,d=!Ce(s.ordinal),p=!Ce(s.year),y=!Ce(s.month)||!Ce(s.day),m=p||y,g=s.weekYear||s.weekNumber;if((m||d)&&g)throw new ph("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(y&&d)throw new ph("Can't mix ordinal dates with month/day");const b=g||s.weekday&&!m;let w,S,_=aw(l,c);b?(w=xge,S=bge,_=A_(_,o,a)):d?(w=Sge,S=wge,_=dE(_)):(w=EZ,S=OZ);let x=!1;for(const M of w){const N=s[M];Ce(N)?x?s[M]=S[M]:s[M]=_[M]:x=!0}const O=b?Yme(s,o,a):d?Qme(s):QK(s),$=O||XK(s);if($)return he.invalid($);const T=b?UF(s,o,a):d?zF(s):s,[j,I]=Ex(T,c,n),k=new he({ts:j,zone:n,o:I,loc:i});return s.weekday&&m&&t.weekday!==k.weekday?he.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${k.toISO()}`):k.isValid?k:he.invalid(k.invalid)}static fromISO(t,r={}){const[n,i]=V0e(t);return sf(n,i,r,"ISO 8601",t)}static fromRFC2822(t,r={}){const[n,i]=q0e(t);return sf(n,i,r,"RFC 2822",t)}static fromHTTP(t,r={}){const[n,i]=G0e(t);return sf(n,i,r,"HTTP",r)}static fromFormat(t,r,n={}){if(Ce(t)||Ce(r))throw new Pn("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=n,o=dt.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[a,l,c,d]=vge(o,t,r);return d?he.invalid(d):sf(a,l,n,`format ${r}`,t,c)}static fromString(t,r,n={}){return he.fromFormat(t,r,n)}static fromSQL(t,r={}){const[n,i]=Q0e(t);return sf(n,i,r,"SQL",t)}static invalid(t,r=null){if(!t)throw new Pn("need to specify a reason the DateTime is invalid");const n=t instanceof So?t:new So(t,r);if(tr.throwOnInvalid)throw new Tme(n);return new he({invalid:n})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,r={}){const n=$Z(t,dt.fromObject(r));return n?n.map(i=>i?i.val:null).join(""):null}static expandFormat(t,r={}){return xZ(Dn.parseFormat(t),dt.fromObject(r)).map(i=>i.val).join("")}static resetCache(){_0=void 0,II.clear()}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?hE(this).weekYear:NaN}get weekNumber(){return this.isValid?hE(this).weekNumber:NaN}get weekday(){return this.isValid?hE(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?yE(this).weekday:NaN}get localWeekNumber(){return this.isValid?yE(this).weekNumber:NaN}get localWeekYear(){return this.isValid?yE(this).weekYear:NaN}get ordinal(){return this.isValid?dE(this.c).ordinal:NaN}get monthShort(){return this.isValid?sw.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?sw.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?sw.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?sw.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,r=6e4,n=q$(this.c),i=this.zone.offset(n-t),s=this.zone.offset(n+t),o=this.zone.offset(n-i*r),a=this.zone.offset(n-s*r);if(o===a)return[this];const l=n-o*r,c=n-a*r,d=aw(l,o),p=aw(c,a);return d.hour===p.hour&&d.minute===p.minute&&d.second===p.second&&d.millisecond===p.millisecond?[Gc(this,{ts:l}),Gc(this,{ts:c})]:[this]}get isInLeapYear(){return l1(this.year)}get daysInMonth(){return I_(this.year,this.month)}get daysInYear(){return this.isValid?Nh(this.year):NaN}get weeksInWeekYear(){return this.isValid?Ov(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Ov(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:r,numberingSystem:n,calendar:i}=Dn.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:i}}toUTC(t=0,r={}){return this.setZone(Or.instance(t),r)}toLocal(){return this.setZone(tr.defaultZone)}setZone(t,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(t=Du(t,tr.defaultZone),t.equals(this.zone))return this;if(t.isValid){let i=this.ts;if(r||n){const s=t.offset(this.ts),o=this.toObject();[i]=Ex(o,s,t)}return Gc(this,{ts:i,zone:t})}else return he.invalid(S0(t))}reconfigure({locale:t,numberingSystem:r,outputCalendar:n}={}){const i=this.loc.clone({locale:t,numberingSystem:r,outputCalendar:n});return Gc(this,{loc:i})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const r=P_(t,t6),{minDaysInFirstWeek:n,startOfWeek:i}=BF(r,this.loc),s=!Ce(r.weekYear)||!Ce(r.weekNumber)||!Ce(r.weekday),o=!Ce(r.ordinal),a=!Ce(r.year),l=!Ce(r.month)||!Ce(r.day),c=a||l,d=r.weekYear||r.weekNumber;if((c||o)&&d)throw new ph("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new ph("Can't mix ordinal dates with month/day");let p;s?p=UF({...A_(this.c,n,i),...r},n,i):Ce(r.ordinal)?(p={...this.toObject(),...r},Ce(r.day)&&(p.day=Math.min(I_(p.year,p.month),p.day))):p=zF({...dE(this.c),...r});const[y,m]=Ex(p,this.o,this.zone);return Gc(this,{ts:y,o:m})}plus(t){if(!this.isValid)return this;const r=et.fromDurationLike(t);return Gc(this,XF(this,r))}minus(t){if(!this.isValid)return this;const r=et.fromDurationLike(t).negate();return Gc(this,XF(this,r))}startOf(t,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const n={},i=et.normalizeUnit(t);switch(i){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(i==="weeks")if(r){const s=this.loc.getStartOfWeek(),{weekday:o}=this;o<s&&(n.weekNumber=this.weekNumber-1),n.weekday=s}else n.weekday=1;if(i==="quarters"){const s=Math.ceil(this.month/3);n.month=(s-1)*3+1}return this.set(n)}endOf(t,r){return this.isValid?this.plus({[t]:1}).startOf(t,r).minus(1):this}toFormat(t,r={}){return this.isValid?Dn.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,t):fE}toLocaleString(t=j_,r={}){return this.isValid?Dn.create(this.loc.clone(r),t).formatDateTime(this):fE}toLocaleParts(t={}){return this.isValid?Dn.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const o=t==="extended";let a=mE(this,o);return a+="T",a+=e6(this,o,r,n,i,s),a}toISODate({format:t="extended"}={}){return this.isValid?mE(this,t==="extended"):null}toISOWeekDate(){return lw(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:i=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(i?"T":"")+e6(this,o==="extended",r,t,n,s):null}toRFC2822(){return lw(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return lw(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?mE(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let i="HH:mm:ss.SSS";return(r||t)&&(n&&(i+=" "),r?i+="z":t&&(i+="ZZ")),lw(this,i,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():fE}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const r={...this.c};return t.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,r="milliseconds",n={}){if(!this.isValid||!t.isValid)return et.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...n},s=t0e(r).map(et.normalizeUnit),o=t.valueOf()>this.valueOf(),a=o?this:t,l=o?t:this,c=sge(a,l,s,i);return o?c.negate():c}diffNow(t="milliseconds",r={}){return this.diff(he.now(),t,r)}until(t){return this.isValid?Xt.fromDateTimes(this,t):this}hasSame(t,r,n){if(!this.isValid)return!1;const i=t.valueOf(),s=this.setZone(t.zone,{keepLocalTime:!0});return s.startOf(r,n)<=i&&i<=s.endOf(r,n)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const r=t.base||he.fromObject({},{zone:this.zone}),n=t.padding?this<r?-t.padding:t.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=t.unit;return Array.isArray(t.unit)&&(i=t.unit,s=void 0),n6(r,this.plus(n),{...t,numeric:"always",units:i,unit:s})}toRelativeCalendar(t={}){return this.isValid?n6(t.base||he.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(he.isDateTime))throw new Pn("min requires all arguments be DateTimes");return VF(t,r=>r.valueOf(),Math.min)}static max(...t){if(!t.every(he.isDateTime))throw new Pn("max requires all arguments be DateTimes");return VF(t,r=>r.valueOf(),Math.max)}static fromFormatExplain(t,r,n={}){const{locale:i=null,numberingSystem:s=null}=n,o=dt.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return _Z(o,t,r)}static fromStringExplain(t,r,n={}){return he.fromFormatExplain(t,r,n)}static buildFormatParser(t,r={}){const{locale:n=null,numberingSystem:i=null}=r,s=dt.fromOpts({locale:n,numberingSystem:i,defaultToEN:!0});return new SZ(s,t)}static fromFormatParser(t,r,n={}){if(Ce(t)||Ce(r))throw new Pn("fromFormatParser requires an input string and a format parser");const{locale:i=null,numberingSystem:s=null}=n,o=dt.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});if(!o.equals(r.locale))throw new Pn(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${r.locale}`);const{result:a,zone:l,specificOffset:c,invalidReason:d}=r.explainFromTokens(t);return d?he.invalid(d):sf(a,l,n,`format ${r.format}`,t,c)}static get DATE_SHORT(){return j_}static get DATE_MED(){return EK}static get DATE_MED_WITH_WEEKDAY(){return jme}static get DATE_FULL(){return jK}static get DATE_HUGE(){return AK}static get TIME_SIMPLE(){return IK}static get TIME_WITH_SECONDS(){return PK}static get TIME_WITH_SHORT_OFFSET(){return kK}static get TIME_WITH_LONG_OFFSET(){return CK}static get TIME_24_SIMPLE(){return NK}static get TIME_24_WITH_SECONDS(){return MK}static get TIME_24_WITH_SHORT_OFFSET(){return RK}static get TIME_24_WITH_LONG_OFFSET(){return LK}static get DATETIME_SHORT(){return DK}static get DATETIME_SHORT_WITH_SECONDS(){return FK}static get DATETIME_MED(){return UK}static get DATETIME_MED_WITH_SECONDS(){return zK}static get DATETIME_MED_WITH_WEEKDAY(){return Ame}static get DATETIME_FULL(){return BK}static get DATETIME_FULL_WITH_SECONDS(){return VK}static get DATETIME_HUGE(){return qK}static get DATETIME_HUGE_WITH_SECONDS(){return GK}}function Gm(e){if(he.isDateTime(e))return e;if(e&&e.valueOf&&dc(e.valueOf()))return he.fromJSDate(e);if(e&&typeof e=="object")return he.fromObject(e);throw new Pn(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const Tge="shortOffset";function Oge(e){return"timeZoneIANA"in e}function Ege(e){return e.startsWith("UTC")}function k_(e,t=!1){return{json:{read:{source:e,reader:(r,n)=>n[e]?jx(n[e]):null},write:!!t&&{allowNull:!0,writer(r,n){n[e]=r?jge(r):null}}}}}function jx(e,t=Lo){return e?Oge(e)?e.timeZoneIANA:Age(e,t):t}function jge(e){return{timeZoneIANA:e}}function Age(e,t=Lo){if(!e||!AF.has(e.timeZone))return t;const r=AF.get(e.timeZone);return Ege(e.timeZone)||e.respectsDaylightSaving?r:Ige(r)}function Ige(e){const t=he.local().setZone(e),r=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return r===0?"Etc/UTC":`Etc/GMT${Or.instance(-r).formatOffset(0,"narrow")}`}function bXe(e,t,r,n,i){if(t&&i==="date")return{timeZone:Sc,timeZoneName:void 0};const s=n.timeStyle||n.hour,o=r===xc;return{timeZone:o?i==="timestamp-offset"?void 0:e??Sc:r,timeZoneName:o&&s?Tge:void 0}}function wXe(e){const t=new Set(["etc/utc","etc/gmt","gmt"]),r=new Set(Intl.supportedValuesOf("timeZone").map(n=>n.toLowerCase()));return e===Lo||e===xc||t.has(e.toLowerCase())||r.has(e.toLowerCase())}const Pge={year:void 0,month:void 0,day:void 0,weekday:void 0},kge={hour:void 0,minute:void 0,second:void 0},jZ={timeZone:Sc},qo={year:"numeric",month:"numeric",day:"numeric"},Wm={year:"numeric",month:"long",day:"numeric"},Hm={year:"numeric",month:"short",day:"numeric"},Jm={year:"numeric",month:"long",weekday:"long",day:"numeric"},Eu={hour:"numeric",minute:"numeric"},rd={...Eu,second:"numeric"},AZ={hourCycle:"h23"},Km={...Eu,...AZ},Zm={...rd,...AZ},IZ={"short-date":qo,"short-date-short-time":{...qo,...Eu},"short-date-short-time-24":{...qo,...Km},"short-date-long-time":{...qo,...rd},"short-date-long-time-24":{...qo,...Zm},"short-date-le":qo,"short-date-le-short-time":{...qo,...Eu},"short-date-le-short-time-24":{...qo,...Km},"short-date-le-long-time":{...qo,...rd},"short-date-le-long-time-24":{...qo,...Zm},"long-month-day-year":Wm,"long-month-day-year-short-time":{...Wm,...Eu},"long-month-day-year-short-time-24":{...Wm,...Km},"long-month-day-year-long-time":{...Wm,...rd},"long-month-day-year-long-time-24":{...Wm,...Zm},"day-short-month-year":Hm,"day-short-month-year-short-time":{...Hm,...Eu},"day-short-month-year-short-time-24":{...Hm,...Km},"day-short-month-year-long-time":{...Hm,...rd},"day-short-month-year-long-time-24":{...Hm,...Zm},"long-date":Jm,"long-date-short-time":{...Jm,...Eu},"long-date-short-time-24":{...Jm,...Km},"long-date-long-time":{...Jm,...rd},"long-date-long-time-24":{...Jm,...Zm},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":Eu,"long-time":rd},Cge=Ar()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),PZ={ar:"ar-u-nu-latn-ca-gregory",nn:"no-NN"},Nge=new Intl.DateTimeFormat("bs",{month:"long"}).formatToParts(new Date(2025,2)),Mge=Nge.find(({type:e})=>e==="month")?.value.toLowerCase();function kZ(){const e=Is(),t=hR(e)?.language;return(t&&PZ[t])??e}Mge!=="mart"&&(PZ.bs="sr-Latn-CS");let PI=new WeakMap;const H$=IZ["short-date-short-time"];function Rge(e){let t=PI.get(e);if(!t){const r=kZ(),n=TR(e.timeZone??Lo),i={...e,timeZone:n};t=new Intl.DateTimeFormat(r,i),PI.set(e,t)}return t}function xXe(e){return IZ[e]}function $R(e,t=H$){return Rge(t).format(e)}function SXe(e,t=H$){return $R(new Date(e),{...t,...jZ,...kge})}function _Xe(e,t=H$){return $R(new Date(`1970-01-01T${e}Z`),{...t,...jZ,...Pge})}function $Xe(e,t=H$){if(t.timeZone)return $R(new Date(e),t);const r=he.fromISO(e,{setZone:!0}),n=r.offset===0?Sc:t.timeZone,i={...t,timeZone:n};return r.toLocaleString(i,{locale:kZ()})}function TR(e){switch(e){case Lo:return $me;case xc:return Sc;default:return e}}yR(()=>{PI=new WeakMap});const Lge={ar:"ar-u-nu-latn",bs:"sr-Latn-CS",nn:"no-NN"};let Ax=new WeakMap,CZ={};function Dge(e){const t=e||CZ;if(!Ax.has(t)){const r=Is(),n=hR(r)?.language,i=n&&Lge[n]||r;Ax.set(t,new Intl.NumberFormat(i,e))}return Ax.get(t)}function TXe(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function OXe(e,t){return Object.is(e,-0)&&(e=0),Dge(t).format(e)}yR(()=>{Ax=new WeakMap,CZ={}});async function Fge(e,t,r,n){const i=t.exec(r);if(!i)throw new K("esri-intl:invalid-bundle",`Bundle id "${r}" is not compatible with the pattern "${t}"`);const s=i[1]?`${i[1]}/`:"",o=i[2],a=$K(n),l=`${s}${o}.json`,c=a?`${s}${o}_${a}.json`:l;let d;try{d=await s6(e(c))}catch(p){if(c===l)throw new K("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:p});try{d=await s6(e(l))}catch(y){throw new K("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:y})}}return d}async function s6(e){if(o6.fetchBundleAsset!=null)return o6.fetchBundleAsset(e);const t=await nt(e,{responseType:"text"});return JSON.parse(t.data)}let Uge=class{constructor({base:t="",pattern:r,location:n=new URL(window.location.href)}){let i;i=typeof n=="string"?s=>new URL(s,new URL(n,window.location.href)).href:n instanceof URL?s=>new URL(s,n).href:n,this.pattern=typeof r=="string"?new RegExp(`^${r}`):r,this.getAssetUrl=i,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(t,r){return Fge(this.getAssetUrl,this.matcher,t,r)}};function zge(e){return new Uge(e)}const o6={};bme(zge({pattern:"esri/",location:fr}));let Ua=class extends ft{constructor(t){super(t),this.apiKey=null,this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2",this.worldview=null}get languageParameter(){const t=this.language;let r=t==="local"||t==="globalThis"?t:$K(t??Is())??"globalThis";return r=r==="no"?"nb":r,r}};u([f()],Ua.prototype,"apiKey",void 0),u([f()],Ua.prototype,"id",void 0),u([f()],Ua.prototype,"language",void 0),u([f()],Ua.prototype,"places",void 0),u([f()],Ua.prototype,"serviceUrl",void 0),u([f()],Ua.prototype,"worldview",void 0),Ua=u([A("esri.support.BasemapStyle")],Ua);const Bge=Ua;function Rh(e,t,r={}){return OR(e,t,r,NZ)}function a6(e,t,r={}){return OR(e,t,r,MZ)}function OR(e,t,r={},n){let i=null;const s=r.once?(o,a)=>{n(o)&&(Ao(i),t(o,a))}:(o,a)=>{n(o)&&t(o,a)};if(i=rhe(e,s,r.sync,r.equals),r.initial){const o=e();s(o,o)}return i}function Vge(e,t,r,n={}){let i=null,s=null,o=null;function a(){i&&s&&(s.remove(),n.onListenerRemove?.(i),i=null,s=null)}function l(d){n.once&&n.once&&Ao(o),r(d)}const c=Rh(e,(d,p)=>{a(),BM(d)&&(i=d,s=VM(d,t,l),n.onListenerAdd?.(d))},{sync:n.sync,initial:!0});return o=vr(()=>{c.remove(),a()}),o}function qge(e,t){return Gge(e,MZ,t)}function Gge(e,t,r){if(Fl(r))return Promise.reject(gr());const n=e();if(t?.(n))return Promise.resolve(n);let i=null;function s(){i=Ao(i)}return new Promise((o,a)=>{i=A$([yp(r,()=>{s(),a(gr())}),OR(e,l=>{s(),o(l)},{sync:!1,once:!0},t??NZ)])})}function NZ(e){return!0}function MZ(e){return!!e}const J$={sync:!0},AXe={initial:!0},Wge={sync:!0,initial:!0},uw=new WeakMap;function ER(e){return!e.destroyed&&(uw.has(e)||e.addHandles([Rh(()=>{const t=e.parent;return!(!t||!("type"in t))&&(t.type==="catalog-dynamic-group"||ER(t))},t=>uw.set(e,t),Wge),vr(()=>uw.delete(e))]),uw.get(e))}function Hge(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="feature"}function RZ(e){return e?.type==="subtype-sublayer"}const IXe={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function kI(e){const t=e?.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function K$(e){return e?.type==="feature"&&!e.url&&e.source?.type==="memory"}function PXe(e){const t=e?.type;return(t==="feature"||t==="subtype-group"||t==="oriented-imagery")&&e?.source?.type==="feature-layer"}async function LZ(e,t){const r=Ke?.findServerInfo(e);if(r?.currentVersion!=null)return r.owningSystemUrl||null;const n=e.toLowerCase().indexOf("/rest/services");if(n===-1)return null;const i=`${e.slice(0,n)}/rest/info`,s=t!=null?t.signal:null,{data:o}=await nt(i,{query:{f:"json"},responseType:"json",signal:s});return o?.owningSystemUrl||null}function Jge(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function Kge(e){return Jge(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function Zge(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function Yge(e){return!!Zge(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}function kXe(e){const t=new Te;for(const r of e.allLayers.concat(e.allTables))r.type==="csv"||ER(r)||("charts"in r&&t.push(r),r.type==="subtype-group"&&t.push(...r.sublayers));return t}function Qge(e,t){return null}function CXe(e){return null}function CI(e){return!e||e.type==="Feature Service"&&!e.sourceUrl}function NXe(e,t){!t||!CI(e)||Qge(e.url)}const Xge=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wcs","wms","wmts"]),DZ=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","video","web-tile","wcs","wfs","wms","wmts"]),eve=new Set([...DZ,"link-chart"]);function tve(e){switch(e.layerContainerType){case"basemap":return Xge;case"operational-layers":return e.origin==="link-chart"?eve:DZ;default:return null}}function rve(e,t){if(t.restrictedWebMapWriting){const r=tve(t);return r==null||r.has(e.type)&&!K$(e)}return!0}function nve(e,t){if(t)if(K$(e)){const r=O$("featureCollection.layers",t),n=r?.[0]?.layerDefinition;n&&l6(e,n)}else e.type!=="group"&&l6(e,t)}function l6(e,t){"maxScale"in e&&(t.maxScale=w_(e.maxScale)??void 0),"minScale"in e&&(t.minScale=w_(e.minScale)??void 0)}function ive(e,t){if(nve(e,t),t&&(t.id=e.id,"blendMode"in e&&(t.blendMode=e.blendMode,t.blendMode==="normal"&&delete t.blendMode),t.opacity=w_(e.opacity)??void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&e.type!=="wmts"))if(K$(e)){const r=t.featureCollection;r&&(r.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function NI(e,t,r){if(!e.persistenceEnabled)return null;if(!("write"in e)||!e.write)return r?.messages&&r.messages.push(new K("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if(K$(e)&&!e.isTable)t=e.resourceInfo;else if(rve(e,r)){const n={};return e.write(n,r)?n:null}return t!=null&&ive(e,t=D(t)),t}var $0;let sve=0,Pi=$0=class extends z.JSONSupportMixin(xi){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+sve++,this.baseLayers=new Te,this.referenceLayers=new Te;const t=n=>{n.parent&&n.parent!==this&&"remove"in n.parent&&n.parent.remove(n),n.parent=this,n.type==="elevation"&&ce.getLogger(this).error(`Layer '${n.title}, id:${n.id}' of type '${n.type}' is not supported as a basemap layer and will therefore be ignored.`)},r=n=>{n.parent=null};this.addHandles([this.baseLayers.on("after-add",n=>t(n.item)),this.referenceLayers.on("after-add",n=>t(n.item)),this.baseLayers.on("after-remove",n=>r(n.item)),this.referenceLayers.on("after-remove",n=>r(n.item))])}initialize(){this.when().catch(e=>{ce.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.baseLayers.toArray();for(const r of e)r.destroy();const t=this.referenceLayers.toArray();for(const r of t)r.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=As(this.portalItem)}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",ly(e,this._get("baseLayers")))}_writeBaseLayers(e,t,r){const n=[];e&&(r={...r,layerContainerType:"basemap"},this.baseLayers.forEach(i=>{const s=NI(i,r.webmap?r.webmap.getLayerJSONFromResourceInfo(i):null,r);s!=null&&n.push(s)}),this.referenceLayers.forEach(i=>{const s=NI(i,r.webmap?r.webmap.getLayerJSONFromResourceInfo(i):null,r);s!=null&&(i.type!=="scene"&&(s.isReference=!0),n.push(s))})),t.baseMapLayers=n}set referenceLayers(e){this._set("referenceLayers",ly(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return D$(this,e=>{e(this.baseLayers,this.referenceLayers)})}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(t=>n_(t)?t.clone():t),referenceLayers:this.referenceLayers.map(t=>n_(t)?t.clone():t)};return this.loaded&&(e.loadStatus="loaded"),new $0({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){return e=e||{},t?.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(r=>{const n=D(r);return n.url&&_a(n.url)&&(n.url=`https:${n.url}`),n.templateUrl&&_a(n.templateUrl)&&(n.templateUrl=`https:${n.templateUrl}`),n})),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:r,style:n}=this;Un(e);const i=[];if(t){const s=t.context?t.context.url:null;if(i.push(this._loadLayersFromJSON(t.data,s,e)),t.data.id&&!t.data.title){const o=t.data.id;i.push(_me(o).then(a=>{a&&this.read({title:a},t.context)}))}}else r?i.push(this._loadFromItem(r,e)):n&&i.push(this._loadFromStylesService(n,e));await Promise.all(i)}async _loadLayersFromJSON(e,t,r){const n=this.resourceInfo?.context,i=this.portalItem?.portal||n?.portal||null,s=ave[n?.origin||""]??"web-map",{populateOperationalLayers:o}=await ae(()=>import("./layersCreator-c67ff2dc.js"),["assets/layersCreator-c67ff2dc.js","assets/loadUtils-4d61d962.js","assets/fetchService-d6a5b823.js","assets/associatedFeatureServiceUtils-ebf5b5be.js","assets/lazyLayerLoader-8a311d60.js","assets/portalLayers-787a3d5c.js"]),a=[];if(Un(r),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const l={context:{...n,origin:s,url:t,portal:i,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},c=y=>s==="web-scene"&&y.layerType==="ArcGISSceneServiceLayer"||y.isReference,d=o(this.baseLayers,e.baseMapLayers.filter(y=>!c(y)),l);a.push(d);const p=o(this.referenceLayers,e.baseMapLayers.filter(c),l);a.push(p)}await Promise.allSettled(a)}async _loadFromItem(e,t){const r=await e.load(t),n=await r.fetchData("json",t),i=sn(e.itemUrl??"");return this._set("resourceInfo",{data:n.baseMap??{},context:{origin:ove[e.type||""]??"web-map",portal:e.portal||te.getDefault(),url:i}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:n.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||te.getDefault(),url:i}),this._loadLayersFromJSON(this.resourceInfo.data,i,t)}async _loadFromStylesService(e,t){const r=e.serviceUrl.endsWith("/webmaps")?e.serviceUrl.slice(0,-8):e.serviceUrl,n=`${r}/styles/${e.id}/self`,i=`${r}/webmaps/${e.id}`,s=e.apiKey??Xe.apiKeys.basemapStyles,[o,a]=await Promise.all([(await nt(n,{query:{token:s},signal:t?.signal})).data,(await nt(i,{query:{language:e.languageParameter,places:e.places,worldview:e.worldview,token:s},signal:t?.signal})).data]);this.thumbnailUrl??(this.thumbnailUrl=o.thumbnailUrl);const l=sn(i);if(this._set("resourceInfo",{data:a.baseMap??{},context:{origin:"web-map",url:l}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:a.spatialReference},this.resourceInfo.context),await this._loadLayersFromJSON(this.resourceInfo.data,l,t),s)for(const c of[...this.baseLayers,...this.referenceLayers])"apiKey"in c&&(c.apiKey=s)}static fromId(e){const t=bI[e];return t?t.itemId?new $0({portalItem:{id:t.itemId,portal:{url:"https://www.arcgis.com"}}}):$0.fromJSON(t,t.is3d?{origin:"web-scene",portal:new te({url:"https://www.arcgis.com"})}:{origin:"web-map"}):null}};u([f({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,r,n){this._writeBaseLayers(e,t,n)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:Te}},writer(e,t,r,n){this._writeBaseLayers(e,t,n)}}}}}})],Pi.prototype,"baseLayers",null),u([f({type:String,json:{origins:{"web-scene":{write:!0}}}})],Pi.prototype,"id",void 0),u([f({type:$e})],Pi.prototype,"portalItem",void 0),u([f()],Pi.prototype,"referenceLayers",null),u([f({readOnly:!0})],Pi.prototype,"resourceInfo",void 0),u([f({type:be})],Pi.prototype,"spatialReference",void 0),u([f({type:Bge})],Pi.prototype,"style",void 0),u([f()],Pi.prototype,"thumbnailUrl",void 0),u([f({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],Pi.prototype,"title",void 0),u([re("title")],Pi.prototype,"writeTitle",null),Pi=$0=u([A("esri.Basemap")],Pi);const ove={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},ave={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},Tg=Pi,lve=Object.freeze(Object.defineProperty({__proto__:null,default:Tg},Symbol.toStringTag,{value:"Module"})),C_={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function FZ(e){return!!C_[e]||!!C_[e.toLowerCase()]}function jR(e){return C_[e]??C_[e.toLowerCase()]}function uve(e){return[...jR(e)]}function gE(e,t,r){r<0&&++r,r>1&&--r;const n=6*r;return n<1?e+(t-e)*n:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function UZ(e,t,r,n=1){const i=(e%360+360)%360/360,s=r<=.5?r*(t+1):r+t-r*t,o=2*r-s;return[Math.round(255*gE(o,s,i+1/3)),Math.round(255*gE(o,s,i)),Math.round(255*gE(o,s,i-1/3)),n]}function cve(e){const t=e.length>5,r=t?8:4,n=(1<<r)-1,i=t?1:17,s=t?e.length===9:e.length===5;let o=+("0x"+e.slice(1));if(isNaN(o))return null;const a=[0,0,0,1];let l;return s&&(l=o&n,o>>=r,a[3]=i*l/255),l=o&n,o>>=r,a[2]=i*l,l=o&n,o>>=r,a[1]=i*l,l=o&n,o>>=r,a[0]=i*l,a}function zZ(e){if(e[0]!=="#"||isNaN(+`0x${e.slice(1)}`))return null;switch(e.length){case 4:case 5:{const t=parseInt(e.slice(1,2),16),r=parseInt(e.slice(2,3),16),n=parseInt(e.slice(3,4),16),i=e.length===4?15:parseInt(e.slice(4),16);return[t+16*t,r+16*r,n+16*n,(i+16*i)/255]}case 7:case 9:return[parseInt(e.slice(1,3),16),parseInt(e.slice(3,5),16),parseInt(e.slice(5,7),16),(e.length===7?255:parseInt(e.slice(7),16))/255];default:return null}}function BZ(e){const t=e.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(t){const r=t[2].split(/\s*,\s*/),n=t[1];if(n==="rgb"&&r.length===3||n==="rgba"&&r.length===4){const i=r[0];if(i.charAt(i.length-1)==="%"){const s=r.map(o=>2.56*parseFloat(o));return r.length===4&&(s[3]=parseFloat(r[3])),u6(s)}return u6(r.map(s=>parseFloat(s)))}if(n==="hsl"&&r.length===3||n==="hsla"&&r.length===4)return UZ(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100,parseFloat(r[3]??"1"))}return null}function u6(e){return e[0]=Lh(e[0]),e[1]=Lh(e[1]),e[2]=Lh(e[2]),e[3]=e.length===4?qZ(e[3]):1,e}function VZ(e){let t=FZ(e)?jR(e):null;return t??(t=BZ(e)),t??(t=zZ(e)),t}function MXe(e){const t=VZ(e);return t!=null?[t[0]/255,t[1]/255,t[2]/255,t[3]]:null}function qZ(e){return GZ(e,0,1)}function Lh(e){return Math.round(GZ(e,0,255))}function GZ(e,t,r){return e=Number(e),isNaN(e)?r:e<t?t:e>r?r:e}const RXe=2.2,c6=new Float32Array(1);function LXe(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function _c(e,t,r){return Math.min(Math.max(e,t),r)}function dve(e,t,r){return e+(t-e)*r}function DXe(e,t,r,n,i){return dve(n,i,(e-t)/(r-t))}function pve(e){return e*Math.PI/180}function fve(e){return 180*e/Math.PI}function FXe(e){return Math.acos(_c(e,-1,1))}function hve(e){return Math.asin(_c(e,-1,1))}function Po(e,t,r=1e-6){return e===t?!0:!Number.isFinite(e)||!Number.isFinite(t)?!1:(e>t?e-t:t-e)<=r}function WZ(e,t,r=1e-6){return!Po(e,t,r)&&e>t}function MI(e,t,r=1e-6){return!Po(e,t,r)&&e<t}function yve(e,t,r=1e-6){return Po(e,t,r)||e>t}const N_=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function RI(e){return N_.setFloat64(0,e),N_.getBigInt64(0)}function mve(e){return N_.setBigInt64(0,e),N_.getFloat64(0)}const Ix=BigInt("1000000"),gve=HZ(1);function HZ(e){const t=RI(e=Math.abs(e)),r=mve(t<=Ix?Ix:t-Ix);return Math.abs(e-r)}function UXe(e,t,r=gve){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;if(r!=null&&HZ(Math.min(Math.abs(e),Math.abs(t)))<r)return Math.abs(e-t)<=r;const n=RI(e),i=RI(t);return n<0!=i<0?!1:!((n<i?i-n:n-i)>Ix)}function zXe(e){return JZ(Math.max(-d6,Math.min(e,d6)))}function JZ(e){return c6[0]=e,c6[0]}function BXe(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],n=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(Po(t,1)&&Po(r,1)&&Po(n,1))}const d6=JZ(34028234663852886e22);function VXe(e,t,r){if(r===void 0||+r==0)return Math[e](t);if(t=+t,r=+r,isNaN(t)||typeof r!="number"||r%1!=0)return NaN;let n=t.toString().split("e");return n=(t=Math[e](+(n[0]+"e"+(n[1]?+n[1]-r:-r)))).toString().split("e"),+(n[0]+"e"+(n[1]?+n[1]+r:r))}function cw(e){return _c(eR(e),0,255)}function dw(e,t){const r=e.toString(16).padStart(2,"0");return t?r.slice(0,1):r}let Px=class ai{static blendColors(t,r,n,i=new ai){return i.r=Math.round(t.r+(r.r-t.r)*n),i.g=Math.round(t.g+(r.g-t.g)*n),i.b=Math.round(t.b+(r.b-t.b)*n),i.a=t.a+(r.a-t.a)*n,i._sanitize()}static fromRgb(t,r){const n=BZ(t);return n?ai.fromArray(n,r):null}static fromHex(t,r=new ai){const n=zZ(t);return n?ai.fromArray(n,r):null}static fromArray(t,r=new ai){return r._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(r.a)&&(r.a=1),r._sanitize()}static fromString(t,r){const n=VZ(t);return n?ai.fromArray(n,r):null}static fromJSON(t){return t!=null?new ai([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return t!=null?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return t!=null?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return typeof t=="string"?ai.fromString(t,this):Array.isArray(t)?ai.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof ai||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){const r=t?.capitalize??!1,n=t?.digits??6,i=n===3||n===4,s=n===4||n===8,o=`#${dw(this.r,i)}${dw(this.g,i)}${dw(this.b,i)}${s?dw(Math.round(255*this.a),i):""}`;return r?o.toUpperCase():o}toCss(t=!1){const r=this.r+", "+this.g+", "+this.b;return t?`rgba(${r}, ${this.a})`:`rgb(${r})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=ai.AlphaMode.ALWAYS){const r=cw(this.r),n=cw(this.g),i=cw(this.b);return t===ai.AlphaMode.ALWAYS||this.a!==1?[r,n,i,cw(255*this.a)]:[r,n,i]}clone(){return new ai(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return t!=null&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Lh(this.r),this.g=Lh(this.g),this.b=Lh(this.b),this.a=qZ(this.a),this}_set(t,r,n,i){this.r=t,this.g=r,this.b=n,this.a=i}};Px.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(Px||(Px={}));const Me=Px;function ye(e,t={}){const r=e instanceof Pe?e:new Pe(e,t),{alwaysWriteDefaults:n,default:i,ignoreUnknown:s=!0,name:o,nonNullable:a,readOnly:l=!1}=t;return f({type:s?r.apiValues:String,json:{type:r.jsonValues,default:i,name:o,read:!l&&{reader:r.read},write:{writer:r.write,alwaysWriteDefaults:n}},nonNullable:a,readOnly:l})}var LI;let kx=LI=class extends z{constructor(e){super(e),this.type="none"}clone(){return new LI({type:this.type})}};u([ye({none:"none",stayAbove:"stay-above"}),f({json:{write:{isRequired:!0}}})],kx.prototype,"type",void 0),kx=LI=u([A("esri.ground.NavigationConstraint")],kx);const vve=Symbol("GroundInstance");function Z$(e){const t=eR(100*(1-e));return Math.max(0,Math.min(t,100))}function Ev(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}var p6,DI,nq;let za=DI=(nq=class extends z.JSONSupportMixin(xi){constructor(e){super(e),this[p6]=!0,this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new Te;const t=n=>{n.parent&&n.parent!==this&&"remove"in n.parent&&n.parent.remove(n),n.parent=this,n.type!=="elevation"&&n.type!=="base-elevation"&&ce.getLogger(this).error(`Layer '${n.title}, id:${n.id}' of type '${n.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},r=n=>{n.parent=null};this.addHandles([this.layers.on("after-add",n=>t(n.item)),this.layers.on("after-remove",n=>r(n.item))])}initialize(){this.when().catch(e=>{Ls(e)||ce.getLogger(this).error("#load()","Failed to load ground",e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.layers.removeAll();for(const t of e)As(t);this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}get layers(){return this._get("layers")}set layers(e){this._set("layers",ly(e,this._get("layers")))}writeLayers(e,t,r,n){const i=[];e&&(n={...n,layerContainerType:"ground"},e.forEach(s=>{if("write"in s){const o={};Ide(s)().write(o,n)&&i.push(o)}else n?.messages&&n.messages.push(new K("layer:unsupported",`Layers (${s.title}, ${s.id}) of type '${s.declaredClass}' cannot be persisted in the ground`,{layer:s}))})),t.layers=i}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return D$(this,e=>{e(this.layers)})}async queryElevation(e,t){await this.load({signal:t?.signal});const{ElevationQuery:r}=await ae(()=>import("./ElevationQuery-f1748175.js"),["assets/ElevationQuery-f1748175.js","assets/TileKey-e7ec6ed7.js"]);Un(t);const n=new r,i=this.layers.filter(f6).toArray();return n.queryAll(i,e,t)}async createElevationSampler(e,t){await this.load({signal:t?.signal});const{ElevationQuery:r}=await ae(()=>import("./ElevationQuery-f1748175.js"),["assets/ElevationQuery-f1748175.js","assets/TileKey-e7ec6ed7.js"]);Un(t);const n=new r,i=this.layers.filter(f6).toArray();return n.createSamplerAll(i,e,t)}clone(){const e={opacity:this.opacity,surfaceColor:D(this.surfaceColor),navigationConstraint:D(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new DI({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve()}async _loadLayersFromJSON(e,t,r){const n=t?.origin||"web-scene",i=t?.portal||null,s=t?.url||null,{populateOperationalLayers:o}=await ae(()=>import("./layersCreator-c67ff2dc.js"),["assets/layersCreator-c67ff2dc.js","assets/loadUtils-4d61d962.js","assets/fetchService-d6a5b823.js","assets/associatedFeatureServiceUtils-ebf5b5be.js","assets/lazyLayerLoader-8a311d60.js","assets/portalLayers-787a3d5c.js"]);Un(r);const a=[];if(e.layers&&Array.isArray(e.layers)){const l={context:{origin:n,url:s,portal:i,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};a.push(o(this.layers,e.layers,l))}await Promise.allSettled(a)}},p6=vve,nq);function bve(e){return e&&"createElevationSampler"in e}function f6(e){return e.type==="elevation"||bve(e)}u([f({json:{read:!1,write:{isRequired:!0}}})],za.prototype,"layers",null),u([re("layers")],za.prototype,"writeLayers",null),u([f({readOnly:!0})],za.prototype,"resourceInfo",void 0),u([f({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:Be,read:{reader:Ev,source:"transparency"},write:{writer:(e,t)=>{t.transparency=Z$(e)},target:"transparency"}}})],za.prototype,"opacity",void 0),u([f({type:Me,json:{type:[Be],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],za.prototype,"surfaceColor",void 0),u([f({type:kx,json:{write:!0}})],za.prototype,"navigationConstraint",void 0),za=DI=u([A("esri.Ground")],za);const M_=za;let Fu=class extends Te{constructor(t){super(t),this.getCollections=null}initialize(){this.addHandles(_J(()=>this._refresh(),J$))}destroy(){this.getCollections=null}_refresh(){const t=this.getCollections!=null?this.getCollections():null;if(t==null)return void this.removeAll();let r=0;for(const n of t)n!=null&&(r=this._processCollection(r,n));this.splice(r)}_createNewInstance(t){return new Te(t)}_processCollection(t,r){if(!r)return t;const n=this.itemFilterFunction??(i=>!!i);for(const i of r)if(i){if(n(i)){const s=this.indexOf(i,t);s>=0?s!==t&&this.reorder(i,t):this.add(i,t),++t}if(this.getChildrenFunction){const s=this.getChildrenFunction(i);if(Array.isArray(s))for(const o of s)t=this._processCollection(t,o);else t=this._processCollection(t,s)}}return t}};u([f()],Fu.prototype,"getCollections",void 0),u([f()],Fu.prototype,"getChildrenFunction",void 0),u([f()],Fu.prototype,"itemFilterFunction",void 0),Fu=u([A("esri.core.CollectionFlattener")],Fu);const KZ=e=>{let t=class extends e{clone(){const r=ri(this);Epe(r,"unable to clone instance of non-accessor class");const n=r.metadata,i=r.store,s={},o=new Map;for(const l in n){const c=n[l],d=i?.originOf(l),p=c.clonable;if(c.readOnly||p===!1||d!==Re.USER&&d!==Re.DEFAULTS&&d!==Re.WEB_MAP&&d!==Re.WEB_SCENE)continue;const y=this[l];let m=null;m=typeof p=="function"?p(y):p==="reference"?y:NA(y),y!=null&&m==null||(d===Re.DEFAULTS?o.set(l,m):s[l]=m)}const a=new(Object.getPrototypeOf(this)).constructor(s);if(o.size){const l=ri(a)?.store;if(l)for(const[c,d]of o)l.set(c,d,Re.DEFAULTS)}return a}};return t=u([A("esri.core.Clonable")],t),t};let T0=class extends KZ(ft){};T0=u([A("esri.core.Clonable")],T0),function(e){e.ClonableMixin=KZ}(T0||(T0={}));const Se=T0,wve="randomUUID"in crypto;function d1(){if(wve)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=r=>e[r].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}function WXe(){return`{${d1().toUpperCase()}}`}function xve(){return`{${d1()}}`}function Sve(e){const t=e.toUpperCase();return e[0]!=="{"?`{${t}}`:t}const of={Base64:0,Hex:1,String:2,Raw:3},Dh=8,ZZ=(1<<Dh)-1;function Hu(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function _ve(e){const t=[];for(let r=0,n=e.length*Dh;r<n;r+=Dh)t[r>>5]|=(e.charCodeAt(r/Dh)&ZZ)<<r%32;return t}function $ve(e){const t=[];for(let r=0,n=32*e.length;r<n;r+=Dh)t.push(String.fromCharCode(e[r>>5]>>>r%32&ZZ));return t.join("")}function Tve(e){const t="0123456789abcdef",r=[];for(let n=0,i=4*e.length;n<i;n++)r.push(t.charAt(e[n>>2]>>n%4*8+4&15)+t.charAt(e[n>>2]>>n%4*8&15));return r.join("")}function Ove(e){const t="=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=[];for(let i=0,s=4*e.length;i<s;i+=3){const o=(e[i>>2]>>i%4*8&255)<<16|(e[i+1>>2]>>(i+1)%4*8&255)<<8|e[i+2>>2]>>(i+2)%4*8&255;for(let a=0;a<4;a++)8*i+6*a>32*e.length?n.push(t):n.push(r.charAt(o>>6*(3-a)&63))}return n.join("")}function Eve(e,t){return e<<t|e>>>32-t}function Y$(e,t,r,n,i,s){return Hu(Eve(Hu(Hu(t,e),Hu(n,s)),i),r)}function xn(e,t,r,n,i,s,o){return Y$(t&r|~t&n,e,t,i,s,o)}function Sn(e,t,r,n,i,s,o){return Y$(t&n|r&~n,e,t,i,s,o)}function _n(e,t,r,n,i,s,o){return Y$(t^r^n,e,t,i,s,o)}function $n(e,t,r,n,i,s,o){return Y$(r^(t|~n),e,t,i,s,o)}function jve(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;let r=1732584193,n=-271733879,i=-1732584194,s=271733878;for(let o=0;o<e.length;o+=16){const a=r,l=n,c=i,d=s;r=xn(r,n,i,s,e[o],7,-680876936),s=xn(s,r,n,i,e[o+1],12,-389564586),i=xn(i,s,r,n,e[o+2],17,606105819),n=xn(n,i,s,r,e[o+3],22,-1044525330),r=xn(r,n,i,s,e[o+4],7,-176418897),s=xn(s,r,n,i,e[o+5],12,1200080426),i=xn(i,s,r,n,e[o+6],17,-1473231341),n=xn(n,i,s,r,e[o+7],22,-45705983),r=xn(r,n,i,s,e[o+8],7,1770035416),s=xn(s,r,n,i,e[o+9],12,-1958414417),i=xn(i,s,r,n,e[o+10],17,-42063),n=xn(n,i,s,r,e[o+11],22,-1990404162),r=xn(r,n,i,s,e[o+12],7,1804603682),s=xn(s,r,n,i,e[o+13],12,-40341101),i=xn(i,s,r,n,e[o+14],17,-1502002290),n=xn(n,i,s,r,e[o+15],22,1236535329),r=Sn(r,n,i,s,e[o+1],5,-165796510),s=Sn(s,r,n,i,e[o+6],9,-1069501632),i=Sn(i,s,r,n,e[o+11],14,643717713),n=Sn(n,i,s,r,e[o],20,-373897302),r=Sn(r,n,i,s,e[o+5],5,-701558691),s=Sn(s,r,n,i,e[o+10],9,38016083),i=Sn(i,s,r,n,e[o+15],14,-660478335),n=Sn(n,i,s,r,e[o+4],20,-405537848),r=Sn(r,n,i,s,e[o+9],5,568446438),s=Sn(s,r,n,i,e[o+14],9,-1019803690),i=Sn(i,s,r,n,e[o+3],14,-187363961),n=Sn(n,i,s,r,e[o+8],20,1163531501),r=Sn(r,n,i,s,e[o+13],5,-1444681467),s=Sn(s,r,n,i,e[o+2],9,-51403784),i=Sn(i,s,r,n,e[o+7],14,1735328473),n=Sn(n,i,s,r,e[o+12],20,-1926607734),r=_n(r,n,i,s,e[o+5],4,-378558),s=_n(s,r,n,i,e[o+8],11,-2022574463),i=_n(i,s,r,n,e[o+11],16,1839030562),n=_n(n,i,s,r,e[o+14],23,-35309556),r=_n(r,n,i,s,e[o+1],4,-1530992060),s=_n(s,r,n,i,e[o+4],11,1272893353),i=_n(i,s,r,n,e[o+7],16,-155497632),n=_n(n,i,s,r,e[o+10],23,-1094730640),r=_n(r,n,i,s,e[o+13],4,681279174),s=_n(s,r,n,i,e[o],11,-358537222),i=_n(i,s,r,n,e[o+3],16,-722521979),n=_n(n,i,s,r,e[o+6],23,76029189),r=_n(r,n,i,s,e[o+9],4,-640364487),s=_n(s,r,n,i,e[o+12],11,-421815835),i=_n(i,s,r,n,e[o+15],16,530742520),n=_n(n,i,s,r,e[o+2],23,-995338651),r=$n(r,n,i,s,e[o],6,-198630844),s=$n(s,r,n,i,e[o+7],10,1126891415),i=$n(i,s,r,n,e[o+14],15,-1416354905),n=$n(n,i,s,r,e[o+5],21,-57434055),r=$n(r,n,i,s,e[o+12],6,1700485571),s=$n(s,r,n,i,e[o+3],10,-1894986606),i=$n(i,s,r,n,e[o+10],15,-1051523),n=$n(n,i,s,r,e[o+1],21,-2054922799),r=$n(r,n,i,s,e[o+8],6,1873313359),s=$n(s,r,n,i,e[o+15],10,-30611744),i=$n(i,s,r,n,e[o+6],15,-1560198380),n=$n(n,i,s,r,e[o+13],21,1309151649),r=$n(r,n,i,s,e[o+4],6,-145523070),s=$n(s,r,n,i,e[o+11],10,-1120210379),i=$n(i,s,r,n,e[o+2],15,718787259),n=$n(n,i,s,r,e[o+9],21,-343485551),r=Hu(r,a),n=Hu(n,l),i=Hu(i,c),s=Hu(s,d)}return[r,n,i,s]}function AR(e,t=of.Hex){const r=t||of.Base64,n=jve(_ve(e),e.length*Dh);switch(r){case of.Raw:return n;case of.Hex:return Tve(n);case of.String:return $ve(n);case of.Base64:return Ove(n)}}function Ave(e){return e&&"getAtOrigin"in e&&"originOf"in e}function FI(e){return IR[Ive(e)]||kve}function Ive(e){return e.type==="json"?"application/json":e.type==="blob"?e.blob.type:Pve(e.url)}function Pve(e){const t=LH(e);return UI[t]||YZ}const IR={},YZ="text/plain",kve=IR[YZ],UI={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const e in UI)IR[UI[e]]=e;function Cve(e){const t=e?.origins??[void 0];return(r,n)=>{const i=Nve(e,r,n);for(const s of t){const o=tR(r,s,n);for(const a in i)o[a]=i[a]}}}function Nve(e,t,r){if(e?.type==="resource")return Mve(e,t,r);switch(e?.type??"other"){case"other":return{read:!0,write:!0};case"url":{const{read:n,write:i}=Npe;return{read:n,write:i}}}}function Mve(e,t,r){const n=i1(t,r);return{type:String,read:(i,s,o)=>{const a=P$(i,s,o);return n.type===String?a:typeof n.type=="function"?new n.type({url:a}):void 0},write:{isRequired:n.json?.write?.isRequired,writer(i,s,o,a){if(!a?.resources)return typeof i=="string"?void(s[o]=mp(i,a)):void(s[o]=i.write({},a));const l=Dve(i),c=mp(l,{...a,verifyItemRelativeUrls:a?.verifyItemRelativeUrls?{writtenUrls:a.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},sy.NO),d=n.type!==String&&(!Ave(this)||a?.origin&&this.originIdOf(r)>$l(a.origin)),p={object:this,propertyName:r,value:i,targetUrl:c,dest:s,targetPropertyName:o,context:a,params:e};a?.portalItem&&c&&!Oi(c)?d&&e?.contentAddressed?zI(p):d?Rve(p):Lve(p):a?.portalItem&&(c==null||WH(c)!=null||tm(c)||d)?zI(p):s[o]=c}}}}function zI(e){const{targetUrl:t,params:r,value:n,context:i,dest:s,targetPropertyName:o}=e;if(!i.portalItem)return;const a=HH(t),l=XZ(n,t,i);if(r?.contentAddressed&&l.type!=="json")return void i.messages?.push(new K("persistable:contentAddressingUnsupported",`Property "${o}" is trying to serializing a resource with content of type ${l.type} with content addressing. Content addressing is only supported for json resources.`,{content:l}));const c=r?.contentAddressed&&l.type==="json"?AR(l.jsonString):a?.filename??d1(),d=hp(r?.prefix??a?.prefix,c),p=`${d}.${FI(l)}`;if(r?.contentAddressed&&i.resources&&l.type==="json"){const g=i.resources.toKeep.find(({resource:b})=>b.path===p)??i.resources.toAdd.find(({resource:b})=>b.path===p);if(g)return void(s[o]=g.resource.itemRelativeUrl)}const y=i.portalItem.resourceFromPath(p);tm(t)&&i.resources&&i.resources.pendingOperations.push(cpe(t).then(g=>{y.path=`${d}.${FI({type:"blob",blob:g})}`,s[o]=y.itemRelativeUrl}).catch(()=>{}));const m=r?.compress??!1;i.resources&&QZ({...e,resource:y,content:l,compress:m,updates:i.resources.toAdd}),s[o]=y.itemRelativeUrl}function Rve(e){const{context:t,targetUrl:r,params:n,value:i,dest:s,targetPropertyName:o}=e;if(!t.portalItem)return;const a=t.portalItem.resourceFromPath(r),l=XZ(i,r,t),c=FI(l),d=LH(a.path),p=n?.compress??!1;c===d?(t.resources&&QZ({...e,resource:a,content:l,compress:p,updates:t.resources.toUpdate}),s[o]=r):zI(e)}function Lve({context:e,targetUrl:t,dest:r,targetPropertyName:n}){e.portalItem&&e.resources&&(e.resources.toKeep.push({resource:e.portalItem.resourceFromPath(t),compress:!1}),r[n]=t)}function QZ({object:e,propertyName:t,updates:r,resource:n,content:i,compress:s}){const o=a=>{Fve(e,t,a)};r.push({resource:n,content:i,compress:s,finish:o})}function XZ(e,t,r){return typeof e=="string"?{type:"url",url:t}:{type:"json",jsonString:JSON.stringify(e.toJSON(r))}}function Dve(e){return e==null?null:typeof e=="string"?e:e.url}function Fve(e,t,r){typeof e[t]=="string"?e[t]=r.url:e[t].url=r.url}let Cx=class extends Se.ClonableMixin(z){constructor(t){super(t),this.color=null}};u([f({type:Me,json:{type:[Be],write:!0}})],Cx.prototype,"color",void 0),Cx=u([A("esri.effects.FocusAreaOutline")],Cx);const Uve=Cx;function JXe(e){const t=[];for(e.reset();e.nextPath();){const r=[];for(;e.nextPoint();)r.push([e.x,e.y]);t.push(r)}return e.reset(),t}function zve(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}var R_;(function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"})(R_||(R_={}));function PR(e,t){const r=t[0]-e[0],n=t[1]-e[1];if(e.length>2&&t.length>2){const i=e[2]-t[2];return Math.sqrt(r*r+n*n+i*i)}return Math.sqrt(r*r+n*n)}function Bve(e,t,r){const n=e[0]+r*(t[0]-e[0]),i=e[1]+r*(t[1]-e[1]);return e.length>2&&t.length>2?[n,i,e[2]+r*(t[2]-e[2])]:[n,i]}function KXe(e,t,r,n){const[i,s]=t,[o,a]=r,[l,c]=n,d=l-o,p=c-a,y=d*d+p*p,m=(i-o)*d+(s-a)*p,g=Math.min(1,Math.max(0,m/y));return e[0]=o+d*g,e[1]=a+p*g,e}function ZXe(e,t,r,n,i,s){let o=r,a=n,l=i-o,c=s-a;if(l!==0||c!==0){const d=((e-o)*l+(t-a)*c)/(l*l+c*c);d>1?(o=i,a=s):d>0&&(o+=l*d,a+=c*d)}return l=e-o,c=t-a,l*l+c*c}function eY(e,t){return Bve(e,t,.5)}function YXe(e){const t=e.length;let r=0;for(let n=0;n<t-1;++n)r+=PR(e[n],e[n+1]);return r}function tY(e,t=R_.X,r=R_.Y){let n=0;const i=e.length;let s=e[0];for(let o=1;o<i;o++){const a=e[o];n+=(a[t]-s[t])*(a[r]+s[r]),s=a}if(rY(e)){const o=e[0];n+=(o[t]-s[t])*(o[r]+s[r])}return n>=0}function rY(e){const t=e.length;return t>0&&!_$(e[0],e[t-1])}function QXe(e){"rings"in e&&(Vve(e),qve(e))}function Vve(e){if("rings"in e)for(const t of e.rings)rY(t)&&t.push(t[0].slice())}function qve(e){if(!("rings"in e)||e.rings.length===0||tY(e.rings[0]))return!1;for(const t of e.rings)t.reverse();return!0}function XXe(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function Gve(e){return e?Wve(e.rings,e.hasZ??!1):null}function Wve(e,t){if(!e?.length)return null;const r=[],n=[],i=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let s=0,o=e.length;s<o;s++){const a=nY(e[s],t,i);a&&n.push(a)}if(n.sort((s,o)=>{let a=s[2]-o[2];return a===0&&t&&(a=s[4]-o[4]),a}),n.length&&(r[0]=n[0][0],r[1]=n[0][1],t&&(r[2]=n[0][3]),(r[0]<i[0]||r[0]>i[1]||r[1]<i[2]||r[1]>i[3]||t&&(r[2]<i[4]||r[2]>i[5]))&&(r.length=0)),!r.length){const s=e[0]&&e[0].length?Hve(e[0],t):null;if(!s)return null;r[0]=s[0],r[1]=s[1],t&&s.length>2&&(r[2]=s[2])}return r}function nY(e,t,r){let n=0,i=0,s=0,o=0,a=0;const l=e.length?e[0][0]:0,c=e.length?e[0][1]:0,d=e.length&&t?e[0][2]:0;for(let y=0;y<e.length;y++){const m=e[y],g=e[(y+1)%e.length],[b,w,S]=m,_=b-l,x=w-c,[O,$,T]=g,j=O-l,I=$-c,k=_*I-j*x;if(o+=k,n+=(_+j)*k,i+=(x+I)*k,t&&m.length>2&&g.length>2){const M=S-d,N=T-d,F=_*N-j*M;s+=(M+N)*F,a+=F}b<r[0]&&(r[0]=b),b>r[1]&&(r[1]=b),w<r[2]&&(r[2]=w),w>r[3]&&(r[3]=w),t&&(S<r[4]&&(r[4]=S),S>r[5]&&(r[5]=S))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;o*=.5,a*=.5;const p=[n/(6*o)+l,i/(6*o)+c,o];return t&&(r[4]===r[5]||a===0?(p[3]=(r[4]+r[5])/2,p[4]=0):(p[3]=s/(6*a)+d,p[4]=a)),p}function eet(e,t){let r=0,n=0,i=0;e.nextPoint();const s=e.pathSize?e.x:0,o=e.pathSize?e.y:0;for(let a=0;a<e.pathSize;a++){e.seekInPath(a);const l=[e.x,e.y];e.seekInPath((a+1)%e.pathSize);const c=[e.x,e.y],[d,p]=l,y=d-s,m=p-o,[g,b]=c,w=g-s,S=b-o,_=y*S-w*m;i+=_,r+=(y+w)*_,n+=(m+S)*_,d<t[0]&&(t[0]=d),d>t[1]&&(t[1]=d),p<t[2]&&(t[2]=p),p>t[3]&&(t[3]=p)}return i>0&&(i*=-1),i?(i*=.5,[r/(6*i)+s,n/(6*i)+o,i]):null}function Hve(e,t){const r=t?[0,0,0]:[0,0],n=t?[0,0,0]:[0,0];let i=0,s=0,o=0,a=0;for(let l=0,c=e.length;l<c-1;l++){const d=e[l],p=e[l+1];if(d&&p){r[0]=d[0],r[1]=d[1],n[0]=p[0],n[1]=p[1],t&&d.length>2&&p.length>2&&(r[2]=d[2],n[2]=p[2]);const y=PR(r,n);if(y){i+=y;const m=eY(d,p);s+=y*m[0],o+=y*m[1],t&&m.length>2&&(a+=y*m[2])}}}return i>0?t?[s/i,o/i,a/i]:[s/i,o/i]:e.length?e[0]:null}function Jve(e){const{hasZ:t,totalSize:r}=e;if(r===0)return null;const n=[],i=[],s=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const o=nY(zve(e),e.hasZ,s);o&&i.push(o)}if(i.sort((o,a)=>{let l=o[2]-a[2];return l===0&&t&&(l=o[4]-a[4]),l}),i.length&&(n[0]=i[0][0],n[1]=i[0][1],t&&(n[2]=i[0][3]),(n[0]<s[0]||n[0]>s[1]||n[1]<s[2]||n[1]>s[3]||t&&(n[2]<s[4]||n[2]>s[5]))&&(n.length=0)),!n.length){e.reset(),e.nextPath();const o=e.pathSize?Kve(e):null;if(!o)return null;n[0]=o[0],n[1]=o[1],t&&o.length>2&&(n[2]=o[2])}return n}function Kve(e){const{hasZ:t}=e,r=t?[0,0,0]:[0,0],n=t?[0,0,0]:[0,0];let i=0,s=0,o=0,a=0;if(e.nextPoint()){let l=e.x,c=e.y,d=e.z;for(;e.nextPoint();){const p=e.x,y=e.y,m=e.z;r[0]=l,r[1]=c,n[0]=p,n[1]=y,t&&(r[2]=d,n[2]=m);const g=PR(r,n);if(g){i+=g;const b=eY(r,n);s+=g*b[0],o+=g*b[1],t&&b.length>2&&(a+=g*b[2])}l=p,c=y,d=m}}return i>0?t?[s/i,o/i,a/i]:[s/i,o/i]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const Zve=1e-6;function tet(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<Zve){const i=Jve(e);return i?[i[0],i[1]]:null}const r=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const n=[e.x,e.y];for(e.reset();e.nextPath();)Qve(r,n,e);return r[0]*=1/t,r[1]*=1/t,r[0]+=n[0],r[1]+=n[1],r}const Yve=1/3;function Qve(e,t,r){if(!e||!r||r.pathSize<3)return null;r.nextPoint();const n=r.x,i=r.y;r.nextPoint();let s,o=r.x-n,a=r.y-i,l=0,c=0;for(;r.nextPoint();)l=r.x-n,c=r.y-i,s=.5*Yve*(l*a-c*o),e[0]+=s*(o+l),e[1]+=s*(a+c),o=l,a=c;const d=r.getCurrentRingArea(),p=[n,i];return p[0]-=t[0],p[1]-=t[1],p[0]*=d,p[1]*=d,e[0]+=p[0],e[1]+=p[1],e}function p1(e=tbe){return[e[0],e[1],e[2],e[3]]}function iY(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function ret(e,t,r,n,i=p1()){return i[0]=e,i[1]=t,i[2]=r,i[3]=n,i}function net(e,t=p1()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function iet(e,t,r=new ze){return r.xmin=e[0],r.ymin=e[1],r.xmax=e[2],r.ymax=e[3],r.spatialReference=t,r}function set(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function oet(e,t,r){if(t!=null)if("length"in t)BI(t)?(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[2]),r[3]=Math.max(e[3],t[3])):t.length!==2&&t.length!==3||(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[0]),r[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":r[0]=Math.min(e[0],t.xmin),r[1]=Math.min(e[1],t.ymin),r[2]=Math.max(e[2],t.xmax),r[3]=Math.max(e[3],t.ymax);break;case"point":r[0]=Math.min(e[0],t.x),r[1]=Math.min(e[1],t.y),r[2]=Math.max(e[2],t.x),r[3]=Math.max(e[3],t.y)}else iY(r,e)}function Xve(e){return e==null||e[0]>=e[2]?0:e[2]-e[0]}function ebe(e){return e==null||e[1]>=e[3]?0:e[3]-e[1]}function aet(e){return Xve(e)*ebe(e)}function uet(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function cet(e,t,r){return t>=e[0]&&r>=e[1]&&t<=e[2]&&r<=e[3]}function det(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function pet(e,t,r){return Math.max(t[0],e[0])-r<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])-r<=Math.min(t[3],e[3])}function fet(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function het(e){return e?iY(e,h6):p1(h6)}function BI(e){return e!=null&&e.length===4}function yet(e,t){return BI(e)&&BI(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const h6=[1/0,1/0,-1/0,-1/0],tbe=[0,0,0,0];function sY(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function oY(e){return e.points!==void 0}function aY(e){return e.x!==void 0&&e.y!==void 0}function lY(e){return e.paths!==void 0}function uY(e){return e.rings!==void 0}function cY(e){function t(r,n){return r==null?n:n==null?r:e(r,n)}return t}const Ju=cY(Math.min),Ku=cY(Math.max);function met(e,t){return lY(t)?fy(e,t.paths,!1,!1):uY(t)?fy(e,t.rings,!1,!1):oY(t)?kR(e,t.points,!1,!1,!1,!1):sY(t)?dY(e,t):(aY(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function get(e){let t,r,n,i;for(e.reset(),t=n=1/0,r=i=-1/0;e.nextPath();){const s=rbe(e);t=Math.min(s[0],t),n=Math.min(s[1],n),r=Math.max(s[2],r),i=Math.max(s[3],i)}return p1([t,n,r,i])}function rbe(e){let t,r,n,i;for(t=n=1/0,r=i=-1/0;e.nextPoint();)t=Math.min(e.x,t),n=Math.min(e.y,n),r=Math.max(e.x,r),i=Math.max(e.y,i);return p1([t,n,r,i])}function vet(e,t){return lY(t)?fy(e,t.paths,!0,!1):uY(t)?fy(e,t.rings,!0,!1):oY(t)?kR(e,t.points,!0,!1,!0,!1):sY(t)?dY(e,t,!0,!1,!0,!1):(aY(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function fy(e,t,r,n){const i=r?3:2;if(!t.length||!t[0].length)return null;let s,o,a,l,[c,d]=t[0][0],[p,y]=t[0][0];for(let m=0;m<t.length;m++){const g=t[m];for(let b=0;b<g.length;b++){const w=g[b],[S,_]=w;if(c=Ju(c,S),d=Ju(d,_),p=Ku(p,S),y=Ku(y,_),r&&w.length>2){const x=w[2];s=Ju(s,x),o=Ku(o,x)}if(n&&w.length>i){const x=w[i];a=Ju(s,x),l=Ku(o,x)}}}return r?n?(e[0]=c,e[1]=d,e[2]=s,e[3]=a,e[4]=p,e[5]=y,e[6]=o,e[7]=l,e.length=8,e):(e[0]=c,e[1]=d,e[2]=s,e[3]=p,e[4]=y,e[5]=o,e.length=6,e):n?(e[0]=c,e[1]=d,e[2]=a,e[3]=p,e[4]=y,e[5]=l,e.length=6,e):(e[0]=c,e[1]=d,e[2]=p,e[3]=y,e.length=4,e)}function dY(e,t,r,n,i,s){const o=t.xmin,a=t.xmax,l=t.ymin,c=t.ymax;let d=t.zmin,p=t.zmax,y=t.mmin,m=t.mmax;return i?(d=d||0,p=p||0,s?(y=y||0,m=m||0,e[0]=o,e[1]=l,e[2]=d,e[3]=y,e[4]=a,e[5]=c,e[6]=p,e[7]=m,e):(e[0]=o,e[1]=l,e[2]=d,e[3]=a,e[4]=c,e[5]=p,e)):s?(y=y||0,m=m||0,e[0]=o,e[1]=l,e[2]=y,e[3]=a,e[4]=c,e[5]=m,e):(e[0]=o,e[1]=l,e[2]=a,e[3]=c,e)}function kR(e,t,r,n,i,s){const o=r?3:2,a=n&&s,l=r&&i;if(!t.length||!t[0].length)return null;let c,d,p,y,[m,g]=t[0],[b,w]=t[0];for(let S=0;S<t.length;S++){const _=t[S],[x,O]=_;if(m=Ju(m,x),g=Ju(g,O),b=Ku(b,x),w=Ku(w,O),l&&_.length>2){const $=_[2];c=Ju(c,$),d=Ku(d,$)}if(a&&_.length>o){const $=_[o];p=Ju(c,$),y=Ku(d,$)}}return i?(c=c||0,d=d||0,s?(p=p||0,y=y||0,e[0]=m,e[1]=g,e[2]=c,e[3]=p,e[4]=b,e[5]=w,e[6]=d,e[7]=y,e):(e[0]=m,e[1]=g,e[2]=c,e[3]=b,e[4]=w,e[5]=d,e)):s?(p=p||0,y=y||0,e[0]=m,e[1]=g,e[2]=p,e[3]=b,e[4]=w,e[5]=y,e):(e[0]=m,e[1]=g,e[2]=b,e[3]=w,e)}function nbe(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function ibe(e){return e.points!==void 0}function sbe(e){return e.x!==void 0&&e.y!==void 0}function obe(e){return e.paths!==void 0}function abe(e){return e.rings!==void 0}const CR=[];function pY(e,t,r,n){return{xmin:e,ymin:t,xmax:r,ymax:n}}function fY(e,t,r,n,i,s){return{xmin:e,ymin:t,zmin:r,xmax:n,ymax:i,zmax:s}}function hY(e,t,r,n,i,s){return{xmin:e,ymin:t,mmin:r,xmax:n,ymax:i,mmax:s}}function yY(e,t,r,n,i,s,o,a){return{xmin:e,ymin:t,zmin:r,mmin:n,xmax:i,ymax:s,zmax:o,mmax:a}}function NR(e,t=!1,r=!1){return t?r?yY(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):fY(e[0],e[1],e[2],e[3],e[4],e[5]):r?hY(e[0],e[1],e[2],e[3],e[4],e[5]):pY(e[0],e[1],e[2],e[3])}function bet(e){return e?nbe(e)?e:sbe(e)?ube(e):abe(e)?mY(e):obe(e)?gY(e):ibe(e)?lbe(e):null:null}function lbe(e){const{hasZ:t,hasM:r,points:n}=e;return NR(kR(CR,n,t??!1,r??!1),t,r)}function ube(e){const{x:t,y:r,z:n,m:i}=e,s=i!=null;return n!=null?s?yY(t,r,n,i,t,r,n,i):fY(t,r,n,t,r,n):s?hY(t,r,i,t,r,i):pY(t,r,t,r)}function mY(e){const{hasZ:t,hasM:r,rings:n}=e,i=fy(CR,n,t??!1,r??!1);return i?NR(i,t,r):null}function gY(e){const{hasZ:t,hasM:r,paths:n}=e,i=fy(CR,n,t??!1,r??!1);return i?NR(i,t,r):null}function hy(e,t,r=!1){let{hasM:n,hasZ:i}=e;Array.isArray(t)?t.length!==4||n||i?t.length===3&&r&&!n?(i=!0,n=!1):t.length===3&&n&&i&&(n=!1,i=!1):(n=!0,i=!0):(i=!i&&t.hasZ&&(!n||t.hasM),n=!n&&t.hasM&&(!i||t.hasZ)),e.hasZ=i,e.hasM=n}var Nx;function y6(e){return!Array.isArray(e[0])}function cbe(e){return typeof e[0]?.[0]=="number"}function dbe(e){if(!e)return;let{rings:t,hasM:r,hasZ:n,spatialReference:i}=e;switch(t??(t=[]),cbe(t)&&(t=[t]),t[0]?.[0]?.length){case 4:n??(n=!0),r??(r=!0);break;case 3:n??(n=r!==!0),r??(r=!n);break;default:n??(n=!1),r??(r=!1)}return i??(i=be.WGS84),{...e,hasM:r,hasZ:n,rings:t,spatialReference:i}}let hr=Nx=class extends An{static fromExtent(e){const t=e.clone().normalize(),{spatialReference:r}=e;let n=!1,i=!1;for(const o of t)o.hasZ&&(n=!0),o.hasM&&(i=!0);const s={rings:t.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(n&&o.hasZ){const l=o.zmin+.5*(o.zmax-o.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(i&&o.hasM){const l=o.mmin+.5*(o.mmax-o.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a}),spatialReference:r};return n&&(s.hasZ=!0),i&&(s.hasM=!0),new Nx(s)}constructor(e){super(dbe(e)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){const e=Gve(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new qe;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}writeCurveRings(e,t){t.curveRings=D(e)}get extent(){const e=mY(this),{spatialReference:t}=this;return e?new ze({...e,spatialReference:t}):null}get isSelfIntersecting(){return pfe(ce.getLogger(this),"isSelfIntersecting",{replacement:"Please use simplifyOperator.isSimple() instead.",version:"4.33",warnOnce:!0}),lme(this.rings)}writeRings(e,t){t.rings=D(this.rings)}addRing(e){if(!e)return;const t=this.rings,r=t.length;if(y6(e)){const n=[];for(let i=0,s=e.length;i<s;i++)n[i]=e[i].toArray();t[r]=n}else t[r]=e.slice();return this.notifyChange("rings"),this}clone(){const e=new Nx;return e.spatialReference=this.spatialReference,e.rings=D(this.rings),e.curveRings=D(this.curveRings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,r=e.spatialReference;if(t!=null!=(r!=null)||t!=null&&r!=null&&!t.equals(r)||this.rings.length!==e.rings.length)return!1;const n=([i,s,o,a],[l,c,d,p])=>i===l&&s===c&&(o==null&&d==null||o===d)&&(a==null&&p==null||a===p);for(let i=0;i<this.rings.length;i++){const s=this.rings[i],o=e.rings[i];if(!_$(s,o,n))return!1}return!0}contains(e){if(!e)return!1;const t=hK(e,this.spatialReference);return Qye(this,t??e)}isClockwise(e){const t=y6(e)?e.map(r=>this.hasZ?this.hasM?[r.x,r.y,r.z,r.m]:[r.x,r.y,r.z]:[r.x,r.y]):e;return tY(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.rings[e][t],n=this.hasZ,i=this.hasM;return n&&!i?new qe(r[0],r[1],r[2],void 0,this.spatialReference):i&&!n?new qe(r[0],r[1],void 0,r[2],this.spatialReference):n&&i?new qe(r[0],r[1],r[2],r[3],this.spatialReference):new qe(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(hy(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e].splice(t,0,r),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new qe(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],r=this.spatialReference,n=t.map(i=>new qe(i,r));return this.notifyChange("rings"),n}setPoint(e,t,r){return this._validateInputs(e,t)?(hy(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e][t]=r,this.notifyChange("rings"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const n=this.rings[e];if(r&&(t<0||t>n.length)||!r&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}};u([f({readOnly:!0})],hr.prototype,"cache",null),u([f({readOnly:!0})],hr.prototype,"centroid",null),u([f({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],hr.prototype,"curveRings",void 0),u([re("curveRings")],hr.prototype,"writeCurveRings",null),u([f({readOnly:!0})],hr.prototype,"extent",null),u([f({readOnly:!0})],hr.prototype,"isSelfIntersecting",null),u([f({type:[[[Number]]],json:{write:{isRequired:!0}}})],hr.prototype,"rings",void 0),u([re("rings")],hr.prototype,"writeRings",null),hr=Nx=u([A("esri.geometry.Polygon")],hr),hr.prototype.toJSON.isDefaultToJSON=!0;function um(){return[0,0,0]}function pbe(e){return[e[0],e[1],e[2]]}function cm(e,t,r){return[e,t,r]}function fbe(e,t,r){return[e,t,r]}function hbe(e,t=um()){const r=Math.min(3,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t}function vY(){return um()}function bY(){return cm(1,1,1)}function wY(){return cm(1,0,0)}function xY(){return cm(0,1,0)}function SY(){return cm(0,0,1)}const ybe=vY(),mbe=bY(),gbe=wY(),vbe=xY(),bbe=SY();Object.freeze(Object.defineProperty({__proto__:null,ONES:mbe,UNIT_X:gbe,UNIT_Y:vbe,UNIT_Z:bbe,ZEROS:ybe,clone:pbe,create:um,freeze:fbe,fromArray:hbe,fromValues:cm,ones:bY,unitX:wY,unitY:xY,unitZ:SY,zeros:vY},Symbol.toStringTag,{value:"Module"}));var VI;function m6(e){return(t,r)=>t==null?r:r==null?t:e(t,r)}function wbe(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let ms=VI=class extends An{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return{};const r={};Array.isArray(e)?(r.points=e,r.spatialReference=t):wbe(e)?r.spatialReference=e:(e.points&&(r.points=e.points),e.spatialReference&&(r.spatialReference=e.spatialReference),e.hasZ&&(r.hasZ=e.hasZ),e.hasM&&(r.hasM=e.hasM));const n=r.points?.[0];return n&&(r.hasZ===void 0&&r.hasM===void 0?(r.hasZ=n.length>2,r.hasM=!1):r.hasZ===void 0?r.hasZ=n.length>3:r.hasM===void 0&&(r.hasM=n.length>3)),r}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new ze,r=this.hasZ,n=this.hasM,i=r?3:2,s=e[0],o=m6(Math.min),a=m6(Math.max);let l,c,d,p,[y,m]=s,[g,b]=s;for(let w=0,S=e.length;w<S;w++){const _=e[w],[x,O]=_;if(y=o(y,x),m=o(m,O),g=a(g,x),b=a(b,O),r&&_.length>2){const $=_[2];l=o(l,$),d=a(d,$)}if(n&&_.length>i){const $=_[i];c=o(c,$),p=a(p,$)}}return t.xmin=y,t.ymin=m,t.xmax=g,t.ymax=b,t.spatialReference=this.spatialReference,r?(t.zmin=l,t.zmax=d):(t.zmin=void 0,t.zmax=void 0),n?(t.mmin=c,t.mmax=p):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=D(this.points)}addPoint(e){return hy(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:D(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new VI(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],r={x:t[0],y:t[1],spatialReference:this.spatialReference};let n=2;return this.hasZ&&(r.z=t[2],n=3),this.hasM&&(r.m=t[n]),new qe(r)}removePoint(e){if(!this._validateInputs(e))return null;const t=new qe(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(hy(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};u([f({readOnly:!0})],ms.prototype,"cache",null),u([f()],ms.prototype,"extent",null),u([f({type:[[Number]],json:{write:{isRequired:!0}}})],ms.prototype,"points",void 0),u([re("points")],ms.prototype,"writePoints",null),ms=VI=u([A("esri.geometry.Multipoint")],ms),ms.prototype.toJSON.isDefaultToJSON=!0;var qI;function xbe(e){return!Array.isArray(e[0])}function Sbe(e){return typeof e[0]?.[0]=="number"}function _be(e){if(!e)return;let{paths:t,hasM:r,hasZ:n,spatialReference:i}=e;switch(t??(t=[]),Sbe(t)&&(t=[t]),t[0]?.[0]?.length){case 4:n??(n=!0),r??(r=!0);break;case 3:n??(n=r!==!0),r??(r=!n);break;default:n??(n=!1),r??(r=!1)}return i??(i=be.WGS84),{...e,hasM:r,hasZ:n,paths:t,spatialReference:i}}let In=qI=class extends An{constructor(e){super(_be(e)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(e,t){t.curvePaths=D(e)}get extent(){const e=gY(this),{spatialReference:t}=this;return e?new ze({...e,spatialReference:t}):null}writePaths(e,t){t.paths=D(this.paths)}addPath(e){if(!e)return;const t=this.paths,r=t.length;if(xbe(e)){const n=[];for(let i=0,s=e.length;i<s;i++)n[i]=e[i].toArray();t[r]=n}else t[r]=e.slice();return this.notifyChange("paths"),this}clone(){const e=new qI;return e.spatialReference=this.spatialReference,e.paths=D(this.paths),e.curvePaths=D(this.curvePaths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.paths[e][t],n=this.hasZ,i=this.hasM;return n&&!i?new qe(r[0],r[1],r[2],void 0,this.spatialReference):i&&!n?new qe(r[0],r[1],void 0,r[2],this.spatialReference):n&&i?new qe(r[0],r[1],r[2],r[3],this.spatialReference):new qe(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(hy(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e].splice(t,0,r),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],r=this.spatialReference,n=t.map(i=>new qe(i,r));return this.notifyChange("paths"),n}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new qe(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(e,t,r){return this._validateInputs(e,t)?(hy(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e][t]=r,this.notifyChange("paths"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const n=this.paths[e];if(r&&(t<0||t>n.length)||!r&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}};u([f({readOnly:!0})],In.prototype,"cache",null),u([f({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],In.prototype,"curvePaths",void 0),u([re("curvePaths")],In.prototype,"writeCurvePaths",null),u([f({readOnly:!0})],In.prototype,"extent",null),u([f({type:[[[Number]]],json:{write:{isRequired:!0}}})],In.prototype,"paths",void 0),u([re("paths")],In.prototype,"writePaths",null),In=qI=u([A("esri.geometry.Polyline")],In),In.prototype.toJSON.isDefaultToJSON=!0;const lu=Zt.radius,Ws=Zt.eccentricitySquared,$be={a1:lu*Ws,a2:lu*Ws*lu*Ws,a3:lu*Ws*Ws/2,a4:lu*Ws*lu*Ws*2.5,a5:lu*Ws+lu*Ws*Ws/2,a6:1-Ws};1/294.9786982,1/298.257222101,Zt.radius,Zt.flattening,1/298.257222101,bc.radius,bc.flattening,1/192.0430107526882,wa.radius,wa.flattening,1/10.2079945799458,1/43.61604095563141,wa.radius;var U;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=7]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=9]="GCSMOON2000",e[e.LON_LAT=10]="LON_LAT",e[e.PLATE_CARREE=11]="PLATE_CARREE"})(U||(U={}));const Tbe={[U.WGS84]:{[U.CGCS2000]:Mt,[U.GCSMARS2000]:null,[U.GCSMOON2000]:null,[U.LON_LAT]:Mt,[U.SPHERICAL_ECEF]:Eg,[U.SPHERICAL_MARS_PCPF]:null,[U.SPHERICAL_MOON_PCPF]:null,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:Fh,[U.PLATE_CARREE]:Uh,[U.WGS84]:Mt,[U.WGS84_ECEF]:Vh},[U.CGCS2000]:{[U.CGCS2000]:Mt,[U.GCSMARS2000]:null,[U.GCSMOON2000]:null,[U.LON_LAT]:Mt,[U.SPHERICAL_ECEF]:Eg,[U.SPHERICAL_MARS_PCPF]:null,[U.SPHERICAL_MOON_PCPF]:null,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:Fh,[U.PLATE_CARREE]:Uh,[U.WGS84]:Mt,[U.WGS84_ECEF]:Vh},[U.GCSMARS2000]:{[U.CGCS2000]:null,[U.GCSMARS2000]:Mt,[U.GCSMOON2000]:null,[U.LON_LAT]:Mt,[U.SPHERICAL_ECEF]:null,[U.SPHERICAL_MARS_PCPF]:b6,[U.SPHERICAL_MOON_PCPF]:null,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:null,[U.PLATE_CARREE]:null,[U.WGS84]:null,[U.WGS84_ECEF]:null},[U.GCSMOON2000]:{[U.CGCS2000]:null,[U.GCSMARS2000]:null,[U.GCSMOON2000]:Mt,[U.LON_LAT]:Mt,[U.SPHERICAL_ECEF]:null,[U.SPHERICAL_MARS_PCPF]:null,[U.SPHERICAL_MOON_PCPF]:v6,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:null,[U.PLATE_CARREE]:null,[U.WGS84]:null,[U.WGS84_ECEF]:null},[U.WEB_MERCATOR]:{[U.CGCS2000]:Og,[U.GCSMARS2000]:null,[U.GCSMOON2000]:null,[U.LON_LAT]:Og,[U.SPHERICAL_ECEF]:Ebe,[U.SPHERICAL_MARS_PCPF]:null,[U.SPHERICAL_MOON_PCPF]:null,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:Mt,[U.PLATE_CARREE]:Ibe,[U.WGS84]:Og,[U.WGS84_ECEF]:jbe},[U.WGS84_ECEF]:{[U.CGCS2000]:qh,[U.GCSMARS2000]:null,[U.GCSMOON2000]:null,[U.LON_LAT]:qh,[U.SPHERICAL_ECEF]:Fbe,[U.SPHERICAL_MARS_PCPF]:null,[U.SPHERICAL_MOON_PCPF]:null,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:Ube,[U.PLATE_CARREE]:Pbe,[U.WGS84]:qh,[U.WGS84_ECEF]:Mt},[U.SPHERICAL_ECEF]:{[U.CGCS2000]:Bh,[U.GCSMARS2000]:null,[U.GCSMOON2000]:null,[U.LON_LAT]:Bh,[U.SPHERICAL_ECEF]:Mt,[U.SPHERICAL_MARS_PCPF]:null,[U.SPHERICAL_MOON_PCPF]:null,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:Rbe,[U.PLATE_CARREE]:kbe,[U.WGS84]:Bh,[U.WGS84_ECEF]:Lbe},[U.SPHERICAL_MARS_PCPF]:{[U.CGCS2000]:null,[U.GCSMARS2000]:x6,[U.GCSMOON2000]:null,[U.LON_LAT]:x6,[U.SPHERICAL_ECEF]:null,[U.SPHERICAL_MARS_PCPF]:Mt,[U.SPHERICAL_MOON_PCPF]:null,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:null,[U.PLATE_CARREE]:null,[U.WGS84]:null,[U.WGS84_ECEF]:null},[U.SPHERICAL_MOON_PCPF]:{[U.CGCS2000]:null,[U.GCSMARS2000]:null,[U.GCSMOON2000]:w6,[U.LON_LAT]:w6,[U.SPHERICAL_ECEF]:null,[U.SPHERICAL_MARS_PCPF]:null,[U.SPHERICAL_MOON_PCPF]:Mt,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:null,[U.PLATE_CARREE]:null,[U.WGS84]:null,[U.WGS84_ECEF]:null},[U.UNKNOWN]:{[U.CGCS2000]:null,[U.GCSMARS2000]:null,[U.GCSMOON2000]:null,[U.LON_LAT]:null,[U.SPHERICAL_ECEF]:null,[U.SPHERICAL_MARS_PCPF]:null,[U.SPHERICAL_MOON_PCPF]:null,[U.UNKNOWN]:Mt,[U.WEB_MERCATOR]:null,[U.PLATE_CARREE]:null,[U.WGS84]:null,[U.WGS84_ECEF]:null},[U.LON_LAT]:{[U.CGCS2000]:Mt,[U.GCSMARS2000]:Mt,[U.GCSMOON2000]:Mt,[U.LON_LAT]:Mt,[U.SPHERICAL_ECEF]:Eg,[U.SPHERICAL_MARS_PCPF]:b6,[U.SPHERICAL_MOON_PCPF]:v6,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:Fh,[U.PLATE_CARREE]:Uh,[U.WGS84]:Mt,[U.WGS84_ECEF]:Vh},[U.PLATE_CARREE]:{[U.CGCS2000]:zh,[U.GCSMARS2000]:null,[U.GCSMOON2000]:null,[U.LON_LAT]:zh,[U.SPHERICAL_ECEF]:Cbe,[U.SPHERICAL_MARS_PCPF]:null,[U.SPHERICAL_MOON_PCPF]:null,[U.UNKNOWN]:null,[U.WEB_MERCATOR]:Nbe,[U.PLATE_CARREE]:Mt,[U.WGS84]:zh,[U.WGS84_ECEF]:Mbe}};function _Y(e,t){return Obe(e,t)?.projector}function Obe(e,t){if(e==null||t==null)return null;if(Ca.source.spatialReference===e&&Ca.dest.spatialReference===t)return Ca;const r=g6(e,Ca.source),n=g6(t,Ca.dest);return r===U.UNKNOWN&&n===U.UNKNOWN?Ei(e,t)?Ca.projector=Mt:Ca.projector=null:Ca.projector=Tbe[r][n],Ca}function g6(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=kc(e,1)),T_(e)?t.spatialReferenceId=U.SPHERICAL_ECEF:wp(e)?t.spatialReferenceId=U.WGS84:Ta(e)?t.spatialReferenceId=U.WEB_MERCATOR:hye(e)?t.spatialReferenceId=U.PLATE_CARREE:e.wkt===vye.wkt?t.spatialReferenceId=U.WGS84_ECEF:e.wkid===bp.CGCS2000?t.spatialReferenceId=U.CGCS2000:e.wkt===dR.wkt?t.spatialReferenceId=U.SPHERICAL_MARS_PCPF:e.wkt===pR.wkt?t.spatialReferenceId=U.SPHERICAL_MOON_PCPF:sK(e)?t.spatialReferenceId=U.GCSMARS2000:oK(e)?t.spatialReferenceId=U.GCSMOON2000:t.spatialReferenceId=U.UNKNOWN):U.UNKNOWN}function Mt(e,t,r,n){e!==r&&(r[n++]=e[t++],r[n++]=e[t++],r[n]=e[t])}function Og(e,t,r,n){r[n]=my*(e[t]/np),r[n+1]=my*($Y-2*Math.atan(Math.exp(-e[t+1]/np))),r[n+2]=e[t+2]}function Ebe(e,t,r,n){const i=e[t]/np,s=$Y-2*Math.atan(Math.exp(-e[t+1]/np)),o=np+e[t+2],a=Math.cos(s)*o;r[n]=Math.cos(i)*a,r[n+1]=Math.sin(i)*a,r[n+2]=Math.sin(s)*o}function jbe(e,t,r,n){Og(e,t,r,n),Vh(r,n,r,n)}function Abe(e,t,r,n,i){const s=.4999999*Math.PI,o=_c(yy*e[t+1],-s,s),a=Math.sin(o);r[n++]=yy*e[t]*i.radius,r[n++]=i.halfSemiMajorAxis*Math.log((1+a)/(1-a)),r[n]=e[t+2]}function Fh(e,t,r,n){Abe(e,t,r,n,Zt)}function Uh(e,t,r,n){r[n]=e[t]*S6,r[n+1]=e[t+1]*S6,r[n+2]=e[t+2]}function zh(e,t,r,n){r[n]=e[t]*_6,r[n+1]=e[t+1]*_6,r[n+2]=e[t+2]}function Ibe(e,t,r,n){Og(e,t,r,n),Uh(r,n,r,n)}function Pbe(e,t,r,n){qh(e,t,r,n),Uh(r,n,r,n)}function kbe(e,t,r,n){Bh(e,t,r,n),Uh(r,n,r,n)}function Cbe(e,t,r,n){zh(e,t,r,n),Eg(r,n,r,n)}function Nbe(e,t,r,n){zh(e,t,r,n),Fh(r,n,r,n)}function Mbe(e,t,r,n){zh(e,t,r,n),Vh(r,n,r,n)}function MR(e,t,r,n,i){const s=i+e[t+2],o=yy*e[t+1],a=yy*e[t],l=Math.cos(o)*s;r[n]=Math.cos(a)*l,r[n+1]=Math.sin(a)*l,r[n+2]=Math.sin(o)*s}function v6(e,t,r,n){MR(e,t,r,n,bc.radius)}function b6(e,t,r,n){MR(e,t,r,n,wa.radius)}function Eg(e,t,r,n){MR(e,t,r,n,Zt.radius)}function RR(e,t,r,n,i){const s=e[t],o=e[t+1],a=e[t+2],l=Math.sqrt(s*s+o*o+a*a),c=hve(a/(l===0?1:l)),d=Math.atan2(o,s);r[n++]=my*d,r[n++]=my*c,r[n]=l-i}function w6(e,t,r,n){RR(e,t,r,n,bc.radius)}function x6(e,t,r,n){RR(e,t,r,n,wa.radius)}function Bh(e,t,r,n){RR(e,t,r,n,Zt.radius)}function Rbe(e,t,r,n){Bh(e,t,r,n),Fh(r,n,r,n)}function Lbe(e,t,r,n){Bh(e,t,r,n),Vh(r,n,r,n)}function Dbe(e,t,r,n,i){const s=yy*e[t],o=yy*e[t+1],a=e[t+2],l=Math.sin(o),c=Math.cos(o),d=i.radius/Math.sqrt(1-i.eccentricitySquared*l*l);r[n++]=(d+a)*c*Math.cos(s),r[n++]=(d+a)*c*Math.sin(s),r[n++]=(d*(1-i.eccentricitySquared)+a)*l}function Vh(e,t,r,n){Dbe(e,t,r,n,Zt)}function qh(e,t,r,n){const i=$be,s=e[t],o=e[t+1],a=e[t+2];let l,c,d,p,y,m,g,b,w,S,_,x,O,$,T,j,I,k,M,N,F;l=Math.abs(a),c=s*s+o*o,d=Math.sqrt(c),p=c+a*a,y=Math.sqrt(p),N=Math.atan2(o,s),m=a*a/p,g=c/p,$=i.a2/y,T=i.a3-i.a4/y,g>.3?(b=l/y*(1+g*(i.a1+$+m*T)/y),M=Math.asin(b),S=b*b,w=Math.sqrt(1-S)):(w=d/y*(1-m*(i.a5-$-g*T)/y),M=Math.acos(w),S=1-w*w,b=Math.sqrt(S)),_=1-Zt.eccentricitySquared*S,x=Zt.radius/Math.sqrt(_),O=i.a6*x,$=d-x*w,T=l-O*b,I=w*$+b*T,j=w*T-b*$,k=j/(O/_+I),M+=k,F=I+j*k/2,a<0&&(M=-M),r[n++]=my*N,r[n++]=my*M,r[n]=F}function Fbe(e,t,r,n){qh(e,t,r,n),Eg(r,n,r,n)}function Ube(e,t,r,n){qh(e,t,r,n),Fh(r,n,r,n)}const Ca={source:{spatialReference:null,spatialReferenceId:U.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:U.UNKNOWN,metersPerUnit:1},projector:Mt},yy=pve(1),my=fve(1),$Y=.5*Math.PI,np=Zt.radius,S6=np*Math.PI/180,_6=180/(np*Math.PI);function f1(e,t,r,n,i,s,o=Math.floor(e.length/3)){const a=_Y(t,i);if(a==null)return!1;if(a===Mt){if(e===n&&r===s)return!0;const c=r+3*o;for(let d=r,p=s;d<c;d++,p++)n[p]=e[d];return!0}const l=r+3*o;for(let c=r,d=s;c<l;c+=3,d+=3)a(e,c,n,d);return!0}const wet=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:f1},Symbol.toStringTag,{value:"Module"}));function $6(e,t,r,n,i,s){return pw[0]=e,pw[1]=t,pw[2]=r,f1(pw,n,0,i,s,0)}const pw=um();let fw=0,vE=class GI{static fromGE(t){const r=new GI;return r._wkt=t.wkt,r._wkid=t.wkid,r._isInverse=t.isInverse,r}constructor(t){this.uid=fw++,t?(this._wkt=t.wkt!=null?t.wkt:null,this._wkid=t.wkid!=null?t.wkid:-1,this._isInverse=t.isInverse!=null&&t.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=fw++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=fw++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=fw++}getInverse(){const t=new GI;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}},L_=class O0{static cacheKey(t,r){return[t.wkid?.toString()??"-1",t.wkt?.toString()??"",t.wkt2?.toString()??"",r.wkid?.toString()??"-1",r.wkt?.toString()??"",r.wkt2?.toString()??""].join()}static fromGE(t){const r=new O0;let n="";for(const i of t.steps){const s=vE.fromGE(i);r.steps.push(s),n+=s.uid.toString()+","}return r._cachedProjection={},r._gtlistentry=null,r._chain=n,r}constructor(t){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,t?.steps)for(const r of t.steps)r instanceof vE?this.steps.push(r):this.steps.push(new vE({wkid:r.wkid,wkt:r.wkt,isInverse:r.isInverse}))}getInverse(){const t=new O0;t.steps=[];for(let r=this.steps.length-1;r>=0;r--){const n=this.steps[r];t.steps.push(n.getInverse())}return t}getGTListEntry(){let t="";for(const r of this.steps)t+=r.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=t),this._gtlistentry}assignCachedGe(t,r,n){this._cachedProjection[O0.cacheKey(t,r)]=n}getCachedGeTransformation(t,r){let n="";for(const s of this.steps)n+=s.uid.toString()+",";n!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=n);const i=this._cachedProjection[O0.cacheKey(t,r)];return i===void 0?null:i}};function TY(e,t,r){if(t==null||r==null||r.vcsWkid||Ei(t,r)||wc(t)||wc(r))return null;const n=O_(t)/O_(r);if(n===1)return null;switch(e){case"point":case"esriGeometryPoint":return i=>zbe(i,n);case"polyline":case"esriGeometryPolyline":return i=>Vbe(i,n);case"polygon":case"esriGeometryPolygon":return i=>Bbe(i,n);case"multipoint":case"esriGeometryMultipoint":return i=>qbe(i,n);case"extent":case"esriGeometryEnvelope":return i=>Gbe(i,n);default:return null}}function zbe(e,t){e?.z!=null&&(e.z*=t)}function Bbe(e,t){if(e)for(const r of e.rings)for(const n of r)n.length>2&&(n[2]*=t)}function Vbe(e,t){if(e)for(const r of e.paths)for(const n of r)n.length>2&&(n[2]*=t)}function qbe(e,t){if(e)for(const r of e.points)r.length>2&&(r[2]*=t)}function Gbe(e,t){e&&e.zmin!=null&&e.zmax!=null&&(e.zmin*=t,e.zmax*=t)}let ko=null,$c=null,jg=null,Mx={};const LR=new sR;function h1(){return!!ko&&QJ()}function OY(){return!!h1()||(Ae(LR),jv(),!1)}function Wbe(e,t){return!e||!t||Tc(e,t)||OY()}function Hbe(e,t){return!Tc(e,t)&&!h1()}function jv(e){return jg==null&&(jg=Promise.all([XJ(),ae(()=>import("./geometryEngineBase-7de0a3cc.js"),["assets/geometryEngineBase-7de0a3cc.js","assets/_commonjsHelpers-b09fa337.js"]).then(t=>t.g),ae(()=>import("./hydrated-a872bc5f.js"),[])])),jg.then(([,t,{hydratedAdapter:r}])=>{Un(e),$c=r,ko=t.default,ko._enableProjection(cye),LR.notify()})}function DR(e,t,r=null,n=null){return Array.isArray(e)?e.length===0?[]:(qye(e),WI($c,e,e[0].spatialReference,t,r,n)):(cy(e),WI($c,[e],e.spatialReference,t,r,n)[0])}function WI(e,t,r,n,i=null,s=null){if(r==null||n==null)return t;if(Tc(r,n,i))return t.map(o=>Rx(o,r,n));if(i==null&&T_(r))return t.map(o=>Rx(o,r,be.WGS84)).map(o=>Av(o,n));if(i==null&&T_(n))return t.map(o=>Av(o,be.WGS84)).map(o=>Rx(o,be.WGS84,n));if(i==null){const o=L_.cacheKey(r,n);Mx[o]!==void 0?i=Mx[o]:((i=jY(r,n,void 0))==null&&(i=new L_),Mx[o]=i)}if(ko==null||e==null)throw new Q$;return s!=null?ko._project(e,t,r,n,i,s):ko._project(e,t,r,n,i)}function Jbe(e,t){const r=EY([e],t);return r.pending!=null?{pending:r.pending,geometry:null}:r.geometries!=null?{pending:null,geometry:r.geometries[0]}:{pending:null,geometry:null}}function EY(e,t){if(!h1()){for(const r of e)if(r!=null&&!Ei(r.spatialReference,t)&&ha(r.spatialReference)&&ha(t)&&!Tc(r.spatialReference,t))return Ae(LR),{pending:jv(),geometries:null}}return{pending:null,geometries:e.map(r=>r==null?null:Ei(r.spatialReference,t)?r:ha(r.spatialReference)&&ha(t)?Av(r,t):null)}}function jY(e,t,r=null){if(e==null||t==null)return null;if(ko==null||$c==null)throw new Q$;const n=ko._getTransformation($c,e,t,r,r?.spatialReference);return n!==null?L_.fromGE(n):null}function Kbe(e,t,r=null){if(ko==null||$c==null)throw new Q$;const n=ko._getTransformationBySuitability($c,e,t,r,r?.spatialReference);if(n!==null){const i=[];for(const s of n)i.push(L_.fromGE(s));return i}return[]}let Q$=class extends K{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}};function Zbe(){ko=null,$c=null,jg=null,Mx={}}const Ybe={get loadPromise(){return jg}};function Av(e,t){try{const r=DR(e,t);if(r==null)return null;"xmin"in e&&"xmin"in r&&(r.zmin=e.zmin,r.zmax=e.zmax);const n=TY(r.type,e.spatialReference,t);return n?.(r),r}catch(r){if(!(r instanceof Q$))throw r;return null}}async function Qbe(e,t,r){const n=e.spatialReference;return n!=null&&t!=null&&await FR(n,t,null,r),Av(e,t)}function Tc(e,t,r){return!r&&(!!Ei(e,t)||ha(e)&&ha(t)&&!!_Y(e,t))}function Xbe(e,t){if(Ei(e,t))return!0;if(!ha(e)||!ha(t))return!1;const r=wp(e)||Ta(e)||mF(e),n=wp(t)||Ta(t)||mF(t);return r&&n}async function FR(e,t,r,n){if(h1())return N5(n);if(Array.isArray(e)){for(const{source:i,dest:s,geographicTransformation:o}of e)if(i&&s&&!Tc(i,s,o))return jv(n)}else if(e&&t&&!Tc(e,t,r))return jv(n);return N5(n)}function Rx(e,t,r){return e?"x"in e?AY(e,t,new qe,r,0):"xmin"in e?NY(e,t,new ze,r,0):"rings"in e?CY(e,t,new hr,r,0):"paths"in e?PY(e,t,new In,r,0):"points"in e?IY(e,t,new ms,r,0):null:null}function e1e(e,t,r=t.spatialReference,n=0){return r!=null&&e.spatialReference!=null&&AY(e,e.spatialReference,t,r,n)!=null}function AY(e,t,r,n,i){kn[0]=e.x,kn[1]=e.y;const s=e.z;return kn[2]=s!==void 0?s:i,f1(kn,t,0,kn,n,0)?(r.x=kn[0],r.y=kn[1],r.spatialReference=n,s!==void 0||wc(n)?(r.z=kn[2],r.hasZ=!0):(r.z=void 0,r.hasZ=!1),e.m===void 0?(r.m=void 0,r.hasM=!1):(r.m=e.m,r.hasM=!0),r):null}function t1e(e,t,r=t.spatialReference,n=0){return e.spatialReference!=null&&r!=null&&IY(e,e.spatialReference,t,r,n)!=null}function IY(e,t,r,n,i){const{points:s,hasZ:o,hasM:a}=e,l=[],c=s.length,d=[];for(const y of s)d.push(y[0],y[1],o?y[2]:i);if(!f1(d,t,0,d,n,0,c))return null;const p=o||wc(n);for(let y=0;y<c;++y){const m=3*y,g=d[m],b=d[m+1];p&&a?l.push([g,b,d[m+2],s[y][3]]):p?l.push([g,b,d[m+2]]):a?l.push([g,b,s[y][2]]):l.push([g,b])}return r.points=l,r.spatialReference=n,r.hasZ=o,r.hasM=a,r}function r1e(e,t,r=t.spatialReference,n=0){return e.spatialReference!=null&&r!=null&&PY(e,e.spatialReference,t,r,n)!=null}function PY(e,t,r,n,i){const{paths:s,hasZ:o,hasM:a}=e,l=[];if(!MY(s,o??!1,a??!1,t,l,n,i))return null;const c=o||wc(n);return r.paths=l,r.spatialReference=n,r.hasZ=c,r.hasM=a,r}function kY(e,t,r=t.spatialReference,n=0){return e.spatialReference!=null&&r!=null&&CY(e,e.spatialReference,t,r,n)!=null}function CY(e,t,r,n,i){const{rings:s,hasZ:o,hasM:a}=e,l=[];if(!MY(s,o??!1,a??!1,t,l,n,i))return null;const c=o||wc(n);return r.rings=l,r.spatialReference=n,r.hasZ=c,r.hasM=a,r}function n1e(e,t,r=t.spatialReference,n=0){return e.spatialReference!=null&&r!=null&&NY(e,e.spatialReference,t,r,n)!=null}function NY(e,t,r,n,i){const{xmin:s,ymin:o,xmax:a,ymax:l,hasZ:c,hasM:d}=e,p=c?e.zmin:i;if(!$6(s,o,p,t,kn,n))return null;const y=c||wc(n);r.xmin=kn[0],r.ymin=kn[1],y&&(r.zmin=kn[2]);const m=c?e.zmax:i;return $6(a,l,m,t,kn,n)?(r.xmax=kn[0],r.ymax=kn[1],y&&(r.zmax=kn[2]),d&&(r.mmin=e.mmin,r.mmax=e.mmax),r.spatialReference=n,r):null}function MY(e,t,r,n,i,s,o=0){const a=new Array;for(const d of e)for(const p of d)a.push(p[0],p[1],t?p[2]:o);if(!f1(a,n,0,a,s,0))return!1;let l=0;i.length=0;const c=t||wc(s);for(const d of e){const p=new Array;for(const y of d)c&&r?p.push([a[l++],a[l++],a[l++],y[3]]):c?p.push([a[l++],a[l++],a[l++]]):r?(p.push([a[l++],a[l++],y[2]]),l++):(p.push([a[l++],a[l++]]),l++);i.push(p)}return!0}const kn=um(),_et=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:Tc,getTransformation:jY,getTransformations:Kbe,initializeProjection:FR,isEqualBaseGCS:Xbe,isLoaded:h1,isLoadedOrLoad:OY,isLoadedOrLoadFor:Wbe,load:jv,project:DR,projectExtent:n1e,projectMany:WI,projectMultipoint:t1e,projectOrLoad:Jbe,projectOrLoadMany:EY,projectPoint:e1e,projectPolygon:kY,projectPolyline:r1e,projectWithZConversion:Qbe,projectWithoutEngine:Rx,requiresLoad:Hbe,test:Ybe,tryProjectWithZConversion:Av,unload:Zbe},Symbol.toStringTag,{value:"Module"}));var Lx;let HI=Lx=class extends z.JSONSupportMixin(Te.ofType(hr)){constructor(e){super(e)}clone(){return new Lx(this.items.map(e=>e.clone()))}write(e,t){return this.toJSON(t)}toJSON(e){const t=e?.layer?.spatialReference;return t?this.toArray().map(r=>{if(!t.equals(r.spatialReference)){if(!Tc(r.spatialReference,t))return e?.messages?.push(new Ro("scenefilter:unsupported","Scene filters with incompatible spatial references are not supported",{modification:this,spatialReference:e.layer.spatialReference,context:e})),null;const i=new hr;kY(r,i,t),r=i}const n=r.toJSON(e);return delete n.spatialReference,n}).filter(r=>r!=null):this.toArray().map(r=>r.toJSON(e))}static fromJSON(e,t){const r=new Lx;return e.forEach(n=>r.add(hr.fromJSON(n,t))),r}};HI=Lx=u([A("esri.layers.support.PolygonCollection")],HI);const Ag=HI;let Ba=class extends z.JSONSupportMixin(Se){constructor(t){super(t),this.id=`focusarea-${d1()}`,this.title=null,this.enabled=!0,this.outline=null,this.geometries=new Ag}readGeometries(t,r,n){Array.isArray(t)?this.geometries=Ag.fromJSON(t,n):n.hooks?.onAfterLoad?.(()=>this._loadGeometries(Dp(t,n),n))}async _loadGeometries(t,r){const n=await nt(t,{responseType:"json"});this.geometries=Ag.fromJSON(n.data,r)}};u([f({type:String,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}}),f()],Ba.prototype,"id",void 0),u([f({type:String,json:{write:!0}})],Ba.prototype,"title",void 0),u([f({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],Ba.prototype,"enabled",void 0),u([f({type:Uve,json:{write:!0}})],Ba.prototype,"outline",void 0),u([f({type:Ag,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}},clonable:e=>new Ag(e.items.map(t=>t.clone()))}),Cve({origins:["web-scene","portal-item"],type:"resource",prefix:"geometries",contentAddressed:!0})],Ba.prototype,"geometries",void 0),u([X(["web-scene","portal-item"],"geometries")],Ba.prototype,"readGeometries",null),Ba=u([A("esri.effects.FocusArea")],Ba);const i1e=Ba;let E0=class extends z.JSONSupportMixin(Se){constructor(t){super(t),this.areas=new Te,this.style="bright"}};u([f({type:Te.ofType(i1e),nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}},clonable:e=>new Te(e.items.map(t=>t.clone()))})],E0.prototype,"areas",void 0),u([f({type:["bright","dark"],nonNullable:!0,json:{write:!0}})],E0.prototype,"style",void 0),E0=u([A("esri.effects.FocusAreas")],E0);const RY=E0;function s1e(e){return typeof e=="object"&&e!=null&&"loaded"in e&&e.loaded===!0&&"type"in e}function o1e(e){return!(!s1e(e)||!Kge(e)?.operations?.supportsEditing||"editingEnabled"in e&&!Yge(e)||ER(e))}const a1e=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,l1e="screenUtils.toPt: input not recognized!",LY=96;function u1e(e){return e?e/72*LY:0}function Ms(e){return e?72*e/LY:0}function He(e){if(typeof e=="string"){const t=e.match(a1e);if(t){const r=Number(t[1]),n=t[3]&&t[3].toLowerCase(),i=e.charAt(0)==="-",s=n==="px"?Ms(r):r;return i?-s:s}return console.warn(l1e),null}return e}function Oet(e=0,t=0){return{x:e,y:t}}function X$(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function c1e(e){const t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function d1e(e,t,r,n,i,s,o,a,l,c,d,p,y,m,g,b){const w=new Float32Array(16);return w[0]=e,w[1]=t,w[2]=r,w[3]=n,w[4]=i,w[5]=s,w[6]=o,w[7]=a,w[8]=l,w[9]=c,w[10]=d,w[11]=p,w[12]=y,w[13]=m,w[14]=g,w[15]=b,w}const p1e=X$();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:p1e,clone:c1e,create:X$,fromValues:d1e},Symbol.toStringTag,{value:"Module"}));let UR=1e-6;function zp(){return UR}function f1e(e){UR=e}const DY=Math.random,h1e=Math.PI/180,y1e=180/Math.PI;function m1e(e){return e*h1e}function g1e(e){return e*y1e}function v1e(e,t){return Math.abs(e-t)<=UR*Math.max(1,Math.abs(e),Math.abs(t))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:DY,equals:v1e,getEpsilon:zp,setEpsilon:f1e,toDegree:g1e,toRadian:m1e},Symbol.toStringTag,{value:"Module"}));function FY(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Cc(e,t,r,n,i,s,o,a,l,c,d,p,y,m,g,b,w){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=s,e[5]=o,e[6]=a,e[7]=l,e[8]=c,e[9]=d,e[10]=p,e[11]=y,e[12]=m,e[13]=g,e[14]=b,e[15]=w,e}function eT(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Nc(e,t){if(e===t){const r=t[1],n=t[2],i=t[3],s=t[6],o=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=s,e[11]=t[14],e[12]=i,e[13]=o,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function b1e(e,t){return UY(e,t)||eT(e),e}function UY(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],d=t[8],p=t[9],y=t[10],m=t[11],g=t[12],b=t[13],w=t[14],S=t[15],_=r*a-n*o,x=r*l-i*o,O=r*c-s*o,$=n*l-i*a,T=n*c-s*a,j=i*c-s*l,I=d*b-p*g,k=d*w-y*g,M=d*S-m*g,N=p*w-y*b,F=p*S-m*b,G=y*S-m*w;let B=_*G-x*F+O*N+$*M-T*k+j*I;return B?(B=1/B,e[0]=(a*G-l*F+c*N)*B,e[1]=(i*F-n*G-s*N)*B,e[2]=(b*j-w*T+S*$)*B,e[3]=(y*T-p*j-m*$)*B,e[4]=(l*M-o*G-c*k)*B,e[5]=(r*G-i*M+s*k)*B,e[6]=(w*O-g*j-S*x)*B,e[7]=(d*j-y*O+m*x)*B,e[8]=(o*F-a*M+c*I)*B,e[9]=(n*M-r*F-s*I)*B,e[10]=(g*T-b*O+S*_)*B,e[11]=(p*O-d*T-m*_)*B,e[12]=(a*k-o*N-l*I)*B,e[13]=(r*N-n*k+i*I)*B,e[14]=(b*x-g*$-w*_)*B,e[15]=(d*$-p*x+y*_)*B,e):null}function w1e(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],d=t[8],p=t[9],y=t[10],m=t[11],g=t[12],b=t[13],w=t[14],S=t[15];return e[0]=a*(y*S-m*w)-p*(l*S-c*w)+b*(l*m-c*y),e[1]=-(n*(y*S-m*w)-p*(i*S-s*w)+b*(i*m-s*y)),e[2]=n*(l*S-c*w)-a*(i*S-s*w)+b*(i*c-s*l),e[3]=-(n*(l*m-c*y)-a*(i*m-s*y)+p*(i*c-s*l)),e[4]=-(o*(y*S-m*w)-d*(l*S-c*w)+g*(l*m-c*y)),e[5]=r*(y*S-m*w)-d*(i*S-s*w)+g*(i*m-s*y),e[6]=-(r*(l*S-c*w)-o*(i*S-s*w)+g*(i*c-s*l)),e[7]=r*(l*m-c*y)-o*(i*m-s*y)+d*(i*c-s*l),e[8]=o*(p*S-m*b)-d*(a*S-c*b)+g*(a*m-c*p),e[9]=-(r*(p*S-m*b)-d*(n*S-s*b)+g*(n*m-s*p)),e[10]=r*(a*S-c*b)-o*(n*S-s*b)+g*(n*c-s*a),e[11]=-(r*(a*m-c*p)-o*(n*m-s*p)+d*(n*c-s*a)),e[12]=-(o*(p*w-y*b)-d*(a*w-l*b)+g*(a*y-l*p)),e[13]=r*(p*w-y*b)-d*(n*w-i*b)+g*(n*y-i*p),e[14]=-(r*(a*w-l*b)-o*(n*w-i*b)+g*(n*l-i*a)),e[15]=r*(a*y-l*p)-o*(n*y-i*p)+d*(n*l-i*a),e}function x1e(e){const t=e[0],r=e[1],n=e[2],i=e[3],s=e[4],o=e[5],a=e[6],l=e[7],c=e[8],d=e[9],p=e[10],y=e[11],m=e[12],g=e[13],b=e[14],w=e[15];return(t*o-r*s)*(p*w-y*b)-(t*a-n*s)*(d*w-y*g)+(t*l-i*s)*(d*b-p*g)+(r*a-n*o)*(c*w-y*m)-(r*l-i*o)*(c*b-p*m)+(n*l-i*a)*(c*g-d*m)}function zY(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=t[6],d=t[7],p=t[8],y=t[9],m=t[10],g=t[11],b=t[12],w=t[13],S=t[14],_=t[15];let x=r[0],O=r[1],$=r[2],T=r[3];return e[0]=x*n+O*a+$*p+T*b,e[1]=x*i+O*l+$*y+T*w,e[2]=x*s+O*c+$*m+T*S,e[3]=x*o+O*d+$*g+T*_,x=r[4],O=r[5],$=r[6],T=r[7],e[4]=x*n+O*a+$*p+T*b,e[5]=x*i+O*l+$*y+T*w,e[6]=x*s+O*c+$*m+T*S,e[7]=x*o+O*d+$*g+T*_,x=r[8],O=r[9],$=r[10],T=r[11],e[8]=x*n+O*a+$*p+T*b,e[9]=x*i+O*l+$*y+T*w,e[10]=x*s+O*c+$*m+T*S,e[11]=x*o+O*d+$*g+T*_,x=r[12],O=r[13],$=r[14],T=r[15],e[12]=x*n+O*a+$*p+T*b,e[13]=x*i+O*l+$*y+T*w,e[14]=x*s+O*c+$*m+T*S,e[15]=x*o+O*d+$*g+T*_,e}function S1e(e,t,r){const n=r[0],i=r[1],s=r[2];if(t===e)e[12]=t[0]*n+t[4]*i+t[8]*s+t[12],e[13]=t[1]*n+t[5]*i+t[9]*s+t[13],e[14]=t[2]*n+t[6]*i+t[10]*s+t[14],e[15]=t[3]*n+t[7]*i+t[11]*s+t[15];else{const o=t[0],a=t[1],l=t[2],c=t[3],d=t[4],p=t[5],y=t[6],m=t[7],g=t[8],b=t[9],w=t[10],S=t[11];e[0]=o,e[1]=a,e[2]=l,e[3]=c,e[4]=d,e[5]=p,e[6]=y,e[7]=m,e[8]=g,e[9]=b,e[10]=w,e[11]=S,e[12]=o*n+d*i+g*s+t[12],e[13]=a*n+p*i+b*s+t[13],e[14]=l*n+y*i+w*s+t[14],e[15]=c*n+m*i+S*s+t[15]}return e}function _1e(e,t,r){const n=r[0],i=r[1],s=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*s,e[9]=t[9]*s,e[10]=t[10]*s,e[11]=t[11]*s,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function $1e(e,t,r,n){let i=n[0],s=n[1],o=n[2],a=Math.sqrt(i*i+s*s+o*o);if(a<=zp())return void FY(e,t);a=1/a,i*=a,s*=a,o*=a;const l=Math.sin(r),c=Math.cos(r),d=1-c,p=t[0],y=t[1],m=t[2],g=t[3],b=t[4],w=t[5],S=t[6],_=t[7],x=t[8],O=t[9],$=t[10],T=t[11],j=i*i*d+c,I=s*i*d+o*l,k=o*i*d-s*l,M=i*s*d-o*l,N=s*s*d+c,F=o*s*d+i*l,G=i*o*d+s*l,B=s*o*d-i*l,W=o*o*d+c;e[0]=p*j+b*I+x*k,e[1]=y*j+w*I+O*k,e[2]=m*j+S*I+$*k,e[3]=g*j+_*I+T*k,e[4]=p*M+b*N+x*F,e[5]=y*M+w*N+O*F,e[6]=m*M+S*N+$*F,e[7]=g*M+_*N+T*F,e[8]=p*G+b*B+x*W,e[9]=y*G+w*B+O*W,e[10]=m*G+S*B+$*W,e[11]=g*G+_*B+T*W,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15])}function T1e(e,t,r){const n=Math.sin(r),i=Math.cos(r),s=t[4],o=t[5],a=t[6],l=t[7],c=t[8],d=t[9],p=t[10],y=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=s*i+c*n,e[5]=o*i+d*n,e[6]=a*i+p*n,e[7]=l*i+y*n,e[8]=c*i-s*n,e[9]=d*i-o*n,e[10]=p*i-a*n,e[11]=y*i-l*n,e}function O1e(e,t,r){const n=Math.sin(r),i=Math.cos(r),s=t[0],o=t[1],a=t[2],l=t[3],c=t[8],d=t[9],p=t[10],y=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*i-c*n,e[1]=o*i-d*n,e[2]=a*i-p*n,e[3]=l*i-y*n,e[8]=s*n+c*i,e[9]=o*n+d*i,e[10]=a*n+p*i,e[11]=l*n+y*i,e}function E1e(e,t,r){const n=Math.sin(r),i=Math.cos(r),s=t[0],o=t[1],a=t[2],l=t[3],c=t[4],d=t[5],p=t[6],y=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*i+c*n,e[1]=o*i+d*n,e[2]=a*i+p*n,e[3]=l*i+y*n,e[4]=c*i-s*n,e[5]=d*i-o*n,e[6]=p*i-a*n,e[7]=y*i-l*n,e}function j1e(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function A1e(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function I1e(e,t,r){if(t===0)return eT(e);let n=r[0],i=r[1],s=r[2],o=Math.sqrt(n*n+i*i+s*s);if(o<=zp())return null;o=1/o,n*=o,i*=o,s*=o;const a=Math.sin(t),l=Math.cos(t),c=1-l;return e[0]=n*n*c+l,e[1]=i*n*c+s*a,e[2]=s*n*c-i*a,e[3]=0,e[4]=n*i*c-s*a,e[5]=i*i*c+l,e[6]=s*i*c+n*a,e[7]=0,e[8]=n*s*c+i*a,e[9]=i*s*c-n*a,e[10]=s*s*c+l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function P1e(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function k1e(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function C1e(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function BY(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=n+n,l=i+i,c=s+s,d=n*a,p=n*l,y=n*c,m=i*l,g=i*c,b=s*c,w=o*a,S=o*l,_=o*c;return e[0]=1-(m+b),e[1]=p+_,e[2]=y-S,e[3]=0,e[4]=p-_,e[5]=1-(d+b),e[6]=g+w,e[7]=0,e[8]=y+S,e[9]=g-w,e[10]=1-(d+m),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function N1e(e,t){const r=M1e,n=-t[0],i=-t[1],s=-t[2],o=t[3],a=t[4],l=t[5],c=t[6],d=t[7],p=n*n+i*i+s*s+o*o;return p>0?(r[0]=2*(a*o+d*n+l*s-c*i)/p,r[1]=2*(l*o+d*i+c*n-a*s)/p,r[2]=2*(c*o+d*s+a*i-l*n)/p):(r[0]=2*(a*o+d*n+l*s-c*i),r[1]=2*(l*o+d*i+c*n-a*s),r[2]=2*(c*o+d*s+a*i-l*n)),BY(e,t,r),e}const M1e=um();function R1e(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function L1e(e,t){const r=t[0],n=t[1],i=t[2],s=t[4],o=t[5],a=t[6],l=t[8],c=t[9],d=t[10];return e[0]=Math.sqrt(r*r+n*n+i*i),e[1]=Math.sqrt(s*s+o*o+a*a),e[2]=Math.sqrt(l*l+c*c+d*d),e}function D1e(e,t){const r=t[0]+t[5]+t[10];let n=0;return r>0?(n=2*Math.sqrt(r+1),e[3]=.25*n,e[0]=(t[6]-t[9])/n,e[1]=(t[8]-t[2])/n,e[2]=(t[1]-t[4])/n):t[0]>t[5]&&t[0]>t[10]?(n=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/n,e[0]=.25*n,e[1]=(t[1]+t[4])/n,e[2]=(t[8]+t[2])/n):t[5]>t[10]?(n=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/n,e[0]=(t[1]+t[4])/n,e[1]=.25*n,e[2]=(t[6]+t[9])/n):(n=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/n,e[0]=(t[8]+t[2])/n,e[1]=(t[6]+t[9])/n,e[2]=.25*n),e}function F1e(e,t,r,n){const i=t[0],s=t[1],o=t[2],a=t[3],l=i+i,c=s+s,d=o+o,p=i*l,y=i*c,m=i*d,g=s*c,b=s*d,w=o*d,S=a*l,_=a*c,x=a*d,O=n[0],$=n[1],T=n[2];return e[0]=(1-(g+w))*O,e[1]=(y+x)*O,e[2]=(m-_)*O,e[3]=0,e[4]=(y-x)*$,e[5]=(1-(p+w))*$,e[6]=(b+S)*$,e[7]=0,e[8]=(m+_)*T,e[9]=(b-S)*T,e[10]=(1-(p+g))*T,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function U1e(e,t,r,n,i){const s=t[0],o=t[1],a=t[2],l=t[3],c=s+s,d=o+o,p=a+a,y=s*c,m=s*d,g=s*p,b=o*d,w=o*p,S=a*p,_=l*c,x=l*d,O=l*p,$=n[0],T=n[1],j=n[2],I=i[0],k=i[1],M=i[2],N=(1-(b+S))*$,F=(m+O)*$,G=(g-x)*$,B=(m-O)*T,W=(1-(y+S))*T,Z=(w+_)*T,ee=(g+x)*j,V=(w-_)*j,Q=(1-(y+b))*j;return e[0]=N,e[1]=F,e[2]=G,e[3]=0,e[4]=B,e[5]=W,e[6]=Z,e[7]=0,e[8]=ee,e[9]=V,e[10]=Q,e[11]=0,e[12]=r[0]+I-(N*I+B*k+ee*M),e[13]=r[1]+k-(F*I+W*k+V*M),e[14]=r[2]+M-(G*I+Z*k+Q*M),e[15]=1,e}function z1e(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=r+r,a=n+n,l=i+i,c=r*o,d=n*o,p=n*a,y=i*o,m=i*a,g=i*l,b=s*o,w=s*a,S=s*l;return e[0]=1-p-g,e[1]=d+S,e[2]=y-w,e[3]=0,e[4]=d-S,e[5]=1-c-g,e[6]=m+b,e[7]=0,e[8]=y+w,e[9]=m-b,e[10]=1-c-p,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function B1e(e,t,r,n,i,s,o){const a=1/(r-t),l=1/(i-n),c=1/(s-o);return e[0]=2*s*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*s*l,e[6]=0,e[7]=0,e[8]=(r+t)*a,e[9]=(i+n)*l,e[10]=(o+s)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*s*2*c,e[15]=0,e}function V1e(e,t,r,n,i){const s=1/Math.tan(t/2);let o;return e[0]=s/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0?(o=1/(n-i),e[10]=(i+n)*o,e[14]=2*i*n*o):(e[10]=-1,e[14]=-2*n),e}function q1e(e,t,r,n){const i=Math.tan(t.upDegrees*Math.PI/180),s=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),l=2/(o+a),c=2/(i+s);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(o-a)*l*.5,e[9]=(i-s)*c*.5,e[10]=n/(r-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*r/(r-n),e[15]=0,e}function G1e(e,t,r,n,i,s,o){const a=1/(t-r),l=1/(n-i),c=1/(s-o);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+r)*a,e[13]=(i+n)*l,e[14]=(o+s)*c,e[15]=1,e}function W1e(e,t,r,n){const i=t[0],s=t[1],o=t[2];let a=i-r[0],l=s-r[1],c=o-r[2];const d=zp();if(Math.abs(a)<d&&Math.abs(l)<d&&Math.abs(c)<d)return void eT(e);let p=1/Math.sqrt(a*a+l*l+c*c);a*=p,l*=p,c*=p;const y=n[0],m=n[1],g=n[2];let b=m*c-g*l,w=g*a-y*c,S=y*l-m*a;p=Math.sqrt(b*b+w*w+S*S),p?(p=1/p,b*=p,w*=p,S*=p):(b=0,w=0,S=0);let _=l*S-c*w,x=c*b-a*S,O=a*w-l*b;p=Math.sqrt(_*_+x*x+O*O),p?(p=1/p,_*=p,x*=p,O*=p):(_=0,x=0,O=0),e[0]=b,e[1]=_,e[2]=a,e[3]=0,e[4]=w,e[5]=x,e[6]=l,e[7]=0,e[8]=S,e[9]=O,e[10]=c,e[11]=0,e[12]=-(b*i+w*s+S*o),e[13]=-(_*i+x*s+O*o),e[14]=-(a*i+l*s+c*o),e[15]=1}function H1e(e,t,r,n){const i=t[0],s=t[1],o=t[2],a=n[0],l=n[1],c=n[2];let d=i-r[0],p=s-r[1],y=o-r[2],m=d*d+p*p+y*y;m>0&&(m=1/Math.sqrt(m),d*=m,p*=m,y*=m);let g=l*y-c*p,b=c*d-a*y,w=a*p-l*d;return m=g*g+b*b+w*w,m>0&&(m=1/Math.sqrt(m),g*=m,b*=m,w*=m),e[0]=g,e[1]=b,e[2]=w,e[3]=0,e[4]=p*w-y*b,e[5]=y*g-d*w,e[6]=d*b-p*g,e[7]=0,e[8]=d,e[9]=p,e[10]=y,e[11]=0,e[12]=i,e[13]=s,e[14]=o,e[15]=1,e}function J1e(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function K1e(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)}function Z1e(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function VY(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function Y1e(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}function Q1e(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e[9]=t[9]+r[9]*n,e[10]=t[10]+r[10]*n,e[11]=t[11]+r[11]*n,e[12]=t[12]+r[12]*n,e[13]=t[13]+r[13]*n,e[14]=t[14]+r[14]*n,e[15]=t[15]+r[15]*n,e}function X1e(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function ewe(e,t){if(e===t)return!0;const r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],p=e[9],y=e[10],m=e[11],g=e[12],b=e[13],w=e[14],S=e[15],_=t[0],x=t[1],O=t[2],$=t[3],T=t[4],j=t[5],I=t[6],k=t[7],M=t[8],N=t[9],F=t[10],G=t[11],B=t[12],W=t[13],Z=t[14],ee=t[15],V=zp();return Math.abs(r-_)<=V*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(n-x)<=V*Math.max(1,Math.abs(n),Math.abs(x))&&Math.abs(i-O)<=V*Math.max(1,Math.abs(i),Math.abs(O))&&Math.abs(s-$)<=V*Math.max(1,Math.abs(s),Math.abs($))&&Math.abs(o-T)<=V*Math.max(1,Math.abs(o),Math.abs(T))&&Math.abs(a-j)<=V*Math.max(1,Math.abs(a),Math.abs(j))&&Math.abs(l-I)<=V*Math.max(1,Math.abs(l),Math.abs(I))&&Math.abs(c-k)<=V*Math.max(1,Math.abs(c),Math.abs(k))&&Math.abs(d-M)<=V*Math.max(1,Math.abs(d),Math.abs(M))&&Math.abs(p-N)<=V*Math.max(1,Math.abs(p),Math.abs(N))&&Math.abs(y-F)<=V*Math.max(1,Math.abs(y),Math.abs(F))&&Math.abs(m-G)<=V*Math.max(1,Math.abs(m),Math.abs(G))&&Math.abs(g-B)<=V*Math.max(1,Math.abs(g),Math.abs(B))&&Math.abs(b-W)<=V*Math.max(1,Math.abs(b),Math.abs(W))&&Math.abs(w-Z)<=V*Math.max(1,Math.abs(w),Math.abs(Z))&&Math.abs(S-ee)<=V*Math.max(1,Math.abs(S),Math.abs(ee))}function twe(e){const t=zp(),r=e[0],n=e[1],i=e[2],s=e[4],o=e[5],a=e[6],l=e[8],c=e[9],d=e[10];return Math.abs(1-(r*r+s*s+l*l))<=t&&Math.abs(1-(n*n+o*o+c*c))<=t&&Math.abs(1-(i*i+a*a+d*d))<=t}function rwe(e){return e[0]===1&&e[1]===0&&e[2]===0&&e[4]===0&&e[5]===1&&e[6]===0&&e[8]===0&&e[9]===0&&e[10]===1}const nwe=zY,iwe=VY;Object.freeze(Object.defineProperty({__proto__:null,add:Z1e,adjoint:w1e,copy:FY,determinant:x1e,equals:ewe,exactEquals:X1e,frob:K1e,fromQuat:z1e,fromQuat2:N1e,fromRotation:I1e,fromRotationTranslation:BY,fromRotationTranslationScale:F1e,fromRotationTranslationScaleOrigin:U1e,fromScaling:A1e,fromTranslation:j1e,fromXRotation:P1e,fromYRotation:k1e,fromZRotation:C1e,frustum:B1e,getRotation:D1e,getScale:L1e,getTranslation:R1e,hasIdentityRotation:rwe,identity:eT,invert:UY,invertOrIdentity:b1e,isOrthoNormal:twe,lookAt:W1e,mul:nwe,multiply:zY,multiplyScalar:Y1e,multiplyScalarAndAdd:Q1e,ortho:G1e,perspective:V1e,perspectiveFromFieldOfView:q1e,rotate:$1e,rotateX:T1e,rotateY:O1e,rotateZ:E1e,scale:_1e,set:Cc,str:J1e,sub:iwe,subtract:VY,targetTo:H1e,translate:S1e,transpose:Nc},Symbol.toStringTag,{value:"Module"}));const swe=(e,t)=>{const r=Cc(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return Nc(r,r)},owe=(e,t)=>{const r=Cc(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return Nc(r,r)},awe=(e,t)=>{const r=1-t,n=Cc(e,.2126+.7874*r,.7152-.7152*r,.0722-.0722*r,0,.2126-.2126*r,.7152+.2848*r,.0722-.0722*r,0,.2126-.2126*r,.7152-.7152*r,.0722+.9278*r,0,0,0,0,1);return Nc(n,n)},lwe=(e,t)=>{const r=Math.sin(t*Math.PI/180),n=Math.cos(t*Math.PI/180),i=Cc(e,.213+.787*n-.213*r,.715-.715*n-.715*r,.072-.072*n+.928*r,0,.213-.213*n+.143*r,.715+.285*n+.14*r,.072-.072*n-.283*r,0,.213-.213*n-.787*r,.715-.715*n+.715*r,.072+.928*n+.072*r,0,0,0,0,1);return Nc(i,i)},uwe=(e,t)=>{const r=1-2*t,n=Cc(e,r,0,0,t,0,r,0,t,0,0,r,t,0,0,0,1);return Nc(n,n)},cwe=(e,t)=>{const r=Cc(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return Nc(r,r)},dwe=(e,t)=>{const r=1-t,n=Cc(e,.393+.607*r,.769-.769*r,.189-.189*r,0,.349-.349*r,.686+.314*r,.168-.168*r,0,.272-.272*r,.534-.534*r,.131+.869*r,0,0,0,0,1);return Nc(n,n)};let qY=class GY{constructor(t,r,n){this.strength=t,this.radius=r,this.threshold=n,this.type="bloom"}interpolate(t,r,n){this.strength=gi(t.strength,r.strength,n),this.radius=gi(t.radius,r.radius,n),this.threshold=gi(t.threshold,r.threshold,n)}clone(){return new GY(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:Ig(this.radius),strength:this.strength,threshold:this.threshold}}},WY=class HY{constructor(t){this.radius=t,this.type="blur"}interpolate(t,r,n){this.radius=Math.round(gi(t.radius,r.radius,n))}clone(){return new HY(this.radius)}toJSON(){return{type:"blur",radius:Ig(this.radius)}}},JI=class JY{constructor(t,r){this.type=t,this.amount=r,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,n){this.amount=gi(t.amount,r.amount,n),this._updateMatrix()}clone(){return new JY(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const t=this._colorMatrix||X$();switch(this.type){case"brightness":this._colorMatrix=swe(t,this.amount);break;case"contrast":this._colorMatrix=owe(t,this.amount);break;case"grayscale":this._colorMatrix=awe(t,this.amount);break;case"invert":this._colorMatrix=uwe(t,this.amount);break;case"saturate":this._colorMatrix=cwe(t,this.amount);break;case"sepia":this._colorMatrix=dwe(t,this.amount)}}},KY=class ZY{constructor(t,r,n,i){this.offsetX=t,this.offsetY=r,this.blurRadius=n,this.color=i,this.type="drop-shadow"}interpolate(t,r,n){this.offsetX=gi(t.offsetX,r.offsetX,n),this.offsetY=gi(t.offsetY,r.offsetY,n),this.blurRadius=gi(t.blurRadius,r.blurRadius,n),this.color[0]=Math.round(gi(t.color[0],r.color[0],n)),this.color[1]=Math.round(gi(t.color[1],r.color[1],n)),this.color[2]=Math.round(gi(t.color[2],r.color[2],n)),this.color[3]=gi(t.color[3],r.color[3],n)}clone(){return new ZY(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const t=[...this.color];return t[3]*=255,{type:"drop-shadow",xoffset:Ig(this.offsetX),yoffset:Ig(this.offsetY),blurRadius:Ig(this.blurRadius),color:t}}},YY=class QY{constructor(t){this.angle=t,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,n){this.angle=gi(t.angle,r.angle,n),this._updateMatrix()}clone(){return new QY(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const t=this._colorMatrix||X$();this._colorMatrix=lwe(t,this.angle)}},XY=class eQ{constructor(t){this.amount=t,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(t,r,n){this.amount=gi(t.amount,r.amount,n)}clone(){return new eQ(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}};function gi(e,t,r){return e+(t-e)*r}function Ig(e){return Math.round(1e3*Ms(e))/1e3}function pwe(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new JI(e.type,0);case"saturate":case"brightness":case"contrast":return new JI(e.type,1);case"opacity":return new XY(1);case"hue-rotate":return new YY(0);case"blur":return new WY(0);case"drop-shadow":return new KY(0,0,0,[...jR("transparent")]);case"bloom":return new qY(0,0,1)}}function fwe(e,t){const r=e.length>t.length?e:t;return(e.length>t.length?t:e).every((n,i)=>n.type===r[i].type)}function hwe(e,t){const r=e.length>t.length?e:t,n=e.length>t.length?t:e;for(let i=n.length;i<r.length;i++)n.push(pwe(r[i]))}function ywe(e){const t=e[0];return!!t&&"type"in t}const bE=()=>ce.getLogger("esri.support.basemapUtils");function mwe(){return{}}function gwe(e){for(const t in e){const r=e[t];As(r),delete e[t]}}function vwe(e,t){let r;if(typeof e=="string"){const n=e in bI,i=!n&&e.includes("/");if(!n&&!i){if(UA())bE().warn(`Unable to find basemap definition for: ${e}. See available styles at https://developers.arcgis.com/rest/basemap-styles/`);else{const s=Object.entries(bI).filter(([o,a])=>a.classic||a.is3d).map(([o])=>`"${o}"`).sort().join(", ");bE().warn(`Unable to find basemap definition for: ${e}. Try one of these: ${s}`)}return null}t&&(r=t[e]),r||(r=n?Tg.fromId(e):new Tg({style:{id:e}}),t&&(t[e]=r))}else r=br(Tg,e);return r?.destroyed&&(bE().warn("The provided basemap is already destroyed",{basemap:r}),r=null),r}function bwe(e){return new Fu({getCollections:()=>[e.tables,e.layers],getChildrenFunction:t=>{const r=[];return"tables"in t&&r.push(t.tables),"layers"in t&&r.push(t.layers),r},itemFilterFunction:t=>{const r=t.parent;return!!r&&"tables"in r&&r.tables.includes(t)}})}const T6={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function wwe(e){let t=null;if(typeof e=="string")if(e in T6){const r=T6[e];t=new M_({resourceInfo:{data:{layers:[r]}}})}else ce.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`);else t=br(M_,e);return t}let tQ=0;const rQ=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+tQ++})}};return t=u([A("esri.core.Identifiable")],t),t},xwe=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:tQ++})}};return t=u([A("esri.core.Identifiable.NumericIdentifiable")],t),t};let j0=class extends rQ(class{}){};j0=u([A("esri.core.Identifiable")],j0),function(e){e.IdentifiableMixin=rQ,e.NumericIdentifiableMixin=xwe}(j0||(j0={}));const zR=j0;async function Swe(e){const t="portalItem"in e?e:{portalItem:e},{fromItem:r}=await ae(()=>import("./portalLayers-787a3d5c.js"),["assets/portalLayers-787a3d5c.js","assets/associatedFeatureServiceUtils-ebf5b5be.js","assets/fetchService-d6a5b823.js","assets/loadUtils-4d61d962.js","assets/lazyLayerLoader-8a311d60.js"]);try{return await r(t)}catch(n){const i=t?.portalItem,s=i?.id||"unset",o=i?.portal?.url||Xe.portalUrl;throw ce.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+o+"', id: '"+s+"')",n),n}}const O6={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function wE(e,t,r,n=Lo){const i=new ji(TR(n)),s=he.fromJSDate(e,{zone:i}),o=r==="decades"||r==="centuries"?"year":iQ(r);return r==="decades"&&(t*=10),r==="centuries"&&(t*=100),s.plus({[o]:t}).toJSDate()}function jet(e,t,r="milliseconds"){const n=e.getTime(),i=nQ(t,r,"milliseconds");return new Date(n+i)}function E6(e,t,r=Lo){const n=new ji(TR(r)),i=he.fromJSDate(e,{zone:n});if(t==="decades"||t==="centuries"){const o=i.startOf("year"),{year:a}=o,l=a-a%(t==="decades"?10:100);return o.set({year:l}).toJSDate()}const s=iQ(t);return i.startOf(s).toJSDate()}function nQ(e,t,r){return e===0?0:e*O6[t]/O6[r]}function iQ(e){switch(e){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var ls,Sb;let pt=(Sb=class extends z{static get allTime(){return j6}static get empty(){return _we}static fromArray(t){return new ls({start:t[0]!=null?new Date(t[0]):t[0],end:t[1]!=null?new Date(t[1]):t[1]})}constructor(t){super(t),this.end=null,this.start=null}readEnd(t,r){return r.end!=null?new Date(r.end):null}writeEnd(t,r){r.end=t?.getTime()??null}get isAllTime(){return this.equals(ls.allTime)}get isEmpty(){return this.equals(ls.empty)}readStart(t,r){return r.start!=null?new Date(r.start):null}writeStart(t,r){r.start=t?.getTime()??null}clone(){return new ls({end:this.end,start:this.start})}equals(t){if(!t)return!1;const r=this.start?.getTime()??this.start,n=this.end?.getTime()??this.end,i=t.start?.getTime()??t.start,s=t.end?.getTime()??t.end;return r===i&&n===s}expandTo(t,r=Lo){if(this.isEmpty||this.isAllTime)return this.clone();let n=this.start;n&&(n=E6(n,t,r));let i=this.end;if(i){const s=E6(i,t,r);i=i.getTime()===s.getTime()?s:wE(s,1,t,r)}return new ls({start:n,end:i})}intersection(t){if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return ls.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();const r=this.start?.getTime()??-1/0,n=this.end?.getTime()??1/0,i=t.start?.getTime()??-1/0,s=t.end?.getTime()??1/0;let o,a;return i>=r&&i<=n?o=i:r>=i&&r<=s&&(o=r),n>=i&&n<=s?a=n:s>=r&&s<=n&&(a=s),o==null||a==null||isNaN(o)||isNaN(a)?ls.empty:new ls({start:o===-1/0?null:new Date(o),end:a===1/0?null:new Date(a)})}offset(t,r,n=Lo){if(this.isEmpty||this.isAllTime)return this.clone();const i=new ls,{start:s,end:o}=this;return s!=null&&(i.start=wE(s,t,r,n)),o!=null&&(i.end=wE(o,t,r,n)),i}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return j6.clone();const r=this.start!=null&&t.start!=null?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,n=this.end!=null&&t.end!=null?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new ls({start:r,end:n})}},ls=Sb,Sb);u([f({type:Date,json:{write:{allowNull:!0}}})],pt.prototype,"end",void 0),u([X("end")],pt.prototype,"readEnd",null),u([re("end")],pt.prototype,"writeEnd",null),u([f({readOnly:!0,json:{read:!1}})],pt.prototype,"isAllTime",null),u([f({readOnly:!0,json:{read:!1}})],pt.prototype,"isEmpty",null),u([f({type:Date,json:{write:{allowNull:!0}}})],pt.prototype,"start",void 0),u([X("start")],pt.prototype,"readStart",null),u([re("start")],pt.prototype,"writeStart",null),pt=ls=u([A("esri.time.TimeExtent")],pt);const j6=new pt,_we=new pt({start:void 0,end:void 0});let $we=0,Wt=class extends L$.EventedMixin(zR.IdentifiableMixin(xi)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new ze(-180,-90,180,90,be.WGS84),this.id=Date.now().toString(16)+"-layer-"+$we++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=be.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(t){const r=typeof t=="string"?{url:t}:t;return(await ae(()=>import("./arcgisLayers-c156c410.js"),["assets/arcgisLayers-c156c410.js","assets/associatedFeatureServiceUtils-ebf5b5be.js","assets/fetchService-d6a5b823.js","assets/lazyLayerLoader-8a311d60.js"])).fromUrl(r)}static fromPortalItem(t){return Swe(t)}initialize(){this.when().catch(t=>{Ls(t)||ce.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})})}destroy(){const t=this.parent;if(t){const r=this;"layers"in t&&t.layers.includes(r)?t.layers.remove(r):"tables"in t&&t.tables.includes(r)?t.tables.remove(r):"baseLayers"in t&&t.baseLayers.includes(r)?t.baseLayers.remove(r):"referenceLayers"in t&&t.referenceLayers.includes(r)&&t.referenceLayers.remove(r),this._set("parent",null)}}get effectiveVisible(){let t=this.visible;const r=this.parent;return t&&r&&"effectiveVisible"in r&&t&&(t=r.effectiveVisible),t}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){return sn(this.url)}createLayerView(t,r){return Promise.reject(new K("layer:create-layer-view","Layer does not support creating a layer view"))}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await nt(t,{query:{f:"json"},responseType:"json"})).data;throw new K("layer:no-attribution-data","Layer does not have attribution data")}};u([f({type:String})],Wt.prototype,"attributionDataUrl",void 0),u([f({readOnly:!0})],Wt.prototype,"effectiveVisible",null),u([f({type:ze})],Wt.prototype,"fullExtent",void 0),u([f({readOnly:!0})],Wt.prototype,"hasAttributionData",null),u([f({type:String,clonable:!1})],Wt.prototype,"id",void 0),u([f({type:Boolean,nonNullable:!0})],Wt.prototype,"legendEnabled",void 0),u([f({type:["show","hide","hide-children"]})],Wt.prototype,"listMode",void 0),u([f({type:Number,range:{min:0,max:1},nonNullable:!0})],Wt.prototype,"opacity",void 0),u([f({clonable:!1})],Wt.prototype,"parent",void 0),u([f({readOnly:!0})],Wt.prototype,"parsedUrl",null),u([f({type:Boolean,readOnly:!0})],Wt.prototype,"persistenceEnabled",void 0),u([f({type:Boolean})],Wt.prototype,"popupEnabled",void 0),u([f({type:Boolean})],Wt.prototype,"attributionVisible",void 0),u([f({type:be})],Wt.prototype,"spatialReference",void 0),u([f({type:String})],Wt.prototype,"title",void 0),u([f({readOnly:!0,json:{read:!1}})],Wt.prototype,"type",void 0),u([f()],Wt.prototype,"url",void 0),u([f({type:pt})],Wt.prototype,"visibilityTimeExtent",void 0),u([f({type:Boolean,nonNullable:!0})],Wt.prototype,"visible",void 0),Wt=u([A("esri.layers.Layer")],Wt);function KI(e,t,r){let n,i;if(e)for(let s=0,o=e.length;s<o;s++){if(n=e.at(s),n?.[t]===r)return n;if(n?.type==="group"&&(i=KI(n.layers,t,r),i))return i}}const Twe=e=>{let t=class extends e{constructor(...r){super(...r),this.layers=new Te;const n=o=>{o.parent&&"remove"in o.parent&&o.parent.remove(o)},i=o=>{o.parent=this,this.layerAdded(o),o.type!=="elevation"&&o.type!=="base-elevation"||ce.getLogger(this).error(`Layer 'title:${o.title}, id:${o.id}' of type '${o.type}' is not supported as an operational layer and will therefore be ignored.`)},s=o=>{o.parent=null,this.layerRemoved(o)};this.addHandles([this.layers.on("before-add",o=>{if(o.item===this)return o.preventDefault(),void ce.getLogger(this).error("#add()","Cannot add layer to itself.");n(o.item)}),this.layers.on("after-add",o=>i(o.item)),this.layers.on("after-remove",o=>s(o.item))])}destroy(){const r=this.layers.toArray();for(const n of r)n.destroy();this.layers.destroy()}set layers(r){this._set("layers",ly(r,this._get("layers")))}add(r,n){const i=this.layers;if(n=i.getNextIndex(n),r instanceof Wt){const s=r;s.parent===this?this.reorder(s,n):i.add(s,n)}else rm(r)?r.then(s=>{this.destroyed||this.add(s,n)}):ce.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(r,n){const i=this.layers;let s=i.getNextIndex(n);r.slice().forEach(o=>{o.parent!==this?(i.add(o,s),s+=1):this.reorder(o,s)})}findLayerById(r){return KI(this.layers,"id",r)}findLayerByUid(r){return KI(this.layers,"uid",r)}remove(r){return this.layers.remove(r)}removeMany(r){return this.layers.removeMany(r)}removeAll(){return this.layers.removeAll()}reorder(r,n){return this.layers.reorder(r,n)}layerAdded(r){}layerRemoved(r){}};return u([f()],t.prototype,"layers",null),t=u([A("esri.support.LayersMixin")],t),t},Owe=new Set(["feature","subtype-group"]);function ZI(e,t,r){if(e)for(let n=0,i=e.length;n<i;n++){const s=e.at(n);if(s[t]===r)return s;if(s?.type==="group"){const o=ZI(s.tables,t,r);if(o)return o}}}const Ewe=e=>{let t=class extends e{constructor(...r){super(...r),this.tables=new Te,this.addHandles([this.tables.on("after-add",n=>{const i=n.item;i.parent&&i.parent!==this&&"tables"in i.parent&&i.parent.tables.remove(i),i.parent=this,Owe.has(i.type)||ce.getLogger(this).error(`Layer 'title:${i.title}, id:${i.id}' of type '${i.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",n=>{n.item.parent=null})])}destroy(){const r=this.tables.toArray();for(const n of r)n.destroy();this.tables.destroy()}set tables(r){this._set("tables",ly(r,this._get("tables")))}findTableById(r){return ZI(this.tables,"id",r)}findTableByUid(r){return ZI(this.tables,"uid",r)}};return u([f()],t.prototype,"tables",null),t=u([A("esri.support.TablesMixin")],t),t};let us=class extends Ewe(Twe(L$.EventedMixin(ft))){constructor(t){super(t),this.allLayers=new Fu({getCollections:()=>[this.basemap?.baseLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:r=>"layers"in r?r.layers:null}),this.focusAreas=new RY,this.allTables=bwe(this),this.basemap=null,this.editableLayers=new Fu({getCollections:()=>[this.allLayers],itemFilterFunction:o1e}),this.ground=new M_,this._basemapCache=mwe()}destroy(){gwe(this._basemapCache),this._basemapCache=null,this.focusAreas.destroy(),this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=As(this.basemap),As(this.ground),this._set("ground",null)}castBasemap(t){return vwe(t,this._basemapCache)}castGround(t){return wwe(t)??this._get("ground")}findLayerById(t){return this.allLayers.find(r=>r.id===t)}findTableById(t){return this.allTables.find(r=>r.id===t)}};u([f({readOnly:!0,dependsOn:[]})],us.prototype,"allLayers",void 0),u([f({type:RY,nonNullable:!0,json:{write:{overridePolicy:e=>({enabled:e.areas.length>0,ignoreOrigin:!0})}}})],us.prototype,"focusAreas",void 0),u([f({readOnly:!0})],us.prototype,"allTables",void 0),u([f({type:Tg,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],us.prototype,"basemap",void 0),u([ht("basemap")],us.prototype,"castBasemap",null),u([f({readOnly:!0})],us.prototype,"editableLayers",void 0),u([f({type:M_,nonNullable:!0})],us.prototype,"ground",void 0),u([ht("ground")],us.prototype,"castGround",null),u([f()],us.prototype,"undoRedo",void 0),us=u([A("esri.Map")],us);const jwe=us;let nd=class extends Se{constructor(t){super(t),this.row=0,this.column=0,this.rows=1,this.columns=1}equals(t){return t!=null&&this.row===t.row&&this.rows===t.rows&&this.column===t.column&&this.columns===t.columns}};u([f({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],nd.prototype,"row",void 0),u([f({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],nd.prototype,"column",void 0),u([f({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],nd.prototype,"rows",void 0),u([f({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],nd.prototype,"columns",void 0),nd=u([A("esri.CameraLayout")],nd);const sQ=nd;let Awe=class{constructor(t,r){this.min=t,this.max=r,this.range=r-t}normalize(t,r=0,n=!1){return A6(this.range,this.min,this.max,t,r,n)}clamp(t,r=0){return _c(t-r,this.min,this.max)+r}monotonic(t,r,n){return t<r?r:r+YI(this.range,t-r,n)}minimalMonotonic(t,r,n){return A6(this.range,t,t+this.range,r,n)}center(t,r,n){return r=this.monotonic(t,r,n),this.normalize((t+r)/2,n)}diff(t,r,n){return this.monotonic(t,r,n)-t}shortestSignedDiff(t,r){t=this.normalize(t);const n=(r=this.normalize(r))-t,i=r<t?this.minimalMonotonic(t,r)-t:r-this.minimalMonotonic(r,t);return Math.abs(n)<Math.abs(i)?n:i}contains(t,r,n){return r=this.minimalMonotonic(t,r),(n=this.minimalMonotonic(t,n))>t&&n<r}};function A6(e,t,r,n,i=0,s=!1){return(n-=i)<t?n+=YI(e,t-n):n>r&&(n-=YI(e,n-r)),s&&n===r&&(n=t),n+i}function YI(e,t,r=0){return Math.ceil((t-r)/e)*e+r}const Iwe=new Awe(0,360);let Wo=class extends Se.ClonableMixin(z){constructor(...t){super(...t),this.position=new qe([0,0,0]),this.heading=0,this.tilt=0,this.fov=55,this.layout=new sQ}normalizeCtorArgs(t,r,n,i){if(t&&typeof t=="object"&&("x"in t||Array.isArray(t))){const s={position:t};return r!=null&&(s.heading=r),n!=null&&(s.tilt=n),i!=null&&(s.fov=i),s}return t}writePosition(t,r,n,i){const s=t.clone();s.x=Jn(t.x||0),s.y=Jn(t.y||0),s.z=t.hasZ?Jn(t.z||0):t.z,r[n]=s.write({},i)}readPosition(t,r){const n=new qe;return n.read(t,r),n.x=Jn(n.x||0),n.y=Jn(n.y||0),n.z=n.hasZ?Jn(n.z||0):n.z,n}equals(t){return t!=null&&this.tilt===t.tilt&&this.heading===t.heading&&this.fov===t.fov&&this.position.equals(t.position)&&this.layout.equals(t.layout)}};u([f({type:qe,json:{write:{isRequired:!0}}})],Wo.prototype,"position",void 0),u([re("position")],Wo.prototype,"writePosition",null),u([X("position")],Wo.prototype,"readPosition",null),u([f({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),ht(e=>Iwe.normalize(Jn(e)))],Wo.prototype,"heading",void 0),u([f({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),ht(e=>_c(Jn(e),-180,180))],Wo.prototype,"tilt",void 0),u([f({type:Number,nonNullable:!0,json:{default:55,write:!0}}),ht(e=>_c(Jn(e,55),1,170))],Wo.prototype,"fov",void 0),u([f({type:sQ,nonNullable:!0,json:{read:!1,write:!1}})],Wo.prototype,"layout",void 0),Wo=u([A("esri.Camera")],Wo);const Pwe=Wo;function oQ(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function aQ(e){return e.points!==void 0}function lQ(e){return e.x!==void 0&&e.y!==void 0}function uQ(e){return e.paths!==void 0||e.curvePaths!==void 0}function Pg(e){return e.rings!==void 0||e.curveRings!==void 0}function zl(e){return e==null?null:e instanceof An?e:lQ(e)?qe.fromJSON(e):uQ(e)?In.fromJSON(e):Pg(e)?hr.fromJSON(e):aQ(e)?ms.fromJSON(e):oQ(e)?ze.fromJSON(e):null}function tT(e){return e?lQ(e)?"esriGeometryPoint":uQ(e)?"esriGeometryPolyline":Pg(e)?"esriGeometryPolygon":oQ(e)?"esriGeometryEnvelope":aQ(e)?"esriGeometryMultipoint":null:null}const kwe={esriGeometryPoint:qe,esriGeometryPolyline:In,esriGeometryPolygon:hr,esriGeometryEnvelope:ze,esriGeometryMultipoint:ms,esriGeometryMultiPatch:hr};function Cwe(e){return e&&kwe[e]||null}const Nwe=Ar()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),I6=Ar()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),dm={base:An,key:"type",typeMap:{extent:ze,multipoint:ms,point:qe,polyline:In,polygon:hr}};var QI;let pu=QI=class extends z{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new QI({rotation:this.rotation,scale:this.scale,targetGeometry:this.targetGeometry!=null?this.targetGeometry.clone():null,camera:this.camera!=null?this.camera.clone():null})}};u([f({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:xE}}}}})],pu.prototype,"rotation",void 0),u([ht("rotation")],pu.prototype,"castRotation",null),u([f({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:xE}}}}})],pu.prototype,"scale",void 0),u([f({types:dm,json:{read:zl,write:!0,origins:{"web-scene":{read:zl,write:{overridePolicy:xE}}}}})],pu.prototype,"targetGeometry",void 0),u([f({type:Pwe,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],pu.prototype,"camera",void 0),pu=QI=u([A("esri.Viewpoint")],pu);const Tp=pu;function xE(){return{enabled:!this.camera}}let Mwe=class cQ{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(qA),this._values=new Map,this.multipleOriginsSupported=!0}clone(t){const r=new cQ,n=this._originStores[Re.DEFAULTS];n&&n.forEach((i,s)=>{r.set(s,D(i),Re.DEFAULTS)});for(let i=Re.SERVICE;i<qA;i++){const s=this._originStores[i];s&&s.forEach((o,a)=>{t&&t.has(a)||r.set(a,D(o),i)})}return r}get(t,r){const n=r===void 0?this._values:this._originStores[r];return n?n.get(t):void 0}keys(t){const r=t==null?this._values:this._originStores[t];return r?[...r.keys()]:[]}set(t,r,n=Re.USER){let i=this._originStores[n];if(i||(i=new Map,this._originStores[n]=i),i.set(t,r),!this._values.has(t)||this._propertyOriginMap.get(t)<=n){const s=this._values.get(t);return this._values.set(t,r),this._propertyOriginMap.set(t,n),s!==r}return!1}delete(t,r=Re.USER){const n=this._originStores[r];if(!n)return;const i=n.get(t);if(n.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===r){this._values.delete(t);for(let s=r-1;s>=0;s--){const o=this._originStores[s];if(o&&o.has(t)){this._values.set(t,o.get(t)),this._propertyOriginMap.set(t,s);break}}}return i}has(t,r){const n=r===void 0?this._values:this._originStores[r];return!!n&&n.has(t)}revert(t,r){for(;r>0&&!this.has(t,r);)--r;const n=this._originStores[r],i=n?.get(t),s=this._values.get(t);return this._values.set(t,i),this._propertyOriginMap.set(t,r),s!==i}originOf(t){return this._propertyOriginMap.get(t)||Re.DEFAULTS}isAtOrigin(t,r){return this.has(t,r)&&this.originOf(t)===r}isBelowOrigin(t,r){return!this.has(t)||this.originOf(t)<r}forEach(t){this._values.forEach(t)}};const dQ=e=>{let t=class extends e{constructor(...r){super(...r);const n=ri(this),i=n.store,s=new Mwe;n.store=s,VJ(n,i,s)}read(r,n){GJ(this,r,n)}getAtOrigin(r,n){const i=SE(this),s=$l(n);if(typeof r=="string")return i.get(r,s);const o={};return r.forEach(a=>{o[a]=i.get(a,s)}),o}originOf(r){return wv(this.originIdOf(r))}originIdOf(r){return SE(this).originOf(r)}revert(r,n){const i=SE(this),s=$l(n),o=ri(this);let a;a=typeof r=="string"?r==="*"?i.keys(s):[r]:r,a.forEach(l=>{o.invalidate(l),i.revert(l,s),o.commit(l)})}};return t=u([A("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function SE(e){return ri(e).store}let P6=class extends dQ(ft){};P6=u([A("esri.core.ReadOnlyMultiOriginJSONSupport")],P6);const Rwe=e=>{let t=class extends e{constructor(...r){super(...r)}clear(r,n="user"){ri(this).clearOrigin(r,$l(n))}write(r,n){return JJ(this,r=r||{},n),r}setAtOrigin(r,n,i){ri(this).setAtOrigin(r,n,$l(i))}removeOrigin(r){const n=k6(this),i=$l(r),s=n.keys(i);for(const o of s)n.originOf(o)===i&&n.set(o,n.get(o,i),Re.USER)}updateOrigin(r,n){const i=k6(this),s=$l(n),o=vp(this,r);for(let a=s+1;a<qA;++a)i.delete(r,a);i.set(r,o,s)}toJSON(r){return this.write({},r)}};return t=u([A("esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function k6(e){return ri(e).store}const rT=e=>{let t=class extends Rwe(dQ(e)){constructor(...r){super(...r)}};return t=u([A("esri.core.MultiOriginJSONSupport")],t),t};let XI=class extends rT(ft){};XI=u([A("esri.core.MultiOriginJSONSupport")],XI);async function Lwe(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return b0(e);const r=be.WGS84;return await FR(t,r),DR(e,r)}function Dwe(e,t){if(!BR(e,t)){const r=e.typeKeywords;r?r.push(t):e.typeKeywords=[t]}}function BR(e,t){return!!e.typeKeywords?.includes(t)}function Ret(e){return BR(e,VR.HOSTED_SERVICE)}function Fwe(e,t){const r=e.typeKeywords;if(r){const n=r.indexOf(t);n>-1&&r.splice(n,1)}}function Let(e,t,r){r?Dwe(e,t):Fwe(e,t)}async function Det(e){const t=e.clone().normalize();let r;if(t.length>1)for(const n of t)r?n.width>r.width&&(r=n):r=n;else r=t[0];return Lwe(r)}const VR={CHARTS:"Charts",DYNAMIC:"Dynamic",DEVELOPER_BASEMAP:"DeveloperBasemap",GROUP_LAYER_MAP:"Map",HOSTED_SERVICE:"Hosted Service",JSAPI:"ArcGIS API for JavaScript",LOCAL_SCENE:"ViewingMode-Local",METADATA:"Metadata",MULTI_LAYER:"Multilayer",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer",SINGLE_LAYER:"Singlelayer",SUBTYPE_GROUP_LAYER:"SubtypeGroupLayer",SUBTYPE_GROUP_TABLE:"SubtypeGroupTable",TABLE:"Table",TILED_IMAGERY:"Tiled Imagery"};function Uwe(e){const{portal:t,isOrgItem:r,itemControl:n}=e,i=t.user?.privileges;let s=!i||i.includes("features:user:edit"),o=!!r&&!!i?.includes("features:user:fullEdit");const a=n==="update"||n==="admin";return a?o=s=!0:o&&(s=!0),{features:{edit:s,fullEdit:o},content:{updateItem:a}}}let fu=class extends z{constructor(t){super(t),this.facilityIdField=null,this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};u([f({type:String,json:{write:{isRequired:!0}}})],fu.prototype,"facilityIdField",void 0),u([f({type:String,json:{write:{isRequired:!0}}})],fu.prototype,"layerId",void 0),u([f({type:String,json:{write:{isRequired:!0}}})],fu.prototype,"nameField",void 0),u([f({type:String,json:{write:!0}})],fu.prototype,"siteIdField",void 0),u([f({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],fu.prototype,"sublayerId",void 0),fu=u([A("esri.layers.support.FacilityLayerInfo")],fu);const zwe=fu;let Zs=class extends z{constructor(t){super(t),this.facilityIdField=null,this.layerId=null,this.levelIdField=null,this.levelNumberField=null,this.longNameField=null,this.shortNameField=null,this.sublayerId=null,this.verticalOrderField=null}};u([f({type:String,json:{write:{isRequired:!0}}})],Zs.prototype,"facilityIdField",void 0),u([f({type:String,json:{write:{isRequired:!0}}})],Zs.prototype,"layerId",void 0),u([f({type:String,json:{write:{isRequired:!0}}})],Zs.prototype,"levelIdField",void 0),u([f({type:String,json:{write:{isRequired:!0}}})],Zs.prototype,"levelNumberField",void 0),u([f({type:String,json:{write:{isRequired:!0}}})],Zs.prototype,"longNameField",void 0),u([f({type:String,json:{write:{isRequired:!0}}})],Zs.prototype,"shortNameField",void 0),u([f({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],Zs.prototype,"sublayerId",void 0),u([f({type:String,json:{write:{isRequired:!0}}})],Zs.prototype,"verticalOrderField",void 0),Zs=u([A("esri.layers.support.LevelLayerInfo")],Zs);const Bwe=Zs;let id=class extends z{constructor(t){super(t),this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};u([f({type:String,json:{write:{isRequired:!0}}})],id.prototype,"layerId",void 0),u([f({type:String,json:{write:{isRequired:!0}}})],id.prototype,"nameField",void 0),u([f({type:String,json:{write:{isRequired:!0}}})],id.prototype,"siteIdField",void 0),u([f({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],id.prototype,"sublayerId",void 0),id=u([A("esri.layers.support.SiteLayerInfo")],id);const Vwe=id;let gf=class extends z{constructor(t){super(t),this.levelLayer=null,this.facilityLayer=null,this.siteLayer=null}};u([f({type:Bwe,json:{write:{isRequired:!0}}})],gf.prototype,"levelLayer",void 0),u([f({type:zwe,json:{write:{isRequired:!0}}})],gf.prototype,"facilityLayer",void 0),u([f({type:Vwe,json:{write:!0}})],gf.prototype,"siteLayer",void 0),gf=u([A("esri.support.MapFloorInfo")],gf);const qwe=gf;var ya;(function(e){e[e.SAVE=0]="SAVE",e[e.SAVE_AS=1]="SAVE_AS"})(ya||(ya={}));var eP;let vf=eP=class extends z{constructor(e){super(e),this.activeRange=null,this.currentRangeExtent=null,this.fullRangeExtent=null}clone(){return new eP(D({activeRange:this.activeRange,currentRangeExtent:this.currentRangeExtent,fullRangeExtent:this.fullRangeExtent}))}};u([f({type:String,nonNullable:!0,json:{read:{source:"activeRangeName"},write:{target:"activeRangeName",isRequired:!0}}})],vf.prototype,"activeRange",void 0),u([f({type:[Number],json:{write:!0}})],vf.prototype,"currentRangeExtent",void 0),u([f({type:[Number],json:{write:!0}})],vf.prototype,"fullRangeExtent",void 0),vf=eP=u([A("esri.webdoc.RangeInfo")],vf);const qR=vf;var tP;let Ho=tP=class extends z{constructor(e){super(e),this.enabled=!1,this.longNames=!1,this.minimized=!1,this.pinnedLevels=!1,this.site=null,this.facility=null,this.level=null}clone(){return new tP(D({enabled:this.enabled,longNames:this.longNames,minimized:this.minimized,pinnedLevels:this.pinnedLevels,site:this.site,facility:this.facility,level:this.level}))}};u([f({type:Boolean,json:{read:{source:"enabled"},write:{target:"enabled"}}})],Ho.prototype,"enabled",void 0),u([f({type:Boolean,json:{read:{source:"longNames"},write:{target:"longNames"}}})],Ho.prototype,"longNames",void 0),u([f({type:Boolean,json:{read:{source:"minimized"},write:{target:"minimized"}}})],Ho.prototype,"minimized",void 0),u([f({type:Boolean,json:{read:{source:"pinnedLevels"},write:{target:"pinnedLevels"}}})],Ho.prototype,"pinnedLevels",void 0),u([f({type:String,json:{read:{source:"site"},write:{target:"site"}}})],Ho.prototype,"site",void 0),u([f({type:String,json:{read:{source:"facility"},write:{target:"facility"}}})],Ho.prototype,"facility",void 0),u([f({type:String,json:{read:{source:"level"},write:{target:"level"}}})],Ho.prototype,"level",void 0),Ho=tP=u([A("esri.webdoc.widgets.FloorFilter")],Ho);const Gwe=Ho;var rP;const hw=new Pe({slider:"slider",picker:"picker"});let bf=rP=class extends z{constructor(e){super(e),this.interactionMode=null,this.numStops=null,this.stopInterval=null}clone(){return new rP({interactionMode:this.interactionMode,numStops:this.numStops,stopInterval:this.stopInterval})}};u([f({type:hw.apiValues,nonNullable:!0,json:{type:hw.jsonValues,default:null,read:{reader:hw.read},write:{isRequired:!0,writer:hw.write}}})],bf.prototype,"interactionMode",void 0),u([f({type:Be,json:{read:{source:"numberOfStops"},write:{target:"numberOfStops",overridePolicy(){const e=this.stopInterval!=null;return{enabled:!e,isRequired:!e}}}}})],bf.prototype,"numStops",void 0),u([f({type:Number,json:{write:{overridePolicy(){return{isRequired:this.numStops==null}}}}})],bf.prototype,"stopInterval",void 0),bf=rP=u([A("esri.webdoc.widgets.Range")],bf);const Wwe=bf,GR=Ar()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});let _o=class extends Se.ClonableMixin(z){constructor(t){super(t),this.unit="milliseconds",this.value=0}toMilliseconds(){return nQ(this.value,this.unit,"milliseconds")}};u([ye(GR,{nonNullable:!0})],_o.prototype,"unit",void 0),u([f({type:Number,json:{write:!0},nonNullable:!0})],_o.prototype,"value",void 0),_o=u([A("esri.time.TimeInterval")],_o);var nP;let kr=nP=class extends z{constructor(e){super(e),this.currentTimeExtent=null,this.fullTimeExtent=null,this.loop=!1,this.numStops=null,this.numThumbs=null,this.stopDelay=null,this.stopInterval=null,this.stops=null}readCurrentTimeExtent(e){return e?pt.fromArray(e):void 0}writeCurrentTimeExtent(e,t,r){e&&or(r,e.toArray(),t)}readFullTimeExtent(e,t){const r=t.properties;if(!r)return;const n=r.endTime!=null?new Date(r.endTime):null,i=r.startTime!=null?new Date(r.startTime):null;return new pt({start:i,end:n})}writeFullTimeExtent(e,t){if(!e)return;const r=t.properties=t.properties||{},n=e.end,i=e.start;n&&(r.endTime=n!=null?n.getTime():null),i&&(r.startTime=i!=null?i.getTime():null)}readStopInterval(e,t,r){return e?_o.fromJSON({value:e.interval,unit:e.units},r):null}writeStopInterval(e,t,r,n){if(!e)return;const i=e.toJSON(n);or("properties.timeStopInterval",{interval:i.value,units:i.unit},t)}readStops(e){return e?.length?e.map(t=>new Date(t)):null}writeStops(e,t,r){e?.length&&or(r,e.map(n=>n.getTime()),t)}clone(){return new nP(D({currentTimeExtent:this.currentTimeExtent,fullTimeExtent:this.fullTimeExtent,loop:this.loop,numStops:this.numStops,numThumbs:this.numThumbs,stopDelay:this.stopDelay,stopInterval:this.stopInterval,stops:this.stops}))}};u([f({type:pt,json:{type:[[Be,nm]],read:{source:"properties.currentTimeExtent"},write:{target:"properties.currentTimeExtent"}}})],kr.prototype,"currentTimeExtent",void 0),u([X("currentTimeExtent")],kr.prototype,"readCurrentTimeExtent",null),u([re("currentTimeExtent")],kr.prototype,"writeCurrentTimeExtent",null),u([f({type:pt,json:{read:{source:["properties.endTime","properties.startTime"]},write:{target:{"properties.endTime":{type:Number},"properties.startTime":{type:Number}}}}})],kr.prototype,"fullTimeExtent",void 0),u([X("fullTimeExtent")],kr.prototype,"readFullTimeExtent",null),u([re("fullTimeExtent")],kr.prototype,"writeFullTimeExtent",null),u([f({type:Boolean,nonNullable:!0,json:{default:!1,read:{source:"properties.loop"},write:{target:"properties.loop"}}})],kr.prototype,"loop",void 0),u([f({type:Be,json:{read:{source:"properties.numberOfStops"},write:{target:"properties.numberOfStops",overridePolicy(){const e=!!this.stopInterval,t=!!this.stops?.length,r=!(e||t);return{enabled:r,isRequired:r}}}}})],kr.prototype,"numStops",void 0),u([f({type:[1,2],nonNullable:!0,json:{type:Be,read:{source:"properties.thumbCount"},write:{target:"properties.thumbCount",isRequired:!0}}})],kr.prototype,"numThumbs",void 0),u([f({type:Number,nonNullable:!0,json:{read:{source:"properties.thumbMovingRate"},write:{target:"properties.thumbMovingRate",isRequired:!0}}})],kr.prototype,"stopDelay",void 0),u([f({type:_o,json:{read:{source:"properties.timeStopInterval"},write:{target:{"properties.timeStopInterval.interval":{type:Number},"properties.timeStopInterval.units":{type:GR.jsonValues.filter(e=>e!=="esriTimeUnitsUnknown")}},overridePolicy(){const e=this.numStops!=null,t=!!this.stops?.length;return{enabled:!t,isRequired:!(e||t)}}}}})],kr.prototype,"stopInterval",void 0),u([X("stopInterval")],kr.prototype,"readStopInterval",null),u([re("stopInterval")],kr.prototype,"writeStopInterval",null),u([f({type:[Date],json:{type:[Be],read:{source:"properties.stops"},write:{target:"properties.stops",overridePolicy(){return{isRequired:this.numStops==null&&!this.stopInterval}}}}})],kr.prototype,"stops",void 0),u([X("stops")],kr.prototype,"readStops",null),u([re("stops")],kr.prototype,"writeStops",null),kr=nP=u([A("esri.webdoc.widgets.TimeSlider")],kr);const Hwe=kr;var iP;let wf=iP=class extends z{constructor(e){super(e),this.range=null,this.timeSlider=null,this.floorFilter=null}clone(){return new iP(D({range:this.range,timeSlider:this.timeSlider,floorFilter:this.floorFilter}))}};u([f({type:Wwe,json:{write:!0}})],wf.prototype,"range",void 0),u([f({type:Hwe,json:{write:!0}})],wf.prototype,"timeSlider",void 0),u([f({type:Gwe,json:{write:!0}})],wf.prototype,"floorFilter",void 0),wf=iP=u([A("esri.webdoc.Widgets")],wf);const Jwe=wf,Kwe={width:600,height:400},yw=1.5;function Zwe(e,t){t=t||Kwe;let{width:r,height:n}=t;const i=r/n;return i<yw?n=r/yw:i>yw&&(r=n*yw),r>e.width&&(n*=e.width/r,r=e.width),n>e.height&&(r*=e.height/n,n=e.height),{width:Math.round(r),height:Math.round(n)}}function Ywe(e,t){return{...pQ(e,t),readResourcePaths:[]}}function qet(e,t,r){const n=sn(e.itemUrl);return{...pQ(e,t),messages:[],writtenProperties:[],blockedRelativeUrls:[],verifyItemRelativeUrls:n?{rootPath:n.path,writtenUrls:[]}:null,resources:r?{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}:null}}function pQ(e,t){return{origin:t,url:sn(e.itemUrl),portal:e.portal||te.getDefault(),portalItem:e}}function Qwe(e,t){return t?{...t,query:{...e??{},...t.query}}:{query:e}}function Xwe(e){return typeof e=="string"?sn(e):D(e)}function exe(e,t,r){const n={};for(const i in e){if(i==="declaredClass")continue;const s=e[i];if(s!=null&&typeof s!="function")if(Array.isArray(s))n[i]=s.map(o=>exe(o));else if(typeof s=="object")if(s.toJSON){const o=s.toJSON(r?.[i]);n[i]=t?o:JSON.stringify(o)}else n[i]=t?s:JSON.stringify(s);else n[i]=s}return n}function txe(e,t){return e?t&&KM(e)?t:JM(e)??Ke?.findCredential(e)?.token:null}async function Get(e,t,r){const n=txe(e,t);return n||(!Ke&&Xe.request.useIdentity&&await ae(()=>import("./IdentityManager-ccf31ef8.js").then(s=>s.I),["assets/IdentityManager-ccf31ef8.js","assets/sanitizerUtils-d00433fc.js"]),(await Ke.getCredential(e,r))?.token)}function Wet(e){return{geometryType:tT(e[0]),geometries:e.map(t=>t.toJSON())}}function rxe(e,t,r){const n=Cwe(t);return e.map(i=>{const s=n.fromJSON(i);return s.spatialReference=r,s})}let ju=class extends z{constructor(t){super(t),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const t=this.geometries.map(i=>i.toJSON()),r=this.geometries[0],n={};return n.outSR=yF(this.outSpatialReference),n.inSR=yF(r.spatialReference),n.geometries=JSON.stringify({geometryType:tT(r),geometries:t}),this.transformation&&(n.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),this.transformForward!=null&&(n.transformForward=this.transformForward),n}};u([f()],ju.prototype,"geometries",void 0),u([f({type:be,json:{read:{source:"outSR"}}})],ju.prototype,"outSpatialReference",void 0),u([f()],ju.prototype,"transformation",void 0),u([f()],ju.prototype,"transformForward",void 0),ju=u([A("esri.rest.support.ProjectParameters")],ju);const nxe=br(ju);async function ixe(e,t,r){t=nxe(t);const n=Xwe(e),i={...n.query,f:"json",...t.toJSON()},s=t.outSpatialReference,o=tT(t.geometries[0]),a=Qwe(i,r);return nt(n.path+"/project",a).then(({data:{geometries:l}})=>rxe(l,o,s))}function sxe(e,t){return t.resourceInfo?fQ(t,t.resourceInfo,{origin:e.origin}):t.portalItem?.id?oxe(e,t,t.portalItem):Promise.resolve()}function fQ(e,t,r){const n={context:{...r,layerContainerType:"operational-layers"}};return e.portalItem&&(n.context.portal=e.portalItem.portal||te.getDefault()),ae(()=>import("./layersCreator-c67ff2dc.js"),["assets/layersCreator-c67ff2dc.js","assets/loadUtils-4d61d962.js","assets/fetchService-d6a5b823.js","assets/associatedFeatureServiceUtils-ebf5b5be.js","assets/lazyLayerLoader-8a311d60.js","assets/portalLayers-787a3d5c.js"]).then(({populateOperationalLayers:i})=>{const s=[],o=t.operationalLayers;o?.length&&s.push(i(e.layers,o,n));const a={...n,context:{...n.context,layerContainerType:"tables"},defaultLayerType:"ArcGISFeatureLayer"},l=t.tables;return l?.length&&s.push(i(e.tables,l,a)),Promise.allSettled(s).then(()=>{})})}async function oxe(e,t,r){if(await r.load().catch(o=>{throw new K(`${e.name}:load-portal-item`,"Failed to load portal item",{error:o})}),r.type!==e.itemType)throw new K(`${e.name}:invalid-portal-item`,`Invalid portal item type '${r.type}', expected '${e.itemType}'`,{type:r.type});const n=await r.fetchData();t.resourceInfo=n;const i=Ywe(r,e.origin);await axe(e,t,n,i),t.resourceReferences={portalItem:r,paths:i.readResourcePaths};const s=await uxe(t.initialViewProperties,r,ce.getLogger(t));if(s){const o=t.initialViewProperties?.clone()??e.createInitialViewProperties();o.viewpoint=s,t.initialViewProperties=o}}function axe(e,t,r,n){const i=lxe(e,r);return t.read(i,n),fQ(t,i,n)}function lxe(e,t){const r=e.parseVersion(t.version||"",e.name);return e.currentVersion.validate(r),t.version=`${r.major}.${r.minor}`,t}async function uxe(e,t,r){if(e?.viewpoint?.targetGeometry)return null;const i=await cxe(e,t,r);return i?new Tp({targetGeometry:i}):null}async function cxe(e,t,r){const n=e?.spatialReference,i=t?.extent;if(!n||!i)return null;if(n.isWGS84)return i.clone();if(n.isWebMercator)return _x(i);const{getGeometryServiceURL:s}=await ae(()=>import("./geometryServiceUtils-0501e1ea.js"),[]);try{const o=await s(t),a=new ju({geometries:[i],outSpatialReference:n});return(await ixe(o,a))[0]}catch(o){r.error("Error projecting item's extent:",o)}return null}function C6(e){return{enabled:!!e?.length}}const WR=new Pe({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"globalThis-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});var sP;let xf=sP=class extends z{constructor(e){super(e),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new sP({exactMatch:this.exactMatch,type:this.type,name:this.name})}};u([f({type:Boolean,json:{write:!0}})],xf.prototype,"exactMatch",void 0),u([f({type:String,json:{write:!0}})],xf.prototype,"name",void 0),u([ye(WR)],xf.prototype,"type",void 0),xf=sP=u([A("esri.webdoc.applicationProperties.SearchLayerField")],xf);const dxe=xf;var oP;let Sf=oP=class extends z{constructor(e){super(e),this.field=null,this.id=null,this.subLayer=null}clone(){return new oP(D({field:this.field,id:this.id,subLayer:this.subLayer}))}};u([f({type:dxe,json:{write:{isRequired:!0}}})],Sf.prototype,"field",void 0),u([f({type:String,json:{write:{isRequired:!0}}})],Sf.prototype,"id",void 0),u([f({type:Be,json:{write:!0}})],Sf.prototype,"subLayer",void 0),Sf=oP=u([A("esri.webdoc.applicationProperties.SearchLayer")],Sf);const pxe=Sf;var aP;let _f=aP=class extends z{constructor(e){super(e),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new aP({exactMatch:this.exactMatch,type:this.type,name:this.name})}};u([f({type:Boolean,json:{write:!0}})],_f.prototype,"exactMatch",void 0),u([f({type:String,json:{write:!0}})],_f.prototype,"name",void 0),u([ye(WR)],_f.prototype,"type",void 0),_f=aP=u([A("esri.webdoc.applicationProperties.SearchTableField")],_f);const fxe=_f;var lP;let A0=lP=class extends z{constructor(e){super(e),this.field=null,this.id=null}clone(){return new lP(D({field:this.field,id:this.id}))}};u([f({type:fxe,json:{write:{isRequired:!0}}})],A0.prototype,"field",void 0),u([f({type:String,json:{write:{isRequired:!0}}})],A0.prototype,"id",void 0),A0=lP=u([A("esri.webdoc.applicationProperties.SearchTable")],A0);const hxe=A0;var uP;const hQ=Te.ofType(pxe),yQ=Te.ofType(hxe);let Jo=uP=class extends z{constructor(e){super(e),this.addressSearchEnabled=!0,this.enabled=!0,this.hintText=null,this.layers=new hQ,this.tables=new yQ}readAddressSearchEnabled(e){return!e}writeAddressSearchEnabled(e,t,r){t[r]=!e}clone(){return new uP(D({addressSearchEnabled:this.addressSearchEnabled,enabled:this.enabled,hintText:this.hintText,layers:this.layers,tables:this.tables}))}};u([f({type:Boolean,nonNullable:!0,json:{read:{source:"disablePlaceFinder"},write:{target:"disablePlaceFinder",isRequired:!0},origins:{"web-scene":{read:!1,write:!1}}}})],Jo.prototype,"addressSearchEnabled",void 0),u([X("addressSearchEnabled")],Jo.prototype,"readAddressSearchEnabled",null),u([re("addressSearchEnabled")],Jo.prototype,"writeAddressSearchEnabled",null),u([f({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-map":{write:{isRequired:!0}},"web-scene":{default:!0,write:!0}}}})],Jo.prototype,"enabled",void 0),u([f({type:String,json:{write:!0}})],Jo.prototype,"hintText",void 0),u([f({type:hQ,json:{write:{overridePolicy:C6},origins:{"web-scene":{write:{isRequired:!0}}}}})],Jo.prototype,"layers",void 0),u([f({type:yQ,json:{read:!0,write:{overridePolicy:C6}}})],Jo.prototype,"tables",void 0),Jo=uP=u([A("esri.webdoc.applicationProperties.Search")],Jo);const yxe=Jo;var cP;let Dx=cP=class extends z{constructor(e){super(e),this.search=null}clone(){return new cP(D({search:this.search}))}};u([f({type:yxe,json:{write:!0}})],Dx.prototype,"search",void 0),Dx=cP=u([A("esri.webdoc.applicationProperties.Viewing")],Dx);const mxe=Dx;var dP;let $f=dP=class extends z{constructor(e){super(e),this.editing=null,this.offline=null,this.viewing=null}clone(){return new dP(D({editing:this.editing,offline:this.offline,viewing:this.viewing}))}};u([f({json:{write:!0}})],$f.prototype,"editing",void 0),u([f({json:{write:!0}})],$f.prototype,"offline",void 0),u([f({type:mxe,json:{write:!0}})],$f.prototype,"viewing",void 0),$f=dP=u([A("esri.webmap.ApplicationProperties")],$f);const gxe=$f;var pP;let bl=pP=class extends z{constructor(){super(...arguments),this.url=""}destroy(){this.url=""}get isSecureUrl(){return kH(this.url)}get isDataURI(){return Wl(this.url)}clone(){return new pP({url:this.url})}};u([f({type:String,json:{write:{isRequired:!0}}})],bl.prototype,"url",void 0),u([f()],bl.prototype,"isSecureUrl",null),u([f()],bl.prototype,"isDataURI",null),bl=pP=u([A("esri.webdoc.support.SlideThumbnail")],bl);const vxe={type:pt,json:{read:{source:"timeExtent",reader:e=>e?Array.isArray(e)?pt.fromArray(e):pt.fromJSON(e):null},write:{writer:(e,t,r,n)=>{e&&(e.isEmpty?n?.messages&&n.messages.push(new K("invalid-timeExtent","TimeExtent cannot be empty")):t[r]=e.toArray())},target:{timeExtent:{type:[[Be,nm]]}}}}};var fP;let Ko=fP=class extends zR.IdentifiableMixin(z){constructor(e){super(e),this.name=null,this.thumbnail=new bl,this.timeExtent=null}castThumbnail(e){return typeof e=="string"?new bl({url:e}):br(bl,e)}set viewpoint(e){const{targetGeometry:t,scale:r}=e;t!=null&&t.type==="point"&&r==null&&ce.getLogger(this).warn("Bookmark.viewpoint should include 'scale' when its targetGeometry is a point.",e),this._set("viewpoint",e)}readViewpoint(e,t){const{extent:r,viewpoint:n}=t;return Tp.fromJSON(n||{targetGeometry:r})}writeViewpoint(e,t,r,n){if(!e)return;const{targetGeometry:i}=e;if(i==null||i.type==="extent")i!=null&&(t.extent=i.toJSON()),t[r]=e.toJSON();else{const s="Bookmark.viewpoint cannot be written to JSON when the viewpoint's targetGeometry is not an extent.";n?.messages?n.messages.push(new K("property:unsupported",s)):ce.getLogger(this).error(s)}}clone(){return new fP(D({name:this.name,thumbnail:this.thumbnail,timeExtent:this.timeExtent,viewpoint:this.viewpoint}))}};u([f({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],Ko.prototype,"name",void 0),u([f({type:bl,json:{write:{overridePolicy:e=>({enabled:!(!e||!e.url)})}}})],Ko.prototype,"thumbnail",void 0),u([ht("thumbnail")],Ko.prototype,"castThumbnail",null),u([f(vxe)],Ko.prototype,"timeExtent",void 0),u([f({type:Tp,nonNullable:!0,json:{write:!0}})],Ko.prototype,"viewpoint",null),u([X("viewpoint",["extent","viewpoint"])],Ko.prototype,"readViewpoint",null),u([re("viewpoint")],Ko.prototype,"writeViewpoint",null),Ko=fP=u([A("esri.webmap.Bookmark")],Ko);const bxe=Ko;var hP;let Fx=hP=class extends z{constructor(e){super(e),this.color=new Me([0,0,0,1])}clone(){return new hP(D({color:this.color}))}};u([f({type:Me,json:{write:!0}})],Fx.prototype,"color",void 0),Fx=hP=u([A("esri.webmap.background.ColorBackground")],Fx);const HR=Fx;let Va=class extends Se.ClonableMixin(ft){constructor(t){super(t),this.background=null,this.rangeInfo=null,this.spatialReference=null,this.timeExtent=null,this.timeZone=Lo,this.viewpoint=null}};u([f({type:HR})],Va.prototype,"background",void 0),u([f({type:qR})],Va.prototype,"rangeInfo",void 0),u([f({type:be})],Va.prototype,"spatialReference",void 0),u([f({type:pt})],Va.prototype,"timeExtent",void 0),u([f({nonNullable:!0})],Va.prototype,"timeZone",void 0),u([f({type:Tp})],Va.prototype,"viewpoint",void 0),Va=u([A("esri.webmap.InitialViewProperties")],Va);const D_=Va;let mQ=class yP{constructor(t,r,n=""){this.major=t,this.minor=r,this._context=n}lessThan(t,r){return this.major<t||t===this.major&&this.minor<r}greaterEqual(t,r){return!this.lessThan(t,r)}validate(t){if(this.major!==t.major){const r=this._context&&this._context+":",n=this._context&&this._context+" ";throw new K(r+"unsupported-version",`Required major ${n}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:t})}}clone(){return new yP(this.major,this.minor,this._context)}static parse(t,r=""){const[n,i]=t.split("."),s=/^\s*\d+\s*$/;if(!n?.match||!s.test(n))throw new K((r&&r+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:t});if(!i?.match||!s.test(i))throw new K((r&&r+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:t});const o=parseInt(n,10),a=parseInt(i,10);return new yP(o,a,r)}},Gh=class extends mQ{constructor(t,r){super(t,r,"webmap")}};const gQ=Te.ofType(bxe),wxe=new Map([["image/jpeg","jpeg"],["image/jpg","jpg"],["image/png","png"],["image/gif","gif"]]),xxe="ArcGIS Pro",Sxe=VR.JSAPI;let Ot=class extends rT(xi.LoadableMixin(zd.EsriPromiseMixin(jwe))){constructor(t){super(t),this._isAuthoringAppSetByUser=!1,this._isAuthoringAppVersionSetByUser=!1,this._thumbnailFilename=null,this._updateFromPromise=null,this.resourceReferences={portalItem:null,paths:[]},this.applicationProperties=null,this.bookmarks=new gQ,this.floorInfo=null,this.initialViewProperties=new D_,this.portalItem=null,this.sourceVersion=null,this.widgets=null,this._debouncedSaveOperations=GM(async(r,n,i)=>{const{save:s,saveAs:o}=await ae(()=>import("./webdocSaveUtils-67ddcedd.js"),["assets/webdocSaveUtils-67ddcedd.js","assets/originUtils-0a415ab4.js","assets/resourceUtils-fca2bb34.js","assets/resourceUtils-9b9fd27c.js","assets/saveUtils-f47506af.js"]);switch(r){case ya.SAVE:return s(this.context,this,n);case ya.SAVE_AS:return o(this.context,this,i,n)}}),this.authoringApp=this.authoringAppVersion=null,this._isAuthoringAppSetByUser=this._isAuthoringAppVersionSetByUser=!1}destroy(){this.portalItem=As(this.portalItem)}initialize(){if(this.when().catch(t=>{ce.getLogger(this).error("#load()","Failed to load web map",t)}),this.resourceInfo){let t;try{t=this._validateJSON(this.resourceInfo)}catch(r){return void this.addResolvingPromise(Promise.reject(r))}this.read(t)}}set authoringApp(t){this._isAuthoringAppSetByUser=!0,this._set("authoringApp",t)}writeAuthoringApp(t,r){t&&this._isAuthoringAppSetByUser?r.authoringApp=t:r.authoringApp=Sxe}set authoringAppVersion(t){this._isAuthoringAppVersionSetByUser=!0,this._set("authoringAppVersion",t)}writeAuthoringAppVersion(t,r){t&&this._isAuthoringAppVersionSetByUser?r.authoringAppVersion=t:r.authoringAppVersion=zH}readInitialViewProperties(t,r){const n=new D_;r.background&&(n.background=HR.fromJSON(r.background));const i=r.initialState?.timeExtent;i&&(n.timeExtent=pt.fromArray(i));const s=r.initialState?.viewpoint;return s&&(s.rotation&&Gh.parse(r.version||"","webmap").lessThan(2,20)&&r.authoringApp===xxe&&(s.rotation*=-1),n.viewpoint=Tp.fromJSON(s)),r.mapRangeInfo&&(n.rangeInfo=qR.fromJSON(r.mapRangeInfo)),r.spatialReference&&(n.spatialReference=be.fromJSON(r.spatialReference)),r.timeZone&&(n.timeZone=r.timeZone),n}writeInitialViewProperties(t,r,n,i){if(!t)return;t.background?.color&&(r.background=t.background.write({},i));const{timeExtent:s,viewpoint:o}=t;if(o||s){const a={};o&&(a.viewpoint=o.write({},i)),s&&(a.timeExtent=s.toArray()),r.initialState=a}t.rangeInfo&&(r.mapRangeInfo=t.rangeInfo.toJSON(i)),t.spatialReference&&(r.spatialReference=t.spatialReference.write({},i)),r.timeZone=t.timeZone}writeLayers(t,r,n,i){r[n]=this._writeLayers(t,i,"operational-layers")}readSourceVersion(t,r){const[n,i]=r.version.split(".");return new Gh(parseInt(n,10),parseInt(i,10))}writeSourceVersion(t,r,n){r[n]=`${this.context.currentVersion.major}.${this.context.currentVersion.minor}`}writeTables(t,r,n,i){const s=this._writeLayers(t,i,"tables");s.length&&(r[n]=s)}get thumbnailUrl(){return this.portalItem?.thumbnailUrl||null}set thumbnailUrl(t){t?(this._override("thumbnailUrl",t),this._thumbnailFilename=this._generateCustomThumbnailFilename(t)):this._clearThumbnailOverride()}get updatingFromView(){return!!this._updateFromPromise}load(t){return this.addResolvingPromise(sxe(this.context,this)),Promise.resolve(this)}loadAll(){return D$(this,t=>{t(this.ground,this.basemap,this.layers,this.tables)})}read(t,r){r={...r,origin:this.context.origin};const n=this._getAuthoringPropsState();WJ(this,t,i=>super.read(t,i),r),this._restoreAuthoringPropsFromState(n)}write(t,r){if(this.loadStatus!=="loaded"){const n=new K("webmap:not-loaded","Web map must be loaded before it can be serialized");throw ce.getLogger(this).error("#toJSON()","Web map must be loaded before it can be serialized",this.loadError||this.loadStatus),n}return this._removeDanglingLayerRefs(),r={...r,origin:this.context.origin,restrictedWebMapWriting:!0,webmap:this},super.write(t,r)}async save(t){return this._debouncedSaveOperations(ya.SAVE,t)}async saveAs(t,r){return this._debouncedSaveOperations(ya.SAVE_AS,r,t)}async updateFrom(t,r){const n=this._updateFromInternal(t,r);this._updateFromPromise=n,await n,n===this._updateFromPromise&&(this._updateFromPromise=null)}getLayerJSONFromResourceInfo(t){const r=this.resourceInfo;return this._collectAllLayersJSON([...r?.baseMap?.baseMapLayers||[],...r?.operationalLayers||[],...this.basemap?.resourceInfo?.data?.baseMapLayers||[]]).find(n=>n.id===t.id)}async updateItemThumbnail(){this.thumbnailUrl&&this._isOverridden("thumbnailUrl")&&(await this.portalItem?.updateThumbnail({thumbnail:this.thumbnailUrl,filename:this._thumbnailFilename}),this._clearThumbnailOverride())}getThumbnailState(){let t=this.thumbnailUrl;return t&&(t=this._isOverridden("thumbnailUrl")?t:RH(t,"w","8192")),{thumbnailUrl:t,filename:this._thumbnailFilename}}restoreThumbnailFromState(t){this.thumbnailUrl=t.thumbnailUrl,this._thumbnailFilename=t.filename}_collectAllLayersJSON(t){return t.reduce((r,n)=>(r.push(n),n.layerType==="GroupLayer"&&(r=r.concat(this._collectAllLayersJSON(n.layers||[]))),r),[])}_writeLayers(t,r,n){return r={...r,layerContainerType:n},t.map(i=>NI(i,n==="tables"?null:this.getLayerJSONFromResourceInfo(i),r)).filter(t1).toArray()}_validateJSON(t){const r=Gh.parse(t.version||"","webmap");return this.context.currentVersion.validate(r),t.version=`${r.major}.${r.minor}`,t}_removeDanglingLayerRefs(){const t=this.applicationProperties,r=t?.viewing?.search,n=o=>this.allLayers.some(a=>a.id===o);if(r?.layers&&(r.layers=r.layers.filter(o=>n(o.id))),r?.tables&&(r.tables=r.tables.filter(o=>this.tables.some(a=>a.id===o.id))),t){const o=t.editing?.locationTracking;o?.info&&!n(o.info.layerId)&&(t.editing=null)}const i="presentation"in this?this.presentation:null,s=i?.slides;s&&s.forEach(o=>{o.visibleLayers&&(o.visibleLayers=o.visibleLayers.filter(a=>n(a.id)))})}async _updateFromInternal(t,r){if(r??(r={}),await qge(()=>t.ready),this._updateInitialViewProperties(t,r),t.map===this)for(const n of t.allLayerViews)"visible"in n&&"visible"in n.layer&&n._isOverridden("visible")&&(n.layer.visible=n.visible),"featureEffect"in n&&"featureEffect"in n.layer&&n._isOverridden("featureEffect")&&(n.layer.featureEffect=n.featureEffect);await this._updateThumbnailUrl(t,r)}_updateInitialViewProperties(t,r){if(r.backgroundExcluded||(this.initialViewProperties.background=t.background?.clone()),this.initialViewProperties.spatialReference=t.spatialReference?.clone(),this.initialViewProperties.timeZone=t.timeZone,r.viewpointExcluded||(this.initialViewProperties.viewpoint=new Tp({rotation:t.rotation,scale:r.scalePreserved?t.scale:null,targetGeometry:this._getViewExtent(t)})),!r.widgetsExcluded)for(const n of t.persistableViewModels)n.updateWebDocument(this)}_getViewExtent(t){const r=t.center.clone().normalize(),n=t.extent.clone(),i=n.width/2;return n.xmin=r.x-i,n.xmax=r.x+i,n}async _updateThumbnailUrl(t,r){if(r.thumbnailExcluded)return;const n=Zwe(t,r.thumbnailSize),i=await t.takeScreenshot({format:"png",width:n.width,height:n.height});this._setAutoGeneratedThumbnail(i.dataUrl)}_setAutoGeneratedThumbnail(t){this.thumbnailUrl=t,this._thumbnailFilename=null}_clearThumbnailOverride(){this._clearOverride("thumbnailUrl"),this.clear("thumbnailUrl","user"),this._thumbnailFilename=null}_generateCustomThumbnailFilename(t){if(Wl(t)){const r=iy(t),n=r?.mediaType,i=n&&wxe.get(n.toLowerCase())||null,s=`thumbnail${Date.now()}`;return i?`${s}.${i}`:s}return null}_getAuthoringPropsState(){return{authoringApp:this.authoringApp,authoringAppVersion:this.authoringAppVersion,isAuthoringAppSetByUser:this._isAuthoringAppSetByUser,isAuthoringAppVersionSetByUser:this._isAuthoringAppVersionSetByUser}}_restoreAuthoringPropsFromState(t){t.isAuthoringAppSetByUser?this.authoringApp=t.authoringApp:this._isAuthoringAppSetByUser=!1,t.isAuthoringAppVersionSetByUser?this.authoringAppVersion=t.authoringAppVersion:this._isAuthoringAppVersionSetByUser=!1}};u([f()],Ot.prototype,"_updateFromPromise",void 0),u([f({type:gxe,json:{write:!0}})],Ot.prototype,"applicationProperties",void 0),u([f({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],Ot.prototype,"authoringApp",null),u([re("authoringApp")],Ot.prototype,"writeAuthoringApp",null),u([f({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],Ot.prototype,"authoringAppVersion",null),u([re("authoringAppVersion")],Ot.prototype,"writeAuthoringAppVersion",null),u([f({type:gQ,json:{write:{overridePolicy:e=>({enabled:!!(e&&e.length>0),ignoreOrigin:!0})}}})],Ot.prototype,"bookmarks",void 0),u([f({type:qwe,json:{name:"mapFloorInfo",write:!0}})],Ot.prototype,"floorInfo",void 0),u([f({type:D_,nonNullable:!0,json:{read:{source:["background","initialState.timeExtent","initialState.viewpoint","mapRangeInfo","spatialReference","timeZone"]},write:{ignoreOrigin:!0,target:{background:{type:HR},"initialState.timeExtent":{type:pt},"initialState.viewpoint":{type:Tp},mapRangeInfo:{type:qR},spatialReference:{type:be},"timeZone:":{type:String}}}}})],Ot.prototype,"initialViewProperties",void 0),u([X("initialViewProperties")],Ot.prototype,"readInitialViewProperties",null),u([re("initialViewProperties")],Ot.prototype,"writeInitialViewProperties",null),u([f({json:{read:!1,write:{target:"operationalLayers",ignoreOrigin:!0}}})],Ot.prototype,"layers",void 0),u([re("layers")],Ot.prototype,"writeLayers",null),u([f({type:$e})],Ot.prototype,"portalItem",void 0),u([f()],Ot.prototype,"resourceInfo",void 0),u([f({readOnly:!0,type:Gh,json:{read:{source:"version"},write:{allowNull:!0,ignoreOrigin:!0,target:"version",isRequired:!0}}})],Ot.prototype,"sourceVersion",void 0),u([X("sourceVersion")],Ot.prototype,"readSourceVersion",null),u([re("sourceVersion")],Ot.prototype,"writeSourceVersion",null),u([f({json:{read:!1,write:{ignoreOrigin:!0}}})],Ot.prototype,"tables",void 0),u([re("tables")],Ot.prototype,"writeTables",null),u([f()],Ot.prototype,"thumbnailUrl",null),u([f()],Ot.prototype,"updatingFromView",null),u([f({type:Jwe,json:{write:!0}})],Ot.prototype,"widgets",void 0),Ot=u([A("esri.WebDocument2D")],Ot);const _xe=Ot;let _E;async function $xe(){return _E==null&&(_E=ae(()=>import("./WhereClauseCache-759b8fc8.js"),["assets/WhereClauseCache-759b8fc8.js","assets/WhereClause-19211c9c.js"]).then(e=>new e.WhereClauseCache(500,500))),_E}async function Txe(e,t){const r=await $xe(),n=r.get(e,t);if(n==null)throw r.getError(e,t);return n}function Ux(e,t){return e||(e=null),t||(t=null),e==="1=1"?t??e:t==="1=1"?e??t:e&&t?`(${e}) AND (${t})`:e??t}function mP(e,t){return e||(e=null),t||(t=null),e==="1=1"||t==="1=1"||e===t?e==="1=1"?e:t:e&&t?`(${e}) OR (${t})`:e??t}function Oxe(e,t){return t.length===0?null:`${e} IN (${Exe(t)})`}function Exe(e){return e.map(t=>typeof t=="string"?jxe(t):t).join(",")}function jxe(e){return`'${e.replaceAll("'","''")}'`}function Axe(e){return typeof e=="number"}function Yet(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}function Qet(e){return typeof e=="boolean"}function y1(e){return typeof e=="string"||e instanceof String}function Ixe(e){return e==null||y1(e)}function Xet(e){return Array.isArray(e)}function vQ(e){return e?.declaredClass==="esri.Graphic"}function ett(e){return e instanceof Date}const Pxe="HH:mm",kxe="HH:mm:ss",Cxe="HH:mm:ss.SSS",Nxe=[Cxe,kxe,Pxe,"TT"],Mxe="yyyy-MM-dd";function N6(e){if(!e||!y1(e))return null;const t=he.fromFormat(e,Mxe);return t.isValid?t:null}function M6(e){return e&&y1(e)?Ape(Nxe,t=>{const r=he.fromFormat(e,t);return r.isValid?r:null})??null:null}function R6(e){if(!e||!y1(e))return null;const t=he.fromISO(e);return t.isValid?t:null}var F_;(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(F_||(F_={}));const bQ=new Set(["integer","small-integer","long","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"]);function Rxe(e){return e!=null&&bQ.has(e.type)}function wQ(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function xQ(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function SQ(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}const Lxe=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]);wJ(bQ,Lxe);function ttt(e,t){const r=t??e?.domain;if(!r||r.type!=="range")return;const n="range"in r?r.range[0]:r.minValue,i="range"in r?r.range[1]:r.maxValue,s=Rxe(e);return wQ(e)||SQ(e)||xQ(e)?{...Dxe(e,i,n),isInteger:s}:{min:n!=null&&typeof n=="number"?n:null,max:i!=null&&typeof i=="number"?i:null,rawMin:n,rawMax:i,isInteger:s}}function Dxe(e,t,r){return wQ(e)?{min:N6(r)?.toMillis(),max:N6(t)?.toMillis(),rawMin:r,rawMax:t}:SQ(e)?{min:M6(r)?.toMillis(),max:M6(t)?.toMillis(),rawMin:r,rawMax:t}:xQ(e)?{min:R6(r)?.toMillis(),max:R6(t)?.toMillis(),rawMin:r,rawMax:t}:{max:null,min:null}}function Fxe(e){if(!e)return;const t=e.match(Uxe);return t?.groups?t.groups.doubleQuoted??t.groups.singleQuoted??t.groups.dotNotation:void 0}const Uxe=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-zA-Z_][a-zA-Z0-9_]*))$/i;function zxe(e){return e.match(Bxe)?.[1]?.replace(/\\'/g,"'")??null}const Bxe=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;let $E;function Op(){return $E||($E=(async()=>{const[e,t,r]=await Promise.all([ae(()=>import("./arcadeUtils-df0398b6.js").then(n=>n.h),["assets/arcadeUtils-df0398b6.js","assets/aiServices-82e30916.js","assets/number-fb78a6c9.js","assets/commonProperties-da958896.js","assets/featureConversionUtils-ecf55d9c.js","assets/OptimizedFeature-eb8a9ca3.js","assets/memoryEstimations-95fc020c.js","assets/OptimizedFeatureSet-5dc8ee29.js","assets/WhereClause-19211c9c.js","assets/unitConversion-92a0790f.js"]),ae(()=>import("./batchExec-2e359ae7.js"),["assets/batchExec-2e359ae7.js","assets/QueueProcessor-68074791.js","assets/ReactiveMap-240c4127.js","assets/signal-3a81bd24.js"]),ae(()=>import("./aiServices-8f81532e.js"),["assets/aiServices-8f81532e.js","assets/aiServices-82e30916.js","assets/number-fb78a6c9.js","assets/commonProperties-da958896.js"])]);return{arcade:e.arcade,arcadeUtils:e,batchExec:t,aiServices:r,Dictionary:e.Dictionary,Feature:e.arcadeFeature,Voxel:e.Voxel}})()),$E}const Vxe=/^([0-9_])/,qxe=/[^a-z0-9_\u0080-\uffff]+/gi;function Gxe(e){return e==null?null:e.trim().replaceAll(qxe,"_").replace(Vxe,"F$1")||null}const Wxe=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],Hxe=["field","normalizationField"];function L6(e,t){if(e!=null&&t!=null){for(const r of Array.isArray(e)?e:[e])if(D6(Wxe,r,t),"visualVariables"in r&&r.visualVariables)for(const n of r.visualVariables)D6(Hxe,n,t)}}function D6(e,t,r){if(e)for(const n of e){const i=O$(n,t),s=i&&typeof i!="function"&&r.get(i);s&&or(n,s.name,t)}}function _Q(e,t){if(e!=null&&t?.fields?.length)if("startField"in e){const r=t.get(e.startField),n=t.get(e.endField);e.startField=r?.name??null,e.endField=n?.name??null}else{const r=t.get(e.startTimeField),n=t.get(e.endTimeField);e.startTimeField=r?.name??null,e.endTimeField=n?.name??null}}const TE=new Set;function JR(e,t){return e&&t?(TE.clear(),nT(TE,e,t),Array.from(TE).sort()):[]}function nT(e,t,r){if(r)if(t?.fields?.length)if(r.includes("*"))for(const{name:n}of t.fields)e.add(n);else for(const n of r)Yi(e,t,n);else{if(r.includes("*"))return e.clear(),void e.add("*");for(const n of r)n!=null&&e.add(n)}}function Yi(e,t,r){if(typeof r=="string")if(t){const n=t.get(r);n&&e.add(n.name)}else e.add(r)}function rtt(e,t){return t==null||e==null?[]:t.includes("*")?(e.fields??[]).map(r=>r.name):t}async function Fo(e,t,r){if(!r)return;let n;const i=Fxe(r);if(i)n=[i];else{const{arcadeUtils:s}=await Op();n=s.extractFieldNames(r,t?.fields?.map(o=>o.name))}for(const s of n)Yi(e,t,s)}function Jxe({displayField:e,fields:t}){return e||(t?.length?OE(t,"name-or-title")||OE(t,"unique-identifier")||OE(t,"type-or-category")||Kxe(t):null)}function Kxe(e){for(const t of e){if(!t?.name)continue;const r=t.name.toLowerCase();if(r.includes("name")||r.includes("title"))return t.name}return null}function OE(e,t){for(const r of e)if(r?.valueType&&r.valueType===t)return r.name;return null}function ntt(e){return e?JR(e.fieldsIndex,$Q(e)):[]}function Zxe(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?JR(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}const Yxe=new Set(["oid","globalThis-id","guid"]),Qxe=new Set(["oid","globalThis-id"]),Xxe=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/objectid/i,/^perimeter_/i,/_perimeter$/i,/_i$/i];function eSe(e){const t=new Set;TQ(e).forEach(n=>t.add(n)),Zxe(e).forEach(n=>t.add(n.toLowerCase()));const r=e&&"infoFor3D"in e?e.infoFor3D:void 0;return r&&(Object.values(r.assetMapFieldRoles).forEach(n=>t.add(n.toLowerCase())),Object.values(r.transformFieldRoles).forEach(n=>t.add(n.toLowerCase()))),Array.from(t)}function $Q(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:r,creatorField:n,editDateField:i,editorField:s}=t;return[r,n,i,s].filter(Boolean)}function TQ(e){return $Q(e).map(t=>t.toLowerCase())}function tSe(e,t){return e.editable&&!Yxe.has(e.type)&&!TQ(t).includes(e.name?.toLowerCase()??"")}function rSe(e,t){const r=e.name?.toLowerCase()??"";return!(t?.objectIdField!=null&&r===t.objectIdField.toLowerCase()||t?.globalIdField!=null&&r===t.globalIdField.toLowerCase()||eSe(t).includes(r)||Qxe.has(e.type)||Xxe.some(n=>n.test(r)))}function nSe(e){const t=e.defaultValue;return t!==void 0&&EQ(e,t)?t:e.nullable?null:void 0}function itt(e){const t=typeof e=="string"?{type:e}:e;return IQ(t)?255:t.type==="esriFieldTypeDate"||t.type==="date"?8:void 0}function OQ(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function iSe(e){return e===null||OQ(e)}function sSe(e){return e===null||Number.isInteger(e)}function oSe(){return!0}function EQ(e,t){let r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":r=e.nullable?sSe:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?iSe:OQ;break;case"string":case"esriFieldTypeString":r=e.nullable?Ixe:y1;break;default:r=oSe}return arguments.length===1?r:r(t)}const aSe=["integer","small-integer","big-integer","long"],lSe=["single","double"],uSe=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"],cSe=["esriFieldTypeSingle","esriFieldTypeDouble"],jQ=new Set([...aSe,...uSe]),dSe=new Set([...lSe,...cSe]),pSe=wJ(jQ,dSe);function fSe(e){return e!=null&&jQ.has(e.type)}function AQ(e){return e!=null&&pSe.has(e.type)}function IQ(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}function hSe(e){return e!=null&&(e.type==="date"||e.type==="esriFieldTypeDate")}function stt(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function ott(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function ySe(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function F6(e){return e!=null&&(e.type==="oid"||e.type==="esriFieldTypeOID")}function U6(e){return e!=null&&(e.type==="globalThis-id"||e.type==="esriFieldTypeGlobalID")}function att(e,t){return mSe(e,t)===null}var U_,z_;function ltt(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function mSe(e,t){return e==null||e.nullable&&t===null?null:EQ(e,t)?AQ(e)&&!gSe(e.type,Number(t))?U_.OUT_OF_RANGE:null:z_.INVALID_TYPE}function gSe(e,t){const r=typeof e=="string"?PQ(e):e;if(!r)return!1;const n=r.min,i=r.max;return r.isInteger?Number.isInteger(t)&&t>=n&&t<=i:t>=n&&t<=i}function PQ(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return vSe;case"esriFieldTypeInteger":case"esriFieldTypeLong":case"integer":case"long":return bSe;case"esriFieldTypeBigInteger":case"big-integer":return wSe;case"esriFieldTypeSingle":case"single":return xSe;case"esriFieldTypeDouble":case"double":return SSe}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(U_||(U_={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(z_||(z_={}));const vSe={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},bSe={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},wSe={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},xSe={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},SSe={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function utt(e,t,r){switch(e){case F_.INVALID_CODED_VALUE:return`Value ${r} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case F_.VALUE_OUT_OF_RANGE:return`Value ${r} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case z_.INVALID_TYPE:return`Value ${r} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case U_.OUT_OF_RANGE:{const{min:n,max:i}=PQ(t.type);return`Value ${r} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${n} to ${i}`}}}function _Se(e,t){return!$Se(e,t,null)}function $Se(e,t,r){if(!e?.attributes||!t){if(r!=null)for(const s of t??[])r.add(s);return!0}const n=new Set(Object.keys(e.attributes));let i=!1;for(const s of t)if(!n.has(s)){if(i=!0,r==null)break;r.add(s)}return i}function TSe(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}function KR(e){const t=e?.match(/{[^}]+}/g);return t?t.map(r=>r.slice(1,-1).split(":")[0].trim()):[]}let zx=class extends z{constructor(t){super(t),this.type=null}};u([f({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],zx.prototype,"type",void 0),zx=u([A("esri.popup.content.Content")],zx);const Hl=zx,mw=new Pe({asc:"ascending",desc:"descending"});let I0=class extends Se.ClonableMixin(z){constructor(t){super(t),this.field=null,this.order="ascending"}};u([f({type:String,json:{write:!0}})],I0.prototype,"field",void 0),u([f({type:mw.apiValues,json:{type:mw.jsonValues,read:mw.read,write:mw.write}})],I0.prototype,"order",void 0),I0=u([A("esri.popup.support.AttachmentsOrderByInfo")],I0);const OSe=I0;let hu=class extends Se.ClonableMixin(Hl){constructor(t){super(t),this.description=null,this.displayType="auto",this.orderByFields=null,this.title=null,this.type="attachments"}};u([f({type:String,json:{write:!0}})],hu.prototype,"description",void 0),u([f({type:["auto","preview","list"],json:{write:!0}})],hu.prototype,"displayType",void 0),u([f({type:[OSe],json:{write:!0}})],hu.prototype,"orderByFields",void 0),u([f({type:String,json:{write:!0}})],hu.prototype,"title",void 0),u([f({type:["attachments"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],hu.prototype,"type",void 0),hu=u([A("esri.popup.content.AttachmentsContent")],hu);const gy=hu;var gP;let sd=gP=class extends Hl{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new gP({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?D(this.outFields):null})}};u([f()],sd.prototype,"creator",void 0),u([f()],sd.prototype,"destroyer",void 0),u([f()],sd.prototype,"outFields",void 0),u([f({type:["custom"],readOnly:!0})],sd.prototype,"type",void 0),sd=gP=u([A("esri.popup.content.CustomContent")],sd);const ESe=sd;var vP;let Tf=vP=class extends z{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new vP({title:this.title,expression:this.expression})}};u([f({type:String,json:{write:!0}})],Tf.prototype,"title",void 0),u([f({type:String,json:{write:!0}})],Tf.prototype,"expression",void 0),u([f({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Tf.prototype,"returnType",void 0),Tf=vP=u([A("esri.popup.ElementExpressionInfo")],Tf);const jSe=Tf;var bP;let P0=bP=class extends Hl{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){return new bP({expressionInfo:this.expressionInfo?.clone()})}};u([f({type:jSe,json:{write:!0}})],P0.prototype,"expressionInfo",void 0),u([f({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],P0.prototype,"type",void 0),P0=bP=u([A("esri.popup.content.ExpressionContent")],P0);const iT=P0;let Of=class extends Se.ClonableMixin(z){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};u([ye(Cge)],Of.prototype,"dateFormat",void 0),u([f({type:Boolean,json:{write:!0}})],Of.prototype,"digitSeparator",void 0),u([f({type:Be,json:{write:!0}})],Of.prototype,"places",void 0),Of=u([A("esri.popup.support.FieldInfoFormat")],Of);const Bx=Of;var wP;let Ys=wP=class extends z{constructor(e){super(e),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new wP({fieldName:this.fieldName,format:this.format?.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};u([f({type:String,json:{write:!0}})],Ys.prototype,"fieldName",void 0),u([f({type:Bx,json:{write:!0}})],Ys.prototype,"format",void 0),u([f({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],Ys.prototype,"isEditable",void 0),u([f({type:String,json:{write:!0}})],Ys.prototype,"label",void 0),u([ye(new Pe({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],Ys.prototype,"stringFieldOption",void 0),u([f({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],Ys.prototype,"statisticType",void 0),u([f({type:String,json:{write:!0}})],Ys.prototype,"tooltip",void 0),u([f({type:Boolean,json:{write:!0}})],Ys.prototype,"visible",void 0),Ys=wP=u([A("esri.popup.FieldInfo")],Ys);const ZR=Ys;var xP;let qa=xP=class extends Hl{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(r=>r.toJSON())}clone(){return new xP(D({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};u([f({type:Object,json:{write:!0}})],qa.prototype,"attributes",void 0),u([f({type:String,json:{write:!0}})],qa.prototype,"description",void 0),u([f({type:[ZR]})],qa.prototype,"fieldInfos",void 0),u([re("fieldInfos")],qa.prototype,"writeFieldInfos",null),u([f({type:String,json:{write:!0}})],qa.prototype,"title",void 0),u([f({type:["fields"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],qa.prototype,"type",void 0),qa=xP=u([A("esri.popup.content.FieldsContent")],qa);const vy=qa;let od=class extends z{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};u([f({type:String,json:{write:!0}})],od.prototype,"altText",void 0),u([f({type:String,json:{write:!0}})],od.prototype,"caption",void 0),u([f({type:String,json:{write:!0}})],od.prototype,"title",void 0),u([f({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],od.prototype,"type",void 0),od=u([A("esri.popup.content.mixins.MediaInfo")],od);const YR=od;var SP;let ad=SP=class extends ft{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new SP({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};u([f()],ad.prototype,"color",void 0),u([f()],ad.prototype,"fieldName",void 0),u([f()],ad.prototype,"tooltip",void 0),u([f()],ad.prototype,"value",void 0),ad=SP=u([A("esri.popup.content.support.ChartMediaInfoValueSeries")],ad);const ASe=ad;var _P;let yu=_P=class extends z{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new _P({colors:D(this.colors),fields:D(this.fields),normalizeField:this.normalizeField,series:D(this.series),tooltipField:this.tooltipField})}};u([f({type:[Me],json:{type:[[Be]],write:!0}})],yu.prototype,"colors",void 0),u([f({type:[String],json:{write:{isRequired:!0}}})],yu.prototype,"fields",void 0),u([f({type:String,json:{write:!0}})],yu.prototype,"normalizeField",void 0),u([f({type:[ASe],json:{read:!1}})],yu.prototype,"series",void 0),u([f({type:String,json:{write:!0}})],yu.prototype,"tooltipField",void 0),yu=_P=u([A("esri.popup.content.support.ChartMediaInfoValue")],yu);const ISe=yu;let k0=class extends YR{constructor(t){super(t),this.type=null,this.value=void 0}};u([f({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],k0.prototype,"type",void 0),u([f({type:ISe,json:{write:{isRequired:!0}}})],k0.prototype,"value",void 0),k0=u([A("esri.popup.content.mixins.ChartMediaInfo")],k0);const sT=k0,oT=Ar()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var $P;let Vx=$P=class extends sT{constructor(e){super(e),this.type="bar-chart"}clone(){return new $P({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};u([f({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:{writer:oT.write,isRequired:!0}}})],Vx.prototype,"type",void 0),Vx=$P=u([A("esri.popup.content.BarChartMediaInfo")],Vx);const kQ=Vx;var TP;let qx=TP=class extends sT{constructor(e){super(e),this.type="column-chart"}clone(){return new TP({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};u([f({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:{writer:oT.write,isRequired:!0}}})],qx.prototype,"type",void 0),qx=TP=u([A("esri.popup.content.ColumnChartMediaInfo")],qx);const CQ=qx;var OP;let C0=OP=class extends z{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new OP({linkURL:this.linkURL,sourceURL:this.sourceURL})}};u([f({type:String,json:{write:!0}})],C0.prototype,"linkURL",void 0),u([f({type:String,json:{write:{isRequired:!0}}})],C0.prototype,"sourceURL",void 0),C0=OP=u([A("esri.popup.content.support.ImageMediaInfoValue")],C0);const PSe=C0;var EP;let Ef=EP=class extends YR{constructor(e){super(e),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){return new EP({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};u([f({type:Number,json:{write:!0}})],Ef.prototype,"refreshInterval",void 0),u([f({type:["image"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Ef.prototype,"type",void 0),u([f({type:PSe,json:{write:{isRequired:!0}}})],Ef.prototype,"value",void 0),Ef=EP=u([A("esri.popup.content.ImageMediaInfo")],Ef);const NQ=Ef;var jP;let Gx=jP=class extends sT{constructor(e){super(e),this.type="line-chart"}clone(){return new jP({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};u([f({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:{writer:oT.write,isRequired:!0}}})],Gx.prototype,"type",void 0),Gx=jP=u([A("esri.popup.content.LineChartMediaInfo")],Gx);const MQ=Gx;var AP;let Wx=AP=class extends sT{constructor(e){super(e),this.type="pie-chart"}clone(){return new AP({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};u([f({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:{writer:oT.write,isRequired:!0}}})],Wx.prototype,"type",void 0),Wx=AP=u([A("esri.popup.content.PieChartMediaInfo")],Wx);const RQ=Wx,IP={base:YR,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":kQ,"column-chart":CQ,"line-chart":MQ,"pie-chart":RQ,image:NQ}};var PP;let Qs=PP=class extends Hl{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?NQ.fromJSON(t):t.type==="barchart"?kQ.fromJSON(t):t.type==="columnchart"?CQ.fromJSON(t):t.type==="linechart"?MQ.fromJSON(t):t.type==="piechart"?RQ.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(r=>r.toJSON())}clone(){return new PP(D({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};u([f()],Qs.prototype,"activeMediaInfoIndex",void 0),u([f({type:Object,json:{write:!0}})],Qs.prototype,"attributes",void 0),u([f({type:String,json:{write:!0}})],Qs.prototype,"description",void 0),u([f({types:[IP]})],Qs.prototype,"mediaInfos",void 0),u([X("mediaInfos")],Qs.prototype,"readMediaInfos",null),u([re("mediaInfos")],Qs.prototype,"writeMediaInfos",null),u([f({type:String,json:{write:!0}})],Qs.prototype,"title",void 0),u([f({type:["media"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Qs.prototype,"type",void 0),Qs=PP=u([A("esri.popup.content.MediaContent")],Qs);const Iv=Qs;var kP;let N0=kP=class extends z{constructor(e){super(e),this.field=null,this.order=null}clone(){return new kP({field:this.field,order:this.order})}};u([f({type:String,json:{write:!0}})],N0.prototype,"field",void 0),u([f({type:["asc","desc"],json:{write:!0}})],N0.prototype,"order",void 0),N0=kP=u([A("esri.popup.support.RelatedRecordsInfoFieldOrder")],N0);const QR=N0;let Zo=class extends Se.ClonableMixin(Hl){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};u([f({type:String,json:{write:!0}})],Zo.prototype,"description",void 0),u([f({type:Number,json:{type:Be,write:!0}})],Zo.prototype,"displayCount",void 0),u([f({type:["list"],json:{write:{isRequired:!0}}})],Zo.prototype,"displayType",void 0),u([f({type:[QR],json:{write:!0}})],Zo.prototype,"orderByFields",void 0),u([f({type:Number,json:{type:Be,write:{isRequired:!0}}})],Zo.prototype,"relationshipId",void 0),u([f({type:String,json:{write:!0}})],Zo.prototype,"title",void 0),u([f({type:["relationship"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Zo.prototype,"type",void 0),Zo=u([A("esri.popup.content.RelationshipContent")],Zo);const Pv=Zo;var CP;let M0=CP=class extends Hl{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new CP({text:this.text})}};u([f({type:String,json:{write:!0}})],M0.prototype,"text",void 0),u([f({type:["text"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],M0.prototype,"type",void 0),M0=CP=u([A("esri.popup.content.TextContent")],M0);const kv=M0;let Ga=class extends Se.ClonableMixin(z){constructor(t){super(t),this.title=null,this.description=null,this.type=null,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};u([f({type:String,json:{write:!0}})],Ga.prototype,"title",void 0),u([f({type:String,json:{write:!0}})],Ga.prototype,"description",void 0),u([f({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],Ga.prototype,"type",void 0),u([f({type:Number,json:{type:Be,write:!0}})],Ga.prototype,"associatedNetworkSourceId",void 0),u([f({type:Number,json:{type:Be,write:!0}})],Ga.prototype,"associatedAssetGroup",void 0),u([f({type:Number,json:{type:Be,write:!0}})],Ga.prototype,"associatedAssetType",void 0),Ga=u([A("esri.popup.support.UtilityNetworkAssociationType")],Ga);const LQ=Ga;let mu=class extends Se.ClonableMixin(Hl){constructor(t){super(t),this.description=null,this.displayCount=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};u([f({type:String,json:{write:!0}})],mu.prototype,"description",void 0),u([f({type:Number,json:{type:Be,write:!0}})],mu.prototype,"displayCount",void 0),u([f({type:String,json:{write:!0}})],mu.prototype,"title",void 0),u([f({type:[LQ],json:{write:!0}})],mu.prototype,"associationTypes",void 0),u([ye({utilityNetworkAssociations:"utility-network-associations"})],mu.prototype,"type",void 0),mu=u([A("esri.popup.content.UtilityNetworkAssociationsContent")],mu);const XR=mu,kSe={base:null,key:"type",typeMap:{attachment:gy,media:Iv,text:kv,expression:iT,field:vy,relationship:Pv,utilityNetworkAssociations:XR}},CSe={base:null,key:"type",typeMap:{attachment:gy,media:Iv,text:kv,expression:iT,field:vy,relationship:Pv}};var NP;let ld=NP=class extends z{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new NP({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};u([f({type:String,json:{write:!0}})],ld.prototype,"name",void 0),u([f({type:String,json:{write:!0}})],ld.prototype,"title",void 0),u([f({type:String,json:{write:!0}})],ld.prototype,"expression",void 0),u([f({type:["string","number"],json:{write:!0}})],ld.prototype,"returnType",void 0),ld=NP=u([A("esri.popup.ExpressionInfo")],ld);const NSe=ld;var MP;let R0=MP=class extends z{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new MP({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};u([f({type:Boolean,json:{write:!0}})],R0.prototype,"returnTopmostRaster",void 0),u([f({type:Boolean,json:{write:!0}})],R0.prototype,"showNoDataRecords",void 0),R0=MP=u([A("esri.popup.LayerOptions")],R0);const MSe=R0;var RP;let L0=RP=class extends z{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new RP({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?D(this.orderByFields):null})}};u([f({type:Boolean,json:{write:!0}})],L0.prototype,"showRelatedRecords",void 0),u([f({type:[QR],json:{write:!0}})],L0.prototype,"orderByFields",void 0),L0=RP=u([A("esri.popup.RelatedRecordsInfo")],L0);const z6=L0;var LP;let cs=LP=class extends zR.IdentifiableMixin(ft){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new LP({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};u([f()],cs.prototype,"active",void 0),u([f()],cs.prototype,"className",void 0),u([f()],cs.prototype,"disabled",void 0),u([f()],cs.prototype,"icon",void 0),u([f()],cs.prototype,"id",void 0),u([f()],cs.prototype,"indicator",void 0),u([f()],cs.prototype,"title",void 0),u([f()],cs.prototype,"type",void 0),u([f()],cs.prototype,"visible",void 0),cs=LP=u([A("esri.support.actions.ActionBase")],cs);const eL=cs;var DP;let Hx=DP=class extends eL{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new DP({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};u([f()],Hx.prototype,"image",void 0),Hx=DP=u([A("esri.support.actions.ActionButton")],Hx);const RSe=Hx;var FP;let D0=FP=class extends eL{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new FP({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};u([f()],D0.prototype,"image",void 0),u([f()],D0.prototype,"value",void 0),D0=FP=u([A("esri.support.actions.ActionToggle")],D0);const LSe=D0,Ym="relationships/",B6="expression/",DSe=Te.ofType({key:"type",defaultKeyValue:"button",base:eL,typeMap:{button:RSe,toggle:LSe}}),FSe={base:Hl,key:"type",typeMap:{media:Iv,custom:ESe,text:kv,attachments:gy,fields:vy,expression:iT,relationship:Pv,utilityNetworkAssociations:XR}},DQ=new Set(["attachments","fields","media","text","expression","relationship"]),USe=new Set([...DQ,"utility-network-associations"]);let wr=class extends Se.ClonableMixin(z){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(r=>$a(FSe,r)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||rm(t)?t:(ce.getLogger(this).error("content error","unsupported content value",{value:t}),null)}readContent(t,r){const{popupElements:n}=r;return Array.isArray(n)&&n.length>0?this._readPopupInfoElements(r.description,r.mediaInfos,n):this._readPopupInfo(r)}writeWebSceneContent(t,r,n,i){this._writePopupTemplateContent(t,r,i)}writeWebMapContent(t,r,n,i){this._writePopupTemplateContent(t,r,i)}writeFieldInfos(t,r,n,i){const{content:s}=this,o=Array.isArray(s)?s:null;if(t){const a=o?o.filter(c=>c.type==="fields"):[],l=a.length&&a.every(c=>c.fieldInfos?.length);r.fieldInfos=t.filter(Boolean).map(c=>{const d=c.toJSON(i);return l&&(d.visible=!1),d})}if(o)for(const a of o)a.type==="fields"&&this._writeFieldsContent(a,r)}writeLayerOptions(t,r,n,i){r[n]=!t||t.showNoDataRecords===null&&t.returnTopmostRaster===null?null:t.toJSON(i)}writeTitle(t,r){r.title=t||""}async collectRequiredFields(t,r){const n=this.expressionInfos||[];await this._collectExpressionInfoFields(t,r,[...n,...this._getContentExpressionInfos(this.content,n)]),nT(t,r,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t){const r=new Set;return await this.collectRequiredFields(r,t),[...r].sort()}_writePopupTemplateContent(t,r,n){typeof t!="string"?Array.isArray(t)&&(r.popupElements=t.filter(i=>n?.origin==="web-scene"?DQ.has(i.type):USe.has(i.type)).map(i=>i?.toJSON(n)),r.popupElements.forEach(i=>{i.type==="attachments"?this._writeAttachmentContent(r):i.type==="media"?this._writeMediaContent(i,r):i.type==="text"?this._writeTextContent(i,r):i.type==="relationship"&&this._writeRelationshipContent(i,r)})):r.description=t}_writeFieldsContent(t,r){if(!Array.isArray(t.fieldInfos)||!t.fieldInfos.length)return;const n=D(t.fieldInfos);Array.isArray(r.fieldInfos)?n.forEach(i=>{const s=r.fieldInfos.find(o=>o.fieldName?.toLowerCase()===i.fieldName?.toLowerCase());s?s.visible=!0:r.fieldInfos.push(i)}):r.fieldInfos=n}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,r){const n=t.orderByFields?.map(s=>this._toFieldOrderJSON(s,t.relationshipId))||[],i=[...r.relatedRecordsInfo?.orderByFields||[],...n];r.relatedRecordsInfo={showRelatedRecords:!0,...i?.length&&{orderByFields:i}}}_writeTextContent(t,r){!r.description&&t.text&&(r.description=t.text)}_writeMediaContent(t,r){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const n=D(t.mediaInfos);Array.isArray(r.mediaInfos)?r.mediaInfos=[...r.mediaInfos,...n]:r.mediaInfos=n}_readPopupInfoElements(t,r,n){const i={description:!1,mediaInfos:!1};return n.map(s=>s.type==="media"?(s.mediaInfos||!r||i.mediaInfos||(s.mediaInfos=r,i.mediaInfos=!0),Iv.fromJSON(s)):s.type==="text"?(s.text||!t||i.description||(s.text=t,i.description=!0),kv.fromJSON(s)):s.type==="attachments"?gy.fromJSON(s):s.type==="fields"?vy.fromJSON(s):s.type==="expression"?iT.fromJSON(s):s.type==="relationship"?Pv.fromJSON(s):s.type==="utilityNetworkAssociations"?XR.fromJSON(s):void 0).filter(Boolean)}_toRelationshipContent(t){const{field:r,order:n}=t;if(!r?.startsWith(Ym))return null;const i=r.replace(Ym,"").split("/");if(i.length!==2)return null;const s=parseInt(i[0],10),o=i[1];return!Number.isNaN(s)&&o?Pv.fromJSON({relationshipId:s,orderByFields:[{field:o,order:n}]}):null}_toFieldOrderJSON(t,r){const{order:n,field:i}=t;return{field:`${Ym}${r}/${i}`,order:n}}_readPopupInfo({description:t,mediaInfos:r,showAttachments:n,relatedRecordsInfo:i={showRelatedRecords:!1}}){const s=[];t?s.push(new kv({text:t})):s.push(new vy),Array.isArray(r)&&r.length&&s.push(Iv.fromJSON({mediaInfos:r})),n&&s.push(gy.fromJSON({displayType:"auto"}));const{showRelatedRecords:o,orderByFields:a}=i;return o&&a?.length&&a.forEach(l=>{const c=this._toRelationshipContent(l);c&&s.push(c)}),s.length?s:t}_getContentElementFields(t){const r=t?.type;if(r==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(r==="custom")return t.outFields||[];if(r==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(r==="media"){const n=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...n.reduce((i,s)=>[...i,...this._getMediaInfoFields(s)],[])]}return r==="text"?this._extractFieldNames(t.text):r==="relationship"||r==="utility-network-associations"?[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)]:[]}_getMediaInfoFields(t){const{caption:r,title:n,value:i}=t,s=i||{},{fields:o,normalizeField:a,tooltipField:l,sourceURL:c,linkURL:d}=s,p=[...this._extractFieldNames(n),...this._extractFieldNames(r),...this._extractFieldNames(c),...this._extractFieldNames(d),...o??[]];return a&&p.push(a),l&&p.push(l),p}_getContentExpressionInfos(t,r){return Array.isArray(t)?t.reduce((n,i)=>[...n,...i.type==="expression"&&i.expressionInfo?[i.expressionInfo]:[]],r):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((r,n)=>[...r,...this._getContentElementFields(n)],[]):[]}async _collectExpressionInfoFields(t,r,n){n&&await Promise.all(n.map(i=>Fo(t,r,i.expression)))}_getFieldInfoFields(t){return t?t.filter(({fieldName:r,visible:n})=>!(n!==void 0&&!n||!r||r.startsWith(Ym)||r.startsWith(B6))).map(r=>r.fieldName):[]}_getActionsFields(t){return t?t.toArray().reduce((r,n)=>[...r,...this._getActionFields(n)],[]):[]}_getActionFields(t){const{className:r,title:n,type:i}=t,s=i==="button"||i==="toggle"?t.image:"";return[...this._extractFieldNames(n),...this._extractFieldNames(r),...this._extractFieldNames(s)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){return KR(t).filter(r=>!(r.indexOf(Ym)===0||r.indexOf(B6)===0))}};u([f({type:DSe})],wr.prototype,"actions",void 0),u([f()],wr.prototype,"content",void 0),u([ht("content")],wr.prototype,"castContent",null),u([X("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],wr.prototype,"readContent",null),u([re("web-scene","content",{popupElements:{type:Te.ofType(CSe)},showAttachments:{type:Boolean},mediaInfos:{type:Te.ofType(IP)},description:{type:String},relatedRecordsInfo:{type:z6}})],wr.prototype,"writeWebSceneContent",null),u([re("content",{popupElements:{type:Te.ofType(kSe)},showAttachments:{type:Boolean},mediaInfos:{type:Te.ofType(IP)},description:{type:String},relatedRecordsInfo:{type:z6}})],wr.prototype,"writeWebMapContent",null),u([f({type:[NSe],json:{write:!0}})],wr.prototype,"expressionInfos",void 0),u([f({type:[ZR]})],wr.prototype,"fieldInfos",void 0),u([re("fieldInfos")],wr.prototype,"writeFieldInfos",null),u([f({type:MSe})],wr.prototype,"layerOptions",void 0),u([re("layerOptions")],wr.prototype,"writeLayerOptions",null),u([f({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],wr.prototype,"lastEditInfoEnabled",void 0),u([f()],wr.prototype,"outFields",void 0),u([f()],wr.prototype,"overwriteActions",void 0),u([f()],wr.prototype,"returnGeometry",void 0),u([f({json:{type:String}})],wr.prototype,"title",void 0),u([re("title")],wr.prototype,"writeTitle",null),wr=u([A("esri.PopupTemplate")],wr);const pm=wr;function wtt(e,t){switch(t.type){case"object-id":case"unique-id-simple":return e.attributes[t.fieldName];case"unique-id-composite":{const r=[];for(const n of t.fieldNames)r.push(e.attributes[n]??null);return JSON.stringify(r)}}}function zSe(e,t){if("uniqueIdFields"in t&&t.uniqueIdFields?.length){if(t.uniqueIdFields.length===1)return e.attributes?.[t.uniqueIdFields[0]];const r=t.uniqueIdFields.map(n=>e.attributes?.[n]);return JSON.stringify(r)}return"objectIdField"in t&&t.objectIdField?e.attributes?.[t.objectIdField]:null}const V6=new Pe({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let BSe=0,sr=class extends z{constructor(t){super(t),this.id="sym"+BSe++,this.type=null,this.color=new Me([0,0,0,1])}readColor(t){return t?.[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,r){}hash(){return JSON.stringify(this.toJSON())}clone(){}};u([f({type:V6.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:V6.write,isRequired:!0}}})],sr.prototype,"type",void 0),u([f({type:Me,json:{write:{allowNull:!0}}})],sr.prototype,"color",void 0),u([X("color")],sr.prototype,"readColor",null),sr=u([A("esri.symbols.Symbol")],sr);var UP;let Nn=UP=class extends sr{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){if(this.data?.type==="CIMSymbolReference"){const r=this.data.primitiveOverrides;if(r){const n=r.map(i=>{const s=i.valueExpressionInfo;return s?Fo(e,t,s.expression):null});await Promise.all(n)}}}clone(){return new UP({data:D(this.data)})}hash(){return wH(JSON.stringify(this.data)).toString()}};u([f({json:{write:!1}})],Nn.prototype,"color",void 0),u([f({json:{write:!0}})],Nn.prototype,"data",void 0),u([X("data",["symbol"])],Nn.prototype,"readData",null),u([re("data",{})],Nn.prototype,"writeData",null),u([ye({CIMSymbolReference:"cim"},{readOnly:!0})],Nn.prototype,"type",void 0),Nn=UP=u([A("esri.symbols.CIMSymbol")],Nn);let Yn=class extends z{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,r,n){t||(r[n]=t)}};u([f({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],Yn.prototype,"enabled",void 0),u([re("enabled")],Yn.prototype,"writeEnabled",null),u([f({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0,json:{write:{isRequired:!0}}})],Yn.prototype,"type",void 0),Yn=u([A("esri.symbols.Symbol3DLayer")],Yn);function VSe(e,t){const r=t.transparency!=null?Ev(t.transparency):1,n=t.color;return n&&Array.isArray(n)?new Me([n[0]||0,n[1]||0,n[2]||0,r]):null}function qSe(e,t){t.color=e.toJSON().slice(0,3);const r=Z$(e.a);r!==0&&(t.transparency=r)}function Mc(e){return{type:Me,nonNullable:e?.nonNullable,json:{type:[Be],default:null,read:{source:["color","transparency"],reader:VSe},write:{target:{color:{type:[Be],isRequired:e?.colorRequiredOnWrite},transparency:{type:Be}},writer:qSe}}}}const Oa={type:Number,cast:He,json:{write:!0}};var q6;(function(e){e[e.Emissive=0]="Emissive",e[e.Color=1]="Color"})(q6||(q6={}));let ud=class extends z{constructor(t){super(t),this.color=new Me([0,0,0,1]),this.extensionLength=0,this.size=Ms(1)}clone(){}cloneProperties(){return{color:D(this.color),size:this.size,extensionLength:this.extensionLength}}};u([f({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],ud.prototype,"type",void 0),u([f(Mc({colorRequiredOnWrite:!0}))],ud.prototype,"color",void 0),u([f({...Oa,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],ud.prototype,"extensionLength",void 0),u([f(Oa)],ud.prototype,"size",void 0),ud=u([A("esri.symbols.edges.Edges3D")],ud);const tL=ud;var zP;let Jx=zP=class extends tL{constructor(e){super(e),this.type="sketch"}clone(){return new zP(this.cloneProperties())}};u([ye({sketch:"sketch"},{readOnly:!0})],Jx.prototype,"type",void 0),Jx=zP=u([A("esri.symbols.edges.SketchEdges3D")],Jx);const GSe=Jx;var BP;let Kx=BP=class extends tL{constructor(e){super(e),this.type="solid"}clone(){return new BP(this.cloneProperties())}};u([ye({solid:"solid"},{readOnly:!0})],Kx.prototype,"type",void 0),Kx=BP=u([A("esri.symbols.edges.SolidEdges3D")],Kx);const FQ=Kx,UQ={types:{key:"type",base:tL,typeMap:{solid:FQ,sketch:GSe}},json:{write:!0}};var VP;let fh=VP=class extends z{constructor(){super(...arguments),this.strength=null,this.source="emissive"}clone(){const e={strength:this.strength,source:this.source};return new VP(e)}};u([f({json:{write:!1}})],fh.prototype,"strength",void 0),u([f({json:{write:!1}})],fh.prototype,"source",void 0),fh=VP=u([A("esri.symbols.support.Symbol3DEmissive")],fh);var qP;let Wi=qP=class extends z{constructor(e){super(e),this.color=null,this.emissive=new fh({source:"emissive"})}clone(){const e={color:this.color?.clone()??null,emissive:this.emissive?.clone()??null};return new qP(e)}};u([f(Mc())],Wi.prototype,"color",void 0),u([f({type:fh,json:{write:!1}})],Wi.prototype,"emissive",void 0),Wi=qP=u([A("esri.symbols.support.Symbol3DMaterial")],Wi);var GP,_b;let nl=(_b=class extends Yn{constructor(t){super(t),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new GP({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}},GP=_b,_b);u([ye({Extrude:"extrude"},{readOnly:!0})],nl.prototype,"type",void 0),u([f({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],nl.prototype,"size",void 0),u([f({type:Wi,json:{write:!0}})],nl.prototype,"material",void 0),u([f({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],nl.prototype,"castShadows",void 0),u([f(UQ)],nl.prototype,"edges",void 0),nl=GP=u([A("esri.symbols.ExtrudeSymbol3DLayer")],nl);let kg=class extends z{constructor(t){super(t)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};u([f({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],kg.prototype,"type",void 0),kg=u([A("esri.symbols.patterns.LinePattern3D")],kg);const WSe=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var WP;const HSe=Ar()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let qd=WP=class extends kg{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new WP(e)}};u([f({type:["style"],json:{write:{isRequired:!0}}})],qd.prototype,"type",void 0),u([ye(HSe),f({type:WSe,json:{write:{isRequired:!0}}})],qd.prototype,"style",void 0),qd=WP=u([A("esri.symbols.patterns.LineStylePattern3D")],qd);let Cg=class extends z{constructor(t){super(t),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};u([f({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Cg.prototype,"type",void 0),Cg=u([A("esri.symbols.patterns.Pattern3D")],Cg);const JSe=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var HP;let hh=HP=class extends Cg{constructor(e){super(e),this.type="style",this.style="solid"}clone(){return new HP({style:this.style})}};u([f({type:["style"],json:{write:{isRequired:!0}}})],hh.prototype,"type",void 0),u([f({type:JSe,json:{read:!0,write:{isRequired:!0}}})],hh.prototype,"style",void 0),hh=HP=u([A("esri.symbols.patterns.StylePattern3D")],hh);const KSe={types:{key:"type",base:Cg,typeMap:{style:hh}},json:{write:!0}},zQ={types:{key:"type",base:kg,typeMap:{style:qd}},json:{write:!0}},Ng=new Me("white"),ZSe=new Me([255,255,255,0]);function YSe(e){return e.r===0&&e.g===0&&e.b===0}var JP;let Mg=JP=class extends Wi{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:this.color?.clone()??null,colorMixMode:this.colorMixMode,emissive:this.emissive?.clone()??null};return new JP(e)}};u([ye({multiply:"multiply",replace:"replace",tint:"tint"})],Mg.prototype,"colorMixMode",void 0),Mg=JP=u([A("esri.symbols.support.Symbol3DFillMaterial")],Mg);function QSe(e,t=!1){return e<=fH?t?new Array(e).fill(0):new Array(e):new Float64Array(e)}function Ott(e){return(Lde(e)?e.byteLength/8:e.length)<=fH?Array.from(e):new Float64Array(e)}function Ett(e,t,r){return Array.isArray(e)?e.slice(t,t+r):e.subarray(t,t+r)}function m1(e=i_e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function rL(e,t,r,n,i,s,o=m1()){return o[0]=e,o[1]=t,o[2]=r,o[3]=n,o[4]=i,o[5]=s,o}function jtt(e,t=m1()){return XSe(e,0,e.length/3,t)}function XSe(e,t,r,n=m1()){return BQ(n,KP),e_e(n,e,t,r),n}function Att(e,t=QSe(24)){const[r,n,i,s,o,a]=e;return t[0]=r,t[1]=n,t[2]=i,t[3]=r,t[4]=n,t[5]=a,t[6]=r,t[7]=o,t[8]=i,t[9]=r,t[10]=o,t[11]=a,t[12]=s,t[13]=n,t[14]=i,t[15]=s,t[16]=n,t[17]=a,t[18]=s,t[19]=o,t[20]=i,t[21]=s,t[22]=o,t[23]=a,t}function Itt(e,t){const r=isFinite(e[2])||isFinite(e[5]);return new ze(r?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function Ptt(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function ktt(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function e_e(e,t,r=0,n=t.length/3){let i=e[0],s=e[1],o=e[2],a=e[3],l=e[4],c=e[5];for(let d=0;d<n;d++)i=Math.min(i,t[r+3*d]),s=Math.min(s,t[r+3*d+1]),o=Math.min(o,t[r+3*d+2]),a=Math.max(a,t[r+3*d]),l=Math.max(l,t[r+3*d+1]),c=Math.max(c,t[r+3*d+2]);e[0]=i,e[1]=s,e[2]=o,e[3]=a,e[4]=l,e[5]=c}function t_e(e){return e[0]>=e[3]?0:e[3]-e[0]}function r_e(e){return e[1]>=e[4]?0:e[4]-e[1]}function n_e(e){return e[2]>=e[5]?0:e[5]-e[2]}function Ctt(e,t=[0,0,0]){return t[0]=t_e(e),t[1]=r_e(e),t[2]=n_e(e),t}function Ntt(e,t,r=e){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r!==e&&(r[3]=e[3],r[4]=e[4],r[5]=e[5]),r}function Mtt(e,t,r=e){return r[3]=t[0],r[4]=t[1],r[5]=t[2],r!==e&&(r[0]=e[0],r[1]=e[1],r[2]=e[2]),e}function BQ(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Rtt(e){return e?BQ(e,KP):m1(KP)}function Ltt(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function Dtt(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=Number.NEGATIVE_INFINITY,e[3]=n,e[4]=i,e[5]=Number.POSITIVE_INFINITY,e}function G6(e){return e.length===6}function Ftt(e,t,r){if(e==null||t==null)return e===t;if(!G6(e)||!G6(t))return!1;if(r){for(let n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1}else for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}const KP=[1/0,1/0,1/0,-1/0,-1/0,-1/0],i_e=[0,0,0,0,0,0];m1();function Utt(e,{isPrimitive:t,width:r,depth:n,height:i}){const s=t?10:1;if(r==null&&i==null&&n==null)return[s*e[0],s*e[1],s*e[2]];const o=cm(r,n,i);let a;for(let l=0;l<3;l++){const c=o[l];if(c!=null){a=c/e[l];break}}for(let l=0;l<3;l++)o[l]==null&&(o[l]=e[l]*a);return o}const s_e=rL(-.5,-.5,-.5,.5,.5,.5),o_e=rL(-.5,-.5,0,.5,.5,1),a_e=rL(-.5,-.5,0,.5,.5,.5);function ztt(e){switch(e){case"sphere":case"cube":case"diamond":return s_e;case"cylinder":case"cone":case"inverted-cone":return o_e;case"tetrahedron":return a_e;default:return}}const nL=["butt","square","round"],l_e=[...nL,"none"],VQ=["miter","bevel","round"];var ZP;let cd=ZP=class extends z{constructor(e){super(e),this.color=new Me([0,0,0,1]),this.size=Ms(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new ZP(e)}};u([f(Mc({colorRequiredOnWrite:!0}))],cd.prototype,"color",void 0),u([f({...Oa,json:{write:{isRequired:!0}}})],cd.prototype,"size",void 0),u([f(zQ)],cd.prototype,"pattern",void 0),u([f({type:nL,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],cd.prototype,"patternCap",void 0),cd=ZP=u([A("esri.symbols.support.Symbol3DOutline")],cd);var Zx,$b;let Hn=($b=class extends Yn{constructor(t){super(t),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const t={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new Zx(t)}static fromSimpleFillSymbol(t){const r=t.outline&&t.outline.style&&t.outline.style!=="solid"?new qd({style:t.outline.style}):null,n={size:t.outline?.width??0,color:(t.outline?.color??Ng).clone(),pattern:r};return r&&t.outline?.cap&&(n.patternCap=t.outline.cap),new Zx({material:new Mg({color:(t.color??ZSe).clone()}),pattern:t.style&&t.style!=="solid"?new hh({style:t.style}):null,outline:n})}},Zx=$b,$b);u([ye({Fill:"fill"},{readOnly:!0})],Hn.prototype,"type",void 0),u([f({type:Mg,json:{write:!0}})],Hn.prototype,"material",void 0),u([f(KSe)],Hn.prototype,"pattern",void 0),u([f({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Hn.prototype,"castShadows",void 0),u([f({type:cd,json:{write:!0}})],Hn.prototype,"outline",void 0),u([f(UQ)],Hn.prototype,"edges",void 0),Hn=Zx=u([A("esri.symbols.FillSymbol3DLayer")],Hn);var YP;const u_e=Ar()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let dd=YP=class extends z{constructor(e){super(e)}readHref(e,t,r){return e?Dp(e,r):t.dataURI}writeHref(e,t,r,n){e&&(Wl(e)?t.dataURI=e:(t.href=mp(e,n),Oi(t.href)&&(t.href=jo(t.href))))}clone(){return new YP({href:this.href,primitive:this.primitive})}};u([f({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],dd.prototype,"href",void 0),u([X("href")],dd.prototype,"readHref",null),u([re("href",{href:{type:String},dataURI:{type:String}})],dd.prototype,"writeHref",null),u([ye(u_e)],dd.prototype,"primitive",void 0),dd=YP=u([A("esri.symbols.support.IconSymbol3DLayerResource")],dd);const Btt="circle";var QP;let yh=QP=class extends ft{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new QP({x:this.x,y:this.y})}};u([f({type:Number})],yh.prototype,"x",void 0),u([f({type:Number})],yh.prototype,"y",void 0),yh=QP=u([A("esri.symbols.support.Symbol3DAnchorPosition2D")],yh);var XP;let F0=XP=class extends z{constructor(e){super(e),this.color=new Me([0,0,0,1]),this.size=Ms(1)}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size};return new XP(e)}};u([f(Mc({colorRequiredOnWrite:!0}))],F0.prototype,"color",void 0),u([f({...Oa,json:{write:{isRequired:!0}}})],F0.prototype,"size",void 0),F0=XP=u([A("esri.symbols.support.Symbol3DIconOutline")],F0);var jf,Tb;let pn=(Tb=class extends Yn{constructor(t){super(t),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new jf({anchor:this.anchor,anchorPosition:D(this.anchorPosition),enabled:this.enabled,material:D(this.material),outline:D(this.outline),resource:D(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(t){const r=t.color||Ng,n=W6(t),i=t.outline&&t.outline.width>0?{size:t.outline.width,color:(t.outline.color||Ng).clone()}:null;return new jf({size:t.size,angle:t.angle,resource:{primitive:d_e(()=>ce.getLogger(this.prototype),t.style)},material:{color:r},outline:i,anchor:n?"relative":void 0,anchorPosition:n})}static fromPictureMarkerSymbol(t){const r=!t.color||YSe(t.color)?Ng:t.color,n=W6(t);return new jf({size:t.width<=t.height?t.height:t.width,angle:t.angle,resource:{href:t.url},material:{color:r.clone()},anchor:n?"relative":void 0,anchorPosition:n})}static fromCIMSymbol(t){return new jf({resource:{href:PH({mediaType:"application/json",data:JSON.stringify(t.data)})}})}},jf=Tb,Tb);function W6(e){const t="width"in e?e.width:e.size,r="height"in e?e.height:e.size,n=H6(e.xoffset),i=H6(e.yoffset);return(n||i)&&t&&r?{x:-n/t,y:i/r}:null}function H6(e){return isFinite(e)?e:0}u([f({type:Wi,json:{write:!0}})],pn.prototype,"material",void 0),u([f({type:dd,json:{write:!0}})],pn.prototype,"resource",void 0),u([ye({Icon:"icon"},{readOnly:!0})],pn.prototype,"type",void 0),u([f({...Oa,json:{write:{isRequired:!0}}})],pn.prototype,"size",void 0),u([ye({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],pn.prototype,"anchor",void 0),u([f({type:yh,json:{type:[Number],read:{reader:e=>new yh({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],pn.prototype,"anchorPosition",void 0),u([f({type:F0,json:{write:!0}})],pn.prototype,"outline",void 0),u([f({type:Number,json:{write:!0,default:0}})],pn.prototype,"angle",void 0),pn=jf=u([A("esri.symbols.IconSymbol3DLayer")],pn);const c_e={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function d_e(e,t){return c_e[t]||(e().warn(`${t} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const p_e=["begin","end","begin-end"],qQ=["arrow","circle","square","diamond","cross","x"];let yl=class extends Se.ClonableMixin(z){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};u([f({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],yl.prototype,"type",void 0),u([f({type:p_e,json:{default:"begin-end",write:!0}})],yl.prototype,"placement",void 0),u([f({type:qQ,json:{default:"arrow",write:!0}})],yl.prototype,"style",void 0),u([f({type:Me,json:{type:[Be],default:null,write:!0}})],yl.prototype,"color",void 0),yl=u([A("esri.symbols.LineStyleMarker3D")],yl);var Yx,Ob;let Wn=(Ob=class extends Yn{constructor(t){super(t),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=Ms(1),this.pattern=null,this.marker=null}clone(){const t={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new Yx(t)}static fromSimpleLineSymbol(t){const r={enabled:!0,size:t.width??Ms(1),cap:t.cap||"butt",join:t.join||"miter",pattern:t.style?new qd({style:t.style}):null,material:new Wi({color:(t.color||Ng).clone()}),marker:t.marker?new yl({placement:t.marker.placement,style:t.marker.style,color:t.marker.color?.clone()??null}):null};return new Yx(r)}},Yx=Ob,Ob);u([f({type:Wi,json:{write:!0}})],Wn.prototype,"material",void 0),u([ye({Line:"line"},{readOnly:!0})],Wn.prototype,"type",void 0),u([f({type:VQ,json:{write:!0,default:"miter"}})],Wn.prototype,"join",void 0),u([f({type:nL,json:{write:!0,default:"butt"}})],Wn.prototype,"cap",void 0),u([f({...Oa,json:{write:{isRequired:!0}}})],Wn.prototype,"size",void 0),u([f(zQ)],Wn.prototype,"pattern",void 0),u([f({types:{key:"type",base:yl,typeMap:{style:yl}},json:{write:!0}})],Wn.prototype,"marker",void 0),Wn=Yx=u([A("esri.symbols.LineSymbol3DLayer")],Wn);var ek;const f_e=Ar()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let U0=ek=class extends z{clone(){return new ek({href:this.href,primitive:this.primitive})}};u([f({type:String,json:{read:P$,write:gp}})],U0.prototype,"href",void 0),u([ye(f_e)],U0.prototype,"primitive",void 0),U0=ek=u([A("esri.symbols.support.ObjectSymbol3DLayerResource")],U0);const qtt="sphere";var tk;let kd=tk=class extends ft{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new tk({x:this.x,y:this.y,z:this.z})}};u([f({type:Number})],kd.prototype,"x",void 0),u([f({type:Number})],kd.prototype,"y",void 0),u([f({type:Number})],kd.prototype,"z",void 0),kd=tk=u([A("esri.symbols.support.Symbol3DAnchorPosition3D")],kd);var rk,Eb;let Kr=(Eb=class extends Yn{constructor(t){super(t),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new rk({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}},rk=Eb,Eb);u([f({type:Wi,json:{write:!0}})],Kr.prototype,"material",void 0),u([f({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Kr.prototype,"castShadows",void 0),u([f({type:U0,json:{write:!0}})],Kr.prototype,"resource",void 0),u([ye({Object:"object"},{readOnly:!0})],Kr.prototype,"type",void 0),u([f({type:Number,json:{write:!0}})],Kr.prototype,"width",void 0),u([f({type:Number,json:{write:!0}})],Kr.prototype,"height",void 0),u([f({type:Number,json:{write:!0}})],Kr.prototype,"depth",void 0),u([ye({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],Kr.prototype,"anchor",void 0),u([f({type:kd,json:{type:[Number],read:{reader:e=>new kd({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],Kr.prototype,"anchorPosition",void 0),u([f({type:Number,json:{write:!0}})],Kr.prototype,"heading",void 0),u([f({type:Number,json:{write:!0}})],Kr.prototype,"tilt",void 0),u([f({type:Number,json:{write:!0}})],Kr.prototype,"roll",void 0),u([f({readOnly:!0})],Kr.prototype,"isPrimitive",null),Kr=rk=u([A("esri.symbols.ObjectSymbol3DLayer")],Kr);var nk,jb;let un=(jb=class extends Yn{constructor(t){super(t),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(t,r){return t??(r.height==null&&r.size!=null?r.size:void 0)}readHeight(t,r){return t??(r.width==null&&r.size!=null?r.size:void 0)}clone(){return new nk({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}},nk=jb,jb);u([f({type:Wi,json:{write:!0}})],un.prototype,"material",void 0),u([f({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],un.prototype,"castShadows",void 0),u([ye({Path:"path"},{readOnly:!0})],un.prototype,"type",void 0),u([f({type:["circle","quad"],json:{write:!0,default:"circle"}})],un.prototype,"profile",void 0),u([f({type:VQ,json:{write:!0,default:"miter"}})],un.prototype,"join",void 0),u([f({type:l_e,json:{write:!0,default:"butt"}})],un.prototype,"cap",void 0),u([f({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],un.prototype,"width",void 0),u([X("width",["width","size","height"])],un.prototype,"readWidth",null),u([f({type:Number,json:{write:!0}})],un.prototype,"height",void 0),u([X("height",["height","size","width"])],un.prototype,"readHeight",null),u([f({type:["center","bottom","top"],json:{write:!0,default:"center"}})],un.prototype,"anchor",void 0),u([f({type:["heading","all"],json:{write:!0,default:"all"}})],un.prototype,"profileRotation",void 0),un=nk=u([A("esri.symbols.PathSymbol3DLayer")],un);const h_e=["none","underline","line-through"],y_e=["normal","italic","oblique"],m_e=["normal","lighter","bold","bolder"],GQ={type:Number,cast:e=>{const t=Jn(e);return t===0?1:_c(t,.1,4)},nonNullable:!0},g_e=["left","right","center"],v_e=["baseline","top","middle","bottom"],WQ={type:g_e,nonNullable:!0},HQ={type:v_e,nonNullable:!0};var ik;let hs=ik=class extends z{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return He(e)}clone(){return new ik({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};u([f({type:h_e,json:{default:"none",write:!0}})],hs.prototype,"decoration",void 0),u([f({type:String,json:{write:!0}})],hs.prototype,"family",void 0),u([f({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:!r||!r.textSymbol3D})}}})],hs.prototype,"size",void 0),u([ht("size")],hs.prototype,"castSize",null),u([f({type:y_e,json:{default:"normal",write:!0}})],hs.prototype,"style",void 0),u([f({type:m_e,json:{default:"normal",write:!0}})],hs.prototype,"weight",void 0),hs=ik=u([A("esri.symbols.Font")],hs);var sk;let mh=sk=class extends z{constructor(){super(...arguments),this.color=new Me([0,0,0,1]),this.size=0}clone(){const e={color:D(this.color),size:this.size};return new sk(e)}};u([f(Mc())],mh.prototype,"color",void 0),u([f(Oa)],mh.prototype,"size",void 0),mh=sk=u([A("esri.symbols.support.Symbol3DHalo")],mh);let Rg=class extends Se.ClonableMixin(z){constructor(t){super(t),this.color=null}};u([f(Mc())],Rg.prototype,"color",void 0),Rg=u([A("esri.symbols.support.Symbol3DTextBackground")],Rg);var Qx,Ab;let Dr=(Ab=class extends Yn{constructor(t){super(t),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(t){t!=null&&this._userSize!=null&&(t.size=this._userSize),this._set("font",t)}writeFont(t,r,n,i){const s={...i,textSymbol3D:!0};r.font=t.write({},s),delete r.font.size}get size(){return this._userSize!=null?this._userSize:this.font?.size!=null?this.font.size:9}set size(t){this._userSize=t,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const t=new Qx({enabled:this.enabled,font:this.font&&D(this.font),halo:this.halo&&D(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:D(this.background)});return t._userSize=this._userSize,t}static fromTextSymbol(t){return new Qx({font:t.font!=null?t.font.clone():new hs,halo:b_e(t.haloColor,t.haloSize),horizontalAlignment:t.horizontalAlignment,lineHeight:t.lineHeight,material:t.color?new Wi({color:t.color.clone()}):null,text:t.text,verticalAlignment:t.verticalAlignment,background:t.backgroundColor?new Rg({color:t.backgroundColor.clone()}):null})}},Qx=Ab,Ab);function b_e(e,t){return e&&t!=null&&t>0?new mh({color:D(e),size:t}):null}u([f({type:hs,json:{write:!0}})],Dr.prototype,"font",null),u([re("font")],Dr.prototype,"writeFont",null),u([f({type:mh,json:{write:!0}})],Dr.prototype,"halo",void 0),u([f({...WQ,json:{default:"center",write:!0}})],Dr.prototype,"horizontalAlignment",void 0),u([f({...GQ,json:{default:1,write:!0}})],Dr.prototype,"lineHeight",void 0),u([f({type:Wi,json:{write:!0}})],Dr.prototype,"material",void 0),u([f({type:Rg,json:{write:!0}})],Dr.prototype,"background",void 0),u([f(Oa)],Dr.prototype,"size",null),u([f({type:String,json:{write:!0}})],Dr.prototype,"text",void 0),u([ye({Text:"text"},{readOnly:!0})],Dr.prototype,"type",void 0),u([f({...HQ,json:{default:"baseline",write:!0}})],Dr.prototype,"verticalAlignment",void 0),Dr=Qx=u([A("esri.symbols.TextSymbol3DLayer")],Dr);var ok,Ib;let il=(Ib=class extends Yn{constructor(t){super(t),this.color=ak.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new ok({color:D(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}},ok=Ib,Ib);u([f({type:Me,nonNullable:!0,json:{type:[Be],write:(e,t,r)=>t[r]=e.toArray(Me.AlphaMode.UNLESS_OPAQUE),default:()=>ak.clone(),defaultEquals:e=>e.toCss(!0)===ak.toCss(!0)}})],il.prototype,"color",void 0),u([ye({Water:"water"},{readOnly:!0})],il.prototype,"type",void 0),u([f({type:["small","medium","large"],json:{write:!0,default:"medium"}})],il.prototype,"waterbodySize",void 0),u([f({type:Number,json:{write:!0,default:null}})],il.prototype,"waveDirection",void 0),u([f({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],il.prototype,"waveStrength",void 0),il=ok=u([A("esri.symbols.WaterSymbol3DLayer")],il);const ak=new Me([0,119,190]);var lk;let ml=lk=class extends ft{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new lk({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};u([f({type:String})],ml.prototype,"name",void 0),u([f({type:String})],ml.prototype,"styleUrl",void 0),u([f({type:String})],ml.prototype,"styleName",void 0),u([f({type:te})],ml.prototype,"portal",void 0),ml=lk=u([A("esri.symbols.support.StyleOrigin")],ml);var uk;let Lg=uk=class extends ft{constructor(){super(...arguments),this.url=""}clone(){return new uk({url:this.url})}};u([f({type:String})],Lg.prototype,"url",void 0),Lg=uk=u([A("esri.symbols.support.Thumbnail")],Lg);const JQ={icon:pn,object:Kr,line:Wn,path:un,fill:Hn,extrude:nl,text:Dr,water:il},w_e=Te.ofType({base:Yn,key:"type",typeMap:JQ,errorContext:"symbol-layer"});let mi=class extends sr{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const r=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,n=r?.type,i=n||Te;this._set("symbolLayers",new i)}get color(){return null}set color(t){this.constructed&&ce.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){ly(t,this._get("symbolLayers"))}readStyleOrigin(t,r,n){if(t.styleUrl&&t.name){const i=Dp(t.styleUrl,n);return new ml({styleUrl:i,name:t.name})}if(t.styleName&&t.name)return new ml({portal:n?.portal||te.getDefault(),styleName:t.styleName,name:t.name});n?.messages&&n.messages.push(new Ro("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:n,definition:t}))}writeStyleOrigin(t,r,n,i){if(t.styleUrl&&t.name){let s=mp(t.styleUrl,i);Oi(s)&&(s=jo(s)),r.styleOrigin={styleUrl:s,name:t.name}}else t.styleName&&t.name&&(t.portal&&i?.portal&&!IH(t.portal.restUrl,i.portal.restUrl)?i?.messages&&i.messages.push(new Ro("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):r.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof Yn||t&&JQ[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};u([f({json:{read:!1,write:!1}})],mi.prototype,"color",null),u([f({type:w_e,nonNullable:!0,json:{write:!0}}),ht(Fhe)],mi.prototype,"symbolLayers",null),u([f({type:ml})],mi.prototype,"styleOrigin",void 0),u([X("styleOrigin")],mi.prototype,"readStyleOrigin",null),u([re("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],mi.prototype,"writeStyleOrigin",null),u([f({type:Lg,json:{read:!1}})],mi.prototype,"thumbnail",void 0),u([f({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],mi.prototype,"type",void 0),mi=u([A("esri.symbols.Symbol3D")],mi);let gh=class extends z{constructor(t){super(t),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};u([f({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],gh.prototype,"type",void 0),u([f({readOnly:!0})],gh.prototype,"visible",void 0),gh=u([A("esri.symbols.callouts.Callout3D")],gh);var ck;let Xx=ck=class extends z{constructor(e){super(e),this.color=new Me("white")}clone(){return new ck({color:D(this.color)})}};u([f(Mc({colorRequiredOnWrite:!0}))],Xx.prototype,"color",void 0),Xx=ck=u([A("esri.symbols.callouts.LineCallout3DBorder")],Xx);const x_e=Xx;var dk;let sl=dk=class extends gh{constructor(e){super(e),this.type="line",this.color=new Me([0,0,0,1]),this.size=Ms(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new dk({color:D(this.color),size:this.size,border:D(this.border)})}};u([ye({line:"line"})],sl.prototype,"type",void 0),u([f(Mc({colorRequiredOnWrite:!0}))],sl.prototype,"color",void 0),u([f({...Oa,json:{write:{isRequired:!0}}})],sl.prototype,"size",void 0),u([f({type:x_e,json:{write:!0}})],sl.prototype,"border",void 0),u([f({readOnly:!0})],sl.prototype,"visible",null),sl=dk=u([A("esri.symbols.callouts.LineCallout3D")],sl);function iL(e){if(!e)return!1;const t=e.verticalOffset;return!(!t||t.screenLength<=0||t.maxWorldLength!=null&&t.maxWorldLength<=0)}function KQ(e){return!e||!e.supportsCallout||!e.supportsCallout()?!1:!!e.callout?.visible&&!!iL(e)}const ZQ={types:{key:"type",base:gh,typeMap:{line:sl}},json:{write:!0}};var pk;let Uu=pk=class extends z{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new pk({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};u([f({...Oa,json:{write:{isRequired:!0}}})],Uu.prototype,"screenLength",void 0),u([f({type:Number,nonNullable:!0,json:{write:!0,default:0}})],Uu.prototype,"minWorldLength",void 0),u([f({type:Number,json:{write:!0}})],Uu.prototype,"maxWorldLength",void 0),Uu=pk=u([A("esri.symbols.support.Symbol3DVerticalOffset")],Uu);var eS;const YQ=Te.ofType({base:null,key:"type",typeMap:{text:Dr}});let uo=eS=class extends mi{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new YQ,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return KQ(this)}hasVisibleVerticalOffset(){return iL(this)}clone(){return new eS({styleOrigin:D(this.styleOrigin),symbolLayers:D(this.symbolLayers),thumbnail:D(this.thumbnail),callout:D(this.callout),verticalOffset:D(this.verticalOffset)})}static fromTextSymbol(e){return new eS({symbolLayers:new Te([Dr.fromTextSymbol(e)])})}};u([f({type:Uu,json:{write:!0}})],uo.prototype,"verticalOffset",void 0),u([f(ZQ)],uo.prototype,"callout",void 0),u([f({json:{read:!1,write:!1}})],uo.prototype,"styleOrigin",void 0),u([f({type:YQ})],uo.prototype,"symbolLayers",void 0),u([ye({LabelSymbol3D:"label-3d"},{readOnly:!0})],uo.prototype,"type",void 0),uo=eS=u([A("esri.symbols.LabelSymbol3D")],uo);var tS;const QQ=Te.ofType({base:null,key:"type",typeMap:{line:Wn,path:un}}),S_e=Te.ofType({base:null,key:"type",typeMap:{line:Wn,path:un}});let $o=tS=class extends mi{constructor(e){super(e),this.symbolLayers=new QQ,this.type="line-3d"}clone(){return new tS({styleOrigin:D(this.styleOrigin),symbolLayers:D(this.symbolLayers),thumbnail:D(this.thumbnail)})}static fromSimpleLineSymbol(e){return new tS({symbolLayers:new Te([Wn.fromSimpleLineSymbol(e)])})}};u([f({type:QQ,json:{type:S_e}})],$o.prototype,"symbolLayers",void 0),u([ye({LineSymbol3D:"line-3d"},{readOnly:!0})],$o.prototype,"type",void 0),$o=tS=u([A("esri.symbols.LineSymbol3D")],$o);var rS;const XQ=Te.ofType({base:null,key:"type",typeMap:{fill:Hn}});let Tl=rS=class extends mi{constructor(e){super(e),this.symbolLayers=new XQ,this.type="mesh-3d"}clone(){return new rS({styleOrigin:D(this.styleOrigin),symbolLayers:D(this.symbolLayers),thumbnail:D(this.thumbnail)})}static fromSimpleFillSymbol(e){return new rS({symbolLayers:new Te([Hn.fromSimpleFillSymbol(e)])})}};u([f({type:XQ})],Tl.prototype,"symbolLayers",void 0),u([ye({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],Tl.prototype,"type",void 0),Tl=rS=u([A("esri.symbols.MeshSymbol3D")],Tl);let z0=class extends sr{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};u([ye({esriSLS:"simple-line"},{readOnly:!0})],z0.prototype,"type",void 0),u([f({type:Number,cast:He,json:{write:!0}})],z0.prototype,"width",void 0),z0=u([A("esri.symbols.LineSymbol")],z0);var fk;let Yo=fk=class extends z{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,r,n){t[r]=n?.origin==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return e?.[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,r,n){n?.origin==="web-map"||(t[r]=e)}clone(){return new fk({color:D(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};u([f({type:["begin","end","begin-end"],json:{write:!0}})],Yo.prototype,"placement",void 0),u([ye({"line-marker":"line-marker"},{readOnly:!0}),f({json:{origins:{"web-map":{write:!1}}}})],Yo.prototype,"type",void 0),u([f({type:qQ})],Yo.prototype,"style",void 0),u([re("style")],Yo.prototype,"writeStyle",null),u([f({type:Me,value:null,json:{write:{allowNull:!0}}})],Yo.prototype,"color",null),u([X("color")],Yo.prototype,"readColor",null),u([re("color")],Yo.prototype,"writeColor",null),Yo=fk=u([A("esri.symbols.LineSymbolMarker")],Yo);const __e=Yo;var hk;const EE=new Pe({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let yr=hk=class extends z0{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,r,n,i,s){if(e&&typeof e!="string")return e;const o={};return e!=null&&(o.style=e),t!=null&&(o.color=t),r!=null&&(o.width=He(r)),n!=null&&(o.cap=n),i!=null&&(o.join=i),s!=null&&(o.miterLimit=He(s)),o}clone(){return new hk({color:D(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};u([ye({esriSLS:"simple-line"},{readOnly:!0})],yr.prototype,"type",void 0),u([f({type:EE.apiValues,json:{read:EE.read,write:EE.write}})],yr.prototype,"style",void 0),u([f({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&r?.origin==null})}}})],yr.prototype,"cap",void 0),u([f({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&r?.origin==null})}}})],yr.prototype,"join",void 0),u([f({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":__e}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],yr.prototype,"marker",void 0),u([f({type:Number,json:{read:!1,write:!1}})],yr.prototype,"miterLimit",void 0),yr=hk=u([A("esri.symbols.SimpleLineSymbol")],yr);let vh=class extends sr{constructor(t){super(t),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};u([f({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":yr}},json:{default:null,write:!0}})],vh.prototype,"outline",void 0),u([f({type:["simple-fill","picture-fill"],readOnly:!0})],vh.prototype,"type",void 0),vh=u([A("esri.symbols.FillSymbol")],vh);function $_e(e,t,r){return t.imageData?PH({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):eX(t.url,r)}function eX(e,t){if(!Oi(e)){const r=O_e(t);if(r)return hp(r,"images",e)}return Dp(e,t)}function T_e(e,t,r,n){if(Wl(e)){const i=iy(e);if(!i)return;t.contentType=i.mediaType,t.imageData=i.data,r&&r.imageData===t.imageData&&r.url&&gp(r.url,t,"url",n)}else gp(e,t,"url",n)}const tX={json:{read:{source:["imageData","url"],reader:$_e},write:{writer(e,t,r,n){T_e(e,t,this.source,n)}}}},rX={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,r){const n={};return t.imageData&&(n.imageData=t.imageData),t.contentType&&(n.contentType=t.contentType),t.url&&(n.url=eX(t.url,r)),n}}}};function O_e(e){if(!e)return null;const{origin:t,layer:r}=e;if(t!=="service"&&t!=="portal-item")return null;const n=r?.type;return n==="feature"||n==="stream"?r.parsedUrl?.path:n==="map-image"||n==="tile"?e.url?.path:null}var yk;let fi=yk=class extends vh{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,r,n){if(e&&typeof e!="string"&&e.imageData==null)return e;const i={};return e&&(i.url=e),t&&(i.outline=t),r!=null&&(i.width=He(r)),n!=null&&(i.height=He(n)),i}clone(){const e=new yk({color:D(this.color),height:this.height,outline:D(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",D(this.source)),e}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};u([ye({esriPFS:"picture-fill"},{readOnly:!0})],fi.prototype,"type",void 0),u([f(tX)],fi.prototype,"url",void 0),u([f({type:Number,json:{write:!0}})],fi.prototype,"xscale",void 0),u([f({type:Number,json:{write:!0}})],fi.prototype,"yscale",void 0),u([f({type:Number,cast:He,json:{write:!0}})],fi.prototype,"width",void 0),u([f({type:Number,cast:He,json:{write:!0}})],fi.prototype,"height",void 0),u([f({type:Number,cast:He,json:{write:!0}})],fi.prototype,"xoffset",void 0),u([f({type:Number,cast:He,json:{write:!0}})],fi.prototype,"yoffset",void 0),u([f(rX)],fi.prototype,"source",void 0),fi=yk=u([A("esri.symbols.PictureFillSymbol")],fi);let ol=class extends sr{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};u([f({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],ol.prototype,"angle",void 0),u([f({type:["simple-marker","picture-marker"],readOnly:!0})],ol.prototype,"type",void 0),u([f({type:Number,cast:He,json:{write:!0}})],ol.prototype,"xoffset",void 0),u([f({type:Number,cast:He,json:{write:!0}})],ol.prototype,"yoffset",void 0),u([f({cast:e=>e==="auto"?e:Jn(He(e)),json:{write:!0}})],ol.prototype,"size",void 0),ol=u([A("esri.symbols.MarkerSymbol")],ol);var mk;let qn=mk=class extends ol{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const n={};return e&&(n.url=e),t!=null&&(n.width=He(t)),r!=null&&(n.height=He(r)),n}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new mk({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",D(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};u([f({json:{write:!1}})],qn.prototype,"color",void 0),u([ye({esriPMS:"picture-marker"},{readOnly:!0})],qn.prototype,"type",void 0),u([f(tX)],qn.prototype,"url",void 0),u([f(rX)],qn.prototype,"source",void 0),u([f({type:Number,cast:He,json:{write:!0}})],qn.prototype,"height",void 0),u([X("height",["height","size"])],qn.prototype,"readHeight",null),u([f({type:Number,cast:He,json:{write:!0}})],qn.prototype,"width",void 0),u([f({json:{write:!1}})],qn.prototype,"size",void 0),qn=mk=u([A("esri.symbols.PictureMarkerSymbol")],qn);var pd;const nX=Te.ofType({base:null,key:"type",typeMap:{icon:pn,object:Kr,text:Dr}});let Kn=pd=class extends mi{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new nX,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return KQ(this)}hasVisibleVerticalOffset(){return iL(this)}clone(){return new pd({verticalOffset:D(this.verticalOffset),callout:D(this.callout),styleOrigin:D(this.styleOrigin),symbolLayers:D(this.symbolLayers),thumbnail:D(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new pd({symbolLayers:new Te([pn.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new pd({symbolLayers:new Te([pn.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){if(e.data?.symbol?.type!=="CIMPointSymbol")return null;const r=e.data.symbol;return new pd(r?.callout?{symbolLayers:new Te([pn.fromCIMSymbol(e)]),callout:new sl({size:.5,color:new Me([0,0,0])}),verticalOffset:new Uu({screenLength:40})}:{symbolLayers:new Te([pn.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new pd({symbolLayers:new Te([Dr.fromTextSymbol(e)])})}};u([f({type:Uu,json:{write:!0}})],Kn.prototype,"verticalOffset",void 0),u([f(ZQ)],Kn.prototype,"callout",void 0),u([f({type:nX,json:{origins:{"web-scene":{write:!0}}}})],Kn.prototype,"symbolLayers",void 0),u([ye({PointSymbol3D:"point-3d"},{readOnly:!0})],Kn.prototype,"type",void 0),Kn=pd=u([A("esri.symbols.PointSymbol3D")],Kn);var B0;const iX=Te.ofType({base:null,key:"type",typeMap:{extrude:nl,fill:Hn,icon:pn,line:Wn,object:Kr,text:Dr,water:il}});let Os=B0=class extends mi{constructor(e){super(e),this.symbolLayers=new iX,this.type="polygon-3d"}initialize(){const e=t=>{t.type==="line"&&ay(ce.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),t.type==="text"&&ay(ce.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const t of this.symbolLayers)e(t);this.addHandles(Vge(()=>this.symbolLayers,"after-add",({item:t})=>e(t),J$))}clone(){return new B0({styleOrigin:D(this.styleOrigin),symbolLayers:D(this.symbolLayers),thumbnail:D(this.thumbnail)})}static fromJSON(e){const t=new B0;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.at(0).type==="fill"&&t.symbolLayers.at(1).type==="line"){const r=t.symbolLayers.at(0),n=t.symbolLayers.at(1);!n.enabled||e.symbolLayers?.[1]&&e.symbolLayers[1].enable===!1||(r.outline={size:n.size,color:n.material!=null?n.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new B0({symbolLayers:new Te([Hn.fromSimpleFillSymbol(e)])})}};u([f({type:iX,json:{write:!0}})],Os.prototype,"symbolLayers",void 0),u([ye({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],Os.prototype,"type",void 0),Os=B0=u([A("esri.symbols.PolygonSymbol3D")],Os);var gk;const jE=new Pe({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let Vi=gk=class extends vh{constructor(...e){super(...e),this.color=new Me([0,0,0,.25]),this.outline=new yr,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const n={};return e&&(n.style=e),t&&(n.outline=t),r&&(n.color=r),n}clone(){return new gk({color:D(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};u([f()],Vi.prototype,"color",void 0),u([f()],Vi.prototype,"outline",void 0),u([ye({esriSFS:"simple-fill"},{readOnly:!0})],Vi.prototype,"type",void 0),u([f({type:jE.apiValues,json:{read:jE.read,write:jE.write}})],Vi.prototype,"style",void 0),Vi=gk=u([A("esri.symbols.SimpleFillSymbol")],Vi);var vk;const AE=new Pe({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let Fr=vk=class extends ol{constructor(...e){super(...e),this.color=new Me([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new yr}normalizeCtorArgs(e,t,r,n){if(e&&typeof e!="string")return e;const i={};return e&&(i.style=e),t!=null&&(i.size=He(t)),r&&(i.outline=r),n&&(i.color=n),i}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new vk({angle:this.angle,color:D(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};u([f()],Fr.prototype,"color",void 0),u([re("color")],Fr.prototype,"writeColor",null),u([ye({esriSMS:"simple-marker"},{readOnly:!0})],Fr.prototype,"type",void 0),u([f()],Fr.prototype,"size",void 0),u([f({type:AE.apiValues,json:{read:AE.read,write:AE.write}})],Fr.prototype,"style",void 0),u([f({type:String,json:{write:!0}})],Fr.prototype,"path",null),u([f({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":yr}},json:{default:null,write:!0}})],Fr.prototype,"outline",void 0),Fr=vk=u([A("esri.symbols.SimpleMarkerSymbol")],Fr);var bk;let ut=bk=class extends sr{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new hs,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const n={};return e&&(n.text=e),t&&(n.font=t),r&&(n.color=r),n}writeLineWidth(e,t,r,n){n&&typeof n!="string"?n.origin:t[r]=e}castLineWidth(e){return He(e)}writeLineHeight(e,t,r,n){n&&typeof n!="string"?n.origin:t[r]=e}clone(){return new bk({angle:this.angle,backgroundColor:D(this.backgroundColor),borderLineColor:D(this.borderLineColor),borderLineSize:this.borderLineSize,color:D(this.color),font:this.font&&this.font.clone(),haloColor:D(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};u([f({type:Me,json:{write:!0}})],ut.prototype,"backgroundColor",void 0),u([f({type:Me,json:{write:!0}})],ut.prototype,"borderLineColor",void 0),u([f({type:Number,json:{write:!0},cast:He})],ut.prototype,"borderLineSize",void 0),u([f({type:hs,json:{write:!0}})],ut.prototype,"font",void 0),u([f({...WQ,json:{write:!0}})],ut.prototype,"horizontalAlignment",void 0),u([f({type:Boolean,json:{write:!0}})],ut.prototype,"kerning",void 0),u([f({type:Me,json:{write:!0}})],ut.prototype,"haloColor",void 0),u([f({type:Number,cast:He,json:{write:!0}})],ut.prototype,"haloSize",void 0),u([f({type:Boolean,json:{write:!0}})],ut.prototype,"rightToLeft",void 0),u([f({type:Boolean,json:{write:!0}})],ut.prototype,"rotated",void 0),u([f({type:String,json:{write:!0}})],ut.prototype,"text",void 0),u([ye({esriTS:"text"},{readOnly:!0})],ut.prototype,"type",void 0),u([f({...HQ,json:{write:!0}})],ut.prototype,"verticalAlignment",void 0),u([f({type:Number,cast:He,json:{write:!0}})],ut.prototype,"xoffset",void 0),u([f({type:Number,cast:He,json:{write:!0}})],ut.prototype,"yoffset",void 0),u([f({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],ut.prototype,"angle",void 0),u([f({type:Number,json:{write:!0}})],ut.prototype,"width",void 0),u([f({type:Number})],ut.prototype,"lineWidth",void 0),u([re("lineWidth")],ut.prototype,"writeLineWidth",null),u([ht("lineWidth")],ut.prototype,"castLineWidth",null),u([f(GQ)],ut.prototype,"lineHeight",void 0),u([re("lineHeight")],ut.prototype,"writeLineHeight",null),ut=bk=u([A("esri.symbols.TextSymbol")],ut);var wk;let Qr=wk=class extends sr{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=this.portal!=null?this.portal:te.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t?.portal,super.read(e,t)}clone(){return new wk({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol(e)}async fetchCIMSymbol(e){nJ(ce.getLogger(this),"WebStyleSymbol.fetchCIMSymbol is deprecated in favour of WebStyleSymbol.fetchSymbol which now supports both web and cim symbology",{version:"4.33",replacement:"WebStyleSymbol.fetchSymbol",see:"https://arcg.is/0CXPTr#fetchSymbol",warnOnce:!0});const t=await this._fetchSymbol({...e,acceptedFormats:["cim"]});if(t?.type!=="cim")throw new K("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return t}async _fetchSymbol(e){const t=e!=null?e.cache:null,r=t?this._fetchCacheKey:null;if(t!=null){const o=r&&t.get(r);if(o)return o.clone()}const{resolveWebStyleSymbol:n}=await ae(()=>import("./webStyleSymbolUtils-8cff4954.js"),["assets/webStyleSymbolUtils-8cff4954.js","assets/devEnvironmentUtils-00b414cb.js"]);Un(e);const i=n(this,{portal:this.portal},e);i.catch(o=>{ce.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",o)});const s=await i;return t?.set(r,s.clone()),s}};u([f({json:{write:!1}})],Qr.prototype,"color",void 0),u([f({type:String,json:{write:!0}})],Qr.prototype,"styleName",void 0),u([f({type:te,json:{write:!1}})],Qr.prototype,"portal",void 0),u([f({type:String,json:{read:P$,write:gp}})],Qr.prototype,"styleUrl",void 0),u([f({type:Lg,json:{read:!1}})],Qr.prototype,"thumbnail",void 0),u([f({type:String,json:{write:!0}})],Qr.prototype,"name",void 0),u([ye({styleSymbolReference:"web-style"},{readOnly:!0})],Qr.prototype,"type",void 0),u([f()],Qr.prototype,"_fetchCacheKey",null),Qr=wk=u([A("esri.symbols.WebStyleSymbol")],Qr);function Ytt(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function sX(e){switch(e?.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const Zu={base:sr,key:"type",typeMap:{"simple-fill":Vi,"picture-fill":fi,"picture-marker":qn,"simple-line":yr,"simple-marker":Fr,text:ut,"label-3d":uo,"line-3d":$o,"mesh-3d":Tl,"point-3d":Kn,"polygon-3d":Os,"web-style":Qr,cim:Nn},errorContext:"symbol"},Qtt={base:sr,key:"type",typeMap:{"picture-marker":qn,"simple-marker":Fr,"point-3d":Kn,cim:Nn},errorContext:"symbol"},Xtt={base:sr,key:"type",typeMap:{"simple-line":yr,"line-3d":$o,cim:Nn},errorContext:"symbol"},ert={base:sr,key:"type",typeMap:{"simple-fill":Vi,"picture-fill":fi,"polygon-3d":Os,cim:Nn},errorContext:"symbol"},E_e={base:sr,key:"type",typeMap:{"picture-marker":qn,"simple-marker":Fr,text:ut,"web-style":Qr,cim:Nn},errorContext:"symbol"},j_e=im({types:Zu}),oX={base:sr,key:"type",typeMap:{"simple-fill":Vi,"picture-fill":fi,"picture-marker":qn,"simple-line":yr,"simple-marker":Fr,text:ut,"line-3d":$o,"mesh-3d":Tl,"point-3d":Kn,"polygon-3d":Os,"web-style":Qr,cim:Nn},errorContext:"symbol"},A_e={base:sr,key:"type",typeMap:{text:ut,"label-3d":uo},errorContext:"symbol"},J6={base:sr,key:"type",typeMap:{"line-3d":$o,"mesh-3d":Tl,"point-3d":Kn,"polygon-3d":Os,"web-style":Qr,cim:Nn},errorContext:"symbol"},I_e={base:sr,key:"type",typeMap:{"label-3d":uo},errorContext:"symbol"},aX=$a(Zu);var xk;function P_e(e){if(!e)return null;const t={};for(const r in e){const n=zl(e[r]);n&&(t[r]=n)}return Object.keys(t).length!==0?t:null}function k_e(e){if(e==null)return null;const t={};for(const r in e){const n=e[r];n&&(t[r]=n.toJSON())}return Object.keys(t).length!==0?t:null}var Pb;let _r=(Pb=class extends Se.ClonableMixin(z){constructor(t){super(t),this.isAggregate=!1,this.layer=null,this.origin=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:vx(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&ffe(ce.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(t){const r=this._get("aggregateGeometries");JSON.stringify(r)!==JSON.stringify(t)&&this._set("aggregateGeometries",t)}set attributes(t){const r=this._get("attributes");r!==t&&(this._set("attributes",t),this._notifyLayer("attributes",r,t))}set geometry(t){const r=this._get("geometry");r!==t&&(this._set("geometry",t),t?.type!=="mesh"&&this._notifyLayer("geometry",r,t))}set popupTemplate(t){const r=this._get("popupTemplate");r!==t&&(this._set("popupTemplate",t),this._notifyLayer("popupTemplate",r,t))}set symbol(t){const r=this._get("symbol");r!==t&&(this._set("symbol",t),this._notifyLayer("symbol",r,t))}get version(){return this._version}set visible(t){const r=this._get("visible");r!==t&&(this._set("visible",t),this._notifyLayer("visible",r,t))}cloneShallow(){return new xk({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(t=!1){if(this.popupTemplate)return this.popupTemplate;const r=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const n of[r,this.sourceLayer,this.layer])if(n){if("popupTemplate"in n&&n.popupTemplate)return n.popupTemplate;if(t&&"defaultPopupTemplate"in n&&n.defaultPopupTemplate!=null)return n.defaultPopupTemplate}return null}getAttribute(t){return this.attributes?.[t]}setAttribute(t,r){if(this.attributes){const n=this.getAttribute(t);this.attributes[t]=r,this._notifyLayer("attributes",n,r,t)}else this.attributes={[t]:r}}getObjectId(){const t=this.sourceLayer??this.layer;return t?zSe(this,t):null}getGlobalId(){const t=this.sourceLayer??this.layer;return t&&"globalIdField"in t&&t.globalIdField?this.getAttribute(t.globalIdField):null}toJSON(){return{aggregateGeometries:k_e(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:vv(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(t={}){const{geometry:r}=this;if(r?.type==="mesh"){const n={origin:r.origin,transform:r.transform};this._notifyLayer("origin-transform",n,n,t.action)}}_notifyLayer(t,r,n,i){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const s={graphic:this,property:t,oldValue:r,newValue:n};t==="origin-transform"&&(s.action=i),t==="attributes"&&(s.attributeName=i),this.layer.graphicChanged(s)}_watchMeshGeometryChanges(){this.addHandles([a6(()=>this.geometry?.type==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0,({localMatrix:t,origin:r})=>{this._lastMeshTransform.localMatrix===t&&this._lastMeshTransform.origin===r||(this._lastMeshTransform.localMatrix=t,this._lastMeshTransform.origin=r,this.notifyMeshTransformChanged())}),a6(()=>this.geometry?.type==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0,()=>{const t=this.geometry;t?.type==="mesh"&&t.vertexSpace.origin?(this._lastMeshTransform.localMatrix=t.transform?.localMatrix,this._lastMeshTransform.origin=t.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(t,r)=>t===r,sync:!0})])}},xk=Pb,Pb);u([f({value:null,json:{read:P_e}})],_r.prototype,"aggregateGeometries",null),u([f({value:null})],_r.prototype,"attributes",null),u([f({value:null,types:dm,json:{read:zl}})],_r.prototype,"geometry",null),u([f({type:Boolean})],_r.prototype,"isAggregate",void 0),u([f({clonable:!1})],_r.prototype,"layer",void 0),u([f({clonable:"reference"})],_r.prototype,"origin",void 0),u([f({type:pm,value:null})],_r.prototype,"popupTemplate",null),u([f({clonable:"reference"})],_r.prototype,"sourceLayer",void 0),u([f({value:null,types:Zu})],_r.prototype,"symbol",null),u([f({clonable:!1,json:{read:!1,write:!1}})],_r.prototype,"_version",void 0),u([f({type:Boolean,value:!0})],_r.prototype,"visible",null),_r=xk=u([A("esri.Graphic")],_r);const xt=(e=>e)(["operational-layers","basemap","ground"]);var Sk;let fd=Sk=class extends z{constructor(e){super(e),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new Sk({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};u([f({type:String,json:{write:!0}})],fd.prototype,"expression",void 0),u([f({type:String,json:{write:!0}})],fd.prototype,"name",void 0),u([f({type:["boolean","date","number","string"],json:{write:!0}})],fd.prototype,"returnType",void 0),u([f({type:String,json:{write:!0}})],fd.prototype,"title",void 0),fd=Sk=u([A("esri.form.ExpressionInfo")],fd);const C_e=fd;let hd=class extends z{constructor(t){super(t),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};u([f({type:String,json:{write:!0}})],hd.prototype,"description",void 0),u([f({type:String,json:{write:!0}})],hd.prototype,"label",void 0),u([f()],hd.prototype,"type",void 0),u([f({type:String,json:{write:!0}})],hd.prototype,"visibilityExpression",void 0),hd=u([A("esri.form.elements.Element")],hd);const Oc=hd;let nS=class extends Se.ClonableMixin(z){constructor(t){super(t),this.type=null}};u([f()],nS.prototype,"type",void 0),nS=u([A("esri.form.elements.inputs.attachments.Input")],nS);const Ec=nS,aT=["any","capture","upload"];let Af=class extends Ec{constructor(t){super(t),this.type="audio",this.inputMethod="any",this.maxDuration=null}};u([f({type:["audio"],readOnly:!0,json:{write:!0}})],Af.prototype,"type",void 0),u([f({type:aT,json:{write:!0}})],Af.prototype,"inputMethod",void 0),u([f({type:Number,json:{write:!0}})],Af.prototype,"maxDuration",void 0),Af=u([A("esri.form.elements.inputs.attachments.AudioInput")],Af);const K6=Af;let V0=class extends Ec{constructor(t){super(t),this.type="document",this.maxFileSize=null}};u([f({type:["document"],readOnly:!0,json:{write:!0}})],V0.prototype,"type",void 0),u([f({type:Number,json:{write:!0}})],V0.prototype,"maxFileSize",void 0),V0=u([A("esri.form.elements.inputs.attachments.DocumentInput")],V0);const Z6=V0;let If=class extends Ec{constructor(t){super(t),this.type="image",this.inputMethod="any",this.maxImageSize=null}};u([f({type:["image"],readOnly:!0,json:{write:!0}})],If.prototype,"type",void 0),u([f({type:aT,json:{write:!0}})],If.prototype,"inputMethod",void 0),u([f({type:Number,json:{write:!0}})],If.prototype,"maxImageSize",void 0),If=u([A("esri.form.elements.inputs.attachments.ImageInput")],If);const Y6=If;let q0=class extends Ec{constructor(t){super(t),this.type="signature",this.inputMethod="any"}};u([f({type:["signature"],readOnly:!0,json:{write:!0}})],q0.prototype,"type",void 0),u([f({type:aT,json:{write:!0}})],q0.prototype,"inputMethod",void 0),q0=u([A("esri.form.elements.inputs.attachments.SignatureInput")],q0);const Q6=q0;let Pf=class extends Ec{constructor(t){super(t),this.type="video",this.inputMethod="any",this.maxDuration=null}};u([f({type:["video"],readOnly:!0,json:{write:!0}})],Pf.prototype,"type",void 0),u([f({type:aT,json:{write:!0}})],Pf.prototype,"inputMethod",void 0),u([f({type:Number,json:{write:!0}})],Pf.prototype,"maxDuration",void 0),Pf=u([A("esri.form.elements.inputs.attachments.VideoInput")],Pf);const X6=Pf;function lX(e){return{nestableTypes:{base:Ec,key:"type",typeMap:{audio:K6,document:Z6,image:Y6,signature:Q6,video:X6}},allTypes:{base:Ec,key:"type",typeMap:{attachment:e,audio:K6,document:Z6,image:Y6,signature:Q6,video:X6}}}}function N_e(e,t,r){return e?e.map(n=>$a(r?t.nestableTypes:t.allTypes,n)):null}function M_e(e,t,r){if(!e)return null;const n=r?t.nestableTypes.typeMap:t.allTypes.typeMap;return e.filter(i=>n[i.type]).map(i=>n[i.type].fromJSON(i))}function R_e(e,t,r){if(!e)return null;const n=r?t.nestableTypes.typeMap:t.allTypes.typeMap;return e.filter(i=>n[i.type]).map(i=>i.toJSON())}let ia=class extends Ec{constructor(t){super(t),this.type="attachment",this.attachmentAssociationType="exact",this.inputTypes=null}castInputs(t){return N_e(t,IE,!0)}readInputs(t,r){return M_e(r.inputTypes,IE,!0)}writeInputs(t,r){r.inputTypes=R_e(t,IE,!0)}};u([f({type:["attachment"],readOnly:!0,json:{write:!0}})],ia.prototype,"type",void 0),u([f({type:["any","exact","exactOrNone"],json:{write:!0}})],ia.prototype,"attachmentAssociationType",void 0),u([f({json:{write:{isRequired:!0}}})],ia.prototype,"inputTypes",void 0),u([ht("inputTypes")],ia.prototype,"castInputs",null),u([X("inputTypes")],ia.prototype,"readInputs",null),u([re("inputTypes")],ia.prototype,"writeInputs",null),ia=u([A("esri.form.elements.inputs.attachments.AttachmentInput")],ia);const IE=lX(ia),L_e=ia;var _k;const D_e=lX(L_e);let ki=_k=class extends Oc{constructor(e){super(e),this.allowUserRename=!0,this.attachmentKeyword=null,this.displayFilename=!1,this.editableExpression=null,this.filenameExpression="{attachmentKeyword}_{now}",this.input=null,this.maxAttachmentCount=null,this.minAttachmentCount=null,this.type="attachment",this.useOriginalFilename=!0}clone(){return new _k({allowUserRename:this.allowUserRename,attachmentKeyword:this.attachmentKeyword,description:this.description,displayFilename:this.displayFilename,editableExpression:this.editableExpression,filenameExpression:this.filenameExpression,input:this.input?.clone(),label:this.label,maxAttachmentCount:this.maxAttachmentCount,minAttachmentCount:this.minAttachmentCount,useOriginalFilename:this.useOriginalFilename,visibilityExpression:this.visibilityExpression})}};u([f({type:Boolean,json:{write:!0}})],ki.prototype,"allowUserRename",void 0),u([f({type:String,json:{write:{isRequired:!0}}})],ki.prototype,"attachmentKeyword",void 0),u([f({type:Boolean,json:{write:!0}})],ki.prototype,"displayFilename",void 0),u([f({type:String,json:{write:!0}})],ki.prototype,"editableExpression",void 0),u([f({type:String,json:{write:!0}})],ki.prototype,"filenameExpression",void 0),u([f({types:D_e.allTypes,json:{read:{source:"inputType"},write:{target:"inputType",isRequired:!0}}})],ki.prototype,"input",void 0),u([f({type:Number,json:{write:!0}})],ki.prototype,"maxAttachmentCount",void 0),u([f({type:Number,json:{write:!0}})],ki.prototype,"minAttachmentCount",void 0),u([f({type:["attachment"],readOnly:!0,json:{read:!1,write:!0}})],ki.prototype,"type",void 0),u([f({type:Boolean,json:{write:!0}})],ki.prototype,"useOriginalFilename",void 0),ki=_k=u([A("esri.form.elements.AttachmentElement")],ki);const e8=ki;let iS=class extends z{constructor(t){super(t),this.type=null}};u([f()],iS.prototype,"type",void 0),iS=u([A("esri.form.elements.inputs.Input")],iS);const Jl=iS;let G0=class extends Jl{constructor(t){super(t),this.maxLength=null,this.minLength=0}};u([f({type:Number,json:{write:!0}})],G0.prototype,"maxLength",void 0),u([f({type:Number,json:{write:!0}})],G0.prototype,"minLength",void 0),G0=u([A("esri.form.elements.inputs.TextInput")],G0);const sL=G0;var $k;let sS=$k=class extends sL{constructor(e){super(e),this.type="barcode-scanner"}clone(){return new $k({maxLength:this.maxLength,minLength:this.minLength})}};u([f({type:["barcode-scanner"],json:{read:!1,write:!0}})],sS.prototype,"type",void 0),sS=$k=u([A("esri.form.elements.inputs.BarcodeScannerInput")],sS);const F_e=sS;var Tk;let kf=Tk=class extends Jl{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new Tk({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};u([f({type:String,json:{write:!0}})],kf.prototype,"noValueOptionLabel",void 0),u([f({type:Boolean,json:{write:!0}})],kf.prototype,"showNoValueOption",void 0),u([f({type:["combo-box"],json:{read:!1,write:!0}})],kf.prototype,"type",void 0),kf=Tk=u([A("esri.form.elements.inputs.ComboBoxInput")],kf);const U_e=kf;var Ok;function t8(e){return e??null}function r8(e){return e??null}let Qo=Ok=class extends Jl{constructor(e){super(e),this.max=null,this.min=null,this.type="date-picker"}readMax(e,t){return t8(t.max)}writeMax(e,t){t.max=r8(e)}readMin(e,t){return t8(t.min)}writeMin(e,t){t.min=r8(e)}clone(){return new Ok({max:this.max,min:this.min})}};u([f({type:String,json:{type:String,write:!0}})],Qo.prototype,"max",void 0),u([X("max")],Qo.prototype,"readMax",null),u([re("max")],Qo.prototype,"writeMax",null),u([f({type:String,json:{type:String,write:!0}})],Qo.prototype,"min",void 0),u([X("min")],Qo.prototype,"readMin",null),u([re("min")],Qo.prototype,"writeMin",null),u([f({type:["date-picker"],json:{read:!1,write:!0}})],Qo.prototype,"type",void 0),Qo=Ok=u([A("esri.form.elements.inputs.DatePickerInput")],Qo);const z_e=Qo;var Ek;function PE(e){return e??null}function kE(e){return e??null}let li=Ek=class extends Jl{constructor(e){super(e),this.includeTimeOffset=!0,this.max=null,this.min=null,this.timeResolution="minutes",this.type="datetimeoffset-picker"}readMax(e,t){return PE(t.max)}writeMax(e,t){t.max=kE(e)}readMin(e,t){return PE(t.min)}writeMin(e,t){t.min=kE(e)}readTimeResolution(e,t){return PE(t.timeResolution)}writeTimeResolution(e,t){t.timeResolution=kE(e)}clone(){return new Ek({includeTimeOffset:this.includeTimeOffset,max:this.max,min:this.min,timeResolution:this.timeResolution})}};u([f({type:Boolean,json:{write:!0}})],li.prototype,"includeTimeOffset",void 0),u([f({type:String,json:{type:String,write:!0}})],li.prototype,"max",void 0),u([X("max")],li.prototype,"readMax",null),u([re("max")],li.prototype,"writeMax",null),u([f({type:String,json:{type:String,write:!0}})],li.prototype,"min",void 0),u([X("min")],li.prototype,"readMin",null),u([re("min")],li.prototype,"writeMin",null),u([f({type:String,json:{type:String,write:!0}})],li.prototype,"timeResolution",void 0),u([X("timeResolution")],li.prototype,"readTimeResolution",null),u([re("timeResolution")],li.prototype,"writeTimeResolution",null),u([f({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],li.prototype,"type",void 0),li=Ek=u([A("esri.form.elements.inputs.DateTimeOffsetPickerInput")],li);const B_e=li;var jk;function n8(e){return e!=null?new Date(e):null}function i8(e){return e?e.getTime():null}let Xs=jk=class extends Jl{constructor(e){super(e),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(e,t){return n8(t.max)}writeMax(e,t){t.max=i8(e)}readMin(e,t){return n8(t.min)}writeMin(e,t){t.min=i8(e)}clone(){return new jk({includeTime:this.includeTime,max:this.max,min:this.min})}};u([f({type:Boolean,json:{write:!0}})],Xs.prototype,"includeTime",void 0),u([f({type:Date,json:{type:Number,write:!0}})],Xs.prototype,"max",void 0),u([X("max")],Xs.prototype,"readMax",null),u([re("max")],Xs.prototype,"writeMax",null),u([f({type:Date,json:{type:Number,write:!0}})],Xs.prototype,"min",void 0),u([X("min")],Xs.prototype,"readMin",null),u([re("min")],Xs.prototype,"writeMin",null),u([f({type:["datetime-picker"],json:{read:!1,write:!0}})],Xs.prototype,"type",void 0),Xs=jk=u([A("esri.form.elements.inputs.DateTimePickerInput")],Xs);const V_e=Xs;var Ak;let Cf=Ak=class extends Jl{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new Ak({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};u([f({type:String,json:{write:!0}})],Cf.prototype,"noValueOptionLabel",void 0),u([f({type:Boolean,json:{write:!0}})],Cf.prototype,"showNoValueOption",void 0),u([f({type:["radio-buttons"],json:{read:!1,write:!0}})],Cf.prototype,"type",void 0),Cf=Ak=u([A("esri.form.elements.inputs.RadioButtonsInput")],Cf);const q_e=Cf;var Ik;let Nf=Ik=class extends Jl{constructor(e){super(e),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new Ik({offValue:this.offValue,onValue:this.onValue})}};u([f({type:[String,Number],json:{write:!0}})],Nf.prototype,"offValue",void 0),u([f({type:[String,Number],json:{write:!0}})],Nf.prototype,"onValue",void 0),u([f({type:["switch"],json:{read:!1,write:!0}})],Nf.prototype,"type",void 0),Nf=Ik=u([A("esri.form.elements.inputs.SwitchInput")],Nf);const G_e=Nf;var Pk;let oS=Pk=class extends sL{constructor(e){super(e),this.type="text-area"}clone(){return new Pk({maxLength:this.maxLength,minLength:this.minLength})}};u([f({type:["text-area"],json:{read:!1,write:!0}})],oS.prototype,"type",void 0),oS=Pk=u([A("esri.form.elements.inputs.TextAreaInput")],oS);const W_e=oS;var kk;let aS=kk=class extends sL{constructor(e){super(e),this.type="text-box"}clone(){return new kk({maxLength:this.maxLength,minLength:this.minLength})}};u([f({type:["text-box"],json:{read:!1,write:!0}})],aS.prototype,"type",void 0),aS=kk=u([A("esri.form.elements.inputs.TextBoxInput")],aS);const H_e=aS;var Ck;function CE(e){return e??null}function NE(e){return e??null}let Ci=Ck=class extends Jl{constructor(e){super(e),this.max=null,this.min=null,this.timeResolution="minutes",this.type="time-picker"}readMax(e,t){return CE(t.max)}writeMax(e,t){t.max=NE(e)}readMin(e,t){return CE(t.min)}writeMin(e,t){t.min=NE(e)}readTimeResolution(e,t){return CE(t.timeResolution)}writeTimeResolution(e,t){t.timeResolution=NE(e)}clone(){return new Ck({max:this.max,min:this.min,timeResolution:this.timeResolution})}};u([f({type:String,json:{type:String,write:!0}})],Ci.prototype,"max",void 0),u([X("max")],Ci.prototype,"readMax",null),u([re("max")],Ci.prototype,"writeMax",null),u([f({type:String,json:{type:String,write:!0}})],Ci.prototype,"min",void 0),u([X("min")],Ci.prototype,"readMin",null),u([re("min")],Ci.prototype,"writeMin",null),u([f({type:String,json:{type:String,write:!0}})],Ci.prototype,"timeResolution",void 0),u([X("timeResolution")],Ci.prototype,"readTimeResolution",null),u([re("timeResolution")],Ci.prototype,"writeTimeResolution",null),u([f({type:["time-picker"],json:{read:!1,write:!0}})],Ci.prototype,"type",void 0),Ci=Ck=u([A("esri.form.elements.inputs.TimePickerInput")],Ci);const J_e=Ci,K_e={base:Jl,key:"type",typeMap:{"barcode-scanner":F_e,"combo-box":U_e,"date-picker":z_e,"datetime-picker":V_e,"datetimeoffset-picker":B_e,"radio-buttons":q_e,switch:G_e,"text-area":W_e,"text-box":H_e,"time-picker":J_e}};var Nk;let Gd=Nk=class extends z{constructor(e){super(e),this.name=null,this.code=null}clone(){return new Nk({name:this.name,code:this.code})}};u([f({type:String,json:{write:{isRequired:!0}}})],Gd.prototype,"name",void 0),u([f({type:[String,Number],json:{write:{isRequired:!0}}})],Gd.prototype,"code",void 0),Gd=Nk=u([A("esri.layers.support.CodedValue")],Gd);const Z_e=new Pe({inherited:"inherited",codedValue:"coded-value",range:"range"});let Yu=class extends z{constructor(t){super(t),this.name=null,this.type=null}};u([f({type:String,json:{write:!0}})],Yu.prototype,"name",void 0),u([ye(Z_e),f({json:{write:{isRequired:!0}}})],Yu.prototype,"type",void 0),Yu=u([A("esri.layers.support.Domain")],Yu);var Mk,kb;let Qu=(kb=class extends Yu{constructor(t){super(t),this.codedValues=null,this.type="coded-value"}getName(t){let r=null;if(this.codedValues){const n=String(t);this.codedValues.some(i=>(String(i.code)===n&&(r=i.name),!!r))}return r}clone(){return new Mk({codedValues:D(this.codedValues),name:this.name})}},Mk=kb,kb);u([f({type:[Gd],json:{write:{isRequired:!0}}})],Qu.prototype,"codedValues",void 0),u([ye({codedValue:"coded-value"})],Qu.prototype,"type",void 0),Qu=Mk=u([A("esri.layers.support.CodedValueDomain")],Qu);var Rk,Cb;let Dg=(Cb=class extends Yu{constructor(t){super(t),this.type="inherited"}clone(){return new Rk}},Rk=Cb,Cb);u([ye({inherited:"inherited"})],Dg.prototype,"type",void 0),Dg=Rk=u([A("esri.layers.support.InheritedDomain")],Dg);var Lk,Nb;let Cd=(Nb=class extends Yu{constructor(t){super(t),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new Lk({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}},Lk=Nb,Nb);u([f({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[1]},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(e,t,r){t[r]=[this.minValue||0,e]},isRequired:!0}}})],Cd.prototype,"maxValue",void 0),u([f({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[0]},write:{target:"range",writer(e,t,r){t[r]=[e,this.maxValue||0]},isRequired:!0}}})],Cd.prototype,"minValue",void 0),u([ye({range:"range"})],Cd.prototype,"type",void 0),Cd=Lk=u([A("esri.layers.support.RangeDomain")],Cd);const uX={key:"type",base:Yu,typeMap:{range:Cd,"coded-value":Qu,inherited:Dg}};function lT(e){if(!e?.type)return null;switch(e.type){case"range":return Cd.fromJSON(e);case"codedValue":return Qu.fromJSON(e);case"inherited":return Dg.fromJSON(e)}return null}var Dk;let ds=Dk=class extends Oc{constructor(e){super(e),this.domain=null,this.editable=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}clone(){return new Dk({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};u([f({types:uX,json:{read:{reader:lT},write:!0}})],ds.prototype,"domain",void 0),u([f({type:Boolean,json:{write:!0}})],ds.prototype,"editable",void 0),u([f({type:String,json:{write:!0}})],ds.prototype,"editableExpression",void 0),u([f({type:String,json:{write:!0}})],ds.prototype,"fieldName",void 0),u([f({type:String,json:{write:!0}})],ds.prototype,"hint",void 0),u([f({types:K_e,json:{read:{source:"inputType"},write:{target:"inputType"}}})],ds.prototype,"input",void 0),u([f({type:String,json:{write:!0}})],ds.prototype,"requiredExpression",void 0),u([f({type:String,json:{read:!1,write:!0}})],ds.prototype,"type",void 0),u([f({type:String,json:{write:!0}})],ds.prototype,"valueExpression",void 0),ds=Dk=u([A("esri.form.elements.FieldElement")],ds);const s8=ds;var Fk;let Wa=Fk=class extends Oc{constructor(e){super(e),this.displayCount=null,this.displayType="list",this.editableExpression=null,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new Fk({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:D(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};u([f({type:Number,json:{write:!0}})],Wa.prototype,"displayCount",void 0),u([f({type:["list"],json:{write:!0}})],Wa.prototype,"displayType",void 0),u([f({type:String,json:{write:!0}})],Wa.prototype,"editableExpression",void 0),u([f({type:[QR],json:{write:!0}})],Wa.prototype,"orderByFields",void 0),u([f({type:Number,json:{write:!0}})],Wa.prototype,"relationshipId",void 0),u([f({type:["relationship"],json:{read:!1,write:!0}})],Wa.prototype,"type",void 0),Wa=Fk=u([A("esri.form.elements.RelationshipElement")],Wa);const o8=Wa;var Uk;let Mf=Uk=class extends Oc{constructor(e){super(e),this.text=null,this.textFormat="plain-text",this.type="text"}clone(){return new Uk({text:this.text,textFormat:this.textFormat,visibilityExpression:this.visibilityExpression})}};u([f({type:String,json:{write:!0}})],Mf.prototype,"text",void 0),u([f({type:String,json:{write:!0}})],Mf.prototype,"textFormat",void 0),u([f({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],Mf.prototype,"type",void 0),Mf=Uk=u([A("esri.form.elements.TextElement")],Mf);const a8=Mf;let Rf=class extends Se.ClonableMixin(Oc){constructor(t){super(t),this.associationTypes=null,this.editableExpression=null,this.type="utilityNetworkAssociations"}};u([f({type:[LQ],json:{write:{isRequired:!0}}})],Rf.prototype,"associationTypes",void 0),u([f({type:String,json:{write:!0}})],Rf.prototype,"editableExpression",void 0),u([f({type:["utilityNetworkAssociations"],json:{read:!1,write:!0}})],Rf.prototype,"type",void 0),Rf=u([A("esri.form.elements.UtilityNetworkAssociationsElement")],Rf);const l8=Rf,Y_e=e=>e.type==="field",Q_e=e=>e.type==="group",X_e=e=>e.type==="text";function cX(e){return{typesWithGroup:{base:Oc,key:"type",typeMap:{attachment:e8,field:s8,group:e,relationship:o8,text:a8,utilityNetworkAssociations:l8}},typesWithoutGroup:{base:Oc,key:"type",typeMap:{attachment:e8,field:s8,relationship:o8,text:a8,utilityNetworkAssociations:l8}}}}function dX(e,t,r=!0){if(!e)return null;const n=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(i=>n[i.type]).map(i=>n[i.type].fromJSON(i))}function pX(e,t,r=!0){if(!e)return null;const n=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(i=>n[i.type]).map(i=>i.toJSON())}function fX(e,t,r=!0){return e?e.map(n=>$a(r?t.typesWithGroup:t.typesWithoutGroup,n)):null}var zk;let sa=zk=class extends Oc{constructor(e){super(e),this.elements=null,this.initialState="expanded",this.type="group"}castElements(e){return fX(e,ME,!1)}readElements(e,t){return dX(t.formElements,ME,!1)}writeElements(e,t){t.formElements=pX(e,ME,!1)}clone(){return new zk({description:this.description,elements:D(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};u([f({json:{write:!0}})],sa.prototype,"elements",void 0),u([ht("elements")],sa.prototype,"castElements",null),u([X("elements",["formElements"])],sa.prototype,"readElements",null),u([re("elements")],sa.prototype,"writeElements",null),u([f({type:["collapsed","expanded"],json:{write:!0}})],sa.prototype,"initialState",void 0),u([f({type:String,json:{read:!1,write:!0}})],sa.prototype,"type",void 0),sa=zk=u([A("esri.form.elements.GroupElement")],sa);const ME=cX(sa),e2e=sa;var Bk;const RE=cX(e2e);let eo=Bk=class extends z{constructor(e){super(e),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(e){return fX(e,RE)}readElements(e,t){return dX(t.formElements,RE)}writeElements(e,t){t.formElements=pX(e,RE)}clone(){return new Bk({description:this.description,expressionInfos:D(this.expressionInfos),elements:D(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}async getFieldsUsed(e,t){const r=new Set,{description:n,elements:i,expressionInfos:s,title:o}=this;if(Fg(r,e,n),Fg(r,e,o),!i)return[];const a=t2e(i,s).map(l=>Fo(r,e,l));await Promise.all(a);for(const l of i)hX(r,{fieldsIndex:e,relationships:t},l);return Array.from(r).sort()}};function hX(e,t,r){const{fieldsIndex:n}=t;if(!n||n.fields.length!==e.size)switch(Fg(e,n,r.label),Fg(e,n,r.description),r.type){case"field":Yi(e,n,r.fieldName);break;case"group":r.elements.forEach(i=>hX(e,t,i));break;case"relationship":if(t.relationships){const i=t.relationships.find(s=>s.id===r.relationshipId);i&&Yi(e,n,i.keyField)}nT(e,n,r.orderByFields?.map(i=>i.field));break;case"text":Fg(e,n,r.text)}}function t2e(e,t){if(!t||t.length===0)return[];const r=yX(e),n=[];for(const i of t)r.has(i.name)&&n.push(i.expression);return n}function yX(e){const t=new Set;for(const r of e)if(eF(t,r.visibilityExpression),!X_e(r)){if(Q_e(r))f_(t,yX(r.elements));else if(eF(t,r.editableExpression),Y_e(r)){const{requiredExpression:n,valueExpression:i}=r;f_(t,[n,i])}}return t}function Fg(e,t,r){nT(e,t,KR(r))}u([f({type:String,json:{write:!0}})],eo.prototype,"description",void 0),u([f({json:{write:!0}})],eo.prototype,"elements",void 0),u([ht("elements")],eo.prototype,"castElements",null),u([X("elements",["formElements"])],eo.prototype,"readElements",null),u([re("elements")],eo.prototype,"writeElements",null),u([f({type:[C_e],json:{write:!0}})],eo.prototype,"expressionInfos",void 0),u([f({type:Boolean,json:{default:!1,write:!0}})],eo.prototype,"preserveFieldValuesWhenHidden",void 0),u([f({type:String,json:{write:!0}})],eo.prototype,"title",void 0),eo=Bk=u([A("esri.form.FormTemplate")],eo);const r2e=eo;let u8=class{constructor(t=r=>r.values().next().value){this._peeker=t,this._observable=new sR,this._items=new Set}get length(){return Ae(this._observable),this._items.size}clear(){this.length!==0&&(this._items.clear(),this._observable.notify())}last(){if(this.length===0)return;let t;for(t of this._items);return t}peek(){if(this.length!==0)return this._peeker(this._items)}push(t){this.contains(t)||(this._items.add(t),this._observable.notify())}contains(t){return Ae(this._observable),this._items.has(t)}pop(){if(this.length===0)return;const t=this.peek();return this._items.delete(t),this._observable.notify(),t}popLast(){if(this.length===0)return;const t=this.last();return this._items.delete(t),this._observable.notify(),t}remove(t){this.contains(t)&&(this._items.delete(t),this._observable.notify())}filter(t){const r=this.length;return this._items.forEach(n=>{t(n)||this._items.delete(n)}),r!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){Ae(this._observable),yield*this._items}};const mX=new FinalizationRegistry(e=>{e.close()});function n2e(e,t){mX.register(e,t,t)}function i2e(e){mX.unregister(e)}function gX(e,t){return new Proxy({},{get:(r,n,i)=>(...s)=>{let o,a;const l=s[s.length-1];return s2e(l)&&(o=l.signal,a=l.transferList,s.pop()),e.apply(t?`${t}.${n.toString()}`:n.toString(),s,{transferList:a,signal:o})}})}function s2e(e){return typeof e=="object"&&!Array.isArray(e)&&e!=null&&("signal"in e||"transferList"in e||Object.keys(e).length===0)}const o2e={statsWorker:()=>ae(()=>import("./statsWorker-4b591073.js"),["assets/statsWorker-4b591073.js","assets/utils-a672495b.js","assets/quantizationUtils-b1a838dd.js","assets/utils-67389ce8.js","assets/utils-8e1c1b33.js","assets/ClassBreaksDefinition-5d917894.js"]),geometryEngineWorker:()=>ae(()=>import("./geometryEngineWorker-89a45233.js"),["assets/geometryEngineWorker-89a45233.js","assets/geometryEngineJSON-ec2f929c.js","assets/geometryEngineBase-7de0a3cc.js","assets/_commonjsHelpers-b09fa337.js","assets/json-48e3ea08.js"]),arcadeGeometryOperatorsWorker:()=>ae(()=>import("./operatorsWorker-5826bb6f.js"),[]),CSVSourceWorker:()=>ae(()=>import("./CSVSourceWorker-efaefb06.js"),["assets/CSVSourceWorker-efaefb06.js","assets/date-bf306b67.js","assets/json-48e3ea08.js","assets/OptimizedFeature-eb8a9ca3.js","assets/memoryEstimations-95fc020c.js","assets/executeQueryForSnapping-09a4cb15.js","assets/normalizeUtils-0f48385e.js","assets/normalizeUtilsCommon-676995ec.js","assets/FixedIntervalBinParameters-acb79cef.js","assets/QueryEngine-bec069b7.js","assets/featureConversionUtils-ecf55d9c.js","assets/OptimizedFeatureSet-5dc8ee29.js","assets/WhereClauseCache-759b8fc8.js","assets/WhereClause-19211c9c.js","assets/QueryEngineCapabilities-4b2bc619.js","assets/quantizationUtils-b1a838dd.js","assets/utils-a672495b.js","assets/utils-67389ce8.js","assets/utils-8e1c1b33.js","assets/ClassBreaksDefinition-5d917894.js","assets/signal-3a81bd24.js","assets/FeatureStore-da7ab15a.js","assets/BoundsStore-ef598ccc.js","assets/PooledRBush-f0ac9ac2.js","assets/quickselect-b7b34c34.js","assets/optimizedFeatureQueryEngineAdapter-044b1caf.js","assets/number-fb78a6c9.js","assets/clientSideDefaults-27e682e5.js"]),EdgeProcessingWorker:()=>ae(()=>import("./EdgeProcessingWorker-59998907.js"),["assets/EdgeProcessingWorker-59998907.js","assets/InterleavedLayout-842614cb.js","assets/BufferView-b8fa1162.js","assets/vec2-08ad2285.js","assets/vec32-37618b70.js","assets/vec2f64-44b9a02c.js","assets/types-d99602e0.js","assets/edgeProcessing-ed6b32e9.js","assets/deduplicate-eda0850f.js","assets/Indices-e0ee64fb.js","assets/VertexAttribute-123db042.js","assets/enums-ff43618c.js","assets/VertexElementDescriptor-2925c6af.js"]),ElevationSamplerWorker:()=>ae(()=>import("./ElevationSamplerWorker-1bb9a8f7.js"),["assets/ElevationSamplerWorker-1bb9a8f7.js","assets/PooledRBush-f0ac9ac2.js","assets/quickselect-b7b34c34.js","assets/MeshLocalVertexSpace-b4d6a09d.js","assets/vertexSpaceConversion-68edf03f.js","assets/mat3-848c9a5e.js","assets/mat3f64-d34bdb1e.js","assets/mat4f64-a3dc1405.js","assets/vec32-37618b70.js","assets/spatialReferenceEllipsoidUtils-b06c2c3c.js","assets/computeTranslationToOriginAndRotation-e96691a8.js","assets/projectPointToVector-030380a1.js","assets/meshVertexSpaceUtils-738177a0.js","assets/vec3-fc54a44a.js","assets/BufferView-b8fa1162.js","assets/vec2-08ad2285.js","assets/vec2f64-44b9a02c.js","assets/vec4-63e2976c.js"]),FeatureServiceSnappingSourceWorker:()=>ae(()=>import("./FeatureServiceSnappingSourceWorker-1d6be377.js"),["assets/FeatureServiceSnappingSourceWorker-1d6be377.js","assets/UpdatingHandles-ef7fc8ca.js","assets/executeQueryForSnapping-09a4cb15.js","assets/normalizeUtils-0f48385e.js","assets/normalizeUtilsCommon-676995ec.js","assets/FixedIntervalBinParameters-acb79cef.js","assets/json-48e3ea08.js","assets/QueryEngine-bec069b7.js","assets/featureConversionUtils-ecf55d9c.js","assets/OptimizedFeature-eb8a9ca3.js","assets/memoryEstimations-95fc020c.js","assets/OptimizedFeatureSet-5dc8ee29.js","assets/WhereClauseCache-759b8fc8.js","assets/WhereClause-19211c9c.js","assets/QueryEngineCapabilities-4b2bc619.js","assets/quantizationUtils-b1a838dd.js","assets/utils-a672495b.js","assets/utils-67389ce8.js","assets/utils-8e1c1b33.js","assets/ClassBreaksDefinition-5d917894.js","assets/signal-3a81bd24.js","assets/FeatureStore-da7ab15a.js","assets/BoundsStore-ef598ccc.js","assets/PooledRBush-f0ac9ac2.js","assets/quickselect-b7b34c34.js","assets/optimizedFeatureQueryEngineAdapter-044b1caf.js","assets/TileInfo-ce8dbde4.js","assets/TileKey-e7ec6ed7.js","assets/pbfQueryUtils-926ff7f8.js","assets/pbf-7aa9e413.js","assets/query-769e0ffd.js","assets/ByteSizeUnit-d4757d40.js"]),GeoJSONSourceWorker:()=>ae(()=>import("./GeoJSONSourceWorker-8cdfa37b.js"),["assets/GeoJSONSourceWorker-8cdfa37b.js","assets/featureConversionUtils-ecf55d9c.js","assets/OptimizedFeature-eb8a9ca3.js","assets/memoryEstimations-95fc020c.js","assets/OptimizedFeatureSet-5dc8ee29.js","assets/executeQueryForSnapping-09a4cb15.js","assets/normalizeUtils-0f48385e.js","assets/normalizeUtilsCommon-676995ec.js","assets/FixedIntervalBinParameters-acb79cef.js","assets/json-48e3ea08.js","assets/QueryEngine-bec069b7.js","assets/WhereClauseCache-759b8fc8.js","assets/WhereClause-19211c9c.js","assets/QueryEngineCapabilities-4b2bc619.js","assets/quantizationUtils-b1a838dd.js","assets/utils-a672495b.js","assets/utils-67389ce8.js","assets/utils-8e1c1b33.js","assets/ClassBreaksDefinition-5d917894.js","assets/signal-3a81bd24.js","assets/FeatureStore-da7ab15a.js","assets/BoundsStore-ef598ccc.js","assets/PooledRBush-f0ac9ac2.js","assets/quickselect-b7b34c34.js","assets/optimizedFeatureQueryEngineAdapter-044b1caf.js","assets/geojson-6a1b047a.js","assets/date-bf306b67.js","assets/clientSideDefaults-27e682e5.js","assets/sourceUtils-6f5308f3.js"]),LercWorker:()=>ae(()=>import("./LercWorker-ec22d82d.js"),[]),MemorySourceWorker:()=>ae(()=>import("./MemorySourceWorker-39efb27f.js"),["assets/MemorySourceWorker-39efb27f.js","assets/featureConversionUtils-ecf55d9c.js","assets/OptimizedFeature-eb8a9ca3.js","assets/memoryEstimations-95fc020c.js","assets/OptimizedFeatureSet-5dc8ee29.js","assets/objectIdUtils-967fafff.js","assets/executeQueryForSnapping-09a4cb15.js","assets/normalizeUtils-0f48385e.js","assets/normalizeUtilsCommon-676995ec.js","assets/FixedIntervalBinParameters-acb79cef.js","assets/json-48e3ea08.js","assets/QueryEngine-bec069b7.js","assets/WhereClauseCache-759b8fc8.js","assets/WhereClause-19211c9c.js","assets/QueryEngineCapabilities-4b2bc619.js","assets/quantizationUtils-b1a838dd.js","assets/utils-a672495b.js","assets/utils-67389ce8.js","assets/utils-8e1c1b33.js","assets/ClassBreaksDefinition-5d917894.js","assets/signal-3a81bd24.js","assets/FeatureStore-da7ab15a.js","assets/BoundsStore-ef598ccc.js","assets/PooledRBush-f0ac9ac2.js","assets/quickselect-b7b34c34.js","assets/optimizedFeatureQueryEngineAdapter-044b1caf.js","assets/clientSideDefaults-27e682e5.js","assets/sourceUtils-6f5308f3.js","assets/date-bf306b67.js"]),PBFDecoderWorker:()=>ae(()=>import("./PBFDecoderWorker-7fffada8.js"),["assets/PBFDecoderWorker-7fffada8.js","assets/featureConversionUtils-ecf55d9c.js","assets/OptimizedFeature-eb8a9ca3.js","assets/memoryEstimations-95fc020c.js","assets/OptimizedFeatureSet-5dc8ee29.js","assets/pbfQueryUtils-926ff7f8.js","assets/pbf-7aa9e413.js"]),FeaturePipelineWorker:()=>ae(()=>import("./FeaturePipelineWorker-bec9e7cc.js"),["assets/FeaturePipelineWorker-bec9e7cc.js","assets/TileInfo-ce8dbde4.js","assets/TileKey-e7ec6ed7.js","assets/GeometryUtils-5132d31c.js","assets/TileKey-34120127.js","assets/vec2-08ad2285.js","assets/ReactiveMap-240c4127.js","assets/signal-3a81bd24.js","assets/streamLayerUtils-649b6193.js","assets/OptimizedFeature-eb8a9ca3.js","assets/memoryEstimations-95fc020c.js","assets/floatRGBA-d8c359da.js","assets/vec2f32-d593cd8d.js","assets/enums-ff43618c.js","assets/libtess-2ee17852.js","assets/earcut-5a6c70eb.js","assets/vec2f64-44b9a02c.js","assets/featureConversionUtils-ecf55d9c.js","assets/OptimizedFeatureSet-5dc8ee29.js","assets/QueueProcessor-68074791.js","assets/FixedIntervalBinParameters-acb79cef.js","assets/normalizeUtils-0f48385e.js","assets/normalizeUtilsCommon-676995ec.js","assets/json-48e3ea08.js","assets/optimizedFeatureQueryEngineAdapter-044b1caf.js","assets/QueryEngine-bec069b7.js","assets/WhereClauseCache-759b8fc8.js","assets/WhereClause-19211c9c.js","assets/QueryEngineCapabilities-4b2bc619.js","assets/quantizationUtils-b1a838dd.js","assets/utils-a672495b.js","assets/utils-67389ce8.js","assets/utils-8e1c1b33.js","assets/ClassBreaksDefinition-5d917894.js","assets/quickselect-b7b34c34.js","assets/operatorGeodeticDensify-55f2183d.js","assets/SimpleGeometryCursor-e3941f41.js","assets/geodeticCurveType-07cde097.js","assets/normalizeUtilsSync-3112c45a.js","assets/query-769e0ffd.js","assets/pbfQueryUtils-926ff7f8.js","assets/pbf-7aa9e413.js","assets/ogcFeatureUtils-28141578.js","assets/geojson-6a1b047a.js","assets/date-bf306b67.js","assets/clientSideDefaults-27e682e5.js","assets/sourceUtils-6f5308f3.js","assets/createConnection-11c0a4e3.js","assets/UpdatingHandles-ef7fc8ca.js"]),PointCloudWorker:()=>ae(()=>import("./PointCloudWorker-b6a212e2.js"),["assets/PointCloudWorker-b6a212e2.js","assets/quat-3ef9ebee.js","assets/mat3f64-d34bdb1e.js","assets/quatf64-216ddd5a.js","assets/vec32-37618b70.js","assets/vec3f32-5edf24fc.js","assets/PointCloudUniqueValueRenderer-187b3ac5.js","assets/I3SBinaryReader-c0183dec.js","assets/VertexAttribute-123db042.js","assets/orientedBoundingBox-8de5994f.js","assets/mat3-848c9a5e.js","assets/mat4f64-a3dc1405.js","assets/spatialReferenceEllipsoidUtils-b06c2c3c.js","assets/computeTranslationToOriginAndRotation-e96691a8.js","assets/plane-881ab901.js","assets/vectorStacks-f3f45332.js","assets/vec2f64-44b9a02c.js"]),RasterWorker:()=>ae(()=>import("./RasterWorker-ce961a0b.js"),["assets/RasterWorker-ce961a0b.js","assets/GeographicTransformation-875081ea.js","assets/dataUtils-200c0f44.js","assets/_commonjsHelpers-b09fa337.js","assets/colorUtils-dbab2962.js","assets/rasterFunctionHelper-4e794af5.js","assets/PolynomialTransform-b96a0f86.js"]),SceneLayerSnappingSourceWorker:()=>ae(()=>import("./SceneLayerSnappingSourceWorker-93533bed.js"),["assets/SceneLayerSnappingSourceWorker-93533bed.js","assets/vec32-37618b70.js","assets/lineSegment-de126745.js","assets/sphere-2ec54985.js","assets/mat3-848c9a5e.js","assets/mat3f64-d34bdb1e.js","assets/vectorStacks-f3f45332.js","assets/mat4f64-a3dc1405.js","assets/quatf64-216ddd5a.js","assets/vec2f64-44b9a02c.js","assets/plane-881ab901.js","assets/BufferView-b8fa1162.js","assets/vec2-08ad2285.js","assets/edgeProcessing-ed6b32e9.js","assets/deduplicate-eda0850f.js","assets/Indices-e0ee64fb.js","assets/InterleavedLayout-842614cb.js","assets/types-d99602e0.js","assets/VertexAttribute-123db042.js","assets/enums-ff43618c.js","assets/VertexElementDescriptor-2925c6af.js"]),SceneLayerWorker:()=>ae(()=>import("./SceneLayerWorker-46819d6f.js"),["assets/SceneLayerWorker-46819d6f.js","assets/MeshLocalVertexSpace-b4d6a09d.js","assets/vec3-fc54a44a.js","assets/projectVectorToVector-05a9d263.js","assets/projectPointToVector-030380a1.js","assets/sphere-2ec54985.js","assets/vec32-37618b70.js","assets/mat3-848c9a5e.js","assets/mat3f64-d34bdb1e.js","assets/vectorStacks-f3f45332.js","assets/mat4f64-a3dc1405.js","assets/quatf64-216ddd5a.js","assets/vec2f64-44b9a02c.js","assets/I3SUtil-a306cecd.js","assets/I3SBinaryReader-c0183dec.js","assets/VertexAttribute-123db042.js","assets/floatRGBA-d8c359da.js","assets/NormalAttribute.glsl-3245b73c.js","assets/orientedBoundingBox-8de5994f.js","assets/quat-3ef9ebee.js","assets/spatialReferenceEllipsoidUtils-b06c2c3c.js","assets/computeTranslationToOriginAndRotation-e96691a8.js","assets/plane-881ab901.js"]),WFSSourceWorker:()=>ae(()=>import("./WFSSourceWorker-f165b2c2.js"),["assets/WFSSourceWorker-f165b2c2.js","assets/featureConversionUtils-ecf55d9c.js","assets/OptimizedFeature-eb8a9ca3.js","assets/memoryEstimations-95fc020c.js","assets/OptimizedFeatureSet-5dc8ee29.js","assets/executeQueryForSnapping-09a4cb15.js","assets/normalizeUtils-0f48385e.js","assets/normalizeUtilsCommon-676995ec.js","assets/FixedIntervalBinParameters-acb79cef.js","assets/json-48e3ea08.js","assets/QueryEngine-bec069b7.js","assets/WhereClauseCache-759b8fc8.js","assets/WhereClause-19211c9c.js","assets/QueryEngineCapabilities-4b2bc619.js","assets/quantizationUtils-b1a838dd.js","assets/utils-a672495b.js","assets/utils-67389ce8.js","assets/utils-8e1c1b33.js","assets/ClassBreaksDefinition-5d917894.js","assets/signal-3a81bd24.js","assets/FeatureStore-da7ab15a.js","assets/BoundsStore-ef598ccc.js","assets/PooledRBush-f0ac9ac2.js","assets/quickselect-b7b34c34.js","assets/optimizedFeatureQueryEngineAdapter-044b1caf.js","assets/geojson-6a1b047a.js","assets/date-bf306b67.js","assets/sourceUtils-6f5308f3.js","assets/wfsUtils-a2a08f31.js","assets/xmlUtils-444cb4c0.js"]),WorkerTileHandler:()=>ae(()=>import("./WorkerTileHandler-5a2a431a.js"),["assets/WorkerTileHandler-5a2a431a.js","assets/StyleRepository-d2b8baae.js","assets/GeometryUtils-5132d31c.js","assets/enums-ff43618c.js","assets/VertexElementDescriptor-2925c6af.js","assets/colorUtils-dbab2962.js","assets/libtess-2ee17852.js","assets/pbf-7aa9e413.js","assets/memoryEstimations-95fc020c.js","assets/earcut-5a6c70eb.js"]),Lyr3DWorker:()=>ae(()=>import("./Lyr3DWorker-3292d009.js"),[]),Feature3DPipelineWorker:()=>ae(()=>import("./Feature3DPipelineWorker-f9f870d8.js").then(e=>e.F),["assets/Feature3DPipelineWorker-f9f870d8.js","assets/QueryEngine-bec069b7.js","assets/featureConversionUtils-ecf55d9c.js","assets/OptimizedFeature-eb8a9ca3.js","assets/memoryEstimations-95fc020c.js","assets/OptimizedFeatureSet-5dc8ee29.js","assets/WhereClauseCache-759b8fc8.js","assets/WhereClause-19211c9c.js","assets/FixedIntervalBinParameters-acb79cef.js","assets/normalizeUtils-0f48385e.js","assets/normalizeUtilsCommon-676995ec.js","assets/json-48e3ea08.js","assets/QueryEngineCapabilities-4b2bc619.js","assets/quantizationUtils-b1a838dd.js","assets/utils-a672495b.js","assets/utils-67389ce8.js","assets/utils-8e1c1b33.js","assets/ClassBreaksDefinition-5d917894.js","assets/signal-3a81bd24.js","assets/mat4f64-a3dc1405.js","assets/vec32-37618b70.js","assets/MeshLocalVertexSpace-b4d6a09d.js","assets/vec2-08ad2285.js","assets/vec2f64-44b9a02c.js","assets/DefaultMaterial-e8c850aa.js","assets/videoUtils-18e4b8a5.js","assets/basicInterfaces-cbf2757f.js","assets/TextureFormat-60b88abd.js","assets/enums-ff43618c.js","assets/BufferView-b8fa1162.js","assets/sphere-2ec54985.js","assets/mat3-848c9a5e.js","assets/mat3f64-d34bdb1e.js","assets/vectorStacks-f3f45332.js","assets/quatf64-216ddd5a.js","assets/lineSegment-de126745.js","assets/orientedBoundingBox-8de5994f.js","assets/quat-3ef9ebee.js","assets/spatialReferenceEllipsoidUtils-b06c2c3c.js","assets/computeTranslationToOriginAndRotation-e96691a8.js","assets/plane-881ab901.js","assets/InterleavedLayout-842614cb.js","assets/types-d99602e0.js","assets/NormalAttribute.glsl-3245b73c.js","assets/VertexAttribute-123db042.js","assets/projectVectorToVector-05a9d263.js","assets/projectPointToVector-030380a1.js","assets/Indices-e0ee64fb.js","assets/floatRGBA-d8c359da.js","assets/vec3f32-5edf24fc.js","assets/IntersectorType-fff45762.js","assets/ReactiveMap-240c4127.js","assets/PooledRBush-f0ac9ac2.js","assets/quickselect-b7b34c34.js","assets/query-769e0ffd.js","assets/pbfQueryUtils-926ff7f8.js","assets/pbf-7aa9e413.js"]),TextureCompressionWorker:()=>ae(()=>import("./TextureCompressionWorker-2f2b1c39.js"),["assets/TextureCompressionWorker-2f2b1c39.js","assets/TextureFormat-60b88abd.js","assets/enums-ff43618c.js"])},vX="worker:port-closed";var tn;(function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.OPEN=1]="OPEN",e[e.OPENED=2]="OPENED",e[e.RESPONSE=3]="RESPONSE",e[e.INVOKE=4]="INVOKE",e[e.ABORT=5]="ABORT",e[e.CLOSE=6]="CLOSE",e[e.OPEN_PORT=7]="OPEN_PORT",e[e.ON=8]="ON"})(tn||(tn={}));let a2e=0;function bX(){return a2e++}function l2e(e){return e&&typeof e=="object"&&("result"in e||"transferList"in e)}function Cv(e){return e?typeof e=="string"?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function oL(e,t,r,n){if(t.type===tn.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==tn.INVOKE&&t.type!==tn.RESPONSE)return void e.postMessage(t);let i;if(l2e(r)?(i=c8(r.transferList),t.data=r.result):(i=c8(n),t.data=r),i){if(q("ff")){for(const s of i)if("byteLength"in s&&s.byteLength>267386880){const o="Worker call with large ArrayBuffer would crash Firefox";switch(t.type){case tn.INVOKE:throw o;case tn.RESPONSE:return void oL(e,{type:tn.RESPONSE,jobId:t.jobId,error:Cv(o)})}}}e.postMessage(t,i)}else e.postMessage(t)}function Nv(e){if(!e)return null;const t=e.data;return t?typeof t=="string"?JSON.parse(t):t:null}function c8(e){if(!e?.length)return null;if(q("esri-workers-arraybuffer-transfer"))return e;const t=e.filter(r=>!u2e(r));return t.length?t:null}function u2e(e){return e instanceof ArrayBuffer||e?.constructor?.name==="ArrayBuffer"}async function hrt(e){try{return await e}catch(t){const r=t?.name===vX;if(!(Ls(t)||r))throw t;return}}const{CLOSE:d8,ABORT:p8,INVOKE:f8,RESPONSE:Qm,OPEN_PORT:h8,ON:c2e}=tn,d2e=2;let p2e=class{constructor(t){this._invoke=t,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(t){t.type===tn.ABORT?this._cancelledJobIds.add(t.jobId):(this._invokeMessages.push(t),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const t of this._invokeMessages)this._cancelledJobIds.has(t.jobId)||this._invoke(t);this._cancelledJobIds.clear(),this._invokeMessages.length=0}};var go;let by=(go=class{static connect(t,r){const n=new MessageChannel;let i;i=typeof t=="function"?new t:"default"in t&&typeof t.default=="function"?new t.default:t;const s=new go(n.port1,{channel:n,client:i,schedule:r});return typeof i=="object"&&"remoteClient"in i&&(i.remoteClient=s),go.clients.set(s,i),n.port2}static loadWorker(t){const r=o2e[t];return r?r():Promise.resolve(null)}constructor(t,r,n,i){this._port=t,this._jobQueue=n,this._lowPriorityJobQueue=i,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new p2e(s=>this._onInvokeMessage(s)),this._client=r.client,this._onMessage=this._onMessage.bind(this),this._channel=r.channel,this._schedule=r.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:d8}),this._close()}isBusy(){return this._outJobs.size>0}invoke(t,r,n){return this.apply(t,[r],n)}apply(t,r,n){const i=n?.signal,s=n?.transferList;if(!this._port)return Promise.reject(new K(vX,`Cannot call invoke('${t}'), port is closed`,{methodName:t,data:r}));const o=bX();return new Promise((a,l)=>{if(Fl(i))return this._processWork(),void l(gr());const c=yp(i,()=>{const p=this._outJobs.get(o);p&&(this._outJobs.delete(o),this._processWork(),Ao(p.abortHandle),this._post({type:p8,jobId:o}),l(gr()))}),d={resolve:a,reject:l,abortHandle:c,debugInfo:t};this._outJobs.set(o,d),this._post({type:f8,jobId:o,methodName:t,abortable:i!=null},r,s)})}createInvokeProxy(t){return gX(this,t)}on(t,r){const n=new MessageChannel;function i(s){r(s.data)}return this._port.postMessage({type:tn.ON,eventType:t,port:n.port2},[n.port2]),n.port1.addEventListener("message",i),n.port1.start(),vr(()=>{n.port1.postMessage({type:tn.CLOSE}),n.port1.close(),n.port1.removeEventListener("message",i)})}jobAdded(){this._processWork()}openPort(){const t=new MessageChannel;return this._post({type:h8,port:t.port2}),t.port1}_processWork(){if(this._outJobs.size>=d2e)return;const t=this._jobQueue?.pop()??this._lowPriorityJobQueue?.pop();if(!t)return;const{methodName:r,data:n,invokeOptions:i,resolver:s}=t;this.apply(r,n,i).then(o=>s.resolve(o)).catch(o=>s.reject(o))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(t=>{Ao(t.abortHandle),t.reject(gr(`Worker closing, aborting job calling '${t.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(t){this._schedule!=null?this._schedule(()=>this._processMessage(t,!0)):this._processMessage(t,!1)}_processMessage(t,r){const n=Nv(t);if(n)switch(n.type){case Qm:this._onResponseMessage(n);break;case f8:r?this._onInvokeMessage(n):this._invokeQueue.push(n);break;case p8:this._onAbortMessage(n);break;case d8:this._onCloseMessage();break;case h8:this._onOpenPortMessage(n);break;case c2e:this._onOnMessage(n)}}_onAbortMessage(t){const r=this._inJobs,n=t.jobId,i=r.get(n);this._invokeQueue.push(t),i&&(i.controller&&i.controller.abort(),r.delete(n))}_onCloseMessage(){const t=this._client;this._close(),t&&"destroy"in t&&go.clients.get(this)===t&&t.destroy(),go.clients.delete(this),t?.remoteClient&&(t.remoteClient=null)}_onInvokeMessage(t){const{methodName:r,jobId:n,data:i=[],abortable:s}=t,o=s?new AbortController:null,a=this._inJobs;let l,c=this._client,d=c[r];try{if(!d&&r&&r.includes(".")){const p=r.split(".");for(let y=0;y<p.length-1;y++)c=c[p[y]],d=c[p[y+1]]}if(typeof d!="function")throw new TypeError(`${r} is not a function`);i.push({client:this,signal:o?o.signal:null}),l=d.apply(c,i)}catch(p){return void this._post({type:Qm,jobId:n,error:Cv(p)})}rm(l)?(a.set(n,{controller:o,promise:l}),l.then(p=>{a.has(n)&&(a.delete(n),this._post({type:Qm,jobId:n},p))},p=>{a.has(n)&&(a.delete(n),Ls(p)||this._post({type:Qm,jobId:n,error:Cv(p||{message:`Error encountered at method ${r}`})}))})):this._post({type:Qm,jobId:n},l)}_onOpenPortMessage(t){new go(t.port,{client:this._client})}_onOnMessage(t){const{port:r}=t,n=this._client.on(t.eventType,s=>{r.postMessage(s)}),i=VM(t.port,"message",s=>{Nv(s)?.type===tn.CLOSE&&(i.remove(),n.remove(),r.close())})}_onResponseMessage(t){const{jobId:r,error:n,data:i}=t,s=this._outJobs;if(!s.has(r))return;const o=s.get(r);s.delete(r),this._processWork(),Ao(o.abortHandle),n?o.reject(K.fromJSON(JSON.parse(n))):o.resolve(i)}_post(t,r,n){return oL(this._port,t,r,n)}},go.kernelInfo={buildDate:FH,fullVersion:zM,revision:UH},go.clients=new Map,go),f2e=class{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new u8,this._ongoingLowPriorityJobsQueue=new u8}destroy(){this.close()}get closed(){return!this._clients?.length}open(t,r){return new Promise((n,i)=>{let s=!0;const o=a=>{Un(r.signal),s&&(s=!1,a())};this._clients.length=t.length,this._clientPromises.length=t.length,this._inUseClients.length=t.length;for(let a=0;a<t.length;++a){const l=t[a];rm(l)?this._clientPromises[a]=l.then(c=>(this._clients[a]=new by(c,r,this._ongoingJobsQueue,this._ongoingLowPriorityJobsQueue),o(n),this._clients[a]),()=>(o(i),null)):(this._clients[a]=new by(l,r,this._ongoingJobsQueue,this._ongoingLowPriorityJobsQueue),this._clientPromises[a]=Promise.resolve(this._clients[a]),o(n))}})}broadcast(t,r,n){const i=new Array(this._clientPromises.length);for(let s=0;s<this._clientPromises.length;++s){const o=this._clientPromises[s];i[s]=o.then(a=>a?.invoke(t,r,n))}return i}close(){let t;for(;t=this._ongoingJobsQueue.pop();)t.resolver.reject(gr(`Worker closing, aborting job calling '${t.methodName}'`));for(;t=this._ongoingLowPriorityJobsQueue.pop();)t.resolver.reject(gr(`Worker closing, aborting job calling '${t.methodName}'`));for(const r of this._clientPromises)r.then(n=>n?.close());this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,i2e(this)}invoke(t,r,n){return this.apply(t,[r],n)}apply(t,r,n){const i=gc();(n?.priority==="low"?this._ongoingLowPriorityJobsQueue:this._ongoingJobsQueue).push({methodName:t,data:r,invokeOptions:n,resolver:i});for(let s=0;s<this._clientPromises.length;s++){const o=this._clients[s];o?o.jobAdded():this._clientPromises[s].then(a=>a?.jobAdded())}return i.promise}createInvokeProxy(t){return gX(this,t)}on(t,r){return Promise.all(this._clientPromises).then(()=>A$(this._clients.map(n=>n.on(t,r))))}openPorts(){return new Promise(t=>{const r=new Array(this._clientPromises.length);let n=r.length;for(let i=0;i<this._clientPromises.length;++i)this._clientPromises[i].then(s=>{s&&(r[i]=s.openPort()),--n===0&&t(r)})})}get test(){}};const h2e={async request(e,t){const r=e.options,n=r.responseType;r.signal=t?.signal,r.responseType=n==="native"||n==="native-request-init"?"native-request-init":n&&["blob","json","text"].includes(n)&&MA(e.url)?.after?n:"array-buffer";const i=await nt(e.url,r),s={data:i.data,httpStatus:i.httpStatus,ssl:i.ssl};switch(i.requestOptions?.responseType){case"native-request-init":return delete s.data.signal,s;case"blob":s.data=await s.data.arrayBuffer();break;case"json":s.data=new TextEncoder().encode(JSON.stringify(s.data)).buffer;break;case"text":s.data=new TextEncoder().encode(s.data).buffer}return{result:s,transferList:[s.data]}}},y8={};function y2e(e){const t={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:{...e.has},map:{...e.map},packages:e.packages?.slice()||[],paths:{...y8.paths,...e.paths}};return e.hasOwnProperty("async")||(t.async=!0),e.hasOwnProperty("isDebug")||(t.isDebug=!1),e.baseUrl||(t.baseUrl=y8.baseUrl),t}let m2e=class{constructor(){const t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(r=>{this[r]=(...n)=>t[r](...n)})}},lS=class{constructor(){this._dispatcher=new m2e,this._workerPostMessage({type:tn.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(t){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=t,t&&this.addEventListener("message",t)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(t){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=t,t&&this.addEventListener("messageerror",t)}get onerror(){return this._onerrorHandler}set onerror(t){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=t,t&&this.addEventListener("error",t)}postMessage(t){p_(()=>{this._workerMessageHandler(new MessageEvent("message",{data:t}))})}dispatchEvent(t){return this._dispatcher.dispatchEvent(t)}addEventListener(t,r,n){this._dispatcher.addEventListener(t,r,n)}removeEventListener(t,r,n){this._dispatcher.removeEventListener(t,r,n)}_workerPostMessage(t){p_(()=>{this.dispatchEvent(new MessageEvent("message",{data:t}))})}async _workerMessageHandler(t){const r=Nv(t);if(r&&r.type===tn.OPEN){const{modulePath:n,jobId:i}=r;let s=await by.loadWorker(n);s||(s=await ae(()=>import(n),[]));const o=by.connect(s);this._workerPostMessage({type:tn.OPENED,jobId:i,data:o})}}};const Vk=()=>ce.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:g2e}=tn,v2e='let globalId=0;const outgoing=new Map,configuration={CONFIGURATION};self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;let s=null;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());s=()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener("abort",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})})).finally((()=>{t&&t.removeEventListener("abort",s)}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\nModules version: ${r}\nAssets version: ${n??s}\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let gw,vw;const m8="Failed to create Worker. Fallback to execute module in main thread";async function b2e(){if(!q("esri-workers"))return g8(new lS);if(!gw&&!vw)try{const t=v2e.split("{CONFIGURATION}").join(w2e());gw=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(t){vw=t||{}}let e;if(gw)try{e=new Worker(gw,{name:"esri-worker-"+x2e++})}catch{Vk().warn(m8,vw),e=new lS}else Vk().warn(m8,vw),e=new lS;return g8(e)}async function g8(e){return new Promise(t=>{function r(i){const s=Nv(i);s&&s.type===g2e&&(e.removeEventListener("message",r),e.removeEventListener("error",n),t(e))}function n(i){i.preventDefault(),e.removeEventListener("message",r),e.removeEventListener("error",n),Vk().warn("Failed to create Worker. Fallback to execute module in main thread",i),(e=new lS).addEventListener("message",r),e.addEventListener("error",n)}e.addEventListener("message",r),e.addEventListener("error",n)})}function w2e(){let e;if(Xe.default!=null){const i={...Xe};delete i.default,e=JSON.parse(JSON.stringify(i))}else e=JSON.parse(JSON.stringify(Xe));e.assetsPath=xs(e.assetsPath),e.defaultAssetsPath=e.defaultAssetsPath?xs(e.defaultAssetsPath):void 0,e.request.interceptors=[],e.log.interceptors=[],e.locale=Is(),e.has={"esri-csp-restrictions":q("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":q("esri-2d-update-debug"),"esri-2d-log-updating":q("esri-2d-log-updating"),"featurelayer-pbf":q("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":q("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":q("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":q("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":q("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":q("featurelayer-query-max-depth"),"featurelayer-query-tile-max-features":q("featurelayer-query-tile-max-features"),"featurelayer-query-tile-concurrency":q("featurelayer-query-tile-concurrency"),"featurelayer-query-pausing-enabled":q("featurelayer-query-pausing-enabled"),"featurelayer-snapshot-concurrency":q("featurelayer-snapshot-concurrency"),"featurelayer-snapshot-enabled":q("featurelayer-snapshot-enabled"),"esri-atomics":q("esri-atomics"),"esri-shared-array-buffer":q("esri-shared-array-buffer"),"esri-tiles-debug":q("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":q("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":q("feature-polyline-generalization-factor"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=xs(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=xs(e.workers.workerPath):e.workers.workerPath=xs(fr("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;const t=Xe.workers.loaderConfig,r=y2e({baseUrl:t?.baseUrl,locale:Is(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...t?.has},map:{...t?.map},paths:{...t?.paths},packages:t?.packages||[]});return JSON.stringify({esriConfig:e,loaderConfig:r,kernelInfo:{buildDate:FH,fullVersion:zM,revision:UH}})}let x2e=0;const{ABORT:v8,INVOKE:S2e,OPEN:_2e,OPENED:$2e,RESPONSE:Xm}=tn;let T2e=class wX{static async create(t){const r=await b2e();return new wX(r,t)}constructor(t,r){this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=r,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",n=>{n.preventDefault(),ce.getLogger("esri.core.workers.WorkerOwner").error(n)})}terminate(){this.worker.terminate()}async open(t,r={}){const{signal:n}=r,i=bX();return new Promise((s,o)=>{const a={resolve:s,reject:o,abortHandle:GH(n,()=>{this._outJobs.delete(i),this._post({type:v8,jobId:i})})};this._outJobs.set(i,a),this._post({type:_2e,jobId:i,modulePath:t})})}_onMessage(t){const r=Nv(t);if(r)switch(r.type){case $2e:this._onOpenedMessage(r);break;case Xm:this._onResponseMessage(r);break;case v8:this._onAbortMessage(r);break;case S2e:this._onInvokeMessage(r)}}_onAbortMessage(t){const r=this._inJobs,n=t.jobId,i=r.get(n);i&&(i.controller&&i.controller.abort(),r.delete(n))}_onInvokeMessage(t){const{methodName:r,jobId:n,data:i,abortable:s}=t,o=s?new AbortController:null,a=this._inJobs,l=h2e[r];let c;try{if(typeof l!="function")throw new TypeError(`${r} is not a function`);c=l.call(null,i,{signal:o?o.signal:null})}catch(d){return void this._post({type:Xm,jobId:n,error:Cv(d)})}rm(c)?(a.set(n,{controller:o,promise:c}),c.then(d=>{a.has(n)&&(a.delete(n),this._post({type:Xm,jobId:n},d))},d=>{a.has(n)&&(a.delete(n),d||(d={message:"Error encountered at method"+r}),Ls(d)||this._post({type:Xm,jobId:n,error:Cv(d||{message:`Error encountered at method ${r}`})}))})):this._post({type:Xm,jobId:n},c)}_onOpenedMessage(t){const{jobId:r,data:n}=t,i=this._outJobs.get(r);i&&(this._outJobs.delete(r),Ao(i.abortHandle),i.resolve(n))}_onResponseMessage(t){const{jobId:r,error:n,data:i}=t,s=this._outJobs.get(r);s&&(this._outJobs.delete(r),Ao(s.abortHandle),n?s.reject(K.fromJSON(JSON.parse(n))):s.resolve(i))}_post(t,r,n){return oL(this.worker,t,r,n)}};const b8=q("host-browser")?Math.min(navigator.hardwareConcurrency-1,q("workers-pool-size")??8):0;let Wd=q("esri-mobile")?Math.min(b8,3):b8;Wd||(Wd=q("safari")&&q("mac")?7:2);let w8=0;const uS=[];async function bw(e,t){const r=new f2e,{registryTarget:n,...i}=t;return await r.open(e,i),n&&n2e(n,r),r}async function O2e(e,t={}){if(typeof e!="string")throw new K("workers:undefined-module","modulePath is missing");let r=t.strategy||"distributed";if(q("host-webworker")&&!q("esri-workers")&&(r="local"),r==="local"){let n=await by.loadWorker(e);n||(n=await ae(()=>import(e),[])),Un(t.signal);const i=t.client||n;return bw([by.connect(n,t.schedule)],{...t,client:i})}if(await E2e(),Un(t.signal),r==="dedicated"){const n=w8++%Wd;return bw([await uS[n].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const n=Math.min(t.maxNumWorkers,Wd);if(n<Wd){const i=new Array(n);for(let s=0;s<n;++s){const o=w8++%Wd;i[s]=uS[o].open(e,t)}return bw(i,t)}}return bw(uS.map(n=>n.open(e,t)),t)}let ww=null;async function E2e(){if(ww)return ww;new AbortController;const e=[];for(let t=0;t<Wd;t++){const r=T2e.create(t).then(n=>(uS[t]=n,n));e.push(r)}return ww=Promise.all(e),ww}function x8(e,t,r){if(e.hasM==null||e.hasZ)for(const n of t)for(const i of n)i.length>2&&(i[2]*=r)}function j2e(e,t,r){if(!e&&!t||!r)return;const n=O_(r);S8(e,r,n),S8(t,r,n)}function S8(e,t,r){if(e)for(const n of e)A2e(n.geometry,t,r)}function A2e(e,t,r){if(!e?.spatialReference||Ei(e.spatialReference,t))return;const n=O_(e.spatialReference)/r;if(n!==1){if("x"in e)e.z!=null&&(e.z*=n);else if("rings"in e)x8(e,e.rings,n);else if("paths"in e)x8(e,e.paths,n);else if("points"in e&&(e.hasM==null||e.hasZ))for(const i of e.points)i.length>2&&(i[2]*=n)}}function _8(e,t,r){if(!r?.features||!r.hasZ)return;const n=TY(r.geometryType,t,e.outSpatialReference);if(n!=null)for(const i of r.features)n(i.geometry)}var qk;const I2e=new Pe({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});var Mb;let Zr=(Mb=class extends z{constructor(t){super(t),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(t,{description:r}){let n=null;try{n=r?JSON.parse(r):null}catch{}return n?.value??null}readValueType(t,{description:r}){let n=null;try{n=r?JSON.parse(r):null}catch{}return n?I2e.fromJSON(n.fieldValueType):null}clone(){return new qk({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain?.clone()??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}},qk=Mb,Mb);u([f({type:String,json:{write:!0}})],Zr.prototype,"alias",void 0),u([f({type:[String,Number],json:{write:{allowNull:!0}}})],Zr.prototype,"defaultValue",void 0),u([f()],Zr.prototype,"description",void 0),u([X("description")],Zr.prototype,"readDescription",null),u([f({types:uX,json:{read:{reader:lT},write:!0}})],Zr.prototype,"domain",void 0),u([f({type:Boolean,json:{write:!0}})],Zr.prototype,"editable",void 0),u([f({type:Be,json:{write:{overridePolicy:e=>({enabled:Number.isFinite(e)})}}})],Zr.prototype,"length",void 0),u([f({type:String,json:{write:!0}})],Zr.prototype,"name",void 0),u([f({type:Boolean,json:{write:!0}})],Zr.prototype,"nullable",void 0),u([ye(WR)],Zr.prototype,"type",void 0),u([f()],Zr.prototype,"valueType",void 0),u([X("valueType",["description"])],Zr.prototype,"readValueType",null),u([f({type:Boolean,json:{read:!1}})],Zr.prototype,"visible",void 0),Zr=qk=u([A("esri.layers.support.Field")],Zr);var Gk;const Wk=new Pe({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let Rr=Gk=class extends z{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){return this.readFeaturesWithClass(e,t,_r)}writeGeometryType(e,t,r,n){if(e)return void Wk.write(e,t,r,n);const{features:i}=this;if(i){for(const s of i)if(s?.geometry!=null)return void Wk.write(s.geometry.type,t,r,n)}}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,n=zl(e);return n&&!r&&t.spatialReference&&(n.spatialReference=be.fromJSON(t.spatialReference)),n}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:r}=this;if(r){for(const n of r)if(n&&n.geometry!=null&&n.geometry.spatialReference)return void(t.spatialReference=n.geometry.spatialReference.toJSON())}}clone(){return new Gk(this.cloneProperties())}cloneProperties(){return D({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const n=t.features[r];if(n.geometry){const i=e?.[r];n.geometry=i?.toJSON()||n.geometry}}return t}quantize(e){const{scale:[t,r],translate:[n,i]}=e,s=c=>Math.round((c-n)/t),o=c=>Math.round((i-c)/r),a=this.features,l=this._getQuantizationFunction(this.geometryType,s,o);for(let c=0,d=a.length;c<d;c++)l?.(a[c].geometry)||(a.splice(c,1),c--,d--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:r}=this;if(!r)return this;const{translate:[n,i],scale:[s,o]}=r,a=y=>y*s+n,l=y=>i-y*o;let c=null,d=null;if(this.hasZ&&r?.scale?.[2]!=null){const{translate:[,,y],scale:[,,m]}=r;c=g=>g*m+y}if(this.hasM&&r?.scale?.[3]!=null){const{translate:[,,,y],scale:[,,,m]}=r;d=g=>g==null?g:g*m+y}const p=this._getHydrationFunction(e,a,l,c,d);for(const{geometry:y}of t)y!=null&&p&&p(y);return this.transform=null,this}readFeaturesWithClass(e,t,r){const n=be.fromJSON(t.spatialReference),i=[];for(let s=0;s<e.length;s++){const o=e[s],a=r.fromJSON(o),l=o.geometry?.spatialReference;a.geometry==null||l||(a.geometry.spatialReference=n);const c=o.aggregateGeometries,d=a.aggregateGeometries;if(c&&d!=null)for(const p in d){const y=d[p],m=c[p],g=m?.spatialReference;y==null||g||(y.spatialReference=n)}i.push(a)}return i}_quantizePoints(e,t,r){let n,i;const s=[];for(let o=0,a=e.length;o<a;o++){const l=e[o];if(o>0){const c=t(l[0]),d=r(l[1]);c===n&&d===i||(s.push([c-n,d-i]),n=c,i=d)}else n=t(l[0]),i=r(l[1]),s.push([n,i])}return s.length>0?s:null}_getQuantizationFunction(e,t,r){return e==="point"?n=>(n.x=t(n.x),n.y=r(n.y),n):e==="polyline"||e==="polygon"?n=>{const i=Pg(n)?n.rings:n.paths,s=[];for(let o=0,a=i.length;o<a;o++){const l=i[o],c=this._quantizePoints(l,t,r);c&&s.push(c)}return s.length>0?(Pg(n)?n.rings=s:n.paths=s,n):null}:e==="multipoint"?n=>{const i=this._quantizePoints(n.points,t,r);return i&&i.length>0?(n.points=i,n):null}:e==="extent"?n=>n:null}_getHydrationFunction(e,t,r,n,i){return e==="point"?s=>{s.x=t(s.x),s.y=r(s.y),n&&(s.z=n(s.z))}:e==="polyline"||e==="polygon"?s=>{const o=Pg(s)?s.rings:s.paths;let a,l;for(let c=0,d=o.length;c<d;c++){const p=o[c];for(let y=0,m=p.length;y<m;y++){const g=p[y];y>0?(a+=g[0],l+=g[1]):(a=g[0],l=g[1]),g[0]=t(a),g[1]=r(l)}}if(n&&i)for(let c=0,d=o.length;c<d;c++){const p=o[c];for(let y=0,m=p.length;y<m;y++){const g=p[y];g[2]=n(g[2]),g[3]=i(g[3])}}else if(n)for(let c=0,d=o.length;c<d;c++){const p=o[c];for(let y=0,m=p.length;y<m;y++){const g=p[y];g[2]=n(g[2])}}else if(i)for(let c=0,d=o.length;c<d;c++){const p=o[c];for(let y=0,m=p.length;y<m;y++){const g=p[y];g[2]=i(g[2])}}}:e==="extent"?s=>{s.xmin=t(s.xmin),s.ymin=r(s.ymin),s.xmax=t(s.xmax),s.ymax=r(s.ymax),n&&s.zmax!=null&&s.zmin!=null&&(s.zmax=n(s.zmax),s.zmin=n(s.zmin)),i&&s.mmax!=null&&s.mmin!=null&&(s.mmax=i(s.mmax),s.mmin=i(s.mmin))}:e==="multipoint"?s=>{const o=s.points;let a,l;for(let c=0,d=o.length;c<d;c++){const p=o[c];c>0?(a+=p[0],l+=p[1]):(a=p[0],l=p[1]),p[0]=t(a),p[1]=r(l)}if(n&&i)for(let c=0,d=o.length;c<d;c++){const p=o[c];p[2]=n(p[2]),p[3]=i(p[3])}else if(n)for(let c=0,d=o.length;c<d;c++){const p=o[c];p[2]=n(p[2])}else if(i)for(let c=0,d=o.length;c<d;c++){const p=o[c];p[2]=i(p[2])}}:null}};u([f({type:String,json:{write:!0}})],Rr.prototype,"displayFieldName",void 0),u([f({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Rr.prototype,"exceededTransferLimit",void 0),u([f({type:[_r],json:{write:!0}})],Rr.prototype,"features",void 0),u([X("features")],Rr.prototype,"readFeatures",null),u([f({type:[Zr],json:{write:!0}})],Rr.prototype,"fields",void 0),u([f({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:Wk.read}}})],Rr.prototype,"geometryType",void 0),u([re("geometryType")],Rr.prototype,"writeGeometryType",null),u([f({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Rr.prototype,"hasM",void 0),u([f({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Rr.prototype,"hasZ",void 0),u([f({types:dm,json:{write:!0}})],Rr.prototype,"queryGeometry",void 0),u([X("queryGeometry")],Rr.prototype,"readQueryGeometry",null),u([f({type:be,json:{write:!0}})],Rr.prototype,"spatialReference",void 0),u([re("spatialReference")],Rr.prototype,"writeSpatialReference",null),u([f({json:{write:!0}})],Rr.prototype,"transform",void 0),Rr=Gk=u([A("esri.rest.support.FeatureSet")],Rr),Rr.prototype.toJSON.isDefaultToJSON=!0;let P2e=0,al=class extends xi.LoadableMixin(zd.EsriPromiseMixin(Te)){constructor(t){super(t),this._idToClientGeometry=null,this.type="memory"}load(t){const r=t!=null?t.signal:null;return this.addResolvingPromise(this._startWorker(r)),Promise.resolve(this)}destroy(){this._connection?.close(),this._connection=null}get _workerGeometryType(){const t=this.layer?.geometryType;return t?this._geometryTypeRequiresClientGraphicMapping(t)?"polygon":t:null}applyEdits(t){return this.load().then(()=>this._applyEdits(t))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(t,r={}){await this.load(r);const n=await this._connection.invoke("queryFeatures",t?t.toJSON():null,r);_8(t,this.layer.spatialReference,n);const i=Rr.fromJSON(n);if(!this._requiresClientGraphicMapping()||!this._idToClientGeometry)return i;const s=this.layer.objectIdField;for(const o of i.features){const a=o.attributes[s],l=this._idToClientGeometry.get(a);l!==void 0&&(o.geometry=l)}return i.geometryType=this.layer.geometryType,i}async queryFeaturesJSON(t,r={}){if(this._requiresClientGraphicMapping())throw new K("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(r);const n=await this._connection.invoke("queryFeatures",t?t.toJSON():null,r);return _8(t,this.layer.spatialReference,n),n}queryFeatureCount(t,r={}){return this.load(r).then(()=>this._connection.invoke("queryFeatureCount",t?t.toJSON():null,r))}queryObjectIds(t,r={}){return this.load(r).then(()=>this._connection.invoke("queryObjectIds",t?t.toJSON():null,r))}queryExtent(t,r={}){return this.load(r).then(()=>this._connection.invoke("queryExtent",t?t.toJSON():null,r)).then(n=>({count:n.count,extent:ze.fromJSON(n.extent)}))}querySnapping(t,r={}){return this.load(r).then(()=>this._connection.invoke("querySnapping",t,r))}async queryAttributeBins(t,r={}){return await this.load(),this._connection.invoke("queryAttributeBins",t?.toJSON(),r)}async _applyEdits(t){if(!this._connection)throw new K("feature-layer-source:edit-failure","Memory source not loaded");const r=this.layer.objectIdField;let n=null;const i=[],s=[];await Promise.all([this._prepareClientMapping(t.addFeatures,null),this._prepareClientMapping(t.updateFeatures,null)]);const o=d=>"objectId"in d&&d.objectId!=null?d.objectId:"attributes"in d&&d.attributes[r]!=null?d.attributes[r]:null;if(t.addFeatures&&(n=this._prepareAddFeatures(t.addFeatures)),t.deleteFeatures)for(const d of t.deleteFeatures){const p=o(d);p!=null&&i.push(p)}const a=t.updateFeatures&&this._idToClientGeometry?new Map:null;if(t.updateFeatures){for(const d of t.updateFeatures)if(s.push(this._serializeFeature(d)),a&&d.geometry!=null){const p=o(d);p!=null&&a.set(p,d)}}j2e(n?n.features:null,s,this.layer.spatialReference);const{fullExtent:l,featureEditResults:c}=await this._connection.invoke("applyEdits",{adds:n?n.features:[],updates:s,deletes:i});return this.fullExtent=l,n&&n.finish(c.uidToObjectId),this._updateIdToClientGeometries(a,c),this._createEditsResult(c)}async _prepareClientMapping(t,r){if(this._layerOrSourceGeometryType!=="mesh"||t==null)return;const n=[];for(const{geometry:i}of t)i==null||i.type!=="mesh"||i.hasExtent||i.loaded||n.push(i.load({signal:r}));n.length&&await Promise.all(n)}_updateIdToClientGeometries(t,r){if(this._idToClientGeometry){if(t)for(const n of r.updateResults){if(!n.success)continue;const i=t.get(n.objectId);i!=null&&this._addIdToClientGeometry(i)}for(const n of r.deleteResults)n.success&&this._idToClientGeometry.delete(n.objectId)}}_createEditsResult(t){return{addFeatureResults:t.addResults?t.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:t.updateResults?t.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:t.deleteResults?t.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(t){const r=t.success===!0?null:t.error||{code:void 0,description:""};return{objectId:t.objectId,globalId:t.globalId,error:r?new K("feature-layer-source:edit-failure",r.description,{code:r.code}):null}}_prepareAddFeatures(t){const r=new Map,n=new Array(t.length);let i=null;for(let o=0;o<t.length;o++){const a=t[o],l=this._serializeFeature(a);i||a.geometry==null||(i=a.geometry.type),n[o]=l,r.set(`${l.uid}`,a)}const s=this;return{features:n,inferredGeometryType:i,finish(o){const a=s.sourceJSON.objectIdField;for(const l in o){const c=o[l],d=r.get(l);d&&(d.attributes||(d.attributes={}),c===-1?delete d.attributes[a]:d.attributes[a]=c,s._addIdToClientGeometry(d))}}}}_addIdToClientGeometry(t){if(!this._idToClientGeometry)return;const r=this.sourceJSON.objectIdField,n=t.attributes?.[r];n!=null&&this._idToClientGeometry.set(n,t.geometry??null)}get _layerOrSourceGeometryType(){return this.layer?.geometryType??this.sourceJSON?.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(t){return this._geometryTypeRequiresClientGraphicMapping(t.type)}_geometryTypeRequiresClientGraphicMapping(t){return t==="mesh"||t==="multipatch"||t==="extent"}_serializeFeature(t){const{attributes:r}=t,n=this._geometryForSerialization(t),i=(P2e++).toString();return n?{uid:i,geometry:n.toJSON(),attributes:r}:{uid:i,attributes:r}}_geometryForSerialization(t){const{geometry:r}=t;return r==null?null:this._geometryRequiresClientGraphicMapping(r)?r.extent?hr.fromExtent(r.extent):null:r}async _startWorker(t){this._connection=await O2e("MemorySourceWorker",{strategy:q("feature-layers-workers")?"dedicated":"local",signal:t,registryTarget:this});const{fields:r,spatialReference:n,objectIdField:i,hasM:s,hasZ:o,timeInfo:a,dateFieldsTimeZone:l}=this.layer,c=this.layer.originOf("spatialReference")==="defaults";await this._prepareClientMapping(this.items,t);const d=this._prepareAddFeatures(this.items);this.addHandles(this.on("before-changes",g=>{ce.getLogger(this).error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),g.preventDefault()}));const p={features:d.features,fields:r?.map(g=>g.toJSON()),geometryType:I6.toJSON(this._workerGeometryType),hasM:this._layerOrSourceGeometryType!=="mesh"&&s,hasZ:this._layerOrSourceGeometryType==="mesh"||o,objectIdField:i,spatialReference:c?null:n&&n.toJSON(),timeInfo:a?.toJSON()??null,dateFieldsTimeZone:l},y=await this._connection.invoke("load",p,{signal:t});for(const g of y.warnings)ce.getLogger(this.layer).warn("#load()",`${g.message} (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{warning:g});y.featureErrors.length&&ce.getLogger(this.layer).warn("#load()",`Encountered ${y.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{errors:y.featureErrors});const m=y.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(d.inferredGeometryType)&&(m.geometryType=I6.toJSON(d.inferredGeometryType)),this.sourceJSON=m,this._requiresClientGraphicMapping()&&(this._idToClientGeometry=new Map),d.finish(y.assignedObjectIds)}};u([UJ({Type:_r,ensureType:br(_r)})],al.prototype,"itemType",void 0),u([f()],al.prototype,"type",void 0),u([f({constructOnly:!0})],al.prototype,"layer",void 0),u([f({readOnly:!0})],al.prototype,"_workerGeometryType",null),u([f()],al.prototype,"sourceJSON",void 0),al=u([A("esri.layers.graphics.sources.MemorySource")],al);function k2e(e){return"portalItem"in e}const C2e=e=>{let t=class extends e{get apiKey(){return this._isOverridden("apiKey")?this._get("apiKey"):k2e(this)?this.portalItem?.apiKey:null}set apiKey(r){r!=null?this._override("apiKey",r):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return u([f({type:String})],t.prototype,"apiKey",null),t=u([A("esri.layers.mixins.APIKeyMixin")],t),t},N2e=e=>{let t=class extends e{get title(){if(this._get("title")&&this.originOf("title")!=="defaults")return this._get("title");if(this.url){const r=Ul(this.url);if(r?.title)return r.title}return this._get("title")||""}set title(r){this._set("title",r)}set url(r){this._set("url",Fpe(r,ce.getLogger(this)))}};return u([f()],t.prototype,"title",null),u([f({type:String})],t.prototype,"url",null),t=u([A("esri.layers.mixins.ArcGISService")],t),t};let $8=class extends SyntaxError{constructor(t,r,n,i){super(t),this.expected=r,this.found=n,this.location=i,this.name="SyntaxError"}format(t){let r="Error: "+this.message;if(this.location){let n=null;const i=t.find(l=>l.source===this.location.source);i&&(n=i.text.split(/\r\n|\n|\r/g));const s=this.location.start,o=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(s):s,a=this.location.source+":"+o.line+":"+o.column;if(n){const l=this.location.end,c="".padEnd(o.line.toString().length," "),d=n[s.line-1],p=(s.line===l.line?l.column:d.length+1)-s.column||1;r+=`
 --> `+a+`
`+c+` |
`+o.line+" | "+d+`
`+c+" | "+"".padEnd(s.column-1," ")+"".padEnd(p,"^")}else r+=`
 at `+a}return r}static buildMessage(t,r){function n(y){return y.codePointAt(0).toString(16).toUpperCase()}const i=Object.prototype.hasOwnProperty.call(RegExp.prototype,"unicode")?new RegExp("[\\p{C}\\p{Mn}\\p{Mc}]","gu"):null;function s(y){return i?y.replace(i,m=>"\\u{"+n(m)+"}"):y}function o(y){return s(y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,m=>"\\x0"+n(m)).replace(/[\x10-\x1F\x7F-\x9F]/g,m=>"\\x"+n(m)))}function a(y){return s(y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,m=>"\\x0"+n(m)).replace(/[\x10-\x1F\x7F-\x9F]/g,m=>"\\x"+n(m)))}const l={literal:y=>'"'+o(y.text)+'"',class(y){const m=y.parts.map(g=>Array.isArray(g)?a(g[0])+"-"+a(g[1]):a(g));return"["+(y.inverted?"^":"")+m.join("")+"]"+(y.unicode?"u":"")},any:()=>"any character",end:()=>"end of input",other:y=>y.description};function c(y){return l[y.type](y)}function d(y){const m=y.map(c);if(m.sort(),m.length>0){let g=1;for(let b=1;b<m.length;b++)m[b-1]!==m[b]&&(m[g]=m[b],g++);m.length=g}switch(m.length){case 1:return m[0];case 2:return m[0]+" or "+m[1];default:return m.slice(0,-1).join(", ")+", or "+m[m.length-1]}}function p(y){return y?'"'+o(y)+'"':"end of input"}return"Expected "+d(t)+" but "+p(r)+" found."}};function M2e(e,t){const r={},n=(t=t!==void 0?t:{}).grammarSource,i={start:LD};let s=LD;const o="none",a=")",l=",",c="(",d="%",p="px",y="cm",m="mm",g="in",b="pt",w="pc",S="deg",_="rad",x="grad",O="turn",$="#",T=".",j="e",I=/^[ \t\n\r]/,k=/^[a-z\-]/,M=/^[0-9a-fA-F]/,N=/^[+\-]/,F=/^[0-9]/,G=Ql("none"),B=Gr("none",!1),W=Gr(")",!1),Z=Gr(",",!1),ee=Pm([" ","	",`
`,"\r"],!1,!1,!1),V=Ql("function"),Q=Gr("(",!1),se=Ql("identifier"),fe=Pm([["a","z"],"-"],!1,!1,!1),le=Ql("percentage"),Oe=Gr("%",!1),Ze=Ql("length"),Tt=Gr("px",!1),Gt=Gr("cm",!1),si=Gr("mm",!1),yn=Gr("in",!1),me=Gr("pt",!1),De=Gr("pc",!1),Ue=Ql("angle"),ne=Gr("deg",!1),zt=Gr("rad",!1),Ye=Gr("grad",!1),ar=Gr("turn",!1),lr=Ql("number"),mn=Ql("color"),zo=Gr("#",!1),Pa=Pm([["0","9"],["a","f"],["A","F"]],!1,!1,!1),zc=Pm(["+","-"],!1,!1,!1),gn=Pm([["0","9"]],!1,!1,!1),ka=Gr(".",!1),Am=Gr("e",!1);function j1(){return[]}function A1(P,H){return{type:"function",name:P,parameters:H||[]}}function Cie(P,H){return H.length>0?pse(P,H,3):[P]}function Nie(P){return{type:"quantity",value:P.value,unit:P.unit}}function Mie(P){return{type:"color",colorType:P.type,value:P.value}}function bYe(P){return P}function Rie(){return P1()}function Lie(P){return{value:P,unit:"%"}}function Die(P){return{value:P,unit:"px"}}function Fie(P){return{value:P,unit:"cm"}}function Uie(P){return{value:P,unit:"mm"}}function zie(P){return{value:P,unit:"in"}}function Bie(P){return{value:P,unit:"pt"}}function Vie(P){return{value:P,unit:"pc"}}function qie(P){return{value:P,unit:"deg"}}function Gie(P){return{value:P,unit:"rad"}}function Wie(P){return{value:P,unit:"grad"}}function Hie(P){return{value:P,unit:"turn"}}function Jie(P){return{value:P,unit:null}}function Kie(){return{type:"hex",value:P1()}}function Zie(P){return{type:"function",value:P}}function Yie(){return{type:"named",value:P1()}}function Qie(){return parseFloat(P1())}let J=0|t.peg$currPos,Bt=J;const Hp=[{line:1,column:1}];let Im,Us=J,I1=t.peg$maxFailExpected||[],_e=0|t.peg$silentFails;if(t.startRule){if(!(t.startRule in i))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');s=i[t.startRule]}function P1(){return e.substring(Bt,J)}function Xie(P=J){const H=e.codePointAt(P);return H===void 0?"":String.fromCodePoint(H)}function Gr(P,H){return{type:"literal",text:P,ignoreCase:H}}function Pm(P,H,ie,Ee){return{type:"class",parts:P,inverted:H,ignoreCase:ie,unicode:Ee}}function ese(){return{type:"end"}}function Ql(P){return{type:"other",description:P}}function MD(P){let H,ie=Hp[P];if(ie)return ie;if(P>=Hp.length)H=Hp.length-1;else for(H=P;!Hp[--H];);for(ie=Hp[H],ie={line:ie.line,column:ie.column};H<P;)e.charCodeAt(H)===10?(ie.line++,ie.column=1):ie.column++,H++;return Hp[P]=ie,ie}function RD(P,H,ie){const Ee=MD(P),ot=MD(H);return{source:n,start:{offset:P,line:Ee.line,column:Ee.column},end:{offset:H,line:ot.line,column:ot.column}}}function Le(P){J<Us||(J>Us&&(Us=J,I1=[]),I1.push(P))}function tse(P,H,ie){return new $8($8.buildMessage(P,H),P,H,ie)}function LD(){let P;return P=rse(),P===r&&(P=nse()),P}function rse(){let P,H;return _e++,P=J,Wr(),e.substr(J,4)===o?(H=o,J+=4):(H=r,_e===0&&Le(B)),H!==r?(Wr(),Bt=P,P=j1()):(J=P,P=r),_e--,P===r&&_e===0&&Le(G),P}function nse(){let P,H;if(P=[],H=cO(),H!==r)for(;H!==r;)P.push(H),H=cO();else P=r;return P}function cO(){let P,H,ie,Ee;return P=J,Wr(),H=sse(),H!==r?(Wr(),ie=ise(),ie===r&&(ie=null),Wr(),e.charCodeAt(J)===41?(Ee=a,J++):(Ee=r,_e===0&&Le(W)),Ee!==r?(Wr(),Bt=P,P=A1(H,ie)):(J=P,P=r)):(J=P,P=r),P}function ise(){let P,H,ie,Ee,ot,Yt,Ir,vn;if(P=J,H=dO(),H!==r){for(ie=[],Ee=J,ot=Wr(),e.charCodeAt(J)===44?(Yt=l,J++):(Yt=r,_e===0&&Le(Z)),Yt===r&&(Yt=null),Ir=Wr(),vn=dO(),vn!==r?(ot=[ot,Yt,Ir,vn],Ee=ot):(J=Ee,Ee=r);Ee!==r;)ie.push(Ee),Ee=J,ot=Wr(),e.charCodeAt(J)===44?(Yt=l,J++):(Yt=r,_e===0&&Le(Z)),Yt===r&&(Yt=null),Ir=Wr(),vn=dO(),vn!==r?(ot=[ot,Yt,Ir,vn],Ee=ot):(J=Ee,Ee=r);Bt=P,P=Cie(H,ie)}else J=P,P=r;return P}function dO(){let P,H;return P=J,H=ose(),H===r&&(H=ase(),H===r&&(H=lse(),H===r&&(H=use()))),H!==r&&(Bt=P,H=Nie(H)),P=H,P===r&&(P=J,H=cse(),H!==r&&(Bt=P,H=Mie(H)),P=H),P}function Wr(){let P,H;for(_e++,P=[],H=e.charAt(J),I.test(H)?J++:(H=r,_e===0&&Le(ee));H!==r;)P.push(H),H=e.charAt(J),I.test(H)?J++:(H=r,_e===0&&Le(ee));return _e--,P}function sse(){let P,H,ie;return _e++,P=J,H=DD(),H!==r?(e.charCodeAt(J)===40?(ie=c,J++):(ie=r,_e===0&&Le(Q)),ie!==r?(Bt=P,P=H):(J=P,P=r)):(J=P,P=r),_e--,P===r&&(H=r,_e===0&&Le(V)),P}function DD(){let P,H,ie;if(_e++,P=J,H=[],ie=e.charAt(J),k.test(ie)?J++:(ie=r,_e===0&&Le(fe)),ie!==r)for(;ie!==r;)H.push(ie),ie=e.charAt(J),k.test(ie)?J++:(ie=r,_e===0&&Le(fe));else H=r;return H!==r&&(Bt=P,H=Rie()),P=H,_e--,P===r&&(H=r,_e===0&&Le(se)),P}function ose(){let P,H,ie;return _e++,P=J,Wr(),H=rs(),H!==r?(e.charCodeAt(J)===37?(ie=d,J++):(ie=r,_e===0&&Le(Oe)),ie!==r?(Bt=P,P=Lie(H)):(J=P,P=r)):(J=P,P=r),_e--,P===r&&_e===0&&Le(le),P}function ase(){let P,H,ie;return _e++,P=J,Wr(),H=rs(),H!==r?(e.substr(J,2)===p?(ie=p,J+=2):(ie=r,_e===0&&Le(Tt)),ie!==r?(Bt=P,P=Die(H)):(J=P,P=r)):(J=P,P=r),P===r&&(P=J,Wr(),H=rs(),H!==r?(e.substr(J,2)===y?(ie=y,J+=2):(ie=r,_e===0&&Le(Gt)),ie!==r?(Bt=P,P=Fie(H)):(J=P,P=r)):(J=P,P=r),P===r&&(P=J,Wr(),H=rs(),H!==r?(e.substr(J,2)===m?(ie=m,J+=2):(ie=r,_e===0&&Le(si)),ie!==r?(Bt=P,P=Uie(H)):(J=P,P=r)):(J=P,P=r),P===r&&(P=J,Wr(),H=rs(),H!==r?(e.substr(J,2)===g?(ie=g,J+=2):(ie=r,_e===0&&Le(yn)),ie!==r?(Bt=P,P=zie(H)):(J=P,P=r)):(J=P,P=r),P===r&&(P=J,Wr(),H=rs(),H!==r?(e.substr(J,2)===b?(ie=b,J+=2):(ie=r,_e===0&&Le(me)),ie!==r?(Bt=P,P=Bie(H)):(J=P,P=r)):(J=P,P=r),P===r&&(P=J,Wr(),H=rs(),H!==r?(e.substr(J,2)===w?(ie=w,J+=2):(ie=r,_e===0&&Le(De)),ie!==r?(Bt=P,P=Vie(H)):(J=P,P=r)):(J=P,P=r)))))),_e--,P===r&&_e===0&&Le(Ze),P}function lse(){let P,H,ie;return _e++,P=J,H=rs(),H!==r?(e.substr(J,3)===S?(ie=S,J+=3):(ie=r,_e===0&&Le(ne)),ie!==r?(Bt=P,P=qie(H)):(J=P,P=r)):(J=P,P=r),P===r&&(P=J,H=rs(),H!==r?(e.substr(J,3)===_?(ie=_,J+=3):(ie=r,_e===0&&Le(zt)),ie!==r?(Bt=P,P=Gie(H)):(J=P,P=r)):(J=P,P=r),P===r&&(P=J,H=rs(),H!==r?(e.substr(J,4)===x?(ie=x,J+=4):(ie=r,_e===0&&Le(Ye)),ie!==r?(Bt=P,P=Wie(H)):(J=P,P=r)):(J=P,P=r),P===r&&(P=J,H=rs(),H!==r?(e.substr(J,4)===O?(ie=O,J+=4):(ie=r,_e===0&&Le(ar)),ie!==r?(Bt=P,P=Hie(H)):(J=P,P=r)):(J=P,P=r)))),_e--,P===r&&(H=r,_e===0&&Le(Ue)),P}function use(){let P,H;return _e++,P=J,Wr(),H=rs(),H!==r?(Bt=P,P=Jie(H)):(J=P,P=r),_e--,P===r&&_e===0&&Le(lr),P}function cse(){let P,H,ie,Ee;if(_e++,P=J,e.charCodeAt(J)===35?(H=$,J++):(H=r,_e===0&&Le(zo)),H!==r){if(ie=[],Ee=e.charAt(J),M.test(Ee)?J++:(Ee=r,_e===0&&Le(Pa)),Ee!==r)for(;Ee!==r;)ie.push(Ee),Ee=e.charAt(J),M.test(Ee)?J++:(Ee=r,_e===0&&Le(Pa));else ie=r;ie!==r?(Bt=P,P=Kie()):(J=P,P=r)}else J=P,P=r;return P===r&&(P=J,H=cO(),H!==r&&(Bt=P,H=Zie(H)),P=H,P===r&&(P=J,H=DD(),H!==r&&(Bt=P,H=Yie()),P=H)),_e--,P===r&&(H=r,_e===0&&Le(mn)),P}function rs(){let P,H,ie,Ee,ot,Yt,Ir,vn;for(P=J,H=e.charAt(J),N.test(H)?J++:(H=r,_e===0&&Le(zc)),H===r&&(H=null),ie=J,Ee=[],ot=e.charAt(J),F.test(ot)?J++:(ot=r,_e===0&&Le(gn));ot!==r;)Ee.push(ot),ot=e.charAt(J),F.test(ot)?J++:(ot=r,_e===0&&Le(gn));if(e.charCodeAt(J)===46?(ot=T,J++):(ot=r,_e===0&&Le(ka)),ot!==r){if(Yt=[],Ir=e.charAt(J),F.test(Ir)?J++:(Ir=r,_e===0&&Le(gn)),Ir!==r)for(;Ir!==r;)Yt.push(Ir),Ir=e.charAt(J),F.test(Ir)?J++:(Ir=r,_e===0&&Le(gn));else Yt=r;Yt!==r?(Ee=[Ee,ot,Yt],ie=Ee):(J=ie,ie=r)}else J=ie,ie=r;if(ie===r)if(ie=[],Ee=e.charAt(J),F.test(Ee)?J++:(Ee=r,_e===0&&Le(gn)),Ee!==r)for(;Ee!==r;)ie.push(Ee),Ee=e.charAt(J),F.test(Ee)?J++:(Ee=r,_e===0&&Le(gn));else ie=r;if(ie!==r){if(Ee=J,e.charCodeAt(J)===101?(ot=j,J++):(ot=r,_e===0&&Le(Am)),ot!==r){if(Yt=e.charAt(J),N.test(Yt)?J++:(Yt=r,_e===0&&Le(zc)),Yt===r&&(Yt=null),Ir=[],vn=e.charAt(J),F.test(vn)?J++:(vn=r,_e===0&&Le(gn)),vn!==r)for(;vn!==r;)Ir.push(vn),vn=e.charAt(J),F.test(vn)?J++:(vn=r,_e===0&&Le(gn));else Ir=r;Ir!==r?(ot=[ot,Yt,Ir],Ee=ot):(J=Ee,Ee=r)}else J=Ee,Ee=r;Ee===r&&(Ee=null),Bt=P,P=Qie()}else J=P,P=r;return P}function dse(P,H){return P.map(function(ie){return ie[H]})}function pse(P,H,ie){return[P].concat(dse(H,ie))}Im=s();const pO=Im!==r&&J===e.length;function FD(){throw Im!==r&&J<e.length&&Le(ese()),tse(I1,Us<e.length?Xie(Us):null,Us<e.length?RD(Us,Us+1):RD(Us,Us))}return t.peg$library?{peg$result:Im,peg$currPos:J,peg$FAILED:r,peg$maxFailExpected:I1,peg$maxFailPos:Us,peg$success:pO,peg$throw:pO?void 0:FD}:pO?Im:void FD()}function xX(e){if(!e||e.length===0)return null;if(typeof e=="string"){const r=T8(e);return r&&r.length!==0?r:null}const t=e.map(r=>{if(!Number.isFinite(r.scale)||r.scale<=0)throw new K("effect:invalid-scale","scale must be finite and greater than 0",{stop:r});return{scale:r.scale,effects:T8(r.value)}});t.sort((r,n)=>n.effects.length-r.effects.length);for(let r=0;r<t.length-1;r++){if(!fwe(t[r].effects,t[r+1].effects))throw new K("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[r].effects,b:t[r+1].effects});hwe(t[r].effects,t[r+1].effects)}return t.sort((r,n)=>n.scale-r.scale),t}function T8(e){let t;if(!e)return[];try{t=M2e(e)}catch(r){throw new K("effect:invalid-syntax","Invalid effect syntax",{value:e,error:r})}return t.map(r=>R2e(r))}function R2e(e){try{switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return L2e(e);case"opacity":return D2e(e);case"hue-rotate":return F2e(e);case"blur":return U2e(e);case"drop-shadow":return z2e(e);case"bloom":return B2e(e)}}catch(t){throw t.details.filter=e,t}throw new K("effect:unknown-effect",`Effect '${e.name}' is not supported`,{effect:e})}function L2e(e){let t=1;return fm(e.parameters,1),e.parameters.length===1&&(t=co(e.parameters[0])),new JI(e.name,t)}function D2e(e){let t=1;return fm(e.parameters,1),e.parameters.length===1&&(t=co(e.parameters[0])),new XY(t)}function F2e(e){let t=0;return fm(e.parameters,1),e.parameters.length===1&&(t=J2e(e.parameters[0])),new YY(t)}function U2e(e){let t=0;return fm(e.parameters,1),e.parameters.length===1&&(t=uL(e.parameters[0]),g1(t,e.parameters[0])),new WY(t)}function z2e(e){const t=[];let r=null;for(const n of e.parameters)if(n.type==="color"){if(t.length&&Object.freeze(t),r)throw new K("effect:type-error","Accepts only one color",{});r=K2e(n)}else{const i=uL(n);if(Object.isFrozen(t))throw new K("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(i),t.length===3&&g1(i,n)}if(t.length<2||t.length>3)throw new K("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t});return new KY(t[0],t[1],t[2]||0,r||SX("black"))}function B2e(e){let t=1,r=0,n=0;return fm(e.parameters,3),e.parameters[0]&&(t=co(e.parameters[0])),e.parameters[1]&&(r=uL(e.parameters[1]),g1(r,e.parameters[1])),e.parameters[2]&&(n=co(e.parameters[2])),new qY(t,r,n)}function fm(e,t){if(e.length>t)throw new K("effect:type-error",`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function uT(e){if(e.type==="color")return"<color>";if(e.unit){if(e.unit in lL)return"<length>";if(e.unit in aL)return"<angle>";if(e.unit==="%")return"<percentage>"}return"<double>"}function g1(e,t){if(e<0)throw new K("effect:type-error",`Negative values are not allowed, Actual: ${e}`,{term:t})}function V2e(e){if(e.type!=="quantity"||e.unit!==null)throw new K("effect:type-error",`Expected <double>, Actual: ${uT(e)}`,{term:e})}function q2e(e){if(e.type!=="quantity"||e.unit!==null&&e.unit!=="%")throw new K("effect:type-error",`Expected <double> or <percentage>, Actual: ${uT(e)}`,{term:e})}const aL={deg:1,grad:.9,rad:180/Math.PI,turn:360};function G2e(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&aL[e.unit]!=null))throw new K("effect:type-error",`Expected <angle>, Actual: ${uT(e)}`,{term:e})}const lL={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function W2e(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&lL[e.unit]!=null))throw new K("effect:type-error",`Expected <length>, Actual: ${uT(e)}`,{term:e})}function co(e){q2e(e);const t=e.value;return g1(t,e),e.unit==="%"?.01*t:t}function H2e(e){return V2e(e),g1(e.value,e),e.value}function J2e(e){return G2e(e),e.value*aL[e.unit]||0}function uL(e){return W2e(e),e.value*lL[e.unit]||0}function K2e(e){switch(e.colorType){case"hex":return cve(e.value);case"named":return SX(e.value);case"function":return Q2e(e.value)}}function SX(e){if(!FZ(e))throw new K("effect:unknown-color",`color '${e}' isn't valid`,{namedColor:e});return uve(e)}const Z2e=/^rgba?/i,Y2e=/^hsla?/i;function Q2e(e){if(fm(e.parameters,4),Z2e.test(e.name))return[co(e.parameters[0]),co(e.parameters[1]),co(e.parameters[2]),e.parameters[3]?co(e.parameters[3]):1];if(Y2e.test(e.name))return UZ(H2e(e.parameters[0]),co(e.parameters[1]),co(e.parameters[2]),e.parameters[3]?co(e.parameters[3]):1);throw new K("effect:syntax-error",`Invalid color function '${e.name}'`,{colorFunction:e})}function Mv(e,t,r){try{return e$e(e)}catch(n){r?.messages?.push(n)}return null}function Rv(e,t,r,n){try{const i=X2e(e);or(r,i,t)}catch(i){n.messages&&n.messages.push(i)}}function X2e(e){const t=xX(e);return t?ywe(t)?t.map(r=>r.toJSON()):t.map(({scale:r,effects:n})=>({scale:r,value:n.map(i=>i.toJSON())})):null}function e$e(e){if(!e||e.length===0)return null;if(t$e(e)){const t=[];for(const r of e)t.push({scale:r.scale,value:O8(r.value)});return t}return O8(e)}function t$e(e){const t=e[0];return!!t&&"scale"in t}function O8(e){if(!e?.length)return"";const t=[];for(const r of e){let n=[];switch(r.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":n=[Na(r,"amount")];break;case"blur":n=[Na(r,"radius","pt")];break;case"hue-rotate":n=[Na(r,"angle","deg")];break;case"drop-shadow":n=[Na(r,"xoffset","pt"),Na(r,"yoffset","pt"),Na(r,"blurRadius","pt"),r$e(r,"color")];break;case"bloom":n=[Na(r,"strength"),Na(r,"radius","pt"),Na(r,"threshold")]}const i=`${r.type}(${n.filter(Boolean).join(" ")})`;xX(i),t.push(i)}return t.join(" ")}function Na(e,t,r){if(e[t]==null)throw new K("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});return r?e[t]+r:""+e[t]}function r$e(e,t){if(e[t]==null)throw new K("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});const r=e[t];return`rgba(${r[0]||0}, ${r[1]||0}, ${r[2]||0}, ${r[3]/255||0})`}const n$e={type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:{layerContainerTypes:xt}},"portal-item":{read:!0,write:{layerContainerTypes:xt}}}}},E8={read:{reader:Mv},write:{allowNull:!0,writer:Rv,layerContainerTypes:xt}},i$e={json:{read:!1,write:!1,origins:{"web-map":E8,"portal-item":E8}}},s$e=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return u([f(n$e)],t.prototype,"blendMode",void 0),u([f(i$e)],t.prototype,"effect",void 0),t=u([A("esri.layers.mixins.BlendLayer")],t),t},o$e=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return u([f({type:Object,json:{write:{overridePolicy:r=>({enabled:!!(r&&Object.keys(r).length>0)})}}})],t.prototype,"customParameters",void 0),t=u([A("esri.layers.mixins.CustomParametersMixin")],t),t},a$e=96;function xrt(e,t){const r=t||e.extent,n=e.width,i=kc(r?.spatialReference);return r&&n?r.width/n*i*Sye*a$e:0}function Srt(e,t,r){return l$e(e,t)&&u$e(e,r)}function l$e(e,t){return t===0||Po(e,t)||e<t}function u$e(e,t){return t===0||Po(e,t)||e>t}function c$e(e,t){return Po(e,t)?0:(e||Number.POSITIVE_INFINITY)>(t||Number.POSITIVE_INFINITY)?1:-1}const j8={write:{overridePolicy:(e,t,r)=>({enabled:!r||r.filterMode==="scale"})}};let ll=class extends Se.ClonableMixin(z){constructor(t){super(t),this.id=d1(),this.maxScale=0,this.minScale=0,this.title="",this.where=null}};u([f({type:String,json:{write:!0}})],ll.prototype,"id",void 0),u([f({type:Number,json:j8})],ll.prototype,"maxScale",void 0),u([f({type:Number,json:j8})],ll.prototype,"minScale",void 0),u([f({type:String,json:{write:!0}})],ll.prototype,"title",void 0),u([f({type:String,json:{write:!0}})],ll.prototype,"where",void 0),ll=u([A("esri.layers.support.DisplayFilter")],ll);function d$e(e,t){return{...t,filterMode:e.mode}}function $rt(e,t,r){const n=p$e(e);if(n&&(WZ(t,n[0])||MI(r,n[1])))return"";const i=Array.from(f$e(e,t,r)),s=h$e(i,t,r)?"1=1":i.map(o=>o.where||"1=1").reduce((o,a)=>mP(o,a),"");return s&&s!=="1=1"?s:""}function p$e(e){if(_X(e)==="manual")return null;const t=[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY];for(const{minScale:r,maxScale:n}of e.filters)t[0]=Math.max(t[0],Lv(r)),t[1]=Math.min(t[1],B_(n));return t}function*f$e(e,t,r){if(_X(e)==="manual"){const n=e.filters.find(i=>i.id===e.activeFilterId);n&&(yield n)}else{typeof t=="object"&&(t=t.scale);for(const n of e.filters)y$e(n.minScale,n.maxScale,t,r)&&(yield n)}}function h$e(e,t,r){if(e.length===0)return!0;const n=Lv(e.at(0)?.minScale),i=B_(e.at(-1)?.maxScale);if(MI(n,t)||WZ(i,r))return!0;for(let s=0;s<e.length-1;s++){const o=e[s],a=e[s+1];if(MI(Lv(a.minScale),B_(o.maxScale)))return!0}return!1}function y$e(e,t,r,n){return e=Lv(e),r=Lv(r),t=B_(t),!(!Po(r,e)&&(n??r)>e)&&!yve(t,r)&&(n===void 0||!Po(n,e))}function _X(e){return"mode"in e?e.mode:e.filterMode}function Lv(e){return e||Number.POSITIVE_INFINITY}function B_(e){return e||0}let yd=class extends Se.ClonableMixin(z){constructor(t){super(t),this.activeFilterId=null,this.filters=new(Te.ofType(ll)),this.mode="manual"}writeFilters(t,r,n,i){const s=t.toArray();this.mode==="scale"&&s.sort((o,a)=>{const l=c$e(a.minScale,o.minScale),c=o.maxScale-a.maxScale;return l===0?c:l}),r[n]=s.map(o=>o.toJSON(i))}write(t,r){return super.write(t,d$e(this,r))}};u([f({type:String,json:{write:{overridePolicy:(e,t,r)=>({enabled:r.filterMode==="manual",isRequired:!0})}}})],yd.prototype,"activeFilterId",void 0),u([f({type:Te.ofType(ll),nonNullable:!0,json:{write:!0}})],yd.prototype,"filters",void 0),u([re("filters")],yd.prototype,"writeFilters",null),u([f({type:["manual","scale"],nonNullable:!0,json:{name:"filterMode",write:!0}})],yd.prototype,"mode",void 0),yd=u([A("esri.layers.support.DisplayFilterInfo")],yd);const m$e=e=>{let t=class extends e{constructor(){super(...arguments),this.displayFilterEnabled=!0,this.displayFilterInfo=null}};return u([f(g$e)],t.prototype,"displayFilterEnabled",void 0),u([f(v$e)],t.prototype,"displayFilterInfo",void 0),t=u([A("esri.layers.mixins.DisplayFilteredLayer")],t),t},g$e={type:Boolean,json:{name:"layerDefinition.disableDisplayFilter",read:{reader:e=>!e},write:{layerContainerTypes:xt,writer(e,t,r){or(r,!e,t)}},origins:{"web-scene":{write:!1,read:!1}}}},v$e={type:yd,json:{name:"layerDefinition.displayFilterInfo",write:{enabled:!0,allowNull:!0,layerContainerTypes:xt},origins:{"web-scene":{write:!1,read:!1}}}},Hk=xve(),$X=new Map,TX=new Map;async function Ort(e,t,r){if(!e||!r)return!1;if(!t)return!0;const n=new URL(e).host;let i=$X.get(n);if(!i){const s=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");i=(await nt(s,{responseType:"json",query:{f:"json"}})).data.defaultVersionName}return i===t}async function A8(e,t,r=!1){if(!e||!t)return!0;const n=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),i=TX.get(n)?.entries();if(i){for(const[s,o]of i)if(o.name===t){const a=!o.stack?.hasForwardEdits();if(!a&&r){const[{deleteForwardEdits:l},{default:c}]=await Promise.all([ae(()=>import("./deleteForwardEdits-3114f95e.js"),[]),ae(()=>import("./DeleteForwardEditsParameters-25e43cca.js"),[])]),d=await l(n,s,new c({sessionId:Hk,moment:o.moment}));return d.success&&o.stack?.clearForwardEdits(),d.success}return a}}return!0}function cS(e,t){if(!e)return!1;const r=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),n=TX.get(r)?.entries();if(n){for(const[i,s]of n)if(s.name===t)return s.lockType==="edit"}return!1}const cL=new L$.EventEmitter;function OX(e){return cL.on("apply-edits",new WeakRef(e))}function EX(e){return cL.on("update-moment",new WeakRef(e))}function I8(e,t,r=null,n=!1){const i=gc();return n=t==null||n,cL.emit("apply-edits",{serviceUrl:e,layerId:t,gdbVersion:r,mayReceiveServiceEdits:n,result:i.promise}),i}const jX=Symbol();function Ert(e){return e!=null&&typeof e=="object"&&jX in e}function e0(e){return e!=null&&typeof e=="object"&&"gdbVersion"in e}function Ug(e,t,r){const n=new URL(e).host,i=$X.get(n),s=o=>!o||o===i;return s(t)&&s(r)||t===r}const b$e=e=>{var n;var t;let r=(n=class extends e{constructor(...i){super(...i),this[t]=!0,this._applyEditsHandler=s=>{const{serviceUrl:o,layerId:a,gdbVersion:l,mayReceiveServiceEdits:c,result:d}=s,p=o===this.url,y=a!=null&&this.layerId!=null&&a===this.layerId,m=e0(this),g=e0(this)&&Ug(o,l,this.gdbVersion);if(!p||m&&!g||!y&&!c)return;const b=d.then(w=>{if(this.lastEditsEventDate=new Date,y&&(w.addedFeatures.length||w.updatedFeatures.length||w.deletedFeatures.length||w.addedAttachments.length||w.updatedAttachments.length||w.deletedAttachments.length))return this.emit("edits",D(w)),w;const S=w.editedFeatures?.find(({layerId:x})=>x===this.layerId);if(S){const{adds:x,updates:O,deletes:$}=S.editedFeatures,T={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:x?x.map(({attributes:j})=>({objectId:this.objectIdField&&j[this.objectIdField],globalId:this.globalIdField&&j[this.globalIdField]})):[],deletedFeatures:$?$.map(({attributes:j})=>({objectId:this.objectIdField&&j[this.objectIdField],globalId:this.globalIdField&&j[this.globalIdField]})):[],updatedFeatures:O?O.map(({current:{attributes:j}})=>({objectId:this.objectIdField&&j[this.objectIdField],globalId:this.globalIdField&&j[this.globalIdField]})):[],editedFeatures:D(w.editedFeatures),exceededTransferLimit:!1,historicMoment:D(w.historicMoment)};return this.emit("edits",T),T}const _={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:D(w.editedFeatures),exceededTransferLimit:!1,historicMoment:D(w.historicMoment)};return"historicMoment"in this&&this._shouldUpdateHistoricMoment(o,l,_.historicMoment)&&this.emit("edits",_),_}).then(w=>("historicMoment"in this&&this._shouldUpdateHistoricMoment(o,l,w.historicMoment)&&(this.historicMoment=w.historicMoment),w));this.emit("apply-edits",{result:b})},this._updateMomentHandler=s=>{const{serviceUrl:o,gdbVersion:a,moment:l}=s,c=o===this.url,d=e0(this),p=e0(this)&&Ug(o,a,this.gdbVersion),y=e0(this)&&!Ug(o,this.gdbVersion,null);c&&d&&p&&y&&"historicMoment"in this&&this.historicMoment!==l&&(this.historicMoment=l)},this.when().then(()=>{this.addHandles(OX(this._applyEditsHandler)),"historicMoment"in this&&this.addHandles(EX(this._updateMomentHandler))},()=>{})}_shouldUpdateHistoricMoment(i,s,o){return"historicMoment"in this&&this.historicMoment!==o&&cS(i,s)}},t=jX,n);return u([f()],r.prototype,"lastEditsEventDate",void 0),r=u([A("esri.layers.mixins.EditBusLayer")],r),r};var Jk;let Lf=Jk=class extends z{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new Jk({mapLayerId:e,gdbVersion:t})}};u([ye({mapLayer:"map-layer"}),f({json:{write:{isRequired:!0}}})],Lf.prototype,"type",void 0),u([f({type:Be,json:{write:{isRequired:!0}}})],Lf.prototype,"mapLayerId",void 0),u([f({type:String,json:{write:!0}})],Lf.prototype,"gdbVersion",void 0),Lf=Jk=u([A("esri.layers.support.source.MapLayerSource")],Lf);var Kk;let Ha=Kk=class extends z{constructor(e){super(e),this.type="query-table"}clone(){const{workspaceId:e,query:t,oidFields:r,spatialReference:n,geometryType:i}=this,s={workspaceId:e,query:t,oidFields:r,spatialReference:n?.clone()??void 0,geometryType:i};return new Kk(s)}};u([ye({queryTable:"query-table"}),f({json:{write:{isRequired:!0}}})],Ha.prototype,"type",void 0),u([f({type:String,json:{write:!0}})],Ha.prototype,"workspaceId",void 0),u([f({type:String,json:{write:!0}})],Ha.prototype,"query",void 0),u([f({type:String,json:{write:!0}})],Ha.prototype,"oidFields",void 0),u([f({type:be,json:{write:!0}})],Ha.prototype,"spatialReference",void 0),u([ye(Nwe)],Ha.prototype,"geometryType",void 0),Ha=Kk=u([A("esri.layers.support.source.QueryTableDataSource")],Ha);var Zk;let Df=Zk=class extends z{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new Zk({workspaceId:e,dataSourceName:t})}};u([ye({raster:"raster"}),f({json:{write:{isRequired:!0}}})],Df.prototype,"type",void 0),u([f({type:String,json:{write:!0}})],Df.prototype,"dataSourceName",void 0),u([f({type:String,json:{write:!0}})],Df.prototype,"workspaceId",void 0),Df=Zk=u([A("esri.layers.support.source.RasterDataSource")],Df);var Yk;let md=Yk=class extends z{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:r}=this;return new Yk({workspaceId:e,gdbVersion:t,dataSourceName:r})}};u([ye({table:"table"}),f({json:{write:{isRequired:!0}}})],md.prototype,"type",void 0),u([f({type:String,json:{write:!0}})],md.prototype,"workspaceId",void 0),u([f({type:String,json:{write:!0}})],md.prototype,"gdbVersion",void 0),u([f({type:String,json:{write:!0}})],md.prototype,"dataSourceName",void 0),md=Yk=u([A("esri.layers.support.source.TableDataSource")],md);var Qk,Xk;const w$e=Ar()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let Ni=Qk=class extends z{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,r){return P8()(e,t,r)}castLeftTableSource(e){return $a(eC(),e)}readRightTableSource(e,t,r){return P8()(e,t,r)}castRightTableSource(e){return $a(eC(),e)}clone(){const{leftTableKey:e,rightTableKey:t,leftTableSource:r,rightTableSource:n,joinType:i}=this,s={leftTableKey:e,rightTableKey:t,leftTableSource:r?.clone()??void 0,rightTableSource:n?.clone()??void 0,joinType:i};return new Qk(s)}};u([ye({joinTable:"join-table"}),f({json:{write:{isRequired:!0}}})],Ni.prototype,"type",void 0),u([f({type:String,json:{write:!0}})],Ni.prototype,"leftTableKey",void 0),u([f({type:String,json:{write:!0}})],Ni.prototype,"rightTableKey",void 0),u([f({json:{write:!0}})],Ni.prototype,"leftTableSource",void 0),u([X("leftTableSource")],Ni.prototype,"readLeftTableSource",null),u([ht("leftTableSource")],Ni.prototype,"castLeftTableSource",null),u([f({json:{write:!0}})],Ni.prototype,"rightTableSource",void 0),u([X("rightTableSource")],Ni.prototype,"readRightTableSource",null),u([ht("rightTableSource")],Ni.prototype,"castRightTableSource",null),u([ye(w$e)],Ni.prototype,"joinType",void 0),Ni=Qk=u([A("esri.layers.support.source.JoinTableDataSource")],Ni);let LE=null;function P8(){return LE||(LE=im({types:eC()})),LE}let DE=null;function eC(){return DE||(DE={key:"type",base:null,typeMap:{"data-layer":po,"map-layer":Lf}}),DE}const x$e={key:"type",base:null,typeMap:{"join-table":Ni,"query-table":Ha,raster:Df,table:md}};var Rb;let po=(Rb=class extends z{constructor(t){super(t),this.type="data-layer"}clone(){const{fields:t,dataSource:r}=this;return new Xk({fields:t,dataSource:r})}},Xk=Rb,Rb);u([ye({dataLayer:"data-layer"}),f({json:{write:{isRequired:!0}}})],po.prototype,"type",void 0),u([f({type:[Zr],json:{write:!0}})],po.prototype,"fields",void 0),u([f({types:x$e,json:{write:!0}})],po.prototype,"dataSource",void 0),po=Xk=u([A("esri.layers.support.source.DataLayerSource")],po),po.from=br(po);let gd=class extends Se.ClonableMixin(z){constructor(t){super(t),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};u([f({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.onFields!=null&&this.onFields.length>0}}}}})],gd.prototype,"onFields",void 0),u([f({type:String,json:{write:!0}})],gd.prototype,"operator",void 0),u([f({type:String,json:{write:!0}})],gd.prototype,"searchTerm",void 0),u([f({type:String,json:{write:!0}})],gd.prototype,"searchType",void 0),gd=u([A("esri.rest.support.FullTextSearch")],gd);const S$e=gd;var tC;const k8=new Pe({upperLeft:"upper-left",lowerLeft:"lower-left"});let vd=tC=class extends z{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new tC(D({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};u([f({type:ze,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],vd.prototype,"extent",void 0),u([f({type:["view","edit"],json:{write:!0}})],vd.prototype,"mode",void 0),u([f({type:String,json:{read:k8.read,write:k8.write}})],vd.prototype,"originPosition",void 0),u([f({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],vd.prototype,"tolerance",void 0),vd=tC=u([A("esri.rest.support.QuantizationParameters")],vd);const _$e=new Pe({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});var rC;const C8=new Pe({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let to=rC=class extends z{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){this.statisticType!=="percentile-continuous"&&this.statisticType!=="percentile-discrete"||(t.statisticParameters=D(e))}clone(){return new rC({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:D(this.statisticParameters)})}};u([f({type:Number,json:{write:!0}})],to.prototype,"maxPointCount",void 0),u([f({type:Number,json:{write:!0}})],to.prototype,"maxRecordCount",void 0),u([f({type:Number,json:{write:!0}})],to.prototype,"maxVertexCount",void 0),u([f({type:String,json:{write:!0}})],to.prototype,"onStatisticField",void 0),u([f({type:String,json:{write:!0}})],to.prototype,"outStatisticFieldName",void 0),u([f({type:String,json:{read:{source:"statisticType",reader:C8.read},write:{target:"statisticType",writer:C8.write}}})],to.prototype,"statisticType",void 0),u([f({type:Object})],to.prototype,"statisticParameters",void 0),u([re("statisticParameters")],to.prototype,"writeStatisticParameters",null),to=rC=u([A("esri.rest.support.StatisticDefinition")],to);var dS;const $$e=new Pe({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});var Hy;let xe=(Hy=class extends z{static from(t){return M$(dS,t)}constructor(t){super(t),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.returnTrueCurves=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(t){return typeof t=="number"||typeof t=="object"?t:null}writeHistoricMoment(t,r){r.historicMoment=t&&t.getTime()}writeParameterValues(t,r){if(t){const n={};for(const i in t){const s=t[i];Array.isArray(s)?n[i]=s.map(o=>o instanceof Date?o.getTime():o):s instanceof Date?n[i]=s.getTime():n[i]=s}r.parameterValues=n}}writeStart(t,r){r.resultOffset=this.start,r.resultRecordCount=this.num||10,r.where="1=1"}writeWhere(t,r){r.where=t||"1=1"}clone(){return new dS(D({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:this.historicMoment!=null?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,returnTrueCurves:this.returnTrueCurves,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}},dS=Hy,Hy.MAX_MAX_RECORD_COUNT_FACTOR=5,Hy);u([f({json:{write:!0}})],xe.prototype,"aggregateIds",void 0),u([f({type:Boolean,json:{write:!0}})],xe.prototype,"cacheHint",void 0),u([f({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"compactGeometryEnabled",void 0),u([f({json:{write:!0}})],xe.prototype,"datumTransformation",void 0),u([ht("datumTransformation")],xe.prototype,"castDatumTransformation",null),u([f({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"defaultSpatialReferenceEnabled",void 0),u([f({type:Number,json:{write:!0}})],xe.prototype,"distance",void 0),u([f({type:po,json:{write:!0}})],xe.prototype,"dynamicDataSource",void 0),u([f({type:String,json:{write:!0}})],xe.prototype,"formatOf3DObjects",void 0),u([f({type:[S$e],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.fullText!=null&&this.fullText.length>0}}}}})],xe.prototype,"fullText",void 0),u([f({type:String,json:{write:!0}})],xe.prototype,"gdbVersion",void 0),u([f({types:dm,json:{read:zl,write:!0}})],xe.prototype,"geometry",void 0),u([f({type:Number,json:{write:!0}})],xe.prototype,"geometryPrecision",void 0),u([f({type:[String],json:{write:!0}})],xe.prototype,"groupByFieldsForStatistics",void 0),u([f({type:String,json:{write:!0}})],xe.prototype,"having",void 0),u([f({type:Date})],xe.prototype,"historicMoment",void 0),u([re("historicMoment")],xe.prototype,"writeHistoricMoment",null),u([f({type:Number,json:{write:!0}})],xe.prototype,"maxAllowableOffset",void 0),u([f({type:Number,cast:e=>e<1?1:e>xe.MAX_MAX_RECORD_COUNT_FACTOR?xe.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],xe.prototype,"maxRecordCountFactor",void 0),u([f({type:["xyFootprint"],json:{write:!0}})],xe.prototype,"multipatchOption",void 0),u([f({type:Number,json:{read:{source:"resultRecordCount"}}})],xe.prototype,"num",void 0),u([f({json:{write:!0}})],xe.prototype,"objectIds",void 0),u([f({type:[String],json:{write:!0}})],xe.prototype,"orderByFields",void 0),u([f({type:[String],json:{write:!0}})],xe.prototype,"outFields",void 0),u([f({type:be,json:{name:"outSR",write:!0}})],xe.prototype,"outSpatialReference",void 0),u([f({type:[to],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.outStatistics!=null&&this.outStatistics.length>0}}}}})],xe.prototype,"outStatistics",void 0),u([f({json:{write:!0}})],xe.prototype,"parameterValues",void 0),u([re("parameterValues")],xe.prototype,"writeParameterValues",null),u([f({type:qe,json:{write:!0}})],xe.prototype,"pixelSize",void 0),u([f({type:vd,json:{write:!0}})],xe.prototype,"quantizationParameters",void 0),u([f({type:[Object],json:{write:!0}})],xe.prototype,"rangeValues",void 0),u([f({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:this.spatialRelationship==="relation"}}}}})],xe.prototype,"relationParameter",void 0),u([f({type:String,json:{write:!0}})],xe.prototype,"resultType",void 0),u([f({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"returnCentroid",void 0),u([f({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"returnDistinctValues",void 0),u([f({type:Boolean,json:{default:!0,write:!0}})],xe.prototype,"returnExceededLimitFeatures",void 0),u([f({type:Boolean,json:{write:!0}})],xe.prototype,"returnGeometry",void 0),u([f({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"returnQueryGeometry",void 0),u([f({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"returnM",void 0),u([f({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],xe.prototype,"returnZ",void 0),u([f({type:Boolean,json:{write:!0}})],xe.prototype,"returnTrueCurves",void 0),u([f({type:be,json:{write:!0}})],xe.prototype,"sourceSpatialReference",void 0),u([ye(_$e,{ignoreUnknown:!1,name:"spatialRel"})],xe.prototype,"spatialRelationship",void 0),u([f({type:Number,json:{read:{source:"resultOffset"}}})],xe.prototype,"start",void 0),u([re("start"),re("num")],xe.prototype,"writeStart",null),u([f({type:String,json:{write:!0}})],xe.prototype,"sqlFormat",void 0),u([f({type:String,json:{write:!0}})],xe.prototype,"text",void 0),u([f({type:pt,json:{write:!0}})],xe.prototype,"timeExtent",void 0),u([f({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"timeReferenceUnknownClient",void 0),u([ye($$e,{ignoreUnknown:!1}),f({json:{write:{overridePolicy(e){return{enabled:!!e&&this.distance!=null}}}}})],xe.prototype,"units",void 0),u([f({type:String,json:{write:{overridePolicy(e){return{enabled:e!=null||this.start!=null&&this.start>0}}}}})],xe.prototype,"where",void 0),u([re("where")],xe.prototype,"writeWhere",null),xe=dS=u([A("esri.rest.support.Query")],xe);var nC;const FE=new Pe({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),UE=new Pe({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Xo=nC=class extends z{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:r,spatialRelationship:n,timeExtent:i,objectIds:s,units:o,distance:a}=this;return new xe({geometry:D(r),objectIds:D(s),spatialRelationship:n,timeExtent:D(i),where:t,units:o,distance:a,...e})}clone(){const{where:e,geometry:t,spatialRelationship:r,timeExtent:n,objectIds:i,units:s,distance:o}=this;return new nC({geometry:D(t),objectIds:D(i),spatialRelationship:r,timeExtent:D(n),where:e,units:s,distance:o})}};u([f({type:String,json:{write:!0}})],Xo.prototype,"where",void 0),u([f({types:dm,json:{write:!0}})],Xo.prototype,"geometry",void 0),u([f({type:FE.apiValues,json:{name:"spatialRel",read:{reader:FE.read},write:{allowNull:!1,writer:FE.write,overridePolicy(){return{enabled:this.geometry!=null}}}}})],Xo.prototype,"spatialRelationship",void 0),u([f({type:Number,json:{write:{overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],Xo.prototype,"distance",void 0),u([f({type:[Number],json:{write:!0}})],Xo.prototype,"objectIds",void 0),u([f({type:UE.apiValues,json:{read:UE.read,write:{writer:UE.write,overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],Xo.prototype,"units",void 0),u([f({type:pt,json:{write:!0}})],Xo.prototype,"timeExtent",void 0),Xo=nC=u([A("esri.layers.support.FeatureFilter")],Xo);const T$e=Xo;var iC;const N8={read:{reader:Mv},write:{writer:Rv,overridePolicy(){return{allowNull:this.excludedEffect!=null,isRequired:this.excludedEffect==null}}}},M8={read:{reader:Mv},write:{writer:Rv,overridePolicy(){return{allowNull:this.includedEffect!=null,isRequired:this.includedEffect==null}}}},R8={name:"showExcludedLabels",default:!0};let bd=iC=class extends z{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){const r=super.write(e,t);if(t?.origin){if(r.filter){const n=Object.keys(r.filter);if(n.length>1||n[0]!=="where")return t.messages?.push(new K("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}if("showExcludedLabels"in r)return t.messages?.push(new K("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return r}clone(){return new iC({filter:this.filter!=null?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};u([f({type:T$e,json:{write:{allowNull:!0,writer(e,t,r,n){const i=e?.write({},n);i&&Object.keys(i).length!==0?or(r,i,t):or(r,null,t)}}}})],bd.prototype,"filter",void 0),u([f({json:{read:Mv,write:{writer:Rv,allowNull:!0},origins:{"web-map":N8,"portal-item":N8}}})],bd.prototype,"includedEffect",void 0),u([f({json:{read:Mv,write:{writer:Rv,allowNull:!0},origins:{"web-map":M8,"portal-item":M8}}})],bd.prototype,"excludedEffect",void 0),u([f({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":R8,"portal-item":R8}}})],bd.prototype,"excludedLabelsVisible",void 0),bd=iC=u([A("esri.layers.support.FeatureEffect")],bd);const L8={write:{allowNull:!0}},O$e={type:bd,json:{origins:{"web-map":L8,"portal-item":L8}}},E$e=e=>{let t=class extends e{constructor(){super(...arguments),this.featureEffect=null}};return u([f(O$e)],t.prototype,"featureEffect",void 0),t=u([A("esri.layers.mixins.FeatureEffectLayer")],t),t};var W0;const V_=Ar()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),AX=V_.jsonValues.slice();Cde(AX,"orthometric");const zg=Ar()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let ro=W0=class extends z{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,r){return V_.write(e,t,r)}readHeightModel(e,t,r){return V_.read(e)||(r?.messages&&r.messages.push(j$e(e,{context:r})),null)}readHeightUnit(e,t,r){return zg.read(e)||(r?.messages&&r.messages.push(D8(e,{context:r})),null)}readHeightUnitService(e,t,r){return fR(e)||zg.read(e)||(r?.messages&&r.messages.push(D8(e,{context:r})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new W0({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const r=Pye(t);return new W0({heightModel:e.heightModel,heightUnit:r??void 0,vertCRS:e.vertCRS})}write(e,t){return t={origin:"web-scene",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new W0;return t.read(e,{origin:"web-scene"}),t}};function D8(e,t){return new Ro("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}function j$e(e,t){return new Ro("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}u([f({type:V_.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:AX,default:"ellipsoidal",write:{isRequired:!0}}}}})],ro.prototype,"heightModel",void 0),u([re("web-scene","heightModel")],ro.prototype,"writeHeightModel",null),u([X(["web-scene","service"],"heightModel")],ro.prototype,"readHeightModel",null),u([f({type:zg.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:zg.jsonValues,write:{writer:zg.write,isRequired:!0}}}}})],ro.prototype,"heightUnit",void 0),u([X("web-scene","heightUnit")],ro.prototype,"readHeightUnit",null),u([X("service","heightUnit")],ro.prototype,"readHeightUnitService",null),u([f({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],ro.prototype,"vertCRS",void 0),u([X("service","vertCRS",["vertCRS","ellipsoid","geoid"])],ro.prototype,"readVertCRS",null),ro=W0=u([A("esri.geometry.HeightModelInfo")],ro);var sC;let H0=sC=class extends z{constructor(e){super(e)}async collectRequiredFields(e,t){return Fo(e,t,this.expression)}clone(){return new sC({expression:this.expression,title:this.title})}equals(e){return this.expression===e.expression&&this.title===e.title}};u([f({type:String,json:{write:{isRequired:!0}}})],H0.prototype,"expression",void 0),u([f({type:String,json:{write:!0}})],H0.prototype,"title",void 0),H0=sC=u([A("esri.symbols.support.FeatureExpressionInfo")],H0);const F8=H0,dL={unknown:1,inches:On(1,"meters","inches"),feet:On(1,"meters","feet"),"us-feet":On(1,"meters","us-feet"),yards:On(1,"meters","yards"),miles:On(1,"meters","miles"),"nautical-miles":On(1,"meters","nautical-miles"),millimeters:On(1,"meters","millimeters"),centimeters:On(1,"meters","centimeters"),decimeters:On(1,"meters","decimeters"),meters:On(1,"meters","meters"),kilometers:On(1,"meters","kilometers"),"decimal-degrees":1/Iye(1,"meters",Zt.radius)};function Art(e){return 1/(dL[e]||1)}function A$e(){const e=Object.keys(dL);return lH(e,"decimal-degrees"),e.sort(),e}const I$e=A$e();var oC;const xw=Ar()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),U8=new Pe({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});var Lb;let Ja=(Lb=class extends z{constructor(t){super(t),this.featureExpressionInfo=void 0,this.offset=null}readFeatureExpressionInfo(t,r){return t!=null?t.expression?t:void 0:r.featureExpression&&r.featureExpression.value===0?{expression:"0"}:void 0}writeFeatureExpressionInfo(t,r,n,i){r[n]=t.write({},i),t.expression==="0"&&(r.featureExpression={value:0})}get mode(){const{offset:t,featureExpressionInfo:r}=this;return this._isOverridden("mode")?this._get("mode"):t!=null||r?"relative-to-ground":"on-the-ground"}set mode(t){this._override("mode",t)}set unit(t){this._set("unit",t)}write(t,r){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(t,r):null}clone(){return new oC({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(t){return this.mode===t.mode&&this.offset===t.offset&&this.unit===t.unit&&jpe(this.featureExpressionInfo,t.featureExpressionInfo)}},oC=Lb,Lb);u([f({type:F8,json:{write:!0}})],Ja.prototype,"featureExpressionInfo",void 0),u([X("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],Ja.prototype,"readFeatureExpressionInfo",null),u([re("featureExpressionInfo",{featureExpressionInfo:{type:F8},"featureExpression.value":{type:[0]}})],Ja.prototype,"writeFeatureExpressionInfo",null),u([f({type:xw.apiValues,nonNullable:!0,json:{type:xw.jsonValues,read:xw.read,write:{writer:xw.write,isRequired:!0}}})],Ja.prototype,"mode",null),u([f({type:Number,json:{write:!0}})],Ja.prototype,"offset",void 0),u([f({type:I$e,json:{type:String,read:U8.read,write:U8.write}})],Ja.prototype,"unit",null),Ja=oC=u([A("esri.symbols.support.ElevationInfo")],Ja);let Ff=class extends z{constructor(t){super(t),this.description=null,this.label=null,this.type=null}};u([f({type:String,json:{write:!0}})],Ff.prototype,"description",void 0),u([f({type:String,json:{write:!0}})],Ff.prototype,"label",void 0),u([f()],Ff.prototype,"type",void 0),Ff=u([A("esri.tables.elements.AttributeTableElement")],Ff);const hm=Ff;let J0=class extends Se.ClonableMixin(hm){constructor(t){super(t),this.displayType="auto",this.type="attachment"}clone(){return super.clone()}};u([f({type:["auto"],json:{write:!0}})],J0.prototype,"displayType",void 0),u([f({type:["attachment"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],J0.prototype,"type",void 0),J0=u([A("esri.tables.elements.AttributeTableAttachmentElement")],J0);const IX=J0;let wd=class extends Se.ClonableMixin(hm){constructor(t){super(t),this.description=null,this.fieldName=null,this.label=null,this.type="field"}clone(){return super.clone()}};u([f({type:String,json:{read:!1,write:!1}})],wd.prototype,"description",void 0),u([f({type:String,json:{write:{enabled:!0,isRequired:!0}}})],wd.prototype,"fieldName",void 0),u([f({type:String,json:{read:!1,write:!1}})],wd.prototype,"label",void 0),u([f({type:["field"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],wd.prototype,"type",void 0),wd=u([A("esri.tables.elements.AttributeTableFieldElement")],wd);const PX=wd;let K0=class extends Se.ClonableMixin(hm){constructor(t){super(t),this.relationshipId=null,this.type="relationship"}clone(){return super.clone()}};u([f({type:Number,json:{type:Be,write:{enabled:!0,isRequired:!0}}})],K0.prototype,"relationshipId",void 0),u([f({type:["relationship"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],K0.prototype,"type",void 0),K0=u([A("esri.tables.elements.AttributeTableRelationshipElement")],K0);const kX=K0,CX={base:hm,key:"type",typeMap:{attachment:IX,field:PX,relationship:kX}};function P$e(e){return{typesWithGroup:{base:hm,key:"type",typeMap:{attachment:IX,field:PX,group:e,relationship:kX}},typesWithoutGroup:CX}}let Z0=class extends Se.ClonableMixin(hm){constructor(t){super(t),this.elements=null,this.type="group"}clone(){return super.clone()}};u([f({types:[CX],json:{name:"attributeTableElements",write:!0}})],Z0.prototype,"elements",void 0),u([f({type:["group"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],Z0.prototype,"type",void 0),Z0=u([A("esri.tables.elements.AttributeTableGroupElement")],Z0);const k$e=Z0;let Y0=class extends Se.ClonableMixin(z){constructor(t){super(t),this.field=null,this.order=null}};u([f({type:String,json:{write:!0}})],Y0.prototype,"field",void 0),u([f({type:["asc","desc"],json:{write:!0}})],Y0.prototype,"order",void 0),Y0=u([A("esri.tables.support.FieldOrder")],Y0);const C$e=Y0;var aC;const N$e=P$e(k$e);let Q0=aC=class extends z{constructor(e){super(e),this.elements=null,this.orderByFields=null}clone(){return new aC({elements:D(this.elements),orderByFields:D(this.orderByFields)})}};u([f({types:[N$e.typesWithGroup],json:{name:"attributeTableElements",write:!0}})],Q0.prototype,"elements",void 0),u([f({type:[C$e],json:{write:!0}})],Q0.prototype,"orderByFields",void 0),Q0=aC=u([A("esri.tables.AttributeTableTemplate")],Q0);const M$e=Q0,R$e={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:xt}}},cT={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,r){t[r]=!e}}}},dT={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:xt}}},L$e={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:gp}}},D$e={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:xt}}},F$e={value:null,type:Ja,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:xt}}};function Rrt(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const NX={write:{enabled:!0,layerContainerTypes:xt},read:!0},lC={type:Number,json:{origins:{"web-document":NX,"portal-item":{write:{layerContainerTypes:xt}}}}},U$e={...lC,json:{...lC.json,origins:{"web-document":{...NX,write:{enabled:!0,layerContainerTypes:xt,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,r)=>r&&r.origin!=="service"||!t.drawingInfo||t.drawingInfo.transparency===void 0?t.layerDefinition?.drawingInfo&&t.layerDefinition.drawingInfo.transparency!==void 0?Ev(t.layerDefinition.drawingInfo.transparency):void 0:Ev(t.drawingInfo.transparency)}}},Lrt={type:ze,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{const r=ze.fromJSON(e);return t.spatialReference!=null&&typeof t.spatialReference=="object"&&(r.spatialReference=be.fromJSON(t.spatialReference)),r}}}},read:!1}},z$e={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},B$e={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:"layerDefinition.minScale",write:{layerContainerTypes:xt}}},V$e={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:"layerDefinition.maxScale",write:{layerContainerTypes:xt}}},MX={json:{write:{ignoreOrigin:!0,layerContainerTypes:xt},origins:{"web-map":{read:!1,write:!1}}}},q$e={type:M$e,json:{name:"attributeTableInfo",write:!0}};let Ka=class extends Se.ClonableMixin(z){constructor(t){super(t),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.timeZone=null}};u([f()],Ka.prototype,"creatorField",void 0),u([f()],Ka.prototype,"creationDateField",void 0),u([f()],Ka.prototype,"editorField",void 0),u([f()],Ka.prototype,"editDateField",void 0),u([f()],Ka.prototype,"realm",void 0),u([f(k_("dateFieldsTimeReference",!0))],Ka.prototype,"timeZone",void 0),Ka=u([A("esri.layers.support.EditFieldsInfo")],Ka);let oa=class extends Se.ClonableMixin(z){constructor(t){super(t)}};u([f({constructOnly:!0,json:{write:!0}})],oa.prototype,"name",void 0),u([f({constructOnly:!0,json:{write:!0}})],oa.prototype,"fields",void 0),u([f({constructOnly:!0,json:{write:!0}})],oa.prototype,"isAscending",void 0),u([f({constructOnly:!0,json:{write:!0}})],oa.prototype,"indexType",void 0),u([f({constructOnly:!0,json:{write:!0}})],oa.prototype,"isUnique",void 0),u([f({constructOnly:!0,json:{write:!0}})],oa.prototype,"description",void 0),oa=u([A("esri.layers.support.FeatureIndex")],oa);async function RX(e,t,r){t=t.clone(),e.capabilities.query.supportsMaxRecordCountFactor&&(t.maxRecordCountFactor=LX(e));const n=G$e(e),i=e.capabilities.query.supportsPagination;t.start=0,t.num=n;let s=null;for(;;){const o=await e.source.queryFeaturesJSON(t,r);if(s==null?s=o:s.features=s.features.concat(o.features),s.exceededTransferLimit=o.exceededTransferLimit,!i||!o.exceededTransferLimit)break;t.start+=n}return s}function G$e(e){return LX(e)*W$e(e)}function W$e(e){return e.capabilities.query.maxRecordCount||2e3}function LX(e){return e.capabilities.query.supportsMaxRecordCountFactor?xe.MAX_MAX_RECORD_COUNT_FACTOR:1}var uC;let X0=uC=class extends z{constructor(e){super(e),this.minValue=0,this.maxValue=0}clone(){return new uC({minValue:this.minValue,maxValue:this.maxValue})}};u([f({type:Number,json:{write:!0}})],X0.prototype,"minValue",void 0),u([f({type:Number,json:{write:!0}})],X0.prototype,"maxValue",void 0),X0=uC=u([A("esri.renderers.support.AuthoringInfoClassBreakInfo")],X0);var cC;let Au=cC=class extends z{constructor(e){super(e),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=new Array}clone(){return new cC({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:D(this.classBreakInfos)})}};u([f({type:String,json:{write:!0}})],Au.prototype,"field",void 0),u([f({type:String,json:{write:!0}})],Au.prototype,"normalizationField",void 0),u([f({type:String,json:{write:!0}})],Au.prototype,"label",void 0),u([f({type:[X0],json:{write:!0}})],Au.prototype,"classBreakInfos",void 0),Au=cC=u([A("esri.renderers.support.AuthoringInfoFieldInfo")],Au);var dC;let Uf=dC=class extends z{constructor(e){super(e),this.label=null,this.size=null,this.value=null}clone(){return new dC({label:this.label,value:this.value,size:this.size})}};u([f({type:String,json:{write:!0}})],Uf.prototype,"label",void 0),u([f({type:Number,json:{write:!0}})],Uf.prototype,"size",void 0),u([f({type:Number,json:{write:!0}})],Uf.prototype,"value",void 0),Uf=dC=u([A("esri.renderers.support.AuthoringInfoSizeStop")],Uf);const H$e=Uf;var pC;const Sw=new Pe({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),_w=new Pe({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),z8={key:e=>typeof e=="number"?"number":"string",typeMap:{number:Number,string:String},base:null},B8=["high-to-low","above-and-below","centered-on","extremes"],V8=[...new Set(["high-to-low","above-and-below","centered-on","extremes","above","below","high-to-low","above-and-below","above","below","reference-size","spike"])],q8=["seconds","minutes","hours","days","months","years"],J$e=["circle","diamond","hexagon-flat","hexagon-pointy","square"],K$e=["triangle-closed-outline","triangle-gradient-fill-closed","triangle-gradient-fill-closed-outline","triangle-gradient-fill-open","triangle-gradient-fill-open-outline","triangle-open-outline","triangle-solid-fill-closed","triangle-solid-fill-closed-outline","triangle-solid-fill-open","triangle-solid-fill-open-outline"];let Cr=pC=class extends z{constructor(e){super(e),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(e){return typeof e=="string"||typeof e=="number"?e:null}get normalizationField(){return this.theme==="reference-size"||this.theme==="spike"?this._get("normalizationField"):null}set normalizationField(e){this._set("normalizationField",e)}get referenceSizeScale(){return this.theme==="reference-size"?this._get("referenceSizeScale"):null}set referenceSizeScale(e){this._set("referenceSizeScale",e)}get referenceSizeSymbolStyle(){return this.theme==="reference-size"?this._get("referenceSizeSymbolStyle"):null}set referenceSizeSymbolStyle(e){this._set("referenceSizeSymbolStyle",e)}get spikeSymbolStyle(){return this.theme==="spike"?this._get("spikeSymbolStyle"):null}set spikeSymbolStyle(e){this._set("spikeSymbolStyle",e)}castStartTime(e){return typeof e=="string"||typeof e=="number"?e:null}get sizeStops(){return this.theme==="reference-size"||this.theme==="spike"?this._get("sizeStops"):null}set sizeStops(e){this._set("sizeStops",e)}get style(){return this.type==="color"?this._get("style"):null}set style(e){this._set("style",e)}get theme(){return this.type==="color"||this.type==="size"?this._get("theme")||"high-to-low":null}set theme(e){this._set("theme",e)}clone(){return new pC({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,normalizationField:this.normalizationField,referenceSizeScale:this.referenceSizeScale,referenceSizeSymbolStyle:this.referenceSizeSymbolStyle,spikeSymbolStyle:this.spikeSymbolStyle,sizeStops:D(this.sizeStops),startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};u([f({types:z8,json:{write:!0}})],Cr.prototype,"endTime",void 0),u([ht("endTime")],Cr.prototype,"castEndTime",null),u([f({type:String,json:{write:!0}})],Cr.prototype,"field",void 0),u([f({type:Number,json:{write:!0}})],Cr.prototype,"maxSliderValue",void 0),u([f({type:Number,json:{write:!0}})],Cr.prototype,"minSliderValue",void 0),u([f({type:String,json:{origins:{"web-scene":{write:!1}},write:!0}})],Cr.prototype,"normalizationField",null),u([f({type:Number,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],Cr.prototype,"referenceSizeScale",null),u([f({type:J$e,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],Cr.prototype,"referenceSizeSymbolStyle",null),u([f({type:K$e,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],Cr.prototype,"spikeSymbolStyle",null),u([f({types:z8,json:{write:!0}})],Cr.prototype,"startTime",void 0),u([ht("startTime")],Cr.prototype,"castStartTime",null),u([f({type:[H$e],json:{origins:{"web-scene":{write:!1}},write:!0}})],Cr.prototype,"sizeStops",null),u([f({type:Sw.apiValues,value:null,json:{type:Sw.jsonValues,read:Sw.read,write:Sw.write}})],Cr.prototype,"style",null),u([f({type:V8,value:null,json:{type:V8,origins:{"web-scene":{type:B8,write:{writer:(e,t)=>{B8.includes(e)&&(t.theme=e)}}}},write:!0}})],Cr.prototype,"theme",null),u([f({type:_w.apiValues,json:{type:_w.jsonValues,read:_w.read,write:_w.write}})],Cr.prototype,"type",void 0),u([f({type:q8,json:{type:q8,write:!0}})],Cr.prototype,"units",void 0),Cr=pC=u([A("esri.renderers.support.AuthoringInfoVisualVariable")],Cr);const Z$e=Cr;let Wh=class extends z{constructor(t){super(t),this.type=null}};u([f({readOnly:!0,json:{read:!1,write:!0}})],Wh.prototype,"type",void 0),Wh=u([A("esri.rest.support.ColorRamp")],Wh);var fC;let gl=fC=class extends Wh{constructor(e){super(e),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new fC({fromColor:D(this.fromColor),toColor:D(this.toColor),algorithm:this.algorithm})}};u([ye({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],gl.prototype,"algorithm",void 0),u([f({type:Me,json:{type:[Be],write:!0}})],gl.prototype,"fromColor",void 0),u([f({type:Me,json:{type:[Be],write:!0}})],gl.prototype,"toColor",void 0),u([f({type:["algorithmic"]})],gl.prototype,"type",void 0),gl=fC=u([A("esri.rest.support.AlgorithmicColorRamp")],gl);var hC;let bh=hC=class extends Wh{constructor(e){super(e),this.colorRamps=null,this.type="multipart"}clone(){return new hC({colorRamps:D(this.colorRamps)})}};u([f({type:[gl],json:{write:!0}})],bh.prototype,"colorRamps",void 0),u([f({type:["multipart"]})],bh.prototype,"type",void 0),bh=hC=u([A("esri.rest.support.MultipartColorRamp")],bh);const Y$e={key:"type",base:Wh,typeMap:{algorithmic:gl,multipart:bh}};function Q$e(e){return e?.type?e.type==="algorithmic"?gl.fromJSON(e):e.type==="multipart"?bh.fromJSON(e):null:null}var yC;const Wc=new Pe({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),$w=new Pe({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),G8=new Pe({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),W8=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers"],X$e=["high-to-low","above-and-below","above","below"],eTe=["flow-line","wave-front"],tTe=["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"];let Rt=yC=class extends z{constructor(e){super(e),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const e=this._get("classificationMethod"),t=this.type;return t&&t!=="relationship"?t==="class-breaks-size"||t==="class-breaks-color"?e||"manual":null:e}set classificationMethod(e){this._set("classificationMethod",e)}readColorRamp(e){return e?Q$e(e):void 0}get fields(){return this.type&&this.type!=="predominance"?null:this._get("fields")}set fields(e){this._set("fields",e)}get field1(){return this.type&&this.type!=="relationship"?null:this._get("field1")}set field1(e){this._set("field1",e)}get field2(){return this.type&&this.type!=="relationship"?null:this._get("field2")}set field2(e){this._set("field2",e)}get flowTheme(){return this.type==="flow"?this._get("flowTheme"):null}set flowTheme(e){this._set("flowTheme",e)}get focus(){return this.type&&this.type!=="relationship"?null:this._get("focus")}set focus(e){this._set("focus",e)}get numClasses(){return this.type&&this.type!=="relationship"?null:this._get("numClasses")}set numClasses(e){this._set("numClasses",e)}get statistics(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("statistics"):null}set statistics(e){this._set("statistics",e)}get standardDeviationInterval(){const e=this.type;return e&&e!=="relationship"&&e!=="class-breaks-size"&&e!=="class-breaks-color"||this.classificationMethod&&this.classificationMethod!=="standard-deviation"?null:this._get("standardDeviationInterval")}set standardDeviationInterval(e){this._set("standardDeviationInterval",e)}get type(){return this._get("type")}set type(e){let t=e;e==="classed-size"?t="class-breaks-size":e==="classed-color"&&(t="class-breaks-color"),this._set("type",t)}get univariateSymbolStyle(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(e){this._set("univariateSymbolStyle",e)}get univariateTheme(){return this.type==="univariate-color-size"?this._get("univariateTheme"):null}set univariateTheme(e){this._set("univariateTheme",e)}clone(){return new yC({classificationMethod:this.classificationMethod,colorRamp:D(this.colorRamp),fadeRatio:D(this.fadeRatio),fields:this.fields?.slice(),field1:D(this.field1),field2:D(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(e=>e.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};u([f({type:Wc.apiValues,value:null,json:{type:Wc.jsonValues,read:Wc.read,write:Wc.write,origins:{"web-document":{default:"manual",type:Wc.jsonValues,read:Wc.read,write:Wc.write}}}})],Rt.prototype,"classificationMethod",null),u([f({types:Y$e,json:{write:!0}})],Rt.prototype,"colorRamp",void 0),u([X("colorRamp")],Rt.prototype,"readColorRamp",null),u([f({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Rt.prototype,"fadeRatio",void 0),u([f({type:[String],value:null,json:{write:!0}})],Rt.prototype,"fields",null),u([f({type:Au,value:null,json:{write:!0}})],Rt.prototype,"field1",null),u([f({type:Au,value:null,json:{write:!0}})],Rt.prototype,"field2",null),u([f({type:eTe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Rt.prototype,"flowTheme",null),u([f({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],Rt.prototype,"focus",null),u([f({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],Rt.prototype,"isAutoGenerated",void 0),u([f({type:Number,value:null,json:{type:Be,write:!0}})],Rt.prototype,"numClasses",null),u([f({type:W8,json:{type:W8,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],Rt.prototype,"lengthUnit",void 0),u([f({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Rt.prototype,"maxSliderValue",void 0),u([f({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Rt.prototype,"minSliderValue",void 0),u([f({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Rt.prototype,"statistics",null),u([f({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],Rt.prototype,"standardDeviationInterval",null),u([f({type:$w.apiValues,value:null,json:{type:$w.jsonValues,read:$w.read,write:$w.write,origins:{"web-scene":{type:G8.jsonValues,write:{writer:G8.write,overridePolicy:e=>({enabled:e!=="flow"})}}}}})],Rt.prototype,"type",null),u([f({type:[Z$e],json:{write:!0}})],Rt.prototype,"visualVariables",void 0),u([f({type:tTe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Rt.prototype,"univariateSymbolStyle",null),u([f({type:X$e,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Rt.prototype,"univariateTheme",null),Rt=yC=u([A("esri.renderers.support.AuthoringInfo")],Rt);const zE=new Pe({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let Hi=class extends z{constructor(t){super(t),this.authoringInfo=null,this.type=null}async getRequiredFields(t){if(!this.collectRequiredFields)return[];const r=new Set;return await this.collectRequiredFields(r,t),Array.from(r).sort()}getSymbol(t,r){}async getSymbolAsync(t,r){}get symbols(){return[]}get arcadeRequired(){return!1}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};u([f({type:Rt,json:{write:!0}})],Hi.prototype,"authoringInfo",void 0),u([f({type:zE.apiValues,readOnly:!0,json:{type:zE.jsonValues,read:!1,write:{writer:zE.write,ignoreOrigin:!0,isRequired:!0}}})],Hi.prototype,"type",void 0),Hi=u([A("esri.renderers.Renderer")],Hi);let eg=class extends Se.ClonableMixin(z){constructor(){super(...arguments),this.showLegend=null,this.title=null}};u([f({type:Boolean,json:{write:!0}})],eg.prototype,"showLegend",void 0),u([f({type:String,json:{write:!0}})],eg.prototype,"title",void 0),eg=u([A("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],eg);const DX=eg,BE=new Pe({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let En=class extends z{constructor(t){super(t),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(t){return t==null?t:typeof t=="function"?(ce.getLogger(this).error(".field: field must be a string value"),null):s1(t)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};u([f()],En.prototype,"index",void 0),u([f({type:BE.apiValues,readOnly:!0,json:{read:BE.read,write:{writer:BE.write,isRequired:!0}}})],En.prototype,"type",void 0),u([f({type:String,json:{write:!0}})],En.prototype,"field",void 0),u([ht("field")],En.prototype,"castField",null),u([f({type:String,json:{write:!0}})],En.prototype,"valueExpression",void 0),u([f({type:String,json:{write:!0}})],En.prototype,"valueExpressionTitle",void 0),u([f({readOnly:!0})],En.prototype,"arcadeRequired",null),u([f({type:DX,json:{write:!0}})],En.prototype,"legendOptions",void 0),En=u([A("esri.renderers.visualVariables.VisualVariable")],En);var mC;let xd=mC=class extends z{constructor(e){super(e),this.color=null,this.label=null,this.value=null}writeValue(e,t,r){t[r]=e??0}clone(){return new mC({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};u([f({type:Me,json:{type:[Be],write:{isRequired:!0}}})],xd.prototype,"color",void 0),u([f({type:String,json:{write:!0}})],xd.prototype,"label",void 0),u([f({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],xd.prototype,"value",void 0),u([re("value")],xd.prototype,"writeValue",null),xd=mC=u([A("esri.renderers.visualVariables.support.ColorStop")],xd);const rTe=xd;var gC;let Iu=gC=class extends En{constructor(e){super(e),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value),this._set("stops",e)}clone(){return new gC({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};u([f({readOnly:!0})],Iu.prototype,"cache",null),u([f({type:["color"],json:{type:["colorInfo"]}})],Iu.prototype,"type",void 0),u([f({type:String,json:{write:!0}})],Iu.prototype,"normalizationField",void 0),u([f({type:[rTe],json:{write:!0}})],Iu.prototype,"stops",null),Iu=gC=u([A("esri.renderers.visualVariables.ColorVariable")],Iu);var vC;let gu=vC=class extends z{constructor(e){super(e),this.label=null,this.opacity=null,this.value=null}readOpacity(e,t){return Ev(t.transparency)}writeOpacity(e,t,r){t[r]=Z$(e)}clone(){return new vC({label:this.label,opacity:this.opacity,value:this.value})}};u([f({type:String,json:{write:!0}})],gu.prototype,"label",void 0),u([f({type:Number,json:{type:Be,write:{target:"transparency",isRequired:!0}}})],gu.prototype,"opacity",void 0),u([X("opacity",["transparency"])],gu.prototype,"readOpacity",null),u([re("opacity")],gu.prototype,"writeOpacity",null),u([f({type:Number,json:{write:{isRequired:!0}}})],gu.prototype,"value",void 0),gu=vC=u([A("esri.renderers.visualVariables.support.OpacityStop")],gu);const nTe=gu;var bC;let vl=bC=class extends En{constructor(e){super(e),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value),this._set("stops",e)}clone(){return new bC({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};u([f({readOnly:!0})],vl.prototype,"cache",null),u([f({type:["opacity"],json:{type:["transparencyInfo"]}})],vl.prototype,"type",void 0),u([f({type:String,json:{write:!0}})],vl.prototype,"normalizationField",void 0),u([f({type:[nTe],json:{write:!0}})],vl.prototype,"stops",null),vl=bC=u([A("esri.renderers.visualVariables.OpacityVariable")],vl);var wC;let Pu=wC=class extends En{constructor(e){super(e),this.axis=null,this.type="rotation",this.rotationType="geographic"}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}clone(){return new wC({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions?.clone()})}};u([f({readOnly:!0})],Pu.prototype,"cache",null),u([f({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],Pu.prototype,"axis",void 0),u([f({type:["rotation"],json:{type:["rotationInfo"]}})],Pu.prototype,"type",void 0),u([f({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],Pu.prototype,"rotationType",void 0),Pu=wC=u([A("esri.renderers.visualVariables.RotationVariable")],Pu);function iTe(e){return He(e)}var xC;let fo=xC=class extends z{constructor(e){super(e),this.label=null,this.size=null,this.value=null,this.useMinValue=null,this.useMaxValue=null}clone(){return new xC({label:this.label,size:this.size,value:this.value,useMaxValue:this.useMaxValue,useMinValue:this.useMinValue})}};u([f({type:String,json:{write:!0}})],fo.prototype,"label",void 0),u([f({type:Number,cast:He,json:{write:{isRequired:!0}}})],fo.prototype,"size",void 0),u([f({type:Number,json:{write:{isRequired:!0}}})],fo.prototype,"value",void 0),u([f({type:Boolean,json:{write:!1}})],fo.prototype,"useMinValue",void 0),u([f({type:Boolean,json:{write:!1}})],fo.prototype,"useMaxValue",void 0),fo=xC=u([A("esri.renderers.visualVariables.support.SizeStop")],fo);let pS=class extends DX{constructor(){super(...arguments),this.customValues=null}};u([f({type:[Number],json:{write:!0}})],pS.prototype,"customValues",void 0),pS=u([A("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],pS);const sTe=pS;var Pl,zr;function wh(e){return e&&e.declaredClass==="esri.renderers.visualVariables.SizeVariable"}function Dv(e){return e!=null&&!isNaN(e)&&isFinite(e)}function FX(e){return e.valueExpression?Pl.Expression:e.field&&typeof e.field=="string"?Pl.Field:Pl.Unknown}function oTe(e,t){const r=t||FX(e),n=e.valueUnit||"unknown";return r===Pl.Unknown?zr.Constant:e.stops?zr.Stops:e.minSize!=null&&e.maxSize!=null&&e.minDataValue!=null&&e.maxDataValue!=null?zr.ClampedLinear:n==="unknown"?e.minSize!=null&&e.minDataValue!=null?e.minSize&&e.minDataValue?zr.Proportional:zr.Additive:zr.Identity:zr.RealWorldSize}(function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"})(Pl||(Pl={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(zr||(zr={}));const UX=()=>ce.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),zX=e=>UX().warn(`The visualVariable should be an instance of esri.renderers.visualVariables.${e}`),BX=()=>UX().error("Use of arcade expressions requires an arcade context");new _r;const fS=Math.PI,aTe=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function Grt(e,t,r){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(m=>m.type==="rotation"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.RotationVariable")return void zX("RotationVariable");const i=n.axis||"heading",s=i==="heading"&&n.rotationType==="arithmetic"?90:0,o=i==="heading"&&n.rotationType==="arithmetic"?-1:1,a=typeof t=="number"?null:t,l=a?.attributes,c=n.field,{hasExpression:d}=n.cache;let p=n.cache.compiledFunc,y=null;if(!c&&!d)return y;if(d){if(r?.arcade==null)return void BX();const m={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},g=r.arcade.arcadeUtils,b=g.getViewInfo(m),w=g.createExecContext(a,b,r.timeZone);if(!p){const S=g.createSyntaxTree(n.valueExpression);p=g.createFunction(S),n.cache.compiledFunc=p}y=g.executeFunction(p,w)}else l&&(y=l[c]);return y=typeof y!="number"||isNaN(y)?null:s+o*y,y}function lTe(e,t,r){const n=typeof t=="number",i=n?null:t,s=i?.attributes;let o=n?t:null;const{isScaleDriven:a}=e.cache;let l=e.cache.compiledFunc;if(a){const d=r?.scale,p=r?.view;o=d==null||p==="3d"?uTe(e):d}else if(!n)switch(e.inputValueType){case Pl.Expression:{if(r?.arcade==null)return void BX();const d={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},p=r.arcade.arcadeUtils,y=p.getViewInfo(d),m=p.createExecContext(i,y,r.timeZone);if(!l){const g=p.createSyntaxTree(e.valueExpression);l=p.createFunction(g),e.cache.compiledFunc=l}o=p.executeFunction(l,m);break}case Pl.Field:s&&(o=s[e.field]);break;case Pl.Unknown:o=null}if(!Dv(o))return null;if(n||!e.normalizationField)return o;const c=s?parseFloat(s[e.normalizationField]):null;return Dv(c)&&c!==0?o/c:null}function uTe(e){let t=null,r=null;const n=e.stops;return n?(t=n[0].value,r=n[n.length-1].value):(t=e.minDataValue||0,r=e.maxDataValue||0),(t+r)/2}function VX(e,t,r){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(s=>s.type==="size"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.SizeVariable")return void zX("SizeVariable");const i=mTe(lTe(n,t,r),n,t,r,n.cache.ipData);return i==null||isNaN(i)?void 0:i}function Co(e,t,r){return e==null?null:wh(e)?VX(e,t,r):Dv(e)?e:null}function qX(e,t,r){return Dv(r)&&e>r?r:Dv(t)&&e<t?t:e}function cTe(e,t,r,n){const i=Co(t.minSize,r,n)||t.minDataValue;return e==null&&i==null?null:(e??0)+(i??0)}function dTe(e,t,r){const n=e.stops;let i=n?.length&&n[0].size;return i==null&&(i=e.minSize),Co(i,t,r)}function pTe(e,t,r,n){const i=Co(t.minSize,r,n);if(e==null)return i;const{minDataValue:s,maxDataValue:o}=t;if(s==null||o==null)return null;const a=(e-s)/(o-s),l=Co(t.maxSize,r,n),c=n?.shape;if(e<=s)return i;if(e>=o)return l;if(i==null||l==null)return null;if(t.scaleBy==="area"&&c){const d=c==="circle",p=d?fS*(i/2)**2:i*i,y=p+a*((d?fS*(l/2)**2:l*l)-p);return d?2*Math.sqrt(y/fS):Math.sqrt(y)}return i+a*(l-i)}function fTe(e,t,r,n){const i=Co(t.minSize,r,n);if(e==null||i==null)return i;const s=n?.shape,{minDataValue:o}=t;if(o==null)return null;const a=e/o,l=Co(t.maxSize,r,n);let c=null;return c=s==="circle"?2*Math.sqrt(a*(i/2)**2):s==="square"||s==="diamond"||s==="image"?Math.sqrt(a*i**2):a*i,qX(c,i,l)}function hTe(e,t,r,n,i){if(e==null)return null;const[s,o,a]=gTe(e,i);if(s===o)return Co(t.stops?.[s].size,r,n);{const l=Co(t.stops?.[s].size,r,n),c=Co(t.stops?.[o].size,r,n);return l==null||c==null?null:l+(c-l)*a}}function yTe(e,t,r,n){const i=(n?.resolution??1)*dL[t.valueUnit],s=Co(t.minSize,r,n),o=Co(t.maxSize,r,n),{valueRepresentation:a}=t;if(e==null)return s;let l=null;return l=a==="area"?2*Math.sqrt(e/fS)/i:a==="radius"||a==="distance"?2*e/i:e/i,qX(l,s,o)}function mTe(e,t,r,n,i){switch(t.transformationType){case zr.Additive:return cTe(e,t,r,n);case zr.Constant:return dTe(t,r,n);case zr.ClampedLinear:return pTe(e,t,r,n);case zr.Proportional:return fTe(e,t,r,n);case zr.Stops:return hTe(e,t,r,n,i);case zr.RealWorldSize:return yTe(e,t,r,n);case zr.Identity:return e;case zr.Unknown:return null}}function gTe(e,t){if(!t)return;let r=0,n=t.length-1;return t.some((i,s)=>e<i?(n=s,!0):(r=s,!1)),[r,n,(e-t[r])/(t[n]-t[r])]}function Wrt(e,t,r){const n=["proportional","proportional","proportional"];for(const i of e){const s=i.useSymbolValue?"symbol-value":VX(i,t,r)??"proportional";switch(i.axis){case"width":n[0]=s;break;case"depth":n[1]=s;break;case"height":n[2]=s;break;case"width-and-depth":n[0]=s,n[1]=s;break;case"all":case void 0:case null:n[0]=s,n[1]=s,n[2]=s;break;default:i.axis}}return n}var SC;const Tw=new Pe({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),_C=new Pe({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers"});function H8(e){if(e!=null)return typeof e=="string"||typeof e=="number"?iTe(e):e.type==="size"?wh(e)?e:(delete(e={...e}).type,new Qe(e)):void 0}function J8(e,t,r){if(typeof e!="object")return e;const n=new Qe;return n.read(e,r),n}let Qe=SC=class extends En{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:this.valueExpression!=null&&aTe.test(this.valueExpression)}}set index(e){wh(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),wh(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set("index",e)}get inputValueType(){return FX(this)}set maxDataValue(e){e&&this.stops&&(ce.getLogger(this).warn("cannot set maxDataValue when stops is not null."),e=null),this._set("maxDataValue",e)}set maxSize(e){e&&this.stops&&(ce.getLogger(this).warn("cannot set maxSize when stops is not null."),e=null),this._set("maxSize",e)}castMaxSize(e){return H8(e)}readMaxSize(e,t,r){return J8(e,t,r)}set minDataValue(e){e&&this.stops&&(ce.getLogger(this).warn("cannot set minDataValue when stops is not null."),e=null),this._set("minDataValue",e)}set minSize(e){e&&this.stops&&(ce.getLogger(this).warn("cannot set minSize when stops is not null."),e=null),this._set("minSize",e)}castMinSize(e){return H8(e)}readMinSize(e,t,r){return J8(e,t,r)}get arcadeRequired(){return!!this.valueExpression||this.minSize!=null&&typeof this.minSize=="object"&&this.minSize.arcadeRequired||this.maxSize!=null&&typeof this.maxSize=="object"&&this.maxSize.arcadeRequired}set stops(e){this.minDataValue==null&&this.maxDataValue==null&&this.minSize==null&&this.maxSize==null?e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value):e&&(ce.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),e=null),this._set("stops",e)}get transformationType(){return oTe(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&"$view.scale"}writeValueExpressionWebScene(e,t,r,n){if(e==="$view.scale"){if(n?.messages){const i=this.index,s=typeof i=="string"?i:`visualVariables[${i}]`;n.messages.push(new K("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:s+".valueExpression",context:n}))}}else t[r]=e}readValueUnit(e){return e?_C.read(e):null}clone(){return new SC({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:wh(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:wh(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops?.map(e=>e.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions?.clone()})}flipSizes(){if(this.transformationType===zr.ClampedLinear){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(this.transformationType===zr.Stops){const e=this.stops;if(!e)return this;const t=e.map(n=>n.size).reverse(),r=e.length;for(let n=0;n<r;n++)e[n].size=t[n];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops?.map(e=>e.value||0)}};u([f({readOnly:!0})],Qe.prototype,"cache",null),u([f({type:Tw.apiValues,json:{type:Tw.jsonValues,origins:{"web-map":{read:!1}},read:Tw.read,write:Tw.write}})],Qe.prototype,"axis",void 0),u([f()],Qe.prototype,"index",null),u([f({type:String,readOnly:!0})],Qe.prototype,"inputValueType",null),u([f({type:sTe,json:{write:!0}})],Qe.prototype,"legendOptions",void 0),u([f({type:Number,value:null,json:{write:!0}})],Qe.prototype,"maxDataValue",null),u([f({type:Number,value:null,json:{write:!0}})],Qe.prototype,"maxSize",null),u([ht("maxSize")],Qe.prototype,"castMaxSize",null),u([X("maxSize")],Qe.prototype,"readMaxSize",null),u([f({type:Number,value:null,json:{write:!0}})],Qe.prototype,"minDataValue",null),u([f({type:Number,value:null,json:{write:!0}})],Qe.prototype,"minSize",null),u([ht("minSize")],Qe.prototype,"castMinSize",null),u([X("minSize")],Qe.prototype,"readMinSize",null),u([f({type:String,json:{write:!0}})],Qe.prototype,"normalizationField",void 0),u([f({readOnly:!0})],Qe.prototype,"arcadeRequired",null),u([f({type:String})],Qe.prototype,"scaleBy",void 0),u([f({type:[fo],value:null,json:{write:!0}})],Qe.prototype,"stops",null),u([f({type:["outline"],json:{write:!0}})],Qe.prototype,"target",void 0),u([f({type:String,readOnly:!0})],Qe.prototype,"transformationType",null),u([f({type:["size"],json:{type:["sizeInfo"]}})],Qe.prototype,"type",void 0),u([f({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],Qe.prototype,"useSymbolValue",void 0),u([f({type:String,json:{write:!0}})],Qe.prototype,"valueExpression",void 0),u([X("valueExpression",["valueExpression","expression"])],Qe.prototype,"readValueExpression",null),u([re("web-scene","valueExpression")],Qe.prototype,"writeValueExpressionWebScene",null),u([f({type:["radius","diameter","area","width","distance"],json:{write:!0}})],Qe.prototype,"valueRepresentation",void 0),u([f({type:_C.apiValues,json:{write:_C.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],Qe.prototype,"valueUnit",void 0),u([X("valueUnit")],Qe.prototype,"readValueUnit",null),Qe=SC=u([A("esri.renderers.visualVariables.SizeVariable")],Qe);const vTe={color:Iu,size:Qe,opacity:vl,rotation:Pu},bTe=new Pe({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),wTe=/^\[([^\]]+)\]$/i;let hS=class extends ft{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(t){if(this._resetVariables(),t=t?.filter(r=>!!r),t?.length){for(const r of t)switch(r.type){case"color":this.colorVariables.push(r);break;case"opacity":this.opacityVariables.push(r);break;case"rotation":this.rotationVariables.push(r);break;case"size":this.sizeVariables.push(r)}this.sizeVariables.length&&this.sizeVariables.some(r=>!!r.target)&&t.sort((r,n)=>{let i=null;return i=r.target===n.target?0:r.target?1:-1,i});for(let r=0;r<t.length;r++)t[r].index=r;this._set("visualVariables",t)}else this._set("visualVariables",t)}readVariables(t,r,n){const{rotationExpression:i,rotationType:s}=r,o=i?.match(wTe),a=o?.[1];if(a&&(t||(t=[]),t.push({type:"rotationInfo",rotationType:s,field:a})),t)return t.map(l=>{const c=bTe.read(l.type),d=vTe[c];d||(ce.getLogger(this).warn(`Unknown variable type: ${c}`),n?.messages&&n.messages.push(new Ro("visual-variable:unsupported",`visualVariable of type '${c}' is not supported`,{definition:l,context:n})));const p=new d;return p.read(l,n),p})}writeVariables(t,r){const n=[];for(const i of t){const s=i.toJSON(r);s&&n.push(s)}return n}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};u([f()],hS.prototype,"visualVariables",null),hS=u([A("esri.renderers.visualVariables.VisualVariableFactory")],hS);const xTe={base:En,key:"type",typeMap:{opacity:vl,color:Iu,rotation:Pu,size:Qe}},ym=e=>{let t=class extends e{constructor(){super(...arguments),this._vvFactory=new hS}set visualVariables(r){this._vvFactory.visualVariables=r,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(r,n,i){return this._vvFactory.readVariables(r,n,i)}writeVisualVariables(r,n,i,s){n[i]=this._vvFactory.writeVariables(r,s)}get arcadeRequiredForVisualVariables(){return this.visualVariables?.some(({arcadeRequired:r})=>r)??!1}hasVisualVariables(r,n){return r?this.getVisualVariablesForType(r,n).length>0:this.getVisualVariablesForType("size",n).length>0||this.getVisualVariablesForType("color",n).length>0||this.getVisualVariablesForType("opacity",n).length>0||this.getVisualVariablesForType("rotation",n).length>0}getVisualVariablesForType(r,n){return this.visualVariables?.filter(i=>i.type===r&&(typeof n=="string"?i.target===n:n!==!1||!i.target))??[]}async collectVVRequiredFields(r,n){let i=[];this.visualVariables&&(i=i.concat(this.visualVariables));for(const s of i)s&&(s.field&&Yi(r,n,s.field),s.normalizationField&&Yi(r,n,s.normalizationField),s.valueExpression&&(STe(s.valueExpression,r,n)||await Fo(r,n,s.valueExpression)))}};return u([f({types:[xTe],value:null,json:{write:!0}})],t.prototype,"visualVariables",null),u([X("visualVariables",["visualVariables","rotationType","rotationExpression"])],t.prototype,"readVisualVariables",null),u([re("visualVariables")],t.prototype,"writeVisualVariables",null),t=u([A("esri.renderers.mixins.VisualVariablesMixin")],t),t};function STe(e,t,r){const n=zxe(e);return n!=null&&(Yi(t,r,n),!0)}const pL=[252,146,31,255],_Te=[153,153,153,255],$Te={type:"esriSMS",style:"esriSMSCircle",size:6,color:pL,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},TTe={type:"esriSLS",style:"esriSLSSolid",width:.75,color:pL},OTe={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},ETe={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},jTe={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},ATe={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},ITe={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null},$C=Fr.fromJSON($Te),GX=yr.fromJSON(TTe),PTe=Vi.fromJSON(OTe),kTe=ut.fromJSON(ETe);Fr.fromJSON(jTe);yr.fromJSON(ATe);Vi.fromJSON(ITe);Kn.fromSimpleMarkerSymbol($C);$o.fromSimpleLineSymbol(GX);Os.fromSimpleFillSymbol(PTe);new Tl({symbolLayers:new Te([new Hn({material:{color:pL},edges:new FQ({size:Ms(1),color:new Me(_Te)})})])});const CTe=new $o({symbolLayers:new Te([new Wn({material:{color:new Me([0,0,0])},size:Ms(1)})])}),NTe=new Os({symbolLayers:new Te([new Hn({outline:{color:new Me([0,0,0]),size:Ms(1)}})])}),K8="#useCIMFallbackSymbology()",af={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function MTe(e,t=af){if(!e)return{symbol:null};const{retainId:r=af.retainId,ignoreDrivers:n=af.ignoreDrivers,hasLabelingContext:i=af.hasLabelingContext,retainCIM:s=af.retainCIM,cimFallbackEnabled:o=af.cimFallbackEnabled}=t;let a=null;if(sX(e)||e instanceof Qr)a=e.clone();else if(e.type==="cim"){const l=e.data?.symbol?.type;switch(l){case"CIMPointSymbol":a=s?e.clone():Kn.fromCIMSymbol(e);break;case"CIMLineSymbol":o&&(a=CTe.clone(),t?.logWarning?.(K8,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":o&&(a=NTe.clone(),t?.logWarning?.(K8,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!a)return{error:new K("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${l||"unknown"}' is unsupported in 3D`,{symbol:e})}}else if(e instanceof yr)a=$o.fromSimpleLineSymbol(e);else if(e instanceof Fr)a=Kn.fromSimpleMarkerSymbol(e);else if(e instanceof qn)a=Kn.fromPictureMarkerSymbol(e);else if(e instanceof Vi)a=t.geometryType&&t.geometryType==="mesh"?Tl.fromSimpleFillSymbol(e):Os.fromSimpleFillSymbol(e);else{if(!(e instanceof ut))return{error:new K("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};a=i?uo.fromTextSymbol(e):Kn.fromTextSymbol(e)}return r&&a&&a.type!=="cim"&&(a.id=e.id),!n||a.type==="cim"||a instanceof Qr||a.symbolLayers.forEach(l=>l.ignoreDrivers=!0),{symbol:a}}function q_(e,t,r,n){const i=WX(e,{},{context:n,isLabelSymbol:!1});i!=null&&or(r,i,t)}function Z8(e,t,r,n){const i=WX(e,{},{context:n,isLabelSymbol:!0});i!=null&&(t[r]=i)}function Y8(e){return sX(e)||e instanceof Qr}function RTe(e){return e?.type==="polygon-3d"||e?.type==="line-3d"}function WX(e,t,r){if(e==null)return null;const{context:n,isLabelSymbol:i}=r,s=n?.origin,o=n?.messages;if(s==="web-scene"&&!Y8(e)){const a=MTe(e,{retainCIM:!0,hasLabelingContext:i});return a.symbol!=null?a.symbol.write(t,n):(o?.push(new K("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:n,error:a.error})),null)}return kI(n?.layer)&&RTe(e)?(o?.push(new K("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported on layers of type '${n?.layer?.declaredClass}'.`,{symbol:e,context:n})),null):(s==="web-map"||s==="portal-item"&&!kI(n?.layer))&&Y8(e)?(o?.push(new K("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:n})),null):e.write(t,n)}function Jrt(e,t){return j_e(e,null,t)}const pT={types:oX,json:{write:{writer:q_},origins:{"web-scene":{types:J6,write:{writer:q_},read:{reader:im({types:J6})}}}}},fL=kM({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},pT),hL={types:{base:sr,key:"type",typeMap:{"simple-fill":Zu.typeMap["simple-fill"],"picture-fill":Zu.typeMap["picture-fill"],"polygon-3d":Zu.typeMap["polygon-3d"],cim:Zu.typeMap.cim}},json:{write:{writer:q_},origins:{"web-scene":{type:Os,write:{writer:q_}}}}},yS={cast:e=>e==null||typeof e=="string"||typeof e=="number"?e:`${e}`,json:{type:String,write:{writer:(e,t)=>{t.value=e?.toString()}}}};var TC;let Zn=TC=class extends ym(Hi){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.symbols.map(r=>r.collectRequiredFields(e,t)))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}get symbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables?.reduce((e,t)=>e+t.getAttributeHash(),"")??""}getMeshHash(){return this.symbols.reduce((e,t)=>e+JSON.stringify(t),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new TC({description:this.description,label:this.label,symbol:D(this.symbol),visualVariables:D(this.visualVariables),authoringInfo:D(this.authoringInfo)})}};u([f({type:String,json:{write:!0}})],Zn.prototype,"description",void 0),u([f({type:String,json:{write:!0}})],Zn.prototype,"label",void 0),u([f(fL)],Zn.prototype,"symbol",void 0),u([ye({simple:"simple"})],Zn.prototype,"type",void 0),Zn=TC=u([A("esri.renderers.SimpleRenderer")],Zn);const LTe=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function OC(e){return e instanceof ft}function Q8(e){return e instanceof Te?Object.keys(e.items):OC(e)?ri(e).keys():e?Object.keys(e):[]}function Ow(e,t){return e instanceof Te?e.items[t]:e[t]}function DTe(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}function Bg(e){return e?e.declaredClass:null}function HX(e,t){const r=e.diff;if(r&&typeof r=="function")return r(e,t);const n=Q8(e),i=Q8(t);if(n.length===0&&i.length===0)return;if(!n.length||!i.length||DTe(e,t))return{type:"complete",oldValue:e,newValue:t};const s=i.filter(p=>!n.includes(p)),o=n.filter(p=>!i.includes(p)),a=n.filter(p=>i.includes(p)&&Ow(e,p)!==Ow(t,p)).concat(s,o).sort(),l=Bg(e);if(l&&LTe.has(l)&&a.length)return{type:"complete",oldValue:e,newValue:t};let c;const d=OC(e)&&OC(t);for(const p of a){const y=Ow(e,p),m=Ow(t,p);let g;if((d||typeof y!="function"&&typeof m!="function")&&y!==m&&(y!=null||m!=null)){if(r&&r[p]&&typeof r[p]=="function")g=r[p]?.(y,m);else if(y instanceof Date&&m instanceof Date){if(y.getTime()===m.getTime())continue;g={type:"complete",oldValue:y,newValue:m}}else g=typeof y=="object"&&typeof m=="object"&&Bg(y)===Bg(m)?HX(y,m):{type:"complete",oldValue:y,newValue:m};g!=null&&(c!=null?c.diff[p]=g:c={type:"partial",diff:{[p]:g}})}}return c}function Krt(e,t){return FTe(e,t)}function FTe(e,t){if(e==null)return!1;const r=t.split(".");let n=e;for(const i of r){if(n.type==="complete")return!0;if(n.type!=="partial")return!1;{const s=n.diff[i];if(!s)return!1;n=s}}return!0}function Zrt(e,t){if(!e)return!1;if(e.type==="partial"){const r=Object.keys(e.diff);return r.length===1&&r[0]===t}return!1}function UTe(e,t){if(typeof e!="function"&&typeof t!="function"&&(e!=null||t!=null))return e==null||t==null||typeof e=="object"&&typeof t=="object"&&Bg(e)!==Bg(t)?{type:"complete",oldValue:e,newValue:t}:HX(e,t)}var EC;const zTe=Ar()({ascendingValues:"ascending-values",descendingValues:"descending-values"});let tg=EC=class extends Se.ClonableMixin(z){static from(e){return M$(EC,e)}constructor(e){super(e),this.title=null,this.order=null}};u([f({type:String,json:{write:!0}})],tg.prototype,"title",void 0),u([ye(zTe)],tg.prototype,"order",void 0),tg=EC=u([A("esri.renderers.support.RendererLegendOptions")],tg);const yL=tg;let wo=class extends Se.ClonableMixin(z){constructor(t){super(t),this.value=null,this.value2=null,this.value3=null}};u([f(yS)],wo.prototype,"value",void 0),u([f(yS)],wo.prototype,"value2",void 0),u([f(yS)],wo.prototype,"value3",void 0),wo=u([A("esri.renderers.support.UniqueValue")],wo);let ul=class extends Se.ClonableMixin(z){constructor(t){super(t),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(t){if(t==null)return null;const r=typeof(t=Array.isArray(t)?t:[t])[0];return r==="string"||r==="number"?t.map(n=>new wo({value:n})):r==="object"?t[0]instanceof wo?t:t.map(n=>new wo(n)):null}};u([f({type:String,json:{write:!0}})],ul.prototype,"description",void 0),u([f({type:String,json:{write:!0}})],ul.prototype,"label",void 0),u([f(pT)],ul.prototype,"symbol",void 0),u([f({type:[wo],json:{type:[[String]],read:{reader:e=>e?e.map(t=>new wo({value:t[0],value2:t[1],value3:t[2]})):null},write:{writer:(e,t)=>{const r=[];for(const n of e){const i=[n.value,n.value2,n.value3].filter(t1).map(s=>s.toString());r.push(i)}t.values=r}}}})],ul.prototype,"values",void 0),u([ht("values")],ul.prototype,"castValues",null),ul=u([A("esri.renderers.support.UniqueValueClass")],ul);let Hd=class extends Se.ClonableMixin(z){constructor(t){super(t),this.heading=null,this.classes=null}};u([f({type:String,json:{write:!0}})],Hd.prototype,"heading",void 0),u([f({type:[ul],json:{write:{isRequired:!0}}})],Hd.prototype,"classes",void 0),Hd=u([A("esri.renderers.support.UniqueValueGroup")],Hd);var jC;let bo=jC=class extends z{constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new jC({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol?.toJSON());return`${this.value}.${e}`}};u([f({type:String,json:{write:!0}})],bo.prototype,"description",void 0),u([f({type:String,json:{write:!0}})],bo.prototype,"label",void 0),u([f(fL)],bo.prototype,"symbol",void 0),u([f(yS)],bo.prototype,"value",void 0),bo=jC=u([A("esri.renderers.support.UniqueValueInfo")],bo);const X8=new Map;async function BTe(e,t){try{return{data:(await WTe(e,t)).data,baseUrl:ype(e),styleUrl:e}}catch(r){return ca(r),null}}function VTe(e,t,r){const n=t.portal!=null?t.portal:te.getDefault();let i;const s=`${n.url} - ${n.user?.username} - ${e}`,o=X8.get(s);if(o)return o;const a=qTe(e,n,r).then(l=>(i=l,l.fetchData())).then(l=>({data:l,baseUrl:i.itemUrl??"",styleName:e}));return X8.set(s,a),a}function qTe(e,t,r){return t.load(r).then(()=>{const n=new er({disableExtraQuery:!0,query:`owner:${e9} AND type:${t9} AND typekeywords:"${e}"`});return t.queryItems(n,r)}).then(({results:n})=>{let i=null;const s=e.toLowerCase();if(n&&Array.isArray(n)){for(const o of n)if(o.typeKeywords?.some(l=>l.toLowerCase()===s)&&o.type===t9&&o.owner===e9){i=o;break}}if(!i)throw new K("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return i.load(r)})}function GTe(e,t,r){return e?.styleUrl!=null?BTe(e.styleUrl,r):e?.styleName!=null?VTe(e.styleName,t,r):Promise.reject(new K("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function ent(e){return e===null||e.type==="CIMSymbolReference"?e:{type:"CIMSymbolReference",symbol:e}}function tnt(e,t){for(const r of t)switch(r){case"cim":if(e.cimRef)return{format:r,url:encodeURI(e.cimRef)};break;case"web-gltf-basisu":{const n=VE(e,"gltf_basisu");if(n)return{format:r,url:n};break}case"web-gltf":{const n=VE(e,"gltf");if(n)return{format:r,url:n};break}case"web":{const n=VE(e,"gltf");if(n)return{format:"web-gltf",url:n};if(e.webRef)return{format:r,url:encodeURI(e.webRef)};break}}}function VE(e,t){if(!q("enable-feature:force-wosr"))return e.formatInfos?.find(r=>r.type===t)?.href}function WTe(e,t){const r={responseType:"json",query:{f:"json"},...t};return nt(jo(e),r)}const e9="esri_en",t9="Style",rnt="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json";var rg;const r9="uvInfos-watcher",n9="uvGroups-watcher",HTe=",",JTe=br(bo);function KTe(e){const{field1:t,field2:r,field3:n,fieldDelimiter:i,uniqueValueInfos:s,valueExpression:o}=e,a=!(!t||!r);return[{classes:(s??[]).map(l=>{const{symbol:c,label:d,value:p,description:y}=l,[m,g,b]=a?p?.toString()?.split(i||"")||[]:[p],w=[];return(t||o)&&w.push(m),r&&w.push(g),n&&w.push(b),{symbol:c,label:d,values:[w],description:y}})}]}function lf(e){return e!=null&&e!==""&&(typeof e!="string"||e.trim()!==""&&e.toLowerCase()!=="<null>")||(e=null),e+""}let St=rg=class extends ym(Hi){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type="unique-value",this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(t,r){if(!t&&!r)return;if(!t||!r)return{type:"complete",oldValue:t,newValue:r};let n=!1;const i={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let s=0;s<r.length;s++){const o=t.find(a=>a.value===r[s].value);o?UTe(o,r[s])?(i.changed.push({type:"complete",oldValue:o,newValue:r[s]}),n=!0):i.unchanged.push({oldValue:o,newValue:r[s]}):(i.added.push(r[s]),n=!0)}for(let s=0;s<t.length;s++)r.find(o=>o.value===t[s].value)||(i.removed.push(t[s]),n=!0);return n?i:void 0}},this._set("uniqueValueInfos",[]),this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(e){this._set("field",e),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(e){return e==null||typeof e=="function"?e:s1(e)}writeField(e,t,r,n){typeof e=="string"?t[r]=e:n?.messages?n.messages.push(new K("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):ce.getLogger(this).error(".field: cannot write field to JSON since it's not a string value")}set field2(e){this._set("field2",e),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(e){this._set("field3",e),this._updateUniqueValues()}set valueExpression(e){this._set("valueExpression",e),this._updateUniqueValues()}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}set fieldDelimiter(e){this._set("fieldDelimiter",e),this._updateUniqueValues()}readPortal(e,t,r){return r.portal||te.getDefault()}readStyleOrigin(e,t,r){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){const n=Dp(t.styleUrl,r);return Object.freeze({styleUrl:n})}}writeStyleOrigin(e,t,r,n){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=mp(e.styleUrl,n))}set uniqueValueGroups(e){this.styleOrigin?ce.getLogger(this).error("#uniqueValueGroups=","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",e),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(e){this.styleOrigin?ce.getLogger(this).error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(e,t){if(this.styleOrigin)return void ce.getLogger(this).error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let r;r=typeof e=="object"?JTe(e):new bo({value:e,symbol:aX(t)}),this.uniqueValueInfos?.push(r),this._valueInfoMap[lf(r.value)]=r,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(e){if(this.styleOrigin)return void ce.getLogger(this).error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");const t=this.uniqueValueInfos;if(t)for(let r=0;r<t.length;r++){const n=t[r];if(String(n.value)===String(e)){delete this._valueInfoMap[lf(e)],t.splice(r,1);break}}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}async getUniqueValueInfo(e,t){let r=t;return this.valueExpression&&t?.arcade==null&&(r={...r,arcade:await Op()}),this._getUniqueValueInfo(e,r)}getSymbol(e,t){return this.valueExpression&&t?.arcade==null?void ce.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used"):this._getUniqueValueInfo(e,t)?.symbol||this.defaultSymbol}async getSymbolAsync(e,t){let r=t;if(this.valueExpression&&r?.arcade==null){const i=await Op(),{arcadeUtils:s}=i;s.hasGeometryOperations(this.valueExpression)&&await s.enableGeometryOperations(),r={...r,arcade:i}}return this._getUniqueValueInfo(e,r)?.symbol||this.defaultSymbol}get symbols(){const e=[];for(const t of this.uniqueValueInfos??[])t.symbol&&e.push(t.symbol);return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables?.reduce((e,t)=>e+t.getAttributeHash(),"")??""}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),r=this.uniqueValueInfos?.reduce((n,i)=>n+i.getMeshHash(),"");return`${e}.${t}.${r}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const e=new rg({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:D(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:D(this.visualVariables),legendOptions:D(this.legendOptions),authoringInfo:D(this.authoringInfo),backgroundFillSymbol:D(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);const t=D(this.uniqueValueInfos),r=D(this.uniqueValueGroups);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze(D(this.styleOrigin))),Object.freeze(t),Object.freeze(r)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e._set("uniqueValueGroups",r),e._isInfosSource=this._isInfosSource,e._watchUniqueValueInfosAndGroups(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){const r=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(r)}async collectSymbolFields(e,t){const r=[...this.symbols.map(n=>n.collectRequiredFields(e,t)),Fo(e,t,this.valueExpression)];Yi(e,t,this.field),Yi(e,t,this.field2),Yi(e,t,this.field3),await Promise.all(r)}populateFromStyle(){return GTe(this.styleOrigin,{portal:this.portal}).then(e=>{const t=[];return this._valueInfoMap={},e?.data&&Array.isArray(e.data.items)&&e.data.items.forEach(r=>{const n=new Qr({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:r.name});this.defaultSymbol||r.name!==e.data.defaultItem||(this.defaultSymbol=n,this._isDefaultSymbolDerived=!0);const i=new bo({value:r.name,symbol:n});t.push(i),this._valueInfoMap[lf(r.name)]=i}),this._set("uniqueValueInfos",Object.freeze(t)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&this.uniqueValueInfos?.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",HTe)}_updateUniqueValues(){this._isInfosSource!=null&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const{uniqueValueInfos:e}=this;if(e)for(const t of e)this._valueInfoMap[lf(t.value)]=t}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles(r9);const{uniqueValueInfos:e}=this;if(e){const t=[];for(const r of e)t.push(Rh(()=>({symbol:r.symbol,value:r.value,label:r.label,description:r.description}),(n,i)=>{n!==i&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(t,r9)}}_watchUniqueValueGroups(){this.removeHandles(n9);const{uniqueValueGroups:e}=this;if(e){const t=[];for(const r of e){t.push(Rh(()=>({classes:r.classes}),(n,i)=>{n!==i&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const n of r.classes??[])t.push(Rh(()=>({symbol:n.symbol,values:n.values,label:n.label,description:n.description}),(i,s)=>{i!==s&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(t,n9)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set("uniqueValueInfos",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const e=[],{field:t,field2:r,field3:n,fieldDelimiter:i,uniqueValueGroups:s,valueExpression:o}=this;if(!t&&!o)return this._set("uniqueValueInfos",e),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const a=!(!t||!r);for(const l of s)for(const c of l.classes??[]){const{symbol:d,label:p,values:y,description:m}=c;for(const g of y??[]){const{value:b,value2:w,value3:S}=g,_=[b];r&&_.push(w),n&&_.push(S);const x=a?_.join(i||""):_[0]??void 0;e.push(new bo({symbol:d,label:p,value:x,description:m}))}}this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(e=!1){if(!this.uniqueValueInfos)return this._set("uniqueValueGroups",null),void this._watchUniqueValueGroups();const{field:t,field2:r,valueExpression:n,fieldDelimiter:i,uniqueValueInfos:s}=this;if(!t&&!n||!s.length)return this._set("uniqueValueGroups",[]),void this._watchUniqueValueGroups();const o=!(!t||!r),a=s.map(c=>{const{symbol:d,label:p,value:y,description:m}=c,[g,b,w]=o?y?.toString()?.split(i||"")||[]:[y];return new ul({symbol:d,label:p,description:m,values:[new wo({value:g,value2:b,value3:w})]})}),l=[new Hd({classes:a})];e&&Object.freeze(l),this._set("uniqueValueGroups",l),this._watchUniqueValueGroups()}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){const{viewingMode:r,scale:n,spatialReference:i,arcade:s,timeZone:o}=t??{};let a=this._cache.compiledFunc;const l=s.arcadeUtils;if(!a){const d=l.createSyntaxTree(this.valueExpression);a=l.createFunction(d),this._cache.compiledFunc=a}const c=l.executeFunction(a,l.createExecContext(e,l.getViewInfo({viewingMode:r,scale:n,spatialReference:i}),o));return this._valueInfoMap[lf(c)]}_getUnqiueValueInfoForFields(e){const t=this.field,r=e.attributes;let n;if(this.field2){const i=this.field2,s=this.field3,o=[];t&&o.push(r[t]),i&&o.push(r[i]),s&&o.push(r[s]),n=o.join(this.fieldDelimiter||"")}else t&&(n=r[t]);return this._valueInfoMap[lf(n)]}static fromPortalStyle(e,t){const r=new rg(t?.properties);r._set("styleOrigin",Object.freeze({styleName:e})),r._set("portal",t?.portal||te.getDefault());const n=r.populateFromStyle();return n.catch(i=>{ce.getLogger(this.prototype).error(`#fromPortalStyle('${e}'[, ...])`,"Failed to create unique value renderer from style name",i)}),n}static fromStyleUrl(e,t){const r=new rg(t?.properties);r._set("styleOrigin",Object.freeze({styleUrl:e}));const n=r.populateFromStyle();return n.catch(i=>{ce.getLogger(this.prototype).error(`#fromStyleUrl('${e}'[, ...])`,"Failed to create unique value renderer from style URL",i)}),n}};u([f({readOnly:!0})],St.prototype,"_cache",null),u([ye({uniqueValue:"unique-value"})],St.prototype,"type",void 0),u([f(hL)],St.prototype,"backgroundFillSymbol",void 0),u([f({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],St.prototype,"field",null),u([ht("field")],St.prototype,"castField",null),u([re("field")],St.prototype,"writeField",null),u([f({type:String,value:null,json:{write:!0}})],St.prototype,"field2",null),u([f({type:String,value:null,json:{write:!0}})],St.prototype,"field3",null),u([f({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],St.prototype,"orderByClassesEnabled",void 0),u([f({type:String,value:null,json:{write:!0}})],St.prototype,"valueExpression",null),u([f({type:String,json:{write:!0}})],St.prototype,"valueExpressionTitle",void 0),u([f({type:yL,json:{write:!0}})],St.prototype,"legendOptions",void 0),u([f({type:String,json:{write:!0}})],St.prototype,"defaultLabel",void 0),u([f(kM({...pT},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],St.prototype,"defaultSymbol",null),u([f({type:String,value:null,json:{write:!0}})],St.prototype,"fieldDelimiter",null),u([f({type:te,readOnly:!0})],St.prototype,"portal",void 0),u([X("portal",["styleName"])],St.prototype,"readPortal",null),u([f({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],St.prototype,"styleOrigin",void 0),u([X("styleOrigin",["styleName","styleUrl"])],St.prototype,"readStyleOrigin",null),u([re("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],St.prototype,"writeStyleOrigin",null),u([f({type:[Hd],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(e,t,r)=>(t.uniqueValueGroups||KTe(t)).map(n=>Hd.fromJSON(n,r))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],St.prototype,"uniqueValueGroups",null),u([f({type:[bo],json:{read:!1,write:{isRequired:!0,overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0,isRequired:!0}}}}})],St.prototype,"uniqueValueInfos",null),St=rg=u([A("esri.renderers.UniqueValueRenderer")],St);var AC,Db;let Nr=(Db=class extends z{constructor(t){super(t),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.orderByFields=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(t,r){r.resultOffset=this.start,r.resultRecordCount=this.num||10}clone(){return new AC(D({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}},AC=Db,Db);u([f({type:[String],json:{write:!0}})],Nr.prototype,"attachmentTypes",void 0),u([f({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],Nr.prototype,"attachmentsWhere",void 0),u([f({type:Boolean,json:{write:!0}})],Nr.prototype,"cacheHint",void 0),u([f({type:[String],json:{write:!0}})],Nr.prototype,"keywords",void 0),u([f({type:[String],json:{write:!0}})],Nr.prototype,"globalIds",void 0),u([f({json:{write:!0}})],Nr.prototype,"name",void 0),u([f({type:Number,json:{read:{source:"resultRecordCount"}}})],Nr.prototype,"num",void 0),u([f({type:[Number],json:{write:!0}})],Nr.prototype,"objectIds",void 0),u([f({type:[String],json:{write:!0}})],Nr.prototype,"orderByFields",void 0),u([f({type:Boolean,json:{default:!1,write:!0}})],Nr.prototype,"returnMetadata",void 0),u([f({type:[Number],json:{write:!0}})],Nr.prototype,"size",void 0),u([f({type:Number,json:{read:{source:"resultOffset"}}})],Nr.prototype,"start",void 0),u([re("start"),re("num")],Nr.prototype,"writeStart",null),u([f({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Nr.prototype,"where",void 0),Nr=AC=u([A("esri.rest.support.AttachmentQuery")],Nr),Nr.from=br(Nr);const JX=Ar()({naturalLog:"natural-log",squareRoot:"square-root",percentOfTotal:"percent-of-total",log:"log",field:"field"}),i9="percent-of-total",s9="field",nnt=e=>{let t=class extends e{constructor(){super(...arguments),this.normalizationField=null,this.normalizationMaxValue=null,this.normalizationMinValue=null,this.normalizationTotal=null}get normalizationType(){let r=this._get("normalizationType");const n=!!this.normalizationField,i=this.normalizationTotal!=null;return n||i?(r=n&&s9||i&&i9||null,n&&i&&ce.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):r!==s9&&r!==i9||(r=null),r}set normalizationType(r){this._set("normalizationType",r)}};return u([f({type:String,json:{name:"parameters.normalizationField",write:!0}})],t.prototype,"normalizationField",void 0),u([f({type:Number,json:{name:"parameters.normalizationMaxValue",write:!0}})],t.prototype,"normalizationMaxValue",void 0),u([f({type:Number,json:{name:"parameters.normalizationMinValue",write:!0}})],t.prototype,"normalizationMinValue",void 0),u([f({type:Number,json:{name:"parameters.normalizationTotal",write:!0}})],t.prototype,"normalizationTotal",void 0),u([ye(JX,{name:"parameters.normalizationType"})],t.prototype,"normalizationType",null),t=u([A("esri.rest.support.NormalizationBinParametersMixin")],t),t};var IC,Fb;let jt=(Fb=class extends z{constructor(t){super(t),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(t,r){r.historicMoment=t&&t.getTime()}writeStart(t,r){r.resultOffset=this.start,r.resultRecordCount=this.num||10,this.start>0&&this.where==null&&(r.definitionExpression="1=1")}clone(){return new IC(D({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}},IC=Fb,Fb);u([f({type:Boolean,json:{write:!0}})],jt.prototype,"cacheHint",void 0),u([f({type:po,json:{write:!0}})],jt.prototype,"dynamicDataSource",void 0),u([f({type:String,json:{write:!0}})],jt.prototype,"gdbVersion",void 0),u([f({type:Number,json:{write:!0}})],jt.prototype,"geometryPrecision",void 0),u([f({type:Date})],jt.prototype,"historicMoment",void 0),u([re("historicMoment")],jt.prototype,"_writeHistoricMoment",null),u([f({type:Number,json:{write:!0}})],jt.prototype,"maxAllowableOffset",void 0),u([f({json:{write:!0}})],jt.prototype,"objectIds",void 0),u([f({type:[String],json:{write:!0}})],jt.prototype,"orderByFields",void 0),u([f({type:[String],json:{write:!0}})],jt.prototype,"outFields",void 0),u([f({type:be,json:{read:{source:"outSR"},write:{target:"outSR"}}})],jt.prototype,"outSpatialReference",void 0),u([f({json:{write:!0}})],jt.prototype,"relationshipId",void 0),u([f({type:Number,json:{read:{source:"resultOffset"}}})],jt.prototype,"start",void 0),u([re("start"),re("num")],jt.prototype,"writeStart",null),u([f({type:Number,json:{read:{source:"resultRecordCount"}}})],jt.prototype,"num",void 0),u([f({json:{write:!0}})],jt.prototype,"returnGeometry",void 0),u([f({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],jt.prototype,"returnM",void 0),u([f({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],jt.prototype,"returnZ",void 0),u([f({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],jt.prototype,"where",void 0),jt=IC=u([A("esri.rest.support.RelationshipQuery")],jt),jt.from=br(jt);const int=Object.freeze(Object.defineProperty({__proto__:null,get default(){return jt}},Symbol.toStringTag,{value:"Module"})),PC=new Pe({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});async function ZTe(e,t,r,n){const i=await Rc(e);if(await mL(e,t,n),!i.addAttachment)throw new K(n,"Layer source does not support addAttachment capability");return i.addAttachment(t,r)}function mL(e,t,r){const{attributes:n}=t,{objectIdField:i}=e;return e.capabilities?.data?.supportsAttachment?t?n?i&&n[i]?Promise.resolve():Promise.reject(new K(r,`feature is missing the identifying attribute ${i}`)):Promise.reject(new K(r,"'attributes' are required on a feature to query attachments")):Promise.reject(new K(r,"A feature is required to add/delete/update attachments")):Promise.reject(new K(r,"this layer doesn't support attachments"))}async function YTe(e,t,r,n,i){const s=await Rc(e);if(await mL(e,t,i),!s.updateAttachment)throw new K(i,"Layer source does not support updateAttachment capability");return s.updateAttachment(t,r,n)}async function QTe(e,t,r){const{applyEdits:n}=await ae(()=>import("./editingSupport-2c8a4f8f.js"),["assets/editingSupport-2c8a4f8f.js","assets/normalizeUtils-0f48385e.js","assets/normalizeUtilsCommon-676995ec.js"]),i=await e.load();let s=r;return i.type==="feature"&&i.infoFor3D&&t.deleteFeatures!=null&&i.globalIdField!=null&&(s={...s,globalIdToObjectId:await bOe(i,t.deleteFeatures,i.globalIdField)}),n(i,i.source,t,r)}async function XTe(e,t,r){const{uploadAssets:n}=await ae(()=>import("./editingSupport-2c8a4f8f.js"),["assets/editingSupport-2c8a4f8f.js","assets/normalizeUtils-0f48385e.js","assets/normalizeUtilsCommon-676995ec.js"]),i=await e.load();return n(i,i.source,t,r)}async function eOe(e,t,r,n){const i=await Rc(e);if(await mL(e,t,n),!i.deleteAttachments)throw new K(n,"Layer source does not support deleteAttachments capability");return i.deleteAttachments(t,r)}async function tOe(e,t,r){const n=(await e.load({signal:t?.signal})).source;if(!n.fetchRecomputedExtents)throw new K(r,"Layer source does not support fetchUpdates capability");return n.fetchRecomputedExtents(t)}async function rOe(e,t,r,n){t=Nr.from(t),await e.load();const i=e.source,s=e.capabilities;if(!s?.data?.supportsAttachment)throw new K(n,"this layer doesn't support attachments");const{attachmentTypes:o,objectIds:a,globalIds:l,num:c,size:d,start:p,where:y}=t;if(!s?.operations?.supportsQueryAttachments&&(o?.length>0||l?.length>0||d?.length>0||c||p||y))throw new K(n,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",t);if(!(a?.length||l?.length||y))throw new K(n,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",t);if(!i.queryAttachments)throw new K(n,"Layer source does not support queryAttachments capability",t);return!s?.attachment?.supportsOrderByFields&&t.orderByFields?.length&&((t=t.clone()).orderByFields=null),i.queryAttachments(t)}async function nOe(e,t,r,n){const i=await Rc(e);if(!i.queryObjectIds)throw new K(n,"Layer source does not support queryObjectIds capability");return i.queryObjectIds(xe.from(t)??e.createQuery(),r)}async function iOe(e,t,r,n){const i=await Rc(e);if(!i.queryFeatureCount)throw new K(n,"Layer source does not support queryFeatureCount capability");return i.queryFeatureCount(xe.from(t)??e.createQuery(),r)}async function sOe(e,t,r,n){const i=await Rc(e);if(!i.queryExtent)throw new K(n,"Layer source does not support queryExtent capability");return i.queryExtent(xe.from(t)??e.createQuery(),r)}async function oOe(e,t,r,n){const i=await Rc(e);if(!i.queryRelatedFeatures)throw new K(n,"Layer source does not support queryRelatedFeatures capability");return i.queryRelatedFeatures(jt.from(t),r)}async function aOe(e,t,r,n){const i=await Rc(e);if(!i.queryRelatedFeaturesCount)throw new K(n,"Layer source does not support queryRelatedFeaturesCount capability");return i.queryRelatedFeaturesCount(jt.from(t),r)}async function lOe(e){const t=e.source;if(t?.refresh)try{const{dataChanged:r,updates:n}=await t.refresh();if(n!=null&&(e.sourceJSON={...e.sourceJSON,...n},e.read(n,{origin:"service",url:e.parsedUrl})),r)return!0}catch{}if(e.definitionExpression)try{return(await Txe(e.definitionExpression,e.fieldsIndex)).hasDateFunctions}catch{}return!1}function uOe(e){const t=new xe;t.historicMoment=e.historicMoment,t.gdbVersion=e.gdbVersion,t.returnGeometry=!0,t.outFields=["*"],t.multipatchOption=e.geometryType==="multipatch"?"xyFootprint":null;const r=e.capabilities?.query;r&&(t.compactGeometryEnabled=r.supportsCompactGeometry,t.defaultSpatialReferenceEnabled=r.supportsDefaultSpatialReference);const n=e.capabilities?.data;n?.supportsZ&&e.returnZ!=null&&(t.returnZ=e.returnZ),n?.supportsM&&e.returnM!=null&&(t.returnM=e.returnM);const{timeOffset:i,timeExtent:s}=e;return t.timeExtent=i!=null&&s!=null?s.offset(-i.value,i.unit):s||null,t}function KX(e){const{globalIdField:t,fields:r}=e;if(t)return t;if(r){for(const n of r)if(n.type==="esriFieldTypeGlobalID")return n.name}}function ZX(e){const{objectIdField:t,fields:r}=e;if(t)return t;if(r){for(const n of r)if(n.type==="esriFieldTypeOID")return n.name}}function cOe(e){return e.currentVersion?e.currentVersion:e.hasOwnProperty("capabilities")||e.hasOwnProperty("drawingInfo")||e.hasOwnProperty("hasAttachments")||e.hasOwnProperty("htmlPopupType")||e.hasOwnProperty("relationships")||e.hasOwnProperty("timeInfo")||e.hasOwnProperty("typeIdField")||e.hasOwnProperty("types")?10:9.3}function dOe(e,t,r,n){const i=r?.feature,s=!!e.subtypes?.length;if(s&&!r?.excludeImpliedDomains){const l=fOe(e,t);if(l)return l}const o=s&&pOe(e,i);if(o){const l=o?.domains?.[t];return l?.type==="inherited"?n:l}const a=QX(e.types,e.typeIdField,i);if(a){const l=a.domains&&a.domains[t];if(l&&l?.type!=="inherited")return l}if(n)return n;if(!r?.excludeImpliedDomains){const l=hOe(e,t);if(l)return l}return null}function pOe(e,t){const{subtypes:r,subtypeField:n}=e;if(!t?.attributes||!r?.length||!n)return null;const i=t.attributes[n];return i==null?null:r.find(s=>s.code===i)}function fOe(e,t){const{fieldsIndex:r,subtypeField:n}=e,{name:i,type:s}=r.get(t)??{};if(!i)return null;if((n&&r.get(n)?.name)===i&&e.subtypes?.length){const o=e.subtypes.map(a=>new Gd({code:YX(a.code,s),name:a.name}));if(o?.length)return new Qu({codedValues:o})}return null}function hOe(e,t){const{fieldsIndex:r}=e,{name:n,type:i}=r.get(t)??{};if(!n)return null;if(("typeIdField"in e?r.get(e.typeIdField)?.name:null)===n&&"types"in e&&e.types?.length){const s=e.types.map(o=>new Gd({code:YX(o.id,i),name:o.name}));return new Qu({codedValues:s})}return null}function YX(e,t){return t?IQ({type:t})&&typeof e=="number"?`${e}`:fSe({type:t})&&typeof e=="string"?Number.parseInt(e,10):e:e}async function Rc(e){return(await e.load()).source}async function yOe(e,t){if(!Ke||Ke.findCredential(e))return;let r;try{const n=await LZ(e,t);n&&(r=await Ke.checkSignInStatus(`${n}/sharing`))}catch{}if(r)try{const n=t!=null?t.signal:null;await Ke.getCredential(e,{signal:n})}catch{}}async function mOe(e,t,r){const n=e.parsedUrl?.path;n&&e.authenticationTriggerEvent===t&&await yOe(n,r)}function o9(e){return!!e?.toLowerCase().includes("current_user")}function gOe(e){return!mS(e)&&(e.userHasUpdateItemPrivileges||e.editingEnabled)}const qE=im({types:oX});function gL(e,t){if(e.defaultSymbol)return e.types?.length?new St({defaultSymbol:qE(e.defaultSymbol,e,t),field:e.typeIdField,uniqueValueInfos:e.types.map(r=>({id:r.id,symbol:qE(r.symbol,r,t)}))}):new Zn({symbol:qE(e.defaultSymbol,e,t)})}function vOe(e){let t=e.sourceJSON?.cacheMaxAge;if(!t)return!1;const r=e.editingInfo?.lastEditDate?.getTime();return r==null||(t*=1e3,Date.now()-r<t)}async function bOe(e,t,r){if(t==null)return null;const n=[],{objectIdField:i}=e;if(t.forEach(c=>{let d=null;if("attributes"in c){const{attributes:p}=c;d={globalId:p[r],objectId:p[i]!=null&&p[i]!==-1?p[i]:null}}else d={globalId:c.globalId,objectId:c.objectId!=null&&c.objectId!==-1?c.objectId:null};d.globalId!=null&&(d.objectId!=null&&d.objectId!==-1||n.push(d.globalId))}),n.length===0)return null;const s=e.createQuery();s.where=n.map(c=>`${r}='${c}'`).join(" OR "),s.returnGeometry=!1,s.outFields=[i,r],s.cacheHint=!1;const o=await iye(RX(e,s));if(!o.ok)return null;const a=new Map,l=o.value.features;for(const c of l){const d=c.attributes[r],p=c.attributes[i];d!=null&&p!=null&&p!==-1&&a.set(Sve(d),p)}return a}function QX(e,t,r){if(!t||!r||!e)return null;const n=r.getAttribute(t);return n==null?null:e.find(i=>{const{id:s}=i;return s!=null&&s.toString()===n.toString()})??null}function mS(e){return e.sourceJSON?.isMultiServicesView||wOe(e)}function wOe(e){return!!e.sourceJSON?.capabilities?.toLowerCase().split(",").map(t=>t.trim()).includes("map")}function xOe(e,t,r){const n=t?.queryAttributeBins;if(!t?.operations?.supportsQueryBins||!n)throw new K(r,"Layer source does not support binning");switch(e.binParameters.type){case"auto-interval":if(!n.supportsAutoInterval)throw new K(r,"Layer source does not support auto-interval binning");if(e.binParameters.normalizationType&&(!n.supportsNormalization||!a9(e.binParameters.normalizationType,n.supportedNormalizationTypes)))throw new K(r,"Layer source does not support normalization binning");break;case"date":if(!n.supportsDate)throw new K(r,"Layer source does not support date binning");if(e.binParameters.snapToData&&!n.supportsSnapToData)throw new K(r,"Layer source does not support snapToData binning");if(e.binParameters.returnFullIntervalBin&&!n.supportsReturnFullIntervalBin)throw new K(r,"Layer source does not support returnFullIntervalBin binning");break;case"fixed-boundaries":if(!n.supportsFixedBoundaries)throw new K(r,"Layer source does not support fixed-boundaries binning");break;case"fixed-interval":if(!n.supportsFixedInterval)throw new K(r,"Layer source does not support fixed-interval binning");if(e.binParameters.normalizationType&&(!n.supportsNormalization||!a9(e.binParameters.normalizationType,n.supportedNormalizationTypes)))throw new K(r,"Layer source does not support normalization binning")}if(e.binParameters.stackBy&&!n.supportsStackBy)throw new K(r,"Layer source does not support stackBy binning");if(e.binParameters.splitBy&&!n.supportsSplitBy)throw new K(r,"Layer source does not support splitBy binning");if(e.binParameters.firstDayOfWeek&&!n.supportsFirstDayOfWeek)throw new K(r,"Layer source does not support firstDayOfWeek binning");const i=n?.supportedStatistics;if(e.outStatistics&&i){const s=new Map([["count","count"],["sum","sum"],["min","min"],["max","max"],["avg","avg"],["stddev","stddev"],["var","var"],["percentile-continuous","percentileContinuous"],["percentile-discrete","percentileDiscrete"],["centroid-aggregate","centroid"],["convex-hull-aggregate","convexHull"],["envelope-aggregate","envelope"]]);for(const{statisticType:o}of e.outStatistics){const a=s.get(o);if(a&&!i[a])throw new K(r,`Layer source does not support ${o} statistic type`)}}}function a9(e,t){return e!=null&&!!t?.[JX.toJSON(e)]}let zf=class extends Se.ClonableMixin(z){constructor(t){super(t),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};u([f({type:String,json:{read:{source:"shapeAreaFieldName"}}})],zf.prototype,"shapeAreaField",void 0),u([f({type:String,json:{read:{source:"shapeLengthFieldName"}}})],zf.prototype,"shapeLengthField",void 0),u([f({type:String,json:{read:e=>Dye.read(e)||Fye.read(e)}})],zf.prototype,"units",void 0),zf=u([A("esri.layers.support.GeometryFieldsInfo")],zf);var kC;let Bf=kC=class extends z{constructor(e){super(e),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new Te}clone(){return new kC({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};u([f({type:String,json:{write:{isRequired:!0}}})],Bf.prototype,"floorField",void 0),u([f({json:{read:!1,write:!1}})],Bf.prototype,"viewAllMode",void 0),u([f({json:{read:!1,write:!1}})],Bf.prototype,"viewAllLevelIds",void 0),Bf=kC=u([A("esri.layers.support.LayerFloorInfo")],Bf);const l9=new Pe({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),u9=new Pe({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let Mi=class extends Se.ClonableMixin(z){constructor(t){super(t),this.cardinality=null,this.catalogId=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};u([f({json:{read:l9.read,write:l9.write}})],Mi.prototype,"cardinality",void 0),u([f({json:{name:"catalogID"}})],Mi.prototype,"catalogId",void 0),u([f({json:{read:!0,write:!0}})],Mi.prototype,"composite",void 0),u([f({json:{read:!0,write:!0}})],Mi.prototype,"id",void 0),u([f({json:{read:!0,write:!0}})],Mi.prototype,"keyField",void 0),u([f({json:{read:!0,write:!0}})],Mi.prototype,"keyFieldInRelationshipTable",void 0),u([f({json:{read:!0,write:!0}})],Mi.prototype,"name",void 0),u([f({json:{read:!0,write:!0}})],Mi.prototype,"relatedTableId",void 0),u([f({json:{read:!0,write:!0}})],Mi.prototype,"relationshipTableId",void 0),u([f({json:{read:u9.read,write:u9.write}})],Mi.prototype,"role",void 0),Mi=u([A("esri.layers.support.Relationship")],Mi);const SOe=[["binary","application/octet-stream","bin",""]];function ant(e,t){return ree(t.name,e?.supportedFormats??[])!=null}function lnt(e,t){if(!e)return!1;const r=_Oe(t,e.supportedFormats??[]);return r!=null&&e.editFormats.includes(r)}function XX(e,t){return bL(EOe(e,t))}function eee(e,t){return bL(ree(e,t))}function unt(e,t){return nee(OOe(e,t))}function _Oe(e,t){return eee(e.name,t)??XX(e.type,t)}function fT(e,t,r){return XX(e,r)??eee(t,r)}function tee({supportedFormats:e}){return fT("model/gltf-binary","glb",e)}function cnt(e){const t=tee(e);return t!=null&&e.editFormats.includes(t)}function $Oe({supportedFormats:e}){return fT("model/gltf+json","gltf",e)}function TOe(e){if(!e)return null;const t=tee(e),r=$Oe(e);let n=null;for(const i of e.queryFormats){if(i===t)return i;i===r&&(n=i)}return n}function dnt({supportedFormats:e}){return fT("application/esri3do-SR_world","wld",e)}function pnt({supportedFormats:e}){return fT("application/esri3do-SR_prj","prj",e)}function vL(e){return[...SOe,...e]}function OOe(e,t){return vL(t).find(r=>bL(r)===e)}function EOe(e,t){const r=e.toLowerCase();return vL(t).find(n=>nee(n)===r)}function ree(e,t){const r=e.toLowerCase();return vL(t).find(n=>jOe(n).some(i=>r.endsWith(i)))}function bL(e){return e?.[0]}function nee(e){return e?.[1].toLowerCase()}function jOe(e){return e?.[2].split(",").map(t=>t.toLowerCase())??[]}function fnt(e){return e.tables?.find(t=>t.role==="assetMaps")}function de(e,t,r){return!!iee(e,t,r)}function Vf(e,t,r){return iee(e,t,r)}function iee(e,t,r){return e&&e.hasOwnProperty(t)?e[t]:r}const AOe={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function IOe(e){const t=e?.supportedSpatialAggregationStatistics?.map(r=>r.toLowerCase());return{envelope:!!t?.includes("envelopeaggregate"),centroid:!!t?.includes("centroidaggregate"),convexHull:!!t?.includes("convexhullaggregate")}}function v1(e,t){return!!e?.supportedOperationsWithCacheHint?.map(n=>n.toLowerCase())?.includes(t.toLowerCase())}function POe(e){const t=e?.supportedStatisticTypes?.map(r=>r.toLowerCase());return{count:!!t?.includes("count"),sum:!!t?.includes("sum"),min:!!t?.includes("min"),max:!!t?.includes("max"),avg:!!t?.includes("avg"),var:!!t?.includes("var"),stddev:!!t?.includes("stddev"),percentileContinuous:!!t?.includes("percentile_cont"),percentileDiscrete:!!t?.includes("percentile_disc"),envelope:!!t?.includes("envelopeaggregate"),centroid:!!t?.includes("centroidaggregate"),convexHull:!!t?.includes("convexhullaggregate")}}function kOe(e){const t=e?.supportedNormalizationTypes?.map(r=>r.toLowerCase());return{field:!!t?.includes("field"),log:!!t?.includes("log"),naturalLog:!!t?.includes("naturallog"),percentOfTotal:!!t?.includes("percentoftotal"),squareRoot:!!t?.includes("squareroot")}}function see(e,t){return{analytics:COe(e),attachment:NOe(e),data:MOe(e),metadata:ROe(e),operations:LOe(e.capabilities,e,t),query:DOe(e,t),queryAttributeBins:zOe(e),queryRelated:FOe(e),queryTopFeatures:UOe(e),editing:BOe(e)}}function COe(e){return{supportsCacheHint:v1(e.advancedQueryCapabilities,"queryAnalytics")}}function NOe(e){const t=e.attachmentProperties,r={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:v1(e.advancedQueryCapabilities,"queryAttachments"),supportsOrderByFields:de(e.advancedQueryCapabilities,"supportsQueryAttachmentOrderByFields",!1),supportsResize:de(e,"supportsAttachmentsResizing",!1)};return t&&Array.isArray(t)&&t.forEach(n=>{const i=AOe[n.name];i&&(r[i]=!!n.isEnabled)}),r}function MOe(e){return{isVersioned:de(e,"isDataVersioned",!1),isBranchVersioned:de(e,"isDataBranchVersioned",!1),supportsAttachment:de(e,"hasAttachments",!1),supportsM:de(e,"hasM",!1),supportsZ:de(e,"hasZ",!1)}}function ROe(e){return{supportsAdvancedFieldProperties:de(e,"supportsFieldDescriptionProperty",!1)}}function LOe(e,t,r){const n=e?.toLowerCase().split(",").map(y=>y.trim())??[],i=r?Ul(r):null,s=n.includes(i?.serverType==="MapServer"?"data":"query"),o=n.includes("editing")&&!t.datesInUnknownTimezone&&t.uniqueIdInfo?.OIDFieldContainsHashValue!==!0;let a=o&&n.includes("create"),l=o&&n.includes("delete"),c=o&&n.includes("update");const d=n.includes("changetracking"),p=t.advancedQueryCapabilities;return o&&!(a||l||c)&&(a=l=c=!0),{supportsCalculate:de(t,"supportsCalculate",!1),supportsTruncate:de(t,"supportsTruncate",!1),supportsValidateSql:de(t,"supportsValidateSql",!1),supportsAdd:a,supportsDelete:l,supportsEditing:o,supportsChangeTracking:d,supportsQuery:s,supportsQueryAnalytics:de(p,"supportsQueryAnalytic",!1),supportsQueryAttachments:de(p,"supportsQueryAttachments",!1),supportsQueryBins:de(p,"supportsQueryBins",!1)||!!t.queryBinsCapabilities,supportsQueryTopFeatures:de(p,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:de(t,"supportsAttachmentsResizing",!1),supportsSync:n.includes("sync"),supportsUpdate:c,supportsExceedsLimitStatistics:de(t,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:de(t,"supportsAsyncConvert3D",!1)}}function DOe(e,t){const r=e.advancedQueryCapabilities,n=e.ownershipBasedAccessControlForFeatures,i=e.archivingInfo,s=e.currentVersion,o=t?.includes("MapServer"),a=!o||s>=q("mapserver-pbf-version-support"),l=o_(t),c=new Set((e.supportedQueryFormats??"").split(",").map(d=>d.toLowerCase().trim()));return{maxRecordCount:Vf(e,"maxRecordCount",void 0),maxRecordCountFactor:Vf(e,"maxRecordCountFactor",void 0),maxUniqueIDCount:Vf(e,"maxUniqueIDCount",void 0),standardMaxRecordCount:Vf(e,"standardMaxRecordCount",void 0),supportedSpatialAggregationStatistics:IOe(r),supportsCacheHint:de(r,"supportsQueryWithCacheHint",!1)||v1(r,"query"),supportsCentroid:de(r,"supportsReturningGeometryCentroid",!1),supportsCompactGeometry:l,supportsCurrentUser:de(r,"supportsCurrentUserQueries",!1),supportsDefaultSpatialReference:de(r,"supportsDefaultSR",!1),supportsDisjointSpatialRelationship:de(r,"supportsDisjointSpatialRel",!1),supportsDistance:de(r,"supportsQueryWithDistance",!1),supportsDistinct:de(r,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:de(r,"supportsReturningQueryExtent",!1),supportsFormatPBF:a&&c.has("pbf"),supportsFullTextSearch:de(r,"supportsFullTextSearch",!1),supportsGeometryProperties:de(r,"supportsReturningGeometryProperties",!1),supportsHavingClause:de(r,"supportsHavingClause",!1),supportsHistoricMoment:de(i,"supportsQueryWithHistoricMoment",!1),supportsMaxRecordCountFactor:de(r,"supportsMaxRecordCountFactor",!1),supportsOrderBy:de(r,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:de(r,"supportsPagination",!1),supportsPaginationOnAggregatedQueries:de(r,"supportsPaginationOnAggregatedQueries",!1),supportsPercentileStatistics:de(r,"supportsPercentileStatistics",!1),supportsQuantization:de(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:de(e,"supportsQuantizationEditMode",!1),supportsQueryByAnonymous:de(n,"allowAnonymousToQuery",!0),supportsQueryByOthers:de(n,"allowOthersToQuery",!0),supportsQueryGeometry:de(e,"supportsReturningQueryGeometry",!1),supportsResultType:de(r,"supportsQueryWithResultType",!1),supportsReturnMesh:!!TOe(e.infoFor3D),supportsSpatialAggregationStatistics:de(r,"supportsSpatialAggregationStatistics",!1),supportsSqlExpression:de(r,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:de(e,"useStandardizedQueries",!1),supportsStatistics:de(r,"supportsStatistics",e.supportsStatistics),supportsTopFeaturesQuery:de(r,"supportsTopFeaturesQuery",!1),supportsTrueCurve:de(r,"supportsTrueCurve",!1),tileMaxRecordCount:Vf(e,"tileMaxRecordCount",void 0)}}function FOe(e){const t=e.advancedQueryCapabilities,r=de(t,"supportsAdvancedQueryRelated",!1);return{supportsPagination:de(t,"supportsQueryRelatedPagination",!1),supportsCount:r,supportsOrderBy:r,supportsCacheHint:v1(t,"queryRelated")}}function UOe(e){return{supportsCacheHint:v1(e.advancedQueryCapabilities,"queryTopFilter")}}function zOe(e){const t=e?e.queryBinsCapabilities:void 0;return{supportsDate:de(t,"supportsDateBin",!1),supportsFixedInterval:de(t,"supportsFixedIntervalBin",!1),supportsAutoInterval:de(t,"supportsAutoIntervalBin",!1),supportsFixedBoundaries:de(t,"supportsFixedBoundariesBin",!1),supportsStackBy:de(t,"supportsStackBy",!1),supportsSplitBy:de(t,"supportsSplitBy",!1),supportsSnapToData:de(t,"supportsSnapToData",!1),supportsReturnFullIntervalBin:de(t,"supportsReturnFullIntervalBin",!1),supportsFirstDayOfWeek:de(t,"supportsFirstDayOfWeek",!1),supportsNormalization:de(t,"supportsNormalization",!1),supportedStatistics:POe(t),supportedNormalizationTypes:kOe(t)}}function BOe(e){const t=e.ownershipBasedAccessControlForFeatures,r=e?e.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:de(e,"allowGeometryUpdates",!0),supportsGlobalId:de(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:de(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:de(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:de(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:de(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:de(t,"allowAnonymousToDelete",!0),supportsDeleteByOthers:de(t,"allowOthersToDelete",!0),supportsUpdateByAnonymous:de(t,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:de(t,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:de(r,"supportsAsyncApplyEdits",!1),zDefault:Vf(e,"zDefault",void 0)}}function hnt(e){return{operations:{supportsAppend:de(e,"supportsAppend",!1),supportsCoverageQuery:e?.playbackInfo?.klv["0601"]??!1,supportsExportClip:de(e,"supportsExportClip",!1),supportsExportFrameset:de(e,"supportsExportFrameset",!1),supportsMensuration:de(e,"supportsMensuration",!1),supportsPreviews:de(e,"supportsPreviews",!1),supportsUpdate:de(e,"supportsUpdate",!1)}}}let Za=class extends Se.ClonableMixin(z){constructor(t){super(t),this.code=null,this.defaultValues={},this.domains=null,this.name=null}readDomains(t){if(!t)return null;const r={};for(const n of Object.keys(t))r[n]=lT(t[n]);return r}writeDomains(t,r){if(!t)return;const n={};for(const i of Object.keys(t))t[i]&&(n[i]=t[i]?.toJSON());r.domains=n}};u([f({type:Number,json:{write:!0}})],Za.prototype,"code",void 0),u([f({type:Object,json:{write:!0}})],Za.prototype,"defaultValues",void 0),u([f({json:{write:!0}})],Za.prototype,"domains",void 0),u([X("domains")],Za.prototype,"readDomains",null),u([re("domains")],Za.prototype,"writeDomains",null),u([f({type:String,json:{write:!0}})],Za.prototype,"name",void 0),Za=u([A("esri.layers.support.Subtype")],Za);const VOe=e=>{let t=class extends e{constructor(){super(...arguments),this.copyright=null,this.capabilities=null,this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.definitionExpression=null,this.displayField=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.fieldsIndex=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.globalIdField=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.indexes=new(Te.ofType(oa)),this.isTable=!1,this.layerId=void 0,this.maxScale=0,this.minScale=0,this.objectIdField=null,this.preferredTimeZone=null,this.relationships=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.sourceJSON=null,this.spatialReference=be.WGS84,this.subtypeField=null,this.subtypes=null,this.trackIdField=null,this.uniqueIdFields=null,this.version=void 0,this._isUrlHostModified=!1,this._isUrlHostModificationEnabled=!1}getFieldDomain(){throw new Error("Not implemented")}getField(r){return this.fieldsIndex.get(r)}get authenticationTriggerEvent(){if(!this.url)return null;const{capabilities:r}=this;if(r){const{query:i,operations:s,editing:o}=r;if(!i.supportsQueryByOthers||!i.supportsQueryByAnonymous||s.supportsEditing&&!(o.supportsUpdateByOthers&&o.supportsUpdateByAnonymous&&o.supportsDeleteByOthers&&o.supportsDeleteByAnonymous))return"load"}if(o9(this.serviceDefinitionExpression)||o9(this.definitionExpression))return"load";if(this.userHasUpdateItemPrivileges){if(vOe(this))return"load";if(this.hasUpdateItemRestrictions)return r.operations.supportsQuery?"editing":"load"}if(this.userHasFullEditingPrivileges&&this.hasFullEditingRestrictions)return"editing";const n=this.editFieldsInfo;return(n?.creatorField||n?.editorField)&&r?.operations.supportsEditing?"editing":null}readCapabilitiesFromService(r,n){return see(n,this.url)}readEditingInfo(r,n){const{editingInfo:i}=n;return i?{lastEditDate:i.lastEditDate!=null?new Date(i.lastEditDate):null}:null}get effectiveCapabilities(){const r=this.capabilities;if(!r)return null;const n=D(r),{operations:i,editing:s}=n;return mS(this)?(this.userHasUpdateItemPrivileges&&(i.supportsQuery=!0),n):this.userHasUpdateItemPrivileges?(i.supportsAdd=i.supportsDelete=i.supportsEditing=i.supportsQuery=i.supportsUpdate=s.supportsDeleteByOthers=s.supportsGeometryUpdate=s.supportsUpdateByOthers=!0,n):(this.userHasFullEditingPrivileges&&i.supportsEditing&&(i.supportsAdd=i.supportsDelete=i.supportsUpdate=s.supportsGeometryUpdate=!0),n)}get effectiveEditingEnabled(){return!1}readGlobalIdFieldFromService(r,n){return KX(n)}get hasFullEditingRestrictions(){const r=this.capabilities;if(!r||mS(this))return!1;const{operations:n,editing:i}=r;return n.supportsEditing&&!(n.supportsAdd&&n.supportsDelete&&n.supportsUpdate&&i.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){const r=this.capabilities;if(!r)return!1;const{operations:n,editing:i}=r;return mS(this)?!n.supportsQuery:!(n.supportsAdd&&n.supportsDelete&&n.supportsEditing&&n.supportsQuery&&n.supportsUpdate&&i.supportsDeleteByOthers&&i.supportsGeometryUpdate&&i.supportsUpdateByOthers)}readIsTableFromService(r,n){return n.type==="Table"}readMaxScale(r,n){return n.effectiveMaxScale||r||0}readMinScale(r,n){return n.effectiveMinScale||r||0}readObjectIdFieldFromService(r,n){return ZX(n)}readServiceDefinitionExpression(r,n){return n.definitionQuery||n.definitionExpression}readUniqueIdFields(r,n){return n.uniqueIdInfo?.OIDFieldContainsHashValue?n.uniqueIdInfo.fields:null}set url(r){if(r==null)return void this._set("url",r);const n=Upe({layer:this,url:r,nonStandardUrlAllowed:!0,logger:ce.getLogger(this)});this._set("url",n.url),n.layerId!=null&&this._set("layerId",n.layerId)}writeUrl(r,n,i,s){zpe(this,r,null,n,s)}readVersion(r,n){return cOe(n)}get isUrlHostModified(){const{loaded:r,url:n,_isUrlHostModified:i}=this;if(i)return!0;if(!r||!n||this.originIdOf("url")<Re.USER)return!1;const s=this.sourceJSON?.preferredHost;if(!s||!ba(n,`https://${s}`,!0))return!1;for(let o=Re.USER-1;o>=Re.PORTAL_ITEM;o--){const a=this.getAtOrigin("url",wv(o));if(a)return!ba(n,a,!0)}return!1}applyPreferredHost(r){const{url:n,portalItem:i}=this;!n||CI(i)}applyHostFromPortalItem(){const{url:r,portalItem:n}=this;if(!r||this.originIdOf("url")===Re.USER||!n?.url||!CI(n)||!BR(n,VR.HOSTED_SERVICE)||ba(r,n.url,!0)||!this._isUrlHostModificationEnabled)return;const i=wpe(n.url);this._set("url",NH(r,i)),this._isUrlHostModified=!0}};return u([f({readOnly:!0})],t.prototype,"authenticationTriggerEvent",null),u([f({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],t.prototype,"copyright",void 0),u([f({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","isDataBranchVersioned","isDataVersioned","maxRecordCount","maxRecordCountFactor","maxUniqueIDCount","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],t.prototype,"capabilities",void 0),u([X("service","capabilities")],t.prototype,"readCapabilitiesFromService",null),u([f(k_("dateFieldsTimeReference"))],t.prototype,"dateFieldsTimeZone",void 0),u([f({type:Boolean})],t.prototype,"datesInUnknownTimezone",void 0),u([f({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],t.prototype,"definitionExpression",void 0),u([f({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],t.prototype,"displayField",void 0),u([f({readOnly:!0,type:Ka})],t.prototype,"editFieldsInfo",void 0),u([f({readOnly:!0})],t.prototype,"editingInfo",void 0),u([X("editingInfo")],t.prototype,"readEditingInfo",null),u([f({readOnly:!0})],t.prototype,"effectiveCapabilities",null),u([f()],t.prototype,"effectiveEditingEnabled",null),u([f((()=>{const r=D(F$e),n=r.json.origins;return n["web-map"]={read:!1,write:!1},n["portal-item"]={read:!1,write:!1},r})())],t.prototype,"elevationInfo",void 0),u([f()],t.prototype,"fieldsIndex",void 0),u([f({type:Bf,json:{name:"layerDefinition.floorInfo",write:{layerContainerTypes:xt}}})],t.prototype,"floorInfo",void 0),u([f({type:ze,json:{origins:{service:{read:{source:"extent"}}}}})],t.prototype,"fullExtent",void 0),u([f()],t.prototype,"gdbVersion",void 0),u([f({readOnly:!0,type:zf,json:{read:{source:"geometryProperties"}}})],t.prototype,"geometryFieldsInfo",void 0),u([f({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:PC.read}}}})],t.prototype,"geometryType",void 0),u([f({type:String})],t.prototype,"globalIdField",void 0),u([X("service","globalIdField",["globalIdField","fields"])],t.prototype,"readGlobalIdFieldFromService",null),u([f({readOnly:!0})],t.prototype,"hasFullEditingRestrictions",null),u([f({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasM",void 0),u([f({readOnly:!0})],t.prototype,"hasUpdateItemRestrictions",null),u([f({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasZ",void 0),u([f({readOnly:!0,type:ro})],t.prototype,"heightModelInfo",void 0),u([f({type:Date})],t.prototype,"historicMoment",void 0),u([f({type:Te.ofType(oa),readOnly:!0})],t.prototype,"indexes",void 0),u([f({readOnly:!0})],t.prototype,"isTable",void 0),u([X("service","isTable",["type"])],t.prototype,"readIsTableFromService",null),u([f({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],t.prototype,"layerId",void 0),u([f(V$e)],t.prototype,"maxScale",void 0),u([X("service","maxScale",["maxScale","effectiveMaxScale"])],t.prototype,"readMaxScale",null),u([f(B$e)],t.prototype,"minScale",void 0),u([X("service","minScale",["minScale","effectiveMinScale"])],t.prototype,"readMinScale",null),u([f({type:String})],t.prototype,"objectIdField",void 0),u([X("service","objectIdField",["objectIdField","fields"])],t.prototype,"readObjectIdFieldFromService",null),u([f(k_("preferredTimeReference"))],t.prototype,"preferredTimeZone",void 0),u([f({type:[Mi],readOnly:!0})],t.prototype,"relationships",void 0),u([f({type:Boolean})],t.prototype,"returnM",void 0),u([f({type:Boolean})],t.prototype,"returnZ",void 0),u([f({readOnly:!0,json:{write:!1}})],t.prototype,"serverGens",void 0),u([f({readOnly:!0})],t.prototype,"serviceDefinitionExpression",void 0),u([X("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],t.prototype,"readServiceDefinitionExpression",null),u([f({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],t.prototype,"serviceItemId",void 0),u([f()],t.prototype,"sourceJSON",void 0),u([f({type:be,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],t.prototype,"spatialReference",void 0),u([f({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],t.prototype,"subtypeField",void 0),u([f({type:[Za],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],t.prototype,"subtypes",void 0),u([f({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],t.prototype,"trackIdField",void 0),u([f({type:[String],readOnly:!0})],t.prototype,"uniqueIdFields",void 0),u([X("service","uniqueIdFields",["uniqueIdInfo.OIDFieldContainsHashValue","uniqueIdInfo.fields"])],t.prototype,"readUniqueIdFields",null),u([f(L$e)],t.prototype,"url",null),u([re("url")],t.prototype,"writeUrl",null),u([f({json:{origins:{service:{read:!0}},read:!1}})],t.prototype,"version",void 0),u([X("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],t.prototype,"readVersion",null),u([f({readOnly:!0})],t.prototype,"isUrlHostModified",null),t=u([A("esri.layers.mixins.FeatureLayerBase")],t),t};let zu=class extends Se.ClonableMixin(z){constructor(t){super(t),this.expression=null,this.title=null,this.returnType=null}};u([f({type:String,json:{write:!0}})],zu.prototype,"expression",void 0),u([f({type:String,json:{write:!0}})],zu.prototype,"title",void 0),u([f({type:String,json:{write:!0}})],zu.prototype,"returnType",void 0),zu=u([A("esri.layers.support.ExpressionInfo")],zu);var CC,Ub;let Cn=(Ub=class extends z{constructor(t){super(t),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new CC({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:D(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}},CC=Ub,Ub);u([f({type:Boolean,json:{write:!0}})],Cn.prototype,"isAutoGenerated",void 0),u([f({type:String,json:{write:!0}})],Cn.prototype,"name",void 0),u([f({type:String,json:{write:!0}})],Cn.prototype,"alias",void 0),u([f({type:String,json:{write:!0}})],Cn.prototype,"onStatisticField",void 0),u([f({type:zu,json:{write:!0}})],Cn.prototype,"onStatisticExpression",void 0),u([f({type:String,json:{write:!0}})],Cn.prototype,"statisticType",void 0),Cn=CC=u([A("esri.layers.support.AggregateField")],Cn);let pc=class extends z{constructor(){super(...arguments),this.type=null}};u([f({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],pc.prototype,"type",void 0),pc=u([A("esri.layers.support.FeatureReduction")],pc);const wL="__begin__",xL="__end__",qOe=new RegExp(wL,"ig"),GOe=new RegExp(xL,"ig"),c9=new RegExp("^"+wL,"i"),d9=new RegExp(xL+"$","i"),G_='"',WOe=G_+" + ",HOe=" + "+G_;function JOe(e){return e.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function KOe(e){return e.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function SL(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):e.labelExpression!=null&&(t.expression=JOe(e.labelExpression),t.type="conventional"),t}function ZOe(e){const t=SL(e);if(!t)return null;switch(t.type){case"conventional":return NC(t.expression);case"arcade":return t.expression}return null}function YOe(e){const t=SL(e);if(!t)return null;switch(t.type){case"conventional":return XOe(t.expression);case"arcade":return oee(t.expression)}return null}function NC(e){let t;return e?(t=Lp(e,r=>wL+'$feature["'+r+'"]'+xL),t=c9.test(t)?t.replace(c9,""):G_+t,t=d9.test(t)?t.replace(d9,""):t+G_,t=t.replaceAll(qOe,WOe).replaceAll(GOe,HOe)):t='""',t}const QOe=/^\s*\{([^}]+)\}\s*$/i;function XOe(e){return e?.match(QOe)?.[1].trim()||null}const eEe=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,tEe=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,rEe=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function oee(e){if(!e)return null;let t=eEe.exec(e)||tEe.exec(e);return t?t[1]||t[3]:(t=rEe.exec(e),t?t[2]:null)}var MC,zb;let cl=(zb=class extends z{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(t,r){return r.value?NC(r.value):t}writeExpression(t,r,n){this.value!=null&&(t=NC(this.value)),t!=null&&(r[n]=t)}clone(){return new MC({expression:this.expression,title:this.title,value:this.value})}},MC=zb,zb);u([f({type:String,json:{write:{writerEnsuresNonNull:!0}}})],cl.prototype,"expression",void 0),u([X("expression",["expression","value"])],cl.prototype,"readExpression",null),u([re("expression")],cl.prototype,"writeExpression",null),u([f({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],cl.prototype,"title",void 0),u([f({json:{read:!1,write:!1}})],cl.prototype,"value",void 0),cl=MC=u([A("esri.layers.support.LabelExpressionInfo")],cl);var RC;const Ew=new Pe({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function jw(e,t,r){return{enabled:!kI(r?.layer)}}function aee(e){return!e||e.origin!=="service"&&e.layer?.type!=="map-image"}function nEe(e){return e?.type==="map-image"}function lee(e){return!!nEe(e)&&!!e.capabilities?.exportMap?.supportsArcadeExpressionForLabeling}function iEe(e){return aee(e)||lee(e?.layer)}var Bb;let At=(Bb=class extends z{static evaluateWhere(t,r){const n=(i,s,o)=>{switch(s){case"=":return i==o;case"<>":return i!=o;case">":return i>o;case">=":return i>=o;case"<":return i<o;case"<=":return i<=o}return!1};try{if(t==null)return!0;const i=t.split(" ");if(i.length===3)return n(r[i[0]],i[1],i[2]);if(i.length===7){const s=n(r[i[0]],i[1],i[2]),o=i[3],a=n(r[i[4]],i[5],i[6]);switch(o){case"AND":return s&&a;case"OR":return s||a}}return!1}catch{}}constructor(t){super(t),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=kTe,this.useCodedValues=void 0,this.where=null}readLabelExpression(t,r){const n=r.labelExpressionInfo;if(!n||!n.value&&!n.expression)return t}writeLabelExpression(t,r,n){if(this.labelExpressionInfo){if(this.labelExpressionInfo.value!=null)t=KOe(this.labelExpressionInfo.value);else if(this.labelExpressionInfo.expression!=null){const i=oee(this.labelExpressionInfo.expression);i&&(t="["+i+"]")}}t!=null&&(r[n]=t)}writeLabelExpressionInfo(t,r,n,i){if(t==null&&this.labelExpression!=null&&aee(i))t=new cl({expression:this.getLabelExpressionArcade()});else if(!t)return;const s=t.toJSON(i);s.expression&&(r[n]=s)}writeMaxScale(t,r){(t||this.minScale)&&(r.maxScale=t)}writeMinScale(t,r){(t||this.maxScale)&&(r.minScale=t)}getLabelExpression(){return SL(this)}getLabelExpressionArcade(){return ZOe(this)}getLabelExpressionSingleField(){return YOe(this)}hash(){return JSON.stringify(this)}clone(){return new RC({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:D(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:D(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}},RC=Bb,Bb);u([f({type:String,json:{write:!0}})],At.prototype,"name",void 0),u([f({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:jw}}}}})],At.prototype,"allowOverrun",void 0),u([f({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:jw}}}}})],At.prototype,"deconflictionStrategy",void 0),u([f({type:String,json:{write:{overridePolicy(e,t,r){return this.labelExpressionInfo&&r?.origin==="service"&&lee(r.layer)?{enabled:!1}:{allowNull:!0}}}}})],At.prototype,"labelExpression",void 0),u([X("labelExpression")],At.prototype,"readLabelExpression",null),u([re("labelExpression")],At.prototype,"writeLabelExpression",null),u([f({type:cl,json:{write:{overridePolicy:(e,t,r)=>iEe(r)?{allowNull:!0}:{enabled:!1}}}})],At.prototype,"labelExpressionInfo",void 0),u([re("labelExpressionInfo")],At.prototype,"writeLabelExpressionInfo",null),u([f({type:Ew.apiValues,json:{type:Ew.jsonValues,read:Ew.read,write:Ew.write}})],At.prototype,"labelPlacement",void 0),u([f({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],At.prototype,"labelPosition",void 0),u([f({type:Number})],At.prototype,"maxScale",void 0),u([re("maxScale")],At.prototype,"writeMaxScale",null),u([f({type:Number})],At.prototype,"minScale",void 0),u([re("minScale")],At.prototype,"writeMinScale",null),u([f({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:jw}}}}})],At.prototype,"repeatLabel",void 0),u([f({type:Number,cast:He,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:jw}}}}})],At.prototype,"repeatLabelDistance",void 0),u([f({types:A_e,json:{origins:{"web-scene":{types:I_e,write:Z8,default:null}},write:Z8,default:null}})],At.prototype,"symbol",void 0),u([f({type:Boolean,json:{write:!0}})],At.prototype,"useCodedValues",void 0),u([f({type:String,json:{write:!0}})],At.prototype,"where",void 0),At=RC=u([A("esri.layers.support.LabelClass")],At);var LC;let ho=LC=class extends z{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new LC({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?.clone()??null})}getMeshHash(){const e=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${e}`}};u([f({type:String,json:{write:!0}})],ho.prototype,"description",void 0),u([f({type:String,json:{write:!0}})],ho.prototype,"label",void 0),u([f({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],ho.prototype,"minValue",void 0),u([f({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],ho.prototype,"maxValue",void 0),u([f(fL)],ho.prototype,"symbol",void 0),ho=LC=u([A("esri.renderers.support.ClassBreakInfo")],ho);var DC;const uee="log",gS="percent-of-total",vS="field",Aw=new Pe({esriNormalizeByLog:uee,esriNormalizeByPercentOfTotal:gS,esriNormalizeByField:vS}),sEe=br(ho);let dr=DC=class extends ym(Hi){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,r){if(!Array.isArray(e))return;let n=t.minValue;return e.map(i=>{const s=new ho;return s.read(i,r),s.minValue==null&&(s.minValue=n),s.maxValue==null&&(s.maxValue=s.minValue),n=s.maxValue,s})}writeClassBreakInfos(e,t,r,n){const i=e.map(s=>s.write({},n));this._areClassBreaksConsecutive()&&i.forEach(s=>delete s.classMinValue),t[r]=i}castField(e){return e==null?e:typeof e=="function"?(ce.getLogger(this).error(".field: field must be a string value"),null):s1(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,r=this.normalizationTotal!=null;return t||r?(e=t&&vS||r&&gS||null,t&&r&&ce.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):e!==vS&&e!==gS||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,r){let n=null;n=typeof e=="number"?new ho({minValue:e,maxValue:t,symbol:aX(r)}):sEe(D(e)),this.classBreakInfos.push(n),this.classBreakInfos.length===1&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const r=this.classBreakInfos.length;for(let n=0;n<r;n++){const i=[this.classBreakInfos[n].minValue,this.classBreakInfos[n].maxValue];if(i[0]===e&&i[1]===t){this.classBreakInfos.splice(n,1);break}}}getBreakIndex(e,t){return this.valueExpression&&t?.arcade==null&&ce.getLogger(this).warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let r=t;this.valueExpression&&t?.arcade==null&&(r={...r,arcade:await Op()});const n=this.getBreakIndex(e,r);return n!==-1?this.classBreakInfos[n]:null}getSymbol(e,t){if(this.valueExpression&&t?.arcade==null)return void ce.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const r=this.getBreakIndex(e,t);return r>-1?this.classBreakInfos[r].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let r=t;if(this.valueExpression&&t?.arcade==null){const i=await Op(),{arcadeUtils:s}=i;s.hasGeometryOperations(this.valueExpression)&&await s.enableGeometryOperations(),r={...r,arcade:i}}const n=this.getBreakIndex(e,r);return n>-1?this.classBreakInfos[n].symbol:this.defaultSymbol}get symbols(){const e=[];return this.classBreakInfos.forEach(t=>{t.symbol&&e.push(t.symbol)}),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables?.reduce((e,t)=>e+t.getAttributeHash(),"")??""}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),r=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${e}.${t}.${this.classBreakInfos.reduce((n,i)=>n+i.getMeshHash(),"")}.${r}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new DC({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol?.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol?.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:D(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:D(this.visualVariables),legendOptions:D(this.legendOptions),authoringInfo:D(this.authoringInfo)})}async collectRequiredFields(e,t){const r=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(r)}async collectSymbolFields(e,t){const r=[...this.symbols.map(n=>n.collectRequiredFields(e,t)),Fo(e,t,this.valueExpression)];Yi(e,t,this.field),Yi(e,t,this.normalizationField),await Promise.all(r)}_getBreakIndexForExpression(e,t){const{viewingMode:r,scale:n,spatialReference:i,arcade:s,timeZone:o}=t??{},{valueExpression:a}=this;let l=this._compiledValueExpression.valueExpression===a?this._compiledValueExpression.compiledFunction:null;const c=s.arcadeUtils;if(!l){const p=c.createSyntaxTree(a);l=c.createFunction(p),this._compiledValueExpression.compiledFunction=l}this._compiledValueExpression.valueExpression=a;const d=c.executeFunction(l,c.createExecContext(e,c.getViewInfo({viewingMode:r,scale:n,spatialReference:i}),o));return this._getBreakIndexfromInfos(d)}_getBreakIndexForField(e){const t=this.field,r=e.attributes,n=this.normalizationType;let i=parseFloat(r[t]);if(n){const s=this.normalizationTotal,o=parseFloat(this.normalizationField?r[this.normalizationField]:void 0);if(n===uee)i=Math.log(i)*Math.LOG10E;else if(n!==gS||s==null||isNaN(s)){if(n===vS&&!isNaN(o)){if(isNaN(i)||isNaN(o))return-1;i/=o}}else i=i/s*100}return this._getBreakIndexfromInfos(i)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive;if(e!=null&&typeof e=="number"&&!isNaN(e))for(let r=0;r<this.classBreakInfos.length;r++){const n=[this.classBreakInfos[r].minValue,this.classBreakInfos[r].maxValue];if(n[0]<=e&&(t?e<=n[1]:e<n[1]))return r}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length;for(let r=1;r<t;r++)if(e[r-1].maxValue!==e[r].minValue)return!1;return!0}};u([f(hL)],dr.prototype,"backgroundFillSymbol",void 0),u([f({type:[ho],json:{write:{isRequired:!0}}})],dr.prototype,"classBreakInfos",void 0),u([X("classBreakInfos")],dr.prototype,"readClassBreakInfos",null),u([re("classBreakInfos")],dr.prototype,"writeClassBreakInfos",null),u([f({type:String,json:{write:!0}})],dr.prototype,"defaultLabel",void 0),u([f(pT)],dr.prototype,"defaultSymbol",void 0),u([f({type:String,json:{write:!0}})],dr.prototype,"field",void 0),u([ht("field")],dr.prototype,"castField",null),u([f({type:Boolean})],dr.prototype,"isMaxInclusive",void 0),u([f({type:yL,json:{write:!0}})],dr.prototype,"legendOptions",void 0),u([f({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return this.classBreakInfos.length!==0&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],dr.prototype,"minValue",null),u([f({type:String,json:{write:!0}})],dr.prototype,"normalizationField",void 0),u([f({type:Number,json:{write:!0}})],dr.prototype,"normalizationTotal",void 0),u([f({type:Aw.apiValues,value:null,json:{type:Aw.jsonValues,read:Aw.read,write:Aw.write}})],dr.prototype,"normalizationType",null),u([ye({classBreaks:"class-breaks"})],dr.prototype,"type",void 0),u([f({type:String,json:{write:!0}})],dr.prototype,"valueExpression",void 0),u([f({type:String,json:{write:!0}})],dr.prototype,"valueExpressionTitle",void 0),dr=DC=u([A("esri.renderers.ClassBreaksRenderer")],dr);const FC=-3,oEe=FC-1;var dl;(function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME"})(dl||(dl={}));let aEe=class{get size(){return this._size}constructor(t=10485760){this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._users=new Map,this._sizeLimits=new Map}destroy(){this.clearAll(),this._sizeLimits.clear(),this._users.clear()}register(t){this._users.set(t.id.slice(0,-1),t)}deregister(t){this.clear(t),this._sizeLimits.delete(t),this._users.delete(t.id.slice(0,-1))}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,-1),this._checkSize()}getSize(t,r){return this._db.get(t.id+r)?.size??0}put(t,r,n,i,s){r=t.id+r;const o=this._db.get(r);if(o&&(this._size-=o.size,t.size-=o.size,this._db.delete(r),o.entry!==n&&this._notifyRemove(r,o.entry,o.size,dl.ALL)),i>this._maxSize)return void this._notifyRemove(r,n,i,dl.ALL);if(n===void 0)return void console.warn("Refusing to cache undefined entry ");if(!i||i<0)return console.warn(`Refusing to cache entry with size ${i} for key ${r}`),void this._notifyRemove(r,n,0,dl.ALL);const a=1+Math.max(s,oEe)-FC;this._db.set(r,new lEe(n,i,a)),this._size+=i,t.size+=i,this._checkSize()}updateSize(t,r,n,i){r=t.id+r;const s=this._db.get(r);if(s&&s.entry===n){for(this._size-=s.size,t.size-=s.size;i>this._maxSize;){const o=this._notifyRemove(r,n,i,dl.SOME);if(!(o!=null&&o>0))return void this._db.delete(r);i=o}s.size=i,this._size+=i,t.size+=i,this._checkSize()}}pop(t,r){r=t.id+r;const n=this._db.get(r);if(n)return this._size-=n.size,t.size-=n.size,this._db.delete(r),++this._hit,n.entry;++this._miss}get(t,r){r=t.id+r;const n=this._db.get(r);if(n!==void 0)return this._db.delete(r),n.lives=n.lifetime,this._db.set(r,n),++this._hit,n.entry;++this._miss}peek(t,r){const n=this._db.get(t.id+r);return n?++this._hit:++this._miss,n?.entry}get performanceInfo(){const t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},r={},n=new Array;this._db.forEach((o,a)=>{const l=o.lifetime;n[l]=(n[l]||0)+o.size,this._users.forEach(c=>{const{id:d,name:p}=c;if(a.startsWith(d)){const y=r[p]||0;r[p]=y+o.size}})});const i={};this._users.forEach(o=>{const a=o.name;if("hitRate"in o&&typeof o.hitRate=="number"&&!isNaN(o.hitRate)&&o.hitRate>0){const l=r[a]||0;r[a]=l,i[a]=Math.round(100*o.hitRate)+"%"}else i[a]="0%"});const s=Object.keys(r);s.sort((o,a)=>r[a]-r[o]),s.forEach(o=>t[o]=Math.round(r[o]/2**20)+"MB / "+i[o]);for(let o=n.length-1;o>=0;--o){const a=n[o];a&&(t["Priority "+(o+FC-1)]=Math.round(a/this._size*100)+"%")}return t}resetStats(){this._hit=this._miss=0,this._users.forEach(t=>t.resetHitRate())}clear(t){const r=t.id;this._db.forEach((n,i)=>{i.startsWith(r)&&(this._size-=n.size,this._db.delete(i),this._notifyRemove(i,n.entry,n.size,dl.ALL))}),t.size=0}clearAll(){this._db.forEach((t,r)=>this._notifyRemove(r,t.entry,t.size,dl.ALL)),this._users.forEach(t=>t.size=0),this._size=0,this._db.clear()}*values(t){for(const[r,n]of this._db)r.startsWith(t.id)&&(yield n.entry)}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,r,n,i){const s=this._users.get(t.split(GE)[0])?.removeFunc,o=s?.(r,i,n);return typeof o=="number"?o:null}_checkSize(){this._sizeLimits.forEach((t,r)=>this._checkSizeLimits(t,r)),this._checkSizeLimits(this.maxSize)}setMaxSize(t,r){r==null||r<=0?this._sizeLimits.delete(t):this._sizeLimits.set(t,r)}_checkSizeLimits(t,r){const n=r??this;if(n.size<=t)return;const i=r?.id;let s=!0;for(;s;){s=!1;for(const[o,a]of this._db)if(a.lifetime===0&&(!i||o.startsWith(i))){const l=r??this._users.get(o.split(GE)[0]);if(this._purgeItem(o,a,l),n.size<=.9*t)return;s||(s=this._db.has(o))}}for(const[o,a]of this._db)if(!i||o.startsWith(i)){const l=r??this._users.get(o.split(GE)[0]);if(this._purgeItem(o,a,l),n.size<=.9*t)return}}_purgeItem(t,r,n){if(this._db.delete(t),r.lives<=1){this._size-=r.size,n&&(n.size-=r.size);const i=this._notifyRemove(t,r.entry,r.size,dl.SOME);i!=null&&i>0&&(this._size+=i,n&&(n.size+=i),r.lives=r.lifetime,r.size=i,this._db.set(t,r))}else--r.lives,this._db.set(t,r)}},lEe=class{constructor(t,r,n){this.entry=t,this.size=r,this.lifetime=n,this.lives=n}};const GE=":";let uEe=class{constructor(t,r){this.removeFunc=r,this._storage=new aEe,this.id="",this.name="",this.size=0,this._storage.maxSize=t,this._storage.register(this)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(t,r,n=1){this._storage.put(this,t,r,n,1)}pop(t){return this._storage.pop(this,t)}get(t){return this._storage.get(this,t)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}resetHitRate(){}},p9=class cee{static parse(t,r,n){const i=[],s=[],o=t.split(";");for(let a=0;a<o.length;a++){const l=o[a];if(l){if(l.includes("po:")){const c=l.slice(3).split("|");if(c.length===3){const[d,p,y]=c,m=dEe(d,p,y);m&&s.push(m)}}else if(l.includes("|")){for(const c of l.split("|"))if(r.has(c)){i.push(c);break}}else if(r.has(l))i.push(l);else if(a===0){i.length=0,i.push(pEe(n));break}}}return new cee(i,s)}constructor(t,r){this.partNames=t,this.overrides=r}};function cEe(e,t){if(e==="DashTemplate")return t.split(" ").map(r=>Number(r));if(e==="Color"){const r=new Me(t).toRgba();return[r[0],r[1],r[2],255*r[3]]}return Number(t)}function dEe(e,t,r){return{primitiveName:e,propertyName:t,value:cEe(t,r),defaultValue:null}}function pEe(e){switch(e){case"esriGeometryPolyline":return"Invalid_L";case"esriGeometryPolygon":return"Invalid_A";default:return"Invalid_P"}}var Vb;let da=(Vb=class{},Vb.instance=new ji("Etc/UTC"),Vb);function fEe(e){return e instanceof Up?e===da.instance:e?.toString().toLowerCase()==="unknown"}function xnt(e){return fEe(e)?da.instance:e}function hEe(e){return"timeZone"in e}function yEe(e){return"timeZone"in e}function mEe(e){return"dateFieldsTimeZone"in e}const gEe=new Map;let W_=class bS{static fromJSON(t){return new bS(t.fields,t.timeZoneByFieldName)}static fromLayer(t){return new bS(t.fields??[],h9(t))}static fromLayerJSON(t){return new bS(t.fields??[],h9(t))}constructor(t=[],r){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=t||[],this._timeZoneByFieldName=r?new Map(r):null;const n=[];for(const i of this.fields){const s=i?.name,o=f9(s);if(s&&o){const a=Nd(s);this._fieldsMap.set(s,i),this._fieldsMap.set(a,i),this._normalizedFieldsMap.set(o,i),n.push(`${a}:${i.type}:${this._timeZoneByFieldName?.get(s)}`),hSe(i)?(this.dateFields.push(i),this._dateFieldsSet.add(i)):AQ(i)&&(this._numericFieldsSet.add(i),this.numericFields.push(i)),F6(i)||U6(i)||(i.editable=i.editable==null||!!i.editable,i.nullable=i.nullable==null||!!i.nullable)}}n.sort(),this.uid=n.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const t of this.fields)F6(t)||U6(t)||t.nullable||nSe(t)!==void 0||this._requiredFields.push(t)}return this._requiredFields}equals(t){return this.uid===t?.uid}has(t){return this.get(t)!=null}get(t){if(!t)return;let r=this._fieldsMap.get(t);return r||(r=this._fieldsMap.get(Nd(t))??this._normalizedFieldsMap.get(f9(t)),r&&this._fieldsMap.set(t,r),r)}getTimeZone(t){const r=this.get(t&&typeof t!="string"?t.name:t);return r?this._timeZoneByFieldName?this._timeZoneByFieldName.get(r.name):r.type==="date"||r.type==="esriFieldTypeDate"?(ce.getLogger("esri.layers.support.FieldsIndex").errorOnce(new K("getTimeZone:no-timezone-information",`no time zone information for field '${r.name}'`)),Sc):dee.has(r.type)?xc:null:null}getLuxonTimeZone(t){const r=this.getTimeZone(t);return r?r===xc?da.instance:r===Sc?Or.utcInstance:j$(gEe,r,()=>ji.create(r)):null}isDateField(t){return this._dateFieldsSet.has(this.get(t))}isTimeOnlyField(t){return ySe(this.get(t))}isNumericField(t){return this._numericFieldsSet.has(this.get(t))}normalizeFieldName(t){return this.get(t)?.name??void 0}toJSON(){return{fields:this.fields.map(t=>vv(t)?t.toJSON():t),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}};function Nd(e){return e.trim().toLowerCase()}function f9(e){return Gxe(e)?.toLowerCase()??""}const dee=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function h9(e){const t=new Map;if(!e.fields)return t;const r=e.datesInUnknownTimezone===!0,{timeInfo:n,editFieldsInfo:i}=e,s=(n?"startField"in n?n.startField:n.startTimeField:"")??"",o=(n?"endField"in n?n.endField:n.endTimeField:"")??"",a=mEe(e)?e.dateFieldsTimeZone??null:e.dateFieldsTimeReference?jx(e.dateFieldsTimeReference):null,l=i?hEe(i)?i.timeZone??a:i.dateFieldsTimeReference?jx(i.dateFieldsTimeReference):a??Sc:null,c=n?yEe(n)?n.timeZone??a:n.timeReference?jx(n.timeReference):a:null,d=new Map([[Nd(i?.creationDateField??""),l],[Nd(i?.editDateField??""),l],[Nd(s),c],[Nd(o),c]]);for(const{name:p,type:y}of e.fields)if(dee.has(y))t.set(p,xc);else if(y!=="date"&&y!=="esriFieldTypeDate")t.set(p,null);else if(r)t.set(p,xc);else{const m=d.get(Nd(p??""))??a;t.set(p,m)}return t}var ke;(function(e){e.AsyncNotEnabled="AsyncNotEnabled",e.ModulesNotSupported="ModulesNotSupported",e.CircularModules="CircularModules",e.CannotCompareDateAndTime="CannotCompareDateAndTime",e.NeverReach="NeverReach",e.UnsupportedHashType="UnsupportedHashType",e.InvalidParameter="InvalidParameter",e.FeatureSetDoesNotHaveSubtypes="FeatureSetDoesNotHaveSubtypes",e.UnexpectedToken="UnexpectedToken",e.Unrecognized="Unrecognized",e.UnrecognizedType="UnrecognizedType",e.MaximumCallDepth="MaximumCallDepth",e.BooleanConditionRequired="BooleanConditionRequired",e.TypeNotAllowedInFeature="TypeNotAllowedInFeature",e.KeyMustBeString="KeyMustBeString",e.WrongNumberOfParameters="WrongNumberOfParameters",e.CallNonFunction="CallNonFunction",e.NoFunctionInTemplateLiteral="NoFunctionInTemplateLiteral",e.NoFunctionInDictionary="NoFunctionInDictionary",e.NoFunctionInArray="NoFunctionInArray",e.AssignModuleFunction="AssignModuleFunction",e.LogicExpressionOrAnd="LogicExpressionOrAnd",e.LogicalExpressionOnlyBoolean="LogicalExpressionOnlyBoolean",e.FunctionNotFound="FunctionNotFound",e.InvalidMemberAccessKey="InvalidMemberAccessKey",e.UnsupportedUnaryOperator="UnsupportUnaryOperator",e.InvalidIdentifier="InvalidIdentifier",e.MemberOfNull="MemberOfNull",e.UnsupportedOperator="UnsupportedOperator",e.Cancelled="Cancelled",e.ModuleAccessorMustBeString="ModuleAccessorMustBeString",e.ModuleExportNotFound="ModuleExportNotFound",e.Immutable="Immutable",e.OutOfBounds="OutOfBounds",e.IllegalResult="IllegalResult",e.FieldNotFound="FieldNotFound",e.PortalRequired="PortalRequired",e.LogicError="LogicError",e.ArrayAccessorMustBeNumber="ArrayAccessMustBeNumber",e.KeyAccessorMustBeString="KeyAccessorMustBeString",e.WrongSpatialReference="WrongSpatialReference",e.CannotChangeTimeZoneTime="CannotChangeTimeZoneTime",e.CannotChangeTimeZoneDateOnly="CannotChangeTimeZoneDateOnly"})(ke||(ke={}));const pee={[ke.TypeNotAllowedInFeature]:"Feature attributes only support dates, numbers, strings, guids.",[ke.LogicError]:"Logic error - {reason}",[ke.CannotCompareDateAndTime]:"Cannot compare date or dateonly with timeonly types",[ke.NeverReach]:"Encountered unreachable logic",[ke.AsyncNotEnabled]:"Async Arcade must be enabled for this script",[ke.ModuleAccessorMustBeString]:"Module accessor must be a string",[ke.ModuleExportNotFound]:"Module has no export with provided identifier",[ke.ModulesNotSupported]:"Current profile does not support modules",[ke.ArrayAccessorMustBeNumber]:"Array accessor must be a number",[ke.FunctionNotFound]:"Function not found",[ke.FieldNotFound]:"Key not found - {key}",[ke.CircularModules]:"Circular module dependencies are not allowed",[ke.Cancelled]:"Execution cancelled",[ke.UnsupportedHashType]:"Type not supported in hash function",[ke.IllegalResult]:"Value is not a supported return type",[ke.PortalRequired]:"Portal is required",[ke.InvalidParameter]:"Invalid parameter",[ke.WrongNumberOfParameters]:"Call with wrong number of parameters",[ke.Unrecognized]:"Unrecognized code structure",[ke.UnrecognizedType]:"Unrecognized type",[ke.WrongSpatialReference]:"Cannot work with geometry in this spatial reference. It is different to the execution spatial reference",[ke.BooleanConditionRequired]:"Conditions must use booleans",[ke.NoFunctionInDictionary]:"Dictionaries cannot contain functions.",[ke.NoFunctionInArray]:"Arrays cannot contain functions.",[ke.NoFunctionInTemplateLiteral]:"Template Literals do not expect functions by value.",[ke.KeyAccessorMustBeString]:"Accessor must be a string",[ke.KeyMustBeString]:"Object keys must be a string",[ke.Immutable]:"Object is immutable",[ke.UnexpectedToken]:"Unexpected token",[ke.MemberOfNull]:"Cannot access property of null object",[ke.MaximumCallDepth]:"Exceeded maximum function depth",[ke.OutOfBounds]:"Out of bounds",[ke.InvalidIdentifier]:"Identifier not recognized",[ke.CallNonFunction]:"Expression is not a function",[ke.InvalidMemberAccessKey]:"Cannot access value using a key of this type",[ke.AssignModuleFunction]:"Cannot assign function to module variable",[ke.UnsupportedUnaryOperator]:"Unsupported unary operator",[ke.UnsupportedOperator]:"Unsupported operator",[ke.LogicalExpressionOnlyBoolean]:"Logical expressions must be boolean",[ke.LogicExpressionOrAnd]:"Logical expression can only be combined with || or &&",[ke.CannotChangeTimeZoneTime]:"Cannot change the timezone of a Time",[ke.CannotChangeTimeZoneDateOnly]:"Cannot change the timezone of a DateOnly",[ke.FeatureSetDoesNotHaveSubtypes]:"FeatureSet does not have subtypes"};let vEe=class extends Error{constructor(...t){super(...t)}},y9=class fee extends vEe{constructor(t,r){super(_L(r)+t.message,{cause:t}),this.loc=null,Error.captureStackTrace&&Error.captureStackTrace(this,fee),r?.loc&&(this.loc=r.loc)}},bEe=class hee extends Error{constructor(t,r,n,i){super("Execution error - "+_L(n)+Lp(pee[r],i)),this.loc=null,this.declaredRootClass="esri.arcade.arcadeexecutionerror",Error.captureStackTrace&&Error.captureStackTrace(this,hee),n?.loc&&(this.loc=n.loc)}};function _L(e){return e&&e.loc?`Line : ${e.loc.start?.line}, ${e.loc.start?.column}: `:""}let _nt=class yee extends Error{constructor(t,r,n,i){super("Compilation error - "+_L(n)+Lp(pee[r],i)),this.loc=null,this.declaredRootClass="esri.arcade.arcadecompilationerror",Error.captureStackTrace&&Error.captureStackTrace(this,yee),n?.loc&&(this.loc=n.loc)}},$nt=class mee extends Error{constructor(){super("Uncompilable code structures"),this.declaredRootClass="esri.arcade.arcadeuncompilableerror",Error.captureStackTrace&&Error.captureStackTrace(this,mee)}};function Tnt(e,t,r){return r.declaredRootClass==="esri.arcade.arcadeexecutionerror"||r.declaredRootClass==="esri.arcade.arcadecompilationerror"?r.loc===null&&t?.loc?new y9(r,{cause:r}):r:(r.declaredRootClass==="esri.arcade.featureset.support.featureseterror"||r.declaredRootClass==="esri.arcade.featureset.support.sqlerror"||r.declaredRootClass,t?.loc?new y9(r,{cause:r}):r)}var H_;(function(e){e.UnrecognizedUri="UnrecognizedUri",e.UnsupportedUriProtocol="UnsupportedUriProtocol"})(H_||(H_={}));const wEe={[H_.UnrecognizedUri]:"Unrecognized uri - {uri}",[H_.UnsupportedUriProtocol]:"Unrecognized uri protocol"};let Ont=class gee extends Error{constructor(t,r){super(Lp(wEe[t],r)),this.declaredRootClass="esri.arcade.arcademoduleerror",Error.captureStackTrace&&Error.captureStackTrace(this,gee)}};function wS(e){return e.toLowerCase().replaceAll(/[\s-]+/g,"")}let Ent=class{constructor(t,r){const n=new Map;for(const i of t){const s=wS(i);if(n.has(s))throw new Error(`${i} already added as ${n.get(s)}`);n.set(s,i)}if(r!=null)for(const[i,s]of r){const o=wS(i);if(n.has(o))throw new Error(`${i} already associated with ${n.get(o)}`);n.set(o,s)}this._enumMap=n}lookup(t){return this._enumMap.get(wS(t))}get(t){const r=this.lookup(t);if(r==null)throw new bEe(null,ke.InvalidParameter,null);return r}};var J_;(function(e){e.TimeZoneNotRecognized="TimeZoneNotRecognized"})(J_||(J_={}));const xEe={[J_.TimeZoneNotRecognized]:"Timezone identifier has not been recognized."};let SEe=class vee extends Error{constructor(t,r){super(Lp(xEe[t],r)),this.declaredRootClass="esri.arcade.arcadedate.dateerror",Error.captureStackTrace&&Error.captureStackTrace(this,vee)}};function uf(e,t,r){return e<t?e-t:e>r?e-r:0}function cf(e,t,r){return e<t?t:e>r?r:e}let Ol=class ur{constructor(t){this._date=t,this.declaredRootClass="esri.arcade.arcadedate"}static fromParts(t=0,r=1,n=1,i=0,s=0,o=0,a=0,l){if(isNaN(t)||isNaN(r)||isNaN(n)||isNaN(i)||isNaN(s)||isNaN(o)||isNaN(a))return null;const c=he.local(t,r).daysInMonth;let d=he.fromObject({day:cf(n,1,c),year:t,month:cf(r,1,12),hour:cf(i,0,23),minute:cf(s,0,59),second:cf(o,0,59),millisecond:cf(a,0,999)},{zone:la(l)});return d=d.plus({months:uf(r,1,12),days:uf(n,1,c),hours:uf(i,0,23),minutes:uf(s,0,59),seconds:uf(o,0,59),milliseconds:uf(a,0,999)}),new ur(d)}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??"system"}static arcadeDateAndZoneToArcadeDate(t,r){const n=la(r);return t.isUnknownTimeZone||n===da.instance?ur.fromParts(t.year,t.monthJS+1,t.day,t.hour,t.minute,t.second,t.millisecond,n):new ur(t._date.setZone(n))}static dateJSToArcadeDate(t){return new ur(he.fromJSDate(t,{zone:"system"}))}static dateJSAndZoneToArcadeDate(t,r="system"){const n=la(r);return new ur(he.fromJSDate(t,{zone:n}))}static unknownEpochToArcadeDate(t){return new ur(he.fromMillis(t,{zone:da.instance}))}static unknownDateJSToArcadeDate(t){return new ur(he.fromMillis(t.getTime(),{zone:da.instance}))}static epochToArcadeDate(t,r="system"){const n=la(r);return new ur(he.fromMillis(t,{zone:n}))}static dateTimeToArcadeDate(t){return new ur(t)}clone(){return new ur(this._date)}changeTimeZone(t){const r=la(t);return ur.dateTimeToArcadeDate(this._date.setZone(r))}static dateTimeAndZoneToArcadeDate(t,r){const n=la(r);return t.zone===da.instance||n===da.instance?ur.fromParts(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond,n):new ur(t.setZone(n))}static nowToArcadeDate(t){const r=la(t);return new ur(he.fromJSDate(new Date,{zone:r}))}static nowUTCToArcadeDate(){return new ur(he.utc())}get isSystem(){return this.timeZone==="system"||this.timeZone===ur.systemTimeZoneCanonicalName}equals(t){return this.isSystem&&t.isSystem?this.toNumber()===t.toNumber():this.isUnknownTimeZone===t.isUnknownTimeZone&&this._date.equals(t._date)}get isUnknownTimeZone(){return this._date.zone===da.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let t=this._date.weekday;return t>6&&(t=0),t}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return"unknown";if(this._date.zone.type==="system")return"system";const t=this.zone;return t.type==="fixed"?t.fixed===0?"UTC":t.formatOffset(0,"short"):t.name}stringify(){return JSON.stringify(this.toJSDate())}plus(t){return new ur(this._date.plus(t))}diff(t,r){return this._date.diff(t._date,r)[r]}toISODate(){return this._date.toISODate()}toISOString(t){return t?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toISOTime(t,r){return this._date.toISOTime({suppressMilliseconds:t,includeOffset:r&&!this.isUnknownTimeZone})}toFormat(t,r){return this.isUnknownTimeZone&&(t=t.replaceAll("Z","")),this._date.toFormat(t,r)}toJSDate(){return this._date.toJSDate()}toSQLValue(){return this._date.toFormat("yyyy-LL-dd HH:mm:ss")}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new ur(this._date.toUTC())}toLocal(){return new ur(this._date.toLocal())}toString(){return this.toISOString(!0)}static fromReaderAsTimeStampOffset(t){if(!t)return null;const r=he.fromISO(t,{setZone:!0});return new ur(r)}};function la(e,t=!0){if(e instanceof Up)return e;switch(wS(e)){case"system":return"system";case"utc":return"UTC";case"unknown":return da.instance}if(/^[+-]?[0-9]{1,2}([:][0-9]{2})?$/.test(e)){const n=Or.parseSpecifier("UTC"+(e.startsWith("+")||e.startsWith("-")?"":"+")+e);if(n)return n}const r=ji.create(e);if(!r.isValid){if(t)throw new SEe(J_.TimeZoneNotRecognized);return null}return r}function m9(e){e=e.replaceAll(/LTS|LT|L{1,4}|l{1,4}/g,"[$&]");let t="";const r=/(\[[^[]*\])|(\\)?([Hh]mm(ss)?|Mo|M{1,4}|Do|DDDo|D{1,4}|d{2,4}|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const n of e.match(r)||[])switch(n){case"D":t+="d";break;case"DD":t+="dd";break;case"DDD":t+="o";break;case"d":t+="c";break;case"ddd":t+="ccc";break;case"dddd":t+="cccc";break;case"M":t+="L";break;case"MM":t+="LL";break;case"MMM":t+="LLL";break;case"MMMM":t+="LLLL";break;case"YY":t+="yy";break;case"Y":case"YYYY":t+="yyyy";break;case"Q":t+="q";break;case"X":case"x":t+=n;break;default:n.length>=2&&n.slice(0,1)==="["&&n.slice(-1)==="]"?t+=`'${n.slice(1,-1)}'`:t+=`'${n}'`}return t}const g9="esri.core.sql.dateonly";let _Ee=class Ri{constructor(t,r,n){this._year=t,this._month=r,this._day=n,this.declaredRootClass=g9}static isDateOnly(t){return typeof t=="object"&&t!=null&&"declaredRootClass"in t&&t.declaredRootClass===g9}get month(){return this._month}get monthJS(){return this._month-1}get year(){return this._year}get day(){return this._day}get isValid(){return this.toDateTime("unknown").isValid}equals(t){return Ri.isDateOnly(t)&&t.day===this.day&&t.month===this.month&&t.year===this.year}clone(){return new Ri(this._year,this._month,this._day)}toDateTime(t){return he.fromObject({day:this.day,month:this.month,year:this.year},{zone:la(t)})}toDateTimeLuxon(t){return he.fromObject({day:this.day,month:this.month,year:this.year},{zone:la(t)})}toString(){return`${this.year.toString().padStart(4,"0")}-${this.month.toString().padStart(2,"0")}-${this.day.toString().padStart(2,"0")}`}toFormat(t=null,r=!0){if(t===null||t==="")return this.toString();if(r&&(t=m9(t)),!t)return"";const n=this.toDateTime("unknown");return Ol.dateTimeToArcadeDate(n).toFormat(t,{locale:Is(),numberingSystem:"latn"})}toArcadeDate(){const t=this.toDateTime("unknown");return Ol.dateTimeToArcadeDate(t)}toNumber(){return this.toDateTime("unknown").toMillis()}toJSDate(){return this.toDateTime("unknown").toJSDate()}toStorageFormat(){return this.toFormat("yyyy-LL-dd",!1)}toSQLValue(){return this.toFormat("yyyy-LL-dd",!1)}toSQLWithKeyword(){return"date '"+this.toFormat("yyyy-LL-dd",!1)+"'"}plus(t,r){return Ri.fromDateTime(this.toUTCDateTime().plus({[t]:r}))}toUTCDateTime(){return he.utc(this.year,this.month,this.day,0,0,0,0)}difference(t,r){switch(r.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(t.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(t.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return r==="M"?this.toUTCDateTime().diff(t.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(t.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(t.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(t.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(t.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(t.toUTCDateTime(),"years").years}}static fromMilliseconds(t){const r=he.fromMillis(t,{zone:Or.utcInstance});return r.isValid?Ri.fromParts(r.year,r.month,r.day):null}static fromSeconds(t){const r=he.fromSeconds(t,{zone:Or.utcInstance});return r.isValid?Ri.fromParts(r.year,r.month,r.day):null}static fromReader(t){if(!t)return null;const r=t.split("-");return r.length!==3?null:new Ri(parseInt(r[0],10),parseInt(r[1],10),parseInt(r[2],10))}static fromParts(t,r,n){const i=new Ri(t,r,n);return i.isValid===!1?null:i}static fromDateJS(t){return Ri.fromParts(t.getFullYear(),t.getMonth()+1,t.getDay())}static fromDateTime(t){return Ri.fromParts(t.year,t.month,t.day)}static fromSqlTimeStampOffset(t){return this.fromDateTime(t.toDateTime())}static fromString(t,r=null){if(t===""||t===null)return null;const n=[];if(r)(r=m9(r))&&n.push(r);else if(r===null||r===""){const i=he.fromISO(t,{setZone:!0});return i.isValid?Ri.fromParts(i.year,i.month,i.day):null}for(const i of n){const s=he.fromFormat(t,r??i);if(s.isValid)return new Ri(s.year,s.month,s.day)}return null}static fromNow(t="system"){const r=he.fromJSDate(new Date).setZone(la(t));return new Ri(r.year,r.month,r.day)}};function Ant(e){if(e==null)return null;switch(e.type){case"polygon":case"multipoint":case"polyline":return e.extent;case"point":return new ze({xmin:e.x,ymin:e.y,xmax:e.x,ymax:e.y,spatialReference:e.spatialReference});case"extent":return e}return null}function Int(e){if(e==null)return null;const t=e.clone();return e.cache._geVersion!==void 0&&(t.cache._geVersion=e.cache._geVersion),t}function Iw(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}function v9(e){if(!e)return"";const t=/(a|A|hh?|HH?|mm?|ss?|SSS|S|.)/g;let r="";for(const n of e.match(t)||[])switch(n){case"SSS":case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":r+=n;break;case"A":case"a":r+="a";break;default:r+=`'${n}'`}return r}const b9="esri.core.sql.timeonly";let $Ee=class ea{constructor(t,r,n,i){this._hour=t,this._minute=r,this._second=n,this._millisecond=i,this.declaredRootClass=b9}static isTimeOnly(t){return typeof t=="object"&&t!=null&&"declaredRootClass"in t&&t.declaredRootClass===b9}get hour(){return this._hour}get minute(){return this._minute}get second(){return this._second}get millisecond(){return this._millisecond}equals(t){return ea.isTimeOnly(t)&&t.hour===this.hour&&t.minute===this.minute&&t.second===this.second&&t.millisecond===this.millisecond}clone(){return new ea(this.hour,this.minute,this.second,this.millisecond)}isValid(){return Iw(this.hour)&&Iw(this.minute)&&Iw(this.second)&&Iw(this.millisecond)&&this.hour>=0&&this.hour<24&&this.minute>=0&&this.minute<60&&this.second>=0&&this.second<60&&this.millisecond>=0&&this.millisecond<1e3}toString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`+(this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):"")}toSQLValue(){return this.toString()}toSQLWithKeyword(){return`time '${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}${this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):""}'`}toStorageString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`}toFormat(t=null){return t===null||t===""?this.toString():(t=v9(t))?he.local(1970,1,1,this._hour,this._minute,this._second,this._millisecond).toFormat(t,{locale:Is(),numberingSystem:"latn"}):""}toNumber(){return this.millisecond+1e3*this.second+1e3*this.minute*60+60*this.hour*60*1e3}static fromParts(t,r,n,i){const s=new ea(t,r,n,i);return s.isValid()?s:null}static fromReader(t){if(!t)return null;const r=t.split(":");return r.length!==3?null:new ea(parseInt(r[0],10),parseInt(r[1],10),parseInt(r[2],10),0)}static fromMilliseconds(t){if(t>864e5||t<0)return null;const r=Math.floor(t/1e3%60),n=Math.floor(t/6e4%60),i=Math.floor(t/36e5%24),s=Math.floor(t%1e3);return new ea(i,n,r,s)}static fromDateJS(t){return new ea(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}static fromDateTime(t){return new ea(t.hour,t.minute,t.second,t.millisecond)}static fromSqlTimeStampOffset(t){return this.fromDateTime(t.toDateTime())}static fromString(t,r=null){if(t===""||t===null)return null;const n=[];r?(r=v9(r))&&n.push(r):r!==null&&r!==""||(n.push("HH:mm:ss"),n.push("HH:mm:ss.SSS"),n.push("hh:mm:ss a"),n.push("hh:mm:ss.SSS a"),n.push("HH:mm"),n.push("hh:mm a"),n.push("H:mm"),n.push("h:mm a"),n.push("H:mm:ss"),n.push("h:mm:ss a"),n.push("H:mm:ss.SSS"),n.push("h:mm:ss.SSS a"));for(const i of n){const s=he.fromFormat(t,i);if(s.isValid)return new ea(s.hour,s.minute,s.second,s.millisecond)}return null}plus(t,r){switch(t){case"days":case"years":case"months":return this.clone();case"hours":case"minutes":case"seconds":case"milliseconds":return ea.fromDateTime(this.toUTCDateTime().plus({[t]:r}))}return null}toUTCDateTime(){return he.utc(1970,1,1,this.hour,this.minute,this.second,this.millisecond)}difference(t,r){switch(r.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(t.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(t.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return r==="M"?this.toUTCDateTime().diff(t.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(t.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(t.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(t.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(t.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(t.toUTCDateTime(),"years").years}}};const TEe=["geometry","scale","timeProperties"];function Pnt(e,t){if(t!=null)for(const r of TEe)t.hasArcadeDependency(r)&&e.add(r);return e}function knt(e,t){return bee.create(e,t,null,["$feature","$view"])}function OEe(e,t,r){return bee.create(e,t,r,["$feature","$view","$config"])}let bee=class wee{static async create(t,r,n,i){const{arcade:s,Dictionary:o}=await Op();let a;try{a=s.parseScript(t)}catch(m){throw new K("arcade-bad-expression","Failed to parse arcade script",{script:t,error:m})}const l=s.scriptUsesGeometryEngine(a);l&&await s.enableGeometrySupport(),await s.loadDependentModules(new Set,a,null,!1,l);const c={vars:i.reduce((m,g)=>({...m,[g]:null}),{}),spatialReference:r,useAsync:!1},d=s.compileScript(a,c);let p=null;n!=null&&(p=new o(n),p.immutable=!0);const y=new o;return y.immutable=!1,y.setField("scale",0),new wee(t,s,a,d,r,y,p,o)}constructor(t,r,n,i,s,o,a,l){this.script=t,this._arcade=r,this._syntaxTree=n,this._compiled=i,this._spatialReference=s,this._viewDict=o,this._configDict=a,this._dictionaryCtor=l,this._dependencies=new Map,this._featureReader=new xee,this._dependencies.set("geometry",r.scriptTouchesGeometry(this._syntaxTree)),this._dependencies.set("scale",this._arcade.referencesMember(this._syntaxTree,"scale")),this._dependencies.set("timeProperties",this._arcade.scriptUsesViewProperties(this._syntaxTree,["timeProperties"]))}evaluate(t,r){const n=r.$view?.timeZone;if(r.$view){let i;if(this._viewDict.setField("scale",r.$view.scale),r.$view.timeProperties!=null){const{currentStart:s,currentEnd:o}=r.$view.timeProperties;i=new this._dictionaryCtor({currentStart:s!=null?n!=null?Ol.epochToArcadeDate(s,n):Ol.unknownEpochToArcadeDate(s):void 0,currentEnd:o!=null?n!=null?Ol.epochToArcadeDate(o,n):Ol.unknownEpochToArcadeDate(o):void 0,startIncluded:!0,endIncluded:!0})}this._viewDict.setField("timeProperties",i)}return this._compiled({vars:{$view:this._viewDict,$config:this._configDict,$feature:t},spatialReference:this._spatialReference,timeZone:n})}repurposeFeature(t,r){return this._featureReader.bind(t,r,this._spatialReference),this._featureReader}references(t){return this._dependencies.get(t)??!1}},xee=class{constructor(){this._boundTarget=null,this._boundSchema={fields:null,fieldsIndex:null,spatialReference:null,get geometryType(){return null},get objectIdField(){return null}},this.arcadeDeclaredClass="esri.arcade.Feature",this._contextTimeZone=null}bind(t,r,n){const i=r??new W_(See(t.attributes));this._boundTarget=t,this._boundSchema.fields=i.fields,this._boundSchema.fieldsIndex=i,this._boundSchema.spatialReference=n}_getField(t){return this._boundSchema.fieldsIndex.get(t)}get contextTimeZone(){return this._contextTimeZone}set contextTimeZone(t){this._contextTimeZone=t}readArcadeFeature(){return this}hasField(t){return this._boundSchema.fieldsIndex.has(t)}geometry(){if("fromJSON"in this._boundTarget)return this._boundTarget.geometry;const t=zl(this._boundTarget.geometry);if(t){if(!this._boundSchema.spatialReference)throw new Error("InternalError: Expected spatial reference to be defined");t.spatialReference=this._boundSchema.spatialReference}return t}isUnknownDateTimeField(t){return this._boundSchema.fieldsIndex.getTimeZone(t)===xc}field(t,r=!0){const n=this._getField(t);if(n){const i=this._boundTarget.attributes[n.name];if(i==null)return null;switch(n.type){case"date-only":case"esriFieldTypeDateOnly":return _Ee.fromReader(i);case"time-only":case"esriFieldTypeTimeOnly":return $Ee.fromReader(i);case"esriFieldTypeTimestampOffset":case"timestamp-offset":return Ol.fromReaderAsTimeStampOffset(i);case"date":case"esriFieldTypeDate":return this.isUnknownDateTimeField(t)?Ol.unknownEpochToArcadeDate(i):Ol.epochToArcadeDate(i,this.contextTimeZone??Lo);default:return i}}if(r)throw new Error(`Field ${t} does not exist`);return null}setField(t,r){throw new Error("Unable to update feature attribute values, feature is readonly")}keys(){return this._boundSchema.fieldsIndex.fields.map(t=>t.name)}castToText(t=!1){return JSON.stringify(this._boundTarget)}gdbVersion(){return null}fullSchema(){return this._boundSchema}castAsJson(t=null){return{attributes:this._boundTarget.attributes,geometry:t?.keepGeometryType===!0?this.geometry():this.geometry()?.toJSON()??null}}castAsJsonAsync(t=null,r=null){return Promise.resolve(this.castAsJson(r))}};function See(e){const t=[];for(const r in e)t.push({name:r,alias:r,type:typeof e[r]=="string"?"esriFieldTypeString":"esriFieldTypeDouble"});return t}let EEe=class _ee{static async from(t,r,n){const i=t.dictionary_version?mQ.parse(t.dictionary_version):null,s=new Set(t.itemsNames),o={};if(r)for(const p in r)o[p]=r[p];if(t.authoringInfo.configuration)for(const p of t.authoringInfo.configuration)o.hasOwnProperty(p.name)||(o[p.name]=p.value);const a=new Set(t.authoringInfo.symbol);for(const p of Object.keys(n))a.delete(p);a.size&&ce.getLogger("esri.renderers.support.DictionaryScriptEvaluator").warnOnce("missing-fields: fieldMap entries for the following symbol fields are missing",{symbolFields:a});const l=await OEe(t.expression,null,o);if(!l)throw new K("dictionary-renderer:expression-error","Unable to create dictionary renderer expression");const c=!i||!i.greaterEqual(4,0);c&&ce.getLogger("esri.renderers.support.DictionaryScriptEvaluator").warnOnce("Dictionary script does not support native field types. Applying fallback",{version:i});const d=new jEe(n,c);return new _ee(c,s,l,d)}constructor(t,r,n,i){this._requiresFieldCoercionToString=t,this._itemNames=r,this._compiled=n,this._reader=i}get itemNames(){return this._itemNames}evaluate(t,r,n,i){try{return this._reader.bind(t,n,i),this._compiled.evaluate(this._reader,{$view:{scale:r}})}catch(s){ce.getLogger("esri.renderers.support.DictionaryScriptEvaluator").warnOnce("arcade: dictionary script evaluation failed",{error:s})}return null}createDictionaryFieldsIndex(t){if(!this._requiresFieldCoercionToString)return new W_(t);const r=t.map(n=>({...n,type:"esriFieldTypeString"}));return new W_(r)}},jEe=class extends xee{constructor(t,r){super(),this._fieldMap=t,this._requiresFieldCoercionToString=r}_getField(t){const r=this._fieldMap[t]??t;return this._boundSchema.fieldsIndex.get(r)}field(t){if(!this._requiresFieldCoercionToString)return super.field(t,!1);const r=this._getField(t);return r==null||this._boundTarget.attributes[r.name]==null?"":""+this._boundTarget.attributes[r.name]}};var w9,x9,S9,_9,$9,T9,O9,E9,j9,A9,UC,zC,I9,P9,k9,C9,N9,M9,R9,L9,D9,F9,U9,z9,B9,V9,q9,G9,W9,H9,J9,K9,Z9,Y9,Q9,X9,eU,tU,rU,nU,iU,sU,oU,aU,lU,uU,cU,dU,pU,fU,hU,yU,mU,gU,vU,K_,bU,wU,xU,SU,_U,$U,TU;(function(e){e[e.BUTT=0]="BUTT",e[e.ROUND=1]="ROUND",e[e.SQUARE=2]="SQUARE",e[e.UNKNOWN=4]="UNKNOWN"})(w9||(w9={})),function(e){e[e.BEVEL=0]="BEVEL",e[e.ROUND=1]="ROUND",e[e.MITER=2]="MITER",e[e.UNKNOWN=4]="UNKNOWN"}(x9||(x9={})),function(e){e[e.SCREEN=0]="SCREEN",e[e.MAP=1]="MAP"}(S9||(S9={})),function(e){e[e.Tint=0]="Tint",e[e.Ignore=1]="Ignore",e[e.Multiply=99]="Multiply"}(_9||(_9={})),function(e){e.Both="Both",e.JustBegin="JustBegin",e.JustEnd="JustEnd",e.None="None"}($9||($9={})),function(e){e[e.Mosaic=0]="Mosaic",e[e.Centered=1]="Centered"}(T9||(T9={})),function(e){e[e.Normal=0]="Normal",e[e.Superscript=1]="Superscript",e[e.Subscript=2]="Subscript"}(O9||(O9={})),function(e){e[e.MSSymbol=0]="MSSymbol",e[e.Unicode=1]="Unicode"}(E9||(E9={})),function(e){e[e.Unspecified=0]="Unspecified",e[e.TrueType=1]="TrueType",e[e.PSOpenType=2]="PSOpenType",e[e.TTOpenType=3]="TTOpenType",e[e.Type1=4]="Type1"}(j9||(j9={})),function(e){e[e.Display=0]="Display",e[e.Map=1]="Map"}(A9||(A9={})),function(e){e.None="None",e.Loop="Loop",e.Oscillate="Oscillate"}(UC||(UC={})),function(e){e.Linear="Linear",e.EaseIn="EaseIn",e.EaseOut="EaseOut",e.EaseInOut="EaseInOut"}(zC||(zC={})),function(e){e[e.Z=0]="Z",e[e.X=1]="X",e[e.Y=2]="Y"}(I9||(I9={})),function(e){e[e.XYZ=0]="XYZ",e[e.ZXY=1]="ZXY",e[e.YXZ=2]="YXZ"}(P9||(P9={})),function(e){e[e.Rectangle=0]="Rectangle",e[e.RoundedRectangle=1]="RoundedRectangle",e[e.Oval=2]="Oval"}(k9||(k9={})),function(e){e[e.None=0]="None",e[e.Alpha=1]="Alpha",e[e.Screen=2]="Screen",e[e.Multiply=3]="Multiply",e[e.Add=4]="Add"}(C9||(C9={})),function(e){e[e.TTB=0]="TTB",e[e.RTL=1]="RTL",e[e.BTT=2]="BTT"}(N9||(N9={})),function(e){e[e.None=0]="None",e[e.SignPost=1]="SignPost",e[e.FaceNearPlane=2]="FaceNearPlane"}(M9||(M9={})),function(e){e[e.Float=0]="Float",e[e.String=1]="String",e[e.Boolean=2]="Boolean"}(R9||(R9={})),function(e){e[e.Intersect=0]="Intersect",e[e.Subtract=1]="Subtract"}(L9||(L9={})),function(e){e.OpenEnded="OpenEnded",e.Block="Block",e.Crossed="Crossed"}(D9||(D9={})),function(e){e.FullGeometry="FullGeometry",e.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment",e.ReversedFirstSegment="ReversedFirstSegment",e.PerpendicularToSecondSegment="PerpendicularToSecondSegment",e.SecondSegmentWithTicks="SecondSegmentWithTicks",e.DoublePerpendicular="DoublePerpendicular",e.OppositeToFirstSegment="OppositeToFirstSegment",e.TriplePerpendicular="TriplePerpendicular",e.HalfCircleFirstSegment="HalfCircleFirstSegment",e.HalfCircleSecondSegment="HalfCircleSecondSegment",e.HalfCircleExtended="HalfCircleExtended",e.OpenCircle="OpenCircle",e.CoverageEdgesWithTicks="CoverageEdgesWithTicks",e.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks",e.GapExtentMidline="GapExtentMidline",e.Chevron="Chevron",e.PerpendicularWithArc="PerpendicularWithArc",e.ClosedHalfCircle="ClosedHalfCircle",e.TripleParallelExtended="TripleParallelExtended",e.ParallelWithTicks="ParallelWithTicks",e.Parallel="Parallel",e.PerpendicularToFirstSegment="PerpendicularToFirstSegment",e.ParallelOffset="ParallelOffset",e.OffsetOpposite="OffsetOpposite",e.OffsetSame="OffsetSame",e.CircleWithArc="CircleWithArc",e.DoubleJog="DoubleJog",e.PerpendicularOffset="PerpendicularOffset",e.LineExcludingLastSegment="LineExcludingLastSegment",e.MultivertexArrow="MultivertexArrow",e.CrossedArrow="CrossedArrow",e.ChevronArrow="ChevronArrow",e.ChevronArrowOffset="ChevronArrowOffset",e.PartialFirstSegment="PartialFirstSegment",e.Arch="Arch",e.CurvedParallelTicks="CurvedParallelTicks",e.Arc90Degrees="Arc90Degrees",e.TipWithPerpendicularAndTicks="TipWithPerpendicularAndTicks",e.ConcentricCircles="ConcentricCircles",e.DoubleJogArrow="DoubleJogArrow",e.LinkedChevrons="LinkedChevrons",e.SegmentThenHalfCircle="SegmentThenHalfCircle",e.LineWithStraightTicks="LineWithStraightTicks",e.DoubleCurve="DoubleCurve",e.ParallelWithTicksByWidth="ParallelWithTicksByWidth",e.EnclosingRoundedRectangle="EnclosingRoundedRectangle"}(F9||(F9={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square",e.TrueBuffer="TrueBuffer"}(U9||(U9={})),function(e){e.ClosePath="ClosePath",e.ConvexHull="ConvexHull",e.RectangularBox="RectangularBox"}(z9||(z9={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(B9||(B9={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square"}(V9||(V9={})),function(e){e.Fast="Fast",e.Accurate="Accurate"}(q9||(q9={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(G9||(G9={})),function(e){e.Sinus="Sinus",e.Square="Square",e.Triangle="Triangle",e.Random="Random"}(W9||(W9={})),function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.Force=2]="Force"}(H9||(H9={})),function(e){e[e.Buffered=0]="Buffered",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.AlongLine=3]="AlongLine"}(J9||(J9={})),function(e){e[e.Linear=0]="Linear",e[e.Rectangular=1]="Rectangular",e[e.Circular=2]="Circular",e[e.Buffered=3]="Buffered"}(K9||(K9={})),function(e){e[e.Discrete=0]="Discrete",e[e.Continuous=1]="Continuous"}(Z9||(Z9={})),function(e){e[e.AcrossLine=0]="AcrossLine",e[e.AlongLine=1]="AlongLine"}(Y9||(Y9={})),function(e){e[e.Auto=0]="Auto",e[e.Clockwise=1]="Clockwise",e[e.Counterclockwise=2]="Counterclockwise"}(Q9||(Q9={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Center=2]="Center",e[e.Justify=3]="Justify"}(X9||(X9={})),function(e){e[e.Base=0]="Base",e[e.MidPoint=1]="MidPoint",e[e.ThreePoint=2]="ThreePoint",e[e.FourPoint=3]="FourPoint",e[e.Underline=4]="Underline",e[e.CircularCW=5]="CircularCW",e[e.CircularCCW=6]="CircularCCW"}(eU||(eU={})),function(e){e.Butt="Butt",e.Round="Round",e.Square="Square"}(tU||(tU={})),function(e){e.NoConstraint="NoConstraint",e.HalfPattern="HalfPattern",e.HalfGap="HalfGap",e.FullPattern="FullPattern",e.FullGap="FullGap",e.Custom="Custom"}(rU||(rU={})),function(e){e[e.None=-1]="None",e[e.Custom=0]="Custom",e[e.Circle=1]="Circle",e[e.OpenArrow=2]="OpenArrow",e[e.ClosedArrow=3]="ClosedArrow",e[e.Diamond=4]="Diamond"}(nU||(nU={})),function(e){e[e.ExtraLeading=0]="ExtraLeading",e[e.Multiple=1]="Multiple",e[e.Exact=2]="Exact"}(iU||(iU={})),function(e){e.Bevel="Bevel",e.Round="Round",e.Miter="Miter"}(sU||(sU={})),function(e){e[e.Default=0]="Default",e[e.String=1]="String",e[e.Numeric=2]="Numeric"}(oU||(oU={})),function(e){e[e.InsidePolygon=0]="InsidePolygon",e[e.PolygonCenter=1]="PolygonCenter",e[e.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"}(aU||(aU={})),function(e){e[e.Tint=0]="Tint",e[e.Replace=1]="Replace",e[e.Multiply=2]="Multiply"}(lU||(lU={})),function(e){e[e.ClipAtBoundary=0]="ClipAtBoundary",e[e.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary",e[e.DoNotTouchBoundary=2]="DoNotTouchBoundary",e[e.DoNotClip=3]="DoNotClip"}(uU||(uU={})),function(e){e.NoConstraint="NoConstraint",e.WithMarkers="WithMarkers",e.WithFullGap="WithFullGap",e.WithHalfGap="WithHalfGap",e.Custom="Custom"}(cU||(cU={})),function(e){e.Fixed="Fixed",e.Random="Random",e.RandomFixedQuantity="RandomFixedQuantity"}(dU||(dU={})),function(e){e.LineMiddle="LineMiddle",e.LineBeginning="LineBeginning",e.LineEnd="LineEnd",e.SegmentMidpoint="SegmentMidpoint"}(pU||(pU={})),function(e){e.OnPolygon="OnPolygon",e.CenterOfMass="CenterOfMass",e.BoundingBoxCenter="BoundingBoxCenter"}(fU||(fU={})),function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High"}(hU||(hU={})),function(e){e[e.MarkerCenter=0]="MarkerCenter",e[e.MarkerBounds=1]="MarkerBounds"}(yU||(yU={})),function(e){e[e.None=0]="None",e[e.PropUniform=1]="PropUniform",e[e.PropNonuniform=2]="PropNonuniform",e[e.DifUniform=3]="DifUniform",e[e.DifNonuniform=4]="DifNonuniform"}(mU||(mU={})),function(e){e.Tube="Tube",e.Strip="Strip",e.Wall="Wall"}(gU||(gU={})),function(e){e[e.Random=0]="Random",e[e.Increasing=1]="Increasing",e[e.Decreasing=2]="Decreasing",e[e.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"}(vU||(vU={})),function(e){e[e.Relative=0]="Relative",e[e.Absolute=1]="Absolute"}(K_||(K_={})),function(e){e[e.Normal=0]="Normal",e[e.LowerCase=1]="LowerCase",e[e.Allcaps=2]="Allcaps"}(bU||(bU={})),function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(wU||(wU={})),function(e){e.Draft="Draft",e.Picture="Picture",e.Text="Text"}(xU||(xU={})),function(e){e[e.Top=0]="Top",e[e.Center=1]="Center",e[e.Baseline=2]="Baseline",e[e.Bottom=3]="Bottom"}(SU||(SU={})),function(e){e[e.Right=0]="Right",e[e.Upright=1]="Upright"}(_U||(_U={})),function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"}($U||($U={})),function(e){e[e.Calm=0]="Calm",e[e.Rippled=1]="Rippled",e[e.Slight=2]="Slight",e[e.Moderate=3]="Moderate"}(TU||(TU={}));const Mnt={CIMVectorMarker:{scalesymbolsproportionally:!1,respectframe:!0,anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMPictureMarker:{scalex:1,texturefilter:"Draft",anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMTextSymbol:{angle:0,anglex:0,angley:0,halosize:1,height:10,horizontalalignment:"Left",kerning:!0,letterspacing:0,letterwidth:100,ligatures:!0,linegap:0,offsetx:0,offsety:0,strikethrough:!1,textcase:"Normal",textstring:"",underline:!1,verticalalignment:"Bottom",enable:!0,colorlocked:!1},CIMSolidStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMPictureStroke:{texturefilter:"Draft",capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMGradientStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1,gradientMethod:"AcrossLine",gradientSize:75,gradientSizeUnits:K_.Relative,gradientType:"Discrete",interval:5},CIMSolidFill:{enable:!0,colorlocked:!1},CIMPictureFill:{offsetx:0,offsety:0,rotation:0,scalex:1,height:10,texturefilter:"Draft",enable:!0,colorlocked:!1},CIMHatchFill:{offsetx:0,offsety:0,rotation:0,separation:4,enable:!0,colorlocked:!1},CIMGradientFill:{enable:!0,angle:90,gradientMethod:"Linear",gradientSize:75,gradientSizeUnits:K_.Relative,gradientType:"Discrete",interval:5},CIMGeometricEffectAddControlPoints:{angletolerance:120},CIMGeometricEffectArrow:{arrowtype:"OpenEnded",width:5},CIMGeometricEffectBuffer:{size:1},CIMGeometricEffectCut:{begincut:1,endcut:1,middlecut:0,invert:!1},CIMGeometricEffectDashes:{customendingoffset:0,linedashending:"NoConstraint",offsetalongline:0},CIMGeometricEffectDonut:{method:"Mitered",option:"Accurate",width:2},CIMGeometricEffectJog:{angle:225,length:20,position:50},CIMGeometricEffectControlMeasureLine:{rule:"FullGeometry"},CIMGeometricEffectMove:{offsetx:1,offsety:-1},CIMGeometricEffectOffset:{method:"Square",offset:1,option:"Fast"},CIMGeometricEffectRadial:{angle:0,length:5},CIMGeometricEffectRotate:{angle:15},CIMGeometricEffectScale:{xscalefactor:1.15,yscalefactor:1.15},CIMGeometricEffectWave:{amplitude:2,period:3,seed:1,waveform:"Sinus"},CIMMarkerPlacementAlongLine:{customendingoffset:0,endings:"WithHalfGap",offsetalongline:0,placeperpart:!0,angletoline:!0,offset:0},CIMMarkerPlacementAtExtremities:{extremityplacement:"Both",offsetalongline:0,angletoline:!0,offset:0},CIMMarkerPlacementAtRatioPositions:{beginposition:0,endposition:0,flipfirst:!0,angletoline:!0,offset:0},CIMMarkerPlacementInsidePolygon:{gridangle:0,gridtype:"Fixed",offsetx:0,offsety:0,randomness:100,seed:0,shiftoddrows:!1,stepx:16,stepy:16,clipping:"ClipAtBoundary"},CIMMarkerPlacementOnLine:{relativeto:"LineMiddle",startpointoffset:0,angletoline:!0,offset:0},CIMMarkerPlacementOnVertices:{placeperpart:!0,placeoncontrolpoints:!0,placeonendpoints:!0,placeonregularvertices:!0,angletoline:!0,offset:0},CIMMarkerPlacementPolygonCenter:{method:"OnPolygon",offsetx:0,offsety:0,clipatboundary:!1},CIMAnimatedSymbolProperties:{playanimation:!1,reverseanimation:!1,randomizestarttime:!1,randomizestartseed:0,starttimeoffset:0,duration:3,endingduration:3,useendingduration:!1,repeattype:UC.Loop,repeatdelay:0,easing:zC.Linear},CIMSymbolAnimationSize:{tosize:10},CIMSymbolAnimationScale:{scalefactor:1},CIMSymbolAnimationColor:{tocolor:[255,255,255,1]},CIMSymbolAnimationTransparency:{totransparency:0},CIMSymbolAnimationRotation:{torotation:0,rotateclockwise:!1},CIMSymbolAnimationOffset:{offsetx:0,offsety:0},CIMSymbolAnimationMoveAlongLine:{speed:30,distanceAlong:100}},AEe=` /-,
`;function OU(e){let t=e.length;for(;t--;)if(!AEe.includes(e.charAt(t)))return!1;return!0}function Rnt(e,t){const r=[];let n=0,i=-1;do if(i=e.indexOf("[",n),i>=n){if(i>n){const s=e.slice(n,i);r.push([s,null,OU(s)])}if(n=i+1,i=e.indexOf("]",n),i>=n){if(i>n){const s=t[e.slice(n,i)];s&&r.push([null,s,!1])}n=i+1}}while(i!==-1);if(n<e.length){const s=e.slice(n);r.push([s,null,OU(s)])}return r}function Lnt(e,t,r){let n="",i=null;for(const s of t){const[o,a,l]=s;if(o!=null&&o!=="")l?i=o:(i!=null&&(n+=i,i=null),n+=o);else{const c=e.readAttribute(a);c!=null&&c!==""&&(i!==null&&(n+=i,i=null),n+=c)}}return $ee(n,r)}function Dnt(e,t,r,n){let i="",s=null;for(const o of t){const[a,l,c]=o;if(a!=null&&a!=="")c?s=a:(s!=null&&(i+=s,s=null),i+=a);else{let d=l;r!=null&&(d=kEe(l,r));const p=e.attributes[d];p!=null&&p!==""&&(s!=null&&(i+=s,s=null),i+=p)}}return $ee(i,n)}function $ee(e,t){switch(typeof e!="string"&&(e=String(e)),t){case"LowerCase":return e.toLowerCase();case"Allcaps":return e.toUpperCase();default:return e}}function Fnt(e){return e?[e[0],e[1],e[2],e[3]/255]:[0,0,0,0]}function Unt(e){return e.data?.symbol??null}function znt(e){return e.type==="CIMVectorMarker"||e.type==="CIMPictureMarker"||e.type==="CIMBarChartMarker"||e.type==="CIMCharacterMarker"||e.type==="CIMPieChartMarker"||e.type==="CIMStackedBarChartMarker"}function Bnt(e){return e.type==="CIMGradientStroke"||e.type==="CIMPictureStroke"||e.type==="CIMSolidStroke"}function Vnt(e){return e!=null&&(e.type==="CIMGradientFill"||e.type==="CIMHatchFill"||e.type==="CIMPictureFill"||e.type==="CIMSolidFill"||e.type==="CIMWaterFill")}function qnt(e){return e!=null&&(e.type==="CIMMarkerPlacementAlongLineRandomSize"||e.type==="CIMMarkerPlacementAlongLineSameSize"||e.type==="CIMMarkerPlacementAlongLineVariableSize"||e.type==="CIMMarkerPlacementAtExtremities"||e.type==="CIMMarkerPlacementAtMeasuredUnits"||e.type==="CIMMarkerPlacementAtRatioPositions"||e.type==="CIMMarkerPlacementOnLine"||e.type==="CIMMarkerPlacementOnVertices")}const Gnt=(e,t=0)=>e==null||isNaN(e)?t:e;function Wnt(e){return(e?Object.keys(e):[]).map(t=>({name:t,alias:t,type:typeof e[t]=="string"?"esriFieldTypeString":"esriFieldTypeDouble"}))}function Tee(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function Hnt(e,t,r,n,i,s,o=!0){const{infos:a}=s;let l=1,c=0,d=0,p=0,y=1;for(const{absoluteAnchorPoint:b,offsetX:w,offsetY:S,rotation:_,size:x,frameHeight:O,rotateClockWise:$,scaleSymbolsProportionally:T}of a)y=b?1:l,d=jU(w,S,c,y,d),p=EU(w,S,c,y,p),O&&(T||o)&&(l*=x/O),c=AU(_,$,c);const m=jU(n,i,c,y,d),g=EU(n,i,c,y,p);return{size:e*l,rotation:AU(t,r,c),offsetX:m,offsetY:g}}function IEe(e){return e.split(" ").map(t=>Number(t))}function PEe(e){return typeof e=="string"?IEe(e):e}function Jnt(e){return e?.dashTemplate&&(e.dashTemplate=PEe(e.dashTemplate)),e}function BC(e){if(e==null)return"Normal";switch(e.type){case"CIMTextSymbol":return e.textCase??"Normal";case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const t=e.symbolLayers;if(!t)return"Normal";for(const r of t)if(r.type==="CIMVectorMarker")return BC(r)}break;case"CIMVectorMarker":{const t=e.markerGraphics;if(!t)return"Normal";for(const r of t)if(r.symbol)return BC(r.symbol)}}return"Normal"}function kEe(e,t){if(t!==null){const r=t.get(e);return r?r.name:e}return e}function Knt(e){return e.map(t=>({...t,propertyName:Tee(t.propertyName)}))}function Znt(e){const t={};for(const r in e){const n=e[r];t[Tee(r)]=n}return t}function EU(e,t,r,n,i){const s=r*Math.PI/180;if(s){const o=Math.cos(s);return(Math.sin(s)*e+o*t)*n+i}return t*n+i}function jU(e,t,r,n,i){const s=r*Math.PI/180;return s?(Math.cos(s)*e-Math.sin(s)*t)*n+i:e*n+i}function AU(e,t,r){return t?r-e:r+e}const CEe={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};let Oee=class{constructor(t,r,n,i){this.url=t,this.fieldMap=n,this.dictionaryInfo=i,this._symbolPartCache=new uEe(100);const s=async()=>EEe.from(await i,r,n);this._evaluator=s()}async getSymbolAsync(t,r,n=!0){const i=await this._evaluator,s=r?.fields??See(t.attributes),o=i.createDictionaryFieldsIndex(s),a=i.evaluate(t,r?.scale??0,o,r?.spatialReference);if(a==null)return null;const l=tT(t.geometry),c=p9.parse(a,i.itemNames,l),d=l==="esriGeometryPoint"&&!t.geometry?.hasZ;return await this._cimPartsToCIMSymbol(t,c.partNames,c.overrides,d,r,n,o)}async getSymbolForControlString(t,r,n){const i=await this._evaluator,s=p9.parse(t,i.itemNames,r),o=r==="esriGeometryPoint"&&!n,a=IU(await Promise.all(s.partNames.map(l=>this._getSymbolPart(l))),s.overrides,o);return new Nn({data:a})}async _cimPartsToCIMSymbol(t,r,n,i,s,o,a){const l=r.map(p=>this._getSymbolPart(p,s));let c=await Promise.all(l);if(o&&this.fieldMap&&c.length>0){const{OverrideHelper:p}=await ae(()=>import("./OverrideHelper-2dd01301.js"),["assets/OverrideHelper-2dd01301.js","assets/colorUtils-dbab2962.js","assets/quantizationUtils-b1a838dd.js"]);c=D(c);for(const y of c)p.applyDictionaryTextOverrides(y,t,this.fieldMap,a,BC(y))}const d=IU(c,n,i);return new Nn({data:d})}async _fetchSymbolPart(t,r){const n=await this.dictionaryInfo,i=(this.url+"/"+n.cimRefTemplateUrl).replaceAll(/\{itemName\}/gi,t),{data:s}=await nt(i,{responseType:"json",query:{f:"json"},...r});return s}async _getSymbolPart(t,r){let n=this._symbolPartCache.get(t);return n||(n=this._fetchSymbolPart(t,r),this._symbolPartCache.put(t,n)),n}};function IU(e,t,r){if(!e||e.length===0)return null;const n={...e[0]};if(e.length>1){n.effects=null,n.symbolLayers=[];for(const i of e){const s=i;if(s.effects!=null)for(const o of s.symbolLayers)o.effects==null?o.effects=s.effects:o.effects.unshift(...s.effects);n.symbolLayers.unshift(...s.symbolLayers)}}return r&&(n.callout=CEe),{type:"CIMSymbolReference",symbol:n,primitiveOverrides:t}}var VC;let no=VC=class extends ym(Hi){constructor(e){super(e),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){const e=this.getDictionaryInfo();return new Oee(this.url,this.config,this.fieldMap??{},e)}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,r,n){n?.origin||super.writeVisualVariables(e,t,r,n)}clone(){return new VC({config:D(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:D(this.fieldMap),url:D(this.url),visualVariables:D(this.visualVariables)})}async getSymbolAsync(e,t,r=!0){return this._loader.getSymbolAsync(e,t,r)}async getSymbolForControlString(e,t,r){return this._loader.getSymbolForControlString(e,t,r)}getDictionaryInfo(){return this._dictionaryInfoPromise||(this._dictionaryInfoPromise=this._fetchDictionaryInfo()),this._dictionaryInfoPromise}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t),this.scaleExpression&&await Fo(e,t,this.scaleExpression);for(const r in this.fieldMap){const n=this.fieldMap[r];t.has(n)&&e.add(n)}}get arcadeRequired(){return!0}getSymbol(){return null}get symbols(){return[]}getAttributeHash(){return this.visualVariables?.reduce((e,t)=>e+t.getAttributeHash(),"")??""}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}async _fetchDictionaryInfo(){const{data:e}=await nt(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"}});return e}};u([f({type:Oee})],no.prototype,"_loader",null),u([f({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],no.prototype,"config",void 0),u([f({type:Object,json:{write:!0}})],no.prototype,"fieldMap",void 0),u([f({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],no.prototype,"scaleExpression",void 0),u([re("scaleExpression")],no.prototype,"writeData",null),u([f({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],no.prototype,"scaleExpressionTitle",void 0),u([f({type:String,json:{write:!0}})],no.prototype,"url",void 0),u([re("visualVariables")],no.prototype,"writeVisualVariables",null),no=VC=u([A("esri.renderers.DictionaryRenderer")],no);var qC;let Ya=qC=class extends z{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return e==null?e:typeof e=="function"?(ce.getLogger(this).error(".field: field must be a string value"),null):s1(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new qC({color:this.color?.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};u([f({type:Me,json:{type:[Number],write:!0}})],Ya.prototype,"color",void 0),u([f({type:String,json:{write:!0}})],Ya.prototype,"field",void 0),u([ht("field")],Ya.prototype,"castField",null),u([f({type:String,json:{write:!0}})],Ya.prototype,"label",void 0),u([f({type:String,json:{write:!0}})],Ya.prototype,"valueExpression",void 0),u([f({type:String,json:{write:!0}})],Ya.prototype,"valueExpressionTitle",void 0),Ya=qC=u([A("esri.renderers.support.AttributeColorInfo")],Ya);const Eee=Ya;var GC;let xS=GC=class extends z{constructor(){super(...arguments),this.unit=null}clone(){return new GC({unit:this.unit})}};u([f({type:String,json:{write:!0}})],xS.prototype,"unit",void 0),xS=GC=u([A("esri.renderers.support.DotDensityLegendOptions")],xS);const NEe=xS;var WC;let ui=WC=class extends ym(Hi){constructor(e){super(e),this.attributes=null,this.backgroundColor=new Me([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new yr,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(this.referenceScale==null)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new Vi({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes?.reduce((e,t)=>e+t.getAttributeHash(),"")??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new WC({attributes:D(this.attributes),backgroundColor:D(this.backgroundColor),dotBlendingEnabled:D(this.dotBlendingEnabled),dotShape:D(this.dotShape),dotSize:D(this.dotSize),dotValue:D(this.dotValue),legendOptions:D(this.legendOptions),outline:D(this.outline),referenceScale:D(this.referenceScale),seed:D(this.seed),visualVariables:D(this.visualVariables),authoringInfo:D(this.authoringInfo)})}getControllerHash(){return`${this.attributes?.map(t=>t.field||t.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const r of this.attributes??[])r.valueExpression&&await Fo(e,t,r.valueExpression),r.field&&e.add(r.field)}};u([f({type:[Eee],json:{write:!0}})],ui.prototype,"attributes",void 0),u([f({type:Me,json:{write:!0}})],ui.prototype,"backgroundColor",void 0),u([f({type:Boolean,json:{write:!0}})],ui.prototype,"dotBlendingEnabled",void 0),u([f({type:String,json:{write:!1}})],ui.prototype,"dotShape",void 0),u([f({type:Number,json:{write:!0}})],ui.prototype,"dotSize",void 0),u([f({type:NEe,json:{write:!0}})],ui.prototype,"legendOptions",void 0),u([f({type:yr,json:{default:null,write:!0}})],ui.prototype,"outline",void 0),u([f({type:Number,json:{write:!0}})],ui.prototype,"dotValue",void 0),u([f({type:Number,json:{write:!0}})],ui.prototype,"referenceScale",void 0),u([f({type:Number,json:{write:!0}})],ui.prototype,"seed",void 0),u([ye({dotDensity:"dot-density"})],ui.prototype,"type",void 0),ui=WC=u([A("esri.renderers.DotDensityRenderer")],ui);var HC;let Xu=HC=class extends z{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new HC({color:this.color&&this.color.clone(),ratio:this.ratio})}};u([f({type:Me,json:{type:[Be],default:null,write:{isRequired:!0}}})],Xu.prototype,"color",void 0),u([f({type:Number,json:{write:{isRequired:!0}}})],Xu.prototype,"ratio",void 0),Xu=HC=u([A("esri.renderers.support.HeatmapColorStop")],Xu);let qf=class extends Se.ClonableMixin(z){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};u([f({type:String,json:{write:!0}})],qf.prototype,"minLabel",void 0),u([f({type:String,json:{write:!0}})],qf.prototype,"maxLabel",void 0),u([f({type:String,json:{write:!0}})],qf.prototype,"title",void 0),qf=u([A("esri.renderers.support.HeatmapLegendOptions")],qf);function MEe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function REe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function LEe(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function DEe(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function jee(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function Aee(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function Iee(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function FEe(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function UEe(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function zEe(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e}function BEe(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e}function VEe(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function qEe(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function GEe(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e}function Pee(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],s=t[3]-e[3];return Math.sqrt(r*r+n*n+i*i+s*s)}function kee(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],s=t[3]-e[3];return r*r+n*n+i*i+s*s}function Cee(e){const t=e[0],r=e[1],n=e[2],i=e[3];return Math.sqrt(t*t+r*r+n*n+i*i)}function Nee(e){const t=e[0],r=e[1],n=e[2],i=e[3];return t*t+r*r+n*n+i*i}function WEe(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function HEe(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function JEe(e,t){const r=t[0],n=t[1],i=t[2],s=t[3];let o=r*r+n*n+i*i+s*s;return o>0&&(o=1/Math.sqrt(o),e[0]=r*o,e[1]=n*o,e[2]=i*o,e[3]=s*o),e}function KEe(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function ZEe(e,t,r,n){const i=t[0],s=t[1],o=t[2],a=t[3];return e[0]=i+n*(r[0]-i),e[1]=s+n*(r[1]-s),e[2]=o+n*(r[2]-o),e[3]=a+n*(r[3]-a),e}function YEe(e,t=1){const r=DY;let n,i,s,o,a,l;do n=2*r()-1,i=2*r()-1,a=n*n+i*i;while(a>=1);do s=2*r()-1,o=2*r()-1,l=s*s+o*o;while(l>=1);const c=Math.sqrt((1-a)/l);return e[0]=t*n,e[1]=t*i,e[2]=t*s*c,e[3]=t*o*c,e}function QEe(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*s+r[12]*o,e[1]=r[1]*n+r[5]*i+r[9]*s+r[13]*o,e[2]=r[2]*n+r[6]*i+r[10]*s+r[14]*o,e[3]=r[3]*n+r[7]*i+r[11]*s+r[15]*o,e}function XEe(e,t,r){const n=t[0],i=t[1],s=t[2],o=r[0],a=r[1],l=r[2],c=r[3],d=c*n+a*s-l*i,p=c*i+l*n-o*s,y=c*s+o*i-a*n,m=-o*n-a*i-l*s;return e[0]=d*c+m*-o+p*-l-y*-a,e[1]=p*c+m*-a+y*-o-d*-l,e[2]=y*c+m*-l+d*-a-p*-o,e[3]=t[3],e}function eje(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function tje(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function rje(e,t){const r=e[0],n=e[1],i=e[2],s=e[3],o=t[0],a=t[1],l=t[2],c=t[3],d=zp();return Math.abs(r-o)<=d*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-a)<=d*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-l)<=d*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(s-c)<=d*Math.max(1,Math.abs(s),Math.abs(c))}const nje=jee,ije=Aee,sje=Iee,oje=Pee,aje=kee,lje=Cee,uje=Nee;Object.freeze(Object.defineProperty({__proto__:null,add:DEe,ceil:FEe,copy:MEe,copyVec3:REe,dist:oje,distance:Pee,div:sje,divide:Iee,dot:KEe,equals:rje,exactEquals:tje,floor:UEe,inverse:HEe,len:lje,length:Cee,lerp:ZEe,max:BEe,min:zEe,mul:ije,multiply:Aee,negate:WEe,normalize:JEe,random:YEe,round:VEe,scale:qEe,scaleAndAdd:GEe,set:LEe,sqrDist:aje,sqrLen:uje,squaredDistance:kee,squaredLength:Nee,str:eje,sub:nje,subtract:jee,transformMat4:QEe,transformQuat:XEe},Symbol.toStringTag,{value:"Module"}));function $L(){return[0,0,0,0]}function cje(e){return[e[0],e[1],e[2],e[3]]}function mm(e,t,r,n){return[e,t,r,n]}function dje(e,t,r,n){return[e,t,r,n]}function pje(e,t=$L()){const r=Math.min(4,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t}function Mee(){return $L()}function Ree(){return mm(1,1,1,1)}function Lee(){return mm(1,0,0,0)}function Dee(){return mm(0,1,0,0)}function Fee(){return mm(0,0,1,0)}function Uee(){return mm(0,0,0,1)}const fje=Mee(),hje=Ree(),yje=Lee(),mje=Dee(),gje=Fee(),vje=Uee();Object.freeze(Object.defineProperty({__proto__:null,ONES:hje,UNIT_W:vje,UNIT_X:yje,UNIT_Y:mje,UNIT_Z:gje,ZEROS:fje,clone:cje,create:$L,freeze:dje,fromArray:pje,fromValues:mm,ones:Ree,unitW:Uee,unitX:Lee,unitY:Dee,unitZ:Fee,zeros:Mee},Symbol.toStringTag,{value:"Module"}));const TL=2.4;function bje(e){return Ms(e*TL)}function wje(e){return u1e(e)/TL}function Xnt(e,t,r){const n=Math.sqrt(e**2+t**2)/r;return n>1?0:3/(Math.PI*r**2)*(1-n**2)**2}function eit(e){return typeof e=="function"?e:e?t=>+t[e]:()=>1}var JC;function PU(e){if(e!=null){const{maxDensity:t,minDensity:r,radius:n}=e;if(t!=null||r!=null||n!=null){const{blurRadius:i,maxPixelIntensity:s,minPixelIntensity:o,...a}=e;return a}}return e}let Lr=JC=class extends Hi{constructor(e){super(e),this.authoringInfo=null,this.colorStops=[new Xu({ratio:0,color:new Me("rgba(255, 140, 0, 0)")}),new Xu({ratio:.75,color:new Me("rgba(255, 140, 0, 1)")}),new Xu({ratio:.9,color:new Me("rgba(255, 0,   0, 1)")})],this.field=null,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null}normalizeCtorArgs(e){return PU(e)}get blurRadius(){return wje(this.radius)}set blurRadius(e){const t=this.maxPixelIntensity,r=this.minPixelIntensity;this._set("radius",bje(e)),this._set("maxDensity",t*this._pixelIntensityToDensity),this._set("minDensity",r*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(e){this._set("maxDensity",e*this._pixelIntensityToDensity)}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(e){this._set("minDensity",e*this._pixelIntensityToDensity)}get _pixelIntensityToDensity(){return 24/(TL**2*this.blurRadius**4)}read(e,t){e=PU(e),super.read(e,t)}getSymbol(){return new Fr}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}async collectRequiredFields(e,t){const r=this.field,n=this.valueExpression;r&&typeof r=="string"&&Yi(e,t,r),n&&typeof n=="string"&&await Fo(e,t,n)}getAttributeHash(){return""}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new JC({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:D(this.colorStops),field:this.field,legendOptions:D(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};u([f({type:Rt,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Lr.prototype,"authoringInfo",void 0),u([f({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Lr.prototype,"blurRadius",null),u([f({type:[Xu],json:{write:{isRequired:!0}}})],Lr.prototype,"colorStops",void 0),u([f({type:String,json:{write:!0}})],Lr.prototype,"field",void 0),u([f({type:qf,json:{write:!0}})],Lr.prototype,"legendOptions",void 0),u([f({type:Number,json:{write:!0}})],Lr.prototype,"maxDensity",void 0),u([f({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Lr.prototype,"maxPixelIntensity",null),u([f({type:Number,json:{write:!0}})],Lr.prototype,"minDensity",void 0),u([f({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Lr.prototype,"minPixelIntensity",null),u([f({type:Number,cast:He,json:{write:!0}})],Lr.prototype,"radius",void 0),u([f({type:Number,range:{min:0},json:{default:0,write:!0}})],Lr.prototype,"referenceScale",void 0),u([ye({heatmap:"heatmap"})],Lr.prototype,"type",void 0),u([f({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],Lr.prototype,"valueExpression",void 0),u([f({type:String})],Lr.prototype,"valueExpressionTitle",void 0),u([f({readOnly:!0})],Lr.prototype,"_pixelIntensityToDensity",null),Lr=JC=u([A("esri.renderers.HeatmapRenderer")],Lr);let Md=class extends Se.ClonableMixin(z){constructor(){super(...arguments),this.color=new Me([0,0,0,0]),this.label=null,this.threshold=0}};u([f({type:Me,json:{write:!0}})],Md.prototype,"color",void 0),u([f({type:String,json:{write:!0}})],Md.prototype,"label",void 0),u([f({type:Number,range:{min:0,max:1},json:{write:!0}})],Md.prototype,"threshold",void 0),Md=u([A("esri.renderers.support.OthersCategory")],Md);const xje={base:En,key:"type",typeMap:{size:Qe,opacity:vl}};let ci=class extends ym(Se.ClonableMixin(Hi)){constructor(t){super(t),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new Me([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new Md,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart",this.visualVariables=null}getSymbol(){return new Fr({size:this.size?this.size/2+(this.outline?.width||0):0})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(t1)}getAttributeHash(){return this.visualVariables?.reduce((t,r)=>t+r.getAttributeHash(),"")??""}getMeshHash(){return this.symbols.reduce((t,r)=>t+JSON.stringify(r),"")}async collectRequiredFields(t,r){await this.collectVVRequiredFields(t,r);for(const n of this.attributes)n.valueExpression&&await Fo(t,r,n.valueExpression),n.field&&t.add(n.field)}};u([f({type:[Eee],json:{write:!0}})],ci.prototype,"attributes",void 0),u([f(hL)],ci.prototype,"backgroundFillSymbol",void 0),u([f({type:Me,json:{write:!0}})],ci.prototype,"defaultColor",void 0),u([f({type:String,json:{write:!0}})],ci.prototype,"defaultLabel",void 0),u([f({type:Number,range:{min:0,max:1},json:{write:!0}})],ci.prototype,"holePercentage",void 0),u([f({type:Md,json:{write:!0}})],ci.prototype,"othersCategory",void 0),u([f({type:yL,json:{write:!0}})],ci.prototype,"legendOptions",void 0),u([f({type:yr,json:{default:null,write:!0}})],ci.prototype,"outline",void 0),u([f({type:Number,cast:He,json:{write:!0}})],ci.prototype,"size",void 0),u([ye({pieChart:"pie-chart"})],ci.prototype,"type",void 0),u([f({types:[xje]})],ci.prototype,"visualVariables",void 0),ci=u([A("esri.renderers.PieChartRenderer")],ci);const b1={key:"type",base:Hi,typeMap:{heatmap:Lr,simple:Zn,"unique-value":St,"class-breaks":dr,"dot-density":ui,dictionary:no,"pie-chart":ci},errorContext:"renderer"},Sje={key:"type",base:Hi,typeMap:{simple:Zn,"unique-value":St,"class-breaks":dr,heatmap:Lr},errorContext:"renderer",validate:_je};function _je(e){switch(e.type){case"simple":return $je(e);case"unique-value":return Tje(e);case"class-breaks":return Oje(e);case"heatmap":return e}}function $je(e){if(e.symbol)return e;ce.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene.")}function Tje(e){const t=e.uniqueValueInfos,r=t?.filter(({symbol:n,label:i},s)=>(n||ce.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${s}] ${i}) without a symbol from web scene.`),!!n));return r?.length!==t?.length&&(e.uniqueValueInfos=r),e}function Oje(e){const t=e.classBreakInfos,r=t?.filter(({symbol:n,label:i},s)=>(n||ce.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${s}] ${i}) without a symbol from web scene.`),!!n));return r?.length!==t?.length&&(e.classBreakInfos=r),e}function nit(e,t){return Fv(e,null,t)}const Eje=im({types:b1});function Fv(e,t,r){return e?e&&(e.styleName||e.styleUrl)&&e.type!=="uniqueValue"?(r?.messages&&r.messages.push(new Ro("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:r})),null):Eje(e,t,r):null}var KC;let ln=KC=class extends pc{constructor(e){super(e),this.type="binning",this.binType="geohash",this.fixedBinLevel=null,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.size=He("12px"),this.fields=[],this.renderer=null}writeFields(e,t,r){const n=e.filter(i=>i.statisticType!=="avg_angle").map(i=>i.toJSON());or(r,n,t)}readRenderer(e,t,r){const n=t.drawingInfo?.renderer;return n?Fv(n,t,r)??void 0:gL(t,r)}clone(){return new KC({fields:D(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:D(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:D(this.popupTemplate),renderer:D(this.renderer),binType:D(this.binType),size:this.size})}};u([ye({binning:"binning"})],ln.prototype,"type",void 0),u([ye({geohash:"geohash",square:"square"}),f({type:["geohash","square"]})],ln.prototype,"binType",void 0),u([f({type:Number,json:{write:!0}})],ln.prototype,"fixedBinLevel",void 0),u([f({type:[At],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],ln.prototype,"labelingInfo",void 0),u([f(dT)],ln.prototype,"labelsVisible",void 0),u([f({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],ln.prototype,"maxScale",void 0),u([f(cT)],ln.prototype,"popupEnabled",void 0),u([f({type:pm,json:{name:"popupInfo",write:!0}})],ln.prototype,"popupTemplate",void 0),u([f({cast:e=>e==="auto"?e:Jn(He(e))})],ln.prototype,"size",void 0),u([f({type:[Cn],json:{write:!0}})],ln.prototype,"fields",void 0),u([re("fields")],ln.prototype,"writeFields",null),u([f({types:b1,json:{write:{target:"drawingInfo.renderer"}}})],ln.prototype,"renderer",void 0),u([X("renderer",["drawingInfo.renderer"])],ln.prototype,"readRenderer",null),ln=KC=u([A("esri.layers.support.FeatureReductionBinning")],ln);var ZC;function kU(e){return e.type==="simple"&&!e.visualVariables?.length}let pr=ZC=class extends z{constructor(e){super(e),this.type="cluster",this.clusterRadius=He("80px"),this.clusterMinSize=He("12px"),this.clusterMaxSize=He("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=[]}readRenderer(e,t,r){const n=t.drawingInfo?.renderer;return n?.authoringInfo?.isAutoGenerated?null:n?kU(n)?null:Fv(n,t,r)??void 0:gL(t,r)}readSymbol(e,t,r){const n=t.drawingInfo?.renderer;return n?.authoringInfo?.isAutoGenerated?null:n&&kU(n)?Fv(n,t,r)?.symbol:null}writeSymbol(e,t,r,n){const i=this.renderer?.authoringInfo?.isAutoGenerated;if(!this.renderer||i){const s=new Zn({symbol:e});t.drawingInfo={renderer:s.write({},n)}}}writeFields(e,t,r){const n=e.filter(i=>i.statisticType!=="avg_angle").map(i=>i.toJSON());or(r,n,t)}readFields(e,t,r){return e.filter(n=>!n.isAutoGenerated).map(n=>Cn.fromJSON(n))}clone(){return new ZC({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:D(this.labelingInfo),labelsVisible:this.labelsVisible,fields:D(this.fields),maxScale:this.maxScale,renderer:D(this.renderer),symbol:D(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:D(this.popupTemplate)})}};u([f({type:["cluster"],readOnly:!0,json:{write:!0}})],pr.prototype,"type",void 0),u([f({cast:e=>e==="auto"?e:Jn(He(e)),json:{write:!0}})],pr.prototype,"clusterRadius",void 0),u([f({type:Number,cast:He,json:{write:!0}})],pr.prototype,"clusterMinSize",void 0),u([f({type:Number,cast:He,json:{write:!0}})],pr.prototype,"clusterMaxSize",void 0),u([f({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],pr.prototype,"maxScale",void 0),u([f(cT)],pr.prototype,"popupEnabled",void 0),u([f({type:pm,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],pr.prototype,"popupTemplate",void 0),u([f({types:b1,json:{write:{target:"drawingInfo.renderer"}}})],pr.prototype,"renderer",void 0),u([X("renderer",["drawingInfo.renderer"])],pr.prototype,"readRenderer",null),u([f({types:E_e})],pr.prototype,"symbol",void 0),u([X("symbol",["drawingInfo.renderer"])],pr.prototype,"readSymbol",null),u([re("symbol")],pr.prototype,"writeSymbol",null),u([f({type:[At],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],pr.prototype,"labelingInfo",void 0),u([f(dT)],pr.prototype,"labelsVisible",void 0),u([f({type:[Cn],json:{write:!0}})],pr.prototype,"fields",void 0),u([re("fields")],pr.prototype,"writeFields",null),u([X("fields")],pr.prototype,"readFields",null),pr=ZC=u([A("esri.layers.support.FeatureReductionCluster")],pr);var YC;let Vg=YC=class extends pc{constructor(e){super(e),this.type="selection"}clone(){return new YC}};u([f({type:["selection"]})],Vg.prototype,"type",void 0),Vg=YC=u([A("esri.layers.support.FeatureReductionSelection")],Vg);const CU={key:"type",base:pc,typeMap:{cluster:pr,binning:ln}},jje={types:{key:"type",base:pc,typeMap:{selection:Vg,cluster:pr,binning:ln}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:CU},"portal-item":{types:CU},"web-scene":{types:{key:"type",base:pc,typeMap:{selection:Vg}},name:"layerDefinition.featureReduction",write:{layerContainerTypes:xt}}}}},Aje=()=>ce.getLogger("esri.views.2d.layers.support.clusterUtils");q.add("esri-cluster-arcade-enabled",!0);const Ije=q("esri-cluster-arcade-enabled"),Pje=new Set(["simple-line","simple-fill","picture-fill"]);function NU(e,t){let r=t.clone();if(!kje(r))return r;if(t.symbols.some(n=>Pje.has(n.type))&&(r=new Zn({symbol:new Fr})),r.authoringInfo||(r.authoringInfo=new Rt),r.authoringInfo.isAutoGenerated=!0,"visualVariables"in r){const n=(r.visualVariables||[]).filter(i=>i.valueExpression!=="$view.scale");n.forEach(i=>{i.type==="rotation"?i.field?i.field=Hc(e,i.field,"avg_angle","number"):i.valueExpression&&(i.field=t0(e,i.valueExpression,"avg_angle","number"),i.valueExpression=null):i.normalizationField?(i.field=Hc(e,i.field,"avg_norm","number",i.normalizationField),i.normalizationField=null):i.field?i.field=Hc(e,i.field,"avg","number"):i.valueExpression&&(i.field=t0(e,i.valueExpression,"avg","number"),i.valueExpression=null)}),r.visualVariables=n}switch(r.type){case"simple":break;case"pie-chart":for(const n of r.attributes)n.field?n.field=Hc(e,n.field,"sum","number"):n.valueExpression&&(n.field=t0(e,n.valueExpression,"sum","number"),n.valueExpression=null);break;case"unique-value":r.field?r.field=Hc(e,r.field,"mode","string"):r.valueExpression&&(r.field=t0(e,r.valueExpression,"mode","string"),r.valueExpression=null);break;case"class-breaks":r.normalizationField?(r.field=Hc(e,r.field,"avg_norm","number",r.normalizationField),r.normalizationField=null):r.field?r.field=Hc(e,r.field,"avg","number"):r.valueExpression&&(r.field=t0(e,r.valueExpression,"avg","number"),r.valueExpression=null)}return r}const kje=e=>{const t=r=>Aje().error(new K("Unsupported-renderer",r,{renderer:e}));if(!e)return!1;switch(e.type){case"unique-value":if(e.field2||e.field3)return t("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(e.normalizationField){const r=e.normalizationType;if(r!=="field")return t(`FeatureReductionCluster does not support a normalizationType of ${r}`),!1}break;case"simple":case"pie-chart":break;default:return t(`FeatureReductionCluster does not support renderers of type ${e.type}`),!1}if(!Ije){if("valueExpression"in e&&e.valueExpression)return t("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in e&&e.visualVariables||[]).some(r=>!(!("valueExpression"in r)||!r.valueExpression)))return t("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function Cje(e,t,r){switch(e){case"sum":return`cluster_sum_${t}`;case"avg":case"avg_angle":return`cluster_avg_${t}`;case"mode":return`cluster_type_${t}`;case"avg_norm":{const n=r,i="field",s=t.toLowerCase()+",norm:"+i+","+n.toLowerCase();return"cluster_avg_"+AR(s)}}}function t0(e,t,r,n){const i=AR(t),s=r==="mode"?`cluster_type_${i}`:r==="sum"?`cluster_sum_${i}`:`cluster_avg_${i}`;return e.some(o=>o.name===s)||e.push(new Cn({name:s,isAutoGenerated:!0,onStatisticExpression:new zu({expression:t,returnType:n}),statisticType:r})),s}function Hc(e,t,r,n,i){if(t==="cluster_count"||e.some(o=>o.name===t))return t;const s=Cje(r,t,i);return e.some(o=>o.name===s)||(r==="avg_norm"?e.push(new Cn({name:s,isAutoGenerated:!0,onStatisticExpression:new zu({expression:`$feature.${t} / $feature.${i}`,returnType:n}),statisticType:"avg"})):e.push(new Cn({name:s,isAutoGenerated:!0,onStatisticField:t,statisticType:r}))),s}const Nje=e=>{let t=class extends e{constructor(...r){super(...r),this.addHandles(Rh(()=>this.renderer,()=>{if(this.featureReduction){const n=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",n)}},J$))}set featureReduction(r){const n=this._normalizeFeatureReduction(r);this._set("featureReduction",n)}set renderer(r){}_withClusterVariable(r,n,i){const s=r.clone();return"visualVariables"in s&&(s.visualVariables||(s.visualVariables=[]),s.visualVariables.some(o=>o.type==="size")||s.visualVariables.push(new Qe({field:"cluster_count",stops:[new fo({value:1}),new fo({useMinValue:!0,size:n}),new fo({useMaxValue:!0,size:i})]}))),s}_normalizeFeatureReduction(r){if(r?.type!=="cluster")return r;const n=r.clone(),i=[new Cn({name:"cluster_count",alias:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],s=(n.fields??[]).filter(p=>!p.isAutoGenerated),o=r.renderer&&!r.renderer.authoringInfo?.isAutoGenerated,{clusterMinSize:a,clusterMaxSize:l}=n;if(o){n.fields=[...i,...s];const p=this._withClusterVariable(n.renderer,a,l);return n.effectiveFeatureRenderer=p,n.effectiveClusterRenderer=p,n}if(r.symbol){if(n.fields=[...i,...s],n.renderer=null,!this.renderer)return n.effectiveFeatureRenderer=null,n.effectiveClusterRenderer=null,n;const p=NU(i,this.renderer),y=this._withClusterVariable(p,a,l),m="visualVariables"in y&&y.visualVariables?y.visualVariables:[],g=new Zn({symbol:r.symbol,visualVariables:m});return n.fields=[...i,...s],n.effectiveFeatureRenderer=y,n.effectiveClusterRenderer=g,n}if(!this.renderer)return r;const c=NU(i,this.renderer);n.fields=[...i,...s],n.renderer=c;const d=this._withClusterVariable(c,a,l);return n.effectiveFeatureRenderer=d,n.effectiveClusterRenderer=d,n}};return u([f(jje)],t.prototype,"featureReduction",null),t=u([A("esri.layers.mixins.FeatureReductionLayer")],t),t},MU={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,ArcGISVideoLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},RU={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},LU={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},Mje={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,Object3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,ViewshedLayer:!0,Voxel:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":MU,"web-map/basemap":RU,"web-map/tables":LU,"link-chart/operational-layers":{...MU,LinkChartLayer:!0},"link-chart/basemap":RU,"link-chart/tables":LU,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0,WCS:!0},"portal-item/tables":{ArcGISFeatureLayer:!0,SubtypeGroupTable:!0}},Rje=e=>{let t=class extends e{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(r,n,i){return i?.portalItem?.type==="Group Layer"?void 0:r}writeListMode(r,n,i,s){(s&&s.layerContainerType==="ground"||r&&Khe(this,i,{},s))&&(n[i]=r)}writeOperationalLayerType(r,n,i){r&&(n[i]=r)}writeTitle(r,n){n.title=r??"Layer"}readVisibilityTimeExtent(r){return r?pt.fromArray(r):null}writeVisibilityTimeExtent(r,n,i,s){r&&s.layerContainerType!=="tables"&&(r.isEmpty?s?.messages&&s.messages.push(new K("layer:invalid-visibilityTimeExtent","visibilityTimeExtent cannot be empty")):n[i]=r.toArray())}read(r,n){n&&(n.layer=this),WJ(this,r,i=>super.read(r,i),n)}write(r,n){if(!this.persistenceEnabled&&!n?.ignorePersistenceEnabled)return null;if(n?.origin){const o=`${n.origin}/${n.layerContainerType||"operational-layers"}`;let l=!!Mje[o]?.[this.operationalLayerType];if(this.operationalLayerType==="ArcGISTiledElevationServiceLayer"&&o==="web-scene/operational-layers"&&(l=!1),this.operationalLayerType==="ArcGISDimensionLayer"&&o==="web-map/operational-layers"&&(l=!1),!l)return n.messages?.push(new K("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${o}'`,{layer:this})),null}const i=super.write(r,{...n,layer:this}),s=!!n&&!!n.messages&&!!n.messages.filter(o=>o instanceof K&&o.name==="web-document-write:property-required").length;return tm(i?.url)?(n?.messages?.push(new K("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&s?null:i}beforeSave(){}};return u([f({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),u([X("id",["id"])],t.prototype,"readId",null),u([f(MX)],t.prototype,"listMode",void 0),u([re("listMode")],t.prototype,"writeListMode",null),u([f({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:xt,isRequired:!0}}}}})],t.prototype,"operationalLayerType",void 0),u([re("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),u([f(lC)],t.prototype,"opacity",void 0),u([f({type:Boolean,readOnly:!1})],t.prototype,"persistenceEnabled",void 0),u([f({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),u([re("title"),re(["web-scene"],"title")],t.prototype,"writeTitle",null),u([f({type:pt,json:{origins:{"web-scene":{write:{layerContainerTypes:xt}}}}})],t.prototype,"visibilityTimeExtent",void 0),u([X("visibilityTimeExtent")],t.prototype,"readVisibilityTimeExtent",null),u([re(["portal-item","web-map","web-scene"],"visibilityTimeExtent",{visibilityTimeExtent:{type:[[Be,nm]]}})],t.prototype,"writeVisibilityTimeExtent",null),u([f({type:Boolean,json:{name:"visibility",write:{layerContainerTypes:xt}}})],t.prototype,"visible",void 0),t=u([A("esri.layers.mixins.OperationalLayer")],t),t};var QC;const Pw=new Pe({asc:"ascending",desc:"descending"});var qb;let Rd=(qb=class extends z{constructor(t){super(t),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new QC({field:this.field,valueExpression:this.valueExpression,order:this.order})}},QC=qb,qb);u([f({type:String,json:{write:!0}})],Rd.prototype,"field",void 0),u([f({type:String,json:{write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],Rd.prototype,"valueExpression",void 0),u([f({type:Pw.apiValues,json:{type:Pw.jsonValues,read:Pw.read,write:Pw.write}})],Rd.prototype,"order",void 0),Rd=QC=u([A("esri.layers.support.OrderByInfo")],Rd);function Lje(e,t,r){if(!e)return null;const n=e.find(s=>!!s.field);if(!n)return null;const i=new Rd;return i.read(n,r),[i]}function Dje(e,t,r,n){const i=e.find(s=>!!s.field);i&&or(r,[i.toJSON()],t)}const Fje={type:[Rd],json:{origins:{"web-scene":{write:!1,read:!1}},name:"layerDefinition.orderBy",read:{reader:Lje},write:{writer:Dje}}},Uje=e=>{let t=class extends e{constructor(){super(...arguments),this.orderBy=null}};return u([f(Fje)],t.prototype,"orderBy",void 0),t=u([A("esri.layers.mixins.OrderedLayer")],t),t},zje=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=As(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(r){r!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",r))}readPortalItem(r,n,i){if(n.itemId)return new $e({id:n.itemId,portal:i?.portal})}writePortalItem(r,n){r?.id&&(n.itemId=r.id)}async loadFromPortal(r,n){if(this.portalItem?.id)try{const{load:i}=await ae(()=>import("./layersLoader-77ce9b19.js"),["assets/layersLoader-77ce9b19.js","assets/fetchService-d6a5b823.js","assets/loadUtils-4d61d962.js","assets/associatedFeatureServiceUtils-ebf5b5be.js"]);return Un(n),await i({instance:this,supportedTypes:r.supportedTypes,validateItem:r.validateItem,supportsData:r.supportsData,layerModuleTypeMap:r.layerModuleTypeMap,populateGroupLayer:r.populateGroupLayer},n)}catch(i){throw Ls(i)||ce.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})
  ${i}`),i}}async finishLoadEditablePortalLayer(r){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(r).catch(n=>(ca(n),!0)))}async setUserPrivileges(r,n){if(!Xe.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(n);if(this.url)try{const{features:{edit:i,fullEdit:s},content:{updateItem:o}}=await this._fetchUserPrivileges(r,n);this._set("userHasEditingPrivileges",i),this._set("userHasFullEditingPrivileges",s),this._set("userHasUpdateItemPrivileges",o)}catch(i){ca(i)}}async _fetchUserPrivileges(r,n){let i=this.portalItem;if(!r||!i||!i.loaded||i.sourceUrl)return this._fetchFallbackUserPrivileges(n);const s=!Ke?.findCredential(this.url),o=r===i.id;if(o&&i.portal.user)return this._getUserPrivileges(i,s);let a,l;if(o)a=i.portal.url;else try{a=await LZ(this.url,n)}catch(y){ca(y)}if(!a||!ope(a,i.portal.url))return this._fetchFallbackUserPrivileges(n);try{const y=n!=null?n.signal:null;l=await Ke?.getCredential(`${a}/sharing`,{prompt:!1,signal:y})}catch(y){ca(y)}const c=!0,d=!1,p=!1;if(!l)return{features:{edit:c,fullEdit:d},content:{updateItem:p}};try{if(o?await i.reload():(i=new $e({id:r,portal:{url:a}}),await i.load(n)),i.portal.user)return this._getUserPrivileges(i,s)}catch(y){ca(y)}return{features:{edit:c,fullEdit:d},content:{updateItem:p}}}_getUserPrivileges(r,n){const i=Uwe(r);return n&&(i.features.edit=!0),i}async _fetchFallbackUserPrivileges(r){let n=!0;try{n=await this._fetchUserHasEditingPrivileges(r)}catch(i){ca(i)}return{features:{edit:n,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(r){const n=this.url?Ke?.findCredential(this.url):null;if(!n)return!0;const i=kw.credential===n?kw.user:await this._fetchEditingUser(r);return kw.credential=n,kw.user=i,i?.privileges==null||i.privileges.includes("features:user:edit")}async _fetchEditingUser(r){const n=this.portalItem?.portal?.user;if(n)return n;const i=Ke?.findServerInfo(this.url??"");if(!i?.owningSystemUrl)return null;const s=`${i.owningSystemUrl}/sharing/rest`,o=te.getDefault();if(o&&o.loaded&&jo(o.restUrl)===jo(s))return o.user;const a=`${s}/community/self`,l=r!=null?r.signal:null,c=await lR(nt(a,{authMode:"no-prompt",query:{f:"json"},signal:l}));return c.ok?lt.fromJSON(c.value.data):null}read(r,n){n&&(n.layer=this),super.read(r,n)}write(r,n){const i=n?.portal,s=this.portalItem?.id&&(this.portalItem.portal||te.getDefault());return i&&s&&!IH(s.restUrl,i.restUrl)?(n.messages&&n.messages.push(new K("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(r,{...n,layer:this})}};return u([f({type:$e})],t.prototype,"portalItem",null),u([X("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),u([re("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),u([f({clonable:!1})],t.prototype,"resourceReferences",void 0),u([f({type:Boolean,readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),u([f({type:Boolean,readOnly:!0})],t.prototype,"userHasFullEditingPrivileges",void 0),u([f({type:Boolean,readOnly:!0})],t.prototype,"userHasUpdateItemPrivileges",void 0),t=u([A("esri.layers.mixins.PortalLayer")],t),t},kw={credential:null,user:null};let ng=class extends ft{constructor(){super(...arguments),this.updating=!1,this.status="unknown"}};u([f()],ng.prototype,"updating",void 0),u([f()],ng.prototype,"status",void 0),ng=u([A("esri.layers.support.PublishingInfo")],ng);const Bje=Symbol(),Vje=e=>{var n;var t;let r=(n=class extends e{constructor(){super(...arguments),this[t]=!0}get publishingInfo(){if(this.destroyed)return null;const i=this._get("publishingInfo");if(i)return i;const s=new ng;return this._checkPublishingStatus(s),s}_checkPublishingStatus(i){let a=0;const l=async d=>{let p;i.updating=!0;try{p=await this.fetchPublishingStatus()}catch{p="unavailable"}p!=="published"&&p!=="unavailable"||(i.status==="publishing"&&this.refresh(),c.remove()),i.status=p,i.updating=!1,c.removed||(a=setTimeout(l,d,d+125))},c={removed:!1,remove(){this.removed=!0,clearTimeout(a)}};this.when().catch(()=>c.remove()),l(250),this.addHandles(c)}},t=Bje,n);return u([f({readOnly:!0,clonable:!1})],r.prototype,"publishingInfo",null),r=u([A("esri.layers.mixins.PublishableLayer")],r),r},ec=new Te,qg=new WeakMap;function qje(e){Wje(e)&&ec.push(new WeakRef(e))}function Gje(e){const t=ec.find(r=>r.deref()===e);t&&ec.remove(t)}function Wje(e){return e!=null&&typeof e=="object"&&"refreshInterval"in e&&"refresh"in e}function zee(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:zee(t,e%t):0}let WE=0,Cw=0;function Hje(){const e=Date.now();let t=!1;for(const r of ec){const n=r.deref();n?n.refreshInterval&&e-(qg.get(n)??0)+5>=6e4*n.refreshInterval&&(qg.set(n,e),n.refresh(e)):t=!0}if(t)for(let r=ec.length-1;r>=0;r--)ec.at(r).deref()||ec.removeAt(r)}_J(()=>{const e=Date.now();let t=0;for(const r of ec){const n=r.deref();n&&(t=zee(Math.round(6e4*n.refreshInterval),t),n.refreshInterval?qg.get(n)||qg.set(n,e):qg.delete(n))}if(t!==Cw){if(Cw=t,clearInterval(WE),Cw===0)return void(WE=0);WE=setInterval(Hje,Cw)}},J$);const DU=.1,Jje=e=>{let t=class extends e{constructor(...r){super(...r),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=GM(()=>this.hasDataChanged()),this.when().then(()=>{this.destroyed||qje(this)},()=>{})}destroy(){Gje(this)}castRefreshInterval(r){return r>=DU?r:r<=0?0:DU}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(r=Date.now()){Ppe(this._debounceHasDataChanged()).then(n=>{n&&this._set("refreshTimestamp",r),this.emit("refresh",{dataChanged:n})},n=>{ce.getLogger(this).error(n),this.emit("refresh",{dataChanged:!1,error:n})})}async hasDataChanged(){return!0}get test(){}};return u([f({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:xt}}}}})],t.prototype,"refreshInterval",void 0),u([ht("refreshInterval")],t.prototype,"castRefreshInterval",null),u([f({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),u([f({readOnly:!0})],t.prototype,"refreshParameters",null),t=u([A("esri.layers.mixins.RefreshableLayer")],t),t},Kje=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const r={minScale:this.minScale,maxScale:this.maxScale},n=this.parent;n&&"effectiveScaleRange"in n&&Zje(r,n.effectiveScaleRange);const i=this._get("effectiveScaleRange");return i&&i.minScale===r.minScale&&i.maxScale===r.maxScale?i:r}};return u([f({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),u([f({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),u([f({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=u([A("esri.layers.mixins.ScaleRangeLayer")],t),t};function Zje(e,t){return e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale,e}function FU(e,t){return _o.fromJSON({value:e,unit:t})}let Jr=class extends Se.ClonableMixin(z){constructor(t){super(t),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0,this.stops=null}readFullTimeExtent(t,r){return r.timeExtent&&Array.isArray(r.timeExtent)&&r.timeExtent.length===2?pt.fromArray(r.timeExtent):null}writeFullTimeExtent(t,r){t?.start!=null&&t.end!=null?r.timeExtent=t.toArray():r.timeExtent=null}readInterval(t,r){return r.timeInterval&&r.timeIntervalUnits?FU(r.timeInterval,r.timeIntervalUnits):r.defaultTimeInterval&&r.defaultTimeIntervalUnits?FU(r.defaultTimeInterval,r.defaultTimeIntervalUnits):null}writeInterval(t,r){r.timeInterval=t?.toJSON().value??null,r.timeIntervalUnits=t?.toJSON().unit??null}};u([f({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],Jr.prototype,"cumulative",void 0),u([f({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],Jr.prototype,"endField",void 0),u([f({type:pt,json:{write:{enabled:!0,allowNull:!0}}})],Jr.prototype,"fullTimeExtent",void 0),u([X("fullTimeExtent",["timeExtent"])],Jr.prototype,"readFullTimeExtent",null),u([re("fullTimeExtent")],Jr.prototype,"writeFullTimeExtent",null),u([f({type:Boolean,json:{write:!0}})],Jr.prototype,"hasLiveData",void 0),u([f({type:_o,json:{write:{enabled:!0,allowNull:!0}}})],Jr.prototype,"interval",void 0),u([X("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],Jr.prototype,"readInterval",null),u([re("interval")],Jr.prototype,"writeInterval",null),u([f({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],Jr.prototype,"startField",void 0),u([f(k_("timeReference",!0))],Jr.prototype,"timeZone",void 0),u([f({type:String,json:{write:{enabled:!0,allowNull:!0}}})],Jr.prototype,"trackIdField",void 0),u([f({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],Jr.prototype,"useTime",void 0),u([f({type:[Date],json:{read:!1}})],Jr.prototype,"stops",void 0),Jr=u([A("esri.layers.support.TimeInfo")],Jr);const Yje={type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation",layerContainerTypes:xt}}},Qje=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(r,n){const i=n.timeInfo.exportOptions;if(!i)return null;const s=i.timeOffset,o=GR.fromJSON(i.timeOffsetUnits);return s&&o?new _o({value:s,unit:o}):null}set timeInfo(r){_Q(r,this.fieldsIndex),this._set("timeInfo",r)}};return u([f({type:pt,json:{write:!1}})],t.prototype,"timeExtent",void 0),u([f({type:_o})],t.prototype,"timeOffset",void 0),u([X("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),u([f({value:null,type:Jr,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),u([f(Yje)],t.prototype,"useViewTime",void 0),t=u([A("esri.layers.mixins.TemporalLayer")],t),t};let ws=class extends Se.ClonableMixin(z){constructor(t){super(t),this.labelingInfo=null,this.labelsVisible=!0,this.renderer=null,this.visible=!0}};u([f({type:[At],json:{write:!0}})],ws.prototype,"labelingInfo",void 0),u([f(dT)],ws.prototype,"labelsVisible",void 0),u([f({types:b1,json:{write:!0}})],ws.prototype,"renderer",void 0),u([f({type:Boolean,json:{write:!0}})],ws.prototype,"visible",void 0),ws=u([A("esri.layers.support.TrackPartInfo")],ws);let di=class extends Se.ClonableMixin(z){constructor(t){super(t),this.enabled=!0,this.fields=[],this.latestObservations=new ws({renderer:new Zn({symbol:$C.clone()})}),this.maxDisplayDuration=null,this.maxDisplayObservationsPerTrack=0,this.popupEnabled=!0,this.popupTemplate=null,this.previousObservations=new ws({renderer:new Zn({symbol:$C.clone()})}),this.trackLines=new ws({renderer:new Zn({symbol:GX.clone()})}),this.timeField="startTimeField"}writeFields(t,r,n){const i=t.filter(s=>s.statisticType!=="avg_angle").map(s=>s.toJSON());or(n,i,r)}};u([f({type:Boolean,json:{write:!0}})],di.prototype,"enabled",void 0),u([f({type:[Cn],json:{write:!0}})],di.prototype,"fields",void 0),u([re("fields")],di.prototype,"writeFields",null),u([f({type:ws,json:{write:!0}})],di.prototype,"latestObservations",void 0),u([f({type:_o,json:{write:!0}})],di.prototype,"maxDisplayDuration",void 0),u([f({type:Number,json:{write:!0}})],di.prototype,"maxDisplayObservationsPerTrack",void 0),u([f(cT)],di.prototype,"popupEnabled",void 0),u([f({type:pm,json:{name:"popupInfo",write:!0}})],di.prototype,"popupTemplate",void 0),u([f({type:ws,json:{write:!0}})],di.prototype,"previousObservations",void 0),u([f({type:ws,json:{write:!0}})],di.prototype,"trackLines",void 0),u([f({type:["timeReceived","startTimeField","endTimeField"],json:{read:!0,write:!0}})],di.prototype,"timeField",void 0),di=u([A("esri.layers.support.TrackInfo")],di);const Xje=e=>{let t=class extends e{constructor(){super(...arguments),this.trackInfo=null}};return u([f({type:di})],t.prototype,"trackInfo",void 0),t=u([A("esri.layers.mixins.TrackableLayer")],t),t},UU=new Pe({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let ua=class extends Se.ClonableMixin(z){constructor(t){super(t),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};u([f({json:{write:!0}})],ua.prototype,"name",void 0),u([f({json:{write:!0}})],ua.prototype,"description",void 0),u([f({json:{read:UU.read,write:UU.write}})],ua.prototype,"drawingTool",void 0),u([f({json:{write:!0}})],ua.prototype,"prototype",void 0),u([f({json:{write:!0}})],ua.prototype,"thumbnail",void 0),ua=u([A("esri.layers.support.FeatureTemplate")],ua);let aa=class extends Se.ClonableMixin(z){constructor(t){super(t),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(t){const r={};for(const n of Object.keys(t))r[n]=lT(t[n]);return r}writeDomains(t,r){const n={};for(const i of Object.keys(t))t[i]&&(n[i]=t[i]?.toJSON());r.domains=n}};u([f({json:{write:!0}})],aa.prototype,"id",void 0),u([f({json:{write:!0}})],aa.prototype,"name",void 0),u([f({json:{write:!0}})],aa.prototype,"domains",void 0),u([X("domains")],aa.prototype,"readDomains",null),u([re("domains")],aa.prototype,"writeDomains",null),u([f({type:[ua],json:{write:!0}})],aa.prototype,"templates",void 0),aa=u([A("esri.layers.support.FeatureType")],aa);function eAe(){return{fields:{type:[Zr],value:null,set:function(e){if(e&&q("big-integer-warning-enabled")){const t=e.filter(r=>r.type==="big-integer"||r.type==="oid"&&(r.length||0)>=8);if(t.length){const r=t.map(n=>`'${n.name}'`).join(", ");ce.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${r}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`)}}this._set("fields",e)}},fieldsIndex:{readOnly:!0,get(){return W_.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){const e=this._userOutFields;if(!e?.length)return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(const t of e)this.fieldsIndex?.has(t)||ce.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${t} found in outFields`,{layer:this,outFields:e});return JR(this.fieldsIndex,e)}}}}const HE=()=>ce.getLogger("esri.layers.support.labelingInfo"),tAe=/\[([^[\]]+)\]/gi;function zU(e,t,r){return e?e.map(n=>{const i=new At;if(i.read(n,r),i.labelExpression){const s=t.fields||t.layerDefinition?.fields||this.fields;i.labelExpression=i.labelExpression.replaceAll(tAe,(o,a)=>`[${rAe(a,s)}]`)}return i}):null}function rAe(e,t){if(!t)return e;const r=e.toLowerCase();for(let n=0;n<t.length;n++){const i=t[n].name;if(i.toLowerCase()===r)return i}return e}const BU=["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],nAe={esriGeometryPoint:BU,esriGeometryMultiPatch:["always-horizontal"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along","above-along","below-along"],esriGeometryMultipoint:BU,esriGeometryEnvelope:null};function cit(e,t){const r=[];for(const n of e){const i=n.labelPlacement,s=nAe[t];if(!n.symbol)return HE().warn("No ILabelClass symbol specified."),[];if(!s)return HE().error(new K("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${t}' is not supported`)),[];if(s.includes(i))r.push(n);else{const o=s[0];i&&HE().warn(`Found invalid label placement type ${i} for ${t}. Defaulting to ${o}`);const a=n.clone();a.labelPlacement=o,r.push(a)}}return r}const iAe="relationships/",sAe="expression/";let Bn=class extends ft{constructor(t){super(t),this._featureUtils=null,this.effectivePopupTemplate=null}get _arcadeTask(){return this.expressionsUsedInTitle.length>0?this._get("_arcadeTask")||sye(()=>Op()):null}get featureUtilsPromise(){return this._get("featureUtilsPromise")??ae(()=>import("./featureUtils-2d7f84e0.js"),["assets/featureUtils-2d7f84e0.js","assets/utils-67389ce8.js"]).then(t=>this._featureUtils=t)}get calculatedExpressions(){const t=new Te;if(!this.expressionsUsedInTitle.length)return t;if(!this._arcadeTask?.value){for(const r of this.expressionsUsedInTitle??[])t.push({name:r.name,invalid:!0});return t}for(const r of this.expressionsUsedInTitle)try{const n=this._arcadeTask.value.arcade.parseScript(r.expression,["$layer","$map","$datastore"]);if(n.isAsync){t.push({name:r.name,invalid:!0});break}t.push({name:r.name,syntax:n,invalid:!1,func:this._arcadeTask.value.arcade.compileScript(n,{vars:{$feature:"any"}})})}catch{t.push({name:r.name,invalid:!0});break}return t}get expressionsUsedInTitle(){let t=this.effectivePopupTemplate?.title??"";return typeof t!="string"?[]:(t=t.toLowerCase(),this.effectivePopupTemplate?.expressionInfos?.filter(r=>t.includes(`{expression/${r.name.toLowerCase()}}`))??[])}get fieldInfoMap(){return this._featureUtils?this._createFieldInfoMap(this._featureUtils.getAllFieldInfos(this.effectivePopupTemplate)):null}get hasBadExpressions(){return this.calculatedExpressions.some(t=>t.invalid===!0)}get requiredFields(){const t=new Set;if(this._arcadeTask?.value&&!this.hasBadExpressions)for(const n of this.calculatedExpressions?.toArray()??[])try{const i=this._arcadeTask.value.arcade.extractFieldLiterals(n.syntax);for(const s of i){const o=s.split("."),a=this.fieldsIndex.get(o.at(-1)??"");a&&t.add(a.name)}}catch{}const r=this._extractFieldNames(this.workingTitle);for(const n of r){const i=this.fieldsIndex.get(n);i&&t.add(i.name)}return this.objectIdField!=null&&t.add(this.objectIdField),t}get titleFromDisplayField(){let t="";return this.displayField&&(t=this.fieldsIndex.get(this.displayField)?.name??""),t||(t=this.fieldsIndex.get(this.objectIdField)?.name??""),t?`{${t}}`:""}get workingTitle(){const t=this.effectivePopupTemplate?this.effectivePopupTemplate.title:"";return t===""||t==null||this.hasBadExpressions||typeof t!="string"?this.titleFromDisplayField:t}async getTitle(t,r,n){const i=r.getObjectId()??r.attributes[t.objectIdField];return(await this.getTitles(t,[r],n)).get(i)??""}async getTitles(t,r,n){const i=new Map,s=n?.timeZone??"system";try{const[{substituteFieldsInLinksAndAttributes:o}]=await Promise.all([this.featureUtilsPromise,this._arcadeTask?.promise]);n?.fetchMissingFields&&(r=await this._checkAndReQueryGraphics(t,r));const{fieldInfoMap:a,workingTitle:l}=this,c=l&&a;r.forEach(d=>{const p=d.getObjectId()??d.attributes[t.objectIdField],y=c?o({attributes:d.attributes,expressionAttributes:null,fieldInfoMap:a,globalAttributes:this._createFormattedAttributes(t,d,s).global,layer:t,text:l}):"";i.set(p,y)})}catch{}return i}async _checkAndReQueryGraphics(t,r){const n=r.map(i=>i.getObjectId()??i.attributes[t.objectIdField]).filter(t1);if(n.length!==r.length)return r;if(r.some(i=>!_Se(i,this.requiredFields))){const i=t.createQuery();i.where="1=1",i.outFields=[...this.requiredFields],i.objectIds=n;const s=await t.queryFeatures(i);if(s?.features.length===r.length)return s.features}return r}_createFieldInfoMap(t){const r=new Map;if(!t)return r;for(const n of t){if(!n.fieldName)continue;const i=this.fieldsIndex.get(n.fieldName),s=i?.name??n.fieldName;n.fieldName=s,r.set(s.toLowerCase(),n)}return r}_createFormattedAttributes(t,r,n="system"){const i=this.effectivePopupTemplate?.fieldInfos??[],s={};if(!this._featureUtils)return{};if(!this.hasBadExpressions&&this.calculatedExpressions.length>0&&this._arcadeTask?.value){const a=this._arcadeTask.value.Feature.createFromGraphicLikeObject(r.geometry,r.attributes,t,null);for(const l of this.calculatedExpressions)try{s[`expression/${l.name}`]=l.func({vars:{$feature:a}})}catch{}}const o={...r.attributes,...s};return{globalThis:this._featureUtils.formatAttributes({fieldInfos:i,attributes:o,graphic:r,timeZone:n,layer:t,fieldInfoMap:this.fieldInfoMap}),content:[]}}_extractFieldNames(t){return KR(t).filter(r=>!(r.indexOf(iAe)===0||r.indexOf(sAe)===0))}};u([f({readOnly:!0})],Bn.prototype,"_arcadeTask",null),u([f()],Bn.prototype,"_featureUtils",void 0),u([f({readOnly:!0})],Bn.prototype,"featureUtilsPromise",null),u([f({readOnly:!0})],Bn.prototype,"calculatedExpressions",null),u([f()],Bn.prototype,"displayField",void 0),u([f()],Bn.prototype,"effectivePopupTemplate",void 0),u([f()],Bn.prototype,"expressionsUsedInTitle",null),u([f()],Bn.prototype,"fieldsIndex",void 0),u([f()],Bn.prototype,"fieldInfoMap",null),u([f()],Bn.prototype,"fields",void 0),u([f()],Bn.prototype,"objectIdField",void 0),u([f()],Bn.prototype,"requiredFields",null),Bn=u([A("esri.layers.support.TitleCreator")],Bn);const Gf=[];function oAe(e,t){if(o_(e.url??""))return!0;const{wkid:r}=t;for(const n of Gf){if((e.version??0)>=n[0])return!0;if(typeof n[1]=="function"&&(n[1]=n[1]()),n[1].has(r))return!1}return!0}Gf.push([10.91,()=>{const e=new Set([9709,9716,9741,9761,9766]);for(let t=9712;t<=9713;t++)e.add(t);for(let t=9748;t<=9749;t++)e.add(t);for(let t=20904;t<=20932;t++)e.add(t);for(let t=21004;t<=21032;t++)e.add(t);for(let t=21207;t<=21264;t++)e.add(t);for(let t=21307;t<=21364;t++)e.add(t);for(let t=23301;t<=23333;t++)e.add(t);for(let t=102759;t<=102760;t++)e.add(t);for(let t=102934;t<=102955;t++)e.add(t);return e}]),Gf.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let t=9356;t<=9360;t++)e.add(t);for(let t=9404;t<=9407;t++)e.add(t);for(let t=9476;t<=9482;t++)e.add(t);for(let t=9487;t<=9494;t++)e.add(t);for(let t=9697;t<=9699;t++)e.add(t);return e}]),Gf.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(let t=9248;t<=9254;t++)e.add(t);for(let t=9271;t<=9273;t++)e.add(t);for(let t=9284;t<=9285;t++)e.add(t);for(let t=21453;t<=21463;t++)e.add(t);return e}]),Gf.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let t=8035;t<=8036;t++)e.add(t);for(let t=8455;t<=8456;t++)e.add(t);for(let t=8518;t<=8529;t++)e.add(t);for(let t=8533;t<=8536;t++)e.add(t);for(let t=8538;t<=8540;t++)e.add(t);for(let t=8677;t<=8679;t++)e.add(t);for(let t=8902;t<=8903;t++)e.add(t);for(let t=8907;t<=8910;t++)e.add(t);for(let t=8949;t<=8951;t++)e.add(t);for(let t=8972;t<=8987;t++)e.add(t);for(let t=9039;t<=9040;t++)e.add(t);for(let t=9068;t<=9069;t++)e.add(t);for(let t=9140;t<=9141;t++)e.add(t);for(let t=9148;t<=9150;t++)e.add(t);for(let t=9153;t<=9159;t++)e.add(t);for(let t=9205;t<=9218;t++)e.add(t);for(let t=9221;t<=9222;t++)e.add(t);for(let t=54098;t<=54101;t++)e.add(t);return e}]),Gf.push([10.71,()=>{const e=new Set([6316]);for(let t=8351;t<=8353;t++)e.add(t);for(let t=9294;t<=9297;t++)e.add(t);for(let t=22619;t<=22621;t++)e.add(t);for(let t=103586;t<=103594;t++)e.add(t);return e}]);async function aAe(e,t,r){const n=e&&e.getAtOrigin&&e.getAtOrigin("renderer",t.origin);if(n&&n.type==="unique-value"&&n.styleOrigin){const i=await lR(n.populateFromStyle());if(Un(r),i.ok===!1){const s=i.error;t?.messages&&t.messages.push(new Ro("renderer:style-reference",`Failed to create unique value renderer from style reference: ${s.message}`,{error:s,context:t})),e.clear("renderer",t?.origin)}}}function lAe({displayField:e,editFieldsInfo:t,fields:r,objectIdField:n,title:i},s){if(!r)return null;const o=pAe({editFieldsInfo:t,fields:r,objectIdField:n},s);if(!o.length)return null;const a=yAe({titleBase:i,fields:r,displayField:e}),l=hAe();return new pm({title:a,content:l,fieldInfos:o})}const uAe=(e,t)=>t.visibleFieldNames?t.visibleFieldNames.has(e.name):rSe(e,t);function cAe({fields:e,ignoreFieldTypes:t,sortDisabled:r}){const n=e;return t&&(e=e.filter(i=>!t.includes(i.type))),e===n&&(e=e.slice()),r!==!0&&e.sort(dAe),e}function dAe(e,t){return e.type==="oid"?-1:t.type==="oid"?1:VU(e)?-1:VU(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function pAe(e,t){const r=t?.visibleFieldNames;return cAe({fields:e.fields??[],ignoreFieldTypes:t?.ignoreFieldTypes||mAe,sortDisabled:t?.sortDisabled}).map(n=>new ZR({fieldName:n.name,isEditable:tSe(n,e),label:n.alias,format:fAe(n),visible:uAe(n,{...e,visibleFieldNames:r})}))}function fAe(e){switch(e.type){case"small-integer":case"integer":case"single":return new Bx({digitSeparator:!0,places:0});case"double":return new Bx({digitSeparator:!0,places:2});case"string":return TSe(e.name)?new Bx({digitSeparator:!0,places:0}):void 0;default:return}}function hAe(){return[new vy,new gy]}function yAe(e){const t=Jxe(e),{titleBase:r}=e;return t?`${r}: {${t.trim()}}`:r??""}function VU(e){return(e.name&&e.name.toLowerCase())==="name"?!0:e.alias?.toLowerCase()==="name"}const mAe=["geometry","blob","raster","guid","xml"],an="FeatureLayer";function Nw(e,t){return new K("layer:unsupported",`Layer (${e.title}, ${e.id}) of type '${e.declaredClass}' ${t}`,{layer:e})}function qU(e){return e&&e instanceof Te}const JE=eAe();function KE(e,t,r){const n=!!r?.writeLayerSchema;return{enabled:n,ignoreOrigin:n}}let ge=class extends VOe(Nje(E$e(Vje(b$e(m$e(s$e(Uje(Qje(Xje(Kje(Jje(N2e(Rje(zje(rT(o$e(C2e(Se.ClonableMixin(Wt))))))))))))))))))){constructor(...e){super(...e),this.attributeTableTemplate=null,this.charts=null,this.copyright=null,this.displayField=null,this.dynamicDataSource=null,this.fields=null,this.fieldsIndex=null,this.formTemplate=null,this.fullExtent=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType="ArcGISFeatureLayer",this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.resourceInfo=null,this.screenSizePerspectiveEnabled=!0,this.spatialReference=be.WGS84,this.subtypeCode=null,this.supportedSourceTypes=new Set(["Feature Layer","Oriented Imagery Layer","Table","Catalog Layer"]),this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.type="feature",this.typeIdField=null,this.types=null,this.visible=!0,this._debouncedSaveOperations=GM(async(t,r,n)=>{const{save:i,saveAs:s}=await ae(()=>import("./featureLayerUtils-f90f3a80.js"),["assets/featureLayerUtils-f90f3a80.js","assets/originUtils-0a415ab4.js","assets/utils-60de9a9b.js","assets/saveUtils-f47506af.js","assets/fetchService-d6a5b823.js"]);switch(t){case ya.SAVE:return i(this,r);case ya.SAVE_AS:return s(this,n,r)}})}destroy(){this.source?.destroy()}normalizeCtorArgs(e,t){return typeof e=="string"?{url:e,...t}:e}load(e){const t=e!=null?e.signal:null;if(this.portalItem?.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(t).then(n=>this.initLayerProperties(n))),Promise.resolve(this);const r=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},e).catch(ca).then(async()=>{if(this.url&&this.layerId==null&&/FeatureServer|MapServer\/*$/i.test(this.url)){const n=await this._fetchFirstValidLayerId(t);n!=null&&(this.layerId=n)}if(!this.url&&!this._hasMemorySource())throw new K("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this.initLayerProperties(await this.createGraphicsSource(t))}).then(()=>mOe(this,"load",e));return this.addResolvingPromise(r),Promise.resolve(this)}get _titleCreator(){const e=this._get("_titleCreator");return As(e),new Bn({fieldsIndex:this.fieldsIndex,objectIdField:this.objectIdField,fields:this.fields,displayField:this.displayField,effectivePopupTemplate:this.popupTemplate??this.defaultPopupTemplate})}readCapabilities(e,t){return t=t.layerDefinition||t,see(t,this.url)}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")??0)+1}get editingEnabled(){return!(this.loaded&&!this.capabilities?.operations.supportsEditing)&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(e){this._overrideIfSome("editingEnabled",e)}readEditingEnabled(e,t){return this._readEditingEnabled(t,!1)}readEditingEnabledFromWebMap(e,t,r){return this._readEditingEnabled(t,!0,r)}writeEditingEnabled(e,t){this._writeEditingEnabled(e,t,!1)}writeEditingEnabledToWebMap(e,t,r,n){this._writeEditingEnabled(e,t,!0,n)}get effectiveEditingEnabled(){return gOe(this)}get featureTitleFields(){return[...this._titleCreator.requiredFields]}readIsTable(e,t){return(t=t?.layerDefinition??t).type==="Table"||!t.geometryType}writeIsTable(e,t,r,n){n?.writeLayerSchema&&or(r,e?"Table":"Feature Layer",t)}readGlobalIdField(e,t){return KX(t.layerDefinition||t)}readObjectIdField(e,t){return ZX(t.layerDefinition||t)}get parsedUrl(){const e=sn(this.url);return e!=null&&(this.dynamicDataSource!=null?e.path=hp(e.path,"dynamicLayer"):this.layerId!=null&&(e.path=hp(e.path,this.layerId.toString()))),e}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){L6(e,this.fieldsIndex),this._set("renderer",e)}readRenderer(e,t,r){t=t.layerDefinition||t;const n=t.drawingInfo?.renderer;if(n){const i=Fv(n,t,r)??void 0;return i||ce.getLogger(this).error("Failed to create renderer",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:r}),i}return gL(t,r)}set source(e){const t=this._get("source");t!==e&&(qU(t)&&this._resetMemorySource(t),qU(e)&&this._initMemorySource(e),this._set("source",e))}castSource(e){return e?Array.isArray(e)||e instanceof Te?new al({layer:this,items:e}):e:null}readSource(e,t){const r=Rr.fromJSON(t.featureSet);return new al({layer:this,items:r?.features??[]})}readTemplates(e,t){const r=t.editFieldsInfo,n=r?.creatorField,i=r?.editorField;return e=e?.map(s=>ua.fromJSON(s)),this._fixTemplates(e,n),this._fixTemplates(e,i),e}readTitle(e,t){const r=t.layerDefinition?.name??t.name,n=t.title||t.layerDefinition?.title;if(r){const i=this.portalItem?.title;if(this.sublayerTitleMode==="item-title")return this.url?Dpe(this.url,r):r;let s=r;if(!s&&this.url){const o=Ul(this.url);o!=null&&(s=o.title)}return s?(this.sublayerTitleMode==="item-title-and-service-name"&&i&&i!==s&&(s=i+" - "+s),HM(s)):void 0}if(this.sublayerTitleMode==="item-title"&&n)return n}readTitleFromWebMap(e,t){return t.title||t.layerDefinition?.name}readTypeIdField(e,t){let r=(t=t.layerDefinition||t).typeIdField;if(r&&t.fields){r=r.toLowerCase();const n=t.fields.find(i=>i.name.toLowerCase()===r);n&&(r=n.name)}return r}readTypes(e,t){e=(t=t.layerDefinition||t).types;const r=t.editFieldsInfo,n=r?.creatorField,i=r?.editorField;return e?.map(s=>(s=aa.fromJSON(s),this._fixTemplates(s.templates,n),this._fixTemplates(s.templates,i),s))}readVisible(e,t){return t.layerDefinition?.defaultVisibility!=null?!!t.layerDefinition.defaultVisibility:t.visibility!=null?!!t.visibility:void 0}async addAttachment(e,t){const r=await ZTe(this,e,t,an);return this.lastEditsEventDate=new Date,r}async updateAttachment(e,t,r){const n=await YTe(this,e,t,r,an);return this.lastEditsEventDate=new Date,n}async applyEdits(e,t){return QTe(this,e,t)}async uploadAssets(e,t){return XTe(this,e,t)}on(e,t){return super.on(e,t)}createPopupTemplate(e){return lAe(this,e)}async createGraphicsSource(e){if(this._hasMemorySource()&&this.source)return this.source.load({signal:e});const{default:t}=await Ipe(ae(()=>import("./FeatureLayerSource-c840278a.js"),["assets/FeatureLayerSource-c840278a.js","assets/MeshLocalVertexSpace-b4d6a09d.js","assets/meshVertexSpaceUtils-738177a0.js","assets/vec32-37618b70.js","assets/External-3bf08a6c.js","assets/applyEditsUtils-6bf1024b.js","assets/MeshTransform-f54c0aff.js","assets/mat4f64-a3dc1405.js","assets/quat-3ef9ebee.js","assets/mat3f64-d34bdb1e.js","assets/quatf64-216ddd5a.js","assets/editingSupport-2c8a4f8f.js","assets/normalizeUtils-0f48385e.js","assets/normalizeUtilsCommon-676995ec.js","assets/clientSideDefaults-27e682e5.js","assets/QueryEngineCapabilities-4b2bc619.js","assets/QueryTask-383013f7.js","assets/executeQueryJSON-94f4f02d.js","assets/query-769e0ffd.js","assets/pbfQueryUtils-926ff7f8.js","assets/pbf-7aa9e413.js","assets/memoryEstimations-95fc020c.js","assets/OptimizedFeature-eb8a9ca3.js","assets/OptimizedFeatureSet-5dc8ee29.js","assets/featureConversionUtils-ecf55d9c.js"]),e);return new t({layer:this,supportedSourceTypes:this.supportedSourceTypes}).load({signal:e})}createQuery(){const e=uOe(this);e.dynamicDataSource=this.dynamicDataSource;const t=this.subtypeCode!=null?`${this.subtypeField} = ${this.subtypeCode}`:null,r=Ux(this.definitionExpression,t);return e.where=r||"1=1",e}async deleteAttachments(e,t){const r=await eOe(this,e,t,an);return this.lastEditsEventDate=new Date,r}async fetchRecomputedExtents(e){return tOe(this,e,an)}async getFeatureTitle(e,t){return this._titleCreator.getTitle(this,e,t)}async getFeatureTitles(e,t){return this._titleCreator.getTitles(this,e,t)}getFeatureType(e){return QX(this.types,this.typeIdField,e)}getFieldDomain(e,t){return dOe(this,e,t,this.getField(e)?.domain??null)}async queryAttachments(e,t){return rOe(this,e,t,an)}async queryFeatures(e,t){const r=await this.load(),n=await r.source.queryFeatures(xe.from(e)??r.createQuery(),t);if(n?.features)for(const i of n.features)i.layer=i.sourceLayer=r;return n}async queryObjectIds(e,t){return await nOe(this,e,t,an)}async queryFeatureCount(e,t){return iOe(this,e,t,an)}async queryExtent(e,t){return sOe(this,e,t,an)}async queryRelatedFeatures(e,t){return oOe(this,e,t,an)}async queryRelatedFeaturesCount(e,t){return aOe(this,e,t,an)}async queryTopFeatures(e,t){const{source:r,capabilities:n}=await this.load();if(!r.queryTopFeatures||!n?.query?.supportsTopFeaturesQuery)throw new K(an,"Layer source does not support queryTopFeatures capability");const i=await ae(()=>import("./TopFeaturesQuery-4c371583.js"),[]),s=await r.queryTopFeatures(i.default.from(e),t);if(s?.features)for(const o of s.features)o.layer=o.sourceLayer=this;return s}async queryAttributeBins(e,t){const{source:r,capabilities:n}=await this.load();if(!r.queryAttributeBins)throw new K(an,"Layer source does not support queryAttributeBins capability");xOe(e,n,an);const i=await ae(()=>import("./AttributeBinsQuery-c22038cd.js"),["assets/AttributeBinsQuery-c22038cd.js","assets/FixedIntervalBinParameters-acb79cef.js","assets/normalizeUtils-0f48385e.js","assets/normalizeUtilsCommon-676995ec.js","assets/json-48e3ea08.js"]),s=await r.queryAttributeBins(i.default.from(e),t);if(s.features)for(const o of s.features)o.layer=o.sourceLayer=this;return s}async queryTopObjectIds(e,t){const{source:r,capabilities:n}=await this.load();if(!r.queryTopObjectIds||!n?.query.supportsTopFeaturesQuery)throw new K(an,"Layer source does not support queryTopObjectIds capability");const i=await ae(()=>import("./TopFeaturesQuery-4c371583.js"),[]);return(await r.queryTopObjectIds(i.default.from(e),t)).filter(Axe)}async queryTopFeaturesExtent(e,t){const{source:r,capabilities:n}=await this.load();if(!r.queryTopExtents||!n?.query?.supportsTopFeaturesQuery)throw new K(an,"Layer source does not support queryTopExtents capability");const i=await ae(()=>import("./TopFeaturesQuery-4c371583.js"),[]);return r.queryTopExtents(i.default.from(e),t)}async queryTopFeatureCount(e,t){const{source:r,capabilities:n}=await this.load();if(!r.queryTopCount||!n?.query?.supportsTopFeaturesQuery)throw new K(an,"Layer source does not support queryFeatureCount capability");const i=await ae(()=>import("./TopFeaturesQuery-4c371583.js"),[]);return r.queryTopCount(i.default.from(e),t)}read(e,t){const r=e.featureCollection;if((r||e.type==="Feature Collection")&&(this.resourceInfo=e),r){const{layers:n,showLegend:i}=r;n?.length===1&&(super.read(n[0],t),i!=null&&super.read({showLegend:i},t))}super.read(e,t),t&&t.origin==="service"&&(this.revert(["objectIdField","fields","timeInfo","dateFieldsTimeZone"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))}write(e,t){t={...t,origin:t?.origin??void 0,writeLayerSchema:t?.writeLayerSchema??this._hasMemorySource()};const{origin:r,layerContainerType:n,messages:i}=t;if(this.dynamicDataSource)return i?.push(Nw(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if((r==="web-map"||r==="web-scene")&&n!=="tables")return i?.push(Nw(this,`a table source can only be written to tables, not ${n}`)),null;if(this._hasMemorySource())return i?.push(Nw(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&(r==="web-map"||r==="web-scene")&&n==="tables")return i?.push(Nw(this,"using a non-table source cannot be written to tables in web maps or web scenes")),null;return super.write(e,t)}clone(){if(this._hasMemorySource())throw new K(an,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(e){return!!this.loaded&&(this.source?.type==="memory"||oAe(this,e))}async save(e){return this._debouncedSaveOperations(ya.SAVE,e)}async saveAs(e,t){return this._debouncedSaveOperations(ya.SAVE_AS,t,e)}_readEditingEnabled(e,t,r){let n=e.layerDefinition?.capabilities;return n?this._hasEditingCapability(n):(n=e.capabilities,t&&r?.origin==="web-map"&&!this._hasMemorySource()&&n?this._hasEditingCapability(n):void 0)}_hasEditingCapability(e){return e.toLowerCase().split(",").map(t=>t.trim()).includes("editing")}_writeEditingEnabled(e,t,r,n){if(!e){const i=this.capabilities?.operations?.supportsSync?"Query,Sync":"Query";or("layerDefinition.capabilities",i,t),r&&!n?.writeLayerSchema&&(t.capabilities=i)}}_fetchFirstValidLayerId(e){return nt(this.url??"",{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:e}).then(t=>{const r=t.data;if(r)return this.applyPreferredHost(r),this.findFirstValidLayerId(r)})}async initLayerProperties(e){return this._set("source",e),e.sourceJSON&&(this.sourceJSON=e.sourceJSON,this.read(e.sourceJSON,{origin:"service",portalItem:this.portalItem,portal:this.portalItem?.portal,url:this.parsedUrl})),this._verifySource(),this._verifyFields(),L6(this.renderer,this.fieldsIndex),_Q(this.timeInfo,this.fieldsIndex),this._hasMemorySource()&&this.geometryType==="mesh"&&(this.capabilities.query.supportsReturnMesh=!0),aAe(this,{origin:"service"})}async hasDataChanged(){return lOe(this)}async fetchPublishingStatus(){const e=this.source;return e?.fetchPublishingStatus?e.fetchPublishingStatus():"unavailable"}_verifyFields(){const e=this.parsedUrl?.path??"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+e+")"),this.isTable||this._hasMemorySource()||e.search(/\/FeatureServer\//i)!==-1||this.fields?.some(t=>t.type==="geometry")||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+e+")")}_fixTemplates(e,t){e&&e.forEach(r=>{const n=r.prototype?.attributes;n&&t&&delete n[t]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new K("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new K("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(e){e.forEach(t=>{t.layer=this,t.sourceLayer=this}),this.addHandles([e.on("after-add",t=>{t.item.layer=this,t.item.sourceLayer=this}),e.on("after-remove",t=>{t.item.layer=null,t.item.sourceLayer=null})],"fl-source")}_resetMemorySource(e){e.forEach(t=>{t.layer=null,t.sourceLayer=null}),this.removeHandles("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}findFirstValidLayerId(e){return Array.isArray(e.layers)&&e.layers.length>0?e.layers[0].id:Array.isArray(e.tables)&&e.tables.length>0?e.tables[0].id:void 0}};u([f({clonable:!1,readOnly:!0})],ge.prototype,"_titleCreator",null),u([f(q$e)],ge.prototype,"attributeTableTemplate",void 0),u([X("service","capabilities")],ge.prototype,"readCapabilities",null),u([f({json:{origins:{"web-scene":{write:!1}},write:!0}})],ge.prototype,"charts",void 0),u([f({readOnly:!0})],ge.prototype,"createQueryVersion",null),u([f({json:{read:{source:"layerDefinition.copyrightText"}}})],ge.prototype,"copyright",void 0),u([f({json:{read:{source:"layerDefinition.displayField"}}})],ge.prototype,"displayField",void 0),u([f({types:Zu,readOnly:!0})],ge.prototype,"defaultSymbol",void 0),u([f({type:po})],ge.prototype,"dynamicDataSource",void 0),u([f({type:Boolean})],ge.prototype,"editingEnabled",null),u([X(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],ge.prototype,"readEditingEnabled",null),u([X("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],ge.prototype,"readEditingEnabledFromWebMap",null),u([re(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],ge.prototype,"writeEditingEnabled",null),u([re("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],ge.prototype,"writeEditingEnabledToWebMap",null),u([f({readOnly:!0})],ge.prototype,"effectiveEditingEnabled",null),u([f({clonable:!1,readOnly:!0})],ge.prototype,"featureTitleFields",null),u([f({...JE.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:KE}}}}})],ge.prototype,"fields",void 0),u([f(JE.fieldsIndex)],ge.prototype,"fieldsIndex",void 0),u([f({type:r2e,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],ge.prototype,"formTemplate",void 0),u([f({json:{read:{source:"layerDefinition.extent"}}})],ge.prototype,"fullExtent",void 0),u([f({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:KE,writer(e,t,r){const n=e?PC.toJSON(e):null;n&&or(r,n,t)}}}},read:{source:"layerDefinition.geometryType",reader:PC.read}}})],ge.prototype,"geometryType",void 0),u([f({json:{read:{source:"layerDefinition.hasM"}}})],ge.prototype,"hasM",void 0),u([f({json:{read:{source:"layerDefinition.hasZ"}}})],ge.prototype,"hasZ",void 0),u([f(z$e)],ge.prototype,"id",void 0),u([f({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],ge.prototype,"infoFor3D",void 0),u([f({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],ge.prototype,"isTable",void 0),u([X("service","isTable",["type","geometryType"]),X("isTable",["layerDefinition.type","layerDefinition.geometryType"])],ge.prototype,"readIsTable",null),u([re("web-map","isTable")],ge.prototype,"writeIsTable",null),u([f(dT)],ge.prototype,"labelsVisible",void 0),u([f({type:[At],json:{origins:{service:{name:"drawingInfo.labelingInfo",read:zU,write:!1}},name:"layerDefinition.drawingInfo.labelingInfo",read:zU,write:{layerContainerTypes:xt}}})],ge.prototype,"labelingInfo",void 0),u([f((()=>{const e=D(U$e);return e.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(t,r,n){or(n,Z$(t),r)}}},e})())],ge.prototype,"opacity",void 0),u([f(D$e)],ge.prototype,"legendEnabled",void 0),u([f({type:["show","hide"],json:(()=>{const e=D(MX.json);return e.origins["portal-item"]={read:!1,write:!1},e})()})],ge.prototype,"listMode",void 0),u([X("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],ge.prototype,"readGlobalIdField",null),u([f({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:KE}}}}})],ge.prototype,"objectIdField",void 0),u([X("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],ge.prototype,"readObjectIdField",null),u([f({type:["ArcGISFeatureLayer"],json:{write:{target:"layerType",ignoreOrigin:!0,layerContainerTypes:xt}}})],ge.prototype,"operationalLayerType",void 0),u([f(JE.outFields)],ge.prototype,"outFields",void 0),u([f({readOnly:!0})],ge.prototype,"parsedUrl",null),u([f({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],ge.prototype,"path",void 0),u([f(cT)],ge.prototype,"popupEnabled",void 0),u([f({type:pm,json:{name:"popupInfo",write:!0}})],ge.prototype,"popupTemplate",void 0),u([f({readOnly:!0})],ge.prototype,"defaultPopupTemplate",null),u([f({types:b1,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:Sje,name:"layerDefinition.drawingInfo.renderer",write:{layerContainerTypes:xt,overridePolicy:(e,t,r)=>({ignoreOrigin:r?.writeLayerSchema,layerContainerTypes:xt})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(e,t,r)=>({ignoreOrigin:r?.writeLayerSchema,layerContainerTypes:xt})}}})],ge.prototype,"renderer",null),u([X("service","renderer",["drawingInfo.renderer","defaultSymbol"]),X("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],ge.prototype,"readRenderer",null),u([f()],ge.prototype,"resourceInfo",void 0),u([f((()=>{const e=D(R$e);return e.json.origins["portal-item"]={read:!1,write:!1},e})())],ge.prototype,"screenSizePerspectiveEnabled",void 0),u([f({clonable:!1})],ge.prototype,"source",null),u([ht("source")],ge.prototype,"castSource",null),u([X("portal-item","source",["featureSet"]),X("web-map","source",["featureSet"])],ge.prototype,"readSource",null),u([f({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],ge.prototype,"spatialReference",void 0),u([f({type:Number})],ge.prototype,"subtypeCode",void 0),u([f({type:[ua]})],ge.prototype,"templates",void 0),u([X("templates",["editFieldsInfo","creatorField","editorField","templates"])],ge.prototype,"readTemplates",null),u([f({type:Jr})],ge.prototype,"timeInfo",void 0),u([f()],ge.prototype,"title",void 0),u([X("service","title",["name"]),X("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],ge.prototype,"readTitle",null),u([X("web-map","title",["layerDefinition.name","title"])],ge.prototype,"readTitleFromWebMap",null),u([f({type:String})],ge.prototype,"sublayerTitleMode",void 0),u([f({json:{read:!1}})],ge.prototype,"type",void 0),u([f({type:String})],ge.prototype,"typeIdField",void 0),u([X("service","typeIdField"),X("typeIdField",["layerDefinition.typeIdField"])],ge.prototype,"readTypeIdField",null),u([f({type:[aa]})],ge.prototype,"types",void 0),u([X("service","types",["types"]),X("types",["layerDefinition.types"])],ge.prototype,"readTypes",null),u([f({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility",layerContainerTypes:xt}}}}})],ge.prototype,"visible",void 0),u([X("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],ge.prototype,"readVisible",null),ge=u([A("esri.layers.FeatureLayer")],ge);const pit=Object.freeze(Object.defineProperty({__proto__:null,get default(){return ge}},Symbol.toStringTag,{value:"Module"}));let Qa=class extends z{constructor(t){super(t),this.moment=null,this.fullUpdate=!1,this.validateErrorsCreated=!1,this.exceededTransferLimit=null,this.serviceEdits=null,this.discoveredSubnetworks=null}};u([f({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.moment=e?e.getTime():null}}}})],Qa.prototype,"moment",void 0),u([f({type:Boolean,json:{write:!0}})],Qa.prototype,"fullUpdate",void 0),u([f({type:Boolean,json:{write:!0}})],Qa.prototype,"validateErrorsCreated",void 0),u([f({type:Boolean,json:{write:!0}})],Qa.prototype,"exceededTransferLimit",void 0),u([f({type:[Object],json:{write:!0}})],Qa.prototype,"serviceEdits",void 0),u([f({type:[Object],json:{write:!0}})],Qa.prototype,"discoveredSubnetworks",void 0),Qa=u([A("esri.rest.networks.support.ValidateNetworkTopologyResult")],Qa);const gAe=Qa,vAe=Ar()({Pending:"job-waiting",InProgress:"job-executing",Completed:"job-succeeded"});let vu=class extends gAe{constructor(t){super(t),this.statusUrl=null,this.status=null,this.submissionTime=null,this.lastUpdatedTime=null,this._timer=void 0}destroy(){clearInterval(this._timer)}async checkJobStatus(t){const r={...t,query:{f:"json"}},{data:n}=await nt(this.statusUrl,r);return this.read(n),this.editsResolver&&this.editsResolver.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:!0,historicMoment:null}),this}async waitForJobCompletion(t={}){const{interval:r=1e3,statusCallback:n}=t;return new Promise((i,s)=>{this._clearTimer();const o=setInterval(()=>{this._timer||s(gr()),this.checkJobStatus().then(a=>{const{status:l}=a;switch(this.status=l,l){case"job-succeeded":this._clearTimer(),i(this);break;case"job-waiting":case"job-executing":n&&n(this)}},a=>{this._clearTimer(),s(a)})},r);this._timer=o})}_clearTimer(){clearInterval(this._timer),this._timer=void 0}};u([f()],vu.prototype,"editsResolver",void 0),u([f({type:String,json:{write:!0}})],vu.prototype,"statusUrl",void 0),u([ye(vAe)],vu.prototype,"status",void 0),u([f({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.submissionTime=e?e.getTime():null}}}})],vu.prototype,"submissionTime",void 0),u([f({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.lastUpdatedTime=e?e.getTime():null}}}})],vu.prototype,"lastUpdatedTime",void 0),vu=u([A("esri.networks.support.TopologyValidationJobInfo")],vu);const bAe=vu;var nr;(function(e){e[e.RTJunctionJunctionConnectivity=1]="RTJunctionJunctionConnectivity",e[e.RTContainment=2]="RTContainment",e[e.RTAttachment=3]="RTAttachment",e[e.RTJunctionEdgeConnectivity=4]="RTJunctionEdgeConnectivity",e[e.RTEdgeJunctionEdgeConnectivity=5]="RTEdgeJunctionEdgeConnectivity"})(nr||(nr={}));const Mw=new Pe({connected:"connected",upstream:"upstream",downstream:"downstream",shortestPath:"shortest-path",subnetwork:"subnetwork",subnetworkController:"subnetwork-controller",loops:"loops",isolation:"isolation",path:"path",circuit:"circuit"}),yit=new Pe({junctionJunctionConnectivity:"junction-junction-connectivity",connectivity:"connectivity",attachment:"attachment",containment:"containment",junctionEdgeFromConnectivity:"junction-edge-from-connectivity",junctionEdgeMidspanConnectivity:"junction-edge-midspan-connectivity",junctionEdgeToConnectivity:"junction-edge-to-connectivity"}),wAe={connectivity:1,"junction-junction-connectivity":1,containment:2,attachment:3,"junction-edge-from-connectivity":4,"junction-edge-midspan-connectivity":5,"junction-edge-to-connectivity":6},mit=new Pe({normal:"normal",rebuild:"rebuild",forceRebuild:"force-rebuild"});function xAe(e,t,r="from"){const{fromRuleElement:n,viaRuleElement:i,toRuleElement:s}=Bee(e),o=[];switch(e.ruleType){case nr.RTContainment:case nr.RTAttachment:r==="from"&&yo(t,n,!1)?o.push(s):r==="to"&&yo(t,s,!1)&&o.push(n);break;case nr.RTJunctionEdgeConnectivity:case nr.RTJunctionJunctionConnectivity:yo(t,n,!0)?o.push(s):yo(t,s,!0)&&o.push(n);break;case nr.RTEdgeJunctionEdgeConnectivity:i&&(yo(t,i,!0)?(o.push(n),o.push(s)):(yo(t,n,!0)||yo(t,s,!0))&&o.push(i));break;default:return[]}return o}function ig(e,t,r){const{fromRuleElement:n,viaRuleElement:i,toRuleElement:s}=Bee(e);switch(e.ruleType){case nr.RTContainment:case nr.RTAttachment:return Rw(t,r,n,s,!1,!1);case nr.RTJunctionEdgeConnectivity:case nr.RTJunctionJunctionConnectivity:return Rw(t,r,n,s,!0,!0);case nr.RTEdgeJunctionEdgeConnectivity:return Rw(t,r,n,i,!0,!0)||Rw(t,r,s,i,!0,!0);default:return!1}}function Rw(e,t,r,n,i,s){if(!r||!n)return!1;const o=yo(e,r,s),a=yo(t,n,s);if(i){const l=yo(e,n,s),c=yo(t,r,s);return o&&a||l&&c}return o&&a}function SAe(e,t){const r=e.terminal?.terminalId,n=t.terminalId;return r==null&&n==null||(r===1?n==null||n===1:r===n)}function yo(e,t,r){const{assetGroupCode:n,assetTypeCode:i}=e;return("layerId"in e?e.layerId===t.networkSource?.layerId:e.networkSourceId===t.networkSource?.sourceId)&&(n==null||n===t.assetGroup?.assetGroupCode)&&(i==null||i===t.assetType?.assetTypeCode)&&(!r||!("terminalId"in e)||SAe(t,e))}function Bee(e){return{fromRuleElement:{networkSource:e.fromNetworkSource,assetGroup:e.fromAssetGroup,assetType:e.fromAssetType,terminal:e.fromTerminal},viaRuleElement:e.viaNetworkSource?{networkSource:e.viaNetworkSource,assetGroup:e.viaAssetGroup,assetType:e.viaAssetType,terminal:e.viaTerminal}:void 0,toRuleElement:{networkSource:e.toNetworkSource,assetGroup:e.toAssetGroup,assetType:e.toAssetType,terminal:e.toTerminal}}}function df(e){let t=null,r=null,n=null;if(vQ(e))t=XC(e),[r,n]=_Ae(e);else if(RZ(e)){t=e.parent?.layerId??null;const[i]=Z_(e);i===e.subtypeField&&(r=e.subtypeCode)}else t=e.layerId??null;return{layerId:t,assetGroupCode:r,assetTypeCode:n}}function XC(e){const{sourceLayer:t}=e;let r;return Hge(t)?r=t.layerId:RZ(t)&&(r=t.parent?.layerId),r??null}function _Ae(e){const[t,r]=Z_(e.sourceLayer);return[t?e.attributes[t]:null,r?e.attributes[r]:null]}function Z_(e){return!e||!("fieldsIndex"in e)?[null,null]:[e.fieldsIndex.normalizeFieldName("assetGroup")??null,e.fieldsIndex.normalizeFieldName("assetType")??null]}async function GU(e,t){if(e==="Utility Network Layer"){const{default:r}=await ae(()=>Promise.resolve().then(()=>RAe),void 0);return new r({layerUrl:t})}return null}async function $Ae(e){let t="portalItem"in e?e:{portalItem:e};!t.portalItem||t.portalItem instanceof $e||(t={...t,portalItem:new $e(t.portalItem)});const r=t.portalItem;if(await r.load(),r.type!=="Feature Service")throw new K("portal:unknown-item-type","Unknown item type '${type}'",{type:r.type});const n=r.url,i=await nt(n,{responseType:"json",query:{f:"json"}}),s="Network Layer";if(i.data.type?.includes(s))return GU(i.data.type,n);if(i.data.layers){const o=i.data.layers.find(a=>a.type.includes(s));if(o){const a=`${n}/${o.id}`;return GU(o.type,a)}}return null}let cr=class extends rT(xi){static fromPortalItem(e){return $Ae(e)}constructor(e){super(e),this.id=null,this.title=null,this.layerUrl=null,this.dataElement=null,this.fullExtent=null,this.spatialReference=null,this.type=null,this.sourceJSON=null,this.gdbVersion=null,this.historicMoment=null,this._sourceIdByLayerId=new Map,this._layerIdBySourceId=new Map,this._applyEditsHandler=t=>{const{serviceUrl:r,gdbVersion:n,result:i}=t,s=r===this.featureServiceUrl,o=Ug(r,n,this.gdbVersion);s&&o&&i.then(a=>{cS(r,n)&&(this.historicMoment=a.historicMoment)})},this._updateMomentHandler=t=>{const{serviceUrl:r,gdbVersion:n,moment:i}=t,s=r===this.featureServiceUrl,o=Ug(r,n,this.gdbVersion);s&&o&&(this.historicMoment=i)},this.when().then(()=>{this.addHandles([OX(this._applyEditsHandler),EX(this._updateMomentHandler)])},()=>{})}initialize(){this.when().catch(e=>{Ls(e)||ce.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:e})})}get datasetName(){return this.dataElement?.name??null}get owner(){return this.dataElement?.userIdentity??null}get schemaGeneration(){return this.dataElement?.schemaGeneration??null}get parsedUrl(){return sn(this.layerUrl)}get featureServiceUrl(){return Ul(this.parsedUrl.path).url.path}get networkServiceUrl(){return this.featureServiceUrl.replace(/\/FeatureServer/i,"/UtilityNetworkServer")}get layerId(){return Ul(this.parsedUrl.path).sublayer}get networkSystemLayers(){return null}async load(e){return this.addResolvingPromise(this._fetchDataElement(this.featureServiceUrl,this.layerId.toString(),e)),this.addResolvingPromise(this._fetchLayerMetaData(this.layerUrl,e)),this}getLayerIdBySourceId(e){if(!this.dataElement)return null;const t=this._layerIdBySourceId.get(e);if(t!=null)return t;const r=this.dataElement.domainNetworks,n=this._traverseNetworkSources(r,this._layerIdBySourceId,"sourceId","layerId",e);return n>=0?n:null}getSourceIdByLayerId(e){if(!this.dataElement)return null;const t=this._sourceIdByLayerId.get(e);if(t!=null)return t;const r=this.dataElement.domainNetworks,n=this._traverseNetworkSources(r,this._sourceIdByLayerId,"layerId","sourceId",e);return n>=0?n:null}getObjectIdsFromElements(e){const t=[],r=new Map;for(const i of e){const s=this.getLayerIdBySourceId(i.networkSourceId);if(s==null)continue;let o=r.get(s);o===void 0&&(o=[]),o.push(i.objectId),r.set(s,o)}const n=this.featureServiceUrl;return r.forEach((i,s)=>t.push({layerUrl:`${n}/${s}`,objectIds:i})),t}async queryNamedTraceConfigurations(e,t){const[{queryNamedTraceConfigurations:r},{default:n}]=await Promise.all([ae(()=>import("./queryNamedTraceConfigurations-c26f5b19.js"),[]),ae(()=>import("./QueryNamedTraceConfigurationsParameters-bb0c5679.js"),[])]),i=this.networkServiceUrl,s=n.from(e);return(await r(i,s,{...t}))?.namedTraceConfigurations}async validateTopology(e,t){if(!e.validateArea)throw new K("network:undefined-validateArea","the network must have validateArea defined in the validate network topology parameters.");const[{validateNetworkTopology:r},{default:n}]=await Promise.all([ae(()=>import("./validateNetworkTopology-f27a5795.js"),[]),ae(()=>import("./ValidateNetworkTopologyParameters-eb3c2f13.js"),[])]),i=n.from(e);cS(this.featureServiceUrl,this.gdbVersion||null)?(i.sessionID=Hk,await A8(this.featureServiceUrl,this.gdbVersion,!0)):i.sessionID=null,i.gdbVersion=this.gdbVersion;const s=this.networkServiceUrl,o=this.featureServiceUrl,a=I8(o,null,this.gdbVersion,!0),l=await r(s,i,{...t});if(l?.serviceEdits){const c=[];for(const d of l.serviceEdits){const{editedFeatures:p}=d,y=p?.spatialReference?new be(p.spatialReference):null;c.push({layerId:d.layerId,editedFeatures:{adds:p?.adds?.map(m=>Lw(m,y))||[],updates:p?.updates?.map(m=>({original:Lw(m[0],y),current:Lw(m[1],y)}))||[],deletes:p?.deletes?.map(m=>Lw(m,y))||[],spatialReference:y}})}a.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],editedFeatures:c,exceededTransferLimit:!1,historicMoment:l.moment})}return l}async submitTopologyValidationJob(e,t){let r=null;if(!e.validateArea)throw new K("network:undefined-validateArea","the network must have validateArea defined in the validate network topology parameters.");if(!this.gdbVersion){const c=this.layerUrl.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");r=(await nt(c,{responseType:"json",query:{f:"json"}})).data.defaultVersionName}const[{submitValidateNetworkTopologyJob:n},{default:i}]=await Promise.all([ae(()=>import("./validateNetworkTopology-f27a5795.js"),[]),ae(()=>import("./ValidateNetworkTopologyParameters-eb3c2f13.js"),[])]),s=i.from(e);cS(this.featureServiceUrl,this.gdbVersion||null)?(s.sessionID=Hk,await A8(this.featureServiceUrl,this.gdbVersion,!0)):s.sessionID=null,s.gdbVersion=this.gdbVersion||r;const o=this.networkServiceUrl,a=this.featureServiceUrl?I8(this.featureServiceUrl,null,this.gdbVersion,!0):void 0,l=await n(o,s,{...t});return new bAe({statusUrl:l,editsResolver:a})}getSourceTypeById(e){if(!this.dataElement)return null;for(const t of this.dataElement.domainNetworks)for(const r of[t.edgeSources??[],t.junctionSources??[]])for(const n of r)if(n.sourceId===e)return r===t.edgeSources?"edge":"junction";return null}_traverseNetworkSources(e,t,r,n,i){for(const s of e)for(const o of[s.edgeSources??[],s.junctionSources??[]])for(const a of o)if(a[r]===i)return t.set(i,a[n]),a[n];return-1}async _fetchLayerMetaData(e,t){const r=await nt(e,{responseType:"json",query:{f:"json"},...t});this.sourceJSON=r.data,this.read(r.data,{origin:"service"})}async _fetchDataElement(e,t,r){if(this.dataElement)return;const n=await nt(`${e}/queryDataElements`,{responseType:"json",query:{layers:JSON.stringify([t]),f:"json"},...r}).then(i=>i.data.layerDataElements?.[0]);n&&this.read(n,{origin:"service"})}};function Lw(e,t){return new _r({attributes:e.attributes,geometry:zl({...e.geometry,spatialReference:t})})}u([f({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}},service:{read:!0}},read:!1}})],cr.prototype,"id",void 0),u([f({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}},service:{read:{source:"name"}}},read:!1}})],cr.prototype,"title",void 0),u([f({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"url"},write:{target:"url",isRequired:!0}}},read:!1}})],cr.prototype,"layerUrl",void 0),u([f({type:Object,json:{origins:{service:{read:!0}},read:!1}})],cr.prototype,"dataElement",void 0),u([f({type:ze,json:{origins:{service:{read:{source:"extent"}}},read:!1}})],cr.prototype,"fullExtent",void 0),u([f({type:be,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:!1}})],cr.prototype,"spatialReference",void 0),u([f({type:["utility","trace"],readOnly:!0,json:{read:!1,write:!1}})],cr.prototype,"type",void 0),u([f({readOnly:!0})],cr.prototype,"datasetName",null),u([f({readOnly:!0})],cr.prototype,"owner",null),u([f({readOnly:!0})],cr.prototype,"schemaGeneration",null),u([f({readOnly:!0})],cr.prototype,"parsedUrl",null),u([f({readOnly:!0})],cr.prototype,"featureServiceUrl",null),u([f({readOnly:!0})],cr.prototype,"networkServiceUrl",null),u([f({readOnly:!0})],cr.prototype,"layerId",null),u([f()],cr.prototype,"sourceJSON",void 0),u([f({readOnly:!0})],cr.prototype,"networkSystemLayers",null),u([f()],cr.prototype,"gdbVersion",void 0),u([f({type:Date})],cr.prototype,"historicMoment",void 0),cr=u([A("esri.networks.Network")],cr);const TAe=cr;let bu=class extends z.JSONSupportMixin(xi){constructor(t){super(t),this.rulesCategorized={attachment:[],containment:[],connectivity:[]},this.request=nt}initialize(){}async load(t){const r=this.rulesLayer.load(t).then(()=>this._initializeRulesTable());return this.addResolvingPromise(r),this}getFeaturesCanAssociateWithClause(t,r,n){const i=new Map,[s,o]=Z_(t.sourceLayer);if(!s||!o)return"";const a=df(t),l=df(r);n.forEach(d=>{const{type:p,direction:y}=d;this._getRulesForAssociationType(p).forEach(m=>{xAe(m,a,y).filter(g=>g.networkSource?.layerId===l.layerId).forEach(g=>{const b=g.assetGroup?.assetGroupCode,w=g.assetType?.assetTypeCode;if(b!=null&&w!=null){const S=i.get(b)??new Set;S.add(w),i.set(b,S)}})})});let c=[];return this._mergeAssetCodes(i).forEach((d,p)=>{const y=`${s} IN (${p})`,m=Oxe(o,[...d]);y&&m&&c.push(Ux(y,m))}),c.length>1&&(c=c.map(d=>`(${d})`)),c.join(" OR ")}getFeaturesCanAssociateWith(t,r,n){return XC(t)==null?[]:r.filter(i=>this.canAssociateFeatures(t,i,n))}canAssociateFeatures(t,r,n){if(!this._canSupportAssociations([t,r]))return!1;const i=df(t),s=df(r);return n.some(o=>{const{type:a,direction:l}=o;return this._getRulesForAssociationType(a).some(c=>l==="to"?ig(c,s,i):ig(c,i,s))})}getLayersCanAssociateWith(t,r,n){return XC(t)==null?[]:r.filter(i=>this.canAssociateFeatureToLayer(t,i,n))}canAssociateFeatureToLayer(t,r,n){if(!this._canSupportAssociations([t,r]))return!1;const i=df(t),s=df(r);return n.some(o=>{const{type:a,direction:l}=o;return this._getRulesForAssociationType(a).some(c=>l==="to"?ig(c,s,i):ig(c,i,s))})}getFeatureSQL(t,r){const n=t.layerId.toString(),i=t.fieldsIndex?.normalizeFieldName("assetGroup"),s=t.fieldsIndex?.normalizeFieldName("assetType"),o=i?r.attributes[i]:null,a=s?r.attributes[s]:null,l=this.rulesHash[n];if(l){const c=l.assetGroupHash[o];if(c)return c.assetTypeHash[a]||null}return null}async _initializeRulesTable(){const t={};let r;(function(i){i[i.from=0]="from",i[i.to=1]="to",i[i.via=2]="via"})(r||(r={}));const n=[{networkSourceId:"fromNetworkSource",assetGroupId:"fromAssetGroup",assetTypeId:"fromAssetType"},{networkSourceId:"toNetworkSource",assetGroupId:"toAssetGroup",assetTypeId:"toAssetType"},{networkSourceId:"viaNetworkSource",assetGroupId:"viaAssetGroup",assetTypeId:"viaAssetType"}];this.rulesCategorized={attachment:[],containment:[],connectivity:[]};for(const i of this.rules){if(i.ruleType===nr.RTAttachment){this.rulesCategorized.attachment.push(i);continue}if(i.ruleType===nr.RTContainment){this.rulesCategorized.containment.push(i);continue}if(i.ruleType===nr.RTJunctionJunctionConnectivity){this.rulesCategorized.connectivity.push(i);continue}this.rulesCategorized.connectivity.push(i);let s=[[r.from,r.to],[r.to,r.from]];i.ruleType===nr.RTEdgeJunctionEdgeConnectivity&&(s=[[r.from,r.via],[r.via,r.from],[r.to,r.via],[r.via,r.to]]);for(const o of s){const a=o.shift(),l=o.shift();let c=!1;switch(i.ruleType){case nr.RTEdgeJunctionEdgeConnectivity:c=a===r.from||a===r.to;break;case nr.RTJunctionEdgeConnectivity:c=a===r.to}const d=n[a],p=i[d.networkSourceId]?.layerId.toString()??"",y=i[d.assetGroupId]?.assetGroupCode?.toString(),m=i[d.assetTypeId],g=m?.assetTypeCode?.toString(),b=n[l],w=i[b.networkSourceId]?.layerId.toString()??"",S=i[b.assetGroupId]?.assetGroupCode?.toString(),_=i[b.assetTypeId],x=_?.assetTypeCode?.toString(),O=t[p]??{assetGroupHash:{}};if(!(y&&g&&S&&x))continue;const $=O.assetGroupHash[y]??{assetTypeHash:{}},T=$.assetTypeHash[g]??{};if(T[w]=T[w]??{},c){T[p]=T[p]??{};const I=Ux(`assetgroup = ${y}`,`assettype = ${g}`);_?.connectivityPolicy==="esriNECPEndVertex"?T[p].endVertex=T[p]?.endVertex?`${T[p].endVertex}`:`(${I})`:T[p].anyVertex=T[p].anyVertex?`${T[p].anyVertex}`:`(${I})`}const j=Ux(`assetgroup = ${S}`,`assettype = ${x}`);_?.connectivityPolicy==="esriNECPEndVertex"?T[w].endVertex=T[w]?.endVertex?mP(T[w].endVertex,j):`(${j})`:T[w].anyVertex=T[w]?.anyVertex?mP(T[w].anyVertex,j):`(${j})`,$.assetTypeHash[g]=T,O.assetGroupHash[y]=$,t[p]=O}}this._set("rulesHash",t)}_getRulesForAssociationType(t){const{rulesCategorized:r}=this;switch(t){case"attachment":return r.attachment;case"containment":return r.containment;case"connectivity":case"junction-junction-connectivity":return r.connectivity.filter(n=>n.ruleType===nr.RTJunctionJunctionConnectivity);case"junction-edge-from-connectivity":case"junction-edge-midspan-connectivity":case"junction-edge-to-connectivity":return r.connectivity.filter(n=>n.ruleType===nr.RTJunctionEdgeConnectivity||n.ruleType===nr.RTEdgeJunctionEdgeConnectivity);default:return[]}}_areSetsEqual(t,r){if(t.size!==r.size)return!1;for(const n of t)if(!r.has(n))return!1;return!0}_mergeAssetCodes(t){const r=new Map,n=new Set;for(const[i,s]of t){const o=new Set([i]);for(const[l,c]of t)i!==l&&!n.has(l)&&this._areSetsEqual(s,c)&&(o.add(l),n.add(l));const a=Array.from(o).sort().join(",");r.set(a,s)}return r}_canSupportAssociations(t){return t.every(r=>{const n=vQ(r)?r.sourceLayer:r,[i,s]=Z_(n);return i!=null&&s!=null})}};u([f({constructOnly:!0})],bu.prototype,"rulesLayer",void 0),u([f({constructOnly:!0})],bu.prototype,"rules",void 0),u([f({readOnly:!0})],bu.prototype,"rulesHash",void 0),u([f()],bu.prototype,"rulesCategorized",void 0),u([f({constructOnly:!0})],bu.prototype,"request",void 0),bu=u([A("esri.networks.RulesTable")],bu);let ps=class extends z{constructor(t){super(t),this.conditionBarriers=[],this.outputConditions=[],this.functions=[],this.functionBarriers=[],this.traversabilityScope=null,this.shortestPathNetworkAttributeName=null,this.includeBarriers=null,this.validateConsistency=null,this.ignoreBarriersAtStartingPoints=null}};u([f({type:[Object],json:{write:!0}})],ps.prototype,"conditionBarriers",void 0),u([f({type:[Object],json:{write:!0}})],ps.prototype,"outputConditions",void 0),u([f({type:[Object],json:{write:!0}})],ps.prototype,"functions",void 0),u([f({type:[Object],json:{write:!0}})],ps.prototype,"functionBarriers",void 0),u([f({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],ps.prototype,"traversabilityScope",void 0),u([f({type:String,json:{write:!0}})],ps.prototype,"shortestPathNetworkAttributeName",void 0),u([f({type:Boolean,json:{write:!0}})],ps.prototype,"includeBarriers",void 0),u([f({type:Boolean,json:{write:!0}})],ps.prototype,"validateConsistency",void 0),u([f({type:Boolean,json:{write:!0}})],ps.prototype,"ignoreBarriersAtStartingPoints",void 0),ps=u([A("esri.networks.support.TraceConfiguration")],ps);const OL=ps;let bt=class extends OL{constructor(t){super(t),this.filterBarriers=[],this.arcadeExpressionBarrier=null,this.circuitName=null,this.domainNetworkName=null,this.filterBitsetNetworkAttributeName=null,this.filterFunctionBarriers=[],this.filterScope=null,this.includeContainers=null,this.includeContent=null,this.includeIsolated=null,this.includeStructures=null,this.allowIndeterminateFlow=null,this.includeUpToFirstSpatialContainer=null,this.inferConnectivity=null,this.maxHops=null,this.nearestNeighbor=null,this.numPaths=null,this.outputFilterCategories=[],this.outputFilters=[],this.propagators=[],this.subnetworkName=null,this.targetTierName=null,this.diagramTemplateName=null,this.tierName=null,this.validateLocatability=null}};u([f({type:[Object],json:{write:!0}})],bt.prototype,"filterBarriers",void 0),u([f({type:String,json:{write:!0}})],bt.prototype,"arcadeExpressionBarrier",void 0),u([f({type:String,json:{write:!0}})],bt.prototype,"circuitName",void 0),u([f({type:String,json:{write:!0}})],bt.prototype,"domainNetworkName",void 0),u([f({type:String,json:{write:!0}})],bt.prototype,"filterBitsetNetworkAttributeName",void 0),u([f({type:[Object],json:{write:!0}})],bt.prototype,"filterFunctionBarriers",void 0),u([f({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],bt.prototype,"filterScope",void 0),u([f({type:Boolean,json:{write:!0}})],bt.prototype,"includeContainers",void 0),u([f({type:Boolean,json:{write:!0}})],bt.prototype,"includeContent",void 0),u([f({type:Boolean,json:{write:!0}})],bt.prototype,"includeIsolated",void 0),u([f({type:Boolean,json:{write:!0}})],bt.prototype,"includeStructures",void 0),u([f({type:Boolean,json:{write:!0}})],bt.prototype,"allowIndeterminateFlow",void 0),u([f({type:Boolean,json:{write:!0}})],bt.prototype,"includeUpToFirstSpatialContainer",void 0),u([f({type:Boolean,json:{write:!0}})],bt.prototype,"inferConnectivity",void 0),u([f({type:Number,json:{write:!0}})],bt.prototype,"maxHops",void 0),u([f({type:Object,json:{write:!0}})],bt.prototype,"nearestNeighbor",void 0),u([f({type:Number,json:{write:!0}})],bt.prototype,"numPaths",void 0),u([f({type:[Object],json:{write:!0}})],bt.prototype,"outputFilterCategories",void 0),u([f({type:[Object],json:{write:!0}})],bt.prototype,"outputFilters",void 0),u([f({type:[Object],json:{write:!0}})],bt.prototype,"propagators",void 0),u([f({type:String,json:{write:!0}})],bt.prototype,"subnetworkName",void 0),u([f({type:String,json:{write:!0}})],bt.prototype,"targetTierName",void 0),u([f({type:String,json:{write:!0}})],bt.prototype,"diagramTemplateName",void 0),u([f({type:String,json:{write:!0}})],bt.prototype,"tierName",void 0),u([f({type:Boolean,json:{write:!0}})],bt.prototype,"validateLocatability",void 0),bt=u([A("esri.networks.support.UNTraceConfiguration")],bt);const OAe=bt;let pi=class extends XI{constructor(t){super(t),this.globalId=null,this.title=null,this.traceConfiguration=null,this.creationDate=null,this.creator=null,this.description=null,this.minStartingPoints=null,this.resultTypes=[],this.tags=[],this.traceType=null}readTraceConfiguration(t,r){return t.tierName!==void 0?OAe.fromJSON(t):OL.fromJSON(t)}};u([f({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"id"},write:{target:"id",isRequired:!0}},service:{read:{source:"globalId"},write:{target:"globalId",isRequired:!0}}},read:!1}})],pi.prototype,"globalId",void 0),u([f({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"title"},write:{target:"title",isRequired:!0}},service:{read:{source:"name"},write:{target:"name",isRequired:!0}}},read:!1}})],pi.prototype,"title",void 0),u([f({type:OL,json:{origins:{service:{read:!0,write:!0}},read:!1}})],pi.prototype,"traceConfiguration",void 0),u([X("service","traceConfiguration")],pi.prototype,"readTraceConfiguration",null),u([f({type:Date,json:{origins:{service:{read:!0,write:!0}},read:!1}})],pi.prototype,"creationDate",void 0),u([f({type:String,json:{origins:{service:{read:!0,write:!0}},read:!1}})],pi.prototype,"creator",void 0),u([f({type:String,json:{origins:{service:{read:!0,write:!0}},read:!1}})],pi.prototype,"description",void 0),u([f({type:["none","one","many"],json:{origins:{service:{read:{source:"minNumStartingPoints"},write:{target:"minNumStartingPoints"}}},read:!1}})],pi.prototype,"minStartingPoints",void 0),u([f({json:{origins:{service:{read:!0,write:!0}},read:!1}})],pi.prototype,"resultTypes",void 0),u([f({type:[String],json:{origins:{service:{read:!0,write:!0}},read:!1}})],pi.prototype,"tags",void 0),u([f({type:Mw.apiValues,json:{type:Mw.jsonValues,origins:{service:{read:Mw.read,write:Mw.write}},read:!1}})],pi.prototype,"traceType",void 0),pi=u([A("esri.networks.support.NamedTraceConfiguration")],pi);const EAe=pi;function jAe(e){const t=e?.fieldsIndex,r="fromnetworksourceid",n="fromglobalid",i="fromterminalid",s="tonetworksourceid",o="toglobalid",a="toterminalid",l="status",c="associationtype",d="iscontentvisible",p="percentalong",y="globalid";return{fromNetworkSourceId:t?.get(r)?.name??r,fromGlobalId:t?.get(n)?.name??n,fromTerminalId:t?.get(i)?.name??i,toNetworkSourceId:t?.get(s)?.name??s,toGlobalId:t?.get(o)?.name??o,toTerminalId:t?.get(a)?.name??a,status:t?.get(l)?.name??l,associationType:t?.get(c)?.name??c,isContentVisible:t?.get(d)?.name??d,percentAlong:t?.get(p)?.name??p,globalId:t?.get(e?.globalIdField??y)?.name??y}}let fs=class extends ft{constructor(t){super(t),this.rulesTableId=null,this.rulesTableUrl=null,this.subnetworksTableId=null,this.subnetworksTableUrl=null,this.dirtyAreasLayerId=null,this.dirtyAreasLayerUrl=null,this.associationsTable=null,this.associationsTableId=null,this.associationsTableUrl=null}destroy(){this.associationsTable?.destroy()}async loadAssociationsTable(){if(!this.associationsTable){const{associationsTableUrl:t}=this;if(!t)throw new K("utility-network-system-layers:missing-associations-table-url","Unable to load the associations table, as the `associationsTableUrl` is not set.");this.associationsTable=new ge({url:t})}return await this.associationsTable.load(),this.associationsTable}};u([f({constructOnly:!0})],fs.prototype,"rulesTableId",void 0),u([f({constructOnly:!0})],fs.prototype,"rulesTableUrl",void 0),u([f({constructOnly:!0})],fs.prototype,"subnetworksTableId",void 0),u([f({constructOnly:!0})],fs.prototype,"subnetworksTableUrl",void 0),u([f({constructOnly:!0})],fs.prototype,"dirtyAreasLayerId",void 0),u([f({constructOnly:!0})],fs.prototype,"dirtyAreasLayerUrl",void 0),u([f()],fs.prototype,"associationsTable",void 0),u([f({constructOnly:!0})],fs.prototype,"associationsTableId",void 0),u([f({constructOnly:!0})],fs.prototype,"associationsTableUrl",void 0),fs=u([A("esri.networks.support.NetworkSystemLayers")],fs);let Wf=class extends z{constructor(t){super(t),this.id=null,this.name=null}};u([f({type:Number,json:{read:{source:"terminalId"},write:{target:"terminalId"}}})],Wf.prototype,"id",void 0),u([f({type:String,json:{read:{source:"terminalName"},write:{target:"terminalName"}}})],Wf.prototype,"name",void 0),u([f({type:Boolean,json:{write:!0}})],Wf.prototype,"isUpstreamTerminal",void 0),Wf=u([A("esri.networks.support.Terminal")],Wf);const AAe=Wf,Dw=new Pe({esriUNTMBidirectional:"bidirectional",esriUNTMDirectional:"directional"});let pl=class extends z{constructor(t){super(t),this.defaultConfiguration=null,this.id=null,this.name=null,this.terminals=[],this.traversabilityModel=null}};u([f({type:String,json:{write:!0}})],pl.prototype,"defaultConfiguration",void 0),u([f({type:Number,json:{read:{source:"terminalConfigurationId"},write:{target:"terminalConfigurationId"}}})],pl.prototype,"id",void 0),u([f({type:String,json:{read:{source:"terminalConfigurationName"},write:{target:"terminalConfigurationName"}}})],pl.prototype,"name",void 0),u([f({type:[AAe],json:{write:!0}})],pl.prototype,"terminals",void 0),u([f({type:Dw.apiValues,json:{type:Dw.jsonValues,read:Dw.read,write:Dw.write}})],pl.prototype,"traversabilityModel",void 0),pl=u([A("esri.networks.support.TerminalConfiguration")],pl);let Hf=class extends z{constructor(t){super(t),this.line=null,this.multipoint=null,this.polygon=null}};u([f({type:In,json:{write:!0},readOnly:!0})],Hf.prototype,"line",void 0),u([f({type:ms,json:{read:{source:"point"},write:{target:"point"}},readOnly:!0})],Hf.prototype,"multipoint",void 0),u([f({type:hr,json:{write:!0},readOnly:!0})],Hf.prototype,"polygon",void 0),Hf=u([A("esri.rest.networks.support.AggregatedGeometry")],Hf);const IAe=Hf;let hi=class extends z{constructor(t){super(t),this.type="networkElement",this.assetGroupCode=null,this.assetTypeCode=null,this.globalId=null,this.networkSourceId=null,this.objectId=null,this.positionFrom=null,this.positionTo=null,this.terminalId=null}};u([f({json:{write:!1}})],hi.prototype,"type",void 0),u([f({type:Number,json:{write:!0}})],hi.prototype,"assetGroupCode",void 0),u([f({type:Number,json:{write:!0}})],hi.prototype,"assetTypeCode",void 0),u([f({type:String,json:{write:!0}})],hi.prototype,"globalId",void 0),u([f({type:Number,json:{write:!0}})],hi.prototype,"networkSourceId",void 0),u([f({type:Number,json:{write:!0}})],hi.prototype,"objectId",void 0),u([f({type:Number,json:{write:!0}})],hi.prototype,"positionFrom",void 0),u([f({type:Number,json:{write:!0}})],hi.prototype,"positionTo",void 0),u([f({type:Number,json:{write:!0}})],hi.prototype,"terminalId",void 0),hi=u([A("esri.rest.networks.support.NetworkElement")],hi);let fa=class extends hi{constructor(t){super(t),this.type="telecomNetworkElement",this.firstUnit=null,this.numUnits=null}};u([f({json:{write:!1}})],fa.prototype,"type",void 0),u([f({json:{write:!0}})],fa.prototype,"firstUnit",void 0),u([f({json:{write:!0}})],fa.prototype,"numUnits",void 0),fa=u([A("esri.rest.networks.support.TelecomNetworkElement")],fa);let Xa=class extends z{constructor(t){super(t),this.edgeElement=null,this.junctionElement=null}readEdgeElement(t,r){return new fa({networkSourceId:r.edgeNetworkSourceId,globalId:r.edgeGlobalId,objectId:r.edgeObjectId,positionFrom:r.edgePositionFrom,positionTo:r.edgePositionTo,firstUnit:r.edgeFirstUnit,numUnits:r.edgeNumUnits})}writeEdgeElement(t,r){r.edgeNetworkSourceId=t.networkSourceId,r.edgeGlobalId=t.globalId,r.edgeObjectId=t.objectId,r.edgePositionFrom=t.positionFrom,r.edgePositionTo=t.positionTo,r.edgeFirstUnit=t.firstUnit,r.edgeNumUnits=t.numUnits}readJunctionElement(t,r){return new fa({networkSourceId:r.junctionNetworkSourceId,globalId:r.junctionGlobalId,objectId:r.junctionObjectId,terminalId:r.junctionTerminalId,firstUnit:r.junctionFirstUnit,numUnits:r.junctionNumUnits})}writeJunctionElement(t,r){r.junctionNetworkSourceId=t.networkSourceId,r.junctionGlobalId=t.globalId,r.junctionObjectId=t.objectId,r.junctionTerminalId=t.terminalId,r.junctionFirstUnit=t.firstUnit,r.junctionNumUnits=t.numUnits}};u([f({type:fa,json:{read:{source:["edgeNetworkSourceId","edgeGlobalId","edgeObjectId","edgePositionFrom","edgePositionTo","edgeFirstUnit","edgeNumUnits"]},write:!0}})],Xa.prototype,"edgeElement",void 0),u([X("edgeElement")],Xa.prototype,"readEdgeElement",null),u([re("edgeElement")],Xa.prototype,"writeEdgeElement",null),u([f({type:fa,json:{read:{source:["junctionNetworkSourceId","junctionGlobalId","junctionObjectId","junctionTerminalId","junctionFirstUnit","junctionNumUnits"]},write:!0}})],Xa.prototype,"junctionElement",void 0),u([X("junctionElement")],Xa.prototype,"readJunctionElement",null),u([re("junctionElement")],Xa.prototype,"writeJunctionElement",null),Xa=u([A("esri.rest.networks.support.CircuitPathConnectivityElement")],Xa);const PAe=Xa,Fw=new Pe({startingPoint:"starting-point",barrier:"barrier",stoppingPoint:"stopping-point"});let ta=class extends z{constructor(t){super(t),this.globalId=null,this.isFilterBarrier=!1,this.percentAlong=null,this.terminalId=null,this.type=null,this.firstUnit=null,this.numUnits=null}};u([f({type:String,json:{write:!0}})],ta.prototype,"globalId",void 0),u([f({type:Boolean,json:{write:!0}})],ta.prototype,"isFilterBarrier",void 0),u([f({type:Number,json:{write:!0}})],ta.prototype,"percentAlong",void 0),u([f({type:Number,json:{write:!0}})],ta.prototype,"terminalId",void 0),u([f({type:Fw.apiValues,json:{type:Fw.jsonValues,read:{reader:Fw.read,source:"traceLocationType"},write:{writer:Fw.write,target:"traceLocationType"}}})],ta.prototype,"type",void 0),u([f({type:Number,json:{write:!0}})],ta.prototype,"firstUnit",void 0),u([f({type:Number,json:{write:!0}})],ta.prototype,"numUnits",void 0),ta=u([A("esri.rest.networks.support.TraceLocation")],ta);const WU=ta;let el=class extends z{constructor(t){super(t),this.pathId=null,this.orderId=null,this.startingPoint=null,this.stoppingPoint=null,this.pathConnectivity=[],this.geometry=null}};u([f({type:Number,json:{write:!0}})],el.prototype,"pathId",void 0),u([f({type:Number,json:{write:!0}})],el.prototype,"orderId",void 0),u([f({type:WU,json:{write:!0}})],el.prototype,"startingPoint",void 0),u([f({type:WU,json:{write:!0}})],el.prototype,"stoppingPoint",void 0),u([f({type:[PAe],json:{write:!0}})],el.prototype,"pathConnectivity",void 0),u([f({type:In,json:{write:!0}})],el.prototype,"geometry",void 0),el=u([A("esri.rest.networks.support.CircuitPath")],el);const EL=el;let Sd=class extends z{constructor(t){super(t),this.circuit=null,this.geometry=null,this.path=null}readCircuit(t,r){const n=r.sections?.map(i=>({...i,path:EL.fromJSON(i.path)}));return{name:r.name,globalId:r.globalId,isSectioned:r.isSectioned,sectionOrder:r.sectionOrder,startLocation:r.startLocation,stopLocation:r.stopLocation,sections:n,subcircuits:r.subcircuits,lastVerifiedTime:r.lastVerifiedTime?new Date(r.lastVerifiedTime):null,lastExportedTime:r.lastExportedTime?new Date(r.lastExportedTime):null,circuitType:r.circuitType,status:r.status}}};u([f({type:Object,json:{write:!0,read:{source:["name","globalId","isSectioned","sectionOrder","startLocation","stopLocation","sections","subcircuits","lastVerifiedTime","lastExportedTime","circuitType","status"]}}})],Sd.prototype,"circuit",void 0),u([X("circuit")],Sd.prototype,"readCircuit",null),u([f({type:In,json:{write:!0}})],Sd.prototype,"geometry",void 0),u([f({type:EL,json:{write:!0}})],Sd.prototype,"path",void 0),Sd=u([A("esri.rest.networks.support.CircuitTraceResult")],Sd);const kAe=Sd;let Jf=class extends z{constructor(t){super(t),this.functionType=null,this.networkAttributeName=null,this.result=null}};u([f({type:["add","subtract","average","count","min","max"],json:{write:!0},readOnly:!0})],Jf.prototype,"functionType",void 0),u([f({type:String,json:{write:!0},readOnly:!0})],Jf.prototype,"networkAttributeName",void 0),u([f({type:Number,json:{write:!0},readOnly:!0})],Jf.prototype,"result",void 0),Jf=u([A("esri.rest.networks.support.FunctionResult")],Jf);const CAe=Jf;let Li=class extends z{constructor(t){super(t),this.aggregatedGeometry=null,this.circuits=null,this.elements=null,this.globalFunctionResults=null,this.kFeaturesForKNNFound=!1,this.paths=null,this.startingPointsIgnored=!1,this.warnings=null}readNetworkElements(t,r){return r.elements!=null?r.elements.map(n=>"firstUnit"in n&&"numUnits"in n?new fa({...n}):new hi({...n})):[]}writeNetworkElements(t,r){r.elements=t.map(n=>n.toJSON())}};u([f({type:IAe,json:{write:!0},readOnly:!0})],Li.prototype,"aggregatedGeometry",void 0),u([f({type:[kAe],json:{write:!0},readOnly:!0})],Li.prototype,"circuits",void 0),u([f({type:[hi],json:{write:!0},readOnly:!0})],Li.prototype,"elements",void 0),u([X("elements")],Li.prototype,"readNetworkElements",null),u([re("elements")],Li.prototype,"writeNetworkElements",null),u([f({type:[CAe],json:{write:!0},readOnly:!0})],Li.prototype,"globalFunctionResults",void 0),u([f({type:Boolean,json:{write:!0},readOnly:!0})],Li.prototype,"kFeaturesForKNNFound",void 0),u([f({type:[EL],json:{write:!0},readOnly:!0})],Li.prototype,"paths",void 0),u([f({type:Boolean,json:{write:!0},readOnly:!0})],Li.prototype,"startingPointsIgnored",void 0),u([f({type:[String],json:{write:!0},readOnly:!0})],Li.prototype,"warnings",void 0),Li=u([A("esri.rest.networks.support.TraceResult")],Li);const NAe=Ar()({Pending:"job-waiting",InProgress:"job-executing",Completed:"job-succeeded"});let _d=class extends Li{constructor(t){super(t),this.statusUrl=null,this.status=null,this.submissionTime=null,this.lastUpdatedTime=null,this._timer=void 0}destroy(){clearInterval(this._timer)}async checkJobStatus(t){const r={...t,query:{f:"json"}},{data:n}=await nt(this.statusUrl,r),i=n.traceResults?{...n.traceResults,...n}:n;return this.read(i),this}async waitForJobCompletion(t={}){const{interval:r=1e3,statusCallback:n}=t;return new Promise((i,s)=>{this._clearTimer();const o=setInterval(()=>{this._timer||s(gr()),this.checkJobStatus().then(a=>{const{status:l}=a;switch(this.status=l,l){case"job-succeeded":this._clearTimer(),i(this);break;case"job-waiting":case"job-executing":n&&n(this)}},a=>{this._clearTimer(),s(a)})},r);this._timer=o})}_clearTimer(){clearInterval(this._timer),this._timer=void 0}};u([f({type:String,json:{write:!0}})],_d.prototype,"statusUrl",void 0),u([ye(NAe)],_d.prototype,"status",void 0),u([f({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.submissionTime=e?e.getTime():null}}}})],_d.prototype,"submissionTime",void 0),u([f({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.lastUpdatedTime=e?e.getTime():null}}}})],_d.prototype,"lastUpdatedTime",void 0),_d=u([A("esri.networks.support.TraceJobInfo")],_d);let ra=class extends TAe{constructor(t){super(t),this.sharedNamedTraceConfigurations=[],this.type="utility",this._terminalById=new Map,this._circuitManagerMap=new Map,this._unitIdentifierManager=null}get serviceTerritoryFeatureLayerId(){return this.dataElement?.serviceTerritoryFeatureLayerId??null}get networkSystemLayers(){return new fs({rulesTableId:this.sourceJSON?.systemLayers.rulesTableId,rulesTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.rulesTableId}`:null,subnetworksTableId:this.sourceJSON?.systemLayers.subnetworksTableId,subnetworksTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.subnetworksTableId}`:null,dirtyAreasLayerId:this.sourceJSON?.systemLayers.dirtyAreasLayerId,dirtyAreasLayerUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.dirtyAreasLayerId}`:null,associationsTableId:this.sourceJSON?.systemLayers.associationsTableId,associationsTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.associationsTableId}`:null})}get terminalConfigurations(){return this.dataElement?.terminalConfigurations.map(t=>pl.fromJSON(t))||[]}get domainNetworkNames(){return this.dataElement?.domainNetworks.map(t=>t.domainNetworkName)||[]}get _utilityLayerList(){const t=new Set;return this.dataElement?.domainNetworks?.map(r=>{r?.edgeSources?.map(({layerId:n,sourceId:i})=>{this._layerIdBySourceId.set(i,n),this._sourceIdByLayerId.set(n,i),t.add(n)}),r?.junctionSources?.map(({layerId:n,sourceId:i})=>{this._layerIdBySourceId.set(i,n),this._sourceIdByLayerId.set(n,i),t.add(n)})}),t}get hasTelecomNetwork(){return this.dataElement?.domainNetworks.some(t=>t.isTelecomNetwork)??!1}async load(t){return this.addResolvingPromise(super.load(t)),this.addResolvingPromise(this._loadNamedTraceConfigurationsFromNetwork(t)),this}getTerminalConfiguration(t){let r=null,n=null;const i=t.sourceLayer;let s=null;if(i?.type==="feature"){if(s=i.layerId,s===null)return null}else if(i?.type!=="subtype-sublayer"||(s=i?.parent?.layerId??null,s===null))return null;const o=t.attributes;if(o==null)return null;for(const c of Object.keys(o))c.toUpperCase()==="ASSETGROUP"&&(r=t.getAttribute(c)),c.toUpperCase()==="ASSETTYPE"&&(n=t.getAttribute(c));if(!this.dataElement)return null;let a=null;const l=this.dataElement.domainNetworks;for(const c of l){const d=c.junctionSources?.find(p=>p.layerId===s);if(d){const p=d.assetGroups?.find(y=>y.assetGroupCode===r);if(p){const y=p.assetTypes?.find(m=>m.assetTypeCode===n);if(y?.isTerminalConfigurationSupported){a=y.terminalConfigurationId;break}}}}if(a!=null){const c=this.dataElement.terminalConfigurations,d=c?.find(p=>p.terminalConfigurationId===a);return d?pl.fromJSON(d):null}return null}getTierNames(t){return this.dataElement?.domainNetworks.find(n=>n.domainNetworkName===t)?.tiers?.map(n=>n.name)||[]}async getRulesTable(){return this._sharedRulesTable||(this._sharedRulesTable=this._createRulesTable()),await this._sharedRulesTable}async getCircuitManager(t){if(!this.hasTelecomNetwork)return null;const r=this.dataElement?.domainNetworks.find(i=>i.domainNetworkName===t&&i.isTelecomNetwork);if(!r)return null;const{default:n}=await ae(()=>import("./CircuitManager-05102103.js"),[]);return j$(this._circuitManagerMap,t,()=>new n({utilityNetwork:this,telecomDomainNetwork:r}))}async getUnitIdentifierManager(){if(!this.hasTelecomNetwork)return null;if(this._unitIdentifierManager)return this._unitIdentifierManager;const{default:t}=await ae(()=>import("./UnitIdentifierManager-583c546b.js"),[]);return this._unitIdentifierManager=new t({utilityNetwork:this}),this._unitIdentifierManager}getTerminalById(t){if(!this.dataElement||t==null)return null;const r=this._terminalById.get(t);return r??(this.terminalConfigurations.forEach(n=>{n.terminals.forEach(i=>{this._terminalById.set(i.id,i)})}),this._terminalById.get(t))}isUtilityLayer(t){return"layerId"in t?this._utilityLayerList.has(t?.layerId)&&(t.url?.startsWith(this.featureServiceUrl)??!1):!(t.type!=="subtype-sublayer"||!t.parent)&&this._utilityLayerList.has(t.parent.layerId)&&(t.parent.url?.startsWith(this.featureServiceUrl)??!1)}async queryAssociations(t,r){const[{queryAssociations:n},{default:i}]=await Promise.all([ae(()=>import("./queryAssociations-9197420d.js"),["assets/queryAssociations-9197420d.js","assets/Association-d652a08e.js"]),ae(()=>import("./QueryAssociationsParameters-29e353c1.js"),[])]),s=i.from(t);return s.gdbVersion=this.gdbVersion,s.moment=this.historicMoment,(await n(this.networkServiceUrl,s,r)).associations}async synthesizeAssociationGeometries(t){const[{synthesizeAssociationGeometries:r},{default:n}]=await Promise.all([ae(()=>import("./synthesizeAssociationGeometries-ae5c1295.js"),["assets/synthesizeAssociationGeometries-ae5c1295.js","assets/Association-d652a08e.js"]),ae(()=>import("./SynthesizeAssociationGeometriesParameters-6a9b39ce.js"),[])]),i=n.from(t);return i.gdbVersion=this.gdbVersion,i.moment=this.historicMoment,r(this.networkServiceUrl,i)}async trace(t){const[{trace:r},{default:n}]=await Promise.all([ae(()=>import("./trace-489fa0ca.js"),[]),ae(()=>import("./TraceParameters-ba833fb8.js"),[])]),i=n.from(t);return i.gdbVersion=this.gdbVersion,i.moment=this.historicMoment,r(this.networkServiceUrl,i)}async submitTraceJob(t){const[{submitTraceJob:r},{default:n}]=await Promise.all([ae(()=>import("./trace-489fa0ca.js"),[]),ae(()=>import("./TraceParameters-ba833fb8.js"),[])]),i=n.from(t);i.gdbVersion=this.gdbVersion,i.moment=this.historicMoment;const s=await r(this.networkServiceUrl,i);return new _d({statusUrl:s})}async canAddAssociation(t){const r=await this.getRulesTable();if(!r)return!1;const{fromNetworkElement:n,toNetworkElement:i}=t;if(!n||!i)return!1;await r.load();let s=null;switch(t.associationType){case"containment":s=r.rulesCategorized.containment;break;case"attachment":s=r.rulesCategorized.attachment;break;default:s=r.rulesCategorized.connectivity}return s.some(o=>ig(o,n,i))}generateAddAssociations(t){const{associationsTable:r}=this.networkSystemLayers,{fromNetworkSourceId:n,fromGlobalId:i,fromTerminalId:s,toNetworkSourceId:o,toGlobalId:a,toTerminalId:l,associationType:c,isContentVisible:d,percentAlong:p,globalId:y}=jAe(r);return{addFeatures:t.map(m=>new _r({attributes:{[n]:m.fromNetworkElement?.networkSourceId,[i]:m.fromNetworkElement?.globalId,[s]:m.fromNetworkElement?.terminalId,[o]:m.toNetworkElement?.networkSourceId,[a]:m.toNetworkElement?.globalId,[l]:m.toNetworkElement?.terminalId,[c]:wAe[m.associationType],[d]:m.isContentVisible==null?void 0:m.isContentVisible?1:0,[p]:m.percentAlong,[y]:m.globalId}})),id:this.networkSystemLayers.associationsTableId,identifierFields:{globalIdField:r?.globalIdField??"globalid",objectIdField:r?.objectIdField??"objectid"}}}generateDeleteAssociations(t){const{associationsTable:r,associationsTableId:n}=this.networkSystemLayers;return{deleteFeatures:t.map(i=>({globalId:i.globalId})),id:n,identifierFields:{globalIdField:r?.globalIdField??"globalid",objectIdField:r?.objectIdField??"objectid"}}}async loadAssociationsTable(){return this.networkSystemLayers.loadAssociationsTable()}async _loadNamedTraceConfigurationsFromNetwork(t){if(this.sharedNamedTraceConfigurations?.length===0)return;const r=this.sharedNamedTraceConfigurations.map(i=>i.globalId),n=await this.queryNamedTraceConfigurations({globalIds:r},t);for(const i of this.sharedNamedTraceConfigurations){const s=n?.find(o=>o.globalId===i.globalId);if(s){const o=s.write({},{origin:"service"});i.read(o,{origin:"service"})}}}async _createRulesTable(){const t=this.networkSystemLayers.rulesTableUrl,r=new ge({url:t});await r.load();const n=this.dataElement?.domainNetworks;if(!n)return null;const i=n.flatMap(o=>[...o.edgeSources||[],...o.junctionSources||[]]),s=(await MAe(r)).map(o=>this._hydrateRuleInfo(r,i,o));return new bu({rulesLayer:r,rules:s})}_hydrateRuleInfo(t,r,n){const i=t.fieldsIndex,s=i.get("RULETYPE"),o=i.get("CREATIONDATE"),a=i.get("FROMNETWORKSOURCEID"),l=i.get("FROMASSETGROUP"),c=i.get("FROMASSETTYPE"),d=i.get("FROMTERMINALID"),p=i.get("TONETWORKSOURCEID"),y=i.get("TOASSETGROUP"),m=i.get("TOASSETTYPE"),g=i.get("TOTERMINALID"),b=i.get("VIANETWORKSOURCEID"),w=i.get("VIAASSETGROUP"),S=i.get("VIAASSETTYPE"),_=i.get("VIATERMINALID"),x=n.attributes[s.name],O=new Date(n.attributes[o.name]),$=[{networkSourceId:n.attributes[a.name],assetGroupId:n.attributes[l.name],assetTypeId:n.attributes[c.name],terminalId:n.attributes[d.name]},{networkSourceId:n.attributes[p.name],assetGroupId:n.attributes[y.name],assetTypeId:n.attributes[m.name],terminalId:n.attributes[g.name]},{networkSourceId:n.attributes[b.name],assetGroupId:n.attributes[w.name],assetTypeId:n.attributes[S.name],terminalId:n.attributes[_.name]}];let T;(function(I){I[I.from=0]="from",I[I.to=1]="to",I[I.via=2]="via"})(T||(T={}));const j={ruleType:x,creationDate:O};for(const I of[T.from,T.to,T.via]){if(x!==nr.RTEdgeJunctionEdgeConnectivity&&I===T.via)continue;const k=$[I],M=r.find(W=>W.sourceId===k.networkSourceId),N=M?.assetGroups.find(W=>W.assetGroupCode===k.assetGroupId),F=N?.assetTypes.find(W=>W.assetTypeCode===k.assetTypeId),G=this._getTerminal(F,k);let B="";switch(I){case T.from:B="from";break;case T.to:B="to";break;case T.via:B="via"}j[`${B}NetworkSource`]=M,j[`${B}AssetGroup`]=N,j[`${B}AssetType`]=F,j[`${B}Terminal`]=G?.toJSON()}return j}_getTerminal(t,r){const n=t?.terminalConfigurationId;return this.terminalConfigurations?.find(s=>s.id===n)?.terminals?.find(s=>s.id===r.terminalId)??null}};async function MAe(e){const t=new xe({where:"1=1",outFields:["*"]});return(await RX(e,t)).features}u([f({type:[EAe],json:{origins:{"web-map":{read:{source:"traceConfigurations"},write:{target:"traceConfigurations"}},service:{read:{source:"traceConfigurations"}}},read:!1}})],ra.prototype,"sharedNamedTraceConfigurations",void 0),u([f({type:["utility"],readOnly:!0,json:{read:!1,write:!1}})],ra.prototype,"type",void 0),u([f({readOnly:!0})],ra.prototype,"serviceTerritoryFeatureLayerId",null),u([f({readOnly:!0})],ra.prototype,"networkSystemLayers",null),u([f({readOnly:!0})],ra.prototype,"terminalConfigurations",null),u([f({readOnly:!0})],ra.prototype,"domainNetworkNames",null),u([f({readOnly:!0})],ra.prototype,"hasTelecomNetwork",null),ra=u([A("esri.networks.UtilityNetwork")],ra);const Vee=ra,RAe=Object.freeze(Object.defineProperty({__proto__:null,default:Vee},Symbol.toStringTag,{value:"Module"}));let Kf=class extends Se.ClonableMixin(z){constructor(t){super(t),this.expression=null,this.returnType="string",this.title=null}};u([f({type:String,json:{write:{isRequired:!0}}})],Kf.prototype,"expression",void 0),u([f({type:["number","string"],json:{write:!0}})],Kf.prototype,"returnType",void 0),u([f({type:String,json:{write:!0}})],Kf.prototype,"title",void 0),Kf=u([A("esri.webdoc.geotriggersInfo.ExpressionInfo")],Kf);const qee=Kf,Uw=new Pe({deviceLocation:"device-location"});let sg=class extends Se.ClonableMixin(z){constructor(t){super(t),this.filterExpression=null,this.type="device-location"}};u([f({type:qee,json:{write:!0}})],sg.prototype,"filterExpression",void 0),u([f({type:Uw.apiValues,readOnly:!0,json:{type:Uw.jsonValues,read:Uw.read,write:Uw.write}})],sg.prototype,"type",void 0),sg=u([A("esri.webdoc.geotriggersInfo.DeviceLocationFeed")],sg);const LAe=sg;let og=class extends Se.ClonableMixin(z){constructor(t){super(t),this.geometry=null,this.where=null}};u([f({types:dm,json:{read:zl,write:!0}})],og.prototype,"geometry",void 0),u([f({type:String,json:{write:!0}})],og.prototype,"where",void 0),og=u([A("esri.webdoc.geotriggersInfo.FeatureFilter")],og);const DAe=og;let Zf=class extends Se.ClonableMixin(z){constructor(t){super(t),this.layerId=null,this.layerUrl=null,this.type="feature-layer"}};u([f({type:String,json:{write:{overridePolicy(){return{isRequired:this.layerUrl===null}}}}})],Zf.prototype,"layerId",void 0),u([f({type:String,json:{write:{overridePolicy(){return{isRequired:this.layerId===null}}}}})],Zf.prototype,"layerUrl",void 0),u([ye({featureLayer:"feature-layer"},{readOnly:!0})],Zf.prototype,"type",void 0),Zf=u([A("esri.webdoc.geotriggersInfo.FeatureLayerSource")],Zf);const FAe=Zf;let $d=class extends Se.ClonableMixin(z){constructor(t){super(t),this.fenceSource=null,this.filter=null,this.bufferDistance=null,this.type="features"}};u([f({type:FAe,json:{write:{isRequired:!0}}})],$d.prototype,"fenceSource",void 0),u([f({type:DAe,json:{write:!0}})],$d.prototype,"filter",void 0),u([f({type:Number,json:{write:!0}})],$d.prototype,"bufferDistance",void 0),u([ye({features:"features"},{readOnly:!0})],$d.prototype,"type",void 0),$d=u([A("esri.webdoc.geotriggersInfo.FeatureFenceParameters")],$d);const UAe=$d;let SS=class extends Se.ClonableMixin(z){constructor(t){super(t),this.type="fence"}};u([ye({fence:"fence"},{readOnly:!0})],SS.prototype,"type",void 0),SS=u([A("esri.webdoc.geotriggersInfo.Geotrigger")],SS);const Gee=SS;let ag=class extends Se.ClonableMixin(z){constructor(t){super(t),this.expressionInfo=null,this.requestedActions=null}};u([f({type:qee,json:{write:!0}})],ag.prototype,"expressionInfo",void 0),u([f({type:[String],json:{write:!0}})],ag.prototype,"requestedActions",void 0),ag=u([A("esri.webdoc.geotriggersInfo.GeotriggerNotificationOptions")],ag);const zAe=ag,BAe=new Pe({enterContainsAndExitDoesNotContain:"enter-contains-and-exit-does-not-contain",enterContainsAndExitDoesNotIntersect:"enter-contains-and-exit-does-not-intersect",enterIntersectsAndExitDoesNotIntersect:"enter-intersects-and-exit-does-not-intersect"}),VAe=new Pe({useGeometry:"use-geometry",useGeometryWithAccuracy:"use-geometry-with-accuracy"}),zw=new Pe({enter:"enter",enterOrExit:"enter-or-exit",exit:"exit"});let io=class extends Gee{constructor(t){super(t),this.enterExitRule="enter-contains-and-exit-does-not-intersect",this.feed=null,this.feedAccuracyMode="use-geometry",this.fenceNotificationRule=null,this.fenceParameters=null,this.name=null,this.notificationOptions=null,this.type="fence"}};u([ye(BAe)],io.prototype,"enterExitRule",void 0),u([f({type:LAe,json:{write:{isRequired:!0}}})],io.prototype,"feed",void 0),u([ye(VAe)],io.prototype,"feedAccuracyMode",void 0),u([f({type:zw.apiValues,json:{type:zw.jsonValues,read:zw.read,write:{writer:zw.write,isRequired:!0}}})],io.prototype,"fenceNotificationRule",void 0),u([f({type:UAe,json:{write:{isRequired:!0}}})],io.prototype,"fenceParameters",void 0),u([f({type:String,json:{write:!0}})],io.prototype,"name",void 0),u([f({type:zAe,json:{write:!0}})],io.prototype,"notificationOptions",void 0),u([ye({fence:"fence"},{readOnly:!0})],io.prototype,"type",void 0),io=u([A("esri.webdoc.geotriggersInfo.FenceGeotrigger")],io);const qAe=io,GAe={base:Gee,key:"type",typeMap:{fence:qAe}};let _S=class extends Se.ClonableMixin(z){constructor(t){super(t),this.geotriggers=null}};u([f({types:[GAe],json:{write:{isRequired:!0}}})],_S.prototype,"geotriggers",void 0),_S=u([A("esri.webdoc.GeotriggersInfo")],_S);const WAe=_S;let $S=class extends Se.ClonableMixin(z){constructor(t){super(t),this.enabled=!0}};u([f({type:Boolean,nonNullable:!0,json:{write:!0}})],$S.prototype,"enabled",void 0),$S=u([A("esri.webdoc.ips.AppleIPSProperties")],$S);const HAe=$S;let TS=class extends Se.ClonableMixin(z){constructor(t){super(t),this.enabled=!0}};u([f({type:Boolean,nonNullable:!0,json:{write:!0}})],TS.prototype,"enabled",void 0),TS=u([A("esri.webdoc.ips.GNSSProperties")],TS);const JAe=TS;let Yf=class extends Se.ClonableMixin(z){constructor(t){super(t),this.enabled=!0,this.distance=5,this.units="meter"}};u([f({type:Boolean,nonNullable:!0,json:{write:!0}})],Yf.prototype,"enabled",void 0),u([f({type:Number,nonNullable:!0,json:{write:!0}})],Yf.prototype,"distance",void 0),u([f({type:["feet","meter"],nonNullable:!0,json:{write:!0}})],Yf.prototype,"units",void 0),Yf=u([A("esri.webdoc.ips.PathSnappingProperties")],Yf);const KAe=Yf;let OS=class extends Se.ClonableMixin(z){constructor(t){super(t),this.enabled=!0}};u([f({type:Boolean,nonNullable:!0,json:{write:!0}})],OS.prototype,"enabled",void 0),OS=u([A("esri.webdoc.ips.SmoothingProperties")],OS);const ZAe=OS;let Td=class extends Se.ClonableMixin(z){constructor(t){super(t),this.appleIPS=null,this.gnss=null,this.smoothing=null,this.pathSnapping=null}};u([f({type:HAe,json:{name:"AppleIPS",write:!0}})],Td.prototype,"appleIPS",void 0),u([f({type:JAe,json:{name:"GNSS",write:!0}})],Td.prototype,"gnss",void 0),u([f({type:ZAe,json:{write:!0}})],Td.prototype,"smoothing",void 0),u([f({type:KAe,json:{write:!0}})],Td.prototype,"pathSnapping",void 0),Td=u([A("esri.webdoc.ips.Configuration")],Td);const YAe=Td;let Qf=class extends Se.ClonableMixin(z){constructor(t){super(t),this.portalItem=null}readPortalItem(t,r,n){const{itemId:i}=r;if(i)return new $e({id:i,portal:n?.portal})}writePortalItem(t,r){t?.id&&(r.itemId=t.id)}};u([f({type:$e,json:{write:{isRequired:!0}}})],Qf.prototype,"portalItem",void 0),u([X("portalItem",["itemId"])],Qf.prototype,"readPortalItem",null),u([re("portalItem",{itemId:{type:String}})],Qf.prototype,"writePortalItem",null),Qf=u([A("esri.webdoc.ips.PositioningService")],Qf);const QAe=Qf;let lg=class extends Se.ClonableMixin(z){constructor(t){super(t),this.positioningService=null,this.configuration=null}};u([f({type:QAe,json:{write:{isRequired:!0}}})],lg.prototype,"positioningService",void 0),u([f({type:YAe,json:{write:!0}})],lg.prototype,"configuration",void 0),lg=u([A("esri.webdoc.IPSInfo")],lg);const XAe=lg,Wee=new Gh(2,34),eIe={currentVersion:Wee,createInitialViewProperties:()=>new D_,parseVersion:Gh.parse,itemType:"Web Map",name:"webmap",origin:"web-map"},tIe=Te.ofType(Vee);var Gb;let Od=(Gb=class extends _xe{constructor(t){super(t),this.geotriggersInfo=null,this.ipsInfo=null,this.presentation=null,this.utilityNetworks=null}destroy(){if(this.utilityNetworks){const t=this.utilityNetworks.removeAll();for(const r of t)r.destroy();this.utilityNetworks.destroy()}}get context(){return eIe}loadAll(){return D$(this,t=>{t(this.ground,this.basemap,this.layers,this.tables,this.ipsInfo?.positioningService?.portalItem)})}static fromJSON(t){if(t)return new this({resourceInfo:t});throw new K("webmap:empty-resource","Expected a JSON resource but got nothing")}},Gb.VERSION=Wee,Gb);u([f({type:WAe,json:{write:!0}})],Od.prototype,"geotriggersInfo",void 0),u([f({type:XAe,json:{write:!0,name:"mapIPSInfo"}})],Od.prototype,"ipsInfo",void 0),u([f({json:{write:!0}})],Od.prototype,"presentation",void 0),u([f({type:tIe,json:{read:!0,write:!0}})],Od.prototype,"utilityNetworks",void 0),Od=u([A("esri.WebMap")],Od);const rIe=Od;class nIe{constructor(){Jp(this,"webMap",null);Jp(this,"featureLayer",null);Jp(this,"cachedData",[]);Jp(this,"lastFetch",0);Jp(this,"CACHE_DURATION",5*60*1e3)}async initialize(){try{this.webMap=new rIe({portalItem:{id:"b7d490ce18644f9c8f38989586c4d0d4"}}),await this.webMap.load();const t=this.webMap.layers.items;if(this.featureLayer=t.find(r=>r.title?.toLowerCase().includes("mining")||r.title?.toLowerCase().includes("concession")),!this.featureLayer)throw new Error("Mining concessions layer not found in web map");await this.featureLayer.load(),console.log(" Mining data service initialized with layer:",this.featureLayer.title)}catch(t){throw console.error(" Failed to initialize mining data service:",t),t}}async getMiningConcessions(t=!1){const r=Date.now();if(!t&&this.cachedData.length>0&&r-this.lastFetch<this.CACHE_DURATION)return this.cachedData;this.featureLayer||await this.initialize();try{const n=this.featureLayer.createQuery();n.returnGeometry=!0,n.outFields=["*"];const i=await this.featureLayer.queryFeatures(n);return this.cachedData=i.features.map((s,o)=>{const a=s.attributes,l=s.geometry,c=[];return l&&l.rings&&l.rings[0]&&c.push(...l.rings[0].map(d=>[d[0],d[1]])),{id:a.OBJECTID?.toString()||`MC${(o+1).toString().padStart(3,"0")}`,name:a.Name||a.CONCESSION_NAME||a.PERMIT_NAME||`Concession ${o+1}`,size:a.AREA_HA||a.SIZE_HECTARES||a.AREA||Math.round(Math.random()*500+50),owner:a.OWNER||a.COMPANY||a.PERMIT_HOLDER||"Unknown Owner",permitType:this.mapPermitType(a.PERMIT_TYPE||a.TYPE||a.SCALE),permitExpiryDate:this.formatDate(a.EXPIRY_DATE||a.PERMIT_EXPIRY||"2025-12-31"),district:a.DISTRICT||a.DIST_NAME||this.extractDistrict(a),region:a.REGION||a.REG_NAME||this.extractRegion(a,c),status:this.mapStatus(a.STATUS||a.PERMIT_STATUS),coordinates:c,contactInfo:{phone:a.PHONE||a.CONTACT_PHONE,email:a.EMAIL||a.CONTACT_EMAIL,address:a.ADDRESS||a.CONTACT_ADDRESS}}}),this.lastFetch=r,console.log(` Fetched ${this.cachedData.length} mining concessions from ArcGIS`),this.cachedData}catch(n){throw console.error(" Failed to fetch mining concessions:",n),n}}async searchConcessions(t){return(await this.getMiningConcessions()).filter(n=>!(t.name&&!n.name.toLowerCase().includes(t.name.toLowerCase())||t.owner&&!n.owner.toLowerCase().includes(t.owner.toLowerCase())||t.region&&n.region!==t.region||t.status&&n.status!==t.status||t.permitType&&n.permitType!==t.permitType))}async getDashboardStats(){const t=await this.getMiningConcessions(),r={totalConcessions:t.length,activePermits:t.filter(n=>n.status==="active").length,expiredPermits:t.filter(n=>n.status==="expired").length,soonToExpire:t.filter(n=>{const i=new Date(n.permitExpiryDate),s=new Date;return s.setMonth(s.getMonth()+3),i<=s&&n.status==="active"}).length,totalAreaCovered:t.reduce((n,i)=>n+i.size,0),concessionsByRegion:{},concessionsByType:{}};return t.forEach(n=>{r.concessionsByRegion[n.region]=(r.concessionsByRegion[n.region]||0)+1}),t.forEach(n=>{r.concessionsByType[n.permitType]=(r.concessionsByType[n.permitType]||0)+1}),r}async getConcessionsByRegion(t){return(await this.getMiningConcessions()).filter(n=>n.region===t)}mapPermitType(t){if(!t)return"small-scale";const r=t.toLowerCase();return r.includes("large")||r.includes("major")||r.includes("commercial")?"large-scale":"small-scale"}mapStatus(t){if(!t)return"active";const r=t.toLowerCase();return r.includes("expired")||r.includes("inactive")?"expired":r.includes("pending")||r.includes("review")?"pending":"active"}formatDate(t){if(!t)return"2025-12-31";if(typeof t=="number")return new Date(t).toISOString().split("T")[0];if(typeof t=="string"){const r=new Date(t);if(!isNaN(r.getTime()))return r.toISOString().split("T")[0]}return"2025-12-31"}extractDistrict(t){const r=["DISTRICT","DIST_NAME","DISTRICT_NAME","ADMINISTRATIVE_AREA"];for(const n of r)if(t[n])return t[n];return"Unknown District"}extractRegion(t,r){const n=["REGION","REG_NAME","REGION_NAME","ADMINISTRATIVE_REGION"];for(const i of n)if(t[i])return t[i];if(r.length>0){const[i,s]=r[0];return s>9?"Upper East":s>8?"Upper West":i<-2?"Western":i<-1?"Central":s>7?"Northern":i>0?"Volta":"Ashanti"}return"Unknown Region"}clearCache(){this.cachedData=[],this.lastFetch=0}exportToCSV(t){return[["ID","Name","Owner","Size (hectares)","Permit Type","Status","Region","District","Permit Expiry Date","Coordinates"].join(","),...t.map(i=>[i.id,`"${i.name}"`,`"${i.owner}"`,i.size,i.permitType,i.status,i.region,i.district,i.permitExpiryDate,`"${i.coordinates.map(s=>`${s[0]},${s[1]}`).join(";")}"`].join(","))].join(`
`)}}const To=new nIe;function iIe(){const[e,t]=C.useState([]),[r,n]=C.useState([]),[i,s]=C.useState(!0),[o,a]=C.useState(""),[l,c]=C.useState({region:"",status:"",type:"",expiryWindow:""});return C.useEffect(()=>{(async()=>{try{s(!0),await To.initialize();const p=await To.getMiningConcessions();console.log(` Loaded ${p.length} real mining concessions for concessions view`),t(p),n(p)}catch(p){console.error("Error loading real data:",p)}finally{s(!1)}})()},[]),C.useEffect(()=>{let d=e;if(o&&(d=d.filter(p=>p.name.toLowerCase().includes(o.toLowerCase())||p.owner.toLowerCase().includes(o.toLowerCase())||p.district.toLowerCase().includes(o.toLowerCase()))),l.region&&(d=d.filter(p=>p.region===l.region)),l.status&&(d=d.filter(p=>p.status===l.status)),l.type&&(d=d.filter(p=>p.permitType===l.type)),l.expiryWindow){const p=new Date,y=new Date;switch(l.expiryWindow){case"30":y.setDate(p.getDate()+30);break;case"90":y.setDate(p.getDate()+90);break;case"180":y.setDate(p.getDate()+180);break}d=d.filter(m=>new Date(m.permitExpiryDate)<=y&&m.status==="active")}n(d)},[e,o,l]),i?v.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:v.jsx("div",{className:"max-w-7xl mx-auto",children:v.jsx("div",{className:"flex items-center justify-center py-20",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-epa-orange-500 mx-auto mb-4"}),v.jsx("p",{className:"text-gray-600",children:"Loading real mining concessions data..."}),v.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Fetching from EPA ArcGIS database"})]})})})}):v.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:v.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mining Concessions Database"}),v.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive management of mining permits and concessions in Ghana - Real EPA Data"}),v.jsx("div",{className:"mt-4 p-3 bg-green-50 rounded border border-green-200",children:v.jsxs("div",{className:"text-sm text-green-800",children:[" Real-time data from EPA ArcGIS Database  ",e.length," concessions loaded  Last updated: ",new Date().toLocaleString()]})})]}),v.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[v.jsx("div",{className:"flex-1 max-w-lg",children:v.jsx(_de,{value:o,onChange:a})}),v.jsx(jde,{concessions:r})]}),v.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-6",children:[v.jsx("div",{className:"xl:col-span-1",children:v.jsx(sH,{filters:l,onFiltersChange:c})}),v.jsx("div",{className:"xl:col-span-3",children:v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[v.jsxs("div",{className:"p-4 border-b border-gray-200",children:[v.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Concessions Table (",r.length," of ",e.length," records)"]}),v.jsx("p",{className:"text-sm text-gray-600",children:"Real-time view of all mining concession permits from EPA database"})]}),v.jsx(iH,{concessions:r})]})})]})]})})}function sIe(){const[e,t]=C.useState([]),[r,n]=C.useState([]),[i,s]=C.useState(!0),[o,a]=C.useState({region:"",status:"",type:"",expiryWindow:""}),[l,c]=C.useState({sizeMin:"",sizeMax:"",ownerSearch:"",districtSearch:"",permitDateFrom:"",permitDateTo:""});C.useEffect(()=>{(async()=>{try{s(!0),await To.initialize();const g=await To.getMiningConcessions();console.log(` Loaded ${g.length} real mining concessions for advanced filters`),t(g),n(g)}catch(g){console.error("Failed to load concessions data:",g)}finally{s(!1)}})()},[]),C.useEffect(()=>{if(e.length===0)return;let m=e;if(o.region&&(m=m.filter(g=>g.region===o.region)),o.status&&(m=m.filter(g=>g.status===o.status)),o.type&&(m=m.filter(g=>g.permitType===o.type)),o.expiryWindow){const g=new Date,b=new Date;switch(o.expiryWindow){case"30":b.setDate(g.getDate()+30);break;case"90":b.setDate(g.getDate()+90);break;case"180":b.setDate(g.getDate()+180);break}m=m.filter(w=>new Date(w.permitExpiryDate)<=b&&w.status==="active")}l.sizeMin&&(m=m.filter(g=>g.size>=parseFloat(l.sizeMin))),l.sizeMax&&(m=m.filter(g=>g.size<=parseFloat(l.sizeMax))),l.ownerSearch&&(m=m.filter(g=>g.owner.toLowerCase().includes(l.ownerSearch.toLowerCase()))),l.districtSearch&&(m=m.filter(g=>g.district.toLowerCase().includes(l.districtSearch.toLowerCase()))),l.permitDateFrom&&(m=m.filter(g=>{const b=new Date(g.permitExpiryDate),w=new Date(l.permitDateFrom);return b>=w})),l.permitDateTo&&(m=m.filter(g=>{const b=new Date(g.permitExpiryDate),w=new Date(l.permitDateTo);return b<=w})),n(m)},[e,o,l]);const d=()=>{a({region:"",status:"",type:"",expiryWindow:""}),c({sizeMin:"",sizeMax:"",ownerSearch:"",districtSearch:"",permitDateFrom:"",permitDateTo:""})},p=()=>{console.log("Applying filters:",{filters:o,advancedFilters:l}),alert("Filters applied successfully!")},y=()=>{const m=prompt("Enter a name for this filter set:");m&&(console.log("Saving filter set:",m,{filters:o,advancedFilters:l}),alert(`Filter set "${m}" saved successfully!`))};return v.jsxs("div",{className:"space-y-6",children:[v.jsx("div",{className:"flex items-center justify-between",children:v.jsxs("div",{children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Advanced Filters"}),v.jsx("p",{className:"text-gray-600",children:"Configure detailed filters for mining concession data"})]})}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[v.jsx("div",{className:"lg:col-span-1",children:v.jsx(sH,{filters:o,onFiltersChange:a})}),v.jsx("div",{className:"lg:col-span-2",children:v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[v.jsxs("div",{className:"p-4 border-b border-gray-200",children:[v.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Advanced Filter Options"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Additional criteria for precise data filtering"})]}),v.jsxs("div",{className:"p-6 space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Concession Size (Hectares)"}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Minimum"}),v.jsx("input",{type:"number",placeholder:"Min size",value:l.sizeMin,onChange:m=>c(g=>({...g,sizeMin:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-epa-orange-500 focus:border-epa-orange-500"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Maximum"}),v.jsx("input",{type:"number",placeholder:"Max size",value:l.sizeMax,onChange:m=>c(g=>({...g,sizeMax:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-epa-orange-500 focus:border-epa-orange-500"})]})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Owner/Company Search"}),v.jsxs("div",{className:"relative",children:[v.jsx(kA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),v.jsx("input",{type:"text",placeholder:"Search by owner or company name...",value:l.ownerSearch,onChange:m=>c(g=>({...g,ownerSearch:m.target.value})),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-epa-orange-500 focus:border-epa-orange-500"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"District Search"}),v.jsxs("div",{className:"relative",children:[v.jsx(kA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),v.jsx("input",{type:"text",placeholder:"Search by district name...",value:l.districtSearch,onChange:m=>c(g=>({...g,districtSearch:m.target.value})),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-epa-orange-500 focus:border-epa-orange-500"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Permit Issue Date Range"}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"From"}),v.jsx("input",{type:"date",value:l.permitDateFrom,onChange:m=>c(g=>({...g,permitDateFrom:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-epa-orange-500 focus:border-epa-orange-500"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"To"}),v.jsx("input",{type:"date",value:l.permitDateTo,onChange:m=>c(g=>({...g,permitDateTo:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-epa-orange-500 focus:border-epa-orange-500"})]})]})]}),v.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t border-gray-200",children:[v.jsxs("button",{onClick:p,className:"flex items-center space-x-2 px-4 py-2 bg-epa-orange-600 text-white rounded-md hover:bg-epa-orange-700 focus:ring-2 focus:ring-epa-orange-500 focus:ring-offset-2",children:[v.jsx(IA,{className:"h-4 w-4"}),v.jsx("span",{children:"Apply Filters"})]}),v.jsxs("button",{onClick:d,className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:[v.jsx(pde,{className:"h-4 w-4"}),v.jsx("span",{children:"Reset All"})]}),v.jsxs("button",{onClick:y,className:"flex items-center space-x-2 px-4 py-2 bg-epa-green-600 text-white rounded-md hover:bg-epa-green-700 focus:ring-2 focus:ring-epa-green-500 focus:ring-offset-2",children:[v.jsx(x$,{className:"h-4 w-4"}),v.jsx("span",{children:"Save Filter Set"})]})]})]})]})})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[v.jsx("div",{className:"p-6 border-b border-gray-200",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filter Results"}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsxs("span",{className:"text-sm text-gray-600",children:[r.length," of ",e.length," concessions"]}),r.length>0&&v.jsx("button",{onClick:()=>{const m=To.exportToCSV(r),g=new Blob([m],{type:"text/csv"}),b=URL.createObjectURL(g),w=document.createElement("a");w.href=b,w.download="filtered_mining_concessions.csv",w.click()},className:"text-xs px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700",children:"Export CSV"})]})]})}),v.jsx("div",{className:"p-6",children:i?v.jsxs("div",{className:"flex items-center justify-center py-12",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"}),v.jsx("span",{className:"ml-3 text-gray-600",children:"Loading real mining concessions data from EPA ArcGIS..."})]}):r.length>0?v.jsx(iH,{concessions:r}):v.jsxs("div",{className:"text-center py-12",children:[v.jsx(IA,{className:"mx-auto h-12 w-12 text-gray-400"}),v.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No concessions match the current filters"}),v.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your filter criteria or reset all filters to see results."}),v.jsx("button",{onClick:d,className:"mt-4 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Reset All Filters"})]})})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[v.jsxs("div",{className:"p-4 border-b border-gray-200",children:[v.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Quick Filter Presets"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Common filter combinations based on real data patterns"})]}),v.jsx("div",{className:"p-6",children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[v.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-green-500 cursor-pointer transition-colors",onClick:()=>{a({...o,status:"active"})},children:[v.jsx("h3",{className:"font-medium text-gray-900",children:"Active Concessions"}),v.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"All currently active mining permits"}),v.jsxs("p",{className:"text-xs text-green-600 mt-2",children:[e.filter(m=>m.status==="active").length," concessions"]})]}),v.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-yellow-500 cursor-pointer transition-colors",onClick:()=>{a({...o,status:"active",expiryWindow:"90"})},children:[v.jsx("h3",{className:"font-medium text-gray-900",children:"Expiring in 90 Days"}),v.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Active permits expiring soon"}),v.jsxs("p",{className:"text-xs text-yellow-600 mt-2",children:[e.filter(m=>{if(m.status!=="active")return!1;const g=new Date(m.permitExpiryDate),b=new Date;return b.setDate(b.getDate()+90),g<=b}).length," concessions"]})]}),v.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-500 cursor-pointer transition-colors",onClick:()=>{c({...l,sizeMin:"100"})},children:[v.jsx("h3",{className:"font-medium text-gray-900",children:"Large Scale Operations"}),v.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Concessions over 100 hectares"}),v.jsxs("p",{className:"text-xs text-blue-600 mt-2",children:[e.filter(m=>m.size>=100).length," concessions"]})]}),v.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-red-500 cursor-pointer transition-colors",onClick:()=>{a({...o,status:"expired"})},children:[v.jsx("h3",{className:"font-medium text-gray-900",children:"Expired Permits"}),v.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Concessions with expired permits"}),v.jsxs("p",{className:"text-xs text-red-600 mt-2",children:[e.filter(m=>m.status==="expired").length," concessions"]})]}),v.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-purple-500 cursor-pointer transition-colors",onClick:()=>{a({...o,region:"Western"})},children:[v.jsx("h3",{className:"font-medium text-gray-900",children:"Western Region"}),v.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"All concessions in Western Region"}),v.jsxs("p",{className:"text-xs text-purple-600 mt-2",children:[e.filter(m=>m.region==="Western").length," concessions"]})]}),v.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-indigo-500 cursor-pointer transition-colors",onClick:()=>{c({...l,sizeMax:"25"})},children:[v.jsx("h3",{className:"font-medium text-gray-900",children:"Small Scale Operations"}),v.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Concessions under 25 hectares"}),v.jsxs("p",{className:"text-xs text-indigo-600 mt-2",children:[e.filter(m=>m.size<=25).length," concessions"]})]})]})})]})]})}function Hee(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=Hee(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ve(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=Hee(e))&&(n&&(n+=" "),n+=t);return n}var oIe=Array.isArray,Ai=oIe,aIe=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,Jee=aIe,lIe=Jee,uIe=typeof self=="object"&&self&&self.Object===Object&&self,cIe=lIe||uIe||Function("return this")(),Aa=cIe,dIe=Aa,pIe=dIe.Symbol,w1=pIe,HU=w1,Kee=Object.prototype,fIe=Kee.hasOwnProperty,hIe=Kee.toString,r0=HU?HU.toStringTag:void 0;function yIe(e){var t=fIe.call(e,r0),r=e[r0];try{e[r0]=void 0;var n=!0}catch{}var i=hIe.call(e);return n&&(t?e[r0]=r:delete e[r0]),i}var mIe=yIe,gIe=Object.prototype,vIe=gIe.toString;function bIe(e){return vIe.call(e)}var wIe=bIe,JU=w1,xIe=mIe,SIe=wIe,_Ie="[object Null]",$Ie="[object Undefined]",KU=JU?JU.toStringTag:void 0;function TIe(e){return e==null?e===void 0?$Ie:_Ie:KU&&KU in Object(e)?xIe(e):SIe(e)}var Kl=TIe;function OIe(e){return e!=null&&typeof e=="object"}var Zl=OIe,EIe=Kl,jIe=Zl,AIe="[object Symbol]";function IIe(e){return typeof e=="symbol"||jIe(e)&&EIe(e)==AIe}var gm=IIe,PIe=Ai,kIe=gm,CIe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,NIe=/^\w*$/;function MIe(e,t){if(PIe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||kIe(e)?!0:NIe.test(e)||!CIe.test(e)||t!=null&&e in Object(t)}var jL=MIe;function RIe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Lc=RIe;const vm=gt(Lc);var LIe=Kl,DIe=Lc,FIe="[object AsyncFunction]",UIe="[object Function]",zIe="[object GeneratorFunction]",BIe="[object Proxy]";function VIe(e){if(!DIe(e))return!1;var t=LIe(e);return t==UIe||t==zIe||t==FIe||t==BIe}var AL=VIe;const Ne=gt(AL);var qIe=Aa,GIe=qIe["__core-js_shared__"],WIe=GIe,ZE=WIe,ZU=function(){var e=/[^.]+$/.exec(ZE&&ZE.keys&&ZE.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function HIe(e){return!!ZU&&ZU in e}var JIe=HIe,KIe=Function.prototype,ZIe=KIe.toString;function YIe(e){if(e!=null){try{return ZIe.call(e)}catch{}try{return e+""}catch{}}return""}var Zee=YIe,QIe=AL,XIe=JIe,ePe=Lc,tPe=Zee,rPe=/[\\^$.*+?()[\]{}|]/g,nPe=/^\[object .+?Constructor\]$/,iPe=Function.prototype,sPe=Object.prototype,oPe=iPe.toString,aPe=sPe.hasOwnProperty,lPe=RegExp("^"+oPe.call(aPe).replace(rPe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function uPe(e){if(!ePe(e)||XIe(e))return!1;var t=QIe(e)?lPe:nPe;return t.test(tPe(e))}var cPe=uPe;function dPe(e,t){return e?.[t]}var pPe=dPe,fPe=cPe,hPe=pPe;function yPe(e,t){var r=hPe(e,t);return fPe(r)?r:void 0}var Bp=yPe,mPe=Bp,gPe=mPe(Object,"create"),hT=gPe,YU=hT;function vPe(){this.__data__=YU?YU(null):{},this.size=0}var bPe=vPe;function wPe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var xPe=wPe,SPe=hT,_Pe="__lodash_hash_undefined__",$Pe=Object.prototype,TPe=$Pe.hasOwnProperty;function OPe(e){var t=this.__data__;if(SPe){var r=t[e];return r===_Pe?void 0:r}return TPe.call(t,e)?t[e]:void 0}var EPe=OPe,jPe=hT,APe=Object.prototype,IPe=APe.hasOwnProperty;function PPe(e){var t=this.__data__;return jPe?t[e]!==void 0:IPe.call(t,e)}var kPe=PPe,CPe=hT,NPe="__lodash_hash_undefined__";function MPe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=CPe&&t===void 0?NPe:t,this}var RPe=MPe,LPe=bPe,DPe=xPe,FPe=EPe,UPe=kPe,zPe=RPe;function bm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}bm.prototype.clear=LPe;bm.prototype.delete=DPe;bm.prototype.get=FPe;bm.prototype.has=UPe;bm.prototype.set=zPe;var BPe=bm;function VPe(){this.__data__=[],this.size=0}var qPe=VPe;function GPe(e,t){return e===t||e!==e&&t!==t}var IL=GPe,WPe=IL;function HPe(e,t){for(var r=e.length;r--;)if(WPe(e[r][0],t))return r;return-1}var yT=HPe,JPe=yT,KPe=Array.prototype,ZPe=KPe.splice;function YPe(e){var t=this.__data__,r=JPe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():ZPe.call(t,r,1),--this.size,!0}var QPe=YPe,XPe=yT;function eke(e){var t=this.__data__,r=XPe(t,e);return r<0?void 0:t[r][1]}var tke=eke,rke=yT;function nke(e){return rke(this.__data__,e)>-1}var ike=nke,ske=yT;function oke(e,t){var r=this.__data__,n=ske(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var ake=oke,lke=qPe,uke=QPe,cke=tke,dke=ike,pke=ake;function wm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}wm.prototype.clear=lke;wm.prototype.delete=uke;wm.prototype.get=cke;wm.prototype.has=dke;wm.prototype.set=pke;var mT=wm,fke=Bp,hke=Aa,yke=fke(hke,"Map"),PL=yke,QU=BPe,mke=mT,gke=PL;function vke(){this.size=0,this.__data__={hash:new QU,map:new(gke||mke),string:new QU}}var bke=vke;function wke(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var xke=wke,Ske=xke;function _ke(e,t){var r=e.__data__;return Ske(t)?r[typeof t=="string"?"string":"hash"]:r.map}var gT=_ke,$ke=gT;function Tke(e){var t=$ke(this,e).delete(e);return this.size-=t?1:0,t}var Oke=Tke,Eke=gT;function jke(e){return Eke(this,e).get(e)}var Ake=jke,Ike=gT;function Pke(e){return Ike(this,e).has(e)}var kke=Pke,Cke=gT;function Nke(e,t){var r=Cke(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Mke=Nke,Rke=bke,Lke=Oke,Dke=Ake,Fke=kke,Uke=Mke;function xm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}xm.prototype.clear=Rke;xm.prototype.delete=Lke;xm.prototype.get=Dke;xm.prototype.has=Fke;xm.prototype.set=Uke;var kL=xm,Yee=kL,zke="Expected a function";function CL(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(zke);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=e.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(CL.Cache||Yee),r}CL.Cache=Yee;var Qee=CL;const Bke=gt(Qee);var Vke=Qee,qke=500;function Gke(e){var t=Vke(e,function(n){return r.size===qke&&r.clear(),n}),r=t.cache;return t}var Wke=Gke,Hke=Wke,Jke=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kke=/\\(\\)?/g,Zke=Hke(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Jke,function(r,n,i,s){t.push(i?s.replace(Kke,"$1"):n||r)}),t}),Yke=Zke;function Qke(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var NL=Qke,XU=w1,Xke=NL,eCe=Ai,tCe=gm,rCe=1/0,e7=XU?XU.prototype:void 0,t7=e7?e7.toString:void 0;function Xee(e){if(typeof e=="string")return e;if(eCe(e))return Xke(e,Xee)+"";if(tCe(e))return t7?t7.call(e):"";var t=e+"";return t=="0"&&1/e==-rCe?"-0":t}var nCe=Xee,iCe=nCe;function sCe(e){return e==null?"":iCe(e)}var ete=sCe,oCe=Ai,aCe=jL,lCe=Yke,uCe=ete;function cCe(e,t){return oCe(e)?e:aCe(e,t)?[e]:lCe(uCe(e))}var tte=cCe,dCe=gm,pCe=1/0;function fCe(e){if(typeof e=="string"||dCe(e))return e;var t=e+"";return t=="0"&&1/e==-pCe?"-0":t}var vT=fCe,hCe=tte,yCe=vT;function mCe(e,t){t=hCe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[yCe(t[r++])];return r&&r==n?e:void 0}var ML=mCe,gCe=ML;function vCe(e,t,r){var n=e==null?void 0:gCe(e,t);return n===void 0?r:n}var rte=vCe;const Qi=gt(rte);function bCe(e){return e==null}var wCe=bCe;const Ge=gt(wCe);var xCe=Kl,SCe=Ai,_Ce=Zl,$Ce="[object String]";function TCe(e){return typeof e=="string"||!SCe(e)&&_Ce(e)&&xCe(e)==$Ce}var OCe=TCe;const Ep=gt(OCe);var nte={exports:{}},vt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RL=Symbol.for("react.element"),LL=Symbol.for("react.portal"),bT=Symbol.for("react.fragment"),wT=Symbol.for("react.strict_mode"),xT=Symbol.for("react.profiler"),ST=Symbol.for("react.provider"),_T=Symbol.for("react.context"),ECe=Symbol.for("react.server_context"),$T=Symbol.for("react.forward_ref"),TT=Symbol.for("react.suspense"),OT=Symbol.for("react.suspense_list"),ET=Symbol.for("react.memo"),jT=Symbol.for("react.lazy"),jCe=Symbol.for("react.offscreen"),ite;ite=Symbol.for("react.module.reference");function Ds(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case RL:switch(e=e.type,e){case bT:case xT:case wT:case TT:case OT:return e;default:switch(e=e&&e.$$typeof,e){case ECe:case _T:case $T:case jT:case ET:case ST:return e;default:return t}}case LL:return t}}}vt.ContextConsumer=_T;vt.ContextProvider=ST;vt.Element=RL;vt.ForwardRef=$T;vt.Fragment=bT;vt.Lazy=jT;vt.Memo=ET;vt.Portal=LL;vt.Profiler=xT;vt.StrictMode=wT;vt.Suspense=TT;vt.SuspenseList=OT;vt.isAsyncMode=function(){return!1};vt.isConcurrentMode=function(){return!1};vt.isContextConsumer=function(e){return Ds(e)===_T};vt.isContextProvider=function(e){return Ds(e)===ST};vt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===RL};vt.isForwardRef=function(e){return Ds(e)===$T};vt.isFragment=function(e){return Ds(e)===bT};vt.isLazy=function(e){return Ds(e)===jT};vt.isMemo=function(e){return Ds(e)===ET};vt.isPortal=function(e){return Ds(e)===LL};vt.isProfiler=function(e){return Ds(e)===xT};vt.isStrictMode=function(e){return Ds(e)===wT};vt.isSuspense=function(e){return Ds(e)===TT};vt.isSuspenseList=function(e){return Ds(e)===OT};vt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===bT||e===xT||e===wT||e===TT||e===OT||e===jCe||typeof e=="object"&&e!==null&&(e.$$typeof===jT||e.$$typeof===ET||e.$$typeof===ST||e.$$typeof===_T||e.$$typeof===$T||e.$$typeof===ite||e.getModuleId!==void 0)};vt.typeOf=Ds;nte.exports=vt;var ACe=nte.exports,ICe=Kl,PCe=Zl,kCe="[object Number]";function CCe(e){return typeof e=="number"||PCe(e)&&ICe(e)==kCe}var ste=CCe;const NCe=gt(ste);var MCe=ste;function RCe(e){return MCe(e)&&e!=+e}var LCe=RCe;const x1=gt(LCe);var Qn=function(t){return t===0?0:t>0?1:-1},Jd=function(t){return Ep(t)&&t.indexOf("%")===t.length-1},ue=function(t){return NCe(t)&&!x1(t)},DCe=function(t){return Ge(t)},Vr=function(t){return ue(t)||Ep(t)},FCe=0,S1=function(t){var r=++FCe;return"".concat(t||"").concat(r)},Xn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ue(t)&&!Ep(t))return n;var s;if(Jd(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return x1(s)&&(s=n),i&&s>r&&(s=r),s},Bu=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},UCe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},ku=function(t,r){return ue(t)&&ue(r)?function(n){return t+n*(r-t)}:function(){return r}};function e3(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Qi(n,t))===r})}var zCe=function(t,r){return ue(t)&&ue(r)?t-r:Ep(t)&&Ep(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Hh(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function t3(e){"@babel/helpers - typeof";return t3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t3(e)}var BCe=["viewBox","children"],VCe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],r7=["points","pathLength"],YE={svg:BCe,polygon:r7,polyline:r7},DL=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Y_=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(C.isValidElement(t)&&(n=t.props),!vm(n))return null;var i={};return Object.keys(n).forEach(function(s){DL.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},qCe=function(t,r,n){return function(i){return t(r,n,i),null}},jp=function(t,r,n){if(!vm(t)||t3(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(s){var o=t[s];DL.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=qCe(o,r,n))}),i},GCe=["children"],WCe=["children"];function n7(e,t){if(e==null)return{};var r=HCe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var i7={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},kl=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},s7=null,QE=null,FL=function e(t){if(t===s7&&Array.isArray(QE))return QE;var r=[];return C.Children.forEach(t,function(n){Ge(n)||(ACe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),QE=r,s7=t,r};function Ps(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return kl(i)}):n=[kl(t)],FL(e).forEach(function(i){var s=Qi(i,"type.displayName")||Qi(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function zi(e,t){var r=Ps(e,t);return r&&r[0]}var o7=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!ue(n)||n<=0||!ue(i)||i<=0)},JCe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],KCe=function(t){return t&&t.type&&Ep(t.type)&&JCe.indexOf(t.type)>=0},ZCe=function(t,r,n,i){var s,o=(s=YE?.[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Ne(t)&&(i&&o.includes(r)||VCe.includes(r))||n&&DL.includes(r)},Ie=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(C.isValidElement(t)&&(i=t.props),!vm(i))return null;var s={};return Object.keys(i).forEach(function(o){var a;ZCe((a=i)===null||a===void 0?void 0:a[o],o,r,n)&&(s[o]=i[o])}),s},r3=function e(t,r){if(t===r)return!0;var n=C.Children.count(t);if(n!==C.Children.count(r))return!1;if(n===0)return!0;if(n===1)return a7(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=t[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!a7(s,o))return!1}return!0},a7=function(t,r){if(Ge(t)&&Ge(r))return!0;if(!Ge(t)&&!Ge(r)){var n=t.props||{},i=n.children,s=n7(n,GCe),o=r.props||{},a=o.children,l=n7(o,WCe);return i&&a?Hh(s,l)&&r3(i,a):!i&&!a?Hh(s,l):!1}return!1},l7=function(t,r){var n=[],i={};return FL(t).forEach(function(s,o){if(KCe(s))n.push(s);else if(s){var a=kl(s.type),l=r[a]||{},c=l.handler,d=l.once;if(c&&(!d||!i[a])){var p=c(s,a,o);n.push(p),i[a]=!0}}}),n},YCe=function(t){var r=t&&t.type;return r&&i7[r]?i7[r]:null},QCe=function(t,r){return FL(r).indexOf(t)},XCe=["children","width","height","viewBox","className","style","title","desc"];function n3(){return n3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n3.apply(this,arguments)}function e3e(e,t){if(e==null)return{};var r=t3e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function t3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function i3(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,s=e.className,o=e.style,a=e.title,l=e.desc,c=e3e(e,XCe),d=i||{width:r,height:n,x:0,y:0},p=Ve("recharts-surface",s);return L.createElement("svg",n3({},Ie(c,!0,"svg"),{className:p,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),L.createElement("title",null,a),L.createElement("desc",null,l),t)}var r3e=["children","className"];function s3(){return s3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s3.apply(this,arguments)}function n3e(e,t){if(e==null)return{};var r=i3e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function i3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var yt=L.forwardRef(function(e,t){var r=e.children,n=e.className,i=n3e(e,r3e),s=Ve("recharts-layer",n);return L.createElement("g",s3({className:s},Ie(i,!0),{ref:t}),r)}),No=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function s3e(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(i);++n<i;)s[n]=e[n+t];return s}var o3e=s3e,a3e=o3e;function l3e(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:a3e(e,t,r)}var u3e=l3e,c3e="\\ud800-\\udfff",d3e="\\u0300-\\u036f",p3e="\\ufe20-\\ufe2f",f3e="\\u20d0-\\u20ff",h3e=d3e+p3e+f3e,y3e="\\ufe0e\\ufe0f",m3e="\\u200d",g3e=RegExp("["+m3e+c3e+h3e+y3e+"]");function v3e(e){return g3e.test(e)}var ote=v3e;function b3e(e){return e.split("")}var w3e=b3e,ate="\\ud800-\\udfff",x3e="\\u0300-\\u036f",S3e="\\ufe20-\\ufe2f",_3e="\\u20d0-\\u20ff",$3e=x3e+S3e+_3e,T3e="\\ufe0e\\ufe0f",O3e="["+ate+"]",o3="["+$3e+"]",a3="\\ud83c[\\udffb-\\udfff]",E3e="(?:"+o3+"|"+a3+")",lte="[^"+ate+"]",ute="(?:\\ud83c[\\udde6-\\uddff]){2}",cte="[\\ud800-\\udbff][\\udc00-\\udfff]",j3e="\\u200d",dte=E3e+"?",pte="["+T3e+"]?",A3e="(?:"+j3e+"(?:"+[lte,ute,cte].join("|")+")"+pte+dte+")*",I3e=pte+dte+A3e,P3e="(?:"+[lte+o3+"?",o3,ute,cte,O3e].join("|")+")",k3e=RegExp(a3+"(?="+a3+")|"+P3e+I3e,"g");function C3e(e){return e.match(k3e)||[]}var N3e=C3e,M3e=w3e,R3e=ote,L3e=N3e;function D3e(e){return R3e(e)?L3e(e):M3e(e)}var F3e=D3e,U3e=u3e,z3e=ote,B3e=F3e,V3e=ete;function q3e(e){return function(t){t=V3e(t);var r=z3e(t)?B3e(t):void 0,n=r?r[0]:t.charAt(0),i=r?U3e(r,1).join(""):t.slice(1);return n[e]()+i}}var G3e=q3e,W3e=G3e,H3e=W3e("toUpperCase"),J3e=H3e;const AT=gt(J3e);function Pt(e){return function(){return e}}const fte=Math.cos,Q_=Math.sin,Uo=Math.sqrt,X_=Math.PI,IT=2*X_,l3=Math.PI,u3=2*l3,Ed=1e-6,K3e=u3-Ed;function hte(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Z3e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return hte;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Y3e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?hte:Z3e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=n-t,c=i-r,d=o-t,p=a-r,y=d*d+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(y>Ed)if(!(Math.abs(p*l-c*d)>Ed)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=i-a,b=l*l+c*c,w=m*m+g*g,S=Math.sqrt(b),_=Math.sqrt(y),x=s*Math.tan((l3-Math.acos((b+y-w)/(2*S*_)))/2),O=x/_,$=x/S;Math.abs(O-1)>Ed&&this._append`L${t+O*d},${r+O*p}`,this._append`A${s},${s},0,0,${+(p*m>d*g)},${this._x1=t+$*l},${this._y1=r+$*c}`}}arc(t,r,n,i,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(i),l=n*Math.sin(i),c=t+a,d=r+l,p=1^o,y=o?i-s:s-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Ed||Math.abs(this._y1-d)>Ed)&&this._append`L${c},${d}`,n&&(y<0&&(y=y%u3+u3),y>K3e?this._append`A${n},${n},0,1,${p},${t-a},${r-l}A${n},${n},0,1,${p},${this._x1=c},${this._y1=d}`:y>Ed&&this._append`A${n},${n},0,${+(y>=l3)},${p},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function UL(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Y3e(t)}function zL(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function yte(e){this._context=e}yte.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function PT(e){return new yte(e)}function mte(e){return e[0]}function gte(e){return e[1]}function vte(e,t){var r=Pt(!0),n=null,i=PT,s=null,o=UL(a);e=typeof e=="function"?e:e===void 0?mte:Pt(e),t=typeof t=="function"?t:t===void 0?gte:Pt(t);function a(l){var c,d=(l=zL(l)).length,p,y=!1,m;for(n==null&&(s=i(m=o())),c=0;c<=d;++c)!(c<d&&r(p=l[c],c,l))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+e(p,c,l),+t(p,c,l));if(m)return s=null,m+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:Pt(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:Pt(+l),a):t},a.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Pt(!!l),a):r},a.curve=function(l){return arguments.length?(i=l,n!=null&&(s=i(n)),a):i},a.context=function(l){return arguments.length?(l==null?n=s=null:s=i(n=l),a):n},a}function Bw(e,t,r){var n=null,i=Pt(!0),s=null,o=PT,a=null,l=UL(c);e=typeof e=="function"?e:e===void 0?mte:Pt(+e),t=typeof t=="function"?t:Pt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?gte:Pt(+r);function c(p){var y,m,g,b=(p=zL(p)).length,w,S=!1,_,x=new Array(b),O=new Array(b);for(s==null&&(a=o(_=l())),y=0;y<=b;++y){if(!(y<b&&i(w=p[y],y,p))===S)if(S=!S)m=y,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),g=y-1;g>=m;--g)a.point(x[g],O[g]);a.lineEnd(),a.areaEnd()}S&&(x[y]=+e(w,y,p),O[y]=+t(w,y,p),a.point(n?+n(w,y,p):x[y],r?+r(w,y,p):O[y]))}if(_)return a=null,_+""||null}function d(){return vte().defined(i).curve(o).context(s)}return c.x=function(p){return arguments.length?(e=typeof p=="function"?p:Pt(+p),n=null,c):e},c.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Pt(+p),c):e},c.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Pt(+p),c):n},c.y=function(p){return arguments.length?(t=typeof p=="function"?p:Pt(+p),r=null,c):t},c.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Pt(+p),c):t},c.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Pt(+p),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Pt(!!p),c):i},c.curve=function(p){return arguments.length?(o=p,s!=null&&(a=o(s)),c):o},c.context=function(p){return arguments.length?(p==null?s=a=null:a=o(s=p),c):s},c}class bte{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Q3e(e){return new bte(e,!0)}function X3e(e){return new bte(e,!1)}const BL={draw(e,t){const r=Uo(t/X_);e.moveTo(r,0),e.arc(0,0,r,0,IT)}},eNe={draw(e,t){const r=Uo(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},wte=Uo(1/3),tNe=wte*2,rNe={draw(e,t){const r=Uo(t/tNe),n=r*wte;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},nNe={draw(e,t){const r=Uo(t),n=-r/2;e.rect(n,n,r,r)}},iNe=.8908130915292852,xte=Q_(X_/10)/Q_(7*X_/10),sNe=Q_(IT/10)*xte,oNe=-fte(IT/10)*xte,aNe={draw(e,t){const r=Uo(t*iNe),n=sNe*r,i=oNe*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const o=IT*s/5,a=fte(o),l=Q_(o);e.lineTo(l*r,-a*r),e.lineTo(a*n-l*i,l*n+a*i)}e.closePath()}},XE=Uo(3),lNe={draw(e,t){const r=-Uo(t/(XE*3));e.moveTo(0,r*2),e.lineTo(-XE*r,-r),e.lineTo(XE*r,-r),e.closePath()}},ss=-.5,os=Uo(3)/2,c3=1/Uo(12),uNe=(c3/2+1)*3,cNe={draw(e,t){const r=Uo(t/uNe),n=r/2,i=r*c3,s=n,o=r*c3+r,a=-s,l=o;e.moveTo(n,i),e.lineTo(s,o),e.lineTo(a,l),e.lineTo(ss*n-os*i,os*n+ss*i),e.lineTo(ss*s-os*o,os*s+ss*o),e.lineTo(ss*a-os*l,os*a+ss*l),e.lineTo(ss*n+os*i,ss*i-os*n),e.lineTo(ss*s+os*o,ss*o-os*s),e.lineTo(ss*a+os*l,ss*l-os*a),e.closePath()}};function dNe(e,t){let r=null,n=UL(i);e=typeof e=="function"?e:Pt(e||BL),t=typeof t=="function"?t:Pt(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Pt(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Pt(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function e2(){}function t2(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Ste(e){this._context=e}Ste.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:t2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:t2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pNe(e){return new Ste(e)}function _te(e){this._context=e}_te.prototype={areaStart:e2,areaEnd:e2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:t2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fNe(e){return new _te(e)}function $te(e){this._context=e}$te.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:t2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hNe(e){return new $te(e)}function Tte(e){this._context=e}Tte.prototype={areaStart:e2,areaEnd:e2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function yNe(e){return new Tte(e)}function u7(e){return e<0?-1:1}function c7(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),a=(s*i+o*n)/(n+i);return(u7(s)+u7(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function d7(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ej(e,t,r){var n=e._x0,i=e._y0,s=e._x1,o=e._y1,a=(s-n)/3;e._context.bezierCurveTo(n+a,i+a*t,s-a,o-a*r,s,o)}function r2(e){this._context=e}r2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ej(this,this._t0,d7(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ej(this,d7(this,r=c7(this,e,t)),r);break;default:ej(this,this._t0,r=c7(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Ote(e){this._context=new Ete(e)}(Ote.prototype=Object.create(r2.prototype)).point=function(e,t){r2.prototype.point.call(this,t,e)};function Ete(e){this._context=e}Ete.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function mNe(e){return new r2(e)}function gNe(e){return new Ote(e)}function jte(e){this._context=e}jte.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=p7(e),i=p7(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function p7(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function vNe(e){return new jte(e)}function kT(e,t){this._context=e,this._t=t}kT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function bNe(e){return new kT(e,.5)}function wNe(e){return new kT(e,0)}function xNe(e){return new kT(e,1)}function wy(e,t){if((o=e.length)>1)for(var r=1,n,i,s=e[t[0]],o,a=s.length;r<o;++r)for(i=s,s=e[t[r]],n=0;n<a;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function d3(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function SNe(e,t){return e[t]}function _Ne(e){const t=[];return t.key=e,t}function $Ne(){var e=Pt([]),t=d3,r=wy,n=SNe;function i(s){var o=Array.from(e.apply(this,arguments),_Ne),a,l=o.length,c=-1,d;for(const p of s)for(a=0,++c;a<l;++a)(o[a][c]=[0,+n(p,o[a].key,c,s)]).data=p;for(a=0,d=zL(t(o));a<l;++a)o[d[a]].index=a;return r(o,d),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Pt(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Pt(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?d3:typeof s=="function"?s:Pt(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??wy,i):r},i}function TNe(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}wy(e,t)}}function ONe(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var o=0,a=0;o<i;++o)a+=e[o][r][1]||0;n[r][1]+=n[r][0]=-a/2}wy(e,t)}}function ENe(e,t){if(!(!((o=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var a=0,l=0,c=0;a<o;++a){for(var d=e[t[a]],p=d[n][1]||0,y=d[n-1][1]||0,m=(p-y)/2,g=0;g<a;++g){var b=e[t[g]],w=b[n][1]||0,S=b[n-1][1]||0;m+=w-S}l+=p,c+=m*p}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,wy(e,t)}}function Uv(e){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uv(e)}var jNe=["type","size","sizeType"];function p3(){return p3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p3.apply(this,arguments)}function f7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function h7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f7(Object(r),!0).forEach(function(n){ANe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ANe(e,t,r){return t=INe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function INe(e){var t=PNe(e,"string");return Uv(t)=="symbol"?t:t+""}function PNe(e,t){if(Uv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kNe(e,t){if(e==null)return{};var r=CNe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ate={symbolCircle:BL,symbolCross:eNe,symbolDiamond:rNe,symbolSquare:nNe,symbolStar:aNe,symbolTriangle:lNe,symbolWye:cNe},NNe=Math.PI/180,MNe=function(t){var r="symbol".concat(AT(t));return Ate[r]||BL},RNe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*NNe;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},LNe=function(t,r){Ate["symbol".concat(AT(t))]=r},VL=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,s=i===void 0?64:i,o=t.sizeType,a=o===void 0?"area":o,l=kNe(t,jNe),c=h7(h7({},l),{},{type:n,size:s,sizeType:a}),d=function(){var w=MNe(n),S=dNe().type(w).size(RNe(s,a,n));return S()},p=c.className,y=c.cx,m=c.cy,g=Ie(c,!0);return y===+y&&m===+m&&s===+s?L.createElement("path",p3({},g,{className:Ve("recharts-symbols",p),transform:"translate(".concat(y,", ").concat(m,")"),d:d()})):null};VL.registerSymbol=LNe;function xy(e){"@babel/helpers - typeof";return xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xy(e)}function f3(){return f3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f3.apply(this,arguments)}function y7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DNe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y7(Object(r),!0).forEach(function(n){zv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pte(n.key),n)}}function UNe(e,t,r){return t&&m7(e.prototype,t),r&&m7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zNe(e,t,r){return t=n2(t),BNe(e,Ite()?Reflect.construct(t,r||[],n2(e).constructor):t.apply(e,r))}function BNe(e,t){if(t&&(xy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VNe(e)}function VNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ite(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ite=function(){return!!e})()}function n2(e){return n2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},n2(e)}function qNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h3(e,t)}function h3(e,t){return h3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},h3(e,t)}function zv(e,t,r){return t=Pte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pte(e){var t=GNe(e,"string");return xy(t)=="symbol"?t:t+""}function GNe(e,t){if(xy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var as=32,qL=function(e){function t(){return FNe(this,t),zNe(this,t,arguments)}return qNe(t,e),UNe(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=as/2,o=as/6,a=as/3,l=n.inactive?i:n.color;if(n.type==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:as,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(s,`
            H`).concat(as,"M").concat(2*a,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return L.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(as/8,"h").concat(as,"v").concat(as*3/4,"h").concat(-as,"z"),className:"recharts-legend-icon"});if(L.isValidElement(n.legendIcon)){var c=DNe({},n);return delete c.legendIcon,L.cloneElement(n.legendIcon,c)}return L.createElement(VL,{fill:l,cx:s,cy:s,size:as,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,a=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:as,height:as},p={display:a==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,g){var b=m.formatter||l,w=Ve(zv(zv({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var S=Ne(m.value)?null:m.value;No(!Ne(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=m.inactive?c:m.color;return L.createElement("li",f3({className:w,style:p,key:"legend-item-".concat(g)},jp(n.props,m,g)),L.createElement(i3,{width:o,height:o,viewBox:d,style:y},n.renderIcon(m)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},b?b(S,m,g):S))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(C.PureComponent);zv(qL,"displayName","Legend");zv(qL,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var WNe=mT;function HNe(){this.__data__=new WNe,this.size=0}var JNe=HNe;function KNe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var ZNe=KNe;function YNe(e){return this.__data__.get(e)}var QNe=YNe;function XNe(e){return this.__data__.has(e)}var eMe=XNe,tMe=mT,rMe=PL,nMe=kL,iMe=200;function sMe(e,t){var r=this.__data__;if(r instanceof tMe){var n=r.__data__;if(!rMe||n.length<iMe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new nMe(n)}return r.set(e,t),this.size=r.size,this}var oMe=sMe,aMe=mT,lMe=JNe,uMe=ZNe,cMe=QNe,dMe=eMe,pMe=oMe;function Sm(e){var t=this.__data__=new aMe(e);this.size=t.size}Sm.prototype.clear=lMe;Sm.prototype.delete=uMe;Sm.prototype.get=cMe;Sm.prototype.has=dMe;Sm.prototype.set=pMe;var kte=Sm,fMe="__lodash_hash_undefined__";function hMe(e){return this.__data__.set(e,fMe),this}var yMe=hMe;function mMe(e){return this.__data__.has(e)}var gMe=mMe,vMe=kL,bMe=yMe,wMe=gMe;function i2(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new vMe;++t<r;)this.add(e[t])}i2.prototype.add=i2.prototype.push=bMe;i2.prototype.has=wMe;var Cte=i2;function xMe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Nte=xMe;function SMe(e,t){return e.has(t)}var Mte=SMe,_Me=Cte,$Me=Nte,TMe=Mte,OMe=1,EMe=2;function jMe(e,t,r,n,i,s){var o=r&OMe,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(e),d=s.get(t);if(c&&d)return c==t&&d==e;var p=-1,y=!0,m=r&EMe?new _Me:void 0;for(s.set(e,t),s.set(t,e);++p<a;){var g=e[p],b=t[p];if(n)var w=o?n(b,g,p,t,e,s):n(g,b,p,e,t,s);if(w!==void 0){if(w)continue;y=!1;break}if(m){if(!$Me(t,function(S,_){if(!TMe(m,_)&&(g===S||i(g,S,r,n,s)))return m.push(_)})){y=!1;break}}else if(!(g===b||i(g,b,r,n,s))){y=!1;break}}return s.delete(e),s.delete(t),y}var Rte=jMe,AMe=Aa,IMe=AMe.Uint8Array,PMe=IMe;function kMe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var CMe=kMe;function NMe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var GL=NMe,g7=w1,v7=PMe,MMe=IL,RMe=Rte,LMe=CMe,DMe=GL,FMe=1,UMe=2,zMe="[object Boolean]",BMe="[object Date]",VMe="[object Error]",qMe="[object Map]",GMe="[object Number]",WMe="[object RegExp]",HMe="[object Set]",JMe="[object String]",KMe="[object Symbol]",ZMe="[object ArrayBuffer]",YMe="[object DataView]",b7=g7?g7.prototype:void 0,tj=b7?b7.valueOf:void 0;function QMe(e,t,r,n,i,s,o){switch(r){case YMe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ZMe:return!(e.byteLength!=t.byteLength||!s(new v7(e),new v7(t)));case zMe:case BMe:case GMe:return MMe(+e,+t);case VMe:return e.name==t.name&&e.message==t.message;case WMe:case JMe:return e==t+"";case qMe:var a=LMe;case HMe:var l=n&FMe;if(a||(a=DMe),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;n|=UMe,o.set(e,t);var d=RMe(a(e),a(t),n,i,s,o);return o.delete(e),d;case KMe:if(tj)return tj.call(e)==tj.call(t)}return!1}var XMe=QMe;function eRe(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var Lte=eRe,tRe=Lte,rRe=Ai;function nRe(e,t,r){var n=t(e);return rRe(e)?n:tRe(n,r(e))}var iRe=nRe;function sRe(e,t){for(var r=-1,n=e==null?0:e.length,i=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[i++]=o)}return s}var oRe=sRe;function aRe(){return[]}var lRe=aRe,uRe=oRe,cRe=lRe,dRe=Object.prototype,pRe=dRe.propertyIsEnumerable,w7=Object.getOwnPropertySymbols,fRe=w7?function(e){return e==null?[]:(e=Object(e),uRe(w7(e),function(t){return pRe.call(e,t)}))}:cRe,hRe=fRe;function yRe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var mRe=yRe,gRe=Kl,vRe=Zl,bRe="[object Arguments]";function wRe(e){return vRe(e)&&gRe(e)==bRe}var xRe=wRe,x7=xRe,SRe=Zl,Dte=Object.prototype,_Re=Dte.hasOwnProperty,$Re=Dte.propertyIsEnumerable,TRe=x7(function(){return arguments}())?x7:function(e){return SRe(e)&&_Re.call(e,"callee")&&!$Re.call(e,"callee")},WL=TRe,s2={exports:{}};function ORe(){return!1}var ERe=ORe;s2.exports;(function(e,t){var r=Aa,n=ERe,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,a=o?r.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||n;e.exports=c})(s2,s2.exports);var Fte=s2.exports,jRe=9007199254740991,ARe=/^(?:0|[1-9]\d*)$/;function IRe(e,t){var r=typeof e;return t=t??jRe,!!t&&(r=="number"||r!="symbol"&&ARe.test(e))&&e>-1&&e%1==0&&e<t}var HL=IRe,PRe=9007199254740991;function kRe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=PRe}var JL=kRe,CRe=Kl,NRe=JL,MRe=Zl,RRe="[object Arguments]",LRe="[object Array]",DRe="[object Boolean]",FRe="[object Date]",URe="[object Error]",zRe="[object Function]",BRe="[object Map]",VRe="[object Number]",qRe="[object Object]",GRe="[object RegExp]",WRe="[object Set]",HRe="[object String]",JRe="[object WeakMap]",KRe="[object ArrayBuffer]",ZRe="[object DataView]",YRe="[object Float32Array]",QRe="[object Float64Array]",XRe="[object Int8Array]",eLe="[object Int16Array]",tLe="[object Int32Array]",rLe="[object Uint8Array]",nLe="[object Uint8ClampedArray]",iLe="[object Uint16Array]",sLe="[object Uint32Array]",Lt={};Lt[YRe]=Lt[QRe]=Lt[XRe]=Lt[eLe]=Lt[tLe]=Lt[rLe]=Lt[nLe]=Lt[iLe]=Lt[sLe]=!0;Lt[RRe]=Lt[LRe]=Lt[KRe]=Lt[DRe]=Lt[ZRe]=Lt[FRe]=Lt[URe]=Lt[zRe]=Lt[BRe]=Lt[VRe]=Lt[qRe]=Lt[GRe]=Lt[WRe]=Lt[HRe]=Lt[JRe]=!1;function oLe(e){return MRe(e)&&NRe(e.length)&&!!Lt[CRe(e)]}var aLe=oLe;function lLe(e){return function(t){return e(t)}}var Ute=lLe,o2={exports:{}};o2.exports;(function(e,t){var r=Jee,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s&&r.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=a})(o2,o2.exports);var uLe=o2.exports,cLe=aLe,dLe=Ute,S7=uLe,_7=S7&&S7.isTypedArray,pLe=_7?dLe(_7):cLe,zte=pLe,fLe=mRe,hLe=WL,yLe=Ai,mLe=Fte,gLe=HL,vLe=zte,bLe=Object.prototype,wLe=bLe.hasOwnProperty;function xLe(e,t){var r=yLe(e),n=!r&&hLe(e),i=!r&&!n&&mLe(e),s=!r&&!n&&!i&&vLe(e),o=r||n||i||s,a=o?fLe(e.length,String):[],l=a.length;for(var c in e)(t||wLe.call(e,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||gLe(c,l)))&&a.push(c);return a}var SLe=xLe,_Le=Object.prototype;function $Le(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||_Le;return e===r}var TLe=$Le;function OLe(e,t){return function(r){return e(t(r))}}var Bte=OLe,ELe=Bte,jLe=ELe(Object.keys,Object),ALe=jLe,ILe=TLe,PLe=ALe,kLe=Object.prototype,CLe=kLe.hasOwnProperty;function NLe(e){if(!ILe(e))return PLe(e);var t=[];for(var r in Object(e))CLe.call(e,r)&&r!="constructor"&&t.push(r);return t}var MLe=NLe,RLe=AL,LLe=JL;function DLe(e){return e!=null&&LLe(e.length)&&!RLe(e)}var _1=DLe,FLe=SLe,ULe=MLe,zLe=_1;function BLe(e){return zLe(e)?FLe(e):ULe(e)}var CT=BLe,VLe=iRe,qLe=hRe,GLe=CT;function WLe(e){return VLe(e,GLe,qLe)}var HLe=WLe,$7=HLe,JLe=1,KLe=Object.prototype,ZLe=KLe.hasOwnProperty;function YLe(e,t,r,n,i,s){var o=r&JLe,a=$7(e),l=a.length,c=$7(t),d=c.length;if(l!=d&&!o)return!1;for(var p=l;p--;){var y=a[p];if(!(o?y in t:ZLe.call(t,y)))return!1}var m=s.get(e),g=s.get(t);if(m&&g)return m==t&&g==e;var b=!0;s.set(e,t),s.set(t,e);for(var w=o;++p<l;){y=a[p];var S=e[y],_=t[y];if(n)var x=o?n(_,S,y,t,e,s):n(S,_,y,e,t,s);if(!(x===void 0?S===_||i(S,_,r,n,s):x)){b=!1;break}w||(w=y=="constructor")}if(b&&!w){var O=e.constructor,$=t.constructor;O!=$&&"constructor"in e&&"constructor"in t&&!(typeof O=="function"&&O instanceof O&&typeof $=="function"&&$ instanceof $)&&(b=!1)}return s.delete(e),s.delete(t),b}var QLe=YLe,XLe=Bp,eDe=Aa,tDe=XLe(eDe,"DataView"),rDe=tDe,nDe=Bp,iDe=Aa,sDe=nDe(iDe,"Promise"),oDe=sDe,aDe=Bp,lDe=Aa,uDe=aDe(lDe,"Set"),Vte=uDe,cDe=Bp,dDe=Aa,pDe=cDe(dDe,"WeakMap"),fDe=pDe,y3=rDe,m3=PL,g3=oDe,v3=Vte,b3=fDe,qte=Kl,_m=Zee,T7="[object Map]",hDe="[object Object]",O7="[object Promise]",E7="[object Set]",j7="[object WeakMap]",A7="[object DataView]",yDe=_m(y3),mDe=_m(m3),gDe=_m(g3),vDe=_m(v3),bDe=_m(b3),jd=qte;(y3&&jd(new y3(new ArrayBuffer(1)))!=A7||m3&&jd(new m3)!=T7||g3&&jd(g3.resolve())!=O7||v3&&jd(new v3)!=E7||b3&&jd(new b3)!=j7)&&(jd=function(e){var t=qte(e),r=t==hDe?e.constructor:void 0,n=r?_m(r):"";if(n)switch(n){case yDe:return A7;case mDe:return T7;case gDe:return O7;case vDe:return E7;case bDe:return j7}return t});var wDe=jd,rj=kte,xDe=Rte,SDe=XMe,_De=QLe,I7=wDe,P7=Ai,k7=Fte,$De=zte,TDe=1,C7="[object Arguments]",N7="[object Array]",Vw="[object Object]",ODe=Object.prototype,M7=ODe.hasOwnProperty;function EDe(e,t,r,n,i,s){var o=P7(e),a=P7(t),l=o?N7:I7(e),c=a?N7:I7(t);l=l==C7?Vw:l,c=c==C7?Vw:c;var d=l==Vw,p=c==Vw,y=l==c;if(y&&k7(e)){if(!k7(t))return!1;o=!0,d=!1}if(y&&!d)return s||(s=new rj),o||$De(e)?xDe(e,t,r,n,i,s):SDe(e,t,l,r,n,i,s);if(!(r&TDe)){var m=d&&M7.call(e,"__wrapped__"),g=p&&M7.call(t,"__wrapped__");if(m||g){var b=m?e.value():e,w=g?t.value():t;return s||(s=new rj),i(b,w,r,n,s)}}return y?(s||(s=new rj),_De(e,t,r,n,i,s)):!1}var jDe=EDe,ADe=jDe,R7=Zl;function Gte(e,t,r,n,i){return e===t?!0:e==null||t==null||!R7(e)&&!R7(t)?e!==e&&t!==t:ADe(e,t,r,n,Gte,i)}var KL=Gte,IDe=kte,PDe=KL,kDe=1,CDe=2;function NDe(e,t,r,n){var i=r.length,s=i,o=!n;if(e==null)return!s;for(e=Object(e);i--;){var a=r[i];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<s;){a=r[i];var l=a[0],c=e[l],d=a[1];if(o&&a[2]){if(c===void 0&&!(l in e))return!1}else{var p=new IDe;if(n)var y=n(c,d,l,e,t,p);if(!(y===void 0?PDe(d,c,kDe|CDe,n,p):y))return!1}}return!0}var MDe=NDe,RDe=Lc;function LDe(e){return e===e&&!RDe(e)}var Wte=LDe,DDe=Wte,FDe=CT;function UDe(e){for(var t=FDe(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,DDe(i)]}return t}var zDe=UDe;function BDe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Hte=BDe,VDe=MDe,qDe=zDe,GDe=Hte;function WDe(e){var t=qDe(e);return t.length==1&&t[0][2]?GDe(t[0][0],t[0][1]):function(r){return r===e||VDe(r,e,t)}}var HDe=WDe;function JDe(e,t){return e!=null&&t in Object(e)}var KDe=JDe,ZDe=tte,YDe=WL,QDe=Ai,XDe=HL,e4e=JL,t4e=vT;function r4e(e,t,r){t=ZDe(t,e);for(var n=-1,i=t.length,s=!1;++n<i;){var o=t4e(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=i?s:(i=e==null?0:e.length,!!i&&e4e(i)&&XDe(o,i)&&(QDe(e)||YDe(e)))}var n4e=r4e,i4e=KDe,s4e=n4e;function o4e(e,t){return e!=null&&s4e(e,t,i4e)}var a4e=o4e,l4e=KL,u4e=rte,c4e=a4e,d4e=jL,p4e=Wte,f4e=Hte,h4e=vT,y4e=1,m4e=2;function g4e(e,t){return d4e(e)&&p4e(t)?f4e(h4e(e),t):function(r){var n=u4e(r,e);return n===void 0&&n===t?c4e(r,e):l4e(t,n,y4e|m4e)}}var v4e=g4e;function b4e(e){return e}var $m=b4e;function w4e(e){return function(t){return t?.[e]}}var x4e=w4e,S4e=ML;function _4e(e){return function(t){return S4e(t,e)}}var $4e=_4e,T4e=x4e,O4e=$4e,E4e=jL,j4e=vT;function A4e(e){return E4e(e)?T4e(j4e(e)):O4e(e)}var I4e=A4e,P4e=HDe,k4e=v4e,C4e=$m,N4e=Ai,M4e=I4e;function R4e(e){return typeof e=="function"?e:e==null?C4e:typeof e=="object"?N4e(e)?k4e(e[0],e[1]):P4e(e):M4e(e)}var Ia=R4e;function L4e(e,t,r,n){for(var i=e.length,s=r+(n?1:-1);n?s--:++s<i;)if(t(e[s],s,e))return s;return-1}var Jte=L4e;function D4e(e){return e!==e}var F4e=D4e;function U4e(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var z4e=U4e,B4e=Jte,V4e=F4e,q4e=z4e;function G4e(e,t,r){return t===t?q4e(e,t,r):B4e(e,V4e,r)}var W4e=G4e,H4e=W4e;function J4e(e,t){var r=e==null?0:e.length;return!!r&&H4e(e,t,0)>-1}var K4e=J4e;function Z4e(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var Y4e=Z4e;function Q4e(){}var X4e=Q4e,nj=Vte,e5e=X4e,t5e=GL,r5e=1/0,n5e=nj&&1/t5e(new nj([,-0]))[1]==r5e?function(e){return new nj(e)}:e5e,i5e=n5e,s5e=Cte,o5e=K4e,a5e=Y4e,l5e=Mte,u5e=i5e,c5e=GL,d5e=200;function p5e(e,t,r){var n=-1,i=o5e,s=e.length,o=!0,a=[],l=a;if(r)o=!1,i=a5e;else if(s>=d5e){var c=t?null:u5e(e);if(c)return c5e(c);o=!1,i=l5e,l=new s5e}else l=t?[]:a;e:for(;++n<s;){var d=e[n],p=t?t(d):d;if(d=r||d!==0?d:0,o&&p===p){for(var y=l.length;y--;)if(l[y]===p)continue e;t&&l.push(p),a.push(d)}else i(l,p,r)||(l!==a&&l.push(p),a.push(d))}return a}var f5e=p5e,h5e=Ia,y5e=f5e;function m5e(e,t){return e&&e.length?y5e(e,h5e(t)):[]}var g5e=m5e;const L7=gt(g5e);function Kte(e,t,r){return t===!0?L7(e,r):Ne(t)?L7(e,t):e}function Sy(e){"@babel/helpers - typeof";return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sy(e)}var v5e=["ref"];function D7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D7(Object(r),!0).forEach(function(n){NT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yte(n.key),n)}}function w5e(e,t,r){return t&&F7(e.prototype,t),r&&F7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function x5e(e,t,r){return t=a2(t),S5e(e,Zte()?Reflect.construct(t,r||[],a2(e).constructor):t.apply(e,r))}function S5e(e,t){if(t&&(Sy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _5e(e)}function _5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zte=function(){return!!e})()}function a2(e){return a2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},a2(e)}function $5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w3(e,t)}function w3(e,t){return w3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},w3(e,t)}function NT(e,t,r){return t=Yte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yte(e){var t=T5e(e,"string");return Sy(t)=="symbol"?t:t+""}function T5e(e,t){if(Sy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O5e(e,t){if(e==null)return{};var r=E5e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function E5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function j5e(e){return e.value}function A5e(e,t){if(L.isValidElement(e))return L.cloneElement(e,t);if(typeof e=="function")return L.createElement(e,t);t.ref;var r=O5e(t,v5e);return L.createElement(qL,r)}var U7=1,ip=function(e){function t(){var r;b5e(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=x5e(this,t,[].concat(i)),NT(r,"lastBoundingBox",{width:-1,height:-1}),r}return $5e(t,e),w5e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>U7||Math.abs(i.height-this.lastBoundingBox.height)>U7)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ma({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,a=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,p,y;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();p={left:((c||0)-m.width)/2}}else p=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(a==="middle"){var g=this.getBBoxSnapshot();y={top:((d||0)-g.height)/2}}else y=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ma(Ma({},p),y)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,a=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,p=Ma(Ma({position:"absolute",width:o||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return L.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(m){n.wrapperNode=m}},A5e(s,Ma(Ma({},this.props),{},{payload:Kte(d,c,j5e)})))}}],[{key:"getWithHeight",value:function(n,i){var s=Ma(Ma({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&ue(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(C.PureComponent);NT(ip,"displayName","Legend");NT(ip,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var z7=w1,I5e=WL,P5e=Ai,B7=z7?z7.isConcatSpreadable:void 0;function k5e(e){return P5e(e)||I5e(e)||!!(B7&&e&&e[B7])}var C5e=k5e,N5e=Lte,M5e=C5e;function Qte(e,t,r,n,i){var s=-1,o=e.length;for(r||(r=M5e),i||(i=[]);++s<o;){var a=e[s];t>0&&r(a)?t>1?Qte(a,t-1,r,n,i):N5e(i,a):n||(i[i.length]=a)}return i}var Xte=Qte;function R5e(e){return function(t,r,n){for(var i=-1,s=Object(t),o=n(t),a=o.length;a--;){var l=o[e?a:++i];if(r(s[l],l,s)===!1)break}return t}}var L5e=R5e,D5e=L5e,F5e=D5e(),U5e=F5e,z5e=U5e,B5e=CT;function V5e(e,t){return e&&z5e(e,t,B5e)}var ere=V5e,q5e=_1;function G5e(e,t){return function(r,n){if(r==null)return r;if(!q5e(r))return e(r,n);for(var i=r.length,s=t?i:-1,o=Object(r);(t?s--:++s<i)&&n(o[s],s,o)!==!1;);return r}}var W5e=G5e,H5e=ere,J5e=W5e,K5e=J5e(H5e),ZL=K5e,Z5e=ZL,Y5e=_1;function Q5e(e,t){var r=-1,n=Y5e(e)?Array(e.length):[];return Z5e(e,function(i,s,o){n[++r]=t(i,s,o)}),n}var tre=Q5e;function X5e(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var eFe=X5e,V7=gm;function tFe(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,s=V7(e),o=t!==void 0,a=t===null,l=t===t,c=V7(t);if(!a&&!c&&!s&&e>t||s&&o&&l&&!a&&!c||n&&o&&l||!r&&l||!i)return 1;if(!n&&!s&&!c&&e<t||c&&r&&i&&!n&&!s||a&&r&&i||!o&&i||!l)return-1}return 0}var rFe=tFe,nFe=rFe;function iFe(e,t,r){for(var n=-1,i=e.criteria,s=t.criteria,o=i.length,a=r.length;++n<o;){var l=nFe(i[n],s[n]);if(l){if(n>=a)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var sFe=iFe,ij=NL,oFe=ML,aFe=Ia,lFe=tre,uFe=eFe,cFe=Ute,dFe=sFe,pFe=$m,fFe=Ai;function hFe(e,t,r){t.length?t=ij(t,function(s){return fFe(s)?function(o){return oFe(o,s.length===1?s[0]:s)}:s}):t=[pFe];var n=-1;t=ij(t,cFe(aFe));var i=lFe(e,function(s,o,a){var l=ij(t,function(c){return c(s)});return{criteria:l,index:++n,value:s}});return uFe(i,function(s,o){return dFe(s,o,r)})}var yFe=hFe;function mFe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var gFe=mFe,vFe=gFe,q7=Math.max;function bFe(e,t,r){return t=q7(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=q7(n.length-t,0),o=Array(s);++i<s;)o[i]=n[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=n[i];return a[t]=r(o),vFe(e,this,a)}}var wFe=bFe;function xFe(e){return function(){return e}}var SFe=xFe,_Fe=Bp,$Fe=function(){try{var e=_Fe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),rre=$Fe,TFe=SFe,G7=rre,OFe=$m,EFe=G7?function(e,t){return G7(e,"toString",{configurable:!0,enumerable:!1,value:TFe(t),writable:!0})}:OFe,jFe=EFe,AFe=800,IFe=16,PFe=Date.now;function kFe(e){var t=0,r=0;return function(){var n=PFe(),i=IFe-(n-r);if(r=n,i>0){if(++t>=AFe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var CFe=kFe,NFe=jFe,MFe=CFe,RFe=MFe(NFe),LFe=RFe,DFe=$m,FFe=wFe,UFe=LFe;function zFe(e,t){return UFe(FFe(e,t,DFe),e+"")}var BFe=zFe,VFe=IL,qFe=_1,GFe=HL,WFe=Lc;function HFe(e,t,r){if(!WFe(r))return!1;var n=typeof t;return(n=="number"?qFe(r)&&GFe(t,r.length):n=="string"&&t in r)?VFe(r[t],e):!1}var MT=HFe,JFe=Xte,KFe=yFe,ZFe=BFe,W7=MT,YFe=ZFe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&W7(e,t[0],t[1])?t=[]:r>2&&W7(t[0],t[1],t[2])&&(t=[t[0]]),KFe(e,JFe(t,1),[])}),QFe=YFe;const YL=gt(QFe);function Bv(e){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bv(e)}function x3(){return x3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x3.apply(this,arguments)}function XFe(e,t){return n6e(e)||r6e(e,t)||t6e(e,t)||e6e()}function e6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t6e(e,t){if(e){if(typeof e=="string")return H7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H7(e,t)}}function H7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function n6e(e){if(Array.isArray(e))return e}function J7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J7(Object(r),!0).forEach(function(n){i6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i6e(e,t,r){return t=s6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s6e(e){var t=o6e(e,"string");return Bv(t)=="symbol"?t:t+""}function o6e(e,t){if(Bv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a6e(e){return Array.isArray(e)&&Vr(e[0])&&Vr(e[1])?e.join(" ~ "):e}var l6e=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,s=i===void 0?{}:i,o=t.itemStyle,a=o===void 0?{}:o,l=t.labelStyle,c=l===void 0?{}:l,d=t.payload,p=t.formatter,y=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,b=t.label,w=t.labelFormatter,S=t.accessibilityLayer,_=S===void 0?!1:S,x=function(){if(d&&d.length){var F={padding:0,margin:0},G=(y?YL(d,y):d).map(function(B,W){if(B.type==="none")return null;var Z=sj({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},a),ee=B.formatter||p||a6e,V=B.value,Q=B.name,se=V,fe=Q;if(ee&&se!=null&&fe!=null){var le=ee(V,Q,B,W,d);if(Array.isArray(le)){var Oe=XFe(le,2);se=Oe[0],fe=Oe[1]}else se=le}return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:Z},Vr(fe)?L.createElement("span",{className:"recharts-tooltip-item-name"},fe):null,Vr(fe)?L.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,L.createElement("span",{className:"recharts-tooltip-item-value"},se),L.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:F},G)}return null},O=sj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),$=sj({margin:0},c),T=!Ge(b),j=T?b:"",I=Ve("recharts-default-tooltip",m),k=Ve("recharts-tooltip-label",g);T&&w&&d!==void 0&&d!==null&&(j=w(b,d));var M=_?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",x3({className:I,style:O},M),L.createElement("p",{className:k,style:$},L.isValidElement(j)?j:"".concat(j)),x())};function Vv(e){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vv(e)}function qw(e,t,r){return t=u6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u6e(e){var t=c6e(e,"string");return Vv(t)=="symbol"?t:t+""}function c6e(e,t){if(Vv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n0="recharts-tooltip-wrapper",d6e={visibility:"hidden"};function p6e(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ve(n0,qw(qw(qw(qw({},"".concat(n0,"-right"),ue(r)&&t&&ue(t.x)&&r>=t.x),"".concat(n0,"-left"),ue(r)&&t&&ue(t.x)&&r<t.x),"".concat(n0,"-bottom"),ue(n)&&t&&ue(t.y)&&n>=t.y),"".concat(n0,"-top"),ue(n)&&t&&ue(t.y)&&n<t.y))}function K7(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,s=e.position,o=e.reverseDirection,a=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(s&&ue(s[n]))return s[n];var d=r[n]-a-i,p=r[n]+i;if(t[n])return o[n]?d:p;if(o[n]){var y=d,m=l[n];return y<m?Math.max(p,l[n]):Math.max(d,l[n])}var g=p+a,b=l[n]+c;return g>b?Math.max(d,l[n]):Math.max(p,l[n])}function f6e(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function h6e(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipBox,a=e.useTranslate3d,l=e.viewBox,c,d,p;return o.height>0&&o.width>0&&r?(d=K7({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),p=K7({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=f6e({translateX:d,translateY:p,useTranslate3d:a})):c=d6e,{cssProperties:c,cssClasses:p6e({translateX:d,translateY:p,coordinate:r})}}function _y(e){"@babel/helpers - typeof";return _y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_y(e)}function Z7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Y7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z7(Object(r),!0).forEach(function(n){_3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ire(n.key),n)}}function m6e(e,t,r){return t&&Q7(e.prototype,t),r&&Q7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g6e(e,t,r){return t=l2(t),v6e(e,nre()?Reflect.construct(t,r||[],l2(e).constructor):t.apply(e,r))}function v6e(e,t){if(t&&(_y(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b6e(e)}function b6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nre(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nre=function(){return!!e})()}function l2(e){return l2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},l2(e)}function w6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S3(e,t)}function S3(e,t){return S3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},S3(e,t)}function _3(e,t,r){return t=ire(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ire(e){var t=x6e(e,"string");return _y(t)=="symbol"?t:t+""}function x6e(e,t){if(_y(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_y(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X7=1,S6e=function(e){function t(){var r;y6e(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=g6e(this,t,[].concat(i)),_3(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_3(r,"handleKeyDown",function(o){if(o.key==="Escape"){var a,l,c,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(c=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),r}return w6e(t,e),m6e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>X7||Math.abs(n.height-this.state.lastBoundingBox.height)>X7)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,p=i.hasPayload,y=i.isAnimationActive,m=i.offset,g=i.position,b=i.reverseDirection,w=i.useTranslate3d,S=i.viewBox,_=i.wrapperStyle,x=h6e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:S}),O=x.cssClasses,$=x.cssProperties,T=Y7(Y7({transition:y&&s?"transform ".concat(a,"ms ").concat(l):void 0},$),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&p?"visible":"hidden",position:"absolute",top:0,left:0},_);return L.createElement("div",{tabIndex:-1,className:O,style:T,ref:function(I){n.wrapperNode=I}},c)}}])}(C.PureComponent),_6e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Cl={isSsr:_6e(),get:function(t){return Cl[t]},set:function(t,r){if(typeof t=="string")Cl[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(i){Cl[i]=t[i]})}}};function $y(e){"@babel/helpers - typeof";return $y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$y(e)}function ez(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ez(Object(r),!0).forEach(function(n){QL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ez(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ore(n.key),n)}}function T6e(e,t,r){return t&&rz(e.prototype,t),r&&rz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function O6e(e,t,r){return t=u2(t),E6e(e,sre()?Reflect.construct(t,r||[],u2(e).constructor):t.apply(e,r))}function E6e(e,t){if(t&&($y(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j6e(e)}function j6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sre(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sre=function(){return!!e})()}function u2(e){return u2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},u2(e)}function A6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$3(e,t)}function $3(e,t){return $3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$3(e,t)}function QL(e,t,r){return t=ore(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ore(e){var t=I6e(e,"string");return $y(t)=="symbol"?t:t+""}function I6e(e,t){if($y(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($y(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P6e(e){return e.dataKey}function k6e(e,t){return L.isValidElement(e)?L.cloneElement(e,t):typeof e=="function"?L.createElement(e,t):L.createElement(l6e,t)}var gs=function(e){function t(){return $6e(this,t),O6e(this,t,arguments)}return A6e(t,e),T6e(t,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,p=i.filterNull,y=i.isAnimationActive,m=i.offset,g=i.payload,b=i.payloadUniqBy,w=i.position,S=i.reverseDirection,_=i.useTranslate3d,x=i.viewBox,O=i.wrapperStyle,$=g??[];p&&$.length&&($=Kte(g.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),b,P6e));var T=$.length>0;return L.createElement(S6e,{allowEscapeViewBox:o,animationDuration:a,animationEasing:l,isAnimationActive:y,active:s,coordinate:d,hasPayload:T,offset:m,position:w,reverseDirection:S,useTranslate3d:_,viewBox:x,wrapperStyle:O},k6e(c,tz(tz({},this.props),{},{payload:$})))}}])}(C.PureComponent);QL(gs,"displayName","Tooltip");QL(gs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Cl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var C6e=Aa,N6e=function(){return C6e.Date.now()},M6e=N6e,R6e=/\s/;function L6e(e){for(var t=e.length;t--&&R6e.test(e.charAt(t)););return t}var D6e=L6e,F6e=D6e,U6e=/^\s+/;function z6e(e){return e&&e.slice(0,F6e(e)+1).replace(U6e,"")}var B6e=z6e,V6e=B6e,nz=Lc,q6e=gm,iz=0/0,G6e=/^[-+]0x[0-9a-f]+$/i,W6e=/^0b[01]+$/i,H6e=/^0o[0-7]+$/i,J6e=parseInt;function K6e(e){if(typeof e=="number")return e;if(q6e(e))return iz;if(nz(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=nz(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=V6e(e);var r=W6e.test(e);return r||H6e.test(e)?J6e(e.slice(2),r?2:8):G6e.test(e)?iz:+e}var are=K6e,Z6e=Lc,oj=M6e,sz=are,Y6e="Expected a function",Q6e=Math.max,X6e=Math.min;function e8e(e,t,r){var n,i,s,o,a,l,c=0,d=!1,p=!1,y=!0;if(typeof e!="function")throw new TypeError(Y6e);t=sz(t)||0,Z6e(r)&&(d=!!r.leading,p="maxWait"in r,s=p?Q6e(sz(r.maxWait)||0,t):s,y="trailing"in r?!!r.trailing:y);function m(T){var j=n,I=i;return n=i=void 0,c=T,o=e.apply(I,j),o}function g(T){return c=T,a=setTimeout(S,t),d?m(T):o}function b(T){var j=T-l,I=T-c,k=t-j;return p?X6e(k,s-I):k}function w(T){var j=T-l,I=T-c;return l===void 0||j>=t||j<0||p&&I>=s}function S(){var T=oj();if(w(T))return _(T);a=setTimeout(S,b(T))}function _(T){return a=void 0,y&&n?m(T):(n=i=void 0,o)}function x(){a!==void 0&&clearTimeout(a),c=0,n=l=i=a=void 0}function O(){return a===void 0?o:_(oj())}function $(){var T=oj(),j=w(T);if(n=arguments,i=this,l=T,j){if(a===void 0)return g(l);if(p)return clearTimeout(a),a=setTimeout(S,t),m(l)}return a===void 0&&(a=setTimeout(S,t)),o}return $.cancel=x,$.flush=O,$}var t8e=e8e,r8e=t8e,n8e=Lc,i8e="Expected a function";function s8e(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(i8e);return n8e(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),r8e(e,t,{leading:n,maxWait:t,trailing:i})}var o8e=s8e;const lre=gt(o8e);function qv(e){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qv(e)}function oz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oz(Object(r),!0).forEach(function(n){a8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a8e(e,t,r){return t=l8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l8e(e){var t=u8e(e,"string");return qv(t)=="symbol"?t:t+""}function u8e(e,t){if(qv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c8e(e,t){return h8e(e)||f8e(e,t)||p8e(e,t)||d8e()}function d8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p8e(e,t){if(e){if(typeof e=="string")return az(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return az(e,t)}}function az(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function h8e(e){if(Array.isArray(e))return e}var aj=C.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,a=e.height,l=a===void 0?"100%":a,c=e.minWidth,d=c===void 0?0:c,p=e.minHeight,y=e.maxHeight,m=e.children,g=e.debounce,b=g===void 0?0:g,w=e.id,S=e.className,_=e.onResize,x=e.style,O=x===void 0?{}:x,$=C.useRef(null),T=C.useRef();T.current=_,C.useImperativeHandle(t,function(){return Object.defineProperty($.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),$.current},configurable:!0})});var j=C.useState({containerWidth:i.width,containerHeight:i.height}),I=c8e(j,2),k=I[0],M=I[1],N=C.useCallback(function(G,B){M(function(W){var Z=Math.round(G),ee=Math.round(B);return W.containerWidth===Z&&W.containerHeight===ee?W:{containerWidth:Z,containerHeight:ee}})},[]);C.useEffect(function(){var G=function(Q){var se,fe=Q[0].contentRect,le=fe.width,Oe=fe.height;N(le,Oe),(se=T.current)===null||se===void 0||se.call(T,le,Oe)};b>0&&(G=lre(G,b,{trailing:!0,leading:!1}));var B=new ResizeObserver(G),W=$.current.getBoundingClientRect(),Z=W.width,ee=W.height;return N(Z,ee),B.observe($.current),function(){B.disconnect()}},[N,b]);var F=C.useMemo(function(){var G=k.containerWidth,B=k.containerHeight;if(G<0||B<0)return null;No(Jd(o)||Jd(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),No(!r||r>0,"The aspect(%s) must be greater than zero.",r);var W=Jd(o)?G:o,Z=Jd(l)?B:l;r&&r>0&&(W?Z=W/r:Z&&(W=Z*r),y&&Z>y&&(Z=y)),No(W>0||Z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,Z,o,l,d,p,r);var ee=!Array.isArray(m)&&kl(m.type).endsWith("Chart");return L.Children.map(m,function(V){return L.isValidElement(V)?C.cloneElement(V,Gw({width:W,height:Z},ee?{style:Gw({height:"100%",width:"100%",maxHeight:Z,maxWidth:W},V.props.style)}:{})):V})},[r,m,l,y,p,d,k,o]);return L.createElement("div",{id:w?"".concat(w):void 0,className:Ve("recharts-responsive-container",S),style:Gw(Gw({},O),{},{width:o,height:l,minWidth:d,minHeight:p,maxHeight:y}),ref:$},F)}),Gv=function(t){return null};Gv.displayName="Cell";function Wv(e){"@babel/helpers - typeof";return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wv(e)}function lz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function T3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lz(Object(r),!0).forEach(function(n){y8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y8e(e,t,r){return t=m8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m8e(e){var t=g8e(e,"string");return Wv(t)=="symbol"?t:t+""}function g8e(e,t){if(Wv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pf={widthCache:{},cacheCount:0},v8e=2e3,b8e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},uz="recharts_measurement_span";function w8e(e){var t=T3({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Gg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Cl.isSsr)return{width:0,height:0};var n=w8e(r),i=JSON.stringify({text:t,copyStyle:n});if(pf.widthCache[i])return pf.widthCache[i];try{var s=document.getElementById(uz);s||(s=document.createElement("span"),s.setAttribute("id",uz),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=T3(T3({},b8e),n);Object.assign(s.style,o),s.textContent="".concat(t);var a=s.getBoundingClientRect(),l={width:a.width,height:a.height};return pf.widthCache[i]=l,++pf.cacheCount>v8e&&(pf.cacheCount=0,pf.widthCache={}),l}catch{return{width:0,height:0}}},x8e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Hv(e){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hv(e)}function c2(e,t){return T8e(e)||$8e(e,t)||_8e(e,t)||S8e()}function S8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _8e(e,t){if(e){if(typeof e=="string")return cz(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cz(e,t)}}function cz(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function T8e(e){if(Array.isArray(e))return e}function O8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j8e(n.key),n)}}function E8e(e,t,r){return t&&dz(e.prototype,t),r&&dz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function j8e(e){var t=A8e(e,"string");return Hv(t)=="symbol"?t:t+""}function A8e(e,t){if(Hv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,I8e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,P8e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ure={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},k8e=Object.keys(ure),xh="NaN";function C8e(e,t){return e*ure[t]}var Ww=function(){function e(t,r){O8e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!I8e.test(r)&&(this.num=NaN,this.unit=""),k8e.includes(r)&&(this.num=C8e(t,r),this.unit="px")}return E8e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=P8e.exec(r))!==null&&n!==void 0?n:[],s=c2(i,3),o=s[1],a=s[2];return new e(parseFloat(o),a??"")}}])}();function cre(e){if(e.includes(xh))return xh;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=pz.exec(t))!==null&&r!==void 0?r:[],i=c2(n,4),s=i[1],o=i[2],a=i[3],l=Ww.parse(s??""),c=Ww.parse(a??""),d=o==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return xh;t=t.replace(pz,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var p,y=(p=fz.exec(t))!==null&&p!==void 0?p:[],m=c2(y,4),g=m[1],b=m[2],w=m[3],S=Ww.parse(g??""),_=Ww.parse(w??""),x=b==="+"?S.add(_):S.subtract(_);if(x.isNaN())return xh;t=t.replace(fz,x.toString())}return t}var hz=/\(([^()]*)\)/;function N8e(e){for(var t=e;t.includes("(");){var r=hz.exec(t),n=c2(r,2),i=n[1];t=t.replace(hz,cre(i))}return t}function M8e(e){var t=e.replace(/\s+/g,"");return t=N8e(t),t=cre(t),t}function R8e(e){try{return M8e(e)}catch{return xh}}function lj(e){var t=R8e(e.slice(5,-1));return t===xh?"":t}var L8e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],D8e=["dx","dy","angle","className","breakAll"];function O3(){return O3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O3.apply(this,arguments)}function yz(e,t){if(e==null)return{};var r=F8e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function F8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mz(e,t){return V8e(e)||B8e(e,t)||z8e(e,t)||U8e()}function U8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z8e(e,t){if(e){if(typeof e=="string")return gz(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gz(e,t)}}function gz(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function V8e(e){if(Array.isArray(e))return e}var dre=/[ \f\n\r\t\v\u2028\u2029]+/,pre=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var s=[];Ge(r)||(n?s=r.toString().split(""):s=r.toString().split(dre));var o=s.map(function(l){return{word:l,width:Gg(l,i).width}}),a=n?0:Gg("",i).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},q8e=function(t,r,n,i,s){var o=t.maxLines,a=t.children,l=t.style,c=t.breakAll,d=ue(o),p=a,y=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(Z,ee){var V=ee.word,Q=ee.width,se=Z[Z.length-1];if(se&&(i==null||s||se.width+Q+n<Number(i)))se.words.push(V),se.width+=Q+n;else{var fe={words:[V],width:Q};Z.push(fe)}return Z},[])},m=y(r),g=function(W){return W.reduce(function(Z,ee){return Z.width>ee.width?Z:ee})};if(!d)return m;for(var b="",w=function(W){var Z=p.slice(0,W),ee=pre({breakAll:c,style:l,children:Z+b}).wordsWithComputedWidth,V=y(ee),Q=V.length>o||g(V).width>Number(i);return[Q,V]},S=0,_=p.length-1,x=0,O;S<=_&&x<=p.length-1;){var $=Math.floor((S+_)/2),T=$-1,j=w(T),I=mz(j,2),k=I[0],M=I[1],N=w($),F=mz(N,1),G=F[0];if(!k&&!G&&(S=$+1),k&&G&&(_=$-1),!k&&G){O=M;break}x++}return O||m},vz=function(t){var r=Ge(t)?[]:t.toString().split(dre);return[{words:r}]},G8e=function(t){var r=t.width,n=t.scaleToFit,i=t.children,s=t.style,o=t.breakAll,a=t.maxLines;if((r||n)&&!Cl.isSsr){var l,c,d=pre({breakAll:o,children:i,style:s});if(d){var p=d.wordsWithComputedWidth,y=d.spaceWidth;l=p,c=y}else return vz(i);return q8e({breakAll:o,children:i,maxLines:a,style:s},l,c,r,n)}return vz(i)},bz="#808080",Ap=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.lineHeight,a=o===void 0?"1em":o,l=t.capHeight,c=l===void 0?"0.71em":l,d=t.scaleToFit,p=d===void 0?!1:d,y=t.textAnchor,m=y===void 0?"start":y,g=t.verticalAnchor,b=g===void 0?"end":g,w=t.fill,S=w===void 0?bz:w,_=yz(t,L8e),x=C.useMemo(function(){return G8e({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:p,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,p,_.style,_.width]),O=_.dx,$=_.dy,T=_.angle,j=_.className,I=_.breakAll,k=yz(_,D8e);if(!Vr(n)||!Vr(s))return null;var M=n+(ue(O)?O:0),N=s+(ue($)?$:0),F;switch(b){case"start":F=lj("calc(".concat(c,")"));break;case"middle":F=lj("calc(".concat((x.length-1)/2," * -").concat(a," + (").concat(c," / 2))"));break;default:F=lj("calc(".concat(x.length-1," * -").concat(a,")"));break}var G=[];if(p){var B=x[0].width,W=_.width;G.push("scale(".concat((ue(W)?W/B:1)/B,")"))}return T&&G.push("rotate(".concat(T,", ").concat(M,", ").concat(N,")")),G.length&&(k.transform=G.join(" ")),L.createElement("text",O3({},Ie(k,!0),{x:M,y:N,className:Ve("recharts-text",j),textAnchor:m,fill:S.includes("url")?bz:S}),x.map(function(Z,ee){var V=Z.words.join(I?"":" ");return L.createElement("tspan",{x:M,dy:ee===0?F:a,key:"".concat(V,"-").concat(ee)},V)}))};function fc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function W8e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function XL(e){let t,r,n;e.length!==2?(t=fc,r=(a,l)=>fc(e(a),l),n=(a,l)=>e(a)-l):(t=e===fc||e===W8e?e:H8e,r=e,n=e);function i(a,l,c=0,d=a.length){if(c<d){if(t(l,l)!==0)return d;do{const p=c+d>>>1;r(a[p],l)<0?c=p+1:d=p}while(c<d)}return c}function s(a,l,c=0,d=a.length){if(c<d){if(t(l,l)!==0)return d;do{const p=c+d>>>1;r(a[p],l)<=0?c=p+1:d=p}while(c<d)}return c}function o(a,l,c=0,d=a.length){const p=i(a,l,c,d-1);return p>c&&n(a[p-1],l)>-n(a[p],l)?p-1:p}return{left:i,center:o,right:s}}function H8e(){return 0}function fre(e){return e===null?NaN:+e}function*J8e(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}const K8e=XL(fc),Z8e=K8e.right;XL(fre).center;const $1=Z8e;class wz extends Map{constructor(t,r=X8e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(xz(this,t))}has(t){return super.has(xz(this,t))}set(t,r){return super.set(Y8e(this,t),r)}delete(t){return super.delete(Q8e(this,t))}}function xz({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Y8e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Q8e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function X8e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function e9e(e=fc){if(e===fc)return hre;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function hre(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const t9e=Math.sqrt(50),r9e=Math.sqrt(10),n9e=Math.sqrt(2);function d2(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=t9e?10:s>=r9e?5:s>=n9e?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/o,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=r&&r<2?d2(e,t,r*2):[a,l,c]}function E3(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,o]=n?d2(t,e,r):d2(e,t,r);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(n)if(o<0)for(let c=0;c<a;++c)l[c]=(s-c)/-o;else for(let c=0;c<a;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(i+c)/-o;else for(let c=0;c<a;++c)l[c]=(i+c)*o;return l}function j3(e,t,r){return t=+t,e=+e,r=+r,d2(e,t,r)[2]}function A3(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?j3(t,e,r):j3(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Sz(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function _z(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function yre(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?hre:e9e(i);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,d=Math.log(l),p=.5*Math.exp(2*d/3),y=.5*Math.sqrt(d*p*(l-p)/l)*(c-l/2<0?-1:1),m=Math.max(r,Math.floor(t-c*p/l+y)),g=Math.min(n,Math.floor(t+(l-c)*p/l+y));yre(e,t,m,g,i)}const s=e[t];let o=r,a=n;for(i0(e,r,t),i(e[n],s)>0&&i0(e,r,n);o<a;){for(i0(e,o,a),++o,--a;i(e[o],s)<0;)++o;for(;i(e[a],s)>0;)--a}i(e[r],s)===0?i0(e,r,a):(++a,i0(e,a,n)),a<=t&&(r=a+1),t<=a&&(n=a-1)}return e}function i0(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function i9e(e,t,r){if(e=Float64Array.from(J8e(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return _z(e);if(t>=1)return Sz(e);var n,i=(n-1)*t,s=Math.floor(i),o=Sz(yre(e,s).subarray(0,s+1)),a=_z(e.subarray(s+1));return o+(a-o)*(i-s)}}function s9e(e,t,r=fre){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),o=+r(e[s],s,e),a=+r(e[s+1],s+1,e);return o+(a-o)*(i-s)}}function o9e(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function Fs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Yl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const I3=Symbol("implicit");function eD(){var e=new wz,t=[],r=[],n=I3;function i(s){let o=e.get(s);if(o===void 0){if(n!==I3)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new wz;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return eD(t,r).unknown(n)},Fs.apply(i,arguments),i}function Jv(){var e=eD().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,o,a=!1,l=0,c=0,d=.5;delete e.unknown;function p(){var y=t().length,m=i<n,g=m?i:n,b=m?n:i;s=(b-g)/Math.max(1,y-l+c*2),a&&(s=Math.floor(s)),g+=(b-g-s*(y-l))*d,o=s*(1-l),a&&(g=Math.round(g),o=Math.round(o));var w=o9e(y).map(function(S){return g+s*S});return r(m?w.reverse():w)}return e.domain=function(y){return arguments.length?(t(y),p()):t()},e.range=function(y){return arguments.length?([n,i]=y,n=+n,i=+i,p()):[n,i]},e.rangeRound=function(y){return[n,i]=y,n=+n,i=+i,a=!0,p()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(y){return arguments.length?(a=!!y,p()):a},e.padding=function(y){return arguments.length?(l=Math.min(1,c=+y),p()):l},e.paddingInner=function(y){return arguments.length?(l=Math.min(1,y),p()):l},e.paddingOuter=function(y){return arguments.length?(c=+y,p()):c},e.align=function(y){return arguments.length?(d=Math.max(0,Math.min(1,y)),p()):d},e.copy=function(){return Jv(t(),[n,i]).round(a).paddingInner(l).paddingOuter(c).align(d)},Fs.apply(p(),arguments)}function mre(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return mre(t())},e}function Wg(){return mre(Jv.apply(null,arguments).paddingInner(1))}function tD(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function gre(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function T1(){}var Kv=.7,p2=1/Kv,Jh="\\s*([+-]?\\d+)\\s*",Zv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",a9e=/^#([0-9a-f]{3,8})$/,l9e=new RegExp(`^rgb\\(${Jh},${Jh},${Jh}\\)$`),u9e=new RegExp(`^rgb\\(${xa},${xa},${xa}\\)$`),c9e=new RegExp(`^rgba\\(${Jh},${Jh},${Jh},${Zv}\\)$`),d9e=new RegExp(`^rgba\\(${xa},${xa},${xa},${Zv}\\)$`),p9e=new RegExp(`^hsl\\(${Zv},${xa},${xa}\\)$`),f9e=new RegExp(`^hsla\\(${Zv},${xa},${xa},${Zv}\\)$`),$z={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tD(T1,Yv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Tz,formatHex:Tz,formatHex8:h9e,formatHsl:y9e,formatRgb:Oz,toString:Oz});function Tz(){return this.rgb().formatHex()}function h9e(){return this.rgb().formatHex8()}function y9e(){return vre(this).formatHsl()}function Oz(){return this.rgb().formatRgb()}function Yv(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=a9e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Ez(t):r===3?new Si(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Hw(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Hw(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=l9e.exec(e))?new Si(t[1],t[2],t[3],1):(t=u9e.exec(e))?new Si(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=c9e.exec(e))?Hw(t[1],t[2],t[3],t[4]):(t=d9e.exec(e))?Hw(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=p9e.exec(e))?Iz(t[1],t[2]/100,t[3]/100,1):(t=f9e.exec(e))?Iz(t[1],t[2]/100,t[3]/100,t[4]):$z.hasOwnProperty(e)?Ez($z[e]):e==="transparent"?new Si(NaN,NaN,NaN,0):null}function Ez(e){return new Si(e>>16&255,e>>8&255,e&255,1)}function Hw(e,t,r,n){return n<=0&&(e=t=r=NaN),new Si(e,t,r,n)}function m9e(e){return e instanceof T1||(e=Yv(e)),e?(e=e.rgb(),new Si(e.r,e.g,e.b,e.opacity)):new Si}function P3(e,t,r,n){return arguments.length===1?m9e(e):new Si(e,t,r,n??1)}function Si(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}tD(Si,P3,gre(T1,{brighter(e){return e=e==null?p2:Math.pow(p2,e),new Si(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Kv:Math.pow(Kv,e),new Si(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Si(sp(this.r),sp(this.g),sp(this.b),f2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jz,formatHex:jz,formatHex8:g9e,formatRgb:Az,toString:Az}));function jz(){return`#${Kd(this.r)}${Kd(this.g)}${Kd(this.b)}`}function g9e(){return`#${Kd(this.r)}${Kd(this.g)}${Kd(this.b)}${Kd((isNaN(this.opacity)?1:this.opacity)*255)}`}function Az(){const e=f2(this.opacity);return`${e===1?"rgb(":"rgba("}${sp(this.r)}, ${sp(this.g)}, ${sp(this.b)}${e===1?")":`, ${e})`}`}function f2(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function sp(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Kd(e){return e=sp(e),(e<16?"0":"")+e.toString(16)}function Iz(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new xo(e,t,r,n)}function vre(e){if(e instanceof xo)return new xo(e.h,e.s,e.l,e.opacity);if(e instanceof T1||(e=Yv(e)),!e)return new xo;if(e instanceof xo)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,a=s-i,l=(s+i)/2;return a?(t===s?o=(r-n)/a+(r<n)*6:r===s?o=(n-t)/a+2:o=(t-r)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new xo(o,a,l,e.opacity)}function v9e(e,t,r,n){return arguments.length===1?vre(e):new xo(e,t,r,n??1)}function xo(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}tD(xo,v9e,gre(T1,{brighter(e){return e=e==null?p2:Math.pow(p2,e),new xo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Kv:Math.pow(Kv,e),new xo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Si(uj(e>=240?e-240:e+120,i,n),uj(e,i,n),uj(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new xo(Pz(this.h),Jw(this.s),Jw(this.l),f2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=f2(this.opacity);return`${e===1?"hsl(":"hsla("}${Pz(this.h)}, ${Jw(this.s)*100}%, ${Jw(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Pz(e){return e=(e||0)%360,e<0?e+360:e}function Jw(e){return Math.max(0,Math.min(1,e||0))}function uj(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const rD=e=>()=>e;function b9e(e,t){return function(r){return e+r*t}}function w9e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function x9e(e){return(e=+e)==1?bre:function(t,r){return r-t?w9e(t,r,e):rD(isNaN(t)?r:t)}}function bre(e,t){var r=t-e;return r?b9e(e,r):rD(isNaN(e)?t:e)}const kz=function e(t){var r=x9e(t);function n(i,s){var o=r((i=P3(i)).r,(s=P3(s)).r),a=r(i.g,s.g),l=r(i.b,s.b),c=bre(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=a(d),i.b=l(d),i.opacity=c(d),i+""}}return n.gamma=e,n}(1);function S9e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function _9e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $9e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=Tm(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(a){for(o=0;o<n;++o)s[o]=i[o](a);return s}}function T9e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function h2(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function O9e(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Tm(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var k3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cj=new RegExp(k3.source,"g");function E9e(e){return function(){return e}}function j9e(e){return function(t){return e(t)+""}}function A9e(e,t){var r=k3.lastIndex=cj.lastIndex=0,n,i,s,o=-1,a=[],l=[];for(e=e+"",t=t+"";(n=k3.exec(e))&&(i=cj.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),a[o]?a[o]+=s:a[++o]=s),(n=n[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:h2(n,i)})),r=cj.lastIndex;return r<t.length&&(s=t.slice(r),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?j9e(l[0].x):E9e(t):(t=l.length,function(c){for(var d=0,p;d<t;++d)a[(p=l[d]).i]=p.x(c);return a.join("")})}function Tm(e,t){var r=typeof t,n;return t==null||r==="boolean"?rD(t):(r==="number"?h2:r==="string"?(n=Yv(t))?(t=n,kz):A9e:t instanceof Yv?kz:t instanceof Date?T9e:_9e(t)?S9e:Array.isArray(t)?$9e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?O9e:h2)(e,t)}function nD(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function I9e(e,t){t===void 0&&(t=e,e=Tm);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(o){var a=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[a](o-a)}}function P9e(e){return function(){return e}}function y2(e){return+e}var Cz=[0,1];function ei(e){return e}function C3(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:P9e(isNaN(t)?NaN:.5)}function k9e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function C9e(e,t,r){var n=e[0],i=e[1],s=t[0],o=t[1];return i<n?(n=C3(i,n),s=r(o,s)):(n=C3(n,i),s=r(s,o)),function(a){return s(n(a))}}function N9e(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=C3(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(a){var l=$1(e,a,1,n)-1;return s[l](i[l](a))}}function O1(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function RT(){var e=Cz,t=Cz,r=Tm,n,i,s,o=ei,a,l,c;function d(){var y=Math.min(e.length,t.length);return o!==ei&&(o=k9e(e[0],e[y-1])),a=y>2?N9e:C9e,l=c=null,p}function p(y){return y==null||isNaN(y=+y)?s:(l||(l=a(e.map(n),t,r)))(n(o(y)))}return p.invert=function(y){return o(i((c||(c=a(t,e.map(n),h2)))(y)))},p.domain=function(y){return arguments.length?(e=Array.from(y,y2),d()):e.slice()},p.range=function(y){return arguments.length?(t=Array.from(y),d()):t.slice()},p.rangeRound=function(y){return t=Array.from(y),r=nD,d()},p.clamp=function(y){return arguments.length?(o=y?!0:ei,d()):o!==ei},p.interpolate=function(y){return arguments.length?(r=y,d()):r},p.unknown=function(y){return arguments.length?(s=y,p):s},function(y,m){return n=y,i=m,d()}}function iD(){return RT()(ei,ei)}function M9e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function m2(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ty(e){return e=m2(Math.abs(e)),e?e[1]:NaN}function R9e(e,t){return function(r,n){for(var i=r.length,s=[],o=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>n&&(a=Math.max(1,n-l)),s.push(r.substring(i-=a,i+a)),!((l+=a+1)>n));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function L9e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var D9e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qv(e){if(!(t=D9e.exec(e)))throw new Error("invalid format: "+e);var t;return new sD({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Qv.prototype=sD.prototype;function sD(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}sD.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function F9e(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var wre;function U9e(e,t){var r=m2(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(wre=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+m2(e,Math.max(0,t+s-1))[0]}function Nz(e,t){var r=m2(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Mz={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:M9e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Nz(e*100,t),r:Nz,s:U9e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Rz(e){return e}var Lz=Array.prototype.map,Dz=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function z9e(e){var t=e.grouping===void 0||e.thousands===void 0?Rz:R9e(Lz.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?Rz:L9e(Lz.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(p){p=Qv(p);var y=p.fill,m=p.align,g=p.sign,b=p.symbol,w=p.zero,S=p.width,_=p.comma,x=p.precision,O=p.trim,$=p.type;$==="n"?(_=!0,$="g"):Mz[$]||(x===void 0&&(x=12),O=!0,$="g"),(w||y==="0"&&m==="=")&&(w=!0,y="0",m="=");var T=b==="$"?r:b==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",j=b==="$"?n:/[%p]/.test($)?o:"",I=Mz[$],k=/[defgprs%]/.test($);x=x===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function M(N){var F=T,G=j,B,W,Z;if($==="c")G=I(N)+G,N="";else{N=+N;var ee=N<0||1/N<0;if(N=isNaN(N)?l:I(Math.abs(N),x),O&&(N=F9e(N)),ee&&+N==0&&g!=="+"&&(ee=!1),F=(ee?g==="("?g:a:g==="-"||g==="("?"":g)+F,G=($==="s"?Dz[8+wre/3]:"")+G+(ee&&g==="("?")":""),k){for(B=-1,W=N.length;++B<W;)if(Z=N.charCodeAt(B),48>Z||Z>57){G=(Z===46?i+N.slice(B+1):N.slice(B))+G,N=N.slice(0,B);break}}}_&&!w&&(N=t(N,1/0));var V=F.length+N.length+G.length,Q=V<S?new Array(S-V+1).join(y):"";switch(_&&w&&(N=t(Q+N,Q.length?S-G.length:1/0),Q=""),m){case"<":N=F+N+G+Q;break;case"=":N=F+Q+N+G;break;case"^":N=Q.slice(0,V=Q.length>>1)+F+N+G+Q.slice(V);break;default:N=Q+F+N+G;break}return s(N)}return M.toString=function(){return p+""},M}function d(p,y){var m=c((p=Qv(p),p.type="f",p)),g=Math.max(-8,Math.min(8,Math.floor(Ty(y)/3)))*3,b=Math.pow(10,-g),w=Dz[8+g/3];return function(S){return m(b*S)+w}}return{format:c,formatPrefix:d}}var Kw,oD,xre;B9e({thousands:",",grouping:[3],currency:["$",""]});function B9e(e){return Kw=z9e(e),oD=Kw.format,xre=Kw.formatPrefix,Kw}function V9e(e){return Math.max(0,-Ty(Math.abs(e)))}function q9e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ty(t)/3)))*3-Ty(Math.abs(e)))}function G9e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ty(t)-Ty(e))+1}function Sre(e,t,r,n){var i=A3(e,t,r),s;switch(n=Qv(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=q9e(i,o))&&(n.precision=s),xre(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=G9e(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=V9e(i))&&(n.precision=s-(n.type==="%")*2);break}}return oD(n)}function Dc(e){var t=e.domain;return e.ticks=function(r){var n=t();return E3(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return Sre(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,o=n[i],a=n[s],l,c,d=10;for(a<o&&(c=o,o=a,a=c,c=i,i=s,s=c);d-- >0;){if(c=j3(o,a,r),c===l)return n[i]=o,n[s]=a,t(n);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return e},e}function g2(){var e=iD();return e.copy=function(){return O1(e,g2())},Fs.apply(e,arguments),Dc(e)}function _re(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,y2),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return _re(e).unknown(t)},e=arguments.length?Array.from(e,y2):[0,1],Dc(r)}function $re(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),e[r]=t.floor(i),e[n]=t.ceil(s),e}function Fz(e){return Math.log(e)}function Uz(e){return Math.exp(e)}function W9e(e){return-Math.log(-e)}function H9e(e){return-Math.exp(-e)}function J9e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function K9e(e){return e===10?J9e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Z9e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function zz(e){return(t,r)=>-e(-t,r)}function aD(e){const t=e(Fz,Uz),r=t.domain;let n=10,i,s;function o(){return i=Z9e(n),s=K9e(n),r()[0]<0?(i=zz(i),s=zz(s),e(W9e,H9e)):e(Fz,Uz),t}return t.base=function(a){return arguments.length?(n=+a,o()):n},t.domain=function(a){return arguments.length?(r(a),o()):r()},t.ticks=a=>{const l=r();let c=l[0],d=l[l.length-1];const p=d<c;p&&([c,d]=[d,c]);let y=i(c),m=i(d),g,b;const w=a==null?10:+a;let S=[];if(!(n%1)&&m-y<w){if(y=Math.floor(y),m=Math.ceil(m),c>0){for(;y<=m;++y)for(g=1;g<n;++g)if(b=y<0?g/s(-y):g*s(y),!(b<c)){if(b>d)break;S.push(b)}}else for(;y<=m;++y)for(g=n-1;g>=1;--g)if(b=y>0?g/s(-y):g*s(y),!(b<c)){if(b>d)break;S.push(b)}S.length*2<w&&(S=E3(c,d,w))}else S=E3(y,m,Math.min(m-y,w)).map(s);return p?S.reverse():S},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Qv(l)).precision==null&&(l.trim=!0),l=oD(l)),a===1/0)return l;const c=Math.max(1,n*a/t.ticks().length);return d=>{let p=d/s(Math.round(i(d)));return p*n<n-.5&&(p*=n),p<=c?l(d):""}},t.nice=()=>r($re(r(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),t}function Tre(){const e=aD(RT()).domain([1,10]);return e.copy=()=>O1(e,Tre()).base(e.base()),Fs.apply(e,arguments),e}function Bz(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Vz(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function lD(e){var t=1,r=e(Bz(t),Vz(t));return r.constant=function(n){return arguments.length?e(Bz(t=+n),Vz(t)):t},Dc(r)}function Ore(){var e=lD(RT());return e.copy=function(){return O1(e,Ore()).constant(e.constant())},Fs.apply(e,arguments)}function qz(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Y9e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Q9e(e){return e<0?-e*e:e*e}function uD(e){var t=e(ei,ei),r=1;function n(){return r===1?e(ei,ei):r===.5?e(Y9e,Q9e):e(qz(r),qz(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Dc(t)}function cD(){var e=uD(RT());return e.copy=function(){return O1(e,cD()).exponent(e.exponent())},Fs.apply(e,arguments),e}function X9e(){return cD.apply(null,arguments).exponent(.5)}function Gz(e){return Math.sign(e)*e*e}function eUe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Ere(){var e=iD(),t=[0,1],r=!1,n;function i(s){var o=eUe(e(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return e.invert(Gz(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,y2)).map(Gz)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Ere(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Fs.apply(i,arguments),Dc(i)}function jre(){var e=[],t=[],r=[],n;function i(){var o=0,a=Math.max(1,t.length);for(r=new Array(a-1);++o<a;)r[o-1]=s9e(e,o/a);return s}function s(o){return o==null||isNaN(o=+o)?n:t[$1(r,o)]}return s.invertExtent=function(o){var a=t.indexOf(o);return a<0?[NaN,NaN]:[a>0?r[a-1]:e[0],a<r.length?r[a]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let a of o)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(fc),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return jre().domain(e).range(t).unknown(n)},Fs.apply(s,arguments)}function Are(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function o(l){return l!=null&&l<=l?i[$1(n,l,0,r)]:s}function a(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,a()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Are().domain([e,t]).range(i).unknown(s)},Fs.apply(Dc(o),arguments)}function Ire(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[$1(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Ire().domain(e).range(t).unknown(r)},Fs.apply(i,arguments)}const dj=new Date,pj=new Date;function qr(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let c;do l.push(c=new Date(+s)),t(s,a),e(s);while(c<s&&s<o);return l},i.filter=s=>qr(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),r&&(i.count=(s,o)=>(dj.setTime(+s),pj.setTime(+o),e(dj),e(pj),Math.floor(r(dj,pj))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const v2=qr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);v2.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?qr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):v2);v2.range;const El=1e3,Es=El*60,jl=Es*60,Bl=jl*24,dD=Bl*7,Wz=Bl*30,fj=Bl*365,Zd=qr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*El)},(e,t)=>(t-e)/El,e=>e.getUTCSeconds());Zd.range;const pD=qr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*El)},(e,t)=>{e.setTime(+e+t*Es)},(e,t)=>(t-e)/Es,e=>e.getMinutes());pD.range;const fD=qr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Es)},(e,t)=>(t-e)/Es,e=>e.getUTCMinutes());fD.range;const hD=qr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*El-e.getMinutes()*Es)},(e,t)=>{e.setTime(+e+t*jl)},(e,t)=>(t-e)/jl,e=>e.getHours());hD.range;const yD=qr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*jl)},(e,t)=>(t-e)/jl,e=>e.getUTCHours());yD.range;const E1=qr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Es)/Bl,e=>e.getDate()-1);E1.range;const LT=qr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bl,e=>e.getUTCDate()-1);LT.range;const Pre=qr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bl,e=>Math.floor(e/Bl));Pre.range;function Vp(e){return qr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Es)/dD)}const DT=Vp(0),b2=Vp(1),tUe=Vp(2),rUe=Vp(3),Oy=Vp(4),nUe=Vp(5),iUe=Vp(6);DT.range;b2.range;tUe.range;rUe.range;Oy.range;nUe.range;iUe.range;function qp(e){return qr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/dD)}const FT=qp(0),w2=qp(1),sUe=qp(2),oUe=qp(3),Ey=qp(4),aUe=qp(5),lUe=qp(6);FT.range;w2.range;sUe.range;oUe.range;Ey.range;aUe.range;lUe.range;const mD=qr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());mD.range;const gD=qr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());gD.range;const Vl=qr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Vl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Vl.range;const ql=qr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ql.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ql.range;function kre(e,t,r,n,i,s){const o=[[Zd,1,El],[Zd,5,5*El],[Zd,15,15*El],[Zd,30,30*El],[s,1,Es],[s,5,5*Es],[s,15,15*Es],[s,30,30*Es],[i,1,jl],[i,3,3*jl],[i,6,6*jl],[i,12,12*jl],[n,1,Bl],[n,2,2*Bl],[r,1,dD],[t,1,Wz],[t,3,3*Wz],[e,1,fj]];function a(c,d,p){const y=d<c;y&&([c,d]=[d,c]);const m=p&&typeof p.range=="function"?p:l(c,d,p),g=m?m.range(c,+d+1):[];return y?g.reverse():g}function l(c,d,p){const y=Math.abs(d-c)/p,m=XL(([,,w])=>w).right(o,y);if(m===o.length)return e.every(A3(c/fj,d/fj,p));if(m===0)return v2.every(Math.max(A3(c,d,p),1));const[g,b]=o[y/o[m-1][2]<o[m][2]/y?m-1:m];return g.every(b)}return[a,l]}const[uUe,cUe]=kre(ql,gD,FT,Pre,yD,fD),[dUe,pUe]=kre(Vl,mD,DT,E1,hD,pD);function hj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function s0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function fUe(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,o=e.shortDays,a=e.months,l=e.shortMonths,c=o0(i),d=a0(i),p=o0(s),y=a0(s),m=o0(o),g=a0(o),b=o0(a),w=a0(a),S=o0(l),_=a0(l),x={a:ee,A:V,b:Q,B:se,c:null,d:Qz,e:Qz,f:RUe,g:WUe,G:JUe,H:CUe,I:NUe,j:MUe,L:Cre,m:LUe,M:DUe,p:fe,q:le,Q:tB,s:rB,S:FUe,u:UUe,U:zUe,V:BUe,w:VUe,W:qUe,x:null,X:null,y:GUe,Y:HUe,Z:KUe,"%":eB},O={a:Oe,A:Ze,b:Tt,B:Gt,c:null,d:Xz,e:Xz,f:XUe,g:u7e,G:d7e,H:ZUe,I:YUe,j:QUe,L:Mre,m:e7e,M:t7e,p:si,q:yn,Q:tB,s:rB,S:r7e,u:n7e,U:i7e,V:s7e,w:o7e,W:a7e,x:null,X:null,y:l7e,Y:c7e,Z:p7e,"%":eB},$={a:M,A:N,b:F,B:G,c:B,d:Zz,e:Zz,f:AUe,g:Kz,G:Jz,H:Yz,I:Yz,j:TUe,L:jUe,m:$Ue,M:OUe,p:k,q:_Ue,Q:PUe,s:kUe,S:EUe,u:vUe,U:bUe,V:wUe,w:gUe,W:xUe,x:W,X:Z,y:Kz,Y:Jz,Z:SUe,"%":IUe};x.x=T(r,x),x.X=T(n,x),x.c=T(t,x),O.x=T(r,O),O.X=T(n,O),O.c=T(t,O);function T(me,De){return function(Ue){var ne=[],zt=-1,Ye=0,ar=me.length,lr,mn,zo;for(Ue instanceof Date||(Ue=new Date(+Ue));++zt<ar;)me.charCodeAt(zt)===37&&(ne.push(me.slice(Ye,zt)),(mn=Hz[lr=me.charAt(++zt)])!=null?lr=me.charAt(++zt):mn=lr==="e"?" ":"0",(zo=De[lr])&&(lr=zo(Ue,mn)),ne.push(lr),Ye=zt+1);return ne.push(me.slice(Ye,zt)),ne.join("")}}function j(me,De){return function(Ue){var ne=s0(1900,void 0,1),zt=I(ne,me,Ue+="",0),Ye,ar;if(zt!=Ue.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(De&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(Ye=yj(s0(ne.y,0,1)),ar=Ye.getUTCDay(),Ye=ar>4||ar===0?w2.ceil(Ye):w2(Ye),Ye=LT.offset(Ye,(ne.V-1)*7),ne.y=Ye.getUTCFullYear(),ne.m=Ye.getUTCMonth(),ne.d=Ye.getUTCDate()+(ne.w+6)%7):(Ye=hj(s0(ne.y,0,1)),ar=Ye.getDay(),Ye=ar>4||ar===0?b2.ceil(Ye):b2(Ye),Ye=E1.offset(Ye,(ne.V-1)*7),ne.y=Ye.getFullYear(),ne.m=Ye.getMonth(),ne.d=Ye.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),ar="Z"in ne?yj(s0(ne.y,0,1)).getUTCDay():hj(s0(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(ar+5)%7:ne.w+ne.U*7-(ar+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,yj(ne)):hj(ne)}}function I(me,De,Ue,ne){for(var zt=0,Ye=De.length,ar=Ue.length,lr,mn;zt<Ye;){if(ne>=ar)return-1;if(lr=De.charCodeAt(zt++),lr===37){if(lr=De.charAt(zt++),mn=$[lr in Hz?De.charAt(zt++):lr],!mn||(ne=mn(me,Ue,ne))<0)return-1}else if(lr!=Ue.charCodeAt(ne++))return-1}return ne}function k(me,De,Ue){var ne=c.exec(De.slice(Ue));return ne?(me.p=d.get(ne[0].toLowerCase()),Ue+ne[0].length):-1}function M(me,De,Ue){var ne=m.exec(De.slice(Ue));return ne?(me.w=g.get(ne[0].toLowerCase()),Ue+ne[0].length):-1}function N(me,De,Ue){var ne=p.exec(De.slice(Ue));return ne?(me.w=y.get(ne[0].toLowerCase()),Ue+ne[0].length):-1}function F(me,De,Ue){var ne=S.exec(De.slice(Ue));return ne?(me.m=_.get(ne[0].toLowerCase()),Ue+ne[0].length):-1}function G(me,De,Ue){var ne=b.exec(De.slice(Ue));return ne?(me.m=w.get(ne[0].toLowerCase()),Ue+ne[0].length):-1}function B(me,De,Ue){return I(me,t,De,Ue)}function W(me,De,Ue){return I(me,r,De,Ue)}function Z(me,De,Ue){return I(me,n,De,Ue)}function ee(me){return o[me.getDay()]}function V(me){return s[me.getDay()]}function Q(me){return l[me.getMonth()]}function se(me){return a[me.getMonth()]}function fe(me){return i[+(me.getHours()>=12)]}function le(me){return 1+~~(me.getMonth()/3)}function Oe(me){return o[me.getUTCDay()]}function Ze(me){return s[me.getUTCDay()]}function Tt(me){return l[me.getUTCMonth()]}function Gt(me){return a[me.getUTCMonth()]}function si(me){return i[+(me.getUTCHours()>=12)]}function yn(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var De=T(me+="",x);return De.toString=function(){return me},De},parse:function(me){var De=j(me+="",!1);return De.toString=function(){return me},De},utcFormat:function(me){var De=T(me+="",O);return De.toString=function(){return me},De},utcParse:function(me){var De=j(me+="",!0);return De.toString=function(){return me},De}}}var Hz={"-":"",_:" ",0:"0"},on=/^\s*\d+/,hUe=/^%/,yUe=/[\\^$*+?|[\]().{}]/g;function it(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function mUe(e){return e.replace(yUe,"\\$&")}function o0(e){return new RegExp("^(?:"+e.map(mUe).join("|")+")","i")}function a0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function gUe(e,t,r){var n=on.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function vUe(e,t,r){var n=on.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function bUe(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function wUe(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function xUe(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Jz(e,t,r){var n=on.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Kz(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function SUe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function _Ue(e,t,r){var n=on.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function $Ue(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Zz(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function TUe(e,t,r){var n=on.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Yz(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function OUe(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function EUe(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function jUe(e,t,r){var n=on.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function AUe(e,t,r){var n=on.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function IUe(e,t,r){var n=hUe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function PUe(e,t,r){var n=on.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function kUe(e,t,r){var n=on.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Qz(e,t){return it(e.getDate(),t,2)}function CUe(e,t){return it(e.getHours(),t,2)}function NUe(e,t){return it(e.getHours()%12||12,t,2)}function MUe(e,t){return it(1+E1.count(Vl(e),e),t,3)}function Cre(e,t){return it(e.getMilliseconds(),t,3)}function RUe(e,t){return Cre(e,t)+"000"}function LUe(e,t){return it(e.getMonth()+1,t,2)}function DUe(e,t){return it(e.getMinutes(),t,2)}function FUe(e,t){return it(e.getSeconds(),t,2)}function UUe(e){var t=e.getDay();return t===0?7:t}function zUe(e,t){return it(DT.count(Vl(e)-1,e),t,2)}function Nre(e){var t=e.getDay();return t>=4||t===0?Oy(e):Oy.ceil(e)}function BUe(e,t){return e=Nre(e),it(Oy.count(Vl(e),e)+(Vl(e).getDay()===4),t,2)}function VUe(e){return e.getDay()}function qUe(e,t){return it(b2.count(Vl(e)-1,e),t,2)}function GUe(e,t){return it(e.getFullYear()%100,t,2)}function WUe(e,t){return e=Nre(e),it(e.getFullYear()%100,t,2)}function HUe(e,t){return it(e.getFullYear()%1e4,t,4)}function JUe(e,t){var r=e.getDay();return e=r>=4||r===0?Oy(e):Oy.ceil(e),it(e.getFullYear()%1e4,t,4)}function KUe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+it(t/60|0,"0",2)+it(t%60,"0",2)}function Xz(e,t){return it(e.getUTCDate(),t,2)}function ZUe(e,t){return it(e.getUTCHours(),t,2)}function YUe(e,t){return it(e.getUTCHours()%12||12,t,2)}function QUe(e,t){return it(1+LT.count(ql(e),e),t,3)}function Mre(e,t){return it(e.getUTCMilliseconds(),t,3)}function XUe(e,t){return Mre(e,t)+"000"}function e7e(e,t){return it(e.getUTCMonth()+1,t,2)}function t7e(e,t){return it(e.getUTCMinutes(),t,2)}function r7e(e,t){return it(e.getUTCSeconds(),t,2)}function n7e(e){var t=e.getUTCDay();return t===0?7:t}function i7e(e,t){return it(FT.count(ql(e)-1,e),t,2)}function Rre(e){var t=e.getUTCDay();return t>=4||t===0?Ey(e):Ey.ceil(e)}function s7e(e,t){return e=Rre(e),it(Ey.count(ql(e),e)+(ql(e).getUTCDay()===4),t,2)}function o7e(e){return e.getUTCDay()}function a7e(e,t){return it(w2.count(ql(e)-1,e),t,2)}function l7e(e,t){return it(e.getUTCFullYear()%100,t,2)}function u7e(e,t){return e=Rre(e),it(e.getUTCFullYear()%100,t,2)}function c7e(e,t){return it(e.getUTCFullYear()%1e4,t,4)}function d7e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ey(e):Ey.ceil(e),it(e.getUTCFullYear()%1e4,t,4)}function p7e(){return"+0000"}function eB(){return"%"}function tB(e){return+e}function rB(e){return Math.floor(+e/1e3)}var ff,Lre,Dre;f7e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function f7e(e){return ff=fUe(e),Lre=ff.format,ff.parse,Dre=ff.utcFormat,ff.utcParse,ff}function h7e(e){return new Date(e)}function y7e(e){return e instanceof Date?+e:+new Date(+e)}function vD(e,t,r,n,i,s,o,a,l,c){var d=iD(),p=d.invert,y=d.domain,m=c(".%L"),g=c(":%S"),b=c("%I:%M"),w=c("%I %p"),S=c("%a %d"),_=c("%b %d"),x=c("%B"),O=c("%Y");function $(T){return(l(T)<T?m:a(T)<T?g:o(T)<T?b:s(T)<T?w:n(T)<T?i(T)<T?S:_:r(T)<T?x:O)(T)}return d.invert=function(T){return new Date(p(T))},d.domain=function(T){return arguments.length?y(Array.from(T,y7e)):y().map(h7e)},d.ticks=function(T){var j=y();return e(j[0],j[j.length-1],T??10)},d.tickFormat=function(T,j){return j==null?$:c(j)},d.nice=function(T){var j=y();return(!T||typeof T.range!="function")&&(T=t(j[0],j[j.length-1],T??10)),T?y($re(j,T)):d},d.copy=function(){return O1(d,vD(e,t,r,n,i,s,o,a,l,c))},d}function m7e(){return Fs.apply(vD(dUe,pUe,Vl,mD,DT,E1,hD,pD,Zd,Lre).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function g7e(){return Fs.apply(vD(uUe,cUe,ql,gD,FT,LT,yD,fD,Zd,Dre).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function UT(){var e=0,t=1,r,n,i,s,o=ei,a=!1,l;function c(p){return p==null||isNaN(p=+p)?l:o(i===0?.5:(p=(s(p)-r)*i,a?Math.max(0,Math.min(1,p)):p))}c.domain=function(p){return arguments.length?([e,t]=p,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(p){return arguments.length?(a=!!p,c):a},c.interpolator=function(p){return arguments.length?(o=p,c):o};function d(p){return function(y){var m,g;return arguments.length?([m,g]=y,o=p(m,g),c):[o(0),o(1)]}}return c.range=d(Tm),c.rangeRound=d(nD),c.unknown=function(p){return arguments.length?(l=p,c):l},function(p){return s=p,r=p(e),n=p(t),i=r===n?0:1/(n-r),c}}function Fc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Fre(){var e=Dc(UT()(ei));return e.copy=function(){return Fc(e,Fre())},Yl.apply(e,arguments)}function Ure(){var e=aD(UT()).domain([1,10]);return e.copy=function(){return Fc(e,Ure()).base(e.base())},Yl.apply(e,arguments)}function zre(){var e=lD(UT());return e.copy=function(){return Fc(e,zre()).constant(e.constant())},Yl.apply(e,arguments)}function bD(){var e=uD(UT());return e.copy=function(){return Fc(e,bD()).exponent(e.exponent())},Yl.apply(e,arguments)}function v7e(){return bD.apply(null,arguments).exponent(.5)}function Bre(){var e=[],t=ei;function r(n){if(n!=null&&!isNaN(n=+n))return t(($1(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(fc),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>i9e(e,s/n))},r.copy=function(){return Bre(t).domain(e)},Yl.apply(r,arguments)}function zT(){var e=0,t=.5,r=1,n=1,i,s,o,a,l,c=ei,d,p=!1,y;function m(b){return isNaN(b=+b)?y:(b=.5+((b=+d(b))-s)*(n*b<n*s?a:l),c(p?Math.max(0,Math.min(1,b)):b))}m.domain=function(b){return arguments.length?([e,t,r]=b,i=d(e=+e),s=d(t=+t),o=d(r=+r),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),n=s<i?-1:1,m):[e,t,r]},m.clamp=function(b){return arguments.length?(p=!!b,m):p},m.interpolator=function(b){return arguments.length?(c=b,m):c};function g(b){return function(w){var S,_,x;return arguments.length?([S,_,x]=w,c=I9e(b,[S,_,x]),m):[c(0),c(.5),c(1)]}}return m.range=g(Tm),m.rangeRound=g(nD),m.unknown=function(b){return arguments.length?(y=b,m):y},function(b){return d=b,i=b(e),s=b(t),o=b(r),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),n=s<i?-1:1,m}}function Vre(){var e=Dc(zT()(ei));return e.copy=function(){return Fc(e,Vre())},Yl.apply(e,arguments)}function qre(){var e=aD(zT()).domain([.1,1,10]);return e.copy=function(){return Fc(e,qre()).base(e.base())},Yl.apply(e,arguments)}function Gre(){var e=lD(zT());return e.copy=function(){return Fc(e,Gre()).constant(e.constant())},Yl.apply(e,arguments)}function wD(){var e=uD(zT());return e.copy=function(){return Fc(e,wD()).exponent(e.exponent())},Yl.apply(e,arguments)}function b7e(){return wD.apply(null,arguments).exponent(.5)}const nB=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Jv,scaleDiverging:Vre,scaleDivergingLog:qre,scaleDivergingPow:wD,scaleDivergingSqrt:b7e,scaleDivergingSymlog:Gre,scaleIdentity:_re,scaleImplicit:I3,scaleLinear:g2,scaleLog:Tre,scaleOrdinal:eD,scalePoint:Wg,scalePow:cD,scaleQuantile:jre,scaleQuantize:Are,scaleRadial:Ere,scaleSequential:Fre,scaleSequentialLog:Ure,scaleSequentialPow:bD,scaleSequentialQuantile:Bre,scaleSequentialSqrt:v7e,scaleSequentialSymlog:zre,scaleSqrt:X9e,scaleSymlog:Ore,scaleThreshold:Ire,scaleTime:m7e,scaleUtc:g7e,tickFormat:Sre},Symbol.toStringTag,{value:"Module"}));var w7e=gm;function x7e(e,t,r){for(var n=-1,i=e.length;++n<i;){var s=e[n],o=t(s);if(o!=null&&(a===void 0?o===o&&!w7e(o):r(o,a)))var a=o,l=s}return l}var BT=x7e;function S7e(e,t){return e>t}var Wre=S7e,_7e=BT,$7e=Wre,T7e=$m;function O7e(e){return e&&e.length?_7e(e,T7e,$7e):void 0}var E7e=O7e;const VT=gt(E7e);function j7e(e,t){return e<t}var Hre=j7e,A7e=BT,I7e=Hre,P7e=$m;function k7e(e){return e&&e.length?A7e(e,P7e,I7e):void 0}var C7e=k7e;const qT=gt(C7e);var N7e=NL,M7e=Ia,R7e=tre,L7e=Ai;function D7e(e,t){var r=L7e(e)?N7e:R7e;return r(e,M7e(t))}var F7e=D7e,U7e=Xte,z7e=F7e;function B7e(e,t){return U7e(z7e(e,t),1)}var V7e=B7e;const q7e=gt(V7e);var G7e=KL;function W7e(e,t){return G7e(e,t)}var H7e=W7e;const GT=gt(H7e);var Om=1e9,J7e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},SD,qt=!0,Rs="[DecimalError] ",op=Rs+"Invalid argument: ",xD=Rs+"Exponent out of range: ",Em=Math.floor,Ad=Math.pow,K7e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qi,Xr=1e7,Ft=7,Jre=9007199254740991,x2=Em(Jre/Ft),we={};we.absoluteValue=we.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};we.comparedTo=we.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};we.decimalPlaces=we.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ft;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};we.dividedBy=we.div=function(e){return Nl(this,new this.constructor(e))};we.dividedToIntegerBy=we.idiv=function(e){var t=this,r=t.constructor;return _t(Nl(t,new r(e),0,1),r.precision)};we.equals=we.eq=function(e){return!this.cmp(e)};we.exponent=function(){return jr(this)};we.greaterThan=we.gt=function(e){return this.cmp(e)>0};we.greaterThanOrEqualTo=we.gte=function(e){return this.cmp(e)>=0};we.isInteger=we.isint=function(){return this.e>this.d.length-2};we.isNegative=we.isneg=function(){return this.s<0};we.isPositive=we.ispos=function(){return this.s>0};we.isZero=function(){return this.s===0};we.lessThan=we.lt=function(e){return this.cmp(e)<0};we.lessThanOrEqualTo=we.lte=function(e){return this.cmp(e)<1};we.logarithm=we.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(qi))throw Error(Rs+"NaN");if(r.s<1)throw Error(Rs+(r.s?"NaN":"-Infinity"));return r.eq(qi)?new n(0):(qt=!1,t=Nl(Xv(r,s),Xv(e,s),s),qt=!0,_t(t,i))};we.minus=we.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Yre(t,e):Kre(t,(e.s=-e.s,e))};we.modulo=we.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Rs+"NaN");return r.s?(qt=!1,t=Nl(r,e,0,1).times(e),qt=!0,r.minus(t)):_t(new n(r),i)};we.naturalExponential=we.exp=function(){return Zre(this)};we.naturalLogarithm=we.ln=function(){return Xv(this)};we.negated=we.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};we.plus=we.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Kre(t,e):Yre(t,(e.s=-e.s,e))};we.precision=we.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(op+e);if(t=jr(i)+1,n=i.d.length-1,r=n*Ft+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};we.squareRoot=we.sqrt=function(){var e,t,r,n,i,s,o,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Rs+"NaN")}for(e=jr(a),qt=!1,i=Math.sqrt(+a),i==0||i==1/0?(t=ma(a.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Em((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(s=n,n=s.plus(Nl(a,s,o+2)).times(.5),ma(s.d).slice(0,o)===(t=ma(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(_t(s,r+1,0),s.times(s).eq(a)){n=s;break}}else if(t!="9999")break;o+=4}return qt=!0,_t(n,r)};we.times=we.mul=function(e){var t,r,n,i,s,o,a,l,c,d=this,p=d.constructor,y=d.d,m=(e=new p(e)).d;if(!d.s||!e.s)return new p(0);for(e.s*=d.s,r=d.e+e.e,l=y.length,c=m.length,l<c&&(s=y,y=m,m=s,o=l,l=c,c=o),s=[],o=l+c,n=o;n--;)s.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)a=s[i]+m[n]*y[i-n-1]+t,s[i--]=a%Xr|0,t=a/Xr|0;s[i]=(s[i]+t)%Xr|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,qt?_t(e,p.precision):e};we.toDecimalPlaces=we.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ea(e,0,Om),t===void 0?t=n.rounding:Ea(t,0,8),_t(r,e+jr(r)+1,t))};we.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ip(n,!0):(Ea(e,0,Om),t===void 0?t=i.rounding:Ea(t,0,8),n=_t(new i(n),e+1,t),r=Ip(n,!0,e+1)),r};we.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Ip(i):(Ea(e,0,Om),t===void 0?t=s.rounding:Ea(t,0,8),n=_t(new s(i),e+jr(i)+1,t),r=Ip(n.abs(),!1,e+jr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};we.toInteger=we.toint=function(){var e=this,t=e.constructor;return _t(new t(e),jr(e)+1,t.rounding)};we.toNumber=function(){return+this};we.toPower=we.pow=function(e){var t,r,n,i,s,o,a=this,l=a.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(qi);if(a=new l(a),!a.s){if(e.s<1)throw Error(Rs+"Infinity");return a}if(a.eq(qi))return a;if(n=l.precision,e.eq(qi))return _t(a,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=a.s,o){if((r=d<0?-d:d)<=Jre){for(i=new l(qi),t=Math.ceil(n/Ft+4),qt=!1;r%2&&(i=i.times(a),sB(i.d,t)),r=Em(r/2),r!==0;)a=a.times(a),sB(a.d,t);return qt=!0,e.s<0?new l(qi).div(i):_t(i,n)}}else if(s<0)throw Error(Rs+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,a.s=1,qt=!1,i=e.times(Xv(a,n+c)),qt=!0,i=Zre(i),i.s=s,i};we.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=jr(i),n=Ip(i,r<=s.toExpNeg||r>=s.toExpPos)):(Ea(e,1,Om),t===void 0?t=s.rounding:Ea(t,0,8),i=_t(new s(i),e,t),r=jr(i),n=Ip(i,e<=r||r<=s.toExpNeg,e)),n};we.toSignificantDigits=we.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ea(e,1,Om),t===void 0?t=n.rounding:Ea(t,0,8)),_t(new n(r),e,t)};we.toString=we.valueOf=we.val=we.toJSON=we[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=jr(e),r=e.constructor;return Ip(e,t<=r.toExpNeg||t>=r.toExpPos)};function Kre(e,t){var r,n,i,s,o,a,l,c,d=e.constructor,p=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),qt?_t(t,p):t;if(l=e.d,c=t.d,o=e.e,i=t.e,l=l.slice(),s=o-i,s){for(s<0?(n=l,s=-s,a=c.length):(n=c,i=o,a=l.length),o=Math.ceil(p/Ft),a=o>a?o+1:a+1,s>a&&(s=a,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(a=l.length,s=c.length,a-s<0&&(s=a,n=c,c=l,l=n),r=0;s;)r=(l[--s]=l[s]+c[s]+r)/Xr|0,l[s]%=Xr;for(r&&(l.unshift(r),++i),a=l.length;l[--a]==0;)l.pop();return t.d=l,t.e=i,qt?_t(t,p):t}function Ea(e,t,r){if(e!==~~e||e<t||e>r)throw Error(op+e)}function ma(e){var t,r,n,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)n=e[t]+"",r=Ft-n.length,r&&(s+=Cu(r)),s+=n;o=e[t],n=o+"",r=Ft-n.length,r&&(s+=Cu(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Nl=function(){function e(n,i){var s,o=0,a=n.length;for(n=n.slice();a--;)s=n[a]*i+o,n[a]=s%Xr|0,o=s/Xr|0;return o&&n.unshift(o),n}function t(n,i,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(n[a]!=i[a]){l=n[a]>i[a]?1:-1;break}return l}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*Xr+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var a,l,c,d,p,y,m,g,b,w,S,_,x,O,$,T,j,I,k=n.constructor,M=n.s==i.s?1:-1,N=n.d,F=i.d;if(!n.s)return new k(n);if(!i.s)throw Error(Rs+"Division by zero");for(l=n.e-i.e,j=F.length,$=N.length,m=new k(M),g=m.d=[],c=0;F[c]==(N[c]||0);)++c;if(F[c]>(N[c]||0)&&--l,s==null?_=s=k.precision:o?_=s+(jr(n)-jr(i))+1:_=s,_<0)return new k(0);if(_=_/Ft+2|0,c=0,j==1)for(d=0,F=F[0],_++;(c<$||d)&&_--;c++)x=d*Xr+(N[c]||0),g[c]=x/F|0,d=x%F|0;else{for(d=Xr/(F[0]+1)|0,d>1&&(F=e(F,d),N=e(N,d),j=F.length,$=N.length),O=j,b=N.slice(0,j),w=b.length;w<j;)b[w++]=0;I=F.slice(),I.unshift(0),T=F[0],F[1]>=Xr/2&&++T;do d=0,a=t(F,b,j,w),a<0?(S=b[0],j!=w&&(S=S*Xr+(b[1]||0)),d=S/T|0,d>1?(d>=Xr&&(d=Xr-1),p=e(F,d),y=p.length,w=b.length,a=t(p,b,y,w),a==1&&(d--,r(p,j<y?I:F,y))):(d==0&&(a=d=1),p=F.slice()),y=p.length,y<w&&p.unshift(0),r(b,p,w),a==-1&&(w=b.length,a=t(F,b,j,w),a<1&&(d++,r(b,j<w?I:F,w))),w=b.length):a===0&&(d++,b=[0]),g[c++]=d,a&&b[0]?b[w++]=N[O]||0:(b=[N[O]],w=1);while((O++<$||b[0]!==void 0)&&_--)}return g[0]||g.shift(),m.e=l,_t(m,o?s+jr(m)+1:s)}}();function Zre(e,t){var r,n,i,s,o,a,l=0,c=0,d=e.constructor,p=d.precision;if(jr(e)>16)throw Error(xD+jr(e));if(!e.s)return new d(qi);for(t==null?(qt=!1,a=p):a=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(n=Math.log(Ad(2,c))/Math.LN10*2+5|0,a+=n,r=i=s=new d(qi),d.precision=a;;){if(i=_t(i.times(e),a),r=r.times(++l),o=s.plus(Nl(i,r,a)),ma(o.d).slice(0,a)===ma(s.d).slice(0,a)){for(;c--;)s=_t(s.times(s),a);return d.precision=p,t==null?(qt=!0,_t(s,p)):s}s=o}}function jr(e){for(var t=e.e*Ft,r=e.d[0];r>=10;r/=10)t++;return t}function mj(e,t,r){if(t>e.LN10.sd())throw qt=!0,r&&(e.precision=r),Error(Rs+"LN10 precision limit exceeded");return _t(new e(e.LN10),t)}function Cu(e){for(var t="";e--;)t+="0";return t}function Xv(e,t){var r,n,i,s,o,a,l,c,d,p=1,y=10,m=e,g=m.d,b=m.constructor,w=b.precision;if(m.s<1)throw Error(Rs+(m.s?"NaN":"-Infinity"));if(m.eq(qi))return new b(0);if(t==null?(qt=!1,c=w):c=t,m.eq(10))return t==null&&(qt=!0),mj(b,c);if(c+=y,b.precision=c,r=ma(g),n=r.charAt(0),s=jr(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=ma(m.d),n=r.charAt(0),p++;s=jr(m),n>1?(m=new b("0."+r),s++):m=new b(n+"."+r.slice(1))}else return l=mj(b,c+2,w).times(s+""),m=Xv(new b(n+"."+r.slice(1)),c-y).plus(l),b.precision=w,t==null?(qt=!0,_t(m,w)):m;for(a=o=m=Nl(m.minus(qi),m.plus(qi),c),d=_t(m.times(m),c),i=3;;){if(o=_t(o.times(d),c),l=a.plus(Nl(o,new b(i),c)),ma(l.d).slice(0,c)===ma(a.d).slice(0,c))return a=a.times(2),s!==0&&(a=a.plus(mj(b,c+2,w).times(s+""))),a=Nl(a,new b(p),c),b.precision=w,t==null?(qt=!0,_t(a,w)):a;a=l,i+=2}}function iB(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Em(r/Ft),e.d=[],n=(r+1)%Ft,r<0&&(n+=Ft),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Ft;n<i;)e.d.push(+t.slice(n,n+=Ft));t=t.slice(n),n=Ft-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),qt&&(e.e>x2||e.e<-x2))throw Error(xD+r)}else e.s=0,e.e=0,e.d=[0];return e}function _t(e,t,r){var n,i,s,o,a,l,c,d,p=e.d;for(o=1,s=p[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=Ft,i=t,c=p[d=0];else{if(d=Math.ceil((n+1)/Ft),s=p.length,d>=s)return e;for(c=s=p[d],o=1;s>=10;s/=10)o++;n%=Ft,i=n-Ft+o}if(r!==void 0&&(s=Ad(10,o-i-1),a=c/s%10|0,l=t<0||p[d+1]!==void 0||c%s,l=r<4?(a||l)&&(r==0||r==(e.s<0?3:2)):a>5||a==5&&(r==4||l||r==6&&(n>0?i>0?c/Ad(10,o-i):0:p[d-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return l?(s=jr(e),p.length=1,t=t-s-1,p[0]=Ad(10,(Ft-t%Ft)%Ft),e.e=Em(-t/Ft)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=d,s=1,d--):(p.length=d+1,s=Ad(10,Ft-n),p[d]=i>0?(c/Ad(10,o-i)%Ad(10,i)|0)*s:0),l)for(;;)if(d==0){(p[0]+=s)==Xr&&(p[0]=1,++e.e);break}else{if(p[d]+=s,p[d]!=Xr)break;p[d--]=0,s=1}for(n=p.length;p[--n]===0;)p.pop();if(qt&&(e.e>x2||e.e<-x2))throw Error(xD+jr(e));return e}function Yre(e,t){var r,n,i,s,o,a,l,c,d,p,y=e.constructor,m=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),qt?_t(t,m):t;if(l=e.d,p=t.d,n=t.e,c=e.e,l=l.slice(),o=c-n,o){for(d=o<0,d?(r=l,o=-o,a=p.length):(r=p,n=c,a=l.length),i=Math.max(Math.ceil(m/Ft),a)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,a=p.length,d=i<a,d&&(a=i),i=0;i<a;i++)if(l[i]!=p[i]){d=l[i]<p[i];break}o=0}for(d&&(r=l,l=p,p=r,t.s=-t.s),a=l.length,i=p.length-a;i>0;--i)l[a++]=0;for(i=p.length;i>o;){if(l[--i]<p[i]){for(s=i;s&&l[--s]===0;)l[s]=Xr-1;--l[s],l[i]+=Xr}l[i]-=p[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,qt?_t(t,m):t):new y(0)}function Ip(e,t,r){var n,i=jr(e),s=ma(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Cu(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Cu(-i-1)+s,r&&(n=r-o)>0&&(s+=Cu(n))):i>=o?(s+=Cu(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+Cu(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=Cu(n))),e.s<0?"-"+s:s}function sB(e,t){if(e.length>t)return e.length=t,!0}function Qre(e){var t,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(op+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return iB(o,s.toString())}else if(typeof s!="string")throw Error(op+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,K7e.test(s))iB(o,s);else throw Error(op+s)}if(i.prototype=we,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Qre,i.config=i.set=Z7e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function Z7e(e){if(!e||typeof e!="object")throw Error(Rs+"Object expected");var t,r,n,i=["precision",1,Om,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Em(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(op+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(op+r+": "+n);return this}var SD=Qre(J7e);qi=new SD(1);const wt=SD;function Y7e(e){return tze(e)||eze(e)||X7e(e)||Q7e()}function Q7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X7e(e,t){if(e){if(typeof e=="string")return N3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N3(e,t)}}function eze(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function tze(e){if(Array.isArray(e))return N3(e)}function N3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rze=function(t){return t},Xre={"@@functional/placeholder":!0},ene=function(t){return t===Xre},oB=function(t){return function r(){return arguments.length===0||arguments.length===1&&ene(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},nze=function e(t,r){return t===1?r:oB(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(a){return a!==Xre}).length;return o>=t?r.apply(void 0,i):e(t-o,oB(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var d=i.map(function(p){return ene(p)?l.shift():p});return r.apply(void 0,Y7e(d).concat(l))}))})},WT=function(t){return nze(t.length,t)},M3=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},ize=WT(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),sze=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return rze;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(a,l){return l(a)},s.apply(void 0,arguments))}},R3=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},tne=function(t){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(a,l){return a===r[l]})||(r=s,n=t.apply(void 0,s)),n}};function oze(e){var t;return e===0?t=1:t=Math.floor(new wt(e).abs().log(10).toNumber())+1,t}function aze(e,t,r){for(var n=new wt(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var lze=WT(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),uze=WT(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),cze=WT(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const HT={rangeStep:aze,getDigitCount:oze,interpolateNumber:lze,uninterpolateNumber:uze,uninterpolateTruncation:cze};function L3(e){return fze(e)||pze(e)||rne(e)||dze()}function dze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pze(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function fze(e){if(Array.isArray(e))return D3(e)}function eb(e,t){return mze(e)||yze(e,t)||rne(e,t)||hze()}function hze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rne(e,t){if(e){if(typeof e=="string")return D3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D3(e,t)}}function D3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yze(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=e[Symbol.iterator](),a;!(n=(a=o.next()).done)&&(r.push(a.value),!(t&&r.length===t));n=!0);}catch(l){i=!0,s=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function mze(e){if(Array.isArray(e))return e}function nne(e){var t=eb(e,2),r=t[0],n=t[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function ine(e,t,r){if(e.lte(0))return new wt(0);var n=HT.getDigitCount(e.toNumber()),i=new wt(10).pow(n),s=e.div(i),o=n!==1?.05:.1,a=new wt(Math.ceil(s.div(o).toNumber())).add(r).mul(o),l=a.mul(i);return t?l:new wt(Math.ceil(l))}function gze(e,t,r){var n=1,i=new wt(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new wt(10).pow(HT.getDigitCount(e)-1),i=new wt(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new wt(Math.floor(e)))}else e===0?i=new wt(Math.floor((t-1)/2)):r||(i=new wt(Math.floor(e)));var o=Math.floor((t-1)/2),a=sze(ize(function(l){return i.add(new wt(l-o).mul(n)).toNumber()}),M3);return a(0,t)}function sne(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new wt(0),tickMin:new wt(0),tickMax:new wt(0)};var s=ine(new wt(t).sub(e).div(r-1),n,i),o;e<=0&&t>=0?o=new wt(0):(o=new wt(e).add(t).div(2),o=o.sub(new wt(o).mod(s)));var a=Math.ceil(o.sub(e).div(s).toNumber()),l=Math.ceil(new wt(t).sub(o).div(s).toNumber()),c=a+l+1;return c>r?sne(e,t,r,n,i+1):(c<r&&(l=t>0?l+(r-c):l,a=t>0?a:a+(r-c)),{step:s,tickMin:o.sub(new wt(a).mul(s)),tickMax:o.add(new wt(l).mul(s))})}function vze(e){var t=eb(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),a=nne([r,n]),l=eb(a,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var p=d===1/0?[c].concat(L3(M3(0,i-1).map(function(){return 1/0}))):[].concat(L3(M3(0,i-1).map(function(){return-1/0})),[d]);return r>n?R3(p):p}if(c===d)return gze(c,i,s);var y=sne(c,d,o,s),m=y.step,g=y.tickMin,b=y.tickMax,w=HT.rangeStep(g,b.add(new wt(.1).mul(m)),m);return r>n?R3(w):w}function bze(e,t){var r=eb(e,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=nne([n,i]),a=eb(o,2),l=a[0],c=a[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var d=Math.max(t,2),p=ine(new wt(c).sub(l).div(d-1),s,0),y=[].concat(L3(HT.rangeStep(new wt(l),new wt(c).sub(new wt(.99).mul(p)),p)),[c]);return n>i?R3(y):y}var wze=tne(vze),xze=tne(bze),Sze=!0,gj="Invariant failed";function Pp(e,t){if(!e){if(Sze)throw new Error(gj);var r=typeof t=="function"?t():t,n=r?"".concat(gj,": ").concat(r):gj;throw new Error(n)}}var _ze=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function jy(e){"@babel/helpers - typeof";return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jy(e)}function S2(){return S2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S2.apply(this,arguments)}function $ze(e,t){return jze(e)||Eze(e,t)||Oze(e,t)||Tze()}function Tze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oze(e,t){if(e){if(typeof e=="string")return aB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aB(e,t)}}function aB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Eze(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function jze(e){if(Array.isArray(e))return e}function Aze(e,t){if(e==null)return{};var r=Ize(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ize(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Pze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lne(n.key),n)}}function kze(e,t,r){return t&&lB(e.prototype,t),r&&lB(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cze(e,t,r){return t=_2(t),Nze(e,one()?Reflect.construct(t,r||[],_2(e).constructor):t.apply(e,r))}function Nze(e,t){if(t&&(jy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mze(e)}function Mze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function one(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(one=function(){return!!e})()}function _2(e){return _2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_2(e)}function Rze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F3(e,t)}function F3(e,t){return F3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},F3(e,t)}function ane(e,t,r){return t=lne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lne(e){var t=Lze(e,"string");return jy(t)=="symbol"?t:t+""}function Lze(e,t){if(jy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JT=function(e){function t(){return Pze(this,t),Cze(this,t,arguments)}return Rze(t,e),kze(t,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,a=n.dataKey,l=n.data,c=n.dataPointFormatter,d=n.xAxis,p=n.yAxis,y=Aze(n,_ze),m=Ie(y,!1);this.props.direction==="x"&&d.type!=="number"&&Pp(!1);var g=l.map(function(b){var w=c(b,a),S=w.x,_=w.y,x=w.value,O=w.errorVal;if(!O)return null;var $=[],T,j;if(Array.isArray(O)){var I=$ze(O,2);T=I[0],j=I[1]}else T=j=O;if(s==="vertical"){var k=d.scale,M=_+i,N=M+o,F=M-o,G=k(x-T),B=k(x+j);$.push({x1:B,y1:N,x2:B,y2:F}),$.push({x1:G,y1:M,x2:B,y2:M}),$.push({x1:G,y1:N,x2:G,y2:F})}else if(s==="horizontal"){var W=p.scale,Z=S+i,ee=Z-o,V=Z+o,Q=W(x-T),se=W(x+j);$.push({x1:ee,y1:se,x2:V,y2:se}),$.push({x1:Z,y1:Q,x2:Z,y2:se}),$.push({x1:ee,y1:Q,x2:V,y2:Q})}return L.createElement(yt,S2({className:"recharts-errorBar",key:"bar-".concat($.map(function(fe){return"".concat(fe.x1,"-").concat(fe.x2,"-").concat(fe.y1,"-").concat(fe.y2)}))},m),$.map(function(fe){return L.createElement("line",S2({},fe,{key:"line-".concat(fe.x1,"-").concat(fe.x2,"-").concat(fe.y1,"-").concat(fe.y2)}))}))});return L.createElement(yt,{className:"recharts-errorBars"},g)}}])}(L.Component);ane(JT,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});ane(JT,"displayName","ErrorBar");function tb(e){"@babel/helpers - typeof";return tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tb(e)}function uB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uB(Object(r),!0).forEach(function(n){Dze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dze(e,t,r){return t=Fze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fze(e){var t=Uze(e,"string");return tb(t)=="symbol"?t:t+""}function Uze(e,t){if(tb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var une=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,s=t.legendContent,o=zi(r,ip);if(!o)return null;var a=ip.defaultProps,l=a!==void 0?Jc(Jc({},a),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:s==="children"?c=(n||[]).reduce(function(d,p){var y=p.item,m=p.props,g=m.sectors||m.data||[];return d.concat(g.map(function(b){return{type:o.props.iconType||y.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):c=(n||[]).map(function(d){var p=d.item,y=p.type.defaultProps,m=y!==void 0?Jc(Jc({},y),p.props):{},g=m.dataKey,b=m.name,w=m.legendType,S=m.hide;return{inactive:S,dataKey:g,type:l.iconType||w||"square",color:_D(p),value:b||g,payload:m}}),Jc(Jc(Jc({},l),ip.getWithHeight(o,i)),{},{payload:c,item:o})};function rb(e){"@babel/helpers - typeof";return rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rb(e)}function cB(e){return qze(e)||Vze(e)||Bze(e)||zze()}function zze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bze(e,t){if(e){if(typeof e=="string")return U3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U3(e,t)}}function Vze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qze(e){if(Array.isArray(e))return U3(e)}function U3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dB(Object(r),!0).forEach(function(n){Kh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kh(e,t,r){return t=Gze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gze(e){var t=Wze(e,"string");return rb(t)=="symbol"?t:t+""}function Wze(e,t){if(rb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fn(e,t,r){return Ge(e)||Ge(t)?r:Vr(t)?Qi(e,t,r):Ne(t)?t(e):r}function Hg(e,t,r,n){var i=q7e(e,function(a){return Fn(a,t)});if(r==="number"){var s=i.filter(function(a){return ue(a)||parseFloat(a)});return s.length?[qT(s),VT(s)]:[1/0,-1/0]}var o=n?i.filter(function(a){return!Ge(a)}):i;return o.map(function(a){return Vr(a)||a instanceof Date?a:""})}var Hze=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,a=(r=n?.length)!==null&&r!==void 0?r:0;if(a<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,c=0;c<a;c++){var d=c>0?i[c-1].coordinate:i[a-1].coordinate,p=i[c].coordinate,y=c>=a-1?i[0].coordinate:i[c+1].coordinate,m=void 0;if(Qn(p-d)!==Qn(y-p)){var g=[];if(Qn(y-p)===Qn(l[1]-l[0])){m=y;var b=p+l[1]-l[0];g[0]=Math.min(b,(b+d)/2),g[1]=Math.max(b,(b+d)/2)}else{m=d;var w=y+l[1]-l[0];g[0]=Math.min(p,(w+p)/2),g[1]=Math.max(p,(w+p)/2)}var S=[Math.min(p,(m+p)/2),Math.max(p,(m+p)/2)];if(t>S[0]&&t<=S[1]||t>=g[0]&&t<=g[1]){o=i[c].index;break}}else{var _=Math.min(d,y),x=Math.max(d,y);if(t>(_+p)/2&&t<=(x+p)/2){o=i[c].index;break}}}else for(var O=0;O<a;O++)if(O===0&&t<=(n[O].coordinate+n[O+1].coordinate)/2||O>0&&O<a-1&&t>(n[O].coordinate+n[O-1].coordinate)/2&&t<=(n[O].coordinate+n[O+1].coordinate)/2||O===a-1&&t>(n[O].coordinate+n[O-1].coordinate)/2){o=n[O].index;break}return o},_D=function(t){var r,n=t,i=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?ir(ir({},t.type.defaultProps),t.props):t.props,o=s.stroke,a=s.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:a;break;default:l=a;break}return l},Jze=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},a=Object.keys(s),l=0,c=a.length;l<c;l++)for(var d=s[a[l]].stackGroups,p=Object.keys(d),y=0,m=p.length;y<m;y++){var g=d[p[y]],b=g.items,w=g.cateAxisId,S=b.filter(function(j){return kl(j.type).indexOf("Bar")>=0});if(S&&S.length){var _=S[0].type.defaultProps,x=_!==void 0?ir(ir({},_),S[0].props):S[0].props,O=x.barSize,$=x[w];o[$]||(o[$]=[]);var T=Ge(O)?r:O;o[$].push({item:S[0],stackList:S.slice(1),barSize:Ge(T)?void 0:Xn(T,n,0)})}}return o},Kze=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,a=t.maxBarSize,l=o.length;if(l<1)return null;var c=Xn(r,i,0,!0),d,p=[];if(o[0].barSize===+o[0].barSize){var y=!1,m=i/l,g=o.reduce(function(O,$){return O+$.barSize||0},0);g+=(l-1)*c,g>=i&&(g-=(l-1)*c,c=0),g>=i&&m>0&&(y=!0,m*=.9,g=l*m);var b=(i-g)/2>>0,w={offset:b-c,size:0};d=o.reduce(function(O,$){var T={item:$.item,position:{offset:w.offset+w.size+c,size:y?m:$.barSize}},j=[].concat(cB(O),[T]);return w=j[j.length-1].position,$.stackList&&$.stackList.length&&$.stackList.forEach(function(I){j.push({item:I,position:w})}),j},p)}else{var S=Xn(n,i,0,!0);i-2*S-(l-1)*c<=0&&(c=0);var _=(i-2*S-(l-1)*c)/l;_>1&&(_>>=0);var x=a===+a?Math.min(_,a):_;d=o.reduce(function(O,$,T){var j=[].concat(cB(O),[{item:$.item,position:{offset:S+(_+c)*T+(_-x)/2,size:x}}]);return $.stackList&&$.stackList.length&&$.stackList.forEach(function(I){j.push({item:I,position:j[j.length-1].position})}),j},p)}return d},Zze=function(t,r,n,i){var s=n.children,o=n.width,a=n.margin,l=o-(a.left||0)-(a.right||0),c=une({children:s,legendWidth:l});if(c){var d=i||{},p=d.width,y=d.height,m=c.align,g=c.verticalAlign,b=c.layout;if((b==="vertical"||b==="horizontal"&&g==="middle")&&m!=="center"&&ue(t[m]))return ir(ir({},t),{},Kh({},m,t[m]+(p||0)));if((b==="horizontal"||b==="vertical"&&m==="center")&&g!=="middle"&&ue(t[g]))return ir(ir({},t),{},Kh({},g,t[g]+(y||0)))}return t},Yze=function(t,r,n){return Ge(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},cne=function(t,r,n,i,s){var o=r.props.children,a=Ps(o,JT).filter(function(c){return Yze(i,s,c.props.direction)});if(a&&a.length){var l=a.map(function(c){return c.props.dataKey});return t.reduce(function(c,d){var p=Fn(d,n);if(Ge(p))return c;var y=Array.isArray(p)?[qT(p),VT(p)]:[p,p],m=l.reduce(function(g,b){var w=Fn(d,b,0),S=y[0]-Math.abs(Array.isArray(w)?w[0]:w),_=y[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(S,g[0]),Math.max(_,g[1])]},[1/0,-1/0]);return[Math.min(m[0],c[0]),Math.max(m[1],c[1])]},[1/0,-1/0])}return null},Qze=function(t,r,n,i,s){var o=r.map(function(a){return cne(t,a,n,s,i)}).filter(function(a){return!Ge(a)});return o&&o.length?o.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},dne=function(t,r,n,i,s){var o=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&cne(t,l,c,i)||Hg(t,c,n,s)});if(n==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var a={};return o.reduce(function(l,c){for(var d=0,p=c.length;d<p;d++)a[c[d]]||(a[c[d]]=!0,l.push(c[d]));return l},[])},pne=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},fne=function(t,r,n,i){if(i)return t.map(function(l){return l.coordinate});var s,o,a=t.map(function(l){return l.coordinate===r&&(s=!0),l.coordinate===n&&(o=!0),l.coordinate});return s||a.push(r),o||a.push(n),a},Al=function(t,r,n){if(!t)return null;var i=t.scale,s=t.duplicateDomain,o=t.type,a=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&a?.length>=2?Qn(a[0]-a[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(p){var y=s?s.indexOf(p):p;return{coordinate:i(y)+c,value:p,offset:c}});return d.filter(function(p){return!x1(p.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(p,y){return{coordinate:i(p)+c,value:p,index:y,offset:c}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(p){return{coordinate:i(p)+c,value:p,offset:c}}):i.domain().map(function(p,y){return{coordinate:i(p)+c,value:s?s[p]:p,index:y,offset:c}})},vj=new WeakMap,Zw=function(t,r){if(typeof r!="function")return t;vj.has(t)||vj.set(t,new WeakMap);var n=vj.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},hne=function(t,r,n){var i=t.scale,s=t.type,o=t.layout,a=t.axisType;if(i==="auto")return o==="radial"&&a==="radiusAxis"?{scale:Jv(),realScaleType:"band"}:o==="radial"&&a==="angleAxis"?{scale:g2(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Wg(),realScaleType:"point"}:s==="category"?{scale:Jv(),realScaleType:"band"}:{scale:g2(),realScaleType:"linear"};if(Ep(i)){var l="scale".concat(AT(i));return{scale:(nB[l]||Wg)(),realScaleType:nB[l]?l:"point"}}return Ne(i)?{scale:i}:{scale:Wg(),realScaleType:"point"}},pB=1e-4,yne=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),s=Math.min(i[0],i[1])-pB,o=Math.max(i[0],i[1])+pB,a=t(r[0]),l=t(r[n-1]);(a<s||a>o||l<s||l>o)&&t.domain([r[0],r[n-1]])}},Xze=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},eBe=function(t,r){if(!r||r.length!==2||!ue(r[0])||!ue(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!ue(t[0])||t[0]<n)&&(s[0]=n),(!ue(t[1])||t[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},tBe=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0,a=0;a<r;++a){var l=x1(t[a][n][1])?t[a][n][0]:t[a][n][1];l>=0?(t[a][n][0]=s,t[a][n][1]=s+l,s=t[a][n][1]):(t[a][n][0]=o,t[a][n][1]=o+l,o=t[a][n][1])}},rBe=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var a=x1(t[o][n][1])?t[o][n][0]:t[o][n][1];a>=0?(t[o][n][0]=s,t[o][n][1]=s+a,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},nBe={sign:tBe,expand:TNe,none:wy,silhouette:ONe,wiggle:ENe,positive:rBe},iBe=function(t,r,n){var i=r.map(function(a){return a.props.dataKey}),s=nBe[n],o=$Ne().keys(i).value(function(a,l){return+Fn(a,l,0)}).order(d3).offset(s);return o(t)},sBe=function(t,r,n,i,s,o){if(!t)return null;var a=o?r.reverse():r,l={},c=a.reduce(function(p,y){var m,g=(m=y.type)!==null&&m!==void 0&&m.defaultProps?ir(ir({},y.type.defaultProps),y.props):y.props,b=g.stackId,w=g.hide;if(w)return p;var S=g[n],_=p[S]||{hasStack:!1,stackGroups:{}};if(Vr(b)){var x=_.stackGroups[b]||{numericAxisId:n,cateAxisId:i,items:[]};x.items.push(y),_.hasStack=!0,_.stackGroups[b]=x}else _.stackGroups[S1("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[y]};return ir(ir({},p),{},Kh({},S,_))},l),d={};return Object.keys(c).reduce(function(p,y){var m=c[y];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(b,w){var S=m.stackGroups[w];return ir(ir({},b),{},Kh({},w,{numericAxisId:n,cateAxisId:i,items:S.items,stackedData:iBe(t,S.items,s)}))},g)}return ir(ir({},p),{},Kh({},y,m))},d)},mne=function(t,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,a=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=t.domain();if(!c.length)return null;var d=wze(c,s,a);return t.domain([qT(d),VT(d)]),{niceTicks:d}}if(s&&i==="number"){var p=t.domain(),y=xze(p,s,a);return{niceTicks:y}}return null},fB=function(t){var r=t.axis,n=t.ticks,i=t.offset,s=t.bandSize,o=t.entry,a=t.index;if(r.type==="category")return n[a]?n[a].coordinate+i:null;var l=Fn(o,r.dataKey,r.domain[a]);return Ge(l)?null:r.scale(l)-s/2+i},oBe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},aBe=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?ir(ir({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(Vr(s)){var o=r[s];if(o){var a=o.items.indexOf(t);return a>=0?o.stackedData[a]:null}}return null},lBe=function(t){return t.reduce(function(r,n){return[qT(n.concat([r[0]]).filter(ue)),VT(n.concat([r[1]]).filter(ue))]},[1/0,-1/0])},gne=function(t,r,n){return Object.keys(t).reduce(function(i,s){var o=t[s],a=o.stackedData,l=a.reduce(function(c,d){var p=lBe(d.slice(r,n+1));return[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},hB=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yB=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,z3=function(t,r,n){if(Ne(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(ue(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(hB.test(t[0])){var s=+hB.exec(t[0])[1];i[0]=r[0]-s}else Ne(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(ue(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(yB.test(t[1])){var o=+yB.exec(t[1])[1];i[1]=r[1]+o}else Ne(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},$2=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var s=YL(r,function(p){return p.coordinate}),o=1/0,a=1,l=s.length;a<l;a++){var c=s[a],d=s[a-1];o=Math.min((c.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},mB=function(t,r,n){return!t||!t.length||GT(t,Qi(n,"type.defaultProps.domain"))?r:t},vne=function(t,r){var n=t.type.defaultProps?ir(ir({},t.type.defaultProps),t.props):t.props,i=n.dataKey,s=n.name,o=n.unit,a=n.formatter,l=n.tooltipType,c=n.chartType,d=n.hide;return ir(ir({},Ie(t,!1)),{},{dataKey:i,unit:o,formatter:a,name:s||i,color:_D(t),value:Fn(r,i),type:l,payload:r,chartType:c,hide:d})};function nb(e){"@babel/helpers - typeof";return nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nb(e)}function gB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gB(Object(r),!0).forEach(function(n){bne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bne(e,t,r){return t=uBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uBe(e){var t=cBe(e,"string");return nb(t)=="symbol"?t:t+""}function cBe(e,t){if(nb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dBe(e,t){return yBe(e)||hBe(e,t)||fBe(e,t)||pBe()}function pBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fBe(e,t){if(e){if(typeof e=="string")return vB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vB(e,t)}}function vB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hBe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function yBe(e){if(Array.isArray(e))return e}var T2=Math.PI/180,mBe=function(t){return t*180/Math.PI},Ct=function(t,r,n,i){return{x:t+Math.cos(-T2*i)*n,y:r+Math.sin(-T2*i)*n}},wne=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},gBe=function(t,r,n,i,s){var o=t.width,a=t.height,l=t.startAngle,c=t.endAngle,d=Xn(t.cx,o,o/2),p=Xn(t.cy,a,a/2),y=wne(o,a,n),m=Xn(t.innerRadius,y,0),g=Xn(t.outerRadius,y,y*.8),b=Object.keys(r);return b.reduce(function(w,S){var _=r[S],x=_.domain,O=_.reversed,$;if(Ge(_.range))i==="angleAxis"?$=[l,c]:i==="radiusAxis"&&($=[m,g]),O&&($=[$[1],$[0]]);else{$=_.range;var T=$,j=dBe(T,2);l=j[0],c=j[1]}var I=hne(_,s),k=I.realScaleType,M=I.scale;M.domain(x).range($),yne(M);var N=mne(M,fl(fl({},_),{},{realScaleType:k})),F=fl(fl(fl({},_),N),{},{range:$,radius:g,realScaleType:k,scale:M,cx:d,cy:p,innerRadius:m,outerRadius:g,startAngle:l,endAngle:c});return fl(fl({},w),{},bne({},S,F))},{})},vBe=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},bBe=function(t,r){var n=t.x,i=t.y,s=r.cx,o=r.cy,a=vBe({x:n,y:i},{x:s,y:o});if(a<=0)return{radius:a};var l=(n-s)/a,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:a,angle:mBe(c),angleInRadian:c}},wBe=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},xBe=function(t,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),a=Math.min(s,o);return t+a*360},bB=function(t,r){var n=t.x,i=t.y,s=bBe({x:n,y:i},r),o=s.radius,a=s.angle,l=r.innerRadius,c=r.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var d=wBe(r),p=d.startAngle,y=d.endAngle,m=a,g;if(p<=y){for(;m>y;)m-=360;for(;m<p;)m+=360;g=m>=p&&m<=y}else{for(;m>p;)m-=360;for(;m<y;)m+=360;g=m>=y&&m<=p}return g?fl(fl({},r),{},{radius:o,angle:xBe(m,r)}):null},xne=function(t){return!C.isValidElement(t)&&!Ne(t)&&typeof t!="boolean"?t.className:""};function ib(e){"@babel/helpers - typeof";return ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ib(e)}var SBe=["offset"];function _Be(e){return EBe(e)||OBe(e)||TBe(e)||$Be()}function $Be(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TBe(e,t){if(e){if(typeof e=="string")return B3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B3(e,t)}}function OBe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EBe(e){if(Array.isArray(e))return B3(e)}function B3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jBe(e,t){if(e==null)return{};var r=ABe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ABe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wB(Object(r),!0).forEach(function(n){IBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IBe(e,t,r){return t=PBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PBe(e){var t=kBe(e,"string");return ib(t)=="symbol"?t:t+""}function kBe(e,t){if(ib(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ib(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sb(){return sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sb.apply(this,arguments)}var CBe=function(t){var r=t.value,n=t.formatter,i=Ge(t.children)?r:t.children;return Ne(n)?n(i):i},NBe=function(t,r){var n=Qn(r-t),i=Math.min(Math.abs(r-t),360);return n*i},MBe=function(t,r,n){var i=t.position,s=t.viewBox,o=t.offset,a=t.className,l=s,c=l.cx,d=l.cy,p=l.innerRadius,y=l.outerRadius,m=l.startAngle,g=l.endAngle,b=l.clockWise,w=(p+y)/2,S=NBe(m,g),_=S>=0?1:-1,x,O;i==="insideStart"?(x=m+_*o,O=b):i==="insideEnd"?(x=g-_*o,O=!b):i==="end"&&(x=g+_*o,O=b),O=S<=0?O:!O;var $=Ct(c,d,w,x),T=Ct(c,d,w,x+(O?1:-1)*359),j="M".concat($.x,",").concat($.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(O?0:1,`,
    `).concat(T.x,",").concat(T.y),I=Ge(t.id)?S1("recharts-radial-line-"):t.id;return L.createElement("text",sb({},n,{dominantBaseline:"central",className:Ve("recharts-radial-bar-label",a)}),L.createElement("defs",null,L.createElement("path",{id:I,d:j})),L.createElement("textPath",{xlinkHref:"#".concat(I)},r))},RBe=function(t){var r=t.viewBox,n=t.offset,i=t.position,s=r,o=s.cx,a=s.cy,l=s.innerRadius,c=s.outerRadius,d=s.startAngle,p=s.endAngle,y=(d+p)/2;if(i==="outside"){var m=Ct(o,a,c+n,y),g=m.x,b=m.y;return{x:g,y:b,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var w=(l+c)/2,S=Ct(o,a,w,y),_=S.x,x=S.y;return{x:_,y:x,textAnchor:"middle",verticalAnchor:"middle"}},LBe=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,s=t.position,o=r,a=o.x,l=o.y,c=o.width,d=o.height,p=d>=0?1:-1,y=p*i,m=p>0?"end":"start",g=p>0?"start":"end",b=c>=0?1:-1,w=b*i,S=b>0?"end":"start",_=b>0?"start":"end";if(s==="top"){var x={x:a+c/2,y:l-p*i,textAnchor:"middle",verticalAnchor:m};return Mr(Mr({},x),n?{height:Math.max(l-n.y,0),width:c}:{})}if(s==="bottom"){var O={x:a+c/2,y:l+d+y,textAnchor:"middle",verticalAnchor:g};return Mr(Mr({},O),n?{height:Math.max(n.y+n.height-(l+d),0),width:c}:{})}if(s==="left"){var $={x:a-w,y:l+d/2,textAnchor:S,verticalAnchor:"middle"};return Mr(Mr({},$),n?{width:Math.max($.x-n.x,0),height:d}:{})}if(s==="right"){var T={x:a+c+w,y:l+d/2,textAnchor:_,verticalAnchor:"middle"};return Mr(Mr({},T),n?{width:Math.max(n.x+n.width-T.x,0),height:d}:{})}var j=n?{width:c,height:d}:{};return s==="insideLeft"?Mr({x:a+w,y:l+d/2,textAnchor:_,verticalAnchor:"middle"},j):s==="insideRight"?Mr({x:a+c-w,y:l+d/2,textAnchor:S,verticalAnchor:"middle"},j):s==="insideTop"?Mr({x:a+c/2,y:l+y,textAnchor:"middle",verticalAnchor:g},j):s==="insideBottom"?Mr({x:a+c/2,y:l+d-y,textAnchor:"middle",verticalAnchor:m},j):s==="insideTopLeft"?Mr({x:a+w,y:l+y,textAnchor:_,verticalAnchor:g},j):s==="insideTopRight"?Mr({x:a+c-w,y:l+y,textAnchor:S,verticalAnchor:g},j):s==="insideBottomLeft"?Mr({x:a+w,y:l+d-y,textAnchor:_,verticalAnchor:m},j):s==="insideBottomRight"?Mr({x:a+c-w,y:l+d-y,textAnchor:S,verticalAnchor:m},j):vm(s)&&(ue(s.x)||Jd(s.x))&&(ue(s.y)||Jd(s.y))?Mr({x:a+Xn(s.x,c),y:l+Xn(s.y,d),textAnchor:"end",verticalAnchor:"end"},j):Mr({x:a+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},j)},DBe=function(t){return"cx"in t&&ue(t.cx)};function rn(e){var t=e.offset,r=t===void 0?5:t,n=jBe(e,SBe),i=Mr({offset:r},n),s=i.viewBox,o=i.position,a=i.value,l=i.children,c=i.content,d=i.className,p=d===void 0?"":d,y=i.textBreakAll;if(!s||Ge(a)&&Ge(l)&&!C.isValidElement(c)&&!Ne(c))return null;if(C.isValidElement(c))return C.cloneElement(c,i);var m;if(Ne(c)){if(m=C.createElement(c,i),C.isValidElement(m))return m}else m=CBe(i);var g=DBe(s),b=Ie(i,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return MBe(i,m,b);var w=g?RBe(i):LBe(i);return L.createElement(Ap,sb({className:Ve("recharts-label",p)},b,w,{breakAll:y}),m)}rn.displayName="Label";var Sne=function(t){var r=t.cx,n=t.cy,i=t.angle,s=t.startAngle,o=t.endAngle,a=t.r,l=t.radius,c=t.innerRadius,d=t.outerRadius,p=t.x,y=t.y,m=t.top,g=t.left,b=t.width,w=t.height,S=t.clockWise,_=t.labelViewBox;if(_)return _;if(ue(b)&&ue(w)){if(ue(p)&&ue(y))return{x:p,y,width:b,height:w};if(ue(m)&&ue(g))return{x:m,y:g,width:b,height:w}}return ue(p)&&ue(y)?{x:p,y,width:0,height:0}:ue(r)&&ue(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:d||l||a||0,clockWise:S}:t.viewBox?t.viewBox:{}},FBe=function(t,r){return t?t===!0?L.createElement(rn,{key:"label-implicit",viewBox:r}):Vr(t)?L.createElement(rn,{key:"label-implicit",viewBox:r,value:t}):C.isValidElement(t)?t.type===rn?C.cloneElement(t,{key:"label-implicit",viewBox:r}):L.createElement(rn,{key:"label-implicit",content:t,viewBox:r}):Ne(t)?L.createElement(rn,{key:"label-implicit",content:t,viewBox:r}):vm(t)?L.createElement(rn,sb({viewBox:r},t,{key:"label-implicit"})):null:null},UBe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,s=Sne(t),o=Ps(i,rn).map(function(l,c){return C.cloneElement(l,{viewBox:r||s,key:"label-".concat(c)})});if(!n)return o;var a=FBe(t.label,r||s);return[a].concat(_Be(o))};rn.parseViewBox=Sne;rn.renderCallByParent=UBe;function zBe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var BBe=zBe;const VBe=gt(BBe);function ob(e){"@babel/helpers - typeof";return ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ob(e)}var qBe=["valueAccessor"],GBe=["data","dataKey","clockWise","id","textBreakAll"];function WBe(e){return ZBe(e)||KBe(e)||JBe(e)||HBe()}function HBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JBe(e,t){if(e){if(typeof e=="string")return V3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V3(e,t)}}function KBe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZBe(e){if(Array.isArray(e))return V3(e)}function V3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O2(){return O2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O2.apply(this,arguments)}function xB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function SB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xB(Object(r),!0).forEach(function(n){YBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YBe(e,t,r){return t=QBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QBe(e){var t=XBe(e,"string");return ob(t)=="symbol"?t:t+""}function XBe(e,t){if(ob(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ob(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _B(e,t){if(e==null)return{};var r=eVe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eVe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var tVe=function(t){return Array.isArray(t.value)?VBe(t.value):t.value};function hc(e){var t=e.valueAccessor,r=t===void 0?tVe:t,n=_B(e,qBe),i=n.data,s=n.dataKey,o=n.clockWise,a=n.id,l=n.textBreakAll,c=_B(n,GBe);return!i||!i.length?null:L.createElement(yt,{className:"recharts-label-list"},i.map(function(d,p){var y=Ge(s)?r(d,p):Fn(d&&d.payload,s),m=Ge(a)?{}:{id:"".concat(a,"-").concat(p)};return L.createElement(rn,O2({},Ie(d,!0),c,m,{parentViewBox:d.parentViewBox,value:y,textBreakAll:l,viewBox:rn.parseViewBox(Ge(o)?d:SB(SB({},d),{},{clockWise:o})),key:"label-".concat(p),index:p}))}))}hc.displayName="LabelList";function rVe(e,t){return e?e===!0?L.createElement(hc,{key:"labelList-implicit",data:t}):L.isValidElement(e)||Ne(e)?L.createElement(hc,{key:"labelList-implicit",data:t,content:e}):vm(e)?L.createElement(hc,O2({data:t},e,{key:"labelList-implicit"})):null:null}function nVe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Ps(n,hc).map(function(o,a){return C.cloneElement(o,{data:t,key:"labelList-".concat(a)})});if(!r)return i;var s=rVe(e.label,t);return[s].concat(WBe(i))}hc.renderCallByParent=nVe;function ab(e){"@babel/helpers - typeof";return ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ab(e)}function q3(){return q3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q3.apply(this,arguments)}function $B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function TB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$B(Object(r),!0).forEach(function(n){iVe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$B(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iVe(e,t,r){return t=sVe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sVe(e){var t=oVe(e,"string");return ab(t)=="symbol"?t:t+""}function oVe(e,t){if(ab(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ab(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aVe=function(t,r){var n=Qn(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},Yw=function(t){var r=t.cx,n=t.cy,i=t.radius,s=t.angle,o=t.sign,a=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,d=l*(a?1:-1)+i,p=Math.asin(l/d)/T2,y=c?s:s+o*p,m=Ct(r,n,d,y),g=Ct(r,n,i,y),b=c?s-o*p:s,w=Ct(r,n,d*Math.cos(p*T2),b);return{center:m,circleTangency:g,lineTangency:w,theta:p}},_ne=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.startAngle,a=t.endAngle,l=aVe(o,a),c=o+l,d=Ct(r,n,s,o),p=Ct(r,n,s,c),y="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var m=Ct(r,n,i,o),g=Ct(r,n,i,c);y+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else y+="L ".concat(r,",").concat(n," Z");return y},lVe=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,a=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,d=t.endAngle,p=Qn(d-c),y=Yw({cx:r,cy:n,radius:s,angle:c,sign:p,cornerRadius:o,cornerIsExternal:l}),m=y.circleTangency,g=y.lineTangency,b=y.theta,w=Yw({cx:r,cy:n,radius:s,angle:d,sign:-p,cornerRadius:o,cornerIsExternal:l}),S=w.circleTangency,_=w.lineTangency,x=w.theta,O=l?Math.abs(c-d):Math.abs(c-d)-b-x;if(O<0)return a?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):_ne({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:c,endAngle:d});var $="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(O>180),",").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var T=Yw({cx:r,cy:n,radius:i,angle:c,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),j=T.circleTangency,I=T.lineTangency,k=T.theta,M=Yw({cx:r,cy:n,radius:i,angle:d,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),N=M.circleTangency,F=M.lineTangency,G=M.theta,B=l?Math.abs(c-d):Math.abs(c-d)-k-G;if(B<0&&o===0)return"".concat($,"L").concat(r,",").concat(n,"Z");$+="L".concat(F.x,",").concat(F.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(B>180),",").concat(+(p>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(I.x,",").concat(I.y,"Z")}else $+="L".concat(r,",").concat(n,"Z");return $},uVe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$ne=function(t){var r=TB(TB({},uVe),t),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,a=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,d=r.startAngle,p=r.endAngle,y=r.className;if(o<s||d===p)return null;var m=Ve("recharts-sector",y),g=o-s,b=Xn(a,g,0,!0),w;return b>0&&Math.abs(d-p)<360?w=lVe({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(b,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:p}):w=_ne({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:d,endAngle:p}),L.createElement("path",q3({},Ie(r,!0),{className:m,d:w,role:"img"}))};function lb(e){"@babel/helpers - typeof";return lb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lb(e)}function G3(){return G3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G3.apply(this,arguments)}function OB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function EB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OB(Object(r),!0).forEach(function(n){cVe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cVe(e,t,r){return t=dVe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dVe(e){var t=pVe(e,"string");return lb(t)=="symbol"?t:t+""}function pVe(e,t){if(lb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jB={curveBasisClosed:fNe,curveBasisOpen:hNe,curveBasis:pNe,curveBumpX:Q3e,curveBumpY:X3e,curveLinearClosed:yNe,curveLinear:PT,curveMonotoneX:mNe,curveMonotoneY:gNe,curveNatural:vNe,curveStep:bNe,curveStepAfter:xNe,curveStepBefore:wNe},Qw=function(t){return t.x===+t.x&&t.y===+t.y},l0=function(t){return t.x},u0=function(t){return t.y},fVe=function(t,r){if(Ne(t))return t;var n="curve".concat(AT(t));return(n==="curveMonotone"||n==="curveBump")&&r?jB["".concat(n).concat(r==="vertical"?"Y":"X")]:jB[n]||PT},hVe=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,s=i===void 0?[]:i,o=t.baseLine,a=t.layout,l=t.connectNulls,c=l===void 0?!1:l,d=fVe(n,a),p=c?s.filter(function(b){return Qw(b)}):s,y;if(Array.isArray(o)){var m=c?o.filter(function(b){return Qw(b)}):o,g=p.map(function(b,w){return EB(EB({},b),{},{base:m[w]})});return a==="vertical"?y=Bw().y(u0).x1(l0).x0(function(b){return b.base.x}):y=Bw().x(l0).y1(u0).y0(function(b){return b.base.y}),y.defined(Qw).curve(d),y(g)}return a==="vertical"&&ue(o)?y=Bw().y(u0).x1(l0).x0(o):ue(o)?y=Bw().x(l0).y1(u0).y0(o):y=vte().x(l0).y(u0),y.defined(Qw).curve(d),y(p)},W3=function(t){var r=t.className,n=t.points,i=t.path,s=t.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?hVe(t):i;return C.createElement("path",G3({},Ie(t,!1),Y_(t),{className:Ve("recharts-curve",r),d:o,ref:s}))},Tne={exports:{}},yVe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mVe=yVe,gVe=mVe;function One(){}function Ene(){}Ene.resetWarningCache=One;var vVe=function(){function e(n,i,s,o,a,l){if(l!==gVe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Ene,resetWarningCache:One};return r.PropTypes=r,r};Tne.exports=vVe();var bVe=Tne.exports;const at=gt(bVe);var wVe=Object.getOwnPropertyNames,xVe=Object.getOwnPropertySymbols,SVe=Object.prototype.hasOwnProperty;function AB(e,t){return function(n,i,s){return e(n,i,s)&&t(n,i,s)}}function Xw(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var s=i.cache,o=s.get(r),a=s.get(n);if(o&&a)return o===n&&a===r;s.set(r,n),s.set(n,r);var l=e(r,n,i);return s.delete(r),s.delete(n),l}}function IB(e){return wVe(e).concat(xVe(e))}var _Ve=Object.hasOwn||function(e,t){return SVe.call(e,t)};function Gp(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var $Ve="__v",TVe="__o",OVe="_owner",PB=Object.getOwnPropertyDescriptor,kB=Object.keys;function EVe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function jVe(e,t){return Gp(e.getTime(),t.getTime())}function AVe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function IVe(e,t){return e===t}function CB(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),s=e.entries(),o,a,l=0;(o=s.next())&&!o.done;){for(var c=t.entries(),d=!1,p=0;(a=c.next())&&!a.done;){if(i[p]){p++;continue}var y=o.value,m=a.value;if(r.equals(y[0],m[0],l,p,e,t,r)&&r.equals(y[1],m[1],y[0],m[0],e,t,r)){d=i[p]=!0;break}p++}if(!d)return!1;l++}return!0}var PVe=Gp;function kVe(e,t,r){var n=kB(e),i=n.length;if(kB(t).length!==i)return!1;for(;i-- >0;)if(!jne(e,t,r,n[i]))return!1;return!0}function c0(e,t,r){var n=IB(e),i=n.length;if(IB(t).length!==i)return!1;for(var s,o,a;i-- >0;)if(s=n[i],!jne(e,t,r,s)||(o=PB(e,s),a=PB(t,s),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable)))return!1;return!0}function CVe(e,t){return Gp(e.valueOf(),t.valueOf())}function NVe(e,t){return e.source===t.source&&e.flags===t.flags}function NB(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),s=e.values(),o,a;(o=s.next())&&!o.done;){for(var l=t.values(),c=!1,d=0;(a=l.next())&&!a.done;){if(!i[d]&&r.equals(o.value,a.value,o.value,a.value,e,t,r)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function MVe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function RVe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function jne(e,t,r,n){return(n===OVe||n===TVe||n===$Ve)&&(e.$$typeof||t.$$typeof)?!0:_Ve(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var LVe="[object Arguments]",DVe="[object Boolean]",FVe="[object Date]",UVe="[object Error]",zVe="[object Map]",BVe="[object Number]",VVe="[object Object]",qVe="[object RegExp]",GVe="[object Set]",WVe="[object String]",HVe="[object URL]",JVe=Array.isArray,MB=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,RB=Object.assign,KVe=Object.prototype.toString.call.bind(Object.prototype.toString);function ZVe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,a=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,d=e.areSetsEqual,p=e.areTypedArraysEqual,y=e.areUrlsEqual;return function(g,b,w){if(g===b)return!0;if(g==null||b==null)return!1;var S=typeof g;if(S!==typeof b)return!1;if(S!=="object")return S==="number"?o(g,b,w):S==="function"?i(g,b,w):!1;var _=g.constructor;if(_!==b.constructor)return!1;if(_===Object)return a(g,b,w);if(JVe(g))return t(g,b,w);if(MB!=null&&MB(g))return p(g,b,w);if(_===Date)return r(g,b,w);if(_===RegExp)return c(g,b,w);if(_===Map)return s(g,b,w);if(_===Set)return d(g,b,w);var x=KVe(g);return x===FVe?r(g,b,w):x===qVe?c(g,b,w):x===zVe?s(g,b,w):x===GVe?d(g,b,w):x===VVe?typeof g.then!="function"&&typeof b.then!="function"&&a(g,b,w):x===HVe?y(g,b,w):x===UVe?n(g,b,w):x===LVe?a(g,b,w):x===DVe||x===BVe||x===WVe?l(g,b,w):!1}}function YVe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?c0:EVe,areDatesEqual:jVe,areErrorsEqual:AVe,areFunctionsEqual:IVe,areMapsEqual:n?AB(CB,c0):CB,areNumbersEqual:PVe,areObjectsEqual:n?c0:kVe,arePrimitiveWrappersEqual:CVe,areRegExpsEqual:NVe,areSetsEqual:n?AB(NB,c0):NB,areTypedArraysEqual:n?c0:MVe,areUrlsEqual:RVe};if(r&&(i=RB({},i,r(i))),t){var s=Xw(i.areArraysEqual),o=Xw(i.areMapsEqual),a=Xw(i.areObjectsEqual),l=Xw(i.areSetsEqual);i=RB({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:l})}return i}function QVe(e){return function(t,r,n,i,s,o,a){return e(t,r,a)}}function XVe(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,s=e.strict;if(n)return function(l,c){var d=n(),p=d.cache,y=p===void 0?t?new WeakMap:void 0:p,m=d.meta;return r(l,c,{cache:y,equals:i,meta:m,strict:s})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,c){return r(l,c,o)}}var eqe=Uc();Uc({strict:!0});Uc({circular:!0});Uc({circular:!0,strict:!0});Uc({createInternalComparator:function(){return Gp}});Uc({strict:!0,createInternalComparator:function(){return Gp}});Uc({circular:!0,createInternalComparator:function(){return Gp}});Uc({circular:!0,createInternalComparator:function(){return Gp},strict:!0});function Uc(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,s=e.strict,o=s===void 0?!1:s,a=YVe(e),l=ZVe(a),c=n?n(l):QVe(l);return XVe({circular:r,comparator:l,createState:i,equals:c,strict:o})}function tqe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function LB(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>t?(e(s),r=-1):tqe(i)};requestAnimationFrame(n)}function H3(e){"@babel/helpers - typeof";return H3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H3(e)}function rqe(e){return oqe(e)||sqe(e)||iqe(e)||nqe()}function nqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iqe(e,t){if(e){if(typeof e=="string")return DB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DB(e,t)}}function DB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oqe(e){if(Array.isArray(e))return e}function aqe(){var e={},t=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,a=rqe(o),l=a[0],c=a.slice(1);if(typeof l=="number"){LB(i.bind(null,c),l);return}i(l),LB(i.bind(null,c));return}H3(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function ub(e){"@babel/helpers - typeof";return ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ub(e)}function FB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function UB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FB(Object(r),!0).forEach(function(n){Ane(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ane(e,t,r){return t=lqe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lqe(e){var t=uqe(e,"string");return ub(t)==="symbol"?t:String(t)}function uqe(e,t){if(ub(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ub(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cqe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},dqe=function(t){return t},pqe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Jg=function(t,r){return Object.keys(r).reduce(function(n,i){return UB(UB({},n),{},Ane({},i,t(i,r[i])))},{})},zB=function(t,r,n){return t.map(function(i){return"".concat(pqe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function fqe(e,t){return mqe(e)||yqe(e,t)||Ine(e,t)||hqe()}function hqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yqe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function mqe(e){if(Array.isArray(e))return e}function gqe(e){return wqe(e)||bqe(e)||Ine(e)||vqe()}function vqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ine(e,t){if(e){if(typeof e=="string")return J3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J3(e,t)}}function bqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wqe(e){if(Array.isArray(e))return J3(e)}function J3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var E2=1e-4,Pne=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},kne=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},BB=function(t,r){return function(n){var i=Pne(t,r);return kne(i,n)}},xqe=function(t,r){return function(n){var i=Pne(t,r),s=[].concat(gqe(i.map(function(o,a){return o*a}).slice(1)),[0]);return kne(s,n)}},VB=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],a=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,a=1;break;case"ease":i=.25,s=.1,o=.25,a=1;break;case"ease-in":i=.42,s=0,o=1,a=1;break;case"ease-out":i=.42,s=0,o=.58,a=1;break;case"ease-in-out":i=0,s=0,o=.58,a=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),d=fqe(c,4);i=d[0],s=d[1],o=d[2],a=d[3]}}}var p=BB(i,o),y=BB(s,a),m=xqe(i,o),g=function(S){return S>1?1:S<0?0:S},b=function(S){for(var _=S>1?1:S,x=_,O=0;O<8;++O){var $=p(x)-_,T=m(x);if(Math.abs($-_)<E2||T<E2)return y(x);x=g(x-$/T)}return y(x)};return b.isStepper=!1,b},Sqe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,s=i===void 0?8:i,o=t.dt,a=o===void 0?17:o,l=function(d,p,y){var m=-(d-p)*n,g=y*s,b=y+(m-g)*a/1e3,w=y*a/1e3+d;return Math.abs(w-p)<E2&&Math.abs(b)<E2?[p,0]:[w,b]};return l.isStepper=!0,l.dt=a,l},_qe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return VB(i);case"spring":return Sqe();default:if(i.split("(")[0]==="cubic-bezier")return VB(i)}return typeof i=="function"?i:null};function cb(e){"@babel/helpers - typeof";return cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cb(e)}function qB(e){return Oqe(e)||Tqe(e)||Cne(e)||$qe()}function $qe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Oqe(e){if(Array.isArray(e))return Z3(e)}function GB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GB(Object(r),!0).forEach(function(n){K3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K3(e,t,r){return t=Eqe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eqe(e){var t=jqe(e,"string");return cb(t)==="symbol"?t:String(t)}function jqe(e,t){if(cb(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cb(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aqe(e,t){return kqe(e)||Pqe(e,t)||Cne(e,t)||Iqe()}function Iqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cne(e,t){if(e){if(typeof e=="string")return Z3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z3(e,t)}}function Z3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pqe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function kqe(e){if(Array.isArray(e))return e}var j2=function(t,r,n){return t+(r-t)*n},Y3=function(t){var r=t.from,n=t.to;return r!==n},Cqe=function e(t,r,n){var i=Jg(function(s,o){if(Y3(o)){var a=t(o.from,o.to,o.velocity),l=Aqe(a,2),c=l[0],d=l[1];return cn(cn({},o),{},{from:c,velocity:d})}return o},r);return n<1?Jg(function(s,o){return Y3(o)?cn(cn({},o),{},{velocity:j2(o.velocity,i[s].velocity,n),from:j2(o.from,i[s].from,n)}):o},r):e(t,i,n-1)};const Nqe=function(e,t,r,n,i){var s=cqe(e,t),o=s.reduce(function(w,S){return cn(cn({},w),{},K3({},S,[e[S],t[S]]))},{}),a=s.reduce(function(w,S){return cn(cn({},w),{},K3({},S,{from:e[S],velocity:0,to:t[S]}))},{}),l=-1,c,d,p=function(){return null},y=function(){return Jg(function(S,_){return _.from},a)},m=function(){return!Object.values(a).filter(Y3).length},g=function(S){c||(c=S);var _=S-c,x=_/r.dt;a=Cqe(r,a,x),i(cn(cn(cn({},e),t),y())),c=S,m()||(l=requestAnimationFrame(p))},b=function(S){d||(d=S);var _=(S-d)/n,x=Jg(function($,T){return j2.apply(void 0,qB(T).concat([r(_)]))},o);if(i(cn(cn(cn({},e),t),x)),_<1)l=requestAnimationFrame(p);else{var O=Jg(function($,T){return j2.apply(void 0,qB(T).concat([r(1)]))},o);i(cn(cn(cn({},e),t),O))}};return p=r.isStepper?g:b,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(l)}}};function Ay(e){"@babel/helpers - typeof";return Ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ay(e)}var Mqe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Rqe(e,t){if(e==null)return{};var r=Lqe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lqe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function bj(e){return zqe(e)||Uqe(e)||Fqe(e)||Dqe()}function Dqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fqe(e,t){if(e){if(typeof e=="string")return Q3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q3(e,t)}}function Uqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zqe(e){if(Array.isArray(e))return Q3(e)}function Q3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WB(Object(r),!0).forEach(function(n){ug(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ug(e,t,r){return t=Nne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nne(n.key),n)}}function Vqe(e,t,r){return t&&HB(e.prototype,t),r&&HB(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nne(e){var t=qqe(e,"string");return Ay(t)==="symbol"?t:String(t)}function qqe(e,t){if(Ay(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ay(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X3(e,t)}function X3(e,t){return X3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},X3(e,t)}function Wqe(e){var t=Hqe();return function(){var n=A2(e),i;if(t){var s=A2(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return eN(this,i)}}function eN(e,t){if(t&&(Ay(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tN(e)}function tN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hqe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function A2(e){return A2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},A2(e)}var KT=function(e){Gqe(r,e);var t=Wqe(r);function r(n,i){var s;Bqe(this,r),s=t.call(this,n,i);var o=s.props,a=o.isActive,l=o.attributeName,c=o.from,d=o.to,p=o.steps,y=o.children,m=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(tN(s)),s.changeStyle=s.changeStyle.bind(tN(s)),!a||m<=0)return s.state={style:{}},typeof y=="function"&&(s.state={style:d}),eN(s);if(p&&p.length)s.state={style:p[0].style};else if(c){if(typeof y=="function")return s.state={style:c},eN(s);s.state={style:l?ug({},l,c):c}}else s.state={style:{}};return s}return Vqe(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,a=s.canBegin,l=s.attributeName,c=s.shouldReAnimate,d=s.to,p=s.from,y=this.state.style;if(a){if(!o){var m={style:l?ug({},l,d):d};this.state&&y&&(l&&y[l]!==d||!l&&y!==d)&&this.setState(m);return}if(!(eqe(i.to,d)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=g||c?p:i.to;if(this.state&&y){var w={style:l?ug({},l,b):b};(l&&y[l]!==b||!l&&y!==b)&&this.setState(w)}this.runAnimation(Hs(Hs({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,a=i.to,l=i.duration,c=i.easing,d=i.begin,p=i.onAnimationEnd,y=i.onAnimationStart,m=Nqe(o,a,_qe(c),l,this.changeStyle),g=function(){s.stopJSAnimation=m()};this.manager.start([y,d,g,l,p])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,a=i.begin,l=i.onAnimationStart,c=o[0],d=c.style,p=c.duration,y=p===void 0?0:p,m=function(b,w,S){if(S===0)return b;var _=w.duration,x=w.easing,O=x===void 0?"ease":x,$=w.style,T=w.properties,j=w.onAnimationEnd,I=S>0?o[S-1]:w,k=T||Object.keys($);if(typeof O=="function"||O==="spring")return[].concat(bj(b),[s.runJSAnimation.bind(s,{from:I.style,to:$,duration:_,easing:O}),_]);var M=zB(k,_,O),N=Hs(Hs(Hs({},I.style),$),{},{transition:M});return[].concat(bj(b),[N,_,j]).filter(dqe)};return this.manager.start([l].concat(bj(o.reduce(m,[d,Math.max(y,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=aqe());var s=i.begin,o=i.duration,a=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,p=i.onAnimationEnd,y=i.steps,m=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof m=="function"||c==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var b=a?ug({},a,l):l,w=zB(Object.keys(b),o,c);g.start([d,s,Hs(Hs({},b),{},{transition:w}),o,p])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Rqe(i,Mqe),c=C.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!a||c===0||o<=0)return s;var p=function(m){var g=m.props,b=g.style,w=b===void 0?{}:b,S=g.className,_=C.cloneElement(m,Hs(Hs({},l),{},{style:Hs(Hs({},w),d),className:S}));return _};return c===1?p(C.Children.only(s)):L.createElement("div",null,C.Children.map(s,function(y){return p(y)}))}}]),r}(C.PureComponent);KT.displayName="Animate";KT.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};KT.propTypes={from:at.oneOfType([at.object,at.string]),to:at.oneOfType([at.object,at.string]),attributeName:at.string,duration:at.number,begin:at.number,easing:at.oneOfType([at.string,at.func]),steps:at.arrayOf(at.shape({duration:at.number.isRequired,style:at.object.isRequired,easing:at.oneOfType([at.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),at.func]),properties:at.arrayOf("string"),onAnimationEnd:at.func})),children:at.oneOfType([at.node,at.func]),isActive:at.bool,canBegin:at.bool,onAnimationEnd:at.func,shouldReAnimate:at.bool,onAnimationStart:at.func,onAnimationReStart:at.func};const Iy=KT;function db(e){"@babel/helpers - typeof";return db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},db(e)}function I2(){return I2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I2.apply(this,arguments)}function Jqe(e,t){return Qqe(e)||Yqe(e,t)||Zqe(e,t)||Kqe()}function Kqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zqe(e,t){if(e){if(typeof e=="string")return JB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JB(e,t)}}function JB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yqe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Qqe(e){if(Array.isArray(e))return e}function KB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ZB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KB(Object(r),!0).forEach(function(n){Xqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xqe(e,t,r){return t=eGe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eGe(e){var t=tGe(e,"string");return db(t)=="symbol"?t:t+""}function tGe(e,t){if(db(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(db(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YB=function(t,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),a=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var p=[0,0,0,0],y=0,m=4;y<m;y++)p[y]=s[y]>o?o:s[y];d="M".concat(t,",").concat(r+a*p[0]),p[0]>0&&(d+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(c,",").concat(t+l*p[0],",").concat(r)),d+="L ".concat(t+n-l*p[1],",").concat(r),p[1]>0&&(d+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+a*p[1])),d+="L ".concat(t+n,",").concat(r+i-a*p[2]),p[2]>0&&(d+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(c,`,
        `).concat(t+n-l*p[2],",").concat(r+i)),d+="L ".concat(t+l*p[3],",").concat(r+i),p[3]>0&&(d+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+i-a*p[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var g=Math.min(o,s);d="M ".concat(t,",").concat(r+a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+l*g,",").concat(r,`
            L `).concat(t+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n,",").concat(r+a*g,`
            L `).concat(t+n,",").concat(r+i-a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n-l*g,",").concat(r+i,`
            L `).concat(t+l*g,",").concat(r+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t,",").concat(r+i-a*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},rGe=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,s=r.x,o=r.y,a=r.width,l=r.height;if(Math.abs(a)>0&&Math.abs(l)>0){var c=Math.min(s,s+a),d=Math.max(s,s+a),p=Math.min(o,o+l),y=Math.max(o,o+l);return n>=c&&n<=d&&i>=p&&i<=y}return!1},nGe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$D=function(t){var r=ZB(ZB({},nGe),t),n=C.useRef(),i=C.useState(-1),s=Jqe(i,2),o=s[0],a=s[1];C.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&a(O)}catch{}},[]);var l=r.x,c=r.y,d=r.width,p=r.height,y=r.radius,m=r.className,g=r.animationEasing,b=r.animationDuration,w=r.animationBegin,S=r.isAnimationActive,_=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||p!==+p||d===0||p===0)return null;var x=Ve("recharts-rectangle",m);return _?L.createElement(Iy,{canBegin:o>0,from:{width:d,height:p,x:l,y:c},to:{width:d,height:p,x:l,y:c},duration:b,animationEasing:g,isActive:_},function(O){var $=O.width,T=O.height,j=O.x,I=O.y;return L.createElement(Iy,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:b,isActive:S,easing:g},L.createElement("path",I2({},Ie(r,!0),{className:x,d:YB(j,I,$,T,y),ref:n})))}):L.createElement("path",I2({},Ie(r,!0),{className:x,d:YB(l,c,d,p,y)}))},iGe=["points","className","baseLinePoints","connectNulls"];function Sh(){return Sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sh.apply(this,arguments)}function sGe(e,t){if(e==null)return{};var r=oGe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oGe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function QB(e){return cGe(e)||uGe(e)||lGe(e)||aGe()}function aGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lGe(e,t){if(e){if(typeof e=="string")return rN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rN(e,t)}}function uGe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cGe(e){if(Array.isArray(e))return rN(e)}function rN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var XB=function(t){return t&&t.x===+t.x&&t.y===+t.y},dGe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){XB(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),XB(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Kg=function(t,r){var n=dGe(t);r&&(n=[n.reduce(function(s,o){return[].concat(QB(s),QB(o))},[])]);var i=n.map(function(s){return s.reduce(function(o,a,l){return"".concat(o).concat(l===0?"M":"L").concat(a.x,",").concat(a.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},pGe=function(t,r,n){var i=Kg(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Kg(r.reverse(),n).slice(1))},fGe=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,s=t.connectNulls,o=sGe(t,iGe);if(!r||!r.length)return null;var a=Ve("recharts-polygon",n);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",c=pGe(r,i,s);return L.createElement("g",{className:a},L.createElement("path",Sh({},Ie(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:c})),l?L.createElement("path",Sh({},Ie(o,!0),{fill:"none",d:Kg(r,s)})):null,l?L.createElement("path",Sh({},Ie(o,!0),{fill:"none",d:Kg(i,s)})):null)}var d=Kg(r,s);return L.createElement("path",Sh({},Ie(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:a,d}))};function nN(){return nN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nN.apply(this,arguments)}var TD=function(t){var r=t.cx,n=t.cy,i=t.r,s=t.className,o=Ve("recharts-dot",s);return r===+r&&n===+n&&i===+i?C.createElement("circle",nN({},Ie(t,!1),Y_(t),{className:o,cx:r,cy:n,r:i})):null};function pb(e){"@babel/helpers - typeof";return pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pb(e)}var hGe=["x","y","top","left","width","height","className"];function iN(){return iN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iN.apply(this,arguments)}function eV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yGe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eV(Object(r),!0).forEach(function(n){mGe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mGe(e,t,r){return t=gGe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gGe(e){var t=vGe(e,"string");return pb(t)=="symbol"?t:t+""}function vGe(e,t){if(pb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bGe(e,t){if(e==null)return{};var r=wGe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wGe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var xGe=function(t,r,n,i,s,o){return"M".concat(t,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},SGe=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.top,a=o===void 0?0:o,l=t.left,c=l===void 0?0:l,d=t.width,p=d===void 0?0:d,y=t.height,m=y===void 0?0:y,g=t.className,b=bGe(t,hGe),w=yGe({x:n,y:s,top:a,left:c,width:p,height:m},b);return!ue(n)||!ue(s)||!ue(p)||!ue(m)||!ue(a)||!ue(c)?null:L.createElement("path",iN({},Ie(w,!0),{className:Ve("recharts-cross",g),d:xGe(n,s,p,m,a,c)}))},_Ge=BT,$Ge=Wre,TGe=Ia;function OGe(e,t){return e&&e.length?_Ge(e,TGe(t),$Ge):void 0}var EGe=OGe;const jGe=gt(EGe);var AGe=BT,IGe=Ia,PGe=Hre;function kGe(e,t){return e&&e.length?AGe(e,IGe(t),PGe):void 0}var CGe=kGe;const NGe=gt(CGe);var MGe=["cx","cy","angle","ticks","axisLine"],RGe=["ticks","tick","angle","tickFormatter","stroke"];function Py(e){"@babel/helpers - typeof";return Py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Py(e)}function Zg(){return Zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zg.apply(this,arguments)}function tV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tV(Object(r),!0).forEach(function(n){ZT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rV(e,t){if(e==null)return{};var r=LGe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LGe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function DGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rne(n.key),n)}}function FGe(e,t,r){return t&&nV(e.prototype,t),r&&nV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function UGe(e,t,r){return t=P2(t),zGe(e,Mne()?Reflect.construct(t,r||[],P2(e).constructor):t.apply(e,r))}function zGe(e,t){if(t&&(Py(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BGe(e)}function BGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mne(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mne=function(){return!!e})()}function P2(e){return P2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},P2(e)}function VGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sN(e,t)}function sN(e,t){return sN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sN(e,t)}function ZT(e,t,r){return t=Rne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rne(e){var t=qGe(e,"string");return Py(t)=="symbol"?t:t+""}function qGe(e,t){if(Py(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Py(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YT=function(e){function t(){return DGe(this,t),UGe(this,t,arguments)}return VGe(t,e),FGe(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,s=this.props,o=s.angle,a=s.cx,l=s.cy;return Ct(a,l,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,a=n.ticks,l=jGe(a,function(d){return d.coordinate||0}),c=NGe(a,function(d){return d.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,a=n.ticks,l=n.axisLine,c=rV(n,MGe),d=a.reduce(function(g,b){return[Math.min(g[0],b.coordinate),Math.max(g[1],b.coordinate)]},[1/0,-1/0]),p=Ct(i,s,d[0],o),y=Ct(i,s,d[1],o),m=Kc(Kc(Kc({},Ie(c,!1)),{},{fill:"none"},Ie(l,!1)),{},{x1:p.x,y1:p.y,x2:y.x,y2:y.y});return L.createElement("line",Zg({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,a=i.angle,l=i.tickFormatter,c=i.stroke,d=rV(i,RGe),p=this.getTickTextAnchor(),y=Ie(d,!1),m=Ie(o,!1),g=s.map(function(b,w){var S=n.getTickValueCoord(b),_=Kc(Kc(Kc(Kc({textAnchor:p,transform:"rotate(".concat(90-a,", ").concat(S.x,", ").concat(S.y,")")},y),{},{stroke:"none",fill:c},m),{},{index:w},S),{},{payload:b});return L.createElement(yt,Zg({className:Ve("recharts-polar-radius-axis-tick",xne(o)),key:"tick-".concat(b.coordinate)},jp(n.props,b,w)),t.renderTickItem(o,_,l?l(b.value,w):b.value))});return L.createElement(yt,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.axisLine,o=n.tick;return!i||!i.length?null:L.createElement(yt,{className:Ve("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),rn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,s){var o;return L.isValidElement(n)?o=L.cloneElement(n,i):Ne(n)?o=n(i):o=L.createElement(Ap,Zg({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(C.PureComponent);ZT(YT,"displayName","PolarRadiusAxis");ZT(YT,"axisType","radiusAxis");ZT(YT,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ky(e){"@babel/helpers - typeof";return ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ky(e)}function Ld(){return Ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ld.apply(this,arguments)}function iV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iV(Object(r),!0).forEach(function(n){QT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dne(n.key),n)}}function WGe(e,t,r){return t&&sV(e.prototype,t),r&&sV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HGe(e,t,r){return t=k2(t),JGe(e,Lne()?Reflect.construct(t,r||[],k2(e).constructor):t.apply(e,r))}function JGe(e,t){if(t&&(ky(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KGe(e)}function KGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lne(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lne=function(){return!!e})()}function k2(e){return k2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},k2(e)}function ZGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oN(e,t)}function oN(e,t){return oN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oN(e,t)}function QT(e,t,r){return t=Dne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dne(e){var t=YGe(e,"string");return ky(t)=="symbol"?t:t+""}function YGe(e,t){if(ky(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ky(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QGe=Math.PI/180,oV=1e-5,XT=function(e){function t(){return GGe(this,t),HGe(this,t,arguments)}return ZGe(t,e),WGe(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.cx,o=i.cy,a=i.radius,l=i.orientation,c=i.tickSize,d=c||8,p=Ct(s,o,a,n.coordinate),y=Ct(s,o,a+(l==="inner"?-1:1)*d,n.coordinate);return{x1:p.x,y1:p.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,s=Math.cos(-n.coordinate*QGe),o;return s>oV?o=i==="outer"?"start":"end":s<-oV?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.radius,a=n.axisLine,l=n.axisLineType,c=Zc(Zc({},Ie(this.props,!1)),{},{fill:"none"},Ie(a,!1));if(l==="circle")return L.createElement(TD,Ld({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:s,r:o}));var d=this.props.ticks,p=d.map(function(y){return Ct(i,s,o,y.coordinate)});return L.createElement(fGe,Ld({className:"recharts-polar-angle-axis-line"},c,{points:p}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,a=i.tickLine,l=i.tickFormatter,c=i.stroke,d=Ie(this.props,!1),p=Ie(o,!1),y=Zc(Zc({},d),{},{fill:"none"},Ie(a,!1)),m=s.map(function(g,b){var w=n.getTickLineCoord(g),S=n.getTickTextAnchor(g),_=Zc(Zc(Zc({textAnchor:S},d),{},{stroke:"none",fill:c},p),{},{index:b,payload:g,x:w.x2,y:w.y2});return L.createElement(yt,Ld({className:Ve("recharts-polar-angle-axis-tick",xne(o)),key:"tick-".concat(g.coordinate)},jp(n.props,g,b)),a&&L.createElement("line",Ld({className:"recharts-polar-angle-axis-tick-line"},y,w)),o&&t.renderTickItem(o,_,l?l(g.value,b):g.value))});return L.createElement(yt,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!i||!i.length?null:L.createElement(yt,{className:Ve("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,s){var o;return L.isValidElement(n)?o=L.cloneElement(n,i):Ne(n)?o=n(i):o=L.createElement(Ap,Ld({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(C.PureComponent);QT(XT,"displayName","PolarAngleAxis");QT(XT,"axisType","angleAxis");QT(XT,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var XGe=Bte,eWe=XGe(Object.getPrototypeOf,Object),tWe=eWe,rWe=Kl,nWe=tWe,iWe=Zl,sWe="[object Object]",oWe=Function.prototype,aWe=Object.prototype,Fne=oWe.toString,lWe=aWe.hasOwnProperty,uWe=Fne.call(Object);function cWe(e){if(!iWe(e)||rWe(e)!=sWe)return!1;var t=nWe(e);if(t===null)return!0;var r=lWe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Fne.call(r)==uWe}var dWe=cWe;const pWe=gt(dWe);var fWe=Kl,hWe=Zl,yWe="[object Boolean]";function mWe(e){return e===!0||e===!1||hWe(e)&&fWe(e)==yWe}var gWe=mWe;const vWe=gt(gWe);function fb(e){"@babel/helpers - typeof";return fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fb(e)}function C2(){return C2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C2.apply(this,arguments)}function bWe(e,t){return _We(e)||SWe(e,t)||xWe(e,t)||wWe()}function wWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xWe(e,t){if(e){if(typeof e=="string")return aV(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aV(e,t)}}function aV(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SWe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function _We(e){if(Array.isArray(e))return e}function lV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lV(Object(r),!0).forEach(function(n){$We(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $We(e,t,r){return t=TWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TWe(e){var t=OWe(e,"string");return fb(t)=="symbol"?t:t+""}function OWe(e,t){if(fb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cV=function(t,r,n,i,s){var o=n-i,a;return a="M ".concat(t,",").concat(r),a+="L ".concat(t+n,",").concat(r),a+="L ".concat(t+n-o/2,",").concat(r+s),a+="L ".concat(t+n-o/2-i,",").concat(r+s),a+="L ".concat(t,",").concat(r," Z"),a},EWe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jWe=function(t){var r=uV(uV({},EWe),t),n=C.useRef(),i=C.useState(-1),s=bWe(i,2),o=s[0],a=s[1];C.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&a(x)}catch{}},[]);var l=r.x,c=r.y,d=r.upperWidth,p=r.lowerWidth,y=r.height,m=r.className,g=r.animationEasing,b=r.animationDuration,w=r.animationBegin,S=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||p!==+p||y!==+y||d===0&&p===0||y===0)return null;var _=Ve("recharts-trapezoid",m);return S?L.createElement(Iy,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:y,x:l,y:c},to:{upperWidth:d,lowerWidth:p,height:y,x:l,y:c},duration:b,animationEasing:g,isActive:S},function(x){var O=x.upperWidth,$=x.lowerWidth,T=x.height,j=x.x,I=x.y;return L.createElement(Iy,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:b,easing:g},L.createElement("path",C2({},Ie(r,!0),{className:_,d:cV(j,I,O,$,T),ref:n})))}):L.createElement("g",null,L.createElement("path",C2({},Ie(r,!0),{className:_,d:cV(l,c,d,p,y)})))},AWe=["option","shapeType","propTransformer","activeClassName","isActive"];function hb(e){"@babel/helpers - typeof";return hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hb(e)}function IWe(e,t){if(e==null)return{};var r=PWe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PWe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function N2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dV(Object(r),!0).forEach(function(n){kWe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kWe(e,t,r){return t=CWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CWe(e){var t=NWe(e,"string");return hb(t)=="symbol"?t:t+""}function NWe(e,t){if(hb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MWe(e,t){return N2(N2({},t),e)}function RWe(e,t){return e==="symbols"}function pV(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return L.createElement($D,r);case"trapezoid":return L.createElement(jWe,r);case"sector":return L.createElement($ne,r);case"symbols":if(RWe(t))return L.createElement(VL,r);break;default:return null}}function LWe(e){return C.isValidElement(e)?e.props:e}function Une(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?MWe:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,a=e.isActive,l=IWe(e,AWe),c;if(C.isValidElement(t))c=C.cloneElement(t,N2(N2({},l),LWe(t)));else if(Ne(t))c=t(l);else if(pWe(t)&&!vWe(t)){var d=i(t,l);c=L.createElement(pV,{shapeType:r,elementProps:d})}else{var p=l;c=L.createElement(pV,{shapeType:r,elementProps:p})}return a?L.createElement(yt,{className:o},c):c}function eO(e,t){return t!=null&&"trapezoids"in e.props}function tO(e,t){return t!=null&&"sectors"in e.props}function yb(e,t){return t!=null&&"points"in e.props}function DWe(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&s}function FWe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function UWe(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function zWe(e,t){var r;return eO(e,t)?r=DWe:tO(e,t)?r=FWe:yb(e,t)&&(r=UWe),r}function BWe(e,t){var r;return eO(e,t)?r="trapezoids":tO(e,t)?r="sectors":yb(e,t)&&(r="points"),r}function VWe(e,t){if(eO(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(tO(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return yb(e,t)?t.payload:{}}function qWe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=BWe(r,t),s=VWe(r,t),o=n.filter(function(l,c){var d=GT(s,l),p=r.props[i].filter(function(g){var b=zWe(r,t);return b(g,t)}),y=r.props[i].indexOf(p[p.length-1]),m=c===y;return d&&m}),a=n.indexOf(o[o.length-1]);return a}var ES;function Cy(e){"@babel/helpers - typeof";return Cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cy(e)}function _h(){return _h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_h.apply(this,arguments)}function fV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fV(Object(r),!0).forEach(function(n){Ss(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bne(n.key),n)}}function WWe(e,t,r){return t&&hV(e.prototype,t),r&&hV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HWe(e,t,r){return t=M2(t),JWe(e,zne()?Reflect.construct(t,r||[],M2(e).constructor):t.apply(e,r))}function JWe(e,t){if(t&&(Cy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KWe(e)}function KWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zne(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zne=function(){return!!e})()}function M2(e){return M2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},M2(e)}function ZWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aN(e,t)}function aN(e,t){return aN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aN(e,t)}function Ss(e,t,r){return t=Bne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bne(e){var t=YWe(e,"string");return Cy(t)=="symbol"?t:t+""}function YWe(e,t){if(Cy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ja=function(e){function t(r){var n;return GWe(this,t),n=HWe(this,t,[r]),Ss(n,"pieRef",null),Ss(n,"sectorRefs",[]),Ss(n,"id",S1("recharts-pie-")),Ss(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ne(i)&&i()}),Ss(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ne(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return ZWe(t,e),WWe(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,a=s.labelLine,l=s.dataKey,c=s.valueKey,d=Ie(this.props,!1),p=Ie(o,!1),y=Ie(a,!1),m=o&&o.offsetRadius||20,g=n.map(function(b,w){var S=(b.startAngle+b.endAngle)/2,_=Ct(b.cx,b.cy,b.outerRadius+m,S),x=It(It(It(It({},d),b),{},{stroke:"none"},p),{},{index:w,textAnchor:t.getTextAnchor(_.x,b.cx)},_),O=It(It(It(It({},d),b),{},{fill:"none",stroke:b.fill},y),{},{index:w,points:[Ct(b.cx,b.cy,b.outerRadius,S),_]}),$=l;return Ge(l)&&Ge(c)?$="value":Ge(l)&&($=c),L.createElement(yt,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(w)},a&&t.renderLabelLineItem(a,O,"line"),t.renderLabelItem(o,x,Fn(b,$)))});return L.createElement(yt,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,o=s.activeShape,a=s.blendStroke,l=s.inactiveShape;return n.map(function(c,d){if(c?.startAngle===0&&c?.endAngle===0&&n.length!==1)return null;var p=i.isActiveIndex(d),y=l&&i.hasActiveIndex()?l:null,m=p?o:y,g=It(It({},c),{},{stroke:a?c.fill:c.stroke,tabIndex:-1});return L.createElement(yt,_h({ref:function(w){w&&!i.sectorRefs.includes(w)&&i.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},jp(i.props,c,d),{key:"sector-".concat(c?.startAngle,"-").concat(c?.endAngle,"-").concat(c.midAngle,"-").concat(d)}),L.createElement(Une,_h({option:m,isActive:p,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,o=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,c=i.animationEasing,d=i.animationId,p=this.state,y=p.prevSectors,m=p.prevIsAnimationActive;return L.createElement(Iy,{begin:a,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var b=g.t,w=[],S=s&&s[0],_=S.startAngle;return s.forEach(function(x,O){var $=y&&y[O],T=O>0?Qi(x,"paddingAngle",0):0;if($){var j=ku($.endAngle-$.startAngle,x.endAngle-x.startAngle),I=It(It({},x),{},{startAngle:_+T,endAngle:_+j(b)+T});w.push(I),_=I.endAngle}else{var k=x.endAngle,M=x.startAngle,N=ku(0,k-M),F=N(b),G=It(It({},x),{},{startAngle:_+T,endAngle:_+F+T});w.push(G),_=G.endAngle}}),L.createElement(yt,null,n.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var a=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!GT(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,o=i.sectors,a=i.className,l=i.label,c=i.cx,d=i.cy,p=i.innerRadius,y=i.outerRadius,m=i.isAnimationActive,g=this.state.isAnimationFinished;if(s||!o||!o.length||!ue(c)||!ue(d)||!ue(p)||!ue(y))return null;var b=Ve("recharts-pie",a);return L.createElement(yt,{tabIndex:this.props.rootTabIndex,className:b,ref:function(S){n.pieRef=S}},this.renderSectors(),l&&this.renderLabels(o),rn.renderCallByParent(this.props,null,!1),(!m||g)&&hc.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(L.isValidElement(n))return L.cloneElement(n,i);if(Ne(n))return n(i);var o=Ve("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return L.createElement(W3,_h({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,s){if(L.isValidElement(n))return L.cloneElement(n,i);var o=s;if(Ne(n)&&(o=n(i),L.isValidElement(o)))return o;var a=Ve("recharts-pie-label-text",typeof n!="boolean"&&!Ne(n)?n.className:"");return L.createElement(Ap,_h({},i,{alignmentBaseline:"middle",className:a}),o)}}])}(C.PureComponent);ES=ja;Ss(ja,"displayName","Pie");Ss(ja,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Cl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ss(ja,"parseDeltaAngle",function(e,t){var r=Qn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Ss(ja,"getRealPieData",function(e){var t=e.data,r=e.children,n=Ie(e,!1),i=Ps(r,Gv);return t&&t.length?t.map(function(s,o){return It(It(It({payload:s},n),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return It(It({},n),s.props)}):[]});Ss(ja,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,s=t.height,o=wne(i,s),a=n+Xn(e.cx,i,i/2),l=r+Xn(e.cy,s,s/2),c=Xn(e.innerRadius,o,0),d=Xn(e.outerRadius,o,o*.8),p=e.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:a,cy:l,innerRadius:c,outerRadius:d,maxRadius:p}});Ss(ja,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?It(It({},t.type.defaultProps),t.props):t.props,i=ES.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,o=n.startAngle,a=n.endAngle,l=n.paddingAngle,c=n.dataKey,d=n.nameKey,p=n.valueKey,y=n.tooltipType,m=Math.abs(n.minAngle),g=ES.parseCoordinateOfPie(n,r),b=ES.parseDeltaAngle(o,a),w=Math.abs(b),S=c;Ge(c)&&Ge(p)?(No(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S="value"):Ge(c)&&(No(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S=p);var _=i.filter(function(I){return Fn(I,S,0)!==0}).length,x=(w>=360?_:_-1)*l,O=w-_*m-x,$=i.reduce(function(I,k){var M=Fn(k,S,0);return I+(ue(M)?M:0)},0),T;if($>0){var j;T=i.map(function(I,k){var M=Fn(I,S,0),N=Fn(I,d,k),F=(ue(M)?M:0)/$,G;k?G=j.endAngle+Qn(b)*l*(M!==0?1:0):G=o;var B=G+Qn(b)*((M!==0?m:0)+F*O),W=(G+B)/2,Z=(g.innerRadius+g.outerRadius)/2,ee=[{name:N,value:M,payload:I,dataKey:S,type:y}],V=Ct(g.cx,g.cy,Z,W);return j=It(It(It({percent:F,cornerRadius:s,name:N,tooltipPayload:ee,midAngle:W,middleRadius:Z,tooltipPosition:V},I),g),{},{value:Fn(I,S),startAngle:G,endAngle:B,payload:I,paddingAngle:Qn(b)*l}),j})}return It(It({},g),{},{sectors:T,data:i})});var QWe=Math.ceil,XWe=Math.max;function eHe(e,t,r,n){for(var i=-1,s=XWe(QWe((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++i]=e,e+=r;return o}var tHe=eHe,rHe=are,yV=1/0,nHe=17976931348623157e292;function iHe(e){if(!e)return e===0?e:0;if(e=rHe(e),e===yV||e===-yV){var t=e<0?-1:1;return t*nHe}return e===e?e:0}var Vne=iHe,sHe=tHe,oHe=MT,wj=Vne;function aHe(e){return function(t,r,n){return n&&typeof n!="number"&&oHe(t,r,n)&&(r=n=void 0),t=wj(t),r===void 0?(r=t,t=0):r=wj(r),n=n===void 0?t<r?1:-1:wj(n),sHe(t,r,n,e)}}var lHe=aHe,uHe=lHe,cHe=uHe(),dHe=cHe;const R2=gt(dHe);function mb(e){"@babel/helpers - typeof";return mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mb(e)}function mV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mV(Object(r),!0).forEach(function(n){qne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qne(e,t,r){return t=pHe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pHe(e){var t=fHe(e,"string");return mb(t)=="symbol"?t:t+""}function fHe(e,t){if(mb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hHe=["Webkit","Moz","O","ms"],yHe=function(t,r){if(!t)return null;var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),i=hHe.reduce(function(s,o){return gV(gV({},s),{},qne({},o+n,r))},{});return i[t]=r,i};function Ny(e){"@babel/helpers - typeof";return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ny(e)}function L2(){return L2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L2.apply(this,arguments)}function vV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vV(Object(r),!0).forEach(function(n){Di(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wne(n.key),n)}}function gHe(e,t,r){return t&&bV(e.prototype,t),r&&bV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vHe(e,t,r){return t=D2(t),bHe(e,Gne()?Reflect.construct(t,r||[],D2(e).constructor):t.apply(e,r))}function bHe(e,t){if(t&&(Ny(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wHe(e)}function wHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gne(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gne=function(){return!!e})()}function D2(e){return D2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},D2(e)}function xHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lN(e,t)}function lN(e,t){return lN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lN(e,t)}function Di(e,t,r){return t=Wne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wne(e){var t=SHe(e,"string");return Ny(t)=="symbol"?t:t+""}function SHe(e,t){if(Ny(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ny(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _He=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,s=t.x,o=t.width,a=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Wg().domain(R2(0,l)).range([s,s+o-a]),d=c.domain().map(function(p){return c(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:d}},wV=function(t){return t.changedTouches&&!!t.changedTouches.length},My=function(e){function t(r){var n;return mHe(this,t),n=vHe(this,t,[r]),Di(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Di(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Di(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,a=i.startIndex;o?.({endIndex:s,startIndex:a})}),n.detachDragEndListener()}),Di(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Di(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Di(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Di(n,"handleSlideDragStart",function(i){var s=wV(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return xHe(t,e),gHe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,a=this.props,l=a.gap,c=a.data,d=c.length-1,p=Math.min(i,s),y=Math.max(i,s),m=t.getIndexInRange(o,p),g=t.getIndexInRange(o,y);return{startIndex:m-m%l,endIndex:g===d?d:g-g%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,a=i.dataKey,l=Fn(s[n],a,n);return Ne(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,a=i.endX,l=this.props,c=l.x,d=l.width,p=l.travellerWidth,y=l.startIndex,m=l.endIndex,g=l.onChange,b=n.pageX-s;b>0?b=Math.min(b,c+d-p-a,c+d-p-o):b<0&&(b=Math.max(b,c-o,c-a));var w=this.getIndex({startX:o+b,endX:a+b});(w.startIndex!==y||w.endIndex!==m)&&g&&g(w),this.setState({startX:o+b,endX:a+b,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=wV(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,a=i.endX,l=i.startX,c=this.state[o],d=this.props,p=d.x,y=d.width,m=d.travellerWidth,g=d.onChange,b=d.gap,w=d.data,S={startX:this.state.startX,endX:this.state.endX},_=n.pageX-s;_>0?_=Math.min(_,p+y-m-c):_<0&&(_=Math.max(_,p-c)),S[o]=c+_;var x=this.getIndex(S),O=x.startIndex,$=x.endIndex,T=function(){var I=w.length-1;return o==="startX"&&(a>l?O%b===0:$%b===0)||a<l&&$===I||o==="endX"&&(a>l?$%b===0:O%b===0)||a>l&&$===I};this.setState(Di(Di({},o,c+_),"brushMoveStartX",n.pageX),function(){g&&T()&&g(x)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,a=o.scaleValues,l=o.startX,c=o.endX,d=this.state[i],p=a.indexOf(d);if(p!==-1){var y=p+n;if(!(y===-1||y>=a.length)){var m=a[y];i==="startX"&&m>=c||i==="endX"&&m<=l||this.setState(Di({},i,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,a=n.height,l=n.fill,c=n.stroke;return L.createElement("rect",{stroke:c,fill:l,x:i,y:s,width:o,height:a})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,a=n.height,l=n.data,c=n.children,d=n.padding,p=C.Children.only(c);return p?L.cloneElement(p,{x:i,y:s,width:o,height:a,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,a=this,l=this.props,c=l.y,d=l.travellerWidth,p=l.height,y=l.traveller,m=l.ariaLabel,g=l.data,b=l.startIndex,w=l.endIndex,S=Math.max(n,this.props.x),_=xj(xj({},Ie(this.props,!1)),{},{x:S,y:c,width:d,height:p}),x=m||"Min value: ".concat((s=g[b])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=g[w])===null||o===void 0?void 0:o.name);return L.createElement(yt,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function($){["ArrowLeft","ArrowRight"].includes($.key)&&($.preventDefault(),$.stopPropagation(),a.handleTravellerMoveKeyboard($.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(y,_))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,a=s.height,l=s.stroke,c=s.travellerWidth,d=Math.min(n,i)+c,p=Math.max(Math.abs(i-n)-c,0);return L.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:p,height:a})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,a=n.height,l=n.travellerWidth,c=n.stroke,d=this.state,p=d.startX,y=d.endX,m=5,g={pointerEvents:"none",fill:c};return L.createElement(yt,{className:"recharts-brush-texts"},L.createElement(Ap,L2({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,y)-m,y:o+a/2},g),this.getTextOfTick(i)),L.createElement(Ap,L2({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,y)+l+m,y:o+a/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,a=n.x,l=n.y,c=n.width,d=n.height,p=n.alwaysShowText,y=this.state,m=y.startX,g=y.endX,b=y.isTextActive,w=y.isSlideMoving,S=y.isTravellerMoving,_=y.isTravellerFocused;if(!i||!i.length||!ue(a)||!ue(l)||!ue(c)||!ue(d)||c<=0||d<=0)return null;var x=Ve("recharts-brush",s),O=L.Children.count(o)===1,$=yHe("userSelect","none");return L.createElement(yt,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:$},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(b||w||S||_||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,a=n.height,l=n.stroke,c=Math.floor(s+a/2)-1;return L.createElement(L.Fragment,null,L.createElement("rect",{x:i,y:s,width:o,height:a,fill:l,stroke:"none"}),L.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),L.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return L.isValidElement(n)?s=L.cloneElement(n,i):Ne(n)?s=n(i):s=t.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,a=n.x,l=n.travellerWidth,c=n.updateId,d=n.startIndex,p=n.endIndex;if(s!==i.prevData||c!==i.prevUpdateId)return xj({prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:o},s&&s.length?_He({data:s,width:o,x:a,travellerWidth:l,startIndex:d,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+o-l]);var y=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,a=s-1;a-o>1;){var l=Math.floor((o+a)/2);n[l]>i?a=l:o=l}return i>=n[a]?a:o}}])}(C.PureComponent);Di(My,"displayName","Brush");Di(My,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var $He=ZL;function THe(e,t){var r;return $He(e,function(n,i,s){return r=t(n,i,s),!r}),!!r}var OHe=THe,EHe=Nte,jHe=Ia,AHe=OHe,IHe=Ai,PHe=MT;function kHe(e,t,r){var n=IHe(e)?EHe:AHe;return r&&PHe(e,t,r)&&(t=void 0),n(e,jHe(t))}var CHe=kHe;const NHe=gt(CHe);var Sa=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},xV=rre;function MHe(e,t,r){t=="__proto__"&&xV?xV(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var RHe=MHe,LHe=RHe,DHe=ere,FHe=Ia;function UHe(e,t){var r={};return t=FHe(t),DHe(e,function(n,i,s){LHe(r,i,t(n,i,s))}),r}var zHe=UHe;const BHe=gt(zHe);function VHe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var qHe=VHe,GHe=ZL;function WHe(e,t){var r=!0;return GHe(e,function(n,i,s){return r=!!t(n,i,s),r}),r}var HHe=WHe,JHe=qHe,KHe=HHe,ZHe=Ia,YHe=Ai,QHe=MT;function XHe(e,t,r){var n=YHe(e)?JHe:KHe;return r&&QHe(e,t,r)&&(t=void 0),n(e,ZHe(t))}var eJe=XHe;const Hne=gt(eJe);var tJe=["x","y"];function gb(e){"@babel/helpers - typeof";return gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gb(e)}function uN(){return uN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uN.apply(this,arguments)}function SV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function d0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SV(Object(r),!0).forEach(function(n){rJe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rJe(e,t,r){return t=nJe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nJe(e){var t=iJe(e,"string");return gb(t)=="symbol"?t:t+""}function iJe(e,t){if(gb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sJe(e,t){if(e==null)return{};var r=oJe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oJe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function aJe(e,t){var r=e.x,n=e.y,i=sJe(e,tJe),s="".concat(r),o=parseInt(s,10),a="".concat(n),l=parseInt(a,10),c="".concat(t.height||i.height),d=parseInt(c,10),p="".concat(t.width||i.width),y=parseInt(p,10);return d0(d0(d0(d0(d0({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:y,name:t.name,radius:t.radius})}function _V(e){return L.createElement(Une,uN({shapeType:"rectangle",propTransformer:aJe,activeClassName:"recharts-active-bar"},e))}var lJe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var s=ue(n)||DCe(n);return s?t(n,i):(s||Pp(!1),r)}},uJe=["value","background"],Jne;function Ry(e){"@babel/helpers - typeof";return Ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ry(e)}function cJe(e,t){if(e==null)return{};var r=dJe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dJe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function F2(){return F2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F2.apply(this,arguments)}function $V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$V(Object(r),!0).forEach(function(n){tc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$V(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zne(n.key),n)}}function fJe(e,t,r){return t&&TV(e.prototype,t),r&&TV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hJe(e,t,r){return t=U2(t),yJe(e,Kne()?Reflect.construct(t,r||[],U2(e).constructor):t.apply(e,r))}function yJe(e,t){if(t&&(Ry(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mJe(e)}function mJe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kne(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kne=function(){return!!e})()}function U2(e){return U2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},U2(e)}function gJe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cN(e,t)}function cN(e,t){return cN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cN(e,t)}function tc(e,t,r){return t=Zne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zne(e){var t=vJe(e,"string");return Ry(t)=="symbol"?t:t+""}function vJe(e,t){if(Ry(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ry(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wp=function(e){function t(){var r;pJe(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=hJe(this,t,[].concat(i)),tc(r,"state",{isAnimationFinished:!1}),tc(r,"id",S1("recharts-bar-")),tc(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),tc(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return gJe(t,e),fJe(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,a=s.dataKey,l=s.activeIndex,c=s.activeBar,d=Ie(this.props,!1);return n&&n.map(function(p,y){var m=y===l,g=m?c:o,b=Sr(Sr(Sr({},d),p),{},{isActive:m,option:g,index:y,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return L.createElement(yt,F2({className:"recharts-bar-rectangle"},jp(i.props,p,y),{key:"rectangle-".concat(p?.x,"-").concat(p?.y,"-").concat(p?.value,"-").concat(y)}),L.createElement(_V,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,a=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,p=i.animationId,y=this.state.prevData;return L.createElement(Iy,{begin:l,duration:c,isActive:a,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,b=s.map(function(w,S){var _=y&&y[S];if(_){var x=ku(_.x,w.x),O=ku(_.y,w.y),$=ku(_.width,w.width),T=ku(_.height,w.height);return Sr(Sr({},w),{},{x:x(g),y:O(g),width:$(g),height:T(g)})}if(o==="horizontal"){var j=ku(0,w.height),I=j(g);return Sr(Sr({},w),{},{y:w.y+w.height-I,height:I})}var k=ku(0,w.width),M=k(g);return Sr(Sr({},w),{},{width:M})});return L.createElement(yt,null,n.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!GT(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,a=i.activeIndex,l=Ie(this.props.background,!1);return s.map(function(c,d){c.value;var p=c.background,y=cJe(c,uJe);if(!p)return null;var m=Sr(Sr(Sr(Sr(Sr({},y),{},{fill:"#eee"},p),l),jp(n.props,c,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return L.createElement(_V,F2({key:"background-bar-".concat(d),option:n.props.background,isActive:d===a},m))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,a=s.xAxis,l=s.yAxis,c=s.layout,d=s.children,p=Ps(d,JT);if(!p)return null;var y=c==="vertical"?o[0].height/2:o[0].width/2,m=function(w,S){var _=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:_,errorVal:Fn(w,S)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return L.createElement(yt,g,p.map(function(b){return L.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:o,xAxis:a,yAxis:l,layout:c,offset:y,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,a=n.xAxis,l=n.yAxis,c=n.left,d=n.top,p=n.width,y=n.height,m=n.isAnimationActive,g=n.background,b=n.id;if(i||!s||!s.length)return null;var w=this.state.isAnimationFinished,S=Ve("recharts-bar",o),_=a&&a.allowDataOverflow,x=l&&l.allowDataOverflow,O=_||x,$=Ge(b)?this.id:b;return L.createElement(yt,{className:S},_||x?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat($)},L.createElement("rect",{x:_?c:c-p/2,y:x?d:d-y/2,width:_?p:p*2,height:x?y:y*2}))):null,L.createElement(yt,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat($,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,$),(!m||w)&&hc.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(C.PureComponent);Jne=Wp;tc(Wp,"displayName","Bar");tc(Wp,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Cl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});tc(Wp,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,s=e.xAxis,o=e.yAxis,a=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,d=e.dataStartIndex,p=e.displayedData,y=e.offset,m=Xze(n,r);if(!m)return null;var g=t.layout,b=r.type.defaultProps,w=b!==void 0?Sr(Sr({},b),r.props):r.props,S=w.dataKey,_=w.children,x=w.minPointSize,O=g==="horizontal"?o:s,$=c?O.scale.domain():null,T=oBe({numericAxis:O}),j=Ps(_,Gv),I=p.map(function(k,M){var N,F,G,B,W,Z;c?N=eBe(c[d+M],$):(N=Fn(k,S),Array.isArray(N)||(N=[T,N]));var ee=lJe(x,Jne.defaultProps.minPointSize)(N[1],M);if(g==="horizontal"){var V,Q=[o.scale(N[0]),o.scale(N[1])],se=Q[0],fe=Q[1];F=fB({axis:s,ticks:a,bandSize:i,offset:m.offset,entry:k,index:M}),G=(V=fe??se)!==null&&V!==void 0?V:void 0,B=m.size;var le=se-fe;if(W=Number.isNaN(le)?0:le,Z={x:F,y:o.y,width:B,height:o.height},Math.abs(ee)>0&&Math.abs(W)<Math.abs(ee)){var Oe=Qn(W||ee)*(Math.abs(ee)-Math.abs(W));G-=Oe,W+=Oe}}else{var Ze=[s.scale(N[0]),s.scale(N[1])],Tt=Ze[0],Gt=Ze[1];if(F=Tt,G=fB({axis:o,ticks:l,bandSize:i,offset:m.offset,entry:k,index:M}),B=Gt-Tt,W=m.size,Z={x:s.x,y:G,width:s.width,height:W},Math.abs(ee)>0&&Math.abs(B)<Math.abs(ee)){var si=Qn(B||ee)*(Math.abs(ee)-Math.abs(B));B+=si}}return Sr(Sr(Sr({},k),{},{x:F,y:G,width:B,height:W,value:c?N:N[1],payload:k,background:Z},j&&j[M]&&j[M].props),{},{tooltipPayload:[vne(r,k)],tooltipPosition:{x:F+B/2,y:G+W/2}})});return Sr({data:I,layout:g},y)});function vb(e){"@babel/helpers - typeof";return vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vb(e)}function bJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yne(n.key),n)}}function wJe(e,t,r){return t&&OV(e.prototype,t),r&&OV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function EV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EV(Object(r),!0).forEach(function(n){rO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rO(e,t,r){return t=Yne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yne(e){var t=xJe(e,"string");return vb(t)=="symbol"?t:t+""}function xJe(e,t){if(vb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SJe=function(t,r,n,i,s){var o=t.width,a=t.height,l=t.layout,c=t.children,d=Object.keys(r),p={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:a-n.bottom,bottomMirror:a-n.bottom},y=!!zi(c,Wp);return d.reduce(function(m,g){var b=r[g],w=b.orientation,S=b.domain,_=b.padding,x=_===void 0?{}:_,O=b.mirror,$=b.reversed,T="".concat(w).concat(O?"Mirror":""),j,I,k,M,N;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var F=S[1]-S[0],G=1/0,B=b.categoricalDomain.sort(zCe);if(B.forEach(function(Ze,Tt){Tt>0&&(G=Math.min((Ze||0)-(B[Tt-1]||0),G))}),Number.isFinite(G)){var W=G/F,Z=b.layout==="vertical"?n.height:n.width;if(b.padding==="gap"&&(j=W*Z/2),b.padding==="no-gap"){var ee=Xn(t.barCategoryGap,W*Z),V=W*Z/2;j=V-ee-(V-ee)/Z*ee}}}i==="xAxis"?I=[n.left+(x.left||0)+(j||0),n.left+n.width-(x.right||0)-(j||0)]:i==="yAxis"?I=l==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(j||0),n.top+n.height-(x.bottom||0)-(j||0)]:I=b.range,$&&(I=[I[1],I[0]]);var Q=hne(b,s,y),se=Q.scale,fe=Q.realScaleType;se.domain(S).range(I),yne(se);var le=mne(se,mo(mo({},b),{},{realScaleType:fe}));i==="xAxis"?(N=w==="top"&&!O||w==="bottom"&&O,k=n.left,M=p[T]-N*b.height):i==="yAxis"&&(N=w==="left"&&!O||w==="right"&&O,k=p[T]-N*b.width,M=n.top);var Oe=mo(mo(mo({},b),le),{},{realScaleType:fe,x:k,y:M,scale:se,width:i==="xAxis"?n.width:b.width,height:i==="yAxis"?n.height:b.height});return Oe.bandSize=$2(Oe,le),!b.hide&&i==="xAxis"?p[T]+=(N?-1:1)*Oe.height:b.hide||(p[T]+=(N?-1:1)*Oe.width),mo(mo({},m),{},rO({},g,Oe))},{})},Qne=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},_Je=function(t){var r=t.x1,n=t.y1,i=t.x2,s=t.y2;return Qne({x:r,y:n},{x:i,y:s})},Xne=function(){function e(t){bJe(this,e),this.scale=t}return wJe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(r)+a}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();rO(Xne,"EPS",1e-4);var OD=function(t){var r=Object.keys(t).reduce(function(n,i){return mo(mo({},n),{},rO({},i,Xne.create(t[i])))},{});return mo(mo({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,a=s.position;return BHe(i,function(l,c){return r[c].apply(l,{bandAware:o,position:a})})},isInRange:function(i){return Hne(i,function(s,o){return r[o].isInRange(s)})}})};function $Je(e){return(e%180+180)%180}var TJe=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=$Je(i),o=s*Math.PI/180,a=Math.atan(n/r),l=o>a&&o<Math.PI-a?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},OJe=Ia,EJe=_1,jJe=CT;function AJe(e){return function(t,r,n){var i=Object(t);if(!EJe(t)){var s=OJe(r);t=jJe(t),r=function(a){return s(i[a],a,i)}}var o=e(t,r,n);return o>-1?i[s?t[o]:o]:void 0}}var IJe=AJe,PJe=Vne;function kJe(e){var t=PJe(e),r=t%1;return t===t?r?t-r:t:0}var CJe=kJe,NJe=Jte,MJe=Ia,RJe=CJe,LJe=Math.max;function DJe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:RJe(r);return i<0&&(i=LJe(n+i,0)),NJe(e,MJe(t),i)}var FJe=DJe,UJe=IJe,zJe=FJe,BJe=UJe(zJe),VJe=BJe;const qJe=gt(VJe);var GJe=Bke(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),ED=C.createContext(void 0),jD=C.createContext(void 0),eie=C.createContext(void 0),tie=C.createContext({}),rie=C.createContext(void 0),nie=C.createContext(0),iie=C.createContext(0),jV=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=t.clipPathId,a=t.children,l=t.width,c=t.height,d=GJe(s);return L.createElement(ED.Provider,{value:n},L.createElement(jD.Provider,{value:i},L.createElement(tie.Provider,{value:s},L.createElement(eie.Provider,{value:d},L.createElement(rie.Provider,{value:o},L.createElement(nie.Provider,{value:c},L.createElement(iie.Provider,{value:l},a)))))))},WJe=function(){return C.useContext(rie)},sie=function(t){var r=C.useContext(ED);r==null&&Pp(!1);var n=r[t];return n==null&&Pp(!1),n},HJe=function(){var t=C.useContext(ED);return Bu(t)},JJe=function(){var t=C.useContext(jD),r=qJe(t,function(n){return Hne(n.domain,Number.isFinite)});return r||Bu(t)},oie=function(t){var r=C.useContext(jD);r==null&&Pp(!1);var n=r[t];return n==null&&Pp(!1),n},KJe=function(){var t=C.useContext(eie);return t},ZJe=function(){return C.useContext(tie)},AD=function(){return C.useContext(iie)},ID=function(){return C.useContext(nie)};function Ly(e){"@babel/helpers - typeof";return Ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ly(e)}function YJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lie(n.key),n)}}function QJe(e,t,r){return t&&AV(e.prototype,t),r&&AV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XJe(e,t,r){return t=z2(t),eKe(e,aie()?Reflect.construct(t,r||[],z2(e).constructor):t.apply(e,r))}function eKe(e,t){if(t&&(Ly(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tKe(e)}function tKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aie=function(){return!!e})()}function z2(e){return z2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},z2(e)}function rKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dN(e,t)}function dN(e,t){return dN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dN(e,t)}function IV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function PV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IV(Object(r),!0).forEach(function(n){PD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PD(e,t,r){return t=lie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lie(e){var t=nKe(e,"string");return Ly(t)=="symbol"?t:t+""}function nKe(e,t){if(Ly(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ly(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iKe(e,t){return lKe(e)||aKe(e,t)||oKe(e,t)||sKe()}function sKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oKe(e,t){if(e){if(typeof e=="string")return kV(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kV(e,t)}}function kV(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aKe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function lKe(e){if(Array.isArray(e))return e}function pN(){return pN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pN.apply(this,arguments)}var uKe=function(t,r){var n;return L.isValidElement(t)?n=L.cloneElement(t,r):Ne(t)?n=t(r):n=L.createElement("line",pN({},r,{className:"recharts-reference-line-line"})),n},cKe=function(t,r,n,i,s,o,a,l,c){var d=s.x,p=s.y,y=s.width,m=s.height;if(n){var g=c.y,b=t.y.apply(g,{position:o});if(Sa(c,"discard")&&!t.y.isInRange(b))return null;var w=[{x:d+y,y:b},{x:d,y:b}];return l==="left"?w.reverse():w}if(r){var S=c.x,_=t.x.apply(S,{position:o});if(Sa(c,"discard")&&!t.x.isInRange(_))return null;var x=[{x:_,y:p+m},{x:_,y:p}];return a==="top"?x.reverse():x}if(i){var O=c.segment,$=O.map(function(T){return t.apply(T,{position:o})});return Sa(c,"discard")&&NHe($,function(T){return!t.isInRange(T)})?null:$}return null};function dKe(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,s=e.yAxisId,o=e.shape,a=e.className,l=e.alwaysShow,c=WJe(),d=sie(i),p=oie(s),y=KJe();if(!c||!y)return null;No(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=OD({x:d.scale,y:p.scale}),g=Vr(t),b=Vr(r),w=n&&n.length===2,S=cKe(m,g,b,w,y,e.position,d.orientation,p.orientation,e);if(!S)return null;var _=iKe(S,2),x=_[0],O=x.x,$=x.y,T=_[1],j=T.x,I=T.y,k=Sa(e,"hidden")?"url(#".concat(c,")"):void 0,M=PV(PV({clipPath:k},Ie(e,!0)),{},{x1:O,y1:$,x2:j,y2:I});return L.createElement(yt,{className:Ve("recharts-reference-line",a)},uKe(o,M),rn.renderCallByParent(e,_Je({x1:O,y1:$,x2:j,y2:I})))}var kD=function(e){function t(){return YJe(this,t),XJe(this,t,arguments)}return rKe(t,e),QJe(t,[{key:"render",value:function(){return L.createElement(dKe,this.props)}}])}(L.Component);PD(kD,"displayName","ReferenceLine");PD(kD,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function fN(){return fN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fN.apply(this,arguments)}function Dy(e){"@babel/helpers - typeof";return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dy(e)}function CV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function NV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CV(Object(r),!0).forEach(function(n){nO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cie(n.key),n)}}function fKe(e,t,r){return t&&MV(e.prototype,t),r&&MV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hKe(e,t,r){return t=B2(t),yKe(e,uie()?Reflect.construct(t,r||[],B2(e).constructor):t.apply(e,r))}function yKe(e,t){if(t&&(Dy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mKe(e)}function mKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uie=function(){return!!e})()}function B2(e){return B2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},B2(e)}function gKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hN(e,t)}function hN(e,t){return hN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hN(e,t)}function nO(e,t,r){return t=cie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cie(e){var t=vKe(e,"string");return Dy(t)=="symbol"?t:t+""}function vKe(e,t){if(Dy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bKe=function(t){var r=t.x,n=t.y,i=t.xAxis,s=t.yAxis,o=OD({x:i.scale,y:s.scale}),a=o.apply({x:r,y:n},{bandAware:!0});return Sa(t,"discard")&&!o.isInRange(a)?null:a},iO=function(e){function t(){return pKe(this,t),hKe(this,t,arguments)}return gKe(t,e),fKe(t,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,a=n.alwaysShow,l=n.clipPathId,c=Vr(i),d=Vr(s);if(No(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var p=bKe(this.props);if(!p)return null;var y=p.x,m=p.y,g=this.props,b=g.shape,w=g.className,S=Sa(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=NV(NV({clipPath:S},Ie(this.props,!0)),{},{cx:y,cy:m});return L.createElement(yt,{className:Ve("recharts-reference-dot",w)},t.renderDot(b,_),rn.renderCallByParent(this.props,{x:y-o,y:m-o,width:2*o,height:2*o}))}}])}(L.Component);nO(iO,"displayName","ReferenceDot");nO(iO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});nO(iO,"renderDot",function(e,t){var r;return L.isValidElement(e)?r=L.cloneElement(e,t):Ne(e)?r=e(t):r=L.createElement(TD,fN({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function yN(){return yN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yN.apply(this,arguments)}function Fy(e){"@babel/helpers - typeof";return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fy(e)}function RV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function LV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RV(Object(r),!0).forEach(function(n){sO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pie(n.key),n)}}function xKe(e,t,r){return t&&DV(e.prototype,t),r&&DV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function SKe(e,t,r){return t=V2(t),_Ke(e,die()?Reflect.construct(t,r||[],V2(e).constructor):t.apply(e,r))}function _Ke(e,t){if(t&&(Fy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ke(e)}function $Ke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function die(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(die=function(){return!!e})()}function V2(e){return V2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},V2(e)}function TKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mN(e,t)}function mN(e,t){return mN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mN(e,t)}function sO(e,t,r){return t=pie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pie(e){var t=OKe(e,"string");return Fy(t)=="symbol"?t:t+""}function OKe(e,t){if(Fy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EKe=function(t,r,n,i,s){var o=s.x1,a=s.x2,l=s.y1,c=s.y2,d=s.xAxis,p=s.yAxis;if(!d||!p)return null;var y=OD({x:d.scale,y:p.scale}),m={x:t?y.x.apply(o,{position:"start"}):y.x.rangeMin,y:n?y.y.apply(l,{position:"start"}):y.y.rangeMin},g={x:r?y.x.apply(a,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(c,{position:"end"}):y.y.rangeMax};return Sa(s,"discard")&&(!y.isInRange(m)||!y.isInRange(g))?null:Qne(m,g)},oO=function(e){function t(){return wKe(this,t),SKe(this,t,arguments)}return TKe(t,e),xKe(t,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,a=n.y2,l=n.className,c=n.alwaysShow,d=n.clipPathId;No(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Vr(i),y=Vr(s),m=Vr(o),g=Vr(a),b=this.props.shape;if(!p&&!y&&!m&&!g&&!b)return null;var w=EKe(p,y,m,g,this.props);if(!w&&!b)return null;var S=Sa(this.props,"hidden")?"url(#".concat(d,")"):void 0;return L.createElement(yt,{className:Ve("recharts-reference-area",l)},t.renderRect(b,LV(LV({clipPath:S},Ie(this.props,!0)),w)),rn.renderCallByParent(this.props,w))}}])}(L.Component);sO(oO,"displayName","ReferenceArea");sO(oO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});sO(oO,"renderRect",function(e,t){var r;return L.isValidElement(e)?r=L.cloneElement(e,t):Ne(e)?r=e(t):r=L.createElement($D,yN({},t,{className:"recharts-reference-area-rect"})),r});function fie(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)if(r===void 0||r(e[i])===!0)n.push(e[i]);else return;return n}function jKe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return TJe(n,r)}function AKe(e,t,r){var n=r==="width",i=e.x,s=e.y,o=e.width,a=e.height;return t===1?{start:n?i:s,end:n?i+o:s+a}:{start:n?i+o:s+a,end:n?i:s}}function q2(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function IKe(e,t){return fie(e,t+1)}function PKe(e,t,r,n,i){for(var s=(n||[]).slice(),o=t.start,a=t.end,l=0,c=1,d=o,p=function(){var g=n?.[l];if(g===void 0)return{v:fie(n,c)};var b=l,w,S=function(){return w===void 0&&(w=r(g,b)),w},_=g.coordinate,x=l===0||q2(e,_,S,d,a);x||(l=0,d=o,c+=1),x&&(d=_+e*(S()/2+i),l+=c)},y;c<=s.length;)if(y=p(),y)return y.v;return[]}function bb(e){"@babel/helpers - typeof";return bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bb(e)}function FV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FV(Object(r),!0).forEach(function(n){kKe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kKe(e,t,r){return t=CKe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CKe(e){var t=NKe(e,"string");return bb(t)=="symbol"?t:t+""}function NKe(e,t){if(bb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MKe(e,t,r,n,i){for(var s=(n||[]).slice(),o=s.length,a=t.start,l=t.end,c=function(y){var m=s[y],g,b=function(){return g===void 0&&(g=r(m,y)),g};if(y===o-1){var w=e*(m.coordinate+e*b()/2-l);s[y]=m=jn(jn({},m),{},{tickCoord:w>0?m.coordinate-w*e:m.coordinate})}else s[y]=m=jn(jn({},m),{},{tickCoord:m.coordinate});var S=q2(e,m.tickCoord,b,a,l);S&&(l=m.tickCoord-e*(b()/2+i),s[y]=jn(jn({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)c(d);return s}function RKe(e,t,r,n,i,s){var o=(n||[]).slice(),a=o.length,l=t.start,c=t.end;if(s){var d=n[a-1],p=r(d,a-1),y=e*(d.coordinate+e*p/2-c);o[a-1]=d=jn(jn({},d),{},{tickCoord:y>0?d.coordinate-y*e:d.coordinate});var m=q2(e,d.tickCoord,function(){return p},l,c);m&&(c=d.tickCoord-e*(p/2+i),o[a-1]=jn(jn({},d),{},{isShow:!0}))}for(var g=s?a-1:a,b=function(_){var x=o[_],O,$=function(){return O===void 0&&(O=r(x,_)),O};if(_===0){var T=e*(x.coordinate-e*$()/2-l);o[_]=x=jn(jn({},x),{},{tickCoord:T<0?x.coordinate-T*e:x.coordinate})}else o[_]=x=jn(jn({},x),{},{tickCoord:x.coordinate});var j=q2(e,x.tickCoord,$,l,c);j&&(l=x.tickCoord+e*($()/2+i),o[_]=jn(jn({},x),{},{isShow:!0}))},w=0;w<g;w++)b(w);return o}function CD(e,t,r){var n=e.tick,i=e.ticks,s=e.viewBox,o=e.minTickGap,a=e.orientation,l=e.interval,c=e.tickFormatter,d=e.unit,p=e.angle;if(!i||!i.length||!n)return[];if(ue(l)||Cl.isSsr)return IKe(i,typeof l=="number"&&ue(l)?l:0);var y=[],m=a==="top"||a==="bottom"?"width":"height",g=d&&m==="width"?Gg(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=function(x,O){var $=Ne(c)?c(x.value,O):x.value;return m==="width"?jKe(Gg($,{fontSize:t,letterSpacing:r}),g,p):Gg($,{fontSize:t,letterSpacing:r})[m]},w=i.length>=2?Qn(i[1].coordinate-i[0].coordinate):1,S=AKe(s,w,m);return l==="equidistantPreserveStart"?PKe(w,S,b,i,o):(l==="preserveStart"||l==="preserveStartEnd"?y=RKe(w,S,b,i,o,l==="preserveStartEnd"):y=MKe(w,S,b,i,o),y.filter(function(_){return _.isShow}))}var LKe=["viewBox"],DKe=["viewBox"],FKe=["ticks"];function Uy(e){"@babel/helpers - typeof";return Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uy(e)}function $h(){return $h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$h.apply(this,arguments)}function UV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UV(Object(r),!0).forEach(function(n){ND(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sj(e,t){if(e==null)return{};var r=UKe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UKe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yie(n.key),n)}}function BKe(e,t,r){return t&&zV(e.prototype,t),r&&zV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VKe(e,t,r){return t=G2(t),qKe(e,hie()?Reflect.construct(t,r||[],G2(e).constructor):t.apply(e,r))}function qKe(e,t){if(t&&(Uy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GKe(e)}function GKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hie=function(){return!!e})()}function G2(e){return G2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G2(e)}function WKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gN(e,t)}function gN(e,t){return gN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gN(e,t)}function ND(e,t,r){return t=yie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yie(e){var t=HKe(e,"string");return Uy(t)=="symbol"?t:t+""}function HKe(e,t){if(Uy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jm=function(e){function t(r){var n;return zKe(this,t),n=VKe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return WKe(t,e),BKe(t,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=Sj(n,LKe),a=this.props,l=a.viewBox,c=Sj(a,DKe);return!Hh(s,l)||!Hh(o,c)||!Hh(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,a=i.width,l=i.height,c=i.orientation,d=i.tickSize,p=i.mirror,y=i.tickMargin,m,g,b,w,S,_,x=p?-1:1,O=n.tickSize||d,$=ue(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":m=g=n.coordinate,w=o+ +!p*l,b=w-x*O,_=b-x*y,S=$;break;case"left":b=w=n.coordinate,g=s+ +!p*a,m=g-x*O,S=m-x*y,_=$;break;case"right":b=w=n.coordinate,g=s+ +p*a,m=g+x*O,S=m+x*y,_=$;break;default:m=g=n.coordinate,w=o+ +p*l,b=w+x*O,_=b+x*y,S=$;break}return{line:{x1:m,y1:b,x2:g,y2:w},tick:{x:S,y:_}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,a=n.height,l=n.orientation,c=n.mirror,d=n.axisLine,p=Pr(Pr(Pr({},Ie(this.props,!1)),Ie(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var y=+(l==="top"&&!c||l==="bottom"&&c);p=Pr(Pr({},p),{},{x1:i,y1:s+y*a,x2:i+o,y2:s+y*a})}else{var m=+(l==="left"&&!c||l==="right"&&c);p=Pr(Pr({},p),{},{x1:i+m*o,y1:s,x2:i+m*o,y2:s+a})}return L.createElement("line",$h({},p,{className:Ve("recharts-cartesian-axis-line",Qi(d,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,a=this.props,l=a.tickLine,c=a.stroke,d=a.tick,p=a.tickFormatter,y=a.unit,m=CD(Pr(Pr({},this.props),{},{ticks:n}),i,s),g=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),w=Ie(this.props,!1),S=Ie(d,!1),_=Pr(Pr({},w),{},{fill:"none"},Ie(l,!1)),x=m.map(function(O,$){var T=o.getTickLineCoord(O),j=T.line,I=T.tick,k=Pr(Pr(Pr(Pr({textAnchor:g,verticalAnchor:b},w),{},{stroke:"none",fill:c},S),I),{},{index:$,payload:O,visibleTicksCount:m.length,tickFormatter:p});return L.createElement(yt,$h({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},jp(o.props,O,$)),l&&L.createElement("line",$h({},_,j,{className:Ve("recharts-cartesian-axis-tick-line",Qi(l,"className"))})),d&&t.renderTickItem(d,k,"".concat(Ne(p)?p(O.value,$):O.value).concat(y||"")))});return L.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,a=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var p=this.props,y=p.ticks,m=Sj(p,FKe),g=y;return Ne(l)&&(g=y&&y.length>0?l(this.props):l(m)),o<=0||a<=0||!g||!g.length?null:L.createElement(yt,{className:Ve("recharts-cartesian-axis",c),ref:function(w){n.layerReference=w}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),rn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o,a=Ve(i.className,"recharts-cartesian-axis-tick-value");return L.isValidElement(n)?o=L.cloneElement(n,Pr(Pr({},i),{},{className:a})):Ne(n)?o=n(Pr(Pr({},i),{},{className:a})):o=L.createElement(Ap,$h({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(C.Component);ND(jm,"displayName","CartesianAxis");ND(jm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var JKe=["x1","y1","x2","y2","key"],KKe=["offset"];function kp(e){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kp(e)}function BV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BV(Object(r),!0).forEach(function(n){ZKe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZKe(e,t,r){return t=YKe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YKe(e){var t=QKe(e,"string");return kp(t)=="symbol"?t:t+""}function QKe(e,t){if(kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yd(){return Yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yd.apply(this,arguments)}function VV(e,t){if(e==null)return{};var r=XKe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XKe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var eZe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,s=t.y,o=t.width,a=t.height,l=t.ry;return L.createElement("rect",{x:i,y:s,ry:l,width:o,height:a,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function mie(e,t){var r;if(L.isValidElement(e))r=L.cloneElement(e,t);else if(Ne(e))r=e(t);else{var n=t.x1,i=t.y1,s=t.x2,o=t.y2,a=t.key,l=VV(t,JKe),c=Ie(l,!1);c.offset;var d=VV(c,KKe);r=L.createElement("line",Yd({},d,{x1:n,y1:i,x2:s,y2:o,fill:"none",key:a}))}return r}function tZe(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,s=e.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,l){var c=Rn(Rn({},e),{},{x1:t,y1:a,x2:t+r,y2:a,key:"line-".concat(l),index:l});return mie(i,c)});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function rZe(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,s=e.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,l){var c=Rn(Rn({},e),{},{x1:a,y1:t,x2:a,y2:t+r,key:"line-".concat(l),index:l});return mie(i,c)});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function nZe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,s=e.width,o=e.height,a=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var d=a.map(function(y){return Math.round(y+i-i)}).sort(function(y,m){return y-m});i!==d[0]&&d.unshift(0);var p=d.map(function(y,m){var g=!d[m+1],b=g?i+o-y:d[m+1]-y;if(b<=0)return null;var w=m%t.length;return L.createElement("rect",{key:"react-".concat(m),y,x:n,height:b,width:s,stroke:"none",fill:t[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function iZe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,s=e.x,o=e.y,a=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var d=c.map(function(y){return Math.round(y+s-s)}).sort(function(y,m){return y-m});s!==d[0]&&d.unshift(0);var p=d.map(function(y,m){var g=!d[m+1],b=g?s+a-y:d[m+1]-y;if(b<=0)return null;var w=m%n.length;return L.createElement("rect",{key:"react-".concat(m),x:y,y:o,width:b,height:l,stroke:"none",fill:n[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var sZe=function(t,r){var n=t.xAxis,i=t.width,s=t.height,o=t.offset;return fne(CD(Rn(Rn(Rn({},jm.defaultProps),n),{},{ticks:Al(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,r)},oZe=function(t,r){var n=t.yAxis,i=t.width,s=t.height,o=t.offset;return fne(CD(Rn(Rn(Rn({},jm.defaultProps),n),{},{ticks:Al(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,r)},hf={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function gie(e){var t,r,n,i,s,o,a=AD(),l=ID(),c=ZJe(),d=Rn(Rn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:hf.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:hf.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:hf.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:hf.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:hf.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:hf.verticalFill,x:ue(e.x)?e.x:c.left,y:ue(e.y)?e.y:c.top,width:ue(e.width)?e.width:c.width,height:ue(e.height)?e.height:c.height}),p=d.x,y=d.y,m=d.width,g=d.height,b=d.syncWithTicks,w=d.horizontalValues,S=d.verticalValues,_=HJe(),x=JJe();if(!ue(m)||m<=0||!ue(g)||g<=0||!ue(p)||p!==+p||!ue(y)||y!==+y)return null;var O=d.verticalCoordinatesGenerator||sZe,$=d.horizontalCoordinatesGenerator||oZe,T=d.horizontalPoints,j=d.verticalPoints;if((!T||!T.length)&&Ne($)){var I=w&&w.length,k=$({yAxis:x?Rn(Rn({},x),{},{ticks:I?w:x.ticks}):void 0,width:a,height:l,offset:c},I?!0:b);No(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(kp(k),"]")),Array.isArray(k)&&(T=k)}if((!j||!j.length)&&Ne(O)){var M=S&&S.length,N=O({xAxis:_?Rn(Rn({},_),{},{ticks:M?S:_.ticks}):void 0,width:a,height:l,offset:c},M?!0:b);No(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(kp(N),"]")),Array.isArray(N)&&(j=N)}return L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(eZe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),L.createElement(tZe,Yd({},d,{offset:c,horizontalPoints:T,xAxis:_,yAxis:x})),L.createElement(rZe,Yd({},d,{offset:c,verticalPoints:j,xAxis:_,yAxis:x})),L.createElement(nZe,Yd({},d,{horizontalPoints:T})),L.createElement(iZe,Yd({},d,{verticalPoints:j})))}gie.displayName="CartesianGrid";function zy(e){"@babel/helpers - typeof";return zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zy(e)}function aZe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wie(n.key),n)}}function lZe(e,t,r){return t&&qV(e.prototype,t),r&&qV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uZe(e,t,r){return t=W2(t),cZe(e,vie()?Reflect.construct(t,r||[],W2(e).constructor):t.apply(e,r))}function cZe(e,t){if(t&&(zy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dZe(e)}function dZe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vie=function(){return!!e})()}function W2(e){return W2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},W2(e)}function pZe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vN(e,t)}function vN(e,t){return vN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vN(e,t)}function bie(e,t,r){return t=wie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wie(e){var t=fZe(e,"string");return zy(t)=="symbol"?t:t+""}function fZe(e,t){if(zy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bN(){return bN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bN.apply(this,arguments)}function hZe(e){var t=e.xAxisId,r=AD(),n=ID(),i=sie(t);return i==null?null:C.createElement(jm,bN({},i,{className:Ve("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Al(o,!0)}}))}var aO=function(e){function t(){return aZe(this,t),uZe(this,t,arguments)}return pZe(t,e),lZe(t,[{key:"render",value:function(){return C.createElement(hZe,this.props)}}])}(C.Component);bie(aO,"displayName","XAxis");bie(aO,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function By(e){"@babel/helpers - typeof";return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},By(e)}function yZe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_ie(n.key),n)}}function mZe(e,t,r){return t&&GV(e.prototype,t),r&&GV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gZe(e,t,r){return t=H2(t),vZe(e,xie()?Reflect.construct(t,r||[],H2(e).constructor):t.apply(e,r))}function vZe(e,t){if(t&&(By(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bZe(e)}function bZe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xie=function(){return!!e})()}function H2(e){return H2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},H2(e)}function wZe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wN(e,t)}function wN(e,t){return wN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wN(e,t)}function Sie(e,t,r){return t=_ie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ie(e){var t=xZe(e,"string");return By(t)=="symbol"?t:t+""}function xZe(e,t){if(By(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(By(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xN(){return xN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xN.apply(this,arguments)}var SZe=function(t){var r=t.yAxisId,n=AD(),i=ID(),s=oie(r);return s==null?null:C.createElement(jm,xN({},s,{className:Ve("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(a){return Al(a,!0)}}))},lO=function(e){function t(){return yZe(this,t),gZe(this,t,arguments)}return wZe(t,e),mZe(t,[{key:"render",value:function(){return C.createElement(SZe,this.props)}}])}(C.Component);Sie(lO,"displayName","YAxis");Sie(lO,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function WV(e){return OZe(e)||TZe(e)||$Ze(e)||_Ze()}function _Ze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ze(e,t){if(e){if(typeof e=="string")return SN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SN(e,t)}}function TZe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function OZe(e){if(Array.isArray(e))return SN(e)}function SN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _N=function(t,r,n,i,s){var o=Ps(t,kD),a=Ps(t,iO),l=[].concat(WV(o),WV(a)),c=Ps(t,oO),d="".concat(i,"Id"),p=i[0],y=r;if(l.length&&(y=l.reduce(function(b,w){if(w.props[d]===n&&Sa(w.props,"extendDomain")&&ue(w.props[p])){var S=w.props[p];return[Math.min(b[0],S),Math.max(b[1],S)]}return b},y)),c.length){var m="".concat(p,"1"),g="".concat(p,"2");y=c.reduce(function(b,w){if(w.props[d]===n&&Sa(w.props,"extendDomain")&&ue(w.props[m])&&ue(w.props[g])){var S=w.props[m],_=w.props[g];return[Math.min(b[0],S,_),Math.max(b[1],S,_)]}return b},y)}return s&&s.length&&(y=s.reduce(function(b,w){return ue(w)?[Math.min(b[0],w),Math.max(b[1],w)]:b},y)),y},$ie={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function s(l,c,d,p,y){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,p||l,y),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,p;if(this._eventsCount===0)return c;for(p in d=this._events)t.call(d,p)&&c.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=r?r+c:c,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,m=p.length,g=new Array(m);y<m;y++)g[y]=p[y].fn;return g},a.prototype.listenerCount=function(c){var d=r?r+c:c,p=this._events[d];return p?p.fn?1:p.length:0},a.prototype.emit=function(c,d,p,y,m,g){var b=r?r+c:c;if(!this._events[b])return!1;var w=this._events[b],S=arguments.length,_,x;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),S){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,p),!0;case 4:return w.fn.call(w.context,d,p,y),!0;case 5:return w.fn.call(w.context,d,p,y,m),!0;case 6:return w.fn.call(w.context,d,p,y,m,g),!0}for(x=1,_=new Array(S-1);x<S;x++)_[x-1]=arguments[x];w.fn.apply(w.context,_)}else{var O=w.length,$;for(x=0;x<O;x++)switch(w[x].once&&this.removeListener(c,w[x].fn,void 0,!0),S){case 1:w[x].fn.call(w[x].context);break;case 2:w[x].fn.call(w[x].context,d);break;case 3:w[x].fn.call(w[x].context,d,p);break;case 4:w[x].fn.call(w[x].context,d,p,y);break;default:if(!_)for($=1,_=new Array(S-1);$<S;$++)_[$-1]=arguments[$];w[x].fn.apply(w[x].context,_)}}return!0},a.prototype.on=function(c,d,p){return s(this,c,d,p,!1)},a.prototype.once=function(c,d,p){return s(this,c,d,p,!0)},a.prototype.removeListener=function(c,d,p,y){var m=r?r+c:c;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!y||g.once)&&(!p||g.context===p)&&o(this,m);else{for(var b=0,w=[],S=g.length;b<S;b++)(g[b].fn!==d||y&&!g[b].once||p&&g[b].context!==p)&&w.push(g[b]);w.length?this._events[m]=w.length===1?w[0]:w:o(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a})($ie);var EZe=$ie.exports;const jZe=gt(EZe);var _j=new jZe,$j="recharts.syncMouseEvents";function wb(e){"@babel/helpers - typeof";return wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wb(e)}function AZe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Tie(n.key),n)}}function IZe(e,t,r){return t&&HV(e.prototype,t),r&&HV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tj(e,t,r){return t=Tie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tie(e){var t=PZe(e,"string");return wb(t)=="symbol"?t:t+""}function PZe(e,t){if(wb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kZe=function(){function e(){AZe(this,e),Tj(this,"activeIndex",0),Tj(this,"coordinateList",[]),Tj(this,"layout","horizontal")}return IZe(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,a=o===void 0?null:o,l=r.layout,c=l===void 0?null:l,d=r.offset,p=d===void 0?null:d,y=r.mouseHandlerCallback,m=y===void 0?null:y;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=a??this.container,this.layout=c??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=s+l+c,y=o+this.offset.top+a/2+d;this.mouseHandlerCallback({pageX:p,pageY:y})}}}])}();function CZe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],i=e?.[1];if(n&&i&&ue(n)&&ue(i))return!0}return!1}function NZe(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Oie(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,s=e.endAngle,o=Ct(t,r,n,i),a=Ct(t,r,n,s);return{points:[o,a],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function MZe(e,t,r){var n,i,s,o;if(e==="horizontal")n=t.x,s=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var a=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,p=t.angle,y=Ct(a,l,c,p),m=Ct(a,l,d,p);n=y.x,i=y.y,s=m.x,o=m.y}else return Oie(t);return[{x:n,y:i},{x:s,y:o}]}function xb(e){"@babel/helpers - typeof";return xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xb(e)}function JV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ex(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JV(Object(r),!0).forEach(function(n){RZe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RZe(e,t,r){return t=LZe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LZe(e){var t=DZe(e,"string");return xb(t)=="symbol"?t:t+""}function DZe(e,t){if(xb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FZe(e){var t,r,n=e.element,i=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,a=e.activePayload,l=e.offset,c=e.activeTooltipIndex,d=e.tooltipAxisBandSize,p=e.layout,y=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!s||!o||y!=="ScatterChart"&&i!=="axis")return null;var g,b=W3;if(y==="ScatterChart")g=o,b=SGe;else if(y==="BarChart")g=NZe(p,o,l,d),b=$D;else if(p==="radial"){var w=Oie(o),S=w.cx,_=w.cy,x=w.radius,O=w.startAngle,$=w.endAngle;g={cx:S,cy:_,startAngle:O,endAngle:$,innerRadius:x,outerRadius:x},b=$ne}else g={points:MZe(p,o,l)},b=W3;var T=ex(ex(ex(ex({stroke:"#ccc",pointerEvents:"none"},l),g),Ie(m,!1)),{},{payload:a,payloadIndex:c,className:Ve("recharts-tooltip-cursor",m.className)});return C.isValidElement(m)?C.cloneElement(m,T):C.createElement(b,T)}var UZe=["item"],zZe=["children","className","width","height","style","compact","title","desc"];function Vy(e){"@babel/helpers - typeof";return Vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vy(e)}function Th(){return Th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Th.apply(this,arguments)}function KV(e,t){return qZe(e)||VZe(e,t)||jie(e,t)||BZe()}function BZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VZe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function qZe(e){if(Array.isArray(e))return e}function ZV(e,t){if(e==null)return{};var r=GZe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GZe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function WZe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Aie(n.key),n)}}function HZe(e,t,r){return t&&YV(e.prototype,t),r&&YV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JZe(e,t,r){return t=J2(t),KZe(e,Eie()?Reflect.construct(t,r||[],J2(e).constructor):t.apply(e,r))}function KZe(e,t){if(t&&(Vy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZZe(e)}function ZZe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Eie=function(){return!!e})()}function J2(e){return J2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},J2(e)}function YZe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$N(e,t)}function $N(e,t){return $N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$N(e,t)}function qy(e){return eYe(e)||XZe(e)||jie(e)||QZe()}function QZe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jie(e,t){if(e){if(typeof e=="string")return TN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TN(e,t)}}function XZe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eYe(e){if(Array.isArray(e))return TN(e)}function TN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QV(Object(r),!0).forEach(function(n){je(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function je(e,t,r){return t=Aie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aie(e){var t=tYe(e,"string");return Vy(t)=="symbol"?t:t+""}function tYe(e,t){if(Vy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rYe={xAxis:["bottom","top"],yAxis:["left","right"]},nYe={width:"100%",height:"100%"},Iie={x:0,y:0};function tx(e){return e}var iYe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},sYe=function(t,r,n,i){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,a=i.radius;return Y(Y(Y({},i),Ct(i.cx,i.cy,a,o)),{},{angle:o,radius:a})}var l=s.coordinate,c=i.angle;return Y(Y(Y({},i),Ct(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return Iie},uO=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(a,l){var c=l.props.data;return c&&c.length?[].concat(qy(a),qy(c)):a},[]);return o.length>0?o:t&&t.length&&ue(i)&&ue(s)?t.slice(i,s+1):[]};function Pie(e){return e==="number"?[0,"auto"]:void 0}var ON=function(t,r,n,i){var s=t.graphicalItems,o=t.tooltipAxis,a=uO(r,t);return n<0||!s||!s.length||n>=a.length?null:s.reduce(function(l,c){var d,p=(d=c.props.data)!==null&&d!==void 0?d:r;p&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(p=p.slice(t.dataStartIndex,t.dataEndIndex+1));var y;if(o.dataKey&&!o.allowDuplicatedCategory){var m=p===void 0?a:p;y=e3(m,o.dataKey,i)}else y=p&&p[n]||a[n];return y?[].concat(qy(l),[vne(c,y)]):l},[])},XV=function(t,r,n,i){var s=i||{x:t.chartX,y:t.chartY},o=iYe(s,n),a=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,d=Hze(o,a,c,l);if(d>=0&&c){var p=c[d]&&c[d].value,y=ON(t,r,d,p),m=sYe(n,a,d,s);return{activeTooltipIndex:d,activeLabel:p,activePayload:y,activeCoordinate:m}}return null},oYe=function(t,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,a=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=t.layout,p=t.children,y=t.stackOffset,m=pne(d,s);return n.reduce(function(g,b){var w,S=b.type.defaultProps!==void 0?Y(Y({},b.type.defaultProps),b.props):b.props,_=S.type,x=S.dataKey,O=S.allowDataOverflow,$=S.allowDuplicatedCategory,T=S.scale,j=S.ticks,I=S.includeHidden,k=S[o];if(g[k])return g;var M=uO(t.data,{graphicalItems:i.filter(function(le){var Oe,Ze=o in le.props?le.props[o]:(Oe=le.type.defaultProps)===null||Oe===void 0?void 0:Oe[o];return Ze===k}),dataStartIndex:l,dataEndIndex:c}),N=M.length,F,G,B;CZe(S.domain,O,_)&&(F=z3(S.domain,null,O),m&&(_==="number"||T!=="auto")&&(B=Hg(M,x,"category")));var W=Pie(_);if(!F||F.length===0){var Z,ee=(Z=S.domain)!==null&&Z!==void 0?Z:W;if(x){if(F=Hg(M,x,_),_==="category"&&m){var V=UCe(F);$&&V?(G=F,F=R2(0,N)):$||(F=mB(ee,F,b).reduce(function(le,Oe){return le.indexOf(Oe)>=0?le:[].concat(qy(le),[Oe])},[]))}else if(_==="category")$?F=F.filter(function(le){return le!==""&&!Ge(le)}):F=mB(ee,F,b).reduce(function(le,Oe){return le.indexOf(Oe)>=0||Oe===""||Ge(Oe)?le:[].concat(qy(le),[Oe])},[]);else if(_==="number"){var Q=Qze(M,i.filter(function(le){var Oe,Ze,Tt=o in le.props?le.props[o]:(Oe=le.type.defaultProps)===null||Oe===void 0?void 0:Oe[o],Gt="hide"in le.props?le.props.hide:(Ze=le.type.defaultProps)===null||Ze===void 0?void 0:Ze.hide;return Tt===k&&(I||!Gt)}),x,s,d);Q&&(F=Q)}m&&(_==="number"||T!=="auto")&&(B=Hg(M,x,"category"))}else m?F=R2(0,N):a&&a[k]&&a[k].hasStack&&_==="number"?F=y==="expand"?[0,1]:gne(a[k].stackGroups,l,c):F=dne(M,i.filter(function(le){var Oe=o in le.props?le.props[o]:le.type.defaultProps[o],Ze="hide"in le.props?le.props.hide:le.type.defaultProps.hide;return Oe===k&&(I||!Ze)}),_,d,!0);if(_==="number")F=_N(p,F,k,s,j),ee&&(F=z3(ee,F,O));else if(_==="category"&&ee){var se=ee,fe=F.every(function(le){return se.indexOf(le)>=0});fe&&(F=se)}}return Y(Y({},g),{},je({},k,Y(Y({},S),{},{axisType:s,domain:F,categoricalDomain:B,duplicateDomain:G,originalDomain:(w=S.domain)!==null&&w!==void 0?w:W,isCategorical:m,layout:d})))},{})},aYe=function(t,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,a=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=t.layout,p=t.children,y=uO(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),m=y.length,g=pne(d,s),b=-1;return n.reduce(function(w,S){var _=S.type.defaultProps!==void 0?Y(Y({},S.type.defaultProps),S.props):S.props,x=_[o],O=Pie("number");if(!w[x]){b++;var $;return g?$=R2(0,m):a&&a[x]&&a[x].hasStack?($=gne(a[x].stackGroups,l,c),$=_N(p,$,x,s)):($=z3(O,dne(y,n.filter(function(T){var j,I,k=o in T.props?T.props[o]:(j=T.type.defaultProps)===null||j===void 0?void 0:j[o],M="hide"in T.props?T.props.hide:(I=T.type.defaultProps)===null||I===void 0?void 0:I.hide;return k===x&&!M}),"number",d),i.defaultProps.allowDataOverflow),$=_N(p,$,x,s)),Y(Y({},w),{},je({},x,Y(Y({axisType:s},i.defaultProps),{},{hide:!0,orientation:Qi(rYe,"".concat(s,".").concat(b%2),null),domain:$,originalDomain:O,isCategorical:g,layout:d})))}return w},{})},lYe=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,a=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=t.children,p="".concat(i,"Id"),y=Ps(d,s),m={};return y&&y.length?m=oYe(t,{axes:y,graphicalItems:o,axisType:i,axisIdKey:p,stackGroups:a,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(m=aYe(t,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:p,stackGroups:a,dataStartIndex:l,dataEndIndex:c})),m},uYe=function(t){var r=Bu(t),n=Al(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:YL(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:$2(r,n)}},eq=function(t){var r=t.children,n=t.defaultShowTooltip,i=zi(r,My),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},cYe=function(t){return!t||!t.length?!1:t.some(function(r){var n=kl(r&&r.type);return n&&n.indexOf("Bar")>=0})},tq=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},dYe=function(t,r){var n=t.props,i=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,a=t.yAxisMap,l=a===void 0?{}:a,c=n.width,d=n.height,p=n.children,y=n.margin||{},m=zi(p,My),g=zi(p,ip),b=Object.keys(l).reduce(function($,T){var j=l[T],I=j.orientation;return!j.mirror&&!j.hide?Y(Y({},$),{},je({},I,$[I]+j.width)):$},{left:y.left||0,right:y.right||0}),w=Object.keys(o).reduce(function($,T){var j=o[T],I=j.orientation;return!j.mirror&&!j.hide?Y(Y({},$),{},je({},I,Qi($,"".concat(I))+j.height)):$},{top:y.top||0,bottom:y.bottom||0}),S=Y(Y({},w),b),_=S.bottom;m&&(S.bottom+=m.props.height||My.defaultProps.height),g&&r&&(S=Zze(S,i,n,r));var x=c-S.left-S.right,O=d-S.top-S.bottom;return Y(Y({brushBottom:_},S),{},{width:Math.max(x,0),height:Math.max(O,0)})},pYe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},kie=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,s=i===void 0?"axis":i,o=t.validateTooltipEventTypes,a=o===void 0?["axis"]:o,l=t.axisComponents,c=t.legendContent,d=t.formatAxisMap,p=t.defaultProps,y=function(S,_){var x=_.graphicalItems,O=_.stackGroups,$=_.offset,T=_.updateId,j=_.dataStartIndex,I=_.dataEndIndex,k=S.barSize,M=S.layout,N=S.barGap,F=S.barCategoryGap,G=S.maxBarSize,B=tq(M),W=B.numericAxisName,Z=B.cateAxisName,ee=cYe(x),V=[];return x.forEach(function(Q,se){var fe=uO(S.data,{graphicalItems:[Q],dataStartIndex:j,dataEndIndex:I}),le=Q.type.defaultProps!==void 0?Y(Y({},Q.type.defaultProps),Q.props):Q.props,Oe=le.dataKey,Ze=le.maxBarSize,Tt=le["".concat(W,"Id")],Gt=le["".concat(Z,"Id")],si={},yn=l.reduce(function(gn,ka){var Am=_["".concat(ka.axisType,"Map")],j1=le["".concat(ka.axisType,"Id")];Am&&Am[j1]||ka.axisType==="zAxis"||Pp(!1);var A1=Am[j1];return Y(Y({},gn),{},je(je({},ka.axisType,A1),"".concat(ka.axisType,"Ticks"),Al(A1)))},si),me=yn[Z],De=yn["".concat(Z,"Ticks")],Ue=O&&O[Tt]&&O[Tt].hasStack&&aBe(Q,O[Tt].stackGroups),ne=kl(Q.type).indexOf("Bar")>=0,zt=$2(me,De),Ye=[],ar=ee&&Jze({barSize:k,stackGroups:O,totalSize:pYe(yn,Z)});if(ne){var lr,mn,zo=Ge(Ze)?G:Ze,Pa=(lr=(mn=$2(me,De,!0))!==null&&mn!==void 0?mn:zo)!==null&&lr!==void 0?lr:0;Ye=Kze({barGap:N,barCategoryGap:F,bandSize:Pa!==zt?Pa:zt,sizeList:ar[Gt],maxBarSize:zo}),Pa!==zt&&(Ye=Ye.map(function(gn){return Y(Y({},gn),{},{position:Y(Y({},gn.position),{},{offset:gn.position.offset-Pa/2})})}))}var zc=Q&&Q.type&&Q.type.getComposedData;zc&&V.push({props:Y(Y({},zc(Y(Y({},yn),{},{displayedData:fe,props:S,dataKey:Oe,item:Q,bandSize:zt,barPosition:Ye,offset:$,stackedData:Ue,layout:M,dataStartIndex:j,dataEndIndex:I}))),{},je(je(je({key:Q.key||"item-".concat(se)},W,yn[W]),Z,yn[Z]),"animationId",T)),childIndex:QCe(Q,S.children),item:Q})}),V},m=function(S,_){var x=S.props,O=S.dataStartIndex,$=S.dataEndIndex,T=S.updateId;if(!o7({props:x}))return null;var j=x.children,I=x.layout,k=x.stackOffset,M=x.data,N=x.reverseStackOrder,F=tq(I),G=F.numericAxisName,B=F.cateAxisName,W=Ps(j,n),Z=sBe(M,W,"".concat(G,"Id"),"".concat(B,"Id"),k,N),ee=l.reduce(function(le,Oe){var Ze="".concat(Oe.axisType,"Map");return Y(Y({},le),{},je({},Ze,lYe(x,Y(Y({},Oe),{},{graphicalItems:W,stackGroups:Oe.axisType===G&&Z,dataStartIndex:O,dataEndIndex:$}))))},{}),V=dYe(Y(Y({},ee),{},{props:x,graphicalItems:W}),_?.legendBBox);Object.keys(ee).forEach(function(le){ee[le]=d(x,ee[le],V,le.replace("Map",""),r)});var Q=ee["".concat(B,"Map")],se=uYe(Q),fe=y(x,Y(Y({},ee),{},{dataStartIndex:O,dataEndIndex:$,updateId:T,graphicalItems:W,stackGroups:Z,offset:V}));return Y(Y({formattedGraphicalItems:fe,graphicalItems:W,offset:V,stackGroups:Z},se),ee)},g=function(w){function S(_){var x,O,$;return WZe(this,S),$=JZe(this,S,[_]),je($,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),je($,"accessibilityManager",new kZe),je($,"handleLegendBBoxUpdate",function(T){if(T){var j=$.state,I=j.dataStartIndex,k=j.dataEndIndex,M=j.updateId;$.setState(Y({legendBBox:T},m({props:$.props,dataStartIndex:I,dataEndIndex:k,updateId:M},Y(Y({},$.state),{},{legendBBox:T}))))}}),je($,"handleReceiveSyncEvent",function(T,j,I){if($.props.syncId===T){if(I===$.eventEmitterSymbol&&typeof $.props.syncMethod!="function")return;$.applySyncEvent(j)}}),je($,"handleBrushChange",function(T){var j=T.startIndex,I=T.endIndex;if(j!==$.state.dataStartIndex||I!==$.state.dataEndIndex){var k=$.state.updateId;$.setState(function(){return Y({dataStartIndex:j,dataEndIndex:I},m({props:$.props,dataStartIndex:j,dataEndIndex:I,updateId:k},$.state))}),$.triggerSyncEvent({dataStartIndex:j,dataEndIndex:I})}}),je($,"handleMouseEnter",function(T){var j=$.getMouseInfo(T);if(j){var I=Y(Y({},j),{},{isTooltipActive:!0});$.setState(I),$.triggerSyncEvent(I);var k=$.props.onMouseEnter;Ne(k)&&k(I,T)}}),je($,"triggeredAfterMouseMove",function(T){var j=$.getMouseInfo(T),I=j?Y(Y({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};$.setState(I),$.triggerSyncEvent(I);var k=$.props.onMouseMove;Ne(k)&&k(I,T)}),je($,"handleItemMouseEnter",function(T){$.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),je($,"handleItemMouseLeave",function(){$.setState(function(){return{isTooltipActive:!1}})}),je($,"handleMouseMove",function(T){T.persist(),$.throttleTriggeredAfterMouseMove(T)}),je($,"handleMouseLeave",function(T){$.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};$.setState(j),$.triggerSyncEvent(j);var I=$.props.onMouseLeave;Ne(I)&&I(j,T)}),je($,"handleOuterEvent",function(T){var j=YCe(T),I=Qi($.props,"".concat(j));if(j&&Ne(I)){var k,M;/.*touch.*/i.test(j)?M=$.getMouseInfo(T.changedTouches[0]):M=$.getMouseInfo(T),I((k=M)!==null&&k!==void 0?k:{},T)}}),je($,"handleClick",function(T){var j=$.getMouseInfo(T);if(j){var I=Y(Y({},j),{},{isTooltipActive:!0});$.setState(I),$.triggerSyncEvent(I);var k=$.props.onClick;Ne(k)&&k(I,T)}}),je($,"handleMouseDown",function(T){var j=$.props.onMouseDown;if(Ne(j)){var I=$.getMouseInfo(T);j(I,T)}}),je($,"handleMouseUp",function(T){var j=$.props.onMouseUp;if(Ne(j)){var I=$.getMouseInfo(T);j(I,T)}}),je($,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&$.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),je($,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&$.handleMouseDown(T.changedTouches[0])}),je($,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&$.handleMouseUp(T.changedTouches[0])}),je($,"handleDoubleClick",function(T){var j=$.props.onDoubleClick;if(Ne(j)){var I=$.getMouseInfo(T);j(I,T)}}),je($,"handleContextMenu",function(T){var j=$.props.onContextMenu;if(Ne(j)){var I=$.getMouseInfo(T);j(I,T)}}),je($,"triggerSyncEvent",function(T){$.props.syncId!==void 0&&_j.emit($j,$.props.syncId,T,$.eventEmitterSymbol)}),je($,"applySyncEvent",function(T){var j=$.props,I=j.layout,k=j.syncMethod,M=$.state.updateId,N=T.dataStartIndex,F=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)$.setState(Y({dataStartIndex:N,dataEndIndex:F},m({props:$.props,dataStartIndex:N,dataEndIndex:F,updateId:M},$.state)));else if(T.activeTooltipIndex!==void 0){var G=T.chartX,B=T.chartY,W=T.activeTooltipIndex,Z=$.state,ee=Z.offset,V=Z.tooltipTicks;if(!ee)return;if(typeof k=="function")W=k(V,T);else if(k==="value"){W=-1;for(var Q=0;Q<V.length;Q++)if(V[Q].value===T.activeLabel){W=Q;break}}var se=Y(Y({},ee),{},{x:ee.left,y:ee.top}),fe=Math.min(G,se.x+se.width),le=Math.min(B,se.y+se.height),Oe=V[W]&&V[W].value,Ze=ON($.state,$.props.data,W),Tt=V[W]?{x:I==="horizontal"?V[W].coordinate:fe,y:I==="horizontal"?le:V[W].coordinate}:Iie;$.setState(Y(Y({},T),{},{activeLabel:Oe,activeCoordinate:Tt,activePayload:Ze,activeTooltipIndex:W}))}else $.setState(T)}),je($,"renderCursor",function(T){var j,I=$.state,k=I.isTooltipActive,M=I.activeCoordinate,N=I.activePayload,F=I.offset,G=I.activeTooltipIndex,B=I.tooltipAxisBandSize,W=$.getTooltipEventType(),Z=(j=T.props.active)!==null&&j!==void 0?j:k,ee=$.props.layout,V=T.key||"_recharts-cursor";return L.createElement(FZe,{key:V,activeCoordinate:M,activePayload:N,activeTooltipIndex:G,chartName:r,element:T,isActive:Z,layout:ee,offset:F,tooltipAxisBandSize:B,tooltipEventType:W})}),je($,"renderPolarAxis",function(T,j,I){var k=Qi(T,"type.axisType"),M=Qi($.state,"".concat(k,"Map")),N=T.type.defaultProps,F=N!==void 0?Y(Y({},N),T.props):T.props,G=M&&M[F["".concat(k,"Id")]];return C.cloneElement(T,Y(Y({},G),{},{className:Ve(k,G.className),key:T.key||"".concat(j,"-").concat(I),ticks:Al(G,!0)}))}),je($,"renderPolarGrid",function(T){var j=T.props,I=j.radialLines,k=j.polarAngles,M=j.polarRadius,N=$.state,F=N.radiusAxisMap,G=N.angleAxisMap,B=Bu(F),W=Bu(G),Z=W.cx,ee=W.cy,V=W.innerRadius,Q=W.outerRadius;return C.cloneElement(T,{polarAngles:Array.isArray(k)?k:Al(W,!0).map(function(se){return se.coordinate}),polarRadius:Array.isArray(M)?M:Al(B,!0).map(function(se){return se.coordinate}),cx:Z,cy:ee,innerRadius:V,outerRadius:Q,key:T.key||"polar-grid",radialLines:I})}),je($,"renderLegend",function(){var T=$.state.formattedGraphicalItems,j=$.props,I=j.children,k=j.width,M=j.height,N=$.props.margin||{},F=k-(N.left||0)-(N.right||0),G=une({children:I,formattedGraphicalItems:T,legendWidth:F,legendContent:c});if(!G)return null;var B=G.item,W=ZV(G,UZe);return C.cloneElement(B,Y(Y({},W),{},{chartWidth:k,chartHeight:M,margin:N,onBBoxUpdate:$.handleLegendBBoxUpdate}))}),je($,"renderTooltip",function(){var T,j=$.props,I=j.children,k=j.accessibilityLayer,M=zi(I,gs);if(!M)return null;var N=$.state,F=N.isTooltipActive,G=N.activeCoordinate,B=N.activePayload,W=N.activeLabel,Z=N.offset,ee=(T=M.props.active)!==null&&T!==void 0?T:F;return C.cloneElement(M,{viewBox:Y(Y({},Z),{},{x:Z.left,y:Z.top}),active:ee,label:W,payload:ee?B:[],coordinate:G,accessibilityLayer:k})}),je($,"renderBrush",function(T){var j=$.props,I=j.margin,k=j.data,M=$.state,N=M.offset,F=M.dataStartIndex,G=M.dataEndIndex,B=M.updateId;return C.cloneElement(T,{key:T.key||"_recharts-brush",onChange:Zw($.handleBrushChange,T.props.onChange),data:k,x:ue(T.props.x)?T.props.x:N.left,y:ue(T.props.y)?T.props.y:N.top+N.height+N.brushBottom-(I.bottom||0),width:ue(T.props.width)?T.props.width:N.width,startIndex:F,endIndex:G,updateId:"brush-".concat(B)})}),je($,"renderReferenceElement",function(T,j,I){if(!T)return null;var k=$,M=k.clipPathId,N=$.state,F=N.xAxisMap,G=N.yAxisMap,B=N.offset,W=T.type.defaultProps||{},Z=T.props,ee=Z.xAxisId,V=ee===void 0?W.xAxisId:ee,Q=Z.yAxisId,se=Q===void 0?W.yAxisId:Q;return C.cloneElement(T,{key:T.key||"".concat(j,"-").concat(I),xAxis:F[V],yAxis:G[se],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:M})}),je($,"renderActivePoints",function(T){var j=T.item,I=T.activePoint,k=T.basePoint,M=T.childIndex,N=T.isRange,F=[],G=j.props.key,B=j.item.type.defaultProps!==void 0?Y(Y({},j.item.type.defaultProps),j.item.props):j.item.props,W=B.activeDot,Z=B.dataKey,ee=Y(Y({index:M,dataKey:Z,cx:I.x,cy:I.y,r:4,fill:_D(j.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},Ie(W,!1)),Y_(W));return F.push(S.renderActiveDot(W,ee,"".concat(G,"-activePoint-").concat(M))),k?F.push(S.renderActiveDot(W,Y(Y({},ee),{},{cx:k.x,cy:k.y}),"".concat(G,"-basePoint-").concat(M))):N&&F.push(null),F}),je($,"renderGraphicChild",function(T,j,I){var k=$.filterFormatItem(T,j,I);if(!k)return null;var M=$.getTooltipEventType(),N=$.state,F=N.isTooltipActive,G=N.tooltipAxis,B=N.activeTooltipIndex,W=N.activeLabel,Z=$.props.children,ee=zi(Z,gs),V=k.props,Q=V.points,se=V.isRange,fe=V.baseLine,le=k.item.type.defaultProps!==void 0?Y(Y({},k.item.type.defaultProps),k.item.props):k.item.props,Oe=le.activeDot,Ze=le.hide,Tt=le.activeBar,Gt=le.activeShape,si=!!(!Ze&&F&&ee&&(Oe||Tt||Gt)),yn={};M!=="axis"&&ee&&ee.props.trigger==="click"?yn={onClick:Zw($.handleItemMouseEnter,T.props.onClick)}:M!=="axis"&&(yn={onMouseLeave:Zw($.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:Zw($.handleItemMouseEnter,T.props.onMouseEnter)});var me=C.cloneElement(T,Y(Y({},k.props),yn));function De(ka){return typeof G.dataKey=="function"?G.dataKey(ka.payload):null}if(si)if(B>=0){var Ue,ne;if(G.dataKey&&!G.allowDuplicatedCategory){var zt=typeof G.dataKey=="function"?De:"payload.".concat(G.dataKey.toString());Ue=e3(Q,zt,W),ne=se&&fe&&e3(fe,zt,W)}else Ue=Q?.[B],ne=se&&fe&&fe[B];if(Gt||Tt){var Ye=T.props.activeIndex!==void 0?T.props.activeIndex:B;return[C.cloneElement(T,Y(Y(Y({},k.props),yn),{},{activeIndex:Ye})),null,null]}if(!Ge(Ue))return[me].concat(qy($.renderActivePoints({item:k,activePoint:Ue,basePoint:ne,childIndex:B,isRange:se})))}else{var ar,lr=(ar=$.getItemByXY($.state.activeCoordinate))!==null&&ar!==void 0?ar:{graphicalItem:me},mn=lr.graphicalItem,zo=mn.item,Pa=zo===void 0?T:zo,zc=mn.childIndex,gn=Y(Y(Y({},k.props),yn),{},{activeIndex:zc});return[C.cloneElement(Pa,gn),null,null]}return se?[me,null,null]:[me,null]}),je($,"renderCustomized",function(T,j,I){return C.cloneElement(T,Y(Y({key:"recharts-customized-".concat(I)},$.props),$.state))}),je($,"renderMap",{CartesianGrid:{handler:tx,once:!0},ReferenceArea:{handler:$.renderReferenceElement},ReferenceLine:{handler:tx},ReferenceDot:{handler:$.renderReferenceElement},XAxis:{handler:tx},YAxis:{handler:tx},Brush:{handler:$.renderBrush,once:!0},Bar:{handler:$.renderGraphicChild},Line:{handler:$.renderGraphicChild},Area:{handler:$.renderGraphicChild},Radar:{handler:$.renderGraphicChild},RadialBar:{handler:$.renderGraphicChild},Scatter:{handler:$.renderGraphicChild},Pie:{handler:$.renderGraphicChild},Funnel:{handler:$.renderGraphicChild},Tooltip:{handler:$.renderCursor,once:!0},PolarGrid:{handler:$.renderPolarGrid,once:!0},PolarAngleAxis:{handler:$.renderPolarAxis},PolarRadiusAxis:{handler:$.renderPolarAxis},Customized:{handler:$.renderCustomized}}),$.clipPathId="".concat((x=_.id)!==null&&x!==void 0?x:S1("recharts"),"-clip"),$.throttleTriggeredAfterMouseMove=lre($.triggeredAfterMouseMove,(O=_.throttleDelay)!==null&&O!==void 0?O:1e3/60),$.state={},$}return YZe(S,w),HZe(S,[{key:"componentDidMount",value:function(){var x,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,O=x.children,$=x.data,T=x.height,j=x.layout,I=zi(O,gs);if(I){var k=I.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,N=ON(this.state,$,k,M),F=this.state.tooltipTicks[k].coordinate,G=(this.state.offset.top+T)/2,B=j==="horizontal",W=B?{x:F,y:G}:{y:F,x:G},Z=this.state.formattedGraphicalItems.find(function(V){var Q=V.item;return Q.type.name==="Scatter"});Z&&(W=Y(Y({},W),Z.props.points[k].tooltipPosition),N=Z.props.points[k].tooltipPayload);var ee={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:M,activePayload:N,activeCoordinate:W};this.setState(ee),this.renderCursor(I),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var $,T;this.accessibilityManager.setDetails({offset:{left:($=this.props.margin.left)!==null&&$!==void 0?$:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(x){r3([zi(x.children,gs)],[zi(this.props.children,gs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=zi(this.props.children,gs);if(x&&typeof x.props.shared=="boolean"){var O=x.props.shared?"axis":"item";return a.indexOf(O)>=0?O:s}return s}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var O=this.container,$=O.getBoundingClientRect(),T=x8e($),j={chartX:Math.round(x.pageX-T.left),chartY:Math.round(x.pageY-T.top)},I=$.width/O.offsetWidth||1,k=this.inRange(j.chartX,j.chartY,I);if(!k)return null;var M=this.state,N=M.xAxisMap,F=M.yAxisMap,G=this.getTooltipEventType(),B=XV(this.state,this.props.data,this.props.layout,k);if(G!=="axis"&&N&&F){var W=Bu(N).scale,Z=Bu(F).scale,ee=W&&W.invert?W.invert(j.chartX):null,V=Z&&Z.invert?Z.invert(j.chartY):null;return Y(Y({},j),{},{xValue:ee,yValue:V},B)}return B?Y(Y({},j),B):null}},{key:"inRange",value:function(x,O){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,j=x/$,I=O/$;if(T==="horizontal"||T==="vertical"){var k=this.state.offset,M=j>=k.left&&j<=k.left+k.width&&I>=k.top&&I<=k.top+k.height;return M?{x:j,y:I}:null}var N=this.state,F=N.angleAxisMap,G=N.radiusAxisMap;if(F&&G){var B=Bu(F);return bB({x:j,y:I},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,O=this.getTooltipEventType(),$=zi(x,gs),T={};$&&O==="axis"&&($.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=Y_(this.props,this.handleOuterEvent);return Y(Y({},j),T)}},{key:"addListener",value:function(){_j.on($j,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){_j.removeListener($j,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,O,$){for(var T=this.state.formattedGraphicalItems,j=0,I=T.length;j<I;j++){var k=T[j];if(k.item===x||k.props.key===x.key||O===kl(k.item.type)&&$===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,O=this.state.offset,$=O.left,T=O.top,j=O.height,I=O.width;return L.createElement("defs",null,L.createElement("clipPath",{id:x},L.createElement("rect",{x:$,y:T,height:j,width:I})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(O,$){var T=KV($,2),j=T[0],I=T[1];return Y(Y({},O),{},je({},j,I.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(O,$){var T=KV($,2),j=T[0],I=T[1];return Y(Y({},O),{},je({},j,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[x])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(x){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[x])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(x){var O=this.state,$=O.formattedGraphicalItems,T=O.activeItem;if($&&$.length)for(var j=0,I=$.length;j<I;j++){var k=$[j],M=k.props,N=k.item,F=N.type.defaultProps!==void 0?Y(Y({},N.type.defaultProps),N.props):N.props,G=kl(N.type);if(G==="Bar"){var B=(M.data||[]).find(function(V){return rGe(x,V)});if(B)return{graphicalItem:k,payload:B}}else if(G==="RadialBar"){var W=(M.data||[]).find(function(V){return bB(x,V)});if(W)return{graphicalItem:k,payload:W}}else if(eO(k,T)||tO(k,T)||yb(k,T)){var Z=qWe({graphicalItem:k,activeTooltipItem:T,itemData:F.data}),ee=F.activeIndex===void 0?Z:F.activeIndex;return{graphicalItem:Y(Y({},k),{},{childIndex:ee}),payload:yb(k,T)?F.data[Z]:k.props.data[Z]}}}return null}},{key:"render",value:function(){var x=this;if(!o7(this))return null;var O=this.props,$=O.children,T=O.className,j=O.width,I=O.height,k=O.style,M=O.compact,N=O.title,F=O.desc,G=ZV(O,zZe),B=Ie(G,!1);if(M)return L.createElement(jV,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement(i3,Th({},B,{width:j,height:I,title:N,desc:F}),this.renderClipPath(),l7($,this.renderMap)));if(this.props.accessibilityLayer){var W,Z;B.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,B.role=(Z=this.props.role)!==null&&Z!==void 0?Z:"application",B.onKeyDown=function(V){x.accessibilityManager.keyboardEvent(V)},B.onFocus=function(){x.accessibilityManager.focus()}}var ee=this.parseEventsOfWrapper();return L.createElement(jV,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement("div",Th({className:Ve("recharts-wrapper",T),style:Y({position:"relative",cursor:"default",width:j,height:I},k)},ee,{ref:function(Q){x.container=Q}}),L.createElement(i3,Th({},B,{width:j,height:I,title:N,desc:F,style:nYe}),this.renderClipPath(),l7($,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(C.Component);je(g,"displayName",r),je(g,"defaultProps",Y({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),je(g,"getDerivedStateFromProps",function(w,S){var _=w.dataKey,x=w.data,O=w.children,$=w.width,T=w.height,j=w.layout,I=w.stackOffset,k=w.margin,M=S.dataStartIndex,N=S.dataEndIndex;if(S.updateId===void 0){var F=eq(w);return Y(Y(Y({},F),{},{updateId:0},m(Y(Y({props:w},F),{},{updateId:0}),S)),{},{prevDataKey:_,prevData:x,prevWidth:$,prevHeight:T,prevLayout:j,prevStackOffset:I,prevMargin:k,prevChildren:O})}if(_!==S.prevDataKey||x!==S.prevData||$!==S.prevWidth||T!==S.prevHeight||j!==S.prevLayout||I!==S.prevStackOffset||!Hh(k,S.prevMargin)){var G=eq(w),B={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},W=Y(Y({},XV(S,x,j)),{},{updateId:S.updateId+1}),Z=Y(Y(Y({},G),B),W);return Y(Y(Y({},Z),m(Y({props:w},Z),S)),{},{prevDataKey:_,prevData:x,prevWidth:$,prevHeight:T,prevLayout:j,prevStackOffset:I,prevMargin:k,prevChildren:O})}if(!r3(O,S.prevChildren)){var ee,V,Q,se,fe=zi(O,My),le=fe&&(ee=(V=fe.props)===null||V===void 0?void 0:V.startIndex)!==null&&ee!==void 0?ee:M,Oe=fe&&(Q=(se=fe.props)===null||se===void 0?void 0:se.endIndex)!==null&&Q!==void 0?Q:N,Ze=le!==M||Oe!==N,Tt=!Ge(x),Gt=Tt&&!Ze?S.updateId:S.updateId+1;return Y(Y({updateId:Gt},m(Y(Y({props:w},S),{},{updateId:Gt,dataStartIndex:le,dataEndIndex:Oe}),S)),{},{prevChildren:O,dataStartIndex:le,dataEndIndex:Oe})}return null}),je(g,"renderActiveDot",function(w,S,_){var x;return C.isValidElement(w)?x=C.cloneElement(w,S):Ne(w)?x=w(S):x=L.createElement(TD,S),L.createElement(yt,{className:"recharts-active-dot",key:_},x)});var b=C.forwardRef(function(S,_){return L.createElement(g,Th({},S,{ref:_}))});return b.displayName=g.displayName,b},fYe=kie({chartName:"BarChart",GraphicalChild:Wp,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:aO},{axisType:"yAxis",AxisComp:lO}],formatAxisMap:SJe}),rq=kie({chartName:"PieChart",GraphicalChild:ja,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:XT},{axisType:"radiusAxis",AxisComp:YT}],formatAxisMap:gBe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const rx=["#f97316","#22c55e","#3b82f6","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f59e0b"];function hYe({stats:e}){const t=Object.entries(e.concessionsByRegion).map(([i,s])=>({region:i,count:s})),r=Object.entries(e.concessionsByType).map(([i,s])=>({type:i.replace("-"," "),count:s})),n=[{name:"Active",value:e.activePermits},{name:"Expired",value:e.expiredPermits},{name:"Soon to Expire",value:e.soonToExpire}];return v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Concessions by Region"}),v.jsx(aj,{width:"100%",height:300,children:v.jsxs(fYe,{data:t,children:[v.jsx(gie,{strokeDasharray:"3 3"}),v.jsx(aO,{dataKey:"region",angle:-45,textAnchor:"end",height:80,fontSize:12}),v.jsx(lO,{}),v.jsx(gs,{}),v.jsx(Wp,{dataKey:"count",fill:"#f97316"})]})})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Permit Status Distribution"}),v.jsx(aj,{width:"100%",height:300,children:v.jsxs(rq,{children:[v.jsx(ja,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:({name:i,percent:s})=>`${i} ${(s*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:n.map((i,s)=>v.jsx(Gv,{fill:rx[s%rx.length]},`cell-${s}`))}),v.jsx(gs,{})]})})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Concessions by Type"}),v.jsx(aj,{width:"100%",height:300,children:v.jsxs(rq,{children:[v.jsx(ja,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({type:i,percent:s})=>`${i} ${(s*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:r.map((i,s)=>v.jsx(Gv,{fill:rx[(s+3)%rx.length]},`cell-${s}`))}),v.jsx(gs,{}),v.jsx(ip,{})]})})]})]})}function yYe({stats:e}){const t=[{title:"Total Concessions",value:e.totalConcessions,icon:r_,color:"text-blue-600 bg-blue-100",trend:"+12%"},{title:"Active Permits",value:e.activePermits,icon:S$,color:"text-green-600 bg-green-100",trend:"+8%"},{title:"Expired Permits",value:e.expiredPermits,icon:EM,color:"text-red-600 bg-red-100",trend:"-3%"},{title:"Soon to Expire",value:e.soonToExpire,icon:gv,color:"text-yellow-600 bg-yellow-100",trend:"+15%"}];return v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((r,n)=>{const i=r.icon;return v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-600",children:r.title}),v.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:r.value.toLocaleString()})]}),v.jsx("div",{className:`p-3 rounded-full ${r.color}`,children:v.jsx(i,{className:"h-6 w-6"})})]}),v.jsxs("div",{className:"mt-4",children:[v.jsx("span",{className:"text-sm text-gray-500",children:"vs last month: "}),v.jsx("span",{className:"text-sm font-medium text-green-600",children:r.trend})]})]},n)})})}function mYe(){const[e,t]=C.useState({totalConcessions:0,activePermits:0,expiredPermits:0,soonToExpire:0,totalAreaCovered:0,concessionsByRegion:{},concessionsByType:{}}),[r,n]=C.useState(!0);return C.useEffect(()=>{(async()=>{try{n(!0),console.log(" Loading real mining concessions data for analytics..."),await To.initialize();const s=await To.getDashboardStats();console.log(" Loaded real analytics data from EPA ArcGIS:",s),t(s)}catch(s){console.error(" Error loading analytics data:",s),t({totalConcessions:0,activePermits:0,expiredPermits:0,soonToExpire:0,totalAreaCovered:0,concessionsByRegion:{},concessionsByType:{}})}finally{n(!1)}})()},[]),r?v.jsx("div",{className:"flex items-center justify-center min-h-96",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-epa-orange-500 mx-auto mb-4"}),v.jsx("p",{className:"text-gray-600",children:"Loading real mining concessions analytics from EPA ArcGIS..."})]})}):v.jsxs("div",{className:"space-y-6",children:[v.jsx("div",{className:"flex items-center justify-between",children:v.jsxs("div",{children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics & Insights"}),v.jsx("p",{className:"text-gray-600",children:"Comprehensive analysis of mining concession data"})]})}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[v.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"p-2 bg-epa-blue-100 rounded-lg",children:v.jsx(nde,{className:"h-6 w-6 text-epa-blue-600"})}),v.jsxs("div",{className:"ml-4",children:[v.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Area"}),v.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[e.totalAreaCovered.toLocaleString()," ha"]})]})]})}),v.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"p-2 bg-epa-green-100 rounded-lg",children:v.jsx(S$,{className:"h-6 w-6 text-epa-green-600"})}),v.jsxs("div",{className:"ml-4",children:[v.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Rate"}),v.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[Math.round(e.activePermits/e.totalConcessions*100),"%"]})]})]})}),v.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"p-2 bg-epa-orange-100 rounded-lg",children:v.jsx(tH,{className:"h-6 w-6 text-epa-orange-600"})}),v.jsxs("div",{className:"ml-4",children:[v.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Regions"}),v.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Object.keys(e.concessionsByRegion).length})]})]})}),v.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:v.jsx(rde,{className:"h-6 w-6 text-red-600"})}),v.jsxs("div",{className:"ml-4",children:[v.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Expiring Soon"}),v.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.soonToExpire})]})]})})]}),v.jsx(yYe,{stats:e}),v.jsx(hYe,{stats:e}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Permit Status Summary"}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"text-gray-600",children:"Active Permits"}),v.jsx("span",{className:"font-semibold text-epa-green-600",children:e.activePermits})]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"text-gray-600",children:"Expired Permits"}),v.jsx("span",{className:"font-semibold text-red-600",children:e.expiredPermits})]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"text-gray-600",children:"Soon to Expire"}),v.jsx("span",{className:"font-semibold text-epa-orange-600",children:e.soonToExpire})]})]})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Regional Distribution"}),v.jsx("div",{className:"space-y-3",children:Object.entries(e.concessionsByRegion).map(([i,s])=>v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"text-gray-600",children:i}),v.jsx("span",{className:"font-semibold text-gray-900",children:s})]},i))})]})]})]})}function gYe(){const[e,t]=C.useState(""),[r,n]=C.useState({start:"",end:""}),[i,s]=C.useState([]),[o,a]=C.useState(null),[l,c]=C.useState(!0),[d,p]=C.useState(!1);C.useEffect(()=>{(async()=>{try{c(!0),console.log(" Loading real mining concessions data for reports..."),await To.initialize();const[x,O]=await Promise.all([To.getMiningConcessions(),To.getDashboardStats()]);s(x),a(O),console.log(" Loaded real data for reports:",x.length,"concessions")}catch(x){console.error(" Failed to load data for reports:",x)}finally{c(!1)}})()},[]);const y=[{id:"compliance",title:"Compliance Report",description:"Environmental compliance status of all mining operations",icon:yi},{id:"permits",title:"Permit Status Report",description:"Current status of all mining permits and licenses",icon:yi},{id:"regional",title:"Regional Analysis",description:"Mining activity breakdown by administrative regions",icon:yi},{id:"expiry",title:"Permit Expiry Report",description:"Permits expiring within specified timeframe",icon:yi},{id:"revenue",title:"Revenue Analysis",description:"Revenue generation and fee collection analysis",icon:yi},{id:"environmental",title:"Environmental Impact",description:"Environmental monitoring and impact assessment data",icon:yi}],m=async()=>{if(!e){alert("Please select a report type");return}if(!o||i.length===0){alert("Data is still loading. Please wait and try again.");return}p(!0);try{const _=y.find(I=>I.id===e)?.title||"Report";console.log(` Generating ${_} with real EPA data...`);let x="",O="";switch(e){case"compliance":x=g(i),O="compliance_report.csv";break;case"permits":x=b(i),O="permit_status_report.csv";break;case"regional":x=w(i,o),O="regional_analysis_report.csv";break;case"expiry":x=S(i),O="permit_expiry_report.csv";break;default:x=To.exportToCSV(i),O="mining_concessions_report.csv"}const $=new Blob([x],{type:"text/csv"}),T=URL.createObjectURL($),j=document.createElement("a");j.href=T,j.download=O,j.click(),URL.revokeObjectURL(T),console.log(` Generated and downloaded ${_}`)}catch(_){console.error(" Failed to generate report:",_),alert("Failed to generate report. Please try again.")}finally{p(!1)}},g=_=>{const x=["Concession ID","Name","Owner","Status","Region","Compliance Status","Last Updated"],O=_.map($=>[$.id,$.name,$.owner,$.status,$.region,$.status==="active"?"Compliant":"Non-Compliant",new Date().toLocaleDateString()]);return[x.join(","),...O.map($=>$.join(","))].join(`
`)},b=_=>{const x=["Concession ID","Name","Permit Type","Status","Expiry Date","Days Until Expiry"],O=_.map($=>{const T=new Date($.permitExpiryDate),j=new Date,I=Math.ceil((T.getTime()-j.getTime())/(1e3*60*60*24));return[$.id,$.name,$.permitType,$.status,$.permitExpiryDate,I.toString()]});return[x.join(","),...O.map($=>$.join(","))].join(`
`)},w=(_,x)=>{const O=["Region","Total Concessions","Active Permits","Total Area (hectares)"],$=Object.entries(x.concessionsByRegion).map(([T,j])=>{const I=_.filter(N=>N.region===T),k=I.filter(N=>N.status==="active").length,M=I.reduce((N,F)=>N+F.size,0);return[T,j.toString(),k.toString(),M.toFixed(2)]});return[O.join(","),...$.map(T=>T.join(","))].join(`
`)},S=_=>{const x=["Concession ID","Name","Owner","Expiry Date","Days Until Expiry","Priority"],O=new Date,$=_.map(T=>{const j=new Date(T.permitExpiryDate),I=Math.ceil((j.getTime()-O.getTime())/(1e3*60*60*24));let k="Low";return I<30?k="Critical":I<90?k="High":I<180&&(k="Medium"),[T.id,T.name,T.owner,T.permitExpiryDate,I.toString(),k]}).sort((T,j)=>parseInt(T[4])-parseInt(j[4]));return[x.join(","),...$.map(T=>T.join(","))].join(`
`)};return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports & Documentation"}),v.jsx("p",{className:"text-gray-600",children:"Generate comprehensive reports for mining concession data"})]}),o&&v.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[v.jsxs("span",{children:[" ",o.totalConcessions," Total Concessions"]}),v.jsxs("span",{children:[" ",o.activePermits," Active"]})]})]}),l?v.jsxs("div",{className:"flex items-center justify-center py-12",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-epa-orange-500"}),v.jsx("span",{className:"ml-3 text-gray-600",children:"Loading real mining data for reports..."})]}):v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[v.jsx("div",{className:"lg:col-span-2",children:v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[v.jsxs("div",{className:"p-4 border-b border-gray-200",children:[v.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Available Reports"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Select a report type to generate"})]}),v.jsx("div",{className:"p-6",children:v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:y.map(_=>{const x=_.icon;return v.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${e===_.id?"border-epa-orange-500 bg-epa-orange-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>t(_.id),children:v.jsxs("div",{className:"flex items-start space-x-3",children:[v.jsx(x,{className:"h-6 w-6 text-epa-orange-600 flex-shrink-0 mt-1"}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-sm font-medium text-gray-900",children:_.title}),v.jsx("p",{className:"text-xs text-gray-600 mt-1",children:_.description})]})]})},_.id)})})})]})}),v.jsx("div",{className:"lg:col-span-1",children:v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[v.jsx("div",{className:"p-4 border-b border-gray-200",children:v.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Report Configuration"})}),v.jsxs("div",{className:"p-6 space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("input",{type:"date",placeholder:"Start Date",value:r.start,onChange:_=>n(x=>({...x,start:_.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-epa-orange-500 focus:border-epa-orange-500"}),v.jsx("input",{type:"date",placeholder:"End Date",value:r.end,onChange:_=>n(x=>({...x,end:_.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-epa-orange-500 focus:border-epa-orange-500"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Export Format"}),v.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-epa-orange-500 focus:border-epa-orange-500",children:[v.jsx("option",{value:"pdf",children:"PDF Document"}),v.jsx("option",{value:"excel",children:"Excel Spreadsheet"}),v.jsx("option",{value:"csv",children:"CSV File"}),v.jsx("option",{value:"word",children:"Word Document"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Include"}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("label",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-epa-orange-600 focus:ring-epa-orange-500",defaultChecked:!0}),v.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Summary Statistics"})]}),v.jsxs("label",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-epa-orange-600 focus:ring-epa-orange-500",defaultChecked:!0}),v.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Charts & Graphs"})]}),v.jsxs("label",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-epa-orange-600 focus:ring-epa-orange-500"}),v.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Raw Data Tables"})]}),v.jsxs("label",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-epa-orange-600 focus:ring-epa-orange-500"}),v.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Map Images"})]})]})]}),v.jsx("button",{onClick:m,disabled:d||!o,className:`w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-md focus:ring-2 focus:ring-epa-orange-500 focus:ring-offset-2 ${d||!o?"bg-gray-400 cursor-not-allowed":"bg-epa-orange-600 hover:bg-epa-orange-700"} text-white`,children:d?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),v.jsx("span",{children:"Generating..."})]}):v.jsxs(v.Fragment,{children:[v.jsx(x$,{className:"h-4 w-4"}),v.jsx("span",{children:"Generate Report"})]})})]})]})})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[v.jsxs("div",{className:"p-4 border-b border-gray-200",children:[v.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Available Report Types"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Quick access to generate reports with current EPA data"})]}),v.jsx("div",{className:"p-6",children:o?v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx("div",{className:"p-4 border border-gray-200 rounded-lg",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx(t_,{className:"h-8 w-8 text-epa-orange-600"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Compliance Dashboard"}),v.jsxs("p",{className:"text-xs text-gray-600",children:[o.activePermits," active permits, ",o.expiredPermits," expired"]})]})]}),v.jsx("button",{onClick:()=>{t("compliance"),m()},className:"text-xs px-3 py-1 bg-epa-orange-600 text-white rounded hover:bg-epa-orange-700",children:"Generate"})]})}),v.jsx("div",{className:"p-4 border border-gray-200 rounded-lg",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx(yi,{className:"h-8 w-8 text-epa-orange-600"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Regional Analysis"}),v.jsxs("p",{className:"text-xs text-gray-600",children:[Object.keys(o.concessionsByRegion).length," regions covered"]})]})]}),v.jsx("button",{onClick:()=>{t("regional"),m()},className:"text-xs px-3 py-1 bg-epa-orange-600 text-white rounded hover:bg-epa-orange-700",children:"Generate"})]})}),v.jsx("div",{className:"p-4 border border-gray-200 rounded-lg",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx(yi,{className:"h-8 w-8 text-epa-orange-600"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Permit Status Report"}),v.jsxs("p",{className:"text-xs text-gray-600",children:[o.totalConcessions," total concessions"]})]})]}),v.jsx("button",{onClick:()=>{t("permits"),m()},className:"text-xs px-3 py-1 bg-epa-orange-600 text-white rounded hover:bg-epa-orange-700",children:"Generate"})]})}),v.jsx("div",{className:"p-4 border border-gray-200 rounded-lg",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx(yi,{className:"h-8 w-8 text-epa-orange-600"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Expiry Report"}),v.jsxs("p",{className:"text-xs text-gray-600",children:[o.soonToExpire," permits expiring soon"]})]})]}),v.jsx("button",{onClick:()=>{t("expiry"),m()},className:"text-xs px-3 py-1 bg-epa-orange-600 text-white rounded hover:bg-epa-orange-700",children:"Generate"})]})})]}):v.jsxs("div",{className:"text-center py-8",children:[v.jsx(yi,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),v.jsx("p",{className:"text-gray-500",children:"Reports will be available once data is loaded"})]})})]})]})}function vYe(){const{user:e,loading:t}=w$();return t?v.jsx("div",{className:"min-h-screen flex items-center justify-center",children:v.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-epa-orange-600"})}):e?v.jsxs("div",{className:"min-h-screen bg-gray-100",children:[v.jsx(gde,{}),v.jsxs("div",{className:"flex",children:[v.jsx(bde,{}),v.jsx("main",{className:"flex-1 p-6",children:v.jsxs(Cle,{children:[v.jsx(uu,{path:"/",element:v.jsx(_5,{})}),v.jsx(uu,{path:"/map-view",element:v.jsx(_5,{})}),v.jsx(uu,{path:"/concessions",element:v.jsx(iIe,{})}),v.jsx(uu,{path:"/filters",element:v.jsx(sIe,{})}),v.jsx(uu,{path:"/analytics",element:v.jsx(mYe,{})}),v.jsx(uu,{path:"/reports",element:v.jsx(gYe,{})}),v.jsx(uu,{path:"*",element:v.jsx(Ple,{to:"/",replace:!0})})]})})]})]}):v.jsx(mde,{})}Oj.createRoot(document.getElementById("root")).render(v.jsx(Rle,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:v.jsx(Qce,{children:v.jsx(vYe,{})})}));export{kXe as $,Ul as A,Det as B,te as C,PXe as D,qet as E,Let as F,VR as G,nt as H,Fwe as I,gAe as J,mit as K,t1 as L,qe as M,In as N,ms as O,hr as P,Ave as Q,d1 as R,cQe as S,Un as T,qM as U,hp as V,LH as W,yit as X,hi as Y,X as Z,ae as _,A as a,tje as a$,fa as a0,$e as a1,IXe as a2,BR as a3,NXe as a4,CXe as a5,ca as a6,Ke as a7,Dwe as a8,Pe as a9,$Te as aA,TTe as aB,OTe as aC,D as aD,um as aE,zp as aF,DY as aG,Ert as aH,gc as aI,Yge as aJ,Kge as aK,iy as aL,Te as aM,cnt as aN,att as aO,o1 as aP,wp as aQ,Ta as aR,MEe as aS,LEe as aT,DEe as aU,qEe as aV,KEe as aW,ZEe as aX,Cee as aY,Nee as aZ,JEe as a_,xi as aa,GM as ab,Rh as ac,q as ad,mOe as ae,j2e as af,Ort as ag,pt as ah,o_ as ai,lH as aj,kpe as ak,or as al,ce as am,WXe as an,fnt as ao,xe as ap,_Oe as aq,fT as ar,Ei as as,Xbe as at,Tc as au,Rx as av,lXe as aw,XYe as ax,_r as ay,zl as az,I8 as b,Mde as b$,rje as b0,cm as b1,Pg as b2,lQ as b3,uQ as b4,aQ as b5,wtt as b6,G6 as b7,Dtt as b8,ret as b9,sn as bA,Ywe as bB,aAe as bC,CI as bD,Lp as bE,TSe as bF,OXe as bG,TXe as bH,bXe as bI,$R as bJ,_Se as bK,xXe as bL,ySe as bM,Op as bN,$Xe as bO,_Xe as bP,Sc as bQ,SXe as bR,hSe as bS,stt as bT,ott as bU,Is as bV,qYe as bW,dQe as bX,j$ as bY,Me as bZ,LYe as b_,Epe as ba,C$ as bb,Lde as bc,Se as bd,wXe as be,ye as bf,br as bg,dm as bh,to as bi,_$e as bj,N5 as bk,Ls as bl,u8 as bm,Ao as bn,yp as bo,GH as bp,gr as bq,gJ as br,rm as bs,sR as bt,Ae as bu,Dde as bv,uEe as bw,Qge as bx,Lpe as by,QYe as bz,cS as c,ba as c$,yye as c0,xx as c1,Xnt as c2,u1e as c3,eit as c4,O6 as c5,I$ as c6,m1 as c7,L$ as c8,Ltt as c9,itt as cA,sye as cB,tT as cC,Gxe as cD,AQ as cE,mSe as cF,utt as cG,IQ as cH,ltt as cI,ha as cJ,zXe as cK,XJ as cL,cye as cM,QJ as cN,vv as cO,oQ as cP,met as cQ,Vve as cR,xs as cS,HO as cT,hK as cU,_c as cV,pbe as cW,Axe as cX,Ro as cY,vQe as cZ,kH as c_,p1 as ca,het as cb,mJ as cc,CA as cd,NYe as ce,oH as cf,LXe as cg,fH as ch,gye as ci,dR as cj,pR as ck,vye as cl,F$ as cm,U$ as cn,f1 as co,Av as cp,RXe as cq,ft as cr,a6 as cs,Vge as ct,J$ as cu,vr as cv,aK as cw,W_ as cx,WR as cy,nSe as cz,re as d,Qet as d$,UM as d0,bQe as d1,FR as d2,DR as d3,Zr as d4,Nwe as d5,pQe as d6,VH as d7,ntt as d8,JR as d9,mp as dA,Oi as dB,ut as dC,ge as dD,oet as dE,Jbe as dF,yet as dG,iet as dH,h1 as dI,jv as dJ,h6 as dK,Jde as dL,Ja as dM,bv as dN,D$ as dO,ht as dP,Rr as dQ,unt as dR,_8 as dS,yF as dT,On as dU,bEe as dV,ke as dW,vQ as dX,Tnt as dY,Xet as dZ,y1 as d_,s$e as da,Jje as db,Rje as dc,zje as dd,Kje as de,rT as df,z$e as dg,D$e as dh,L$e as di,sr as dj,yr as dk,qn as dl,Fr as dm,Vi as dn,Wt as dp,N2e as dq,o$e as dr,C2e as ds,Dp as dt,fve as du,Cve as dv,F$e as dw,Re as dx,wv as dy,$l as dz,M$ as e,UXe as e$,An as e0,O2e as e1,Ol as e2,Ent as e3,wS as e4,Yet as e5,Ant as e6,b0 as e7,ett as e8,_x as e9,Be as eA,GTe as eB,ype as eC,WTe as eD,ent as eE,Jrt as eF,sX as eG,Lg as eH,ml as eI,rnt as eJ,tnt as eK,Jnt as eL,Znt as eM,Knt as eN,Wnt as eO,knt as eP,Rnt as eQ,Dnt as eR,Tee as eS,BXe as eT,pXe as eU,mF as eV,sK as eW,oK as eX,FY as eY,zY as eZ,_1e as e_,pve as ea,uXe as eb,kc as ec,oXe as ed,PYe as ee,kYe as ef,aXe as eg,Ctt as eh,ztt as ei,IQe as ej,tp as ek,qge as el,ope as em,XI as en,hQe as eo,K$ as ep,EAe as eq,pfe as er,D1e as es,gbe as et,vbe as eu,bbe as ev,hbe as ew,F1e as ex,UY as ey,X1e as ez,be as f,Wet as f$,fye as f0,Nc as f1,Obe as f2,U as f3,j1e as f4,Tbe as f5,eT as f6,DYe as f7,p_ as f8,$L as f9,eAe as fA,Ewe as fB,Twe as fC,Fu as fD,bwe as fE,NI as fF,ya as fG,ri as fH,Wge as fI,kY as fJ,Ar as fK,I6 as fL,aa as fM,mpe as fN,_a as fO,jo as fP,Fv as fQ,gL as fR,A$ as fS,V$e as fT,B$e as fU,U$e as fV,jt as fW,Int as fX,$ye as fY,kye as fZ,fK as f_,gQe as fa,P$ as fb,gp as fc,zR as fd,Uje as fe,m$e as ff,Nje as fg,E$e as fh,Qje as fi,Xje as fj,L6 as fk,_Q as fl,lAe as fm,xOe as fn,q$e as fo,k_ as fp,dT as fq,At as fr,zU as fs,lC as ft,cT as fu,pm as fv,b1 as fw,Sje as fx,R$e as fy,ua as fz,Xwe as g,PTe as g$,rxe as g0,O_ as g1,Ffe as g2,Fl as g3,AXe as g4,E as g5,dh as g6,WI as g7,TY as g8,CYe as g9,Vnt as gA,Fnt as gB,Ytt as gC,Wi as gD,eXe as gE,mbe as gF,KP as gG,vet as gH,Ptt as gI,Ftt as gJ,GYe as gK,Fhe as gL,ly as gM,UJ as gN,Ux as gO,Srt as gP,xrt as gQ,im as gR,Hi as gS,St as gT,dr as gU,As as gV,Bn as gW,uOe as gX,fOe as gY,M$e as gZ,xt as g_,vx as ga,ZXe as gb,w9 as gc,x9 as gd,fr as ge,ro as gf,Dpe as gg,HM as gh,Upe as gi,zpe as gj,Rd as gk,rQe as gl,r2e as gm,Zn as gn,VOe as go,b$e as gp,QTe as gq,QX as gr,lOe as gs,oAe as gt,$H as gu,IH as gv,Unt as gw,Bnt as gx,znt as gy,qnt as gz,Li as h,kQe as h$,GX as h0,$C as h1,gOe as h2,ZTe as h3,YTe as h4,Ipe as h5,eOe as h6,tOe as h7,pOe as h8,rOe as h9,QEe as hA,hye as hB,_Y as hC,xye as hD,fbe as hE,AM as hF,BYe as hG,IM as hH,VYe as hI,rL as hJ,ktt as hK,Itt as hL,mQ as hM,Ret as hN,see as hO,eR as hP,Lf as hQ,Nr as hR,cit as hS,Bf as hT,Lje as hU,Mi as hV,he as hW,Or as hX,fQe as hY,Khe as hZ,PQe as h_,nOe as ha,iOe as hb,sOe as hc,oOe as hd,aOe as he,Jr as hf,jpe as hg,Iwe as hh,Jn as hi,EY as hj,KYe as hk,tQe as hl,UYe as hm,zYe as hn,FYe as ho,Wl as hp,lpe as hq,lR as hr,uH as hs,cet as ht,net as hu,fet as hv,aQe as hw,po as hx,TOe as hy,ybe as hz,A8 as i,cH as i$,pnt as i0,dnt as i1,XX as i2,tee as i3,FXe as i4,hve as i5,mm as i6,I1e as i7,R_ as i8,He as i9,LQe as iA,Sve as iB,FQe as iC,RQe as iD,aet as iE,NSe as iF,P1e as iG,S1e as iH,$1e as iI,uQe as iJ,Rtt as iK,$Ee as iL,_Ee as iM,z$ as iN,Sx as iO,bet as iP,a1 as iQ,nnt as iR,Up as iS,da as iT,xnt as iU,fEe as iV,VXe as iW,yL as iX,rTe as iY,hR as iZ,iXe as i_,Ms as ia,sXe as ib,O$ as ic,Fpe as id,_o as ie,Ag as ig,dOe as ih,rtt as ii,bOe as ij,lnt as ik,ant as il,iQe as im,lQe as io,pc as ip,Vg as iq,Ev as ir,Yje as is,Pde as it,Art as iu,wH as iv,iye as iw,det as ix,wJ as iy,DQe as iz,OAe as j,U1e as j$,CH as j0,JYe as j1,lK as j2,I5 as j3,JH as j4,yQe as j5,Zt as j6,hnt as j7,i$e as j8,Nn as j9,tY as jA,zH as jB,Get as jC,Rrt as jD,oye as jE,UQ as jF,Ppe as jG,Lrt as jH,mY as jI,Gve as jJ,XXe as jK,rme as jL,ume as jM,gK as jN,fXe as jO,yJ as jP,ZM as jQ,C5 as jR,BQ as jS,jY as jT,Ett as jU,Ott as jV,QSe as jW,ay as jX,Att as jY,jtt as jZ,DM as j_,q_ as ja,AR as jb,of as jc,kde as jd,Txe as je,cl as jf,by as jg,nit as jh,n$e as ji,g$e as jj,v$e as jk,O$e as jl,jje as jm,Fje as jn,Oet as jo,DXe as jp,m1e as jq,WH as jr,sy as js,tm as jt,YYe as ju,FI as jv,E$ as jw,zd as jx,sme as jy,la as jz,Xe as k,nI as k$,L1e as k0,R1e as k1,i_e as k2,MXe as k3,_u as k4,g1e as k5,dve as k6,jet as k7,qQe as k8,ym as k9,BM as kA,VM as kB,hXe as kC,hH as kD,MM as kE,ZYe as kF,_H as kG,eQe as kH,Fye as kI,Dye as kJ,cXe as kK,nJ as kL,ohe as kM,pn as kN,Kr as kO,cje as kP,hje as kQ,uet as kR,dje as kS,Btt as kT,fje as kU,qtt as kV,Utt as kW,Ufe as kX,sQe as kY,pje as kZ,Cc as k_,Rt as ka,Y$e as kb,Q$e as kc,Qe as kd,Pu as ke,Wrt as kf,Grt as kg,ho as kh,bh as ki,bo as kj,d6 as kk,Qtt as kl,Xtt as km,ert as kn,vp as ko,Zu as kp,_nt as kq,$nt as kr,Ont as ks,H_ as kt,ks as ku,gt as kv,NQe as kw,wme as kx,QM as ky,vc as kz,z as l,Krt as l$,Dt as l0,rI as l1,sI as l2,$_ as l3,qH as l4,qpe as l5,oQe as l6,Rde as l7,dH as l8,Ntt as l9,eet as lA,KXe as lB,hI as lC,fU as lD,tet as lE,tU as lF,sU as lG,Gnt as lH,K_ as lI,Hnt as lJ,nQe as lK,S9 as lL,Pnt as lM,ttt as lN,JOe as lO,Lnt as lP,Lo as lQ,xc as lR,Sye as lS,pet as lT,set as lU,UTe as lV,O5 as lW,$rt as lX,f2e as lY,vd as lZ,Zrt as l_,Mtt as la,rwe as lb,twe as lc,q6 as ld,hrt as le,MQe as lf,EEe as lg,JXe as lh,V9 as li,D9 as lj,zve as lk,F9 as ll,YXe as lm,rU as ln,U9 as lo,z9 as lp,get as lq,Mnt as lr,Jve as ls,QXe as lt,W9 as lu,cU as lv,$9 as lw,dU as lx,pU as ly,rbe as lz,f as m,wet as m0,_et as m1,int as m2,pit as m3,WU as n,Mw as o,K as p,ju as q,u as r,Qwe as s,Hk as t,exe as u,ixe as v,Vee as w,_$ as x,MYe as y,ze as z};
